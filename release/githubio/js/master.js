var t,n,a,e,i,o,s,d,l,c,p,m,r,u,_,f,v,h,g,y,b,w,k,A,C,E,M,I,S,x,P,L,T,B,O,G,U,R,N,V,D,J,F,H,q,z,X,j,Y,W,Q,Z,K,$,ee,te,ne,ae,ie,oe,se,de,le,ce,re,ue,_e,fe,me,he,pe,ve,ge,ye,be,we,ke,Ae,Ce,Ee,Me,Ie,Se,xe,Pe,Le,Te,Be,Oe,Ge,Ue,Re,Ne,Ve,De,Je,Fe,He,qe,ze,Xe,je,Ye,We,Qe,Ze,Ke,$e,et,tt,nt,at,it,ot,st,dt,lt,ct,rt,ut,_t,ft,mt,ht,pt,vt,gt,yt,bt,wt,kt,At,Ct,Et,Mt,It,St,xt,Pt,Lt,Tt,Bt,Ot,Gt,Ut,Rt,Nt,Vt,Dt,Jt,Ft,Ht,qt,zt,Xt,jt,Yt,Wt,Qt,Zt,Kt,$t,en,tn,nn,an,on,sn,dn,ln,cn,rn,un,_n,fn,mn,hn,pn,vn,gn,yn,bn,wn,kn,An,Cn,En,Mn,In,Sn,xn,Pn,Ln,Tn,Bn,On,Gn,Un,Rn,Nn,Vn,Dn,Jn,Fn,Hn,qn,zn,Xn,jn,Yn,Wn,Qn,Zn,Kn,$n,ea,ta,na,aa,ia,oa,sa="fglfgl27@gmail.com",da="<br>",la='<i class="icon-circle" style="font-size: 50%; vertical-align: middle; font-weight: bold;"></i>  ',ca='<div class="about_text_title">',ra='<div class="about_text_title" style="text-align: left;">',ua='<div style="text-align: left;">',_a="",fa="",ma="",ha="",pa="",va="",ga="",ya="",ba="",wa="&nbsp;";function ka(){_a=e+" (C)",fa=n+" (D)",ha=a+" (A)",ma=i+" (A)",l+=Zt,c+=Zt,I=ia+oa,pa=ca+e+"</div>"+ca+Ce+"</div>"+da+ua+la+xe+da+la+(Pe+=jt)+da+la+Le+da+la+Te+da+Be+da+la+Oe+da+wa+wa+wa+Ge+da+la+Ue+da+"</div>"+da+(ya=ca+ke+"</div>"+ua+la+nt+da+la+$e+da+la+et+da+"</div>"+ua+la+tt+da+la+at+da+la+it+da+da+ca+Ae+"</div>"+ua+la+ot+da+la+st+da+la+dt+da+la+lt+da+la+ct)+da+da+ca+we+"</div>",va=ca+be+"</div></div>",ga=ua+da+Re+da+(sr?da+'<div style="display: inline-block; color: #FF0000; font-size: 110%; font-weight: bold;">'+Zn+"</div>":"")+"</div>"+da+ca+Ne+"</div>"+sa+da+da+Ve+da+De+da+da+ra+Je+"</div>"+ua+We+da+la+Fe+da+la+He+da+la+qe+da+la+ze+da+la+Xe+da+la+je+da+la+Ye+da+Qe+da+la+Ze+da+la+Ke+da+ca+we+"</div></div>",ba=mt+da+la+ht.replace("link_link",'<div style="display: inline-block; color: #FF0000; font-size: 110%; font-weight: bold;">http://tiny.cc/twitchkeycode</div>')+da+la+pt+da+la+vt+da+la+gt+da+la+yt}function Aa(){Hr=!1,document.getElementById("side_panel").style.width="17%",t="Refresh:",n="Search",a="Settings",e="Controls",i="About",o="Hide",s="The text you entered is empty.",d="The search result is empty.",l="Switch screen",c="Switch user screen",p="Switch: Past Broadcast or Highlight",m="Switch: Period (24h, 7d, 30d, all)",r="Go to ",u="User ",_="Live",f="Games",v="Playing ",h=" for ",g="Watching time ",y="Since ",b="A Game",w="Type your search...",k="Type your authentication key...",A="Type your user name...",C="Press Enter or Select key to, ",E="Channels",M="Channel",ia="Back to previously screen: Back key",oa=" twice",S=" has ended",x="This video is only available to subscribers.",P="Connection failed, unable to load content hit refresh to try again",L="No",T=" for this ",B="Connection failed, unable to load video content exiting...",O=" Past Broadcast",G=" Highlight",U=" Clips",R=" Content",N="Streamed ",V="Duration ",D=" Views",J=" Viewers",F="Click again to exit!",H="Do you wanna to exit Twitch?",q="Exit",z="Close",X="Minimize",j="Cancel",Y="Not Live | ",W=" Channels Live",Q=" Hosts Live",Z=" Games Live",K=" Followed Channels",$=" Add User",ee=" Remove User",te="User doesn't exist",ne=" hosting ",ae=" already set",ie="Make First",oe="First user can fallow (when providing a key) and see live channels feed outside of the user screen<br>",se="Add a Twitch user to display it's Followed Channels content here",de=" (24h)",le=" (7d)",ce=" (30d)",re=" (all)",ue="Jumping",_e=" to ",fe="Jump Canceled",me=" , jump time bigger then duration",he=" Sec",pe=" Min",ve=" Hr",ge="Source",ye="Version: ",be="SmartTV Twitch",we="Press back key to close this.",ke="Player Related:",Ae="Chat Related:",Ce="General Related:",Ee="Update",Me="Current installed version ",Ie=" latest available version ",Se="This are the none players related controls, the player can show it's own controls.",xe="Play a video: Navigate using Directional pad (up/down/left/right), press enter to start playing",Pe="Refresh screen content: ",Le="Exit the application: from side pannel click exit",Te=" Switch screen: Back key then D-Pad left or right",Be="Some screen will change its internal content (channel past broadcast or clips for example) instead of changing to another screen",Oe="Start a search: from side pannel click search",Ge="After writing the search text press key Enter on the virtual keyboard then choose a search option",Ue="About this application: from side pannel click about",Re="This is a SmartTV Twitch client develop by a individual on his free time, for TV's that don't have access to a good official application, released for free to any one that wanna to use it.",Zn="This version of the app is for test in a browser only!",Ne="Developer information:",Ve="This is an open source application licensed under the GNU General Public License v3.0, check it on github",De="github.com/fgl27/SmartTwitchTV",Je="This application uses following dependencies:",Fe="Nightdev KapChat - KapChat captures Twitch chat directly into OBS or XSplit (https://www.nightdev.com/kapchat/)",He="Fontastic - Create your customized icon fonts in seconds (http://app.fontastic.me)",qe="Twemoji - A simple library that provides standard Unicode emoji support across all platforms (https://github.com/twitter/twemoji)",ze="UglifyJS - is a JavaScript parser, minifier, compressor and beautifier toolkit (https://github.com/mishoo/UglifyJS2)",Xe="JS Beautifier - Beautify, unpack or deobfuscate JavaScript and HTML, make JSON/JSONP readable, etc. (https://github.com/beautify-web/js-beautify)",je="HTMLMinifier - A highly configurable, well-tested, JavaScript-based HTML minifier (https://github.com/kangax/html-minifier)",Ye="JSHint - A Static Code Analysis Tool for JavaScript (https://github.com/jshint/jshint)",We="Web:",Qe="Android:",Ze="Google: Leanback v17 (https://developer.android.com/reference/android/support/v17/leanback/package-summary)",Ke="Google: ExoPlayer (https://github.com/google/ExoPlayer)",$e="Show information panel: Press enter key or D-pad keys if chat and live channel feed is not showing",et="Close the video: press back key twice",tt="Play/Pause a video: open information panel and click on pause simbol (not available to Live streams)",nt="Show user live channels feed: D-pad up",at="Change video quality: Open information panel, , navigate using use Directional pad (left/right), then use Directional pad (up/down) to choose the new quality after press Enter key to confirm the change",it="Force refresh a video (in case it freezes): Change video quality to the same",ot="Show or hide the Chat : D-pad right",st="Change Chat position : D-pad left",dt="Change Chat size : D-pad down",lt="Change Chat background brightness: Change in side panel settings",ct="Force refresh the Chat (in case it freezes or doesn't load): Change video quality to the same will reset and sync it",rt='Start a search: open information panel, navigate using use Directional pad (left/right) to "Search" and press enter',ut="Chat and video (Side by side): Color button red (A)",ta="Force disable the chat",na="with this the chat will not load content, this is useful on a stream with too many viewers were the chat can lag the app.",_t="Update available, check google play store",ft="Adding a key allows the app to access live user content faster, fallow/unfallow channels/games and access subscribed only past broadcast (for channel you are Sub to and block VOD access to none subscribers) <br> <br> In doubt read this link  <br> <br> https://github.com/fgl27/SmartTwitchTV#authentication <br> <br> add key for",mt=" below, fallowing this steps:",ht="Access the site link_link (using a computer or a smart phone)",pt='Click on the "Authorize" button it will take you to main Twitch.TV authentication site',vt="Login to Twitch.TV using the user name you are trying to add a key for",gt="Click on Authorize button of Twitch.TV site if you agree with the requested permissions",yt="The web page will update and show a key code, the key only has lower case letters and nubers.",bt=" Add Authentication key",wt="Key added OK",kt="Key test fail, it's needed to add new one",At="Key test return OK",Ct="You try to add a key for user ",Et=" but this key is for user ",Mt=" Following",It=" Follow",St=" And you have not set a authentication key the app can't check yours sub status.",xt=" And you are not a sub of this channel",Pt=" You are a sub of this channel but the app fail to authenticate contact the developer email in about",Lt="Fail authentication check with the provider key, please check and try again",Gn="The added key doesn't belong to the user ",Tt="No user",Bt="Set a user and a authentication key to be able to fallow/unfollow",Ot="Restart the",Gt=" Clip",Ut="Channel content",Rt="Network is disconnect, the application can't work without INTERNET",Nt="Network connection reestablished",Vt=" Followers",Dt=", Can't fallow or unfallow ",Jt="Game content",Ft="Yes",Ht="Are you sure you want to remove the user ",qt="Press Up to ",zt="Followed Games",Xt="Change between",jt=" Back key then Enter",Yt=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"],Wt=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Qt="Started ",Zt=" (PG Up/Down)",Kt="Videos",$t=" Video",en="Replay",tn="exiting in ",nn='press "Return" to exit',an="Featured",on="Created ",sn="Open the Broadcast",dn="No Broadcast",ln="There is no Past Broadcast for this clip",cn="And because of that no chat",rn=" is now",un="Open the Hosting",_n="Player related",fn="Buffer size:",mn="A lower value here will make the player to start playing sooner, but it may cause re-buffer with will cause the player to pause to buffer.",hn="Live streams buffer",pn="Videos (Past Broadcast and Highlight) buffer",vn="Clips buffer",gn="General related",yn="Language",bn="Chat: Connecting to chat server..."+da+"Chat: Connected."+da+"Chat: Joined channel ",wn="Play from the start or from where you stop watching last time?",An=(kn="From:"+da)+"Start",Cn="Chat: The Chat has ended!",En=": Most recent",Mn=": Most views",In="Set a authentication key to be able to see fallowed videos",Sn="Switch: Most recent or views",xn="Enable",Pn="Disable",qn="The app was closed willing playing, restoring playback",Ln="Restore playback",Tn="When changing apps, the app may be closed by the system to free memory. In this case the app saves what it was playing and restores the playback when reopened",Bn="Chat font size",On="Change the chat lines font size, applies to text and emotes",Un="Videos animated thumbnails",Rn="Side panel: Back key twice",Nn="Size ",Vn="Brightness ",Dn="Forbidden content, this Live must be for Prime only subscribers or lock to Twitch official app only",Jn="Jump step ",Fn=" seconds",Hn=" minutes",zn="Clock offset",Xn="Application language",jn="Content language",Yn="Press enter to change",Wn="All",Qn="Empty game fro this",Kn="Isn't possible to jump during a buffering",$n="Chat is disabled, enable in side pannel settings",ea="This clip/video fail to load can't replay",aa="Chat backgroung brightness "}var Ca="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAeEAAAKgCAMAAACbeDVoAAAAM1BMVEU3NTZoZ2eura6enp4+PD1MS0vq6en09PQ0MjPy8vJ9fX1YV1jT09O7u7vf3t+NjY3GxsZnLAeWAAAI3UlEQVR4Ae3d7XabOrcGUPEBWguMzf1f7dltd3u6Q1rHNk5I3jn/NmPYo48lJC1JFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgf0+UoenatpuGEuUdRD8009S806cR/eWU9bs8d0M8/eOmZazfjcvUR3kuYmiz/m6Z46n5dmP9zdjJ+Ln6NusLuQ7labqxvpBdX3iaaayv6cpTxJT1FTlF4Sn6Jeur8vSErjqGP37c0hf2F/Op/tHY7d+Az/WPznMUdhbNWP8iT0M8rb/YGvXUT34Eb2VO8ayf01bmJQo7ikvWq9a+7KStV2UX5X0JuOZOfed8zvoGIn72tGUrs91xDizijx9kbWQ9NVEeMpzq1nOf/Mxjfbts+/KALuuWEfVz9ed6ixzvb8bzueZNHzUXHneut7pvbhzDmvVG2RceFEvWm41dH/dUkW6VeSo8Ji51a/+Mo+/O9S5tFB4xZ73TeMPugG37NaA+4ChrI5emRLkmytxmzXovo61HxFIfktldqwIN3Vgfcyrc7ZL1UTkuTf+Hptw3y5h1490exQxj3cV4Wi7N0JcSP5TSD81lOY1Zsz4ssyncJc51T3k+reuyLOt6OmfdUY594R6Xenz66QcMWT+NptyMONWjOa/rWF917gt3FP0P5dSU+Ec/nfXTu+jHeiCZXfkhonRp3eNx0dYjyUtc6V5OhZs0WQ8k27i2Uy8vhR2KwvPwU31Hm4FUPz5WKia6+rooP9V3tN0529WNXKLwVn0eKuE6lxeaupVD4a26eqyE+/JCX1+hEb/ZkMdKOMvGIytbxFIP1obLS/0jlWLmerSEh/LCUF81Fd5iPVzC09vKXnkuvEGTh0t4jfJfp7px/7KHmtLHJ5xTbE7K3VtjosnjJVzHeXOQ6s5GTJzrARPOcX7bSbksV9DkEROuWf89RBF9d9ugbMtT+BAJ5zLN8zytWX8a10vTXNYx679y/f4nS9bfjIW/mushEs5liJ8HEutPmfV3668/WVIjfqtYDpHw+HvBv71ab4ou6095KvzFkEdI+L9XKcWa1/YERJdWp9+mqx+e8HaBoz9fX71alZjepB/vr9UMzysHT3Wj+fP4IefyNrZ25AclfIrNGdfrC9CnO3bW2p01f0zCXVwd/7Xxlx/n2BfettrxQW14ur61tysvTfX/Xcp1VjuOlHC5MeExypuYKs3l7fqh7uUS19vwJsOLA8XXtXmMNryd7pyuFoxj2f4zL0TWeoix9Nhf61wyh7/u/82+bNHUbz5+LL3ppmO5etYwLvdUmCxJN/FS+SVemutuxuFaQTPHpvwm5nE7peb6BtWPWLXcbsYZ8uqvYDhf3Z1ZmI6TcNZxjmtbErKJ8kM0eX08TqwfmPBWLnOJiL5Zs/4ynk5j/SXX739S5iWvr3wSQx4q4Zp5/nEtU9YfzlMf/xgu5/pDfr/YYz1n3VJ+2Jrqxye8kb9fPR/lu+iXvH1xm1iPk/CVwCLadNvlzYbcM+Fc2hfW+kKu2z/4syVu+jluTxMz1V0Tvj4Xy/6GBZOxv/3Cza6waRX7JRx7Jrx9qEZ74z4C+nHPhHOTcDyW8PaWhxsXxmjy0G24Ly/0N5aZWeqR2/D1Wx6uHCYmxnroNnzXInoWfhny2G346i0PV5a1mPLYbXgqL0w3nZwg1vrMNvx4wpt9PetN+66JrDu34aF/Yd72of1/NPUvsrlr6F/4IYb6Vs0v9V2dh/983/G20zE09e3yu5r1fY3DHS8JuhR+6Orh5TiV76JMY972ChfiXD+DU9cMQ9Odsr7VGIVv+vo55J132jLXr2oufDPVr+pS2J4L//QMtTbW+lWdCt+M9avKvhRiqF/XUEphrl9XU9gczDSY/nLa+nW1UYilfl1rFGKt9UtPlzjXr+tcCv1Yv66xL1sODu8sx7W7TM089P8opfT/GOZmmrr1/PTPHgpzfZpx7aa5j3+UiPJClBIR/Tx161ifZi409Rny1E7Dt1yv+pb/MLWntOTxaRLO8/It3XKDiOib5Qmd9lSY6q5yXOYSJcqt+hJlbsfcO2EudUfZzVEeEXOXdUddoat7ybUpUR4TJUqz5AETlvDYDVH2EUM31n20hbbu4dz1UfYSEf3lvFPCtHu+4mxHfZsS3kO09WFjE2V/0YyHSFgbzqU8y5Ifn7C9tOMU5VliGo2lP3o+fJ6jPNF8so3nY9e01r48U5R+sab1gQnnUp5vyY9KWPUw2yhPF9FmvVc2haHeK7so7yEuWe81FPp8/EXfTxZT1rtk9qVwrnfJKUo5esTnUojT429yf747Iz5FIZYjBrxxyXtfoUh3xEHWRnR555IWzSED3ojORrw7DZ/kwFe0d06WGOuNloPec74xFu4Zap368iGiPxlovcMR8Rz78lH6MVWWbhfz5zkKNIzPPtPiQTw25SM1o8fwkwepl/jgR0rePuSn+UT/adGaDT/xLQB5+kzr6Fn4qf1MR+r7USf9rPct5fClv60KYk6f6vVQ5yj80uRn6vWiS1u0bhTr57qbalX8378Rj0M5jmHUhHcvPzRRDqRRdLhRXGsVXXym41bbHoeYPtkFkaf6N1MUXloP1yTufxSvha1+PPRMeGMa9dG36efxjjP+B6wkZjblVczn+pq2L8fUt/U157lEeQ1Rpk3GYztEOaoY2nGT7+Wv+dK056z/ynPb9FGOLPqXX/h6vgzNpW3b7tIMJcrxRRmaqWvb9sYvTET5JKIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAF/F/wGK2iVvT89ySQAAAABJRU5ErkJggg==",Ea="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAMAAABrrFhUAAAASFBMVEVHcEw1NTXb29swMDB9fX1DQ0NeXl5RUVFtbW3m5ubT09Pg4ODKyso7Ozufn5+9vb2urq62traQkJClpaWJiYmYmJjCwsLq6uo9xg8yAAAAF3RSTlMACeoDbBxBLlX54PHUEZnCrbiFonuQyd/Z9QoAAAhdSURBVHgB7MGBAAAAAICg/akXqQIAAAAAYO7qJdtSEIbC8AKREB4icI57/jOtzm1Ur1ZdFRO/GfxxqzdbTFnJex9+eO9pLWZ5fbgpFFwf7cg2MeNvnGw+2uguUDFvfOaFQt+zZfwT27z3QOU9ezDkvtUy/gvb4+vIvCF+RMYvcRyqj7CGLTNO4ryFVWM9uZZwkdQcqatnXIqrnhusP/VX4+YUvAuL3yxuYze/CH/4FTergmdAPWKC2Enk9mkkTJKGF9fvd8ZEvHth+ZhO0AloQr7gE9BgPIQHPZ5fPhYPsp/ybH/IeFgOT66/QYBGD+UvLkEE+1me6PcVYlQ/Pd90hiDczdx+qhCm0sx+lyBOctPy1x0i7eucfh8hVPRT5s8Qi93t+WWDaFu5t58OCHeQ3Ndf/4cgJCiQwl39Dkp8bslfvlDju1zfbwYUGeby/h2q7BdfoDQo08ql/RXq1CK6f4Kj6N+/jA2YBqWa0f/9F/AvGFBsnO/vUK2f7XdQzp3rDwzlOJzpJwv1Ev2+f424EScb83HkaNOf9u5Ex3EQCQPwjznA+D7sev83XWnVGu1oZ9Jp8pcTNP4eIN2xOaqgCK0oyh6F7CJKunPbU/SDMdYaM/iY9u3sPi4cOERFHpO3ACx+Y30as6g4UCSJgnwEg78y4ciiIKFA7IRucgO+MbjpIwZCa3phW8Lbas76AT81CtmU8LQ0Cdn47gEgpzcXH6X3RgCbxw/5Tagajx+wM/v1F0hZmJb3pUCLRxG/vCktsr75jF0Ke7ypE8wfs2XvWuGZ+TOA/k5laq6fCYYsNF3Ai0J3eV44ftL3hw3dxeFQbLXa//urEtqI7y3vX43SW5dbLh0BHUjcheMgMQncQLMJS28ue9inAY2ZriqfGZrr465rY9NmwCM7v7NxpGv2ingPegbZfEnTXN/fAfTfzXrFH0mgS0LSef0GMEHBJCSrfhYUoCCoTwSOPAJ+7DjolIPANkJFbHXDwcSPgclG3TF6+vAGQGwCk8X/i0KyQM0iJEG/fWmwSUhGxTSoN1Bjer2Z0AnJDkW7kLjKhkD+MKj2ySdUTUIStdKAHap2pYTAfnoUyI8GrU6icVqosqeQBJ0ecEDZISSrSg+QBGVJZYE86O89scRWow+s7MdaQTAoq8bsukHdprBu5zshcVDnFBZHk7AkaLMa/+wmLBHqYkvvrybzWxUfv79mw14LkmygzmR6e3XCMuECi7A4elXUjAvM7Jopyy4K0Q8EuBmhb9mPVNcoLK1nl0UduMAhNIl9OniFPv7/OwvNjgvs5PJp29f3AKjJq+/q6wLUyDXIvzsISiAfjxlrewCO/HnXBELkJjuLVJwLEKaBU8ijqjLbC88J2Cw8zQBt1jTCkw11FpT2ohUhZjYQhSlBXRKmiCBMDuqcMCXyAz2g7hCmRH6gE9RN5Ca7C1PnocsOjTDtOIQqQFkQqgOzUO1QtgvVjEnqGgQW9v97ClUb1feFqHr0UlUfSMLVI0tVfWATroxGauoDvhGuBo2QOShyQtaglZr6wCRkLYStDaqpMBtaYZuhZhS2Fp2wtVExCGDr0AjdBiWr0DXIUk0T8I3QZWThG6tpAJLRC1/nwWd9J3w9JlGwKUXBfBNm0ZBAl0TDjFE05AFkQxYNI1ZRMYJsFBUrnOgIGh2Az6l9cj8odAA+hyBKNoUOwJcQW1Gy1nDPXcTQiRYHktCKktZz6wN0VgZiI1oaAyyipokg8FnU9BYYRU/v8TLfi54FwC6K+sj8/nwjf4Ql3wEbe/VbiIKo6tIn3/ObHqy0srSOess9f+3KZFG2WhSxqyjLBgBm0TZFFIiLaFsKSg6KNA4/5hpRdxRkmoWWSHj9dKlgu6FUe3g8zR+tFChdvz/lEt0R8ZR4NHKJbIqS7XLdGPGtOHZykfn6WyXbxXk84N3cymV2pU3ndhoffGIzJ2/xB9a7uZErBf6BdJFucfG7SxG6c3TBG4sv1vjgxrOTB9p979XW7md+C49ZvtH05zKP6zpuy9Q3zyRVJqy9TiGDE4pzj/hirT+F6Pz6ZBPGRlgctfKkGYPF/xpGodkG/DK4paX/4MkpLzqd17sjqHMqgUJvaBXISzJF8Wx5KuX3TD3cEeUFc8Df2L2TF7W7xZ8M7iTuYNue/vW/xFntmk6bet4G9qp3jWg6pVif8HcWxvWsrbsgJc6EJxiXpUh2Bt8Y9obQAwqDwewsnjOUvKneeTwhboQeUJQRjh7PM2n6aeMyeFI4GRUcidL6H7BhzD+4nNvieaZkrgmv/VDjOuDnhrQ18q1mTgN+KE4lm4K/c5ds9/i0Tg9eVzcdyaOA2dtXixd8V3CJcOlD2Kbcym/a5tzW5C1Khf7Vat6xYKenmB1icm5fj3E81t25FAeL1/j5xZL+oNz89e3ytFR8HOX0+Fg2dT9LBAuGwc1An/5m8l5aizfiw8X+lavgDvXCN33+lO8dhWeydnw+O5zynS6W1WOuqII/y2tYY/e43dTB9+VHmo4Hj82iFj7LI3PRsZzFoB6hK2gAj5tA9qiJK65i941q1e9ljoIp4NHqqENl7FQ6lv+xCSyoTuxK7wPeH7ea2oeBveR0jkOF7FL6i4/pwf2UFXgc2KeSI6oBdRpLBzPfPA6cauGb0sHMPQ6camH30nTWTg8Cp4qbwGlKxo+Aeo3F4eyqf3/g9RPBUXSjmUPNluLDzKG94JeS9bnyfG6vcg58sN+3l93m41C3pTyc9VkvCLi+DzSx7Mj2icpF+a82FT69EZUbmld2NGZxqN3ySjTrc0Ltjq8QuEz0qJ17aUXbonY2SRvwL0vi8E8LB/5txuKX2+12u91ut9vtdrvdbrfb7Xa7/Qf0wSAxhEqDGQAAAABJRU5ErkJggg==",Ma="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAhAAAAEpBAMAAAAwswZCAAAAJ1BMVEU3NTbV1dU2NDXU1NTDwsOrq6t9fX1IR0dwb3DNzc2cm5xbWlqPj4+TNW2cAAAFhElEQVQYGe3AQYud5R0F8MPhzoxSN4d/buoUgcODtIFs+jCmaUqAuQ1RJJuZFAR3mUHE5TBqQFc3iUHcdVpQoZsE0GxjAcFdRPRz9b2ZmbTfoHKf80NERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERExK8VCRj4/pu3+7Wb3z4FTDQSoyGAhrvvSjt9p/ftd45oA8ZobBgPS6UuqaT5kmgwhtOI99Sl0pkLd4hGjIbAZ+ol9dJKV7+wJInRGB9rRypJpZUuzY9gjIaXTkqnuiZVkr4GMZyf9F9dz9XOM2MoBDa6ulZu/vLB+z8v9Fyfw8Q4GoC/qST1K5/DNLce7qg02SOMcTRuaKXePCZt2r57QyVpDsMYhYl9TepLwM1strl5opK0RwzEr0hd/S/HaECzG0x/qkm9ZoyDuKdS3z60TRiECeILqaT7GEf7w4mk+pdJ2IRNE758Q5OvQAxjo0r9wpEJm2ggCAMfdUlzGCOwDdxTL71lGyvGma2FpL4kRkCCXnRp+ylIwAZxhj9Iql0MwSQ2u6Q/22g0YOLcpa7SRWIINmaaPCII04Zxhnws6Q0MoQF+oNL2MWgQ/8v4pKtriSE0cl/Sn2DDvnzjiXGO/r2kuo0REG2rS9q1TWBD20vjDImF1K9iBCY2u6RDkEB7vff5Mc4RB5IuYgQkNiTVkU0AM0nXQRIGYH8o6YqNARgvl3SFhAHMJO3csk2CJje6+jZpY/35u6561Q0EMCup9ASECRgvSb0/bVh/BA4kXaWJyUxV0rUlCJPwliaHILH27MeSdg0YwEwrNT8GSQNcqPSIJtadwX1V7YEwgJl6SerXYRgE96W6DRprz15U6RnRDGBWmpR2bsEkgB8l/RUmBrBQ1aGNlZm6VFLVIzYYOOhVu2DD2iNOJN3BqZnOzWE24KCkfxAjsEq6j1MznSkBBvBA0h8NY92RPJF0B6dmWilJc9hoOJD0d2L9uXEh6RCnZnqudz1qNMGDLu0SxAAWJT3DqZkmXTt1iyQM/yj1XWP9kdyXdBunZpqU6jpgw8C+pD0YA/Bjde3i1EzPzY9IA7AXkh4Zxrpj44Gk3+LUTCvbSxgAiS1NDgli/fE7Sa8CNoGZ1KUnMCYNfklS/dvG2qPxclefG4DJmaR+iyBW3DZK/RpIjGCjtLNzZJjNr6t0HTZWTHyoXnOYWHsENlXSIQnbs9L8CMZzpA+qdLEBxtqzt3ov7ZpoxIa2lyBNrBgLSVdBE2uPwL56vwibxuUbTwgYxoTc7JL2CBLrjjDuSbV9BBiTRtAwJsQnpd6XJIy1Z2AmqT8iCJuwQeLUY0kXYDRiBJuavArAJs4QJF7S5CKG4UXv2n7KCc6ZJn+Q1HeJYTyQVG95ghdMby2kqiXGsdGl/sYRDeMMQX7UJc3RMApvnah33QKIF+zf3ChJX9kYBXFPKm0vDeJMg79QV+/3QYzCeEUrvzu2ca59Kqn0mhuGwYb9Lqm+hHGmbZ5IJe3BxjCIDUldevOoGbaBu4veJc0BG6MgiH2VVHXlczebWw+7ulTaA2yMZENSL/W6+csH7/+86L2rSnOCGIhN/KRJl0qTLqmkemYY4zAml/6pF7omvfQ12TAQT+CPpR1JvdQ1qdL8mMRISNjAZ12lKvWSVOoXljAaBmIQJP2epNK5C3cAYkwPe5WkrpKuLI1RkXff7ZJK2n7nyMawDHz/zdv92s1vn8LEsIyJG2iCjRiXbYBAA0xjWAZhAAZAgxiX2QgbhpuNcRGACcAgIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiLi/+Y/XKfZaw0ONrwAAAAASUVORK5CYII=",Ia="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",Sa=51,xa=52,Pa=179,La=37,Ta=38,Ba=39,Oa=40,Ga=13,Ua=49,Ra=8,Na=13,Va=32,Da=46,Ja=0,Fa=5,Ha=1e4,qa=0,za=!1,Xa=!1,ja=!1,Ya=!1,Wa="",Qa="https://fgl27.github.io/SmartTwitchTV/release/index.min.html",Za="elsu5d09k0xomu7cggx3qg5ybdwu7g",Ka="https://id.twitch.tv/oauth2/token?";function $a(e){Br.Users_Position=Br.Users_AddcodePosition,qa=e,Ci(),Fu(),ii()}function ei(e,t,n,a){var i=new XMLHttpRequest,o=Ka+"grant_type=refresh_token&client_id="+encodeURIComponent(lu)+"&client_secret="+encodeURIComponent(Za)+"&refresh_token="+encodeURIComponent(Hi[e].refresh_token)+"&redirect_uri="+Qa;i.open("POST",o,!0),i.timeout=Ha,i.ontimeout=function(){},i.onreadystatechange=function(){4===i.readyState&&(200===i.status?ni(i.responseText,e,n):-1!==JSON.parse(i.responseText).message.indexOf("Invalid refresh token")?(di(),a&&a()):ti(e,t,n,a))},i.send(null)}function ti(e,t,n,a){++t<5?ei(e,t,n,a):a&&a()}function ni(e,t,n){var a=JSON.parse(e);ai(a.scope)?(Hi[t].access_token=a.access_token,Hi[t].refresh_token=a.refresh_token,co()):di(),n&&n()}function ai(e){return-1!==e.indexOf("user_read")&&-1!==e.indexOf("user_follows_edit")&&-1!==e.indexOf("user_subscriptions")}function ii(){var e=new XMLHttpRequest,t=Ka+"grant_type=authorization_code&client_id="+encodeURIComponent(lu)+"&client_secret="+encodeURIComponent(Za)+"&code="+encodeURIComponent(qa)+"&redirect_uri="+Qa;e.open("POST",t,!0),e.timeout=Ha,e.ontimeout=function(){},e.onreadystatechange=function(){4!==e.readyState||(200===e.status?li(e.responseText):oi())},e.send(null)}function oi(){++Ja<Fa?ii():si()}function si(){Hu(),$u(Lt),window.setTimeout(function(){e_(),Nr=0,v_(),Br.Main_Go=Ar,window.location=Qa},4e3),Hi[Br.Users_Position].access_token=0,Hi[Br.Users_Position].refresh_token=0,co()}function di(){EM=!1,Hu(),$u(Lt),Hi[Br.Users_Position].access_token=0,Hi[Br.Users_Position].refresh_token=0,co(),v_(),window.setTimeout(e_,4e3)}function li(e){var t=JSON.parse(e);Hi[Br.Users_Position].access_token=t.access_token,Hi[Br.Users_Position].refresh_token=t.refresh_token,Ci(),ci()}function ci(){Gf("https://api.twitch.tv/kraken?oauth_token="+Hi[Br.Users_Position].access_token,Ha,0,null,ri,ui)}function ri(e){var t=JSON.parse(e).token;if(t.user_name&&-1!==t.user_name.indexOf(Hi[Br.Users_Position].name)){if(co(),Nr=0,Hu(),za=EM=!1,Br.Main_Go=Ar,v_(),$u(wt),Au)try{Android.clearCookie()}catch(e){}window.setTimeout(function(){window.location=Qa},3e3)}else Hi[Br.Users_Position].access_token=0,Hi[Br.Users_Position].refresh_token=0,za=!1,$u(Gn+Hi[Br.Users_Position].name),window.setTimeout(function(){e_(),Nr=0,v_(),Br.Main_Go=Ar,window.location=Qa},4e3)}function ui(){++Ja<Fa?(Ha+=500,ci()):si()}function _i(){Ci(),Xa=!1,fi()}function fi(){var e="https://api.twitch.tv/kraken/users/"+Hi[Br.Users_Position].id+"/follows/channels/"+Wa,t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=Ha,t.setRequestHeader(cu,lu),t.setRequestHeader(ru,fu),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?mi():404===t.status?hi(t.responseText):pi())},t.send(null)}function mi(){za=!(Xa=!0),Ya?og():Cd()}function hi(e){-1!==(JSON.parse(e).error+"").indexOf("Not Found")?(za=Xa=!1,Ya?og():Cd()):pi()}function pi(){++Ja<Fa?(Ha+=500,fi()):(za=!1,Ya?og():Cd())}function vi(){Ci(),gi()}function gi(){var e=new XMLHttpRequest;e.open("PUT","https://api.twitch.tv/kraken/users/"+Hi[Br.Users_Position].id+"/follows/channels/"+Wa,!0),e.timeout=Ha,e.setRequestHeader(cu,lu),e.setRequestHeader(ru,fu),e.setRequestHeader("Authorization","OAuth "+Hi[Br.Users_Position].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return Xa=!(za=!1),void(Ya?og():Cd());401===e.status||403===e.status?ei(Br.Users_Position,0,vi,null):yi()}},e.send(null)}function yi(){++Ja<Fa&&(Ha+=500,gi())}function bi(){Ci(),wi()}function wi(){var e=new XMLHttpRequest;e.open("DELETE","https://api.twitch.tv/kraken/users/"+Hi[Br.Users_Position].id+"/follows/channels/"+Wa,!0),e.timeout=Ha,e.setRequestHeader(cu,lu),e.setRequestHeader(ru,fu),e.setRequestHeader("Authorization","OAuth "+Hi[Br.Users_Position].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(204===e.status)return za=Xa=!1,void(Ya?og():Cd());401===e.status||403===e.status?ei(Br.Users_Position,0,bi,null):ki()}},e.send(null)}function ki(){++Ja<Fa&&(Ha+=500,wi())}function Ai(){Ci(),ja=!1,Ei()}function Ci(){Ha=1e4,za=!(Ja=0)}function Ei(){var e,t="https://api.twitch.tv/kraken/users/"+Hi[Br.Users_Position].id+"/subscriptions/"+Wa;if(Au){if(!(e=Android.mreadUrl(t,Ha,3,Hi[Br.Users_Position].access_token)))return void Mi();if(200===(e=JSON.parse(e)).status)za=!(ja=!0),vy();else if(422===e.status)za=ja=!1,py();else if(404===e.status){if(-1!==(JSON.parse(e.responseText).error+"").indexOf("Not Found"))return za=ja=!1,void py();Mi()}else 401===e.status||403===e.status?ei(Br.Users_Position,0,Ai,Ii):Mi()}else(e=new XMLHttpRequest).open("GET",t,!0),e.timeout=Ha,e.setRequestHeader(cu,lu),e.setRequestHeader(ru,fu),e.setRequestHeader("Authorization","OAuth "+Hi[Br.Users_Position].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState)if(200===e.status)za=!(ja=!0),vy();else if(422===e.status)za=ja=!1,py();else if(404===e.status){if(-1!==(JSON.parse(e.responseText).error+"").indexOf("Not Found"))return za=ja=!1,void py();Mi()}else 401===e.status||403===e.status?ei(Br.Users_Position,0,Ai,Ii):Mi()},e.send(null)}function Mi(){++Ja<Fa?(Ha+=500,Ei()):Ii()}function Ii(){za=ja=!1,py()}function Si(e){Ci(),xi(e,0)}function xi(t,n){var e="https://api.twitch.tv/kraken?oauth_token="+Hi[t].access_token,a=new XMLHttpRequest;a.open("GET",e,!0),a.timeout=1e4,a.ontimeout=function(){},a.onreadystatechange=function(){if(4===a.readyState){if(200===a.status){var e=JSON.parse(a.responseText);return void(e.token.valid?(ai(e.token.authorization.scopes)||di(),za=!1):(Ci(),ei(t,0,null,null)))}400===a.status?(Ci(),ei(t,0,null,null)):Pi(t,n)}},a.send(null)}function Pi(e,t){++t<Fa&&xi(e,t)}function Li(){Ci(),Ti()}function Ti(){var e=new XMLHttpRequest;e.open("PUT","https://api.twitch.tv/api/users/"+Hi[Br.Users_Position].name+"/follows/games/"+encodeURIComponent(Br.Main_gameSelected)+"?oauth_token="+Hi[Br.Users_Position].access_token,!0),e.timeout=1e4,e.setRequestHeader(cu,lu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return xo=!0,void Jo();401===e.status||403===e.status?ei(Br.Users_Position,0,Li,null):Bi()}},e.send(null)}function Bi(){++Ja<Fa&&(Ha+=500,Ti())}function Oi(){Ci(),Gi()}function Gi(){var e=new XMLHttpRequest;e.open("DELETE","https://api.twitch.tv/api/users/"+Hi[Br.Users_Position].name+"/follows/games/"+encodeURIComponent(Br.Main_gameSelected)+"?oauth_token="+Hi[Br.Users_Position].access_token,!0),e.timeout=1e4,e.setRequestHeader(cu,lu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(204===e.status)return xo=!1,void Jo();401===e.status||403===e.status?ei(Br.Users_Position,0,Oi,null):Ui()}},e.send(null)}function Ui(){++Ja<Fa&&(Ha+=500,Gi())}function Ri(){Ci(),Ni()}function Ni(){var e,t="https://api.twitch.tv/api/users/"+Hi[Br.Users_Position].name+"/follows/games/"+encodeURIComponent(Br.Main_gameSelected);(e=new XMLHttpRequest).open("GET",t,!0),e.timeout=1e4,e.setRequestHeader(cu,lu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState)return 200===e.status?(xo=!0,void Jo()):404===e.status?(xo=!1,void Jo()):void Vi()},e.send(null)}function Vi(){++Ja<Fa?(Ha+=500,Ni()):(xo=!1,Jo())}var Di=0,Ji=5,Fi=3500,Hi=[],qi=null,zi=!1,Xi=!1;function ji(){Br.Main_Go=ur,Ru("top_bar_user","icon_center_focus"),e_(),er.placeholder=A,Gu("add_user_scroll"),Qi()}function Yi(){Ki(!1),document.body.removeEventListener("keydown",Wi),document.body.removeEventListener("keydown",$i),Nu("top_bar_user","icon_center_focus"),Ou("add_user_scroll")}function Wi(e){if(!zi&&!Xi&&Br.Main_Go===ur)switch(e.keyCode){case Ua:a_()?n_():d_()?s_():(0<Hi.length&&Br.Main_Go!==Ar?Br.Main_Go=Br.Main_Before:Br.Main_Go=rr,Yi(),h_());break;case xa:case Sa:case Pa:case Ga:Qi()}}function Qi(){document.body.removeEventListener("keydown",Wi),document.body.addEventListener("keydown",$i,!1),er.placeholder=A,er.focus(),Xi=!0}function Zi(){if(null!==er){var e=er.cloneNode(!0);er.parentNode.replaceChild(e,er),er=document.getElementById("user_input")}}function Ki(e){er.blur(),Zi(),document.body.removeEventListener("keydown",$i),er.placeholder=C+A,e&&document.body.addEventListener("keydown",Wi,!1),Xi=!1}function $i(e){if(!zi&&Br.Main_Go===ur)switch(e.keyCode){case Ua:a_()?n_():d_()?s_():(0<Hi.length&&Br.Main_Go!==Ar?Br.Main_Go=Br.Main_Before:Br.Main_Go=rr,Yi(),h_());break;case Da:er.value="";break;case Na:case Oa:""!==er.value&&null!==er.value?uo(qi=er.value)?(Hu(),$u(u+qi+ae),window.setTimeout(function(){e_(),Qi()},1500)):(Fi=3500,zi=!(Di=0),Ou("add_user_scroll"),Fu(),eo()):Qi();break;case Ra:er.value=er.value.slice(0,-1);break;case Va:er.value+=" "}}function eo(){Gf("https://api.twitch.tv/kraken/users?login="+encodeURIComponent(qi),Fi,2,null,to,no)}function to(e){JSON.parse(e)._total?(er.value="",document.body.removeEventListener("keydown",Wi),so(e)):ao()}function no(){++Di<Ji?(Fi+=500,eo()):ao()}function ao(){qi=null,Hu(),$u(te),window.setTimeout(function(){ji()},1e3),zi=!1}function io(){if(0<(Hi=Lf("AddUser_UsernameArray",[])).length)for(var e=0;e<Hi.length;e++)Hi[e].access_token&&Si(e)}function oo(){return 0<Hi.length}function so(e){qi=JSON.parse(e).users[0],Hi.push({name:qi.name,id:qi._id,access_token:0,refresh_token:0}),co(),EM=!1,Yi(),IM(),zi=!1}function lo(e){var t=Hi.indexOf(Hi[e]);-1<t&&Hi.splice(t,1),0<Hi.length?(EM=!1,IM()):ji(),co()}function co(){xf("AddUser_UsernameArray",JSON.stringify(Hi))}function ro(e){qi=Hi[0],Hi[0]=Hi[e],Hi[e]=qi,EM=!1,IM(),co()}function uo(e){return-1!==Hi.indexOf(e)}function _o(){return 0<Hi.length}var fo=0,mo=0,ho=!1,po=0,vo={},go=[],yo=!1,bo=0,wo=5,ko=3500,Ao=0,Co=0,Eo=!1,Mo=["ag_thumbdiv","ag_img","ag_infodiv","ag_displayname","ag_streamtitle","ag_streamgame","ag_viwers","ag_quality","ag_cell","agempty_","a_games_scroll"],Io=!1,So=!1,xo=!1,Po=!1,Lo=!1;function To(){Br.Main_CenterLablesVectorPos=3,Br.Main_Go=fr,document.body.addEventListener("keydown",Ko,!1),Ru("top_bar_game","icon_center_focus"),Bu("label_side_panel","icon-arrow-circle-left",I),Br.Search_isSearching&&(w_(),Vu("top_bar_user",n+k_(f+" '"+Br.Search_data+"'"))),Vu("top_bar_game",b+k_(_+": "+Br.Main_gameSelected)),Br.Main_OldgameSelected===Br.Main_gameSelected&&Io?(P_(fo),Gu(Mo[10]),Yo(),v_()):Oo()}function Bo(){Io&&-1===fo&&(Zo(),mo=fo=0,Ru(Mo[0]+"0_"+mo,pu)),Bu("label_side_panel","icon-ellipsis",Rn),Vu("top_bar_game",f),document.body.removeEventListener("keydown",Ko),Nu("top_bar_game","icon_center_focus"),Ou(Mo[10])}function Oo(){null===Br.Main_OldgameSelected&&(Br.Main_OldgameSelected=Br.Main_gameSelected),M_("stream_table_a_game"),Ou(Mo[10]),Fu(),e_(),Lo=Io=!1,vo={},wf=!(po=Co=Ao=0),fo=mo=0,ho=So=!(go=[]),Wu(),Go(),Uo()}function Go(){S_(),yo=!0,bo=0,ko=3500}function Uo(){var e=po+Ao;e&&Co-1<e&&(e=Co-Kr,ho=!0);var t="https://api.twitch.tv/kraken/streams?game="+encodeURIComponent(Br.Main_gameSelected)+"&limit="+Kr+"&offset="+e+(""!==qr?"&broadcaster_language="+qr:"");Au&&!po?Rf(t,ko,2,null,No,Ro):Nf(t,ko,2,null,No,Ro,!1)}function Ro(){++bo<wo?(ko+=500,Uo()):(yo=!1,po?(ho=!0,Vo()):(wf=!1,Hu(),$u(P)))}function No(e){var t=JSON.parse(e),n=t.streams.length;Co=parseInt(t._total),n<Kr&&(ho=!0);var a=po;Eo=!(po+=n);var i=n/$r;0<n%$r&&i++;var o,s,d,l,c,r,u=0,_=document.getElementById("stream_table_a_game");if(!Lo){var f;for(Lo=!0,d=document.createElement("tr"),l=0;l<3;l++)f=l?1===l?'<i class="icon-movie stream_channel_fallow_icon"></i>'+wa+U:"":'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+wa+wa+Kt,(Fr=document.createElement("td")).setAttribute("id",Mo[8]+"y_"+l),Fr.className="stream_cell",Fr.innerHTML='<div id="'+Mo[0]+"y_"+l+'" class="stream_thumbnail_fallow_game" ><div id="'+Mo[3]+"y_"+l+'" class="stream_channel_fallow_game">'+f+"</div></div>",d.appendChild(Fr);_.appendChild(d)}for(l=0;l<i;l++){for(s=a/$r+l,d=document.createElement("tr"),o=0;o<$r&&u<n;o++,u++)r=(c=t.streams[u]).channel._id,vo[r]?o--:(vo[r]=1,d.appendChild(R_(s,s+"_"+o,[c.channel.name,r],Mo,[c.preview.template.replace("{width}x{height}",mu),r_(JSON.stringify(c.stream_type))+c.channel.display_name,c.channel.status,c.game,y+jp(c.created_at)+" "+h+l_(c.viewers)+J,c_(c.video_height,c.average_fps,c.channel.broadcaster_language)])));for(;o<$r;o++)ho&&!So&&(So=!0,po=s*$r+o),d.appendChild(B_(Mo[9]+s+"_"+o)),go.push(Mo[9]+s+"_"+o);_.appendChild(d)}Vo()}function Vo(){if(Io){if(I_(Ma),0<go.length&&!ho)return Go(),void zo();Yo(!0),go=[]}else Do(),Eo?($u(L+Z),fo=-1,Qo()):(Io=!0,I_(Ma),Yo(),v_()),Gu(Mo[10]),wf=!1,Hu();yo=!1}function Do(){Po?(xo=!0,Jo()):oo()?Ri():(xo=!1,Jo())}function Jo(){Vu(Mo[3]+"y_2",xo?'<i class="icon-heart" style="color: #00b300; font-size: 100%;"></i>'+wa+wa+Mt:'<i class="icon-heart-o" style="color: #FFFFFF; font-size: 100%; "></i>'+wa+wa+(oo()?It:Tt))}function Fo(){oo()&&Hi[Br.Users_Position].access_token?xo?Oi():Li():($u(Bt),window.setTimeout(function(){Eo&&Br.Main_Go===fr?$u(L+Z):e_()},2e3))}function Ho(){mo?1===mo?(Br.Main_Go=xr,Br.Main_OldgameSelected=Br.Main_gameSelected,qo(),p_()):Fo():(Br.Main_Go=Sr,Br.Main_OldgameSelected=Br.Main_gameSelected,qo(),p_())}function qo(){Io&&-1===fo&&(Zo(),mo=fo=0,Ru(Mo[0]+"0_"+mo,pu)),document.body.removeEventListener("keydown",Ko),Ou(Mo[10])}function zo(){Ku(go.length);var e=po+Ao;e&&Co-1<e&&(e=Co-du,ho=!0),Gf("https://api.twitch.tv/kraken/streams?game="+encodeURIComponent(Br.Main_gameSelected)+"&limit="+du+"&offset="+e+(""!==qr?"&broadcaster_language="+qr:""),ko,2,null,jo,Xo)}function Xo(){++bo<wo?(ko+=500,zo()):(ho=!0,po-=go.length,go=[],Vo())}function jo(e){var t,n,a=JSON.parse(e),i=a.streams.length,o=0,s=0,d=[];for(Co=parseInt(a._total),i<du&&(ho=!0);o<go.length&&s<i;o++,s++)n=(t=a.streams[s]).channel._id,vo[n]?o--:(vo[n]=1,N_(go[o],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",mu),r_(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+jp(t.created_at)+" "+h+l_(t.viewers)+J,c_(t.video_height,t.average_fps,t.channel.broadcaster_language)],Mo),d.push(o));for(o=d.length-1;-1<o;o--)go.splice(d[o],1);Ao+=s,ho&&(po-=go.length,go=[]),Vo()}function Yo(e){fo<0?Qo():(j_(fo,mo,Mo,$r,po,e),po/$r<fo+eu&&!ho&&!yo&&(Go(),Uo()),Ur&&Wo())}function Wo(){-1<fo&&po?nf(fo+"_"+mo,Mo):Zo()}function Qo(){Ru(Mo[0]+"y_"+mo,pu)}function Zo(){Nu(Mo[0]+"y_"+mo,pu)}function Ko(e){var t;if(!wf&&!z_())switch(q_(),e.keyCode){case Ua:d_()?s_():a_()?n_():(Br.Main_OldgameSelected=Br.Main_gameSelected,Wo(),Zo(),Af(Ko));break;case La:if(-1===fo)Zo(),--mo<0&&(mo=2),Qo();else if(fo||mo){if(u_(fo,mo-1,Mo[0]))Wo(),mo--,Yo();else for(t=$r-1;-1<t;t--)if(u_(fo-1,t,Mo[0])){Wo(),fo--,mo=t,Yo();break}}else Wo(),Zo(),fo=-1,mo=2,Qo();break;case Ba:-1===fo?(Zo(),2<++mo?(mo=0,Eo?Qo():(fo=0,Yo())):Qo()):u_(fo,mo+1,Mo[0])?(Wo(),mo++,Yo()):u_(fo+1,0,Mo[0])&&(Wo(),fo++,mo=0,Yo());break;case Ta:if(-1!==fo||Eo)if(fo){for(t=0;t<$r;t++)if(u_(fo-1,mo-t,Mo[0])){Wo(),fo--,mo-=t,Yo();break}}else Wo(),fo=-1,Qo();else fo=0,Zo(),Yo();break;case Oa:if(-1!==fo||Eo){for(t=0;t<$r;t++)if(u_(fo+1,mo-t,Mo[0])){Wo(),fo++,mo-=t,Yo();break}}else fo=0,Zo(),Yo();break;case xa:case Sa:case Pa:case Ga:-1!==fo?Q_(fo+"_"+mo,Mo,Ko):Ho()}}var $o=0,es=0,ts=!1,ns=0,as={},is=[],os=!1,ss=0,ds=5,ls=3500,cs=0,rs=0,us=!1,_s=!1,fs="week",ms=2,hs=!1,ps=["agv_thumbdiv","agv_img","agv_infodiv","agv_title","agv_streamon","agv_duration","agv_viwers","agv_quality","agv_cell","gvempty_","a_games_vod_scroll","agv_game"],vs=!1,gs=!1,ys="";function bs(){Br.Main_CenterLablesVectorPos=3,Br.Main_Go=Sr,Ru("top_bar_game","icon_center_focus"),document.body.addEventListener("keydown",Gs,!1),Bu("label_side_panel","icon-arrow-circle-left",I),ys===Br.Main_gameSelected&&vs?(P_($o),Gu(ps[10]),Us(),Ls(),v_()):ks()}function ws(){vs&&Ts(),document.body.removeEventListener("keydown",Gs),Nu("top_bar_game","icon_center_focus"),Vu("top_bar_game",f),Bu("label_side_panel","icon-ellipsis",Rn),Ou(ps[10])}function ks(){vs&&Ts(),M_("stream_table_a_game_vod"),Ou(ps[10]),Fu(),Us(),ys=Br.Main_gameSelected,e_(),hs=vs=!1,wf=!(_s=!(is=[])),$o=es=ns=rs=cs=0,ts=!(as={}),Wu(),As(),Cs()}function As(){S_(),os=!0,ss=0,ls=3500}function Cs(){var e=ns+cs;e&&rs-1<e&&(e=rs-Kr,ts=!0);var t="https://api.twitch.tv/kraken/videos/top?game="+encodeURIComponent(Br.Main_gameSelected)+"&limit="+Kr+"&broadcast_type="+(gs?"highlight":"archive")+"&sort=views&offset="+e+"&period="+fs+(""!==qr?"&language="+qr:"");Au&&!ns?Rf(t,ls,2,null,Ms,Es):Nf(t,ls,2,null,Ms,Es,!1)}function Es(){++ss<ds?(ls+=500,Cs()):(os=!1,ns?(ts=!0,Is()):(wf=!1,Hu(),$u(P)))}function Ms(e){var t=JSON.parse(e),n=t.vods.length;rs=parseInt(t._total),n<Kr&&(ts=!0);var a=ns;us=!(ns+=n);var i=n/$r;0<n%$r&&i++;var o,s,d,l,c,r=0,u=document.getElementById("stream_table_a_game_vod");if(!hs){var _;for(hs=!0,d=document.createElement("tr"),f=0;f<2;f++)_=f?'<i class="icon-history stream_channel_fallow_icon"></i>'+wa+wa+m:'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+wa+wa+p,(Fr=document.createElement("td")).setAttribute("id",ps[8]+"y_"+f),Fr.className="stream_cell",Fr.innerHTML='<div id="'+ps[0]+"y_"+f+'" class="stream_thumbnail_channel_vod" ><div id="'+ps[3]+"y_"+f+'" class="stream_channel_fallow_game">'+_+"</div></div>",d.appendChild(Fr);u.appendChild(d)}for(var f=0;f<i;f++){for(s=a/$r+f,d=document.createElement("tr"),o=0;o<$r&&r<n;o++,r++)c=(l=t.vods[r])._id,-1!==(l.preview.template+"").indexOf("404_processing")||as[c]?o--:(as[c]=1,d.appendChild(sS(s,s+"_"+o,[c,l.length,l.channel.broadcaster_language,l.game,l.channel.name,l.increment_view_count_url],[l.preview.template.replace("{width}x{height}",mu),l.channel.display_name,N+A_(l.created_at),xS.parse(l.title)+da+Qt+v+l.game,l_(l.views)+D,c_(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.channel.broadcaster_language),V+zp(l.length),l.animated_preview_url],ps)));for(;o<$r;o++)ts&&!_s&&(_s=!0,ns=s*$r+o),d.appendChild(B_(ps[9]+s+"_"+o)),is.push(ps[9]+s+"_"+o);u.appendChild(d)}Is()}function Is(){if(vs?I_(Ma):(us?$u(L+(gs?G:O)+T+M):(vs=!0,I_(Ma),Ls(),v_()),Gu(ps[10]),wf=!1,Hu()),0<is.length&&!ts)return As(),void Ss();Ls(!0),os=!(is=[])}function Ss(){Ku(is.length);var e=ns+cs;e&&rs-1<e&&(e=rs-du,ts=!0),Gf("https://api.twitch.tv/kraken/videos/top?game="+encodeURIComponent(Br.Main_gameSelected)+"&limit="+du+"&broadcast_type="+(gs?"highlight":"archive")+"&sort=views&offset="+e+"&period="+fs+(""!==qr?"&language="+qr:""),ls,2,null,Ps,xs)}function xs(){++ss<ds?(ls+=500,Ss()):(ts=!0,is=[],Is())}function Ps(e){var t,n,a=JSON.parse(e),i=a.vods.length,o=0,s=0,d=[];for(rs=parseInt(a._total);o<is.length&&s<i;o++,s++)n=(t=a.vods[s])._id,-1!==(t.preview.template+"").indexOf("404_processing")||as[n]?o--:(as[n]=1,lS(is[o],[n,t.length,t.channel.broadcaster_language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",mu),t.channel.display_name,N+A_(t.created_at),xS.parse(t.title)+da+Qt+v+t.game,l_(t.views)+D,c_(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.channel.broadcaster_language),V+zp(t.length),t.animated_preview_url],ps),d.push(o));for(o=d.length-1;-1<o;o--)is.splice(d[o],1);cs+=s,ts&&(ns-=is.length,is=[]),Is()}function Ls(e){$o<0?Bs():(j_($o,es,ps,$r,ns,e),gS(ps,$o+"_"+es),ns/$r<$o+eu&&!ts&&!os&&(As(),Cs()),Ur&&Ts())}function Ts(){window.clearInterval(PI),-1<$o&&ns?(Gu(ps[1]+$o+"_"+es),nf($o+"_"+es,ps)):Os()}function Bs(){var e=1<es?1:es;Ru(ps[0]+"y_"+e,pu)}function Os(){var e=1<es?1:es;Nu(ps[0]+"y_"+e,pu)}function Gs(e){var t;if(!wf&&!z_())switch(q_(),e.keyCode){case Ua:d_()?s_():a_()?n_():(Ts(),Af(Gs));break;case La:if(-1===$o)Os(),--es<0&&(es=1),Bs();else if($o||es){if(u_($o,es-1,ps[0]))Ts(),es--,Ls();else for(t=$r-1;-1<t;t--)if(u_($o-1,t,ps[0])){Ts(),$o--,es=t,Ls();break}}else Ts(),Os(),$o=-1,es=1,Bs();break;case Ba:-1===$o?(Os(),1<++es?(es=0,us?Bs():($o=0,Ls())):Bs()):u_($o,es+1,ps[0])?(Ts(),es++,Ls()):u_($o+1,0,ps[0])&&(Ts(),$o++,es=0,Ls());break;case Ta:if(-1!==$o||us)if($o){for(t=0;t<$r;t++)if(u_($o-1,es-t,ps[0])){Ts(),$o--,es-=t,Ls();break}}else Ts(),$o=-1,Bs();else $o=0,Os(),Ls();break;case Oa:if(-1!==$o||us){for(t=0;t<$r;t++)if(u_($o+1,es-t,ps[0])){Ts(),$o++,es-=t,Ls();break}}else $o=0,Os(),Ls();break;case xa:case Sa:case Pa:case Ga:-1===$o?(0===es?xf("AGameVod_highlight",(gs=!gs)?"true":"false"):4<++ms&&(ms=1),ks()):$_($o+"_"+es,ps,Gs)}}function Us(){1===ms?(Vu("top_bar_game",b+k_((gs?G:O)+de+": "+Br.Main_gameSelected)),fs="day"):2===ms?(Vu("top_bar_game",b+k_((gs?G:O)+le+": "+Br.Main_gameSelected)),fs="week"):3===ms?(Vu("top_bar_game",b+k_((gs?G:O)+ce+": "+Br.Main_gameSelected)),fs="month"):4===ms&&(Vu("top_bar_game",b+k_((gs?G:O)+re+": "+Br.Main_gameSelected)),fs="all"),xf("AGameVod_periodNumber",ms)}var Rs,Ns=0,Vs=0,Ds=!1,Js=0,Fs=0,Hs=5,qs=3500,zs=0,Xs=!1,js=!1,Ys=["cc_thumbdiv","cc_img","cc_infodiv","cc_name","cc_createdon","cc_game","cc_viwers","cc_duration","cc_cell","sccempty_","channel_content_scroll"],Ws=!1,Qs="",Zs=null,Ks="",$s="",ed="",td="",nd="",ad={},id=!1,od=null,sd="";function dd(){Br.Main_CenterLablesVectorPos=1,Br.Main_Go=br,id&&!Br.Search_isSearching&&Br.Main_selectedChannel_id&&Ld(),Qs!==Br.Main_selectedChannel&&(Ws=!1),w_(),Br.Main_selectedChannelDisplayname=Br.Main_selectedChannelDisplayname.replace(Y,""),Du("top_bar_user",Br.Main_selectedChannelDisplayname),Du("top_bar_game",Ut),document.body.addEventListener("keydown",Td,!1),Ya=!1,Ws?(P_(Ns),Gu(Ys[10]),Md(),Id(),v_()):cd()}function ld(){b_(),document.body.removeEventListener("keydown",Td),Ou(Ys[10])}function cd(){M_("stream_table_channel_content"),Ou(Ys[10]),od=null,Fu(),e_(),Qs=Br.Main_selectedChannel,td="",Ds=Xs=Ws=!1,Rs=void(Ns=Vs=Js=zs=0),rd(),ud()}function rd(){wf=!0,Fs=0,qs=3500}function ud(){Gf("https://api.twitch.tv/kraken/streams/"+encodeURIComponent(void 0!==Rs?Rs:Br.Main_selectedChannel_id),qs,2,null,_d,fd)}function _d(e){null!==JSON.parse(e).stream?(Zs=e,rd(),vd()):Rs?(Zs=null,rd(),vd()):(rd(),md())}function fd(){++Fs<Hs?(qs+=500,ud()):(Zs=null,rd(),vd())}function md(){Gf("https://tmi.twitch.tv/hosts?include_logins=1&host="+encodeURIComponent(Br.Main_selectedChannel_id),qs,1,null,pd,hd,!0)}function hd(){++Fs<Hs?(qs+=500,md()):(Zs=null,rd(),vd())}function pd(e){var t=JSON.parse(e);void 0!==(Rs=t.hosts[0].target_id)?(rd(),ud()):(Zs=null,rd(),vd())}function vd(){Gf("https://api.twitch.tv/kraken/channels/"+Br.Main_selectedChannel_id,Sg,2,null,gd,yd)}function gd(e){var t=JSON.parse(e);od=(od=t.video_banner)?od.replace("1920x1080",mu):od,sd=t.profile_banner,Ks=t.views,$s=t.followers,ed=t.description,Br.Main_selectedChannelLogo=t.logo,bd()}function yd(){++Fs<Hs?(qs+=500,vd()):(od=null,sd=Ia,ed=$s=Ks="",Br.Main_selectedChannelLogo=Ea,bd())}function bd(){var e=document.createElement("tr"),t=0,n=document.getElementById("stream_table_channel_content");if((Fr=document.createElement("tr")).className="follower_banner",Fr.innerHTML='<div id="'+Ys[0]+'x_0" class="follower_banner"><img id="'+Ys[1]+'x_0" class="stream_img_banner"></div>',n.appendChild(Fr),null!==Zs){var a=JSON.parse(Zs);if(null!==a.stream){var i=void 0!==Rs?Br.Main_selectedChannelDisplayname+ne:"",o=a.stream;e.appendChild(wd("0_"+t,o.channel.name,o.preview.template,xS.parse(o.channel.status),o.game,r_(JSON.stringify(o.stream_type))+i+o.channel.display_name,y+jp(o.created_at)+" "+h+l_(o.viewers)+J,c_(o.video_height,o.average_fps,o.channel.broadcaster_language))),t++}else Xs=!0}else Xs=!0;e.appendChild(kd("0_"+t,Br.Main_selectedChannelDisplayname,Br.Main_selectedChannelDisplayname+O,"movie-play")),t++,e.appendChild(kd("0_"+t,Br.Main_selectedChannelDisplayname,Br.Main_selectedChannelDisplayname+U,"movie")),t<2&&(t++,e.appendChild(B_(Ys[9]+"0_"+t))),n.appendChild(e),(e=document.createElement("tr")).appendChild(Ad("1_0",Br.Main_selectedChannelDisplayname,Br.Main_selectedChannelDisplayname,Br.Main_selectedChannelLogo)),(Fr=document.createElement("td")).setAttribute("id",Ys[8]+"x_x"),Fr.className="stream_cell",Fr.innerHTML='<div id="'+Ys[0]+'x_x" class="stream_thumbnail_video" ><div id="'+Ys[4]+'x_x" class="stream_channel_info">'+xS.parse(ed)+"</div></div>",e.appendChild(Fr),n.appendChild(e),Ed()}function wd(e,t,n,a,i,o,s,d){return td=n.replace("{width}x{height}",mu),(Fr=document.createElement("td")).setAttribute("id",Ys[8]+e),Fr.setAttribute(vu,t),Fr.className="stream_cell",Fr.innerHTML='<div id="'+Ys[0]+e+'" class="stream_thumbnail_video" ><img id="'+Ys[1]+e+'" class="stream_img"></div><div id="'+Ys[2]+e+'" class="stream_text"><div id="'+Ys[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;"><i class="icon-circle" style="color: '+(void 0!==Rs?"#FED000":"red")+'; font-size: 90%; aria-hidden="true"></i> '+wa+o+'</div><div id="'+Ys[7]+e+'"class="stream_info" style="width:33%; float: right; text-align: right; display: inline-block;">'+d+'</div><div id="'+Ys[4]+e+'"class="stream_info">'+a+'</div><div id="'+Ys[5]+e+'"class="stream_info">'+v+i+'</div><div id="'+Ys[6]+e+'"class="stream_info">'+s+"</div></div>",Fr}function kd(e,t,n,a){return(Fr=document.createElement("td")).setAttribute("id",Ys[8]+e),Fr.setAttribute(vu,t),Fr.className="stream_cell",Fr.innerHTML='<div id="'+Ys[0]+e+'" class="stream_thumbnail_video" ><div id="'+Ys[1]+e+'" class="stream_channel_content_icon"><i class="icon-'+a+'"></i></div></div><div id="'+Ys[2]+e+'" class="stream_text"><div id="'+Ys[3]+e+'" class="stream_channel" style="text-align: center">'+n+"</div></div>",Fr}function Ad(e,t,n,a){return nd=a,(Fr=document.createElement("td")).setAttribute("id",Ys[8]+e),Fr.setAttribute(vu,t),Fr.className="stream_cell",Fr.innerHTML='<div id="'+Ys[0]+e+'" class="stream_thumbnail_video" ><div id="schannel_cont_heart" style="position: absolute; top: 5%; left: 6%;"></div><img id="'+Ys[1]+e+'" class="stream_img_fallow"></div><div id="'+Ys[2]+e+'" class="stream_text_channel"><div id="'+Ys[3]+e+'" class="stream_channel">'+n+'</div><div id="'+Ys[5]+e+'"class="stream_info">'+l_(Ks)+D+'</div><div id="'+Ys[6]+e+'"class="stream_info" >'+l_($s)+Vt+"</div></div>",Fr}function Cd(){Xa?(Vu("schannel_cont_heart",'<i class="icon-heart" style="color: #00b300; font-size: 600%; text-shadow: #FFFFFF 0 0 10px, #FFFFFF 0 0 10px, #FFFFFF 0 0 8px;"></i>'),Du(Ys[3]+"1_0",Br.Main_selectedChannelDisplayname+Mt)):(Vu("schannel_cont_heart",'<i class="icon-heart-o" style="color: #FFFFFF; font-size: 600%; text-shadow: #000000 0 0 10px, #000000 0 0 10px, #000000 0 0 8px;"></i>'),oo()?Du(Ys[3]+"1_0",Br.Main_selectedChannelDisplayname+It):Du(Ys[3]+"1_0",Br.Main_selectedChannelDisplayname+Dt))}function Ed(){Ws||(Ws=!0,""!==td&&Mu(document.getElementById(Ys[1]+"0_0"),td,Ma),Mu(document.getElementById(Ys[1]+"x_0"),sd,Ia),Mu(document.getElementById(Ys[1]+"1_0"),nd,Ea),Id(),v_(),Gu(Ys[10]),Hu()),Md(),wf=!1}function Md(){js?Cd():oo()?(Wa=Br.Main_selectedChannel_id,Ya=!1,_i()):(Xa=!1,Cd())}function Id(){Ru(Ys[0]+Ns+"_"+(Ns?0:Vs),pu),Ur&&Sd(),F_()}function Sd(){nf(Ns+"_"+(Ns?0:Vs),Ys)}function xd(){if(Ns)oo()&&Hi[Br.Users_Position].access_token?(Ya=!1,Wa=Br.Main_selectedChannel_id,Xa?bi():vi()):($u(Bt),window.setTimeout(e_,2e3));else{document.body.removeEventListener("keydown",Td),Ou(Ys[10]);var e=Xs?1:0;Vs===0-e?(Br.Play_selectedChannel=document.getElementById(Ys[8]+Ns+"_"+Vs).getAttribute(vu),Br.Play_selectedChannelDisplayname=document.getElementById(Ys[3]+Ns+"_"+Vs).textContent,-1!==Br.Play_selectedChannelDisplayname.indexOf(ne)?(Br.Play_isHost=!0,Br.Play_DisplaynameHost=Br.Play_selectedChannelDisplayname,Br.Play_selectedChannelDisplayname=Br.Play_selectedChannelDisplayname.split(ne)[1],Br.Play_selectedChannel_id=Rs):Br.Play_selectedChannel_id=Br.Main_selectedChannel_id,Br.Play_gameSelected=document.getElementById(Ys[5]+Ns+"_"+Vs).textContent.split(v)[1],sf(Z_)):Vs===1-e?sf(il):Vs===2-e&&(Ky=Eb,sf(ab))}}function Pd(){ad={"Main_values.Main_selectedChannel_id":Br.Main_selectedChannel_id,"Main_values.Main_selectedChannelLogo":Br.Main_selectedChannelLogo,"Main_values.Main_selectedChannel":Br.Main_selectedChannel,"Main_values.Main_selectedChannelDisplayname":Br.Main_selectedChannelDisplayname,ChannelContent_UserChannels:js,"Main_values.Main_BeforeChannel":Br.Main_BeforeChannel}}function Ld(){Br.Main_selectedChannel_id=Br.Main_selectedChannel_id,Br.Main_selectedChannelLogo=Br.Main_selectedChannelLogo,Br.Main_selectedChannel=Br.Main_selectedChannel,Br.Main_selectedChannelDisplayname=Br.Main_selectedChannelDisplayname,js=ad.ChannelContent_UserChannels,Br.Main_BeforeChannel=Br.Main_BeforeChannel,id=!(ad={})}function Td(e){if(!wf&&!z_())switch(q_(),e.keyCode){case Ua:d_()?s_():a_()?n_():(Sd(),Af(Td));break;case La:Ns||(Sd(),--Vs<0&&(Vs=Xs?1:2),Id());break;case Ba:Ns||(Sd(),(Xs?1:2)<++Vs&&(Vs=0),Id());break;case Ta:case Oa:Sd(),Ns=Ns?0:1,Id();break;case xa:case Sa:case Pa:case Ga:xd()}}var Bd=0,Od=0,Gd=!1,Ud=0,Rd={},Nd=[],Vd=!1,Dd=0,Jd=5,Fd=3500,Hd=0,qd=0,zd=0,Xd=!1,jd=!1,Yd="",Wd=!1,Qd=["cv_thumbdiv","cv_img","cv_infodiv","cv_title","cv_streamon","cv_duration","cv_viwers","cv_quality","cv_cell","cvempty_","channel_vod_scroll","cv_game"],Zd=!1,Kd=!1,$d="",el="",tl="",nl="",al=0;function il(){Br.Main_CenterLablesVectorPos=1,Br.Main_Go=wr,!Br.Search_isSearching&&Br.Main_selectedChannel_id&&Ld(),Br.Main_selectedChannel!==$d&&(Zd=!1),w_(),Bu("label_side_panel","icon-arrow-circle-left",I),Du("top_bar_user",Br.Main_selectedChannelDisplayname),document.body.addEventListener("keydown",yl,!1),Zd?(P_(Bd),Du("top_bar_game",Kd?G:O),Gu(Qd[10]),hl(),v_()):sl()}function ol(){Zd&&pl(),b_(),document.body.removeEventListener("keydown",yl),Ou(Qd[10]),e_()}function sl(){Zd&&pl(),M_("stream_table_channel_vod"),Ou(Qd[10]),Du("top_bar_game",Kd?G:O),Fu(),e_(),$d=Br.Main_selectedChannel,Wd=Zd=!1,wf=!(jd=!(Nd=[])),Bd=Od=Ud=qd=Hd=0,Gd=!(Rd={}),Wu(),dl(),ll()}function dl(){S_(),Vd=!0,Dd=0,Fd=3500}function ll(){var e=Ud+Hd;e&&qd-1<e&&(e=qd-Kr,Gd=!0);var t="https://api.twitch.tv/kraken/channels/"+encodeURIComponent(Br.Main_selectedChannel_id)+"/videos?limit="+Kr+"&broadcast_type="+(Kd?"highlight":"archive")+"&sort=time&offset="+e;Au&&!Ud?Rf(t,Fd,2,null,rl,cl):Nf(t,Fd,2,null,rl,cl,!1)}function cl(){++Dd<Jd?(Fd+=500,ll()):(Vd=!1,Ud?(Gd=!0,ul()):(wf=!1,Hu(),$u(P),Af(yl)))}function rl(e){var t=JSON.parse(e),n=t.videos.length;qd=parseInt(t._total),n<Kr&&(Gd=!0);var a=Ud;Xd=!(Ud+=n);var i=n/$r;0<n%$r&&i++;var o,s,d,l,c,r,u,_=0,f=document.getElementById("stream_table_channel_vod");if(!Wd){Wd=!0,d=document.createElement("tr");var m='<i class="icon-movie-play stream_channel_fallow_icon"></i>'+wa+wa+p;(Fr=document.createElement("td")).setAttribute("id",Qd[8]+"y_0"),Fr.className="stream_cell",Fr.innerHTML='<div id="'+Qd[0]+'y_0" class="stream_thumbnail_channel_vod" ><div id="'+Qd[3]+'y_0" class="stream_channel_fallow_game">'+m+"</div></div>",d.appendChild(Fr),d.appendChild(document.createElement("tr")),d.appendChild(document.createElement("tr")),f.appendChild(d)}for(var h=0;h<i;h++){for(s=a/$r+h,d=document.createElement("tr"),o=0;o<$r&&_<n;o++,_++)c=(l=t.videos[_])._id,r=-1!==((u=l.preview.template)+"").indexOf("404_processing"),s||o||!r||(r=!1,u=null!==od?od:Ma),r||Rd[c]?o--:(Rd[c]=1,d.appendChild(sS(s,s+"_"+o,[c,l.length,l.channel.broadcaster_language,l.game,l.channel.name,l.increment_view_count_url],[u.replace("{width}x{height}",mu),l.channel.display_name,N+A_(l.created_at),xS.parse(l.title)+da+Qt+v+l.game,l_(l.views)+D,c_(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.channel.broadcaster_language),V+zp(l.length),l.animated_preview_url],Qd)));for(;o<$r;o++)Gd&&!jd&&(jd=!0,Ud=s*$r+o),d.appendChild(B_(Qd[9]+s+"_"+o)),Nd.push(Qd[9]+s+"_"+o);f.appendChild(d)}ul()}function ul(){if(Zd?(hl(!0),I_(null!==od?od:Ma)):(Xd?(Af(yl),$u(L+(Kd?G:O)+T+M)):(Zd=!0,I_(null!==od?od:Ma),hl(),v_()),Gu(Qd[10]),wf=!1,Hu()),0<Nd.length&&!Gd)return dl(),void _l();Vd=!(Nd=[])}function _l(){Ku(Nd.length);var e=Ud+Hd;e&&qd-1<e&&(e=qd-du,Gd=!0),Gf("https://api.twitch.tv/kraken/channels/"+encodeURIComponent(Br.Main_selectedChannel_id)+"/videos?limit="+du+"&broadcast_type="+(Kd?"highlight":"archive")+"&sort=time&offset="+e,Fd,2,null,ml,fl)}function fl(){++Dd<Jd?(Fd+=500,_l()):(Gd=!0,Ud-=Nd.length,Nd=[],ul())}function ml(e){var t,n,a=JSON.parse(e),i=a.videos.length,o=0,s=0,d=[];for(qd=parseInt(a._total);o<Nd.length&&s<i;o++,s++)n=(t=a.videos[s])._id,-1!==(t.preview.template+"").indexOf("404_processing")||Rd[n]?o--:(Rd[n]=1,lS(Nd[o],[n,t.length,t.channel.broadcaster_language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",mu),t.channel.display_name,N+A_(t.created_at),xS.parse(t.title)+da+Qt+v+t.game,l_(t.views)+D,c_(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.channel.broadcaster_language),V+zp(t.length),t.animated_preview_url],Qd),d.push(o));for(o=d.length-1;-1<o;o--)Nd.splice(d[o],1);Hd+=s,Gd&&(Ud-=Nd.length,Nd=[]),ul()}function hl(e){Bd<0?vl():(j_(Bd,Od,Qd,$r,Ud,e),gS(Qd,Bd+"_"+Od),Ud/$r<Bd+eu&&!Gd&&!Vd&&(dl(),ll()),Ur&&pl())}function pl(){window.clearInterval(PI),-1<Bd&&Ud?(Gu(Qd[1]+Bd+"_"+Od),nf(Bd+"_"+Od,Qd)):gl()}function vl(){Ru(Qd[0]+"y_0",pu)}function gl(){Nu(Qd[0]+"y_0",pu)}function yl(e){var t;if(!wf&&!z_())switch(q_(),e.keyCode){case Ua:d_()?s_():a_()?n_():(pl(),Af(yl));break;case La:if(u_(Bd,Od-1,Qd[0]))pl(),Od--,hl();else for(t=$r-1;-1<t;t--)if(u_(Bd-1,t,Qd[0])){pl(),Bd--,Od=t,hl();break}break;case Ba:u_(Bd,Od+1,Qd[0])?(pl(),Od++,hl()):u_(Bd+1,0,Qd[0])&&(pl(),Bd++,Od=0,hl());break;case Ta:if(-1!==Bd||Xd)if(Bd){for(t=0;t<$r;t++)if(u_(Bd-1,Od-t,Qd[0])){pl(),Bd--,Od-=t,hl();break}}else pl(),Bd=-1,vl();else Bd=0,gl(),hl();break;case Oa:if(-1!==Bd||Xd){for(t=0;t<$r;t++)if(u_(Bd+1,Od-t,Qd[0])){pl(),Bd++,Od-=t,hl();break}}else Bd=0,gl(),hl();break;case xa:case Sa:case Pa:case Ga:-1===Bd?(xf("ChannelVod_highlight",(Kd=!Kd)?"true":"false"),sl()):$_(Bd+"_"+Od,Qd,yl)}}var bl,wl,kl,Al,Cl=0,El=10,Ml=!1,Il=0,Sl=null,xl=!1,Pl=0,Ll={},Tl={};function Bl(){Kl(),Br.Play_ChatForceDisable?(ic||yc(),xl=!1,sf(function(){Ol(Il=(new Date).getTime())})):Wc()}function Ol(e){Cl=0,Gl(e)}function Gl(e){var t="https://badges.twitch.tv/v1/badges/channels/"+Br.Play_selectedChannel_id+"/display",n=new XMLHttpRequest;n.open("GET",t,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){if(4===n.readyState){if(200===n.status)return void(Il===e&&Rl(n.responseText,e));Il===e&&Ul(e)}},n.send(null)}function Ul(e){Cl++,Il===e&&(Cl<El?Gl(e):wl=window.setTimeout(function(){Gl(e)},1e3))}function Rl(e,t){IS(JSON.parse(e).badge_sets).forEach(function(t){t.versions.forEach(function(e){SS(t.type,e.type,e.image_url_4x,nc)})}),Ll[Br.Play_selectedChannel_id]?Il===t&&Hl():Nl(t)}function Nl(e){Cl=0,Vl(e)}function Vl(e){var t="https://api.betterttv.net/2/channels/"+encodeURIComponent(Br.Play_selectedChannel),n=new XMLHttpRequest;n.open("GET",t,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){4===n.readyState&&(200===n.status?Il===e&&Jl(n.responseText,e):404===n.status?(Ll[Br.Play_selectedChannel_id]=1,Il===e&&Hl()):Il===e&&Dl(e))},n.send(null)}function Dl(e){Cl++,Il===e&&(Cl<El?Vl(e):Il===e&&Hl())}function Jl(e,t){Fl(JSON.parse(e)),Ll[Br.Play_selectedChannel_id]=1,Il===t&&Hl()}function Fl(t){t.emotes.forEach(function(e){Tl[e.code]={code:e.code,id:e.id,"3x":"https:"+t.urlTemplate.replace("{{id}}",e.id).replace("{{image}}","3x")}})}function Hl(){Xl(),ql()}function ql(){(Sl=new ReconnectingWebSocket("wss://irc-ws.chat.twitch.tv","irc",{reconnectInterval:3e3})).onopen=function(){Sl.send("PASS blah\r\n"),Sl.send("NICK justinfan12345\r\n"),Sl.send("CAP REQ :twitch.tv/commands twitch.tv/tags\r\n"),Sl.send("JOIN #"+Br.Play_selectedChannel+"\r\n")},Sl.onclose=function(){Ml=!0},Sl.onmessage=function(e){var t=window.parseIRC(e.data.trim());if(t.command)switch(t.command){case"PING":Sl.send("PONG "+t.params[0]);break;case"JOIN":xl=!0,Wl('&nbsp;<span class="message">'+da+bn+Br.Play_selectedChannelDisplayname+" "+_+"</span>");break;case"PRIVMSG":jl(t)}},kl=window.setTimeout(zl,5e3)}function zl(){xl?Al=window.setInterval(Ql,1e3):(Sl.close(1e3),Hl())}function Xl(){window.clearTimeout(kl)}function jl(e){var t="",n=e.tags;if(n.hasOwnProperty("badges")&&"string"==typeof n.badges&&n.badges.split(",").forEach(function(e){e=e.split("/"),t+='<span class="'+e[0]+"-"+e[1]+' tag"></span>'}),n.hasOwnProperty("display-name")){var a=n["display-name"];"string"==typeof a&&(t+='<span class="nick" style="color: #'+_c[a.charCodeAt(0)%fc]+';">'+a+"</span>&#58;&nbsp;")}var i=e.params[1];/^\x01ACTION.*\x01$/.test(i)&&(i=i.replace(/^\x01ACTION/,"").replace(/\x01$/,"").trim());var o={};n.hasOwnProperty("emotes")&&"string"==typeof n.emotes&&(n.emotes=n.emotes.split("/"),n.emotes.forEach(function(t){t=t.split(":"),o[t[0]]||(o[t[0]]=[]),t[1].split(",").forEach(function(e){e=e.split("-"),o[t[0]].push([parseInt(e[0]),parseInt(e[1])])})})),Wl(t+='<span class="message">'+Yl(MS(i,o))+"</span>")}function Yl(e){for(var t=0;t<e.length;t++)"string"==typeof e[t]?e[t]=ES(e[t]):e[t]=e[t][0];return xS.parse(e.join(" "),!0,!0)}function Wl(e){var t=document.createElement("div");t.className="chat_line",t.innerHTML=e,nc.appendChild(t),Ql(),100<++Pl&&(Pl=0,Zc())}function Ql(){nc.scrollTop=nc.scrollHeight}function Zl(){Xl(),window.clearTimeout(wl),window.clearTimeout(bl),window.clearInterval(Al)}function Kl(){Zl(),Sl&&Sl.close(1e3),Il=0,M_("chat_box"),xl=Ml=!1}var $l,ec,tc,nc,ac,ic=!1,oc=0,sc=[],dc=[],lc=10,cc=null,rc=0,uc="",_c=["fe2424","fc5a24","ff9020","fEc723","ffff1d","bfff00","c3ff12","56fe1d","1eff1e","16ff51","00ff80","00ffbf","00ffff","1dc6ff","158aff","3367ff","ff4dff","ff4ad2","ff62b1","ff4272"],fc=_c.length,mc=0,hc=!1,pc=0;function vc(){nc=document.getElementById("chat_box"),yc()}function gc(){Hc(),Au&&Br.Play_ChatForceDisable?(ic||yc(),sf(function(){Ic(pc=(new Date).getTime())})):Wc()}function yc(){oc=0,ic=!(Tl={}),bc()}function bc(){Nf("https://badges.twitch.tv/v1/badges/global/display",1e4,0,null,kc,wc,!1)}function wc(){++oc<lc?bc():ic=!1}function kc(e){IS(JSON.parse(e).badge_sets).forEach(function(t){t.versions.forEach(function(e){SS(t.type,e.type,e.image_url_4x,null)})}),Ac()}function Ac(){oc=0,Cc()}function Cc(){Nf("https://api.betterttv.net/2/emotes",1e4,0,null,Mc,Ec,!1)}function Ec(){++oc<lc?Cc():ic=!1}function Mc(e){Fl(JSON.parse(e)),ic=!0}function Ic(e){oc=0,Sc(e)}function Sc(e){var t="https://badges.twitch.tv/v1/badges/channels/"+Br.Main_selectedChannel_id+"/display",n=new XMLHttpRequest;n.open("GET",t,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){if(4===n.readyState){if(200===n.status)return void(pc===e&&Pc(n.responseText,e));pc===e&&xc(e)}},n.send(null)}function xc(e){oc++,pc===e&&(oc<lc?Sc(e):ac=window.setTimeout(function(){Sc(e)},1e3))}function Pc(e,t){IS(JSON.parse(e).badge_sets).forEach(function(t){t.versions.forEach(function(e){SS(t.type,e.type,e.image_url_4x,nc)})}),pc===t&&Gc(t),Ll[Br.Main_selectedChannel_id]?pc===t&&Gc(t):Lc(t)}function Lc(e){oc=0,Tc(e)}function Tc(e){var t="https://api.betterttv.net/2/channels/"+encodeURIComponent(Br.Main_selectedChannel),n=new XMLHttpRequest;n.open("GET",t,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){4===n.readyState&&(200===n.status?pc===e&&Oc(n.responseText,e):404===n.status?(Ll[Br.Main_selectedChannel_id]=1,pc===e&&Gc()):pc===e&&Bc(e))},n.send(null)}function Bc(e){oc++,pc===e&&(oc<lc?Tc(e):pc===e&&Gc())}function Oc(e,t){Fl(JSON.parse(e)),Ll[Br.Main_selectedChannel_id]=1,pc===t&&Gc()}function Gc(e){oc=0,pc===e&&Uc(e)}function Uc(e){var t="https://api.twitch.tv/v5/videos/"+Br.ChannelVod_vodId+"/comments?client_id="+lu+(rc?"&content_offset_seconds="+parseInt(rc):""),n=new XMLHttpRequest;n.open("GET",t,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){if(4===n.readyState){if(200===n.status)return void(pc===e&&Nc(n.responseText,e));pc===e&&Rc(e)}},n.send(null)}function Rc(e){oc++,pc===e&&(oc<lc?Uc(e):ec=window.setTimeout(function(){Uc(e)},2500))}function Nc(e,t){e=JSON.parse(e);var n,a,i=null===cc;i&&(n="&nbsp;",n+='<span class="message">',n+=da+bn+Br.Main_selectedChannelDisplayname+" "+uc,Vc(n+="</span>",0)),rc=0,cc=e._next,e.comments.forEach(function(e){n="",(a=e.message).hasOwnProperty("user_badges")&&a.user_badges.forEach(function(e){n+='<span class="'+e._id+"-"+e.version+' tag"></span>'}),n+='<span class="nick" style="color: #'+_c[e.commenter.display_name.charCodeAt(0)%fc]+';">'+e.commenter.display_name+"</span>&#58;&nbsp;",n+='<span class="message">',a.fragments.forEach(function(e){e.hasOwnProperty("emoticon")?n+='<img class="emoticon" src="https://static-cdn.jtvnw.net/emoticons/v1/'+e.emoticon.emoticon_id+'/1.0" srcset="https://static-cdn.jtvnw.net/emoticons/v1/'+e.emoticon.emoticon_id+"/2.0 2x, https://static-cdn.jtvnw.net/emoticons/v1/"+e.emoticon.emoticon_id+'/3.0 4x">':n+=Yl([e.text])}),n+="</span>",i?Vc(n,e.content_offset_seconds):void 0!==cc&&Dc(n,e.content_offset_seconds)}),i&&pc===t&&(Jc(t),void 0!==cc&&zc(t))}function Vc(e,t){sc.push({time:t,message:e})}function Dc(e,t){dc.push({time:t,message:e})}function Jc(e){hc||pc!==e||($l=window.setInterval(function(){qc(e),nc.scrollTop=nc.scrollHeight},1e3))}function Fc(){hc||(window.clearTimeout(ac),window.clearTimeout(ec),window.clearTimeout(tc),window.clearInterval($l))}function Hc(){Fc(),pc=0,M_("chat_box"),hc=!1,cc=null,sc=[],dc=[],mc=0}function qc(e){var t;if(mc<sc.length-1)for(var n=mc;n<sc.length&&sc[n].time<al+Android.gettime()/1e3;n++,mc++)(t=document.createElement("div")).className="chat_line",t.innerHTML=sc[n].message,nc.appendChild(t);else if(Fc(),void 0!==cc)sc=dc.slice(),mc=0,Jc(e),dc=[],pc===e&&zc(e),Zc();else{var a="&nbsp;";a+='<span class="message">',a+=da+da+Cn+da+da,a+="</span>",(t=document.createElement("div")).className="chat_line",t.innerHTML=a,nc.appendChild(t),hc=!0,nc.scrollTop=nc.scrollHeight,window.clearInterval($l),$l=window.setInterval(function(){nc.scrollTop=nc.scrollHeight},1e3)}}function zc(e){oc=0,hc||pc!==e||Xc(e)}function Xc(e){var t="https://api.twitch.tv/v5/videos/"+Br.ChannelVod_vodId+"/comments?client_id="+lu+(null!==cc?"&cursor="+cc:""),n=new XMLHttpRequest;n.open("GET",t,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){if(4===n.readyState){if(200===n.status)return void(hc||pc!==e||Nc(n.responseText,e));hc||pc!==e||jc(e)}},n.send(null)}function jc(e){oc++,pc===e&&(oc<lc?Xc(e):tc=window.setTimeout(function(){Xc(e)},2500))}function Yc(){Hc(),Qc(ln+da+cn)}function Wc(){Hc(),Qc($n)}function Qc(e){var t="&nbsp;";t+='<span class="message">',t+=da+da+da+da+da+da+da+da+da+da,t+=e,t+="</span>";var n=document.createElement("div");n.className="chat_line",n.innerHTML=t,nc.appendChild(n)}function Zc(){var e=document.getElementsByClassName("chat_line");if(0<e.length-100)for(var t=0;t<e.length-100;t++)e[0].parentNode.removeChild(e[0]);Ql()}var Kc,$c,er,tr,nr,ar,ir,or=!0,sr=!1,dr=!1,lr=-1,cr=new Image,rr=1,ur=2,_r=3,fr=4,mr=5,hr=6,pr=7,vr=8,gr=9,yr=10,br=11,wr=12,kr=13,Ar=14,Cr=15,Er=16,Mr=17,Ir=18,Sr=19,xr=20,Pr=21,Lr=22,Tr="",Br={Main_Go:1,Main_Before:1,Main_BeforeSearch:1,Main_BeforeChannel:1,Main_BeforeAgame:_r,Main_BeforeChannelisSet:!1,Main_BeforeAgameisSet:!1,Main_selectedChannel:"",Main_selectedChannelDisplayname:"",Main_selectedChannelLogo:"",Main_selectedChannel_id:"",Main_gameSelected:"",Main_OldgameSelected:null,Play_isHost:!1,Play_DisplaynameHost:"",Play_selectedChannelDisplayname:"",Play_selectedChannel:"",Play_gameSelected:"",Users_Position:0,Users_AddcodePosition:0,Play_WasPlaying:0,ChannelVod_vodId:"",vodOffset:0,Search_data:"",isLastSChannels:!1,gameSelectedOld:"",Games_return:!1,Search_isSearching:!1,Play_ChatForceDisable:!1,Never_run:!0,Main_CenterLablesVectorPos:0},Or=!0,Gr=!0,Ur=!1,Rr=[],Nr=0,Vr=0,Dr=null,Jr=!0,Fr="",Hr=!1,qr="",zr=["label_side_panel","label_refresh","top_bar_live","top_bar_user","top_bar_featured","top_bar_game","top_bar_vod","top_bar_clip"],Xr=[],jr=0,Yr=!0,Wr=0,Qr=1.35,Zr=1.5,Kr=45,$r=3,eu=Math.floor(Kr/$r/Zr),tu=45,nu=5,au=Math.floor(tu/nu/Qr),iu=48,ou=6,su=Math.floor(iu/ou/Zr),du=6,lu="5seja5ptej058mxqy7gh5tcudjqtm9",cu="Client-ID",ru="Accept",uu="Authorization",_u="OAuth ",fu="application/vnd.twitchtv.v5+json",mu="528x297",hu="340x475",pu="stream_thumbnail_focused",vu="data_attribute",gu="1.0",yu=".18",bu="050719",wu=gu+yu+"-"+bu,ku=0,Au=0,Cu="?"+Math.random(),Eu="https://cors-anywhere.herokuapp.com/",Mu=function(e,t,n){e.onerror=function(){this.src=n},e.src=t};function Iu(){(dr=Tf("Main_isDebug",!1))&&or?Su():"loading"===document.readyState?document.addEventListener("DOMContentLoaded",function(){xu(window.navigator.userLanguage||window.navigator.language)}):xu(window.navigator.userLanguage||window.navigator.language)}function Su(){console.log("Debug mod start");var e=document.createElement("script");e.src="https://fgl27.github.io/SmartTwitchTV/release/githubio/js/masterdebug.js",document.head.appendChild(e)}function xu(e){af(),sf(function(){try{Au=Android.getAndroid()}catch(e){Au=0,document.body.style.backgroundColor="rgba(0, 0, 0, 1)",sr=dr=!0,console.log("Main_isReleased: "+or),console.log("Main_isDebug: "+dr),console.log("Main_isBrowser: "+sr)}eA(),Aa(),AA(),console.log("language is "+e),ka(),-1!==window.location.href.indexOf("code")&&Of(window.location.href),Pu()})}function Pu(){$y(),Lu(!0),Kc=document.getElementById("scrollbar"),g_(),Tr=Br.Main_Go,sf(function(){vc(),up(),io(),oo()&&(ir=window.setInterval(rf,6e5),rf()),document.body.addEventListener("keyup",F_,!1),eb(),document.getElementById("side_panel").style.marginLeft="",C_(),Tu(),QI=Tf("Vod_highlight",!1),Kd=Tf("ChannelVod_highlight",!1),gs=Tf("AGameVod_highlight",!1),cI=Tf("UserVod_highlight",!1),XI=Pf("vod_periodNumber",2),ms=Pf("AGameVod_periodNumber",2),oI=Pf("UserVod_TypeNumber",1),Jy(),$c=document.getElementById("search_input"),er=document.getElementById("user_input"),T_(Ma),T_(Ca),T_(Ea),document.addEventListener("visibilitychange",lf,!1),nr=window.setInterval(cf,6e4),Ky=xb,ab(),tr=window.setTimeout(f_,5e3),Gu("topbar")})}function Lu(e){cf(),Bu("label_refresh","icon-refresh",t+jt),Vu("label_update",'<div class="strokedextramini" style="vertical-align: middle; display: inline-block;"><i class="icon-arrow-up" style="color: #FF0000; font-size: 115%; "></i></div><div class="strokedextramini" style="vertical-align: middle; display: inline-block; color: #FF0000">'+wa+_t+"</div>"),Bu("label_side_panel","icon-ellipsis",Rn),Bu("icon_feed_refresh","icon-refresh",t+" Press up"),Du("top_bar_live",_),Du("top_bar_user",e?u:a),Du("top_bar_featured",an),Du("top_bar_game",f),Du("top_bar_vod",Kt),Du("top_bar_clip",U),Vu("scene2_search_text",wa+n),Vu("scene2_channel_text",wa+Ut),Vu("scene2_game_text",wa+Jt),Du("dialog_end_replay_text",en),Du("dialog_end_vod_text",sn),Du("dialog_end_channel_text",Ut),Du("dialog_end_game_text",Jt),Vu("dialog_about_text",va+ga),Xr=[de,le,ce,re],e?Yk():($k(),C_())}function Tu(){Du("play_dialog_exit_text",F),Du("side_panel_search",n),Du("side_panel_settings",a),Du("side_panel_about",i),Du("side_panel_controls",e),Du("side_panel_exit",q),Du("side_panel_live",_),Du("side_panel_user",u),Du("side_panel_featured",an),Du("side_panel_games",f),Du("side_panel_videos",Kt),Du("side_panel_clips",U),Du("side_panel_hide",o),Du("chanel_button",E),Du("game_button",f),Du("live_button",_),Du("exit_app_cancel",j),Du("exit_app_close",z),Du("remove_cancel",j),Du("remove_yes",Ft),Du("exit_app_minimize",X),Du("main_dialog_exit_text",H),Vu("dialog_controls_text",pa),Du("dialog_vod_text",wn),Vu("dialog_vod_start_text",An)}function Bu(e,t,n){Vu(e,'<div class="strokedextramini" style="vertical-align: middle; display: inline-block;"><i class="'+t+'" style="color: #FFFFFF; font-size: 115%; "></i></div><div class="strokedextramini" style="vertical-align: middle; display: inline-block">'+wa+n+"</div>")}function Ou(e){document.getElementById(e).classList.add("hide")}function Gu(e){document.getElementById(e).classList.remove("hide")}function Uu(e){return-1===document.getElementById(e).className.indexOf("hide")}function Ru(e,t){document.getElementById(e).classList.add(t)}function Nu(e,t){document.getElementById(e).classList.remove(t)}function Vu(e,t){document.getElementById(e).innerHTML=t}function Du(e,t){document.getElementById(e).textContent=t}function Ju(e){var t=document.getElementById(e).getElementsByClassName("emoji");if(t){for(var n=0;n<t.length;n++)t[n].classList.add("emoticon");for(t=document.getElementById(e).getElementsByClassName("emoticon"),n=0;n<t.length;n++)t[n].classList.remove("emoji")}}function Fu(){P_(-1),Au?Android.mshowLoading(!0):Gu("dialog_loading")}function Hu(){Au?Android.mshowLoading(!1):Ou("dialog_loading")}function qu(){window.clearTimeout(Dr)}function zu(){Dr=window.setTimeout(ju,6e3)}function Xu(){zu(),Gu("main_dialog_exit"),document.body.addEventListener("keydown",gf,!1)}function ju(){document.body.removeEventListener("keydown",gf,!1),Af(ar),qu(),Ou("main_dialog_exit"),Vr=0,Yu()}function Yu(){Nu("exit_app_cancel","button_search_focused"),Nu("exit_app_minimize","button_search_focused"),Nu("exit_app_close","button_search_focused"),Ru(Vr?1===Vr?"exit_app_minimize":"exit_app_close":"exit_app_cancel","button_search_focused")}function Wu(){M_("dialog_counter_text"),Zu(0,0,0)}function Qu(e,t,n,a){0<a?(Du("dialog_counter_text",t*n+(e+1)+"/"+a),Zu(t,n,a)):Wu()}function Zu(e,t,n){var a=screen.height/100*7;if(3===t&&9<n||5===t&&10<n||6===t&&12<n){var i=Br.Main_Go===fr||Br.Main_Go===Sr||Br.Main_Go===xr||Br.Main_Go===wr||Br.Main_Go===Lr||Br.Main_Go===Mr||Br.Main_Go===Ir||Br.Main_Go===kr,o=Math.ceil((screen.height-3*a)/(Math.ceil(n/t)-1)*e+a*(i?1.8:1));Kc.style.top=o+"px",Jr&&(Jr=!1,Kc.style.backgroundColor="#777777")}else Kc.style.backgroundColor="#000000",Kc.style.top=a+"px",Jr=!0}function Ku(e){(du=12)/3<e&&(du=3*e),99<du&&(du=99)}function $u(e){Du("dialog_warning_text",e),Gu("dialog_warning")}function e_(){Ou("dialog_warning")}function t_(){s_(),Gu("dialog_about")}function n_(){Ou("dialog_about")}function a_(){return Uu("dialog_about")}function i_(){s_(),e_(),y_(Br.Main_Go),Wu(),Xk()}function o_(){n_(),Gu("dialog_controls")}function s_(){Ou("dialog_controls")}function d_(){return Uu("dialog_controls")}function l_(e){return(e+"").replace(/\B(?=(\d{3})+(?!\d))/g,",")}function c_(e,t,n){return(e+="").indexOf("x")||(e=e.slice(-3)),e+"p"+(t=58<t?60:t<32?30:Math.ceil(t))+(""!==n?" ["+n.toUpperCase()+"]":"")}function r_(e){return-1!==e.indexOf("live")?"":Y}function u_(e,t,n){return null!==document.getElementById(n+e+"_"+t)}function __(){cf(),h_(),document.body.addEventListener("keyup",F_,!1)}function f_(){for(var e,t=0;t<zr.length;t++)t<2?document.getElementById(zr[t]).style.opacity="0.5":-1===(e=document.getElementById(zr[t])).className.indexOf("icon_center_focus")&&(e.style.opacity="0.5");Ru("topbar","topbar_dim")}function m_(){for(var e=0;e<zr.length;e++)document.getElementById(zr[e]).style.opacity="1";Nu("topbar","topbar_dim")}function h_(e){window.clearTimeout(tr),m_(),sf(function(){p_(e)})}function p_(e){e_(),Br.Main_Go!==br&&(Br.Main_BeforeChannelisSet=!1),Br.Main_Go!==fr&&(Br.Main_BeforeAgameisSet=!1),Wu(),Br.Main_Go===rr?(Ky=xb,ab()):Br.Main_Go===ur?ji():Br.Main_Go===_r?(Ky=Ib,ab()):Br.Main_Go===fr?To():Br.Main_Go===vr?tk():Br.Main_Go===gr?Dw():Br.Main_Go===yr?Ik():Br.Main_Go===br?dd():Br.Main_Go===wr?il():Br.Main_Go===kr?(Ky=Eb,ab()):Br.Main_Go===Ar?IM():Br.Main_Go===mr?eM():Br.Main_Go===hr?LC():Br.Main_Go===pr?(Ky=Sb,ab()):Br.Main_Go===Cr?$A():Br.Main_Go===Er?_w():Br.Main_Go===Mr?$I():Br.Main_Go===Ir?(Ky=Cb,ab()):Br.Main_Go===Sr?bs():Br.Main_Go===xr?(Ky=Mb,ab()):Br.Main_Go===Pr?(Ky=Pb,ab()):Br.Main_Go===Lr&&rI(),tr=window.setTimeout(f_,3e3),e&&If()}function v_(){xf("Main_values",JSON.stringify(Br))}function g_(){Br=nb(Br,Lf("Main_values",{}))}function y_(e){e===rr?ib():e===ur?Yi():e===_r?ib():e===fr?Bo():e===vr?nk():e===gr?Jw():e===yr?Sk():e===br?ld():e===wr?ol():e===kr?ib():e===Ar?SM():e===mr?tM():e===hr?TC():e===pr?ib():e===Cr?eC():e===Er?fw():e===Mr?eS():e===Ir?ib():e===Sr?ws():e===xr?ib():e===Pr?ib():e===Lr&&uI(),Uu("settings_scroll")&&jk()}function b_(){Bu("label_refresh","icon-refresh",t+jt),Bu("label_side_panel","icon-ellipsis",Rn),Nu("top_bar_user","icon_center_focus"),Du("top_bar_live",_),Du("top_bar_user",u),Du("top_bar_featured",an),Du("top_bar_game",f),Du("top_bar_vod",Kt),Du("top_bar_clip",U)}function w_(){Bu("label_side_panel","icon-arrow-circle-left",I),M_("top_bar_live"),M_("top_bar_game"),M_("top_bar_vod"),M_("top_bar_clip"),M_("top_bar_featured"),Ru("top_bar_user","icon_center_focus")}function k_(e){return'<div style="font-size: 30%; position: fixed; line-height: 0; text-shadow: #000000 0 0 5.7px, #000000 0 0 5.7px, #000000 0 0 4px">'+e+"</div>"}function A_(e){return e=new Date(e),Hr?e.getDate()+" "+Yt[e.getMonth()]+" "+e.getFullYear():Yt[e.getMonth()]+" "+e.getDate()+" "+e.getFullYear()}function C_(){if(Au)try{var e=Android.getversion();wu="Android: "+e+" Web: "+bu,E_(e)&&Gu("label_update")}catch(e){}Vu("dialog_about_text",va+ye+wu+ga)}function E_(e){return e=e.split("."),parseFloat(e[0]+"."+e[1])<parseFloat(gu)||parseInt(e[2])<parseInt(yu.split(".")[1])}function M_(e){for(e=document.getElementById(e);e.firstChild;)e.removeChild(e.firstChild)}function I_(e){for(var t,n=0;n<Rr.length;n++)null!==(t=document.getElementById(Rr[n].id))&&Mu(t,Rr[n].src+Cu,e)}function S_(){Rr=[]}function x_(e,t){Rr.push({id:e,src:t})}function P_(e){lr=e}function L_(e){var t=0;return lr<e?t=-1:e<lr&&(t=1),lr=e,t}function T_(e){cr.src=e}function B_(e){return(Fr=document.createElement("td")).setAttribute("id",e),Fr.className="stream_cell",Fr}function O_(e,t,n){return(Fr=document.createElement("td")).setAttribute("id",t[4]+e),Fr.setAttribute(vu,n[0]),Fr.setAttribute("data-id",n[1]),Fr.className="stream_cell",Fr.innerHTML=U_(e,t,n),Fr}function G_(e,t,n){var a=document.getElementById(e),i=e.split(n[5])[1];a.setAttribute(vu,t[0]),a.setAttribute("data-id",t[1]),a.innerHTML=U_(i,n,t),a.setAttribute("id",n[4]+i)}function U_(e,t,n){return x_(t[1]+e,n[2]),'<div id="'+t[0]+e+'" class="stream_thumbnail_channel" ><img id="'+t[1]+e+'" class="stream_img"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel">'+n[3]+"</div></div>"}function R_(e,t,n,a,i){return e<$r&&T_(i[0]),(Fr=document.createElement("td")).setAttribute("id",a[8]+t),Fr.setAttribute(vu,JSON.stringify(n)),Fr.className="stream_cell",Fr.innerHTML=V_(t,a,i),Fr}function N_(e,t,n,a){var i=document.getElementById(e),o=e.split(a[9])[1];i.setAttribute(vu,JSON.stringify(t)),i.innerHTML=V_(o,a,n),i.setAttribute("id",a[8]+o)}function V_(e,t,n){return x_(t[1]+e,n[0]),'<div id="'+t[0]+e+'" class="stream_thumbnail_video" ><img id="'+t[1]+e+'" class="stream_img"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;">'+n[1]+'</div><div id="'+t[7]+e+'"class="stream_info" style="width:33%; float: right; text-align: right; display: inline-block;">'+n[5]+'</div><div id="'+t[4]+e+'"class="stream_info">'+xS.parse(n[2])+'</div><div id="'+t[5]+e+'"class="stream_info">'+v+n[3]+'</div><div id="'+t[6]+e+'"class="stream_info">'+n[4]+"</div></div>"}function D_(e,t,n){return(Fr=document.createElement("td")).setAttribute("id",t[5]+e),Fr.setAttribute(vu,n[0]),Fr.className="stream_cell",Fr.innerHTML=J_(e,t,n),Fr}function J_(e,t,n){return x_(t[1]+e,n[1]),'<div id="'+t[0]+e+'" class="stream_thumbnail_game" ><img id="'+t[1]+e+'" class="stream_img"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel">'+n[0]+'</div><div id="'+t[4]+e+'"class="stream_info" style="width: 100%; display: inline-block;">'+n[2]+"</div></div>"}function F_(){Gr=!0}function H_(){Or=!0}function q_(){Or=!1,window.setTimeout(H_)}function z_(){return!Or||!Gr}function X_(e,t,n,a,i,o){Ru(n[0]+e+"_"+t,pu),Qu(t,e,a,i),L_(e)||o?1<e?u_(e+1,0,n[0])?tf(n[6],-1*document.getElementById(n[4]+e+"_"+t).offsetTop+.42*screen.height):F_():tf(n[6],.07*screen.height):F_()}function j_(e,t,n,a,i,o){Ru(n[0]+e+"_"+t,pu),Qu(t,e,a,i),L_(e)||o?e?u_(e+1,0,n[0])&&tf(n[10],-1*document.getElementById(n[8]+(e-1)+"_"+t).offsetTop):tf(n[10],.07*screen.height):F_()}function Y_(e,t,n,a,i){Ru(n[0]+e+"_"+t,pu),Qu(t,e,a,i),L_(e)?tf(n[10]?n[10]:n[7],e?-1*document.getElementById(n[5]+(e-1)+"_"+t).offsetTop+.025*screen.height:-1*document.getElementById(n[5]+e+"_"+t).offsetTop+.025*screen.height):F_()}function W_(e,t){return null===document.getElementById(t+e)}function Q_(e,t,n){W_(e,t[0])||(document.body.removeEventListener("keydown",n),Br.Play_selectedChannel=JSON.parse(document.getElementById(t[8]+e).getAttribute(vu)),Br.Play_selectedChannel_id=Br.Play_selectedChannel[1],Br.Play_selectedChannel=Br.Play_selectedChannel[0],Br.Main_Go===hr?(Br.Play_DisplaynameHost=document.getElementById(t[3]+e).textContent,Br.Play_selectedChannelDisplayname=Br.Play_DisplaynameHost.split(ne)[1],Br.Play_isHost=!0):Br.Play_selectedChannelDisplayname=document.getElementById(t[3]+e).textContent,Br.Play_gameSelected=document.getElementById(t[5]+e).textContent.split(v)[1],Br.Main_Go===fr&&(Br.Main_OldgameSelected=Br.Main_gameSelected),Z_())}function Z_(){document.body.addEventListener("keydown",dg,!1),Ou("scene1"),Gu("scene2"),mv(),bv(),Rv(),oo()&&!XC&&nE&&LE(),sf(mp)}function K_(e,t,n){W_(e,t[0])||(document.body.removeEventListener("keydown",n),Gb=JSON.parse(document.getElementById(t[8]+e).getAttribute(vu)),rm=parseInt(Gb[1]),Br.Play_gameSelected=Gb[2],Br.Main_selectedChannel=Gb[3],Br.Main_selectedChannelDisplayname=Gb[4],Br.Main_selectedChannelLogo=Gb[5],Br.Main_selectedChannel_id=Gb[6],Br.ChannelVod_vodId=Gb[7],al=parseInt(Gb[8]),Ob=Gb[9],Rb=Gb[10],Tb=Gb[11],Gb=Gb[0],Ub=document.getElementById(t[4]+e).textContent,Bb=document.getElementById(t[6]+e).textContent,document.body.addEventListener("keydown",Jm,!1),Ou("scene1"),Gu("scene2"),bv(),rv(),av(),sv(),oo()&&!XC&&nE&&LE(),sf(hm))}function $_(e,t,n){W_(e,t[0])||(document.body.removeEventListener("keydown",n),Br.ChannelVod_vodId=JSON.parse(document.getElementById(t[8]+e).getAttribute(vu)),zd=parseInt(Br.ChannelVod_vodId[1]),Yd=Br.ChannelVod_vodId[2],Br.Play_gameSelected=Br.ChannelVod_vodId[3],Br.Main_selectedChannel=Br.ChannelVod_vodId[4],ap=Br.ChannelVod_vodId[5],Br.ChannelVod_vodId=Br.ChannelVod_vodId[0].substr(1),Br.Main_selectedChannelDisplayname=document.getElementById(t[3]+e).textContent,tl=document.getElementById(t[4]+e).textContent,nl=document.getElementById(t[5]+e).textContent,el=document.getElementById(t[11]+e).innerHTML+" "+document.getElementById(t[6]+e).textContent,ef())}function ef(){document.body.addEventListener("keydown",Zy,!1),Ou("scene1"),Gu("scene2"),Ey(),bv(),rv(),sv(),zg=!1,oo()&&!XC&&nE&&LE(),sf(Kg)}function tf(e,t){document.getElementById(e).style.top=t+"px",window.setTimeout(F_,10)}function nf(e,t){Gr=!1,Nu(t[0]+e,pu)}function af(){var e=document.createElement("span");e.className="fa",e.style.display="none",document.body.insertBefore(e,document.body.firstChild),"icons"!==window.getComputedStyle(e,null).getPropertyValue("font-family")?(dr&&console.log("Main_Checktylesheet reloading"),of("https://fgl27.github.io/SmartTwitchTV/release/githubio/css/icons.min.css")):dr&&console.log("Main_Checktylesheet loaded OK"),document.body.removeChild(e)}function of(e){var t=document.createElement("link");t.rel="stylesheet",t.href=e,document.getElementsByTagName("head")[0].appendChild(t)}function sf(e){"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?window.setTimeout(e):document.addEventListener("DOMContentLoaded",e)}function df(){var e=(new Date).getTime()+ku;return e=new Date(e),(Hr?Wt[e.getDay()]+" "+e.getDate()+" "+Yt[e.getMonth()]:Wt[e.getDay()]+" "+Yt[e.getMonth()]+" "+e.getDate())+" "+qp(e.getHours())+":"+qp(e.getMinutes())}function lf(){document.hidden||(cf(),window.setTimeout(cf,2e4))}function cf(){document.hidden||(Du("label_clock",df()),Cu="?"+Math.random())}function rf(){document.hidden||oo()&&window.setTimeout(function(){wE()||XC||(ih=Hi[Br.Users_Position].name,dE())},5e3)}function uf(){Ru("side_panel_"+Wr,"side_panel_text_focus")}function _f(){Nu("side_panel_"+Wr,"side_panel_text_focus")}function ff(){Wr?1===Wr?i_():2===Wr?(document.body.addEventListener("keydown",ar,!1),t_()):3===Wr?(document.body.addEventListener("keydown",ar,!1),o_()):4===Wr?Xu(ar):5===Wr?mf(rr):6===Wr?mf(_o()?Ar:ur):7===Wr?mf(Pr):8===Wr?mf(_r):9===Wr?mf(Mr):10===Wr&&mf(Ir):Br.Main_Go!==vr?(Br.Search_isSearching||Br.Main_Go!==br&&Br.Main_Go!==kr&&Br.Main_Go!==wr||Pd(),Br.Main_BeforeSearch=Br.Main_Go,Br.Main_Go=vr,y_(Br.Main_BeforeSearch),h_()):document.body.addEventListener("keydown",ar,!1),pf()}function mf(e){e===Br.Main_Go?document.body.addEventListener("keydown",ar,!1):(Br.Main_Before=Br.Main_Go,Br.Main_Go=e,y_(Br.Main_Before),h_())}function hf(e){ar=e,document.body.removeEventListener("keydown",ar),document.body.addEventListener("keydown",vf,!1),Nu("side_panel","side_panel_hide")}function pf(){document.body.removeEventListener("keydown",vf),Ru("side_panel","side_panel_hide"),_f(),Wr=0,uf()}function vf(e){switch(e.keyCode){case Ua:case La:document.body.addEventListener("keydown",ar,!1),pf(),Ef();break;case Ta:Wr&&(_f(),Wr--,uf());break;case Oa:Wr<10&&(_f(),Wr++,uf());break;case Ga:ff()}}function gf(e){switch(e.keyCode){case Ua:ju();break;case Ba:2<++Vr&&(Vr=0),Yu(),qu(),zu();break;case La:--Vr<0&&(Vr=2),Yu(),qu(),zu();break;case Ga:Vr?Au&&1===Vr?Android.mclose(!1):Au&&2===Vr&&Android.mclose(!0):ju()}}Iu();var yf=["top_bar_live","top_bar_user","top_bar_featured","top_bar_game","top_bar_vod","top_bar_clip"],bf=[rr,Ar,Pr,_r,Mr,Ir],wf=!1;function kf(e){if(!(wf||Ky.FirstLoad||z_()))switch(e.keyCode){case Ua:d_()?(Ef(),s_()):a_()?(Ef(),n_()):Br.Main_Go===fr?(Br.Main_OldgameSelected=Br.Main_gameSelected,Br.Games_return?(Br.Main_Go=gr,Br.Main_gameSelected=Br.gameSelectedOld):(Br.Main_Go=Br.Main_BeforeAgame,Br.Main_BeforeAgame=rr),Bo(),Cf(),p_()):Br.Main_Go===xr?(bb(fr),Cf(),p_()):Br.Main_Go===pr?(bb(Ar),Cf(),p_()):Br.Main_Go===kr?(bb(br),Cf(),p_()):Br.Main_Go===Sr?(Br.Main_Go=fr,ws(),Cf(),p_()):Br.Main_Go===mr?(Br.Main_Go=Ar,tM(),Cf(),p_()):Br.Main_Go===hr?(Br.Main_Go=Ar,TC(),Cf(),p_()):Br.Main_Go===Lr?(Br.Main_Go=Ar,uI(),Cf(),p_()):Br.Main_Go===Cr?(Br.Main_Go=Ar,eC(),Cf(),p_()):Br.Main_Go===br?(Br.Main_Go=Br.Main_BeforeChannel,Br.Main_BeforeChannel=rr,ld(),Br.Main_selectedChannel_id="",Cf(),p_()):Br.Main_Go===wr?(Br.Main_Go=br,ol(),Cf(),p_()):Br.Main_Go===yr?(Br.Main_Go===Br.Main_BeforeSearch?Br.Main_Go=rr:Br.Main_Go=Br.Main_BeforeSearch,Sk(),Br.Search_isSearching=!1,Cf(),p_()):Br.Main_Go===gr?(Br.Main_Go===Br.Main_BeforeSearch?Br.Main_Go=rr:Br.Main_Go=Br.Main_BeforeSearch,Br.Search_isSearching=!1,Jw(),Cf(),p_()):Br.Main_Go===Er?(Br.Main_Go===Br.Main_BeforeSearch?Br.Main_Go=rr:Br.Main_Go=Br.Main_BeforeSearch,Br.Main_selectedChannel_id&&Ld(),fw(),Br.Search_isSearching=!1,Cf(),p_()):(Cf(),hf(kf));break;case Ba:if(Br.Search_isSearching||Br.Main_Go===br||Br.Main_Go===wr||Br.Main_Go===kr||Br.Main_Go===yr||Br.Main_Go===gr||Br.Main_Go===Er)break;Nu(yf[Br.Main_CenterLablesVectorPos],"icon_center_line"),Br.Main_CenterLablesVectorPos++,5<Br.Main_CenterLablesVectorPos&&(Br.Main_CenterLablesVectorPos=0),Ef(),Mf();break;case La:if(Br.Search_isSearching||Br.Main_Go===br||Br.Main_Go===wr||Br.Main_Go===kr||Br.Main_Go===yr||Br.Main_Go===gr||Br.Main_Go===Er)break;Nu(yf[Br.Main_CenterLablesVectorPos],"icon_center_line"),Br.Main_CenterLablesVectorPos--,Br.Main_CenterLablesVectorPos<0&&(Br.Main_CenterLablesVectorPos=5),Ef(),Mf();break;case Oa:Nu(yf[Br.Main_CenterLablesVectorPos],"icon_center_line"),document.body.removeEventListener("keydown",kf),Ur=!1,p_();break;case Ga:Sf()}}function Af(e){window.clearTimeout(tr),m_(),document.body.removeEventListener("keydown",e),document.body.removeEventListener("keydown",kf),document.body.addEventListener("keydown",kf,!1),Ef()}function Cf(){Nu(yf[Br.Main_CenterLablesVectorPos],"icon_center_line"),document.body.removeEventListener("keydown",kf),Ur=!1}function Ef(){Ur=!0,Ru(yf[Br.Main_CenterLablesVectorPos],"icon_center_line")}function Mf(){y_(Br.Main_Go),Br.Main_Go=bf[Br.Main_CenterLablesVectorPos],Br.Main_Go!==Ar||_o()?h_(!0):(Br.Main_Go=ur,Cf(),h_())}function If(){Br.Main_Go===rr?(Ky=xb,document.body.removeEventListener("keydown",Ab)):Br.Main_Go===Ar?document.body.removeEventListener("keydown",HM):Br.Main_Go===fr?document.body.removeEventListener("keydown",Ko):Br.Main_Go===Pr?(Ky=Pb,document.body.removeEventListener("keydown",Ab)):Br.Main_Go===yr?document.body.removeEventListener("keydown",Dk):Br.Main_Go===gr?document.body.removeEventListener("keydown",Zw):Br.Main_Go===Er?document.body.removeEventListener("keydown",Mw):Br.Main_Go===wr?document.body.removeEventListener("keydown",yl):Br.Main_Go===br?document.body.removeEventListener("keydown",Td):Br.Main_Go===hr?document.body.removeEventListener("keydown",qC):Br.Main_Go===Lr?document.body.removeEventListener("keydown",SI):Br.Main_Go===Cr?document.body.removeEventListener("keydown",fC):Br.Main_Go===_r?(Ky=Ib,document.body.removeEventListener("keydown",Ab)):Br.Main_Go===kr?(Ky=Eb,document.body.removeEventListener("keydown",Ab)):Br.Main_Go===Mr?document.body.removeEventListener("keydown",yS):Br.Main_Go===Ir?(Ky=Cb,document.body.removeEventListener("keydown",Ab)):Br.Main_Go===xr?(Ky=Mb,document.body.removeEventListener("keydown",Ab)):Br.Main_Go===pr?(Ky=Sb,document.body.removeEventListener("keydown",Ab)):Br.Main_Go===Sr?document.body.removeEventListener("keydown",Gs):Br.Main_Go===mr&&document.body.removeEventListener("keydown",gM)}function Sf(){window.clearTimeout(tr),m_(),Br.Main_Go!==br&&(Br.Main_BeforeChannelisSet=!1),Br.Main_Go!==fr&&(Br.Main_BeforeAgameisSet=!1),Wu(),Br.Main_Go===rr?(Ky=xb,ob()):Br.Main_Go===Ar?xM():Br.Main_Go===Pr?(Ky=Pb,ob()):Br.Main_Go===fr?Oo():Br.Main_Go===Cr?tC():Br.Main_Go===br?cd():Br.Main_Go===wr?sl():Br.Main_Go===yr?xk():Br.Main_Go===gr?Fw():Br.Main_Go===Er?mw():Br.Main_Go===_r?(Ky=Ib,ob()):Br.Main_Go===pr?(Ky=Sb).loadingData||Ky.key_refresh():Br.Main_Go===Mr?tS():Br.Main_Go===Ir?(Ky=Cb,ob()):Br.Main_Go===xr?(Ky=Mb,ob()):Br.Main_Go===kr?(Ky=Eb,ob()):Br.Main_Go===Sr?ks():Br.Main_Go===mr?nM():Br.Main_Go===hr?BC():Br.Main_Go===Lr&&_I(),tr=window.setTimeout(f_,3e3)}function xf(e,t){localStorage.setItem(e,t)}function Pf(e,t){return parseInt(localStorage.getItem(e))||t}function Lf(e,t){return JSON.parse(localStorage.getItem(e))||t}function Tf(e,t){var n=t.toString();return(localStorage.getItem(e)||n)===n?t:!t}function Bf(e){console.log(e);for(var t=0;t<e.length;t++)console.log("Character is: "+e.charAt(t)+" it's Unicode is: \\u"+e.charCodeAt(t).toString(16).toUpperCase())}function Of(e){console.log("processCode");var t="";t=e.match(/code=(\w+)/),Nr=t?(t=t[1],console.log("if code "+t),t):(console.log("else code "+t),0)}function Gf(e,t,n,a,i,o,s){Au?Rf(e,t,n,a,i,o):Nf(e,t,n,a,i,o,s)}function Uf(e,t,n,a,i,o,s,d){Au&&d?Rf(e,t,n,a,i,o):Nf(e,t,n,a,i,o,s)}function Rf(e,t,n,a,i,o){var s=Android.mreadUrl(e,t,n,a);s&&200===(s=JSON.parse(s)).status?i(s.responseText):o()}function Nf(e,t,n,a,i,o,s){var d=new XMLHttpRequest;d.open("GET",(s?Eu:"")+e,!0),d.timeout=t,0<n&&d.setRequestHeader(cu,lu),1<n&&d.setRequestHeader(ru,fu),2<n&&d.setRequestHeader(uu,a),d.ontimeout=function(){},d.onreadystatechange=function(){if(4===d.readyState){if(200===d.status)return void i(d.responseText);o()}},d.send(null)}var Vf=0,Df=null,Jf=0,Ff=!1,Hf=0,qf=0,zf=!1,Xf=0,jf=2e3,Yf=5,Wf="source",Qf=Wf,Zf=0,Kf=[],$f="",em=!1,tm=0,nm=0,am=1,im=!1,om=0,sm=!1,dm=!1,lm=2e3,cm=[0,5],rm=0,um=!1,_m=!1,fm=["next_button","back_button"],mm=0;function hm(){ev(),Rv(),Cp(document.getElementById("stream_info_icon"),Br.Main_selectedChannelLogo),Du("stream_info_name",Br.Main_selectedChannelDisplayname),Vu("stream_info_title",Ob),Vu("stream_info_game",Tb+" "+Bb+" "+Rb),Du("stream_live_icon",Ub),Du("progress_bar_duration",zp(rm)),Ry((ip=cm)[1]),Ju("stream_info_title"),Br.Play_isHost=!1,Du("progress_bar_current_time",zp(0)),Du("stream_live_time",""),Du("stream_watching_time",""),im=null!==Br.ChannelVod_vodId,uc=Gt+".",im?(rc=al,gc()):Yc(),Vu("pause_button",'<i class="pause_button3d icon-pause"></i>'),Gu("progress_pause_holder"),Vm(),Gu("scene_channel_panel_bottom"),Jf=om=0,window.clearInterval(Df),dm=!1,Qm=-13,tm=nm=0,Zf=2,zv(3),Vh=!1,Tv(),oo()?(Ya=!0,Wa=Br.Main_selectedChannel_id,_i()):$p(),document.addEventListener("visibilitychange",Am,!1),Ff=!1,zf=!(qf=Hf=0),Sm(),pm(),document.body.removeEventListener("keyup",F_)}function pm(){Xf=0,jf=2e3,vm()}function vm(){Gf("https://clips.twitch.tv/api/v2/clips/"+Gb+"/status",jf,1,null,ym,gm,!0)}function gm(){++Xf<Yf?(jf+=250,vm()):(tv(),Zv(3))}function ym(e){Kf=[],e=JSON.parse(e).quality_options;for(var t=0;t<e.length;t++)Kf.length?Kf.push({id:e[t].quality+"p"+bm(e[t].frame_rate),url:e[t].source}):Kf.push({id:e[t].quality+"p"+bm(e[t].frame_rate)+" (source)",url:e[t].source});nm=am,wm()}function bm(e){return 40<e?60:""}function wm(){window.clearInterval(Df),$f=Kf[Zf=0].url,-1!==Wf.indexOf("source")&&(Wf="source");for(var e=0;e<Um();e++){if(Kf[e].id===Wf){$f=Kf[Zf=e].url;break}-1!==Kf[e].id.indexOf(Wf)&&($f=Kf[Zf=e].url)}Qf=Wf,dr&&console.log("PlayClip_onPlayer:",'\n\n"'+$f+'"\n'),nm=am,Au&&zf&&Android.startVideoOffset($f,3,em?-1:Android.gettime()),em=!1,km()}function km(){gh&&!wv()&&yv(),Au&&(Jf=0,ep=1+lm/1e3,sm=!1,window.clearInterval(Df),Df=window.setInterval(Cm,tp))}function Am(){document.hidden&&Mm()}function Cm(){Au&&(tm=Android.gettime()),zf&&Vf===tm&&!Fp()?++Jf>ep&&(sm&&dm&&Zf<Um()-1?Zf++:!sm&&dm&&om++,navigator.onLine?1<om?Jp(om,3,Em):(Rm(),wm(),dm=!0):Dp(!1,3)):(Jf=om=0,dm=!1),Vf=tm}function Em(e){if(!e){if(!(Zf<Um()-1))return void Dp(!1,3);Zf++}om=0,Rm(),wm(),dm=!0}function Mm(){zf&&(Im(),sv(),Qp())}function Im(){Kf=[],window.clearInterval(Df),Au&&Android.stopVideo(3),zf=!1,Hc(),Zp(),AE(),document.body.removeEventListener("keydown",Jm),document.removeEventListener("visibilitychange",Am),Tm(),document.getElementById("scene2_pannel_0").style.display="none",document.getElementById("scene2_pannel_1").style.width="30%",document.getElementById("quality_name").style.width="77%",document.getElementById("quality_name").style.fontSize="87.5%",al=0}function Sm(){var e,t=xm(1,0),n=xm(-1,Ky.ColoumnsCount-1);_m=um=!1,t?(um=!0,Du("next_button_text_name",(e=JSON.parse(document.getElementById(Ky.ids[8]+t).getAttribute(vu)))[4]),Du("next_button_text_title",e[9]),Pm(0,1)):Pm(0,0),n?(_m=!0,Du("back_button_text_name",(e=JSON.parse(document.getElementById(Ky.ids[8]+n).getAttribute(vu)))[4]),Du("back_button_text_title",e[9]),Pm(1,1)):Pm(1,0)}function xm(e,t){return u_(Ky.posY,Ky.posX+e,Ky.ids[0])?Ky.posY+"_"+(Ky.posX+e):u_(Ky.posY+e,t,Ky.ids[0])?Ky.posY+e+"_"+t:null}function Pm(e,t){document.getElementById(fm[e]).style.opacity=t}function Lm(){mm?1===mm?(kb(1,0),Im(),K_(Ky.posY+"_"+Ky.posX,Ky.ids,Ab)):-1===mm&&(kb(-1,Ky.ColoumnsCount-1),Im(),K_(Ky.posY+"_"+Ky.posX,Ky.ids,Ab)):(im&&Br.Play_ChatForceDisable&&(Fp()?Jc(pc):Fc()),Nv()||Lv(3))}function Tm(){Rg=!1,Ug=Ng=0,vv(),Wf=Qf,document.getElementById("scene_channel_panel").style.opacity="0",Au&&Oy(Android.gettime()/1e3,rm,!0),Vu("progress_bar_jump_to",wa),document.getElementById("progress_bar_steps").style.display="none",window.clearInterval(rg)}function Bm(){Om(),Hp(),rg=window.setInterval(Om,1e3),sv(),Sy(),Gm(),Rm(),document.getElementById("scene_channel_panel").style.opacity="1",Nm()}function Om(){Au&&Oy(Android.gettime()/1e3,rm,!Rg)}function Gm(){for(var e=Zf=0;e<Um();e++){if(Kf[e].id===Wf){Zf=e;break}-1!==Kf[e].id.indexOf(Wf)&&(Zf=e)}}function Um(){return Kf.length}function Rm(){1===Um()?(document.getElementById("quality_arrow_up").style.opacity="0",document.getElementById("quality_arrow_down").style.opacity="0"):Zf?Zf===Um()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(Wf=Kf[Zf].id).indexOf("source")?Du("quality_name",Wf.replace("source",ge)):Du("quality_name",Wf)}function Nm(){$m=window.setTimeout(Tm,5e3+Xg)}function Vm(){document.getElementById("scene2_pannel_1").style.width="18%",document.getElementById("quality_name").style.width="60%",document.getElementById("quality_name").style.fontSize="72%",Du("open_vod_text",im?sn:dn),document.getElementById("scene2_pannel_0").style.display="inline-block"}function Dm(){im?(Br.vodOffset=al,Im(),document.body.addEventListener("keydown",Zy,!1),Tv(),sf(Kg)):(Vh=!0,nv(ln),window.setTimeout(function(){Vh=!1,av()},2e3))}function Jm(e){if(nm!==am)switch(e.keyCode){case Ua:dv()?(sv(),Mm()):ov()}else switch(e.keyCode){case La:wE()?oh&&!XC&&(BE(),oh--,SE()):nh&&!fv()&&wv()?(Ym++,Sv()):fv()?(vv(),2===qg?(Ov(),5<++Nh&&(Nh=0),Bv()):qg?1===qg&&-1<mm&&(mm--,_m||!mm?xy():mm++):(Vy(-1,rm),Xg=2500),Nm()):Nv()?(Hv(),Jv(),--qh<0&&(qh=3),Dv()):Bm();break;case Ba:wE()?oh<ZC-1&&!XC&&(BE(),oh++,SE()):!nh||fv()||Nv()?fv()?(vv(),2===qg?(Ov(),--Nh<0&&(Nh=5),Bv()):qg?1===qg&&mm<1&&(mm++,um||!mm?xy():mm--):(Vy(1,rm),Xg=2500),Nm()):Nv()?(Hv(),Jv(),3<++qh&&(qh=0),Dv()):Bm():xf("ChatEnable",(gh=wv()||Nv()?(bv(),!1):(yv(),!0))?"true":"false");break;case Ta:Nv()?Hv():fv()?(2===qg&&1!==Nh?(qg--,xy()):1===qg?(qg--,xy()):0<Zf&&1===Nh&&(Zf--,Rm()),vv(),Nm()):wE()?wE()?IE():Bm():kE();break;case Oa:Nv()?Hv():fv()?(qg?1===qg?(qg++,xy()):Zf<Um()-1&&1===Nh&&(Zf++,Rm()):(qg++,xy()),vv(),Nm()):wE()?AE():nh&&wv()?(4<++Km?Iv(!(Km=1)):4===Km&&Iv(!0),Ev(!0)):Bm();break;case Ga:Nv()?qv(3):fv()?qg?1===qg?Lm():Qv(3):(vv(),Nm(),Ug&&Gy()):wE()?(Im(),Q_(oh,sE,dg)):Bm();break;case Ua:fv()?Tm():wE()?AE():dv()?(sv(),Mm()):ov();break;case xa:case Sa:case Pa:im&&!Br.Play_ChatForceDisable&&(Fp()?Jc(pc):Fc()),Nv()||Lv(3)}}var Fm,Hm,qm,zm,Xm,jm,Ym=0,Wm=Ym,Qm=-5,Zm=.55,Km=3,$m=null,eh="source",th=eh,nh=!0,ah=!1,ih="",oh=0,sh=2e3,dh=0,lh=1,ch=2,rh=0,uh=null,_h=0,fh=0,mh=0,hh="",ph=[],vh=0,gh=!1,yh=null,bh=null,wh=null,kh="",Ah=0,Ch=5,Eh=0,Mh=5,Ih=0,Sh=!1,xh=null,Ph=!1,Lh=0,Th=null,Bh=0,Oh=0,Gh=!1,Uh=!1,Rh=!1,Nh=1,Vh=!1,Dh=!1,Jh=1e4,Fh=2e3,Hh="",qh=0,zh=3,Xh=null,jh="",Yh=0,Wh=0,Qh="",Zh=!0,Kh=!1,$h=!1,ep=7,tp=1e3,np=0,ap="",ip=[],op=[{top:51.8,left:75.1,sizeOffset:[31,16,0,0]},{top:33,left:75.1,sizeOffset:[12.5,0,-6.25,0]},{top:.2,left:75.1,sizeOffset:[0,0,0,0]},{top:.2,left:38.3,sizeOffset:[0,0,0,0]},{top:.2,left:.2,sizeOffset:[0,0,0,0]},{top:33,left:.2,sizeOffset:[12.5,0,-6.25,0]},{top:51.8,left:.2,sizeOffset:[31,16,0,0]},{top:51.8,left:38.3,sizeOffset:[31,16,0,0]}],sp=[0,0,0,1,2,2,2,1],dp=[[0,1,2,2,2,1,0,0],[7,3,3,3,3,3,7,7],[6,5,4,4,4,5,6,6]],lp=[{containerHeight:17,percentage:"12.5%",dialogTop:15},{containerHeight:32,percentage:"25%",dialogTop:30},{containerHeight:48,percentage:"50%",dialogTop:50},{containerHeight:99.6,percentage:"100%",dialogTop:115}],cp=1,rp=["chat_extra_small","chat_size_small","chat_size_default","chat_size_biger","chat_size_bigest"];function up(){Xm=document.getElementById("chat_container"),jm=document.getElementById("inner_progress_bar"),Ym=Pf("ChatPositionsValue",0),Km=Pf("ChatSizeValue",3),gh=Tf("ChatEnable",!1),nh=Tf("Play_isFullScreen",!0),Ev(!1),Mv(!1),fp()}function _p(e){e?void 0!==Fm&&(Ym=Fm,Km=qm,(gh=Hm)||bv(),Ev(!1)):(Fm=Ym,Hm=gh,qm=Km,Ym=0,yv(),Km=4,Iv(gh=!0),Ev(!1),nc&&(nc.scrollTop=nc.scrollHeight)),xf("Play_isFullScreen",nh)}function fp(){cp=nA("chat_font_size");for(var e=0;e<rp.length;e++)Nu("chat_inner_container",rp[e]);Ru("chat_inner_container",rp[cp])}function mp(){ev(),Vu("stream_live_icon",'<div style="vertical-align: middle; display: inline-block"><i class="icon-circle" style="color: red; font-size: 105%; "></i></div><div style="display: inline-block">'+wa+_.toUpperCase()+"</div>"),M_("stream_info_title"),im=!(Dh=!1),Cp(document.getElementById("stream_info_icon"),Ea),Br.Play_isHost?Du("stream_info_name",Br.Play_DisplaynameHost):Du("stream_info_name",Br.Play_selectedChannelDisplayname),Pm(0,0),Pm(1,0),Br.Play_WasPlaying=1,v_(),ah=Br.Play_isHost,Br.Play_isHost=!1,Kh=!1,Gu("scene_channel_panel_bottom"),Wh=Yh=0,Du("stream_watching_time",g+zp(0)),kh=Xp(0),Du("stream_live_time",y+kh),Ou("progress_pause_holder"),zv(1),Qm=-5,Bh=Oh=np=0,window.clearInterval(Th),Uh=!1,Jh=3e3,Zh=!(Eh=0),rh=dh,Rh=!(Sh=!(mh=fh=_h=Ph=0)),document.addEventListener("visibilitychange",pp,!1),gp(),Ep(),document.body.removeEventListener("keyup",F_),uh=window.setInterval(wp,6e4)}function hp(e){nv(e)}function Play_CheckResume(){Sh&&pp(),Cg&&dy(),zf&&(Mm(),window.clearInterval(Df))}function pp(){document.hidden?Nv()?(sv(),bv(),Yp()):(Zp(),Rh=!1,Kl(),window.clearInterval(uh)):(Sh=!0,rv(),Sh&&(ev(),Jh=3e3,Kh=!(Eh=0),Dh?wp():gp(),rh=dh,Ih=0,navigator.onLine?Ep():zm=window.setInterval(vp,100),uh=window.setInterval(wp,6e4)))}function vp(){(navigator.onLine||200<Ih)&&(window.clearInterval(zm),Ep()),Ih++}function gp(){Nf("https://api.twitch.tv/kraken/streams/"+Br.Play_selectedChannel_id,Jh,2,null,yp,bp,!1)}function yp(e){null!==(e=JSON.parse(e)).stream&&(Du("stream_info_name",ah?Br.Play_DisplaynameHost:Br.Play_selectedChannelDisplayname),Br.Play_selectedChannel_id=e.stream.channel._id,Vu("stream_info_title",xS.parse(e.stream.channel.status,!1,!0)),Br.Play_gameSelected=e.stream.game,Hh=" ["+e.stream.channel.broadcaster_language.toUpperCase()+"]",Du("stream_info_game",v+Br.Play_gameSelected+h+l_(e.stream.viewers)+" "+J+Hh),Br.Play_selectedChannelLogo=e.stream.channel.logo,Dh=!0,Cp(document.getElementById("stream_info_icon"),Br.Play_selectedChannelLogo),kh=e.stream.created_at,oo()?(Ya=!0,Wa=Br.Play_selectedChannel_id,_i()):$p())}function bp(){Eh<Mh&&(Jh+=500,window.setTimeout(function(){Sh&&gp()},750)),Eh++}function wp(){Nf("https://api.twitch.tv/kraken/streams/"+Br.Play_selectedChannel_id,3e3,2,null,kp,Ap,!1)}function kp(e){null!==(e=JSON.parse(e)).stream&&(Vu("stream_info_title",xS.parse(e.stream.channel.status,!1,!0)),Br.Play_gameSelected=e.stream.game,Du("stream_info_game",v+Br.Play_gameSelected+h+l_(e.stream.viewers)+" "+J+Hh),Dh||Cp(document.getElementById("stream_info_icon"),e.stream.channel.logo))}function Ap(){np<Mh?(window.setTimeout(function(){Sh&&wp()},2500),np++):np=0}function Cp(e,t){e.onerror=function(){this.src=Ea,Dh=!1},e.src=t}function Ep(){Ah=0,Fh=2e3+(Kh?3e3:0),Mp()}function Mp(){var e,t;if(e=rh===dh?"https://api.twitch.tv/api/channels/"+Br.Play_selectedChannel+"/access_token"+(oo()&&Hi[Br.Users_Position].access_token?"?oauth_token="+Hi[Br.Users_Position].access_token:""):"https://usher.ttvnw.net/api/channel/hls/"+Br.Play_selectedChannel+".m3u8?&token="+encodeURIComponent(_h.token)+"&sig="+_h.sig+"&allow_source=true&allow_audi_only=true&fast_bread=true&allow_spectre=false",Au){if(!(t=Android.mreadUrl(e,Fh,1,null)))return void Sp();200===(t=JSON.parse(t)).status?(Ah=0,Sh&&Lp(t.responseText)):403===t.status?xp():404===t.status?Kv():Sp()}else(t=new XMLHttpRequest).open("GET",Eu+e,!0),t.timeout=Fh,t.setRequestHeader(cu,lu),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?(Ah=0,Sh&&Lp(t.responseText)):403===t.status?(Ip(t),sr?Pp():xp()):404===t.status?(Ip(t),sr?Pp():Kv()):(Ip(t),Sp()))},t.send(null)}function Ip(e){dr&&(console.log(e.status),console.log(e.responseText))}function Sp(){Sh&&Zh&&(++Ah<Ch+(Kh?8:0)?(Fh+=250,Kh?window.setTimeout(Mp,500):Mp()):sr?Pp():Kv())}function xp(){tv(),nv(Dn),window.setTimeout(function(){Sh&&Kv()},4e3)}function Pp(){ph=[{id:"1080p60(Source)",band:"(10.00Mbps)",url:"http://fake"}],rh=ch,Sh&&Gp()}function Lp(e){rh===dh?(_h=JSON.parse(e),rh=lh,Ep()):rh===lh&&(ph=Tp(fh=e),rh=ch,Sh&&Gp())}function Tp(e){for(var t,n=[],a="",i=1,o=Op(e),s=0;s<o.length;s++)a=o[s].split('NAME="')[1].split('"')[0],t=Bp(o[s].split("BANDWIDTH=")[1].split(",")[0]),n.length?n[s-i].id!==a&&n[s-i].id!==a+" (source)"?n.push({id:a,band:t,url:o[s].split("\n")[2]}):i++:(-1===a.indexOf("ource")&&(a+=" (source)"),n.push({id:a,band:t,url:o[s].split("\n")[2]}));return n}function Bp(e){return 0<(e=parseInt(e))?" ("+parseFloat(e/1e6).toFixed(2)+"Mbps)":""}function Op(e){for(var t,n=[],a=/#EXT-X-MEDIA:(.)*\n#EXT-X-STREAM-INF:(.)*\n(.)*/g;t=a.exec(e);)n.push(t[0]);return n}function Gp(){window.clearInterval(Th),hh=ph[vh=0].url,-1!==eh.indexOf("source")&&(eh="source");for(var e=0;e<Cv();e++){if(ph[e].id===eh){hh=ph[vh=e].url;break}-1!==ph[e].id.indexOf(eh)&&(hh=ph[vh=e].url)}th=eh,rh=ch,dr&&console.log("Play_onPlayer:",'\n\n"'+hh+'"\n'),Au&&Sh&&Android.startVideo(hh,1),Up()}function Up(){$h=!1,gh&&!wv()&&yv(),Rh=!0,Rp(),Au&&(Bh=0,ep=1+sh/1e3,Gh=!1,window.clearInterval(Th),Th=window.setInterval(Np,tp))}function Rp(){Br.Play_ChatForceDisable?Bl():Wc()}function Np(){var e=!Fp();Au&&(Yh=Android.gettime()),Sh&&Lh===Yh&&e?ep<++Bh&&(Gh&&Uh&&vh<Cv()-1?vh++:!Gh&&Uh&&Oh++,navigator.onLine?1<Oh?Jp(Oh,1,Vp):(Av(),Gp(),Uh=!0):Dp(!1,1)):(Bh=Oh=0,Uh=!1),Lh=Yh,e&&Wh++}function Vp(e){if(!e){if(!(vh<Cv()-1))return void Kv();vh++}Oh=0,Av(),Gp(),Uh=!0}function Dp(e,t){Br.Play_isHost=e,zv(t),Zv(t)}function Jp(e,t,n){var a=new XMLHttpRequest;a.timeout=1e3,a.open("GET","https://static-cdn.jtvnw.net/jtv-static/404_preview-10x10.png?"+Math.random(),!0),a.onreadystatechange=function(){4===a.readyState&&(200===a.status?n(2<e):12<e&&Dp(!1,t))},a.send(null)}function Fp(){return!!Au&&!Android.getPlaybackState()}function Hp(){var e=df();Du("stream_clock",e),Du("label_clock",e)}function qp(e){return e<10?"0"+e:e}function zp(e){var t,n,a;return t=qp(parseInt(e)%60),n=qp((e=Math.floor(e/60))%60),a=qp(e=Math.floor(e/60)),e?a+":"+n+":"+t:n+":"+t}function Xp(e){return zp(parseInt(e/1e3))}function jp(e){return Xp((new Date).getTime()-new Date(e).getTime())}function Yp(){Sh&&(Wp(),Br.Play_WasPlaying=0,Qp())}function Wp(){Au&&Android.stopVideo(1),Sh=!1,AE(),Hc(),Zp(),Kp(),Br.Play_selectedChannel_id=""}function Qp(){Oy(0,0),Gu("scene1"),Ou("scene2"),__()}function Zp(){mv(),rv(),av(),Rv(),ap="",vh===Cv()-1&&(th=ph[0].id),wg===By()-1&&(fg=bg[0].id),Zf===Um()-1&&(Qf=Kf[0].id)}function Kp(){Rh=!1,document.body.removeEventListener("keydown",dg),document.removeEventListener("visibilitychange",pp),Kl(),window.clearInterval(uh),window.clearInterval(Th),Vh=!1}function $p(){Vu("fallow_text",wa+Tt),Xa=!1}function ev(){Au?Android.mshowLoading(!0):Gu("dialog_loading_play")}function tv(){Au?Android.mshowLoading(!1):Ou("dialog_loading_play")}function nv(e){Du("dialog_warning_play_text",e),Gu("dialog_warning_play")}function av(){Ou("dialog_warning_play")}function iv(){return Uu("dialog_warning_play")}function ov(){dv()?sv():(Gu("play_dialog_exit"),yh=window.setTimeout(ov,3e3))}function sv(){window.clearTimeout(yh),Ou("play_dialog_exit")}function dv(){return Uu("play_dialog_exit")}function lv(){window.clearTimeout(bh)}function cv(){window.clearTimeout(wh)}function rv(){lv(),cv(),Ou("play_dialog_simple_pause")}function uv(){tv(),Fp()?_v()?(Ou("play_dialog_simple_pause"),wh=window.setTimeout(uv,8e3)):(Gu("play_dialog_simple_pause"),bh=window.setTimeout(uv,1500)):rv()}function _v(){return Uu("play_dialog_simple_pause")}function fv(){return"1"===document.getElementById("scene_channel_panel").style.opacity}function mv(){vv(),document.getElementById("scene_channel_panel").style.opacity="0",eh=th,window.clearInterval(rg)}function hv(){Tv(),kv(),Av(),pv(),rg=window.setInterval(pv,1e3),Hp(),sv(),document.getElementById("scene_channel_panel").style.opacity="1",gv()}function pv(){Du("stream_watching_time",g+zp(Wh)),Du("stream_live_time",y+(-1===kh.indexOf("00:00")?jp(kh):"00:00"))}function vv(){window.clearTimeout($m),Xg=0}function gv(){$m=window.setTimeout(mv,5e3)}function yv(){Sv(),Gu("chat_container")}function bv(){Ou("chat_container")}function wv(){return Uu("chat_container")}function kv(){for(var e=vh=0;e<Cv();e++){if(ph[e].id===eh){vh=e;break}-1!==ph[e].id.indexOf(eh)&&(vh=e)}}function Av(){1===Cv()?(document.getElementById("quality_arrow_up").style.opacity="0",document.getElementById("quality_arrow_down").style.opacity="0"):vh?vh===Cv()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(eh=ph[vh].id).indexOf("source")?Du("quality_name",eh.replace("source",ge)+ph[vh].band):Du("quality_name",eh+ph[vh].band)}function Cv(){return ph.length}function Ev(e){Xm.style.height=lp[Km-1].containerHeight+"%",document.getElementById("play_chat_dialog").style.marginTop=lp[Km-1].dialogTop+"%",Sv(),Ql(),e&&xv(Nn+lp[Km-1].percentage),window.setTimeout(function(){nc&&(nc.scrollTop=nc.scrollHeight)},500),xf("ChatSizeValue",Km)}function Mv(e){Xm.style.backgroundColor="rgba(0, 0, 0, "+Zm+")",e&&xv(Vn+(100*Zm).toFixed(0)+"%")}function Iv(e){Ym=e?sp[Wm=Ym]:dp[Ym][Wm]}function Sv(){var e=4===Km;Ym<0?Ym=e?2:7:(e?2:7)<Ym&&(Ym=0),Xm.style.top=(e?.2:op[Ym].top+op[Ym].sizeOffset[Km-1])+"%",Xm.style.left=op[Ym+(e?2:0)].left+"%",xf("ChatPositionsValue",Ym)}function xv(e){window.clearTimeout(xh),Du("play_chat_dialog_text",e),Gu("play_chat_dialog"),xh=window.setTimeout(Pv,1e3)}function Pv(){Ou("play_chat_dialog")}function Lv(e){Fp()?(rv(),Au&&Android.play(!0),Vu("pause_button",'<i class="pause_button3d icon-pause"></i>'),1===e?(fv()&&mv(),window.clearInterval(Th),Th=window.setInterval(Np,tp)):2===e?(fv()&&Ey(),window.clearInterval(Pg),Pg=window.setInterval(by,tp)):3===e&&(fv()&&Tm(),window.clearInterval(Df),Df=window.setInterval(Cm,tp))):(window.clearInterval(Th),window.clearInterval(Pg),window.clearInterval(Df),Vu("pause_button",'<i class="pause_button3d icon-play-1"></i>'),Au&&Android.play(!1),uv())}function Tv(){Ov(),Nh=1,Bv()}function Bv(){Ru("scene2_pannel_"+Nh,"playbotton_focus")}function Ov(){Nu("scene2_pannel_"+Nh,"playbotton_focus")}function Gv(){mg=rh=-1,nm=-1,bv(),mv(),Tm(),Ey(),Vh||av(),tv(),sv(),Dv()}function Uv(){Gu("dialog_end_stream")}function Rv(){Ou("dialog_end_stream"),Hv(),Vv()}function Nv(){return Uu("dialog_end_stream")}function Vv(){Jv(),qh=0,Dv()}function Dv(){Ru("dialog_end_"+qh,"dialog_end_icons_focus")}function Jv(){Nu("dialog_end_"+qh,"dialog_end_icons_focus")}function Fv(e){1===e?jh=Br.Play_selectedChannelDisplayname+" "+_:2===e?jh=Br.Main_selectedChannelDisplayname+$t:3===e&&(jh=Br.Main_selectedChannelDisplayname+Gt),Vu("dialog_end_stream_text",jh+S+da+tn+zh+"..."),Nv()?(mg=rh=ch,nm=am,-1===--zh?(Vu("dialog_end_stream_text",jh+S+da+tn+"0..."),sv(),bv(),1===e?Yp():2===e?ky():3===e&&Mm()):Xh=window.setTimeout(function(){Fv(e)},1e3)):Xh=window.setTimeout(function(){Fv(e)},50)}function Hv(){window.clearTimeout(Xh),Vu("dialog_end_stream_text",jh+S+da+nn)}function qv(e){var t=!0;qh?1===qh?Br.Play_isHost?(Br.Play_DisplaynameHost=Br.Play_selectedChannelDisplayname+ne,Br.Play_selectedChannel=Qh.target_login,Br.Play_selectedChannelDisplayname=Qh.target_display_name,Br.Play_DisplaynameHost=Br.Play_DisplaynameHost+Br.Play_selectedChannelDisplayname,Wp(),document.body.addEventListener("keydown",dg,!1),Br.Play_selectedChannel_id=Qh.target_id,sf(mp)):Dm():2===qh?Xv(e):3===qh&&Yv(e):2===e?bg.length?(Tg=!(Wg=!0),gy(),rv(),rc=Jg=0,gc()):(t=!1,nv(ea),window.setTimeout(function(){av()},2e3)):3===e&&(Kf.length?(sm=!(em=!0),wm(),rv(),im?(Jg=0,rc=al,gc()):Yc()):(t=!1,nv(ea),window.setTimeout(function(){av()},2e3))),1!==qh&&3===qh&&""===Br.Play_gameSelected&&(t=!1),t&&Rv()}function zv(e){e?1===e?(Jv(),qh=2,Dv(),document.getElementById("dialog_end_0").style.display="none",document.getElementById("dialog_end_1").style.display="none"):2===e?(Vv(),document.getElementById("dialog_end_0").style.display="inline-block",document.getElementById("dialog_end_1").style.display="none"):3===e&&(Vv(),document.getElementById("dialog_end_0").style.display="inline-block",document.getElementById("dialog_end_1").style.display="inline-block",Du("dialog_end_vod_text",im?sn:dn)):(Jv(),qh=1,Dv(),document.getElementById("dialog_end_0").style.display="none",document.getElementById("dialog_end_1").style.display="inline-block",Du("dialog_end_vod_text",un))}function Xv(e){Br.Main_BeforeChannelisSet||Br.Main_Go===wr||Br.Main_Go===kr||(Br.Main_BeforeChannel=Br.Main_BeforeAgameisSet&&Br.Main_Go!==fr?Br.Main_BeforeAgame:Br.Main_Go,Br.Main_BeforeChannelisSet=!0),y_(Br.Main_Go),Br.Main_Go=br,1===e?(Br.Main_selectedChannel_id=Br.Play_selectedChannel_id,Br.Main_selectedChannel=Br.Play_selectedChannel,Br.Main_selectedChannelDisplayname=Br.Play_selectedChannelDisplayname,js=Xa,bv(),Yp()):2===e?ky():3===e&&Mm()}function jv(e){Br.Search_isSearching||(Br.Main_BeforeSearch=Br.Main_Go),y_(Br.Main_Go),Br.Main_Go=vr,1===e?(bv(),Yp()):2===e?ky():3===e&&Mm()}function Yv(e){if(""===Br.Play_gameSelected)return Vh=!0,nv(Qn),void window.setTimeout(function(){Vh=!1,av()},2e3);Br.Main_BeforeAgameisSet||Br.Main_Go===Sr||Br.Main_Go===xr||(Br.Main_BeforeAgame=Br.Main_BeforeChannelisSet&&Br.Main_Go!==br&&Br.Main_Go!==wr&&Br.Main_Go!==kr?Br.Main_BeforeChannel:Br.Main_Go,Br.Main_BeforeAgameisSet=!0),y_(Br.Main_Go),Br.Main_Go=fr,Po=!1,Br.Main_gameSelected=Br.Play_gameSelected,bv(),1===e?Yp():2===e?ky():3===e&&Mm()}function Wv(){oo()&&Hi[Br.Users_Position].access_token?Xa?bi():vi():(nv(Bt),Vh=!0,window.setTimeout(function(){av(),Vh=!1},2e3))}function Qv(e){Nh?1===Nh?(1===e?(Gp(),mv()):2===e?(Tg=!1,gy(),Ey()):3===e&&(sm=!1,wm(),Tm()),rv()):2===Nh?(Wa=1===e?Br.Play_selectedChannel_id:Br.Main_selectedChannel_id,Wv(),vv(),1===e?gv():2===e?Py():3===e&&Nm()):3===Nh?Yv(e):4===Nh?Xv(e):5===Nh&&jv(e):Dm()}function Play_PannelEndStart(e){1===e?(window.clearInterval(Th),Kv()):Zv(e)}function Zv(e){window.clearInterval(Th),window.clearInterval(Df),window.clearInterval(Pg),Gv(),zh=3,Fv(e),Uv(e)}function Kv(){ev(),rh=-1,Ah=0,Fh=2e3,Kl(),window.clearInterval(uh),window.clearInterval(Th),""!==Br.Play_selectedChannel_id?ng():$v()}function $v(){Nf("https://api.twitch.tv/kraken/users?login="+Br.Play_selectedChannel,Fh,2,null,eg,tg,!1)}function eg(e){void 0!==(e=JSON.parse(e).users[0])?(Br.Play_selectedChannel_id=e._id,Ah=0,Fh=2e3,ng()):Zv(1)}function tg(){++Ah<Ch?(Fh+=250,$v()):Dp(!1,1)}function ng(){Gf("https://tmi.twitch.tv/hosts?include_logins=1&host="+encodeURIComponent(Br.Play_selectedChannel_id),Fh,1,null,ig,ag,!0)}function ag(){++Ah<Ch?(Fh+=250,ng()):Dp(!1,1)}function ig(e){void 0!==(Qh=JSON.parse(e).hosts[0]).target_login?(Vh=!0,nv(Br.Play_selectedChannelDisplayname+rn+ne+Qh.target_display_name),window.setTimeout(function(){Vh=!1},4e3),zv(0),Br.Play_isHost=!0):(zv(1),Br.Play_isHost=!1),Zv(1)}function og(){Xa?(Vu("fallow_heart",'<i class="icon-heart strokicon" style="color: #00b300; font-size: 210%;"></i>'),Vu("fallow_text",wa+Mt)):(Vu("fallow_heart",'<i class="icon-heart-o strokicon" style="color: #FFFFFF; font-size: 210%;"></i>'),Vu("fallow_text",wa+It))}function sg(e){Nv()&&!dv()?(Hv(),ov()):wE()?AE():fv()&&!Xy()?e?Ey():mv():Xy()&&dv()?(zy(),Ay(!1),Qp()):dv()?(sv(),bv(),e?ky():Yp()):(iv()&&av(),ov())}function dg(e){if(rh!==ch)switch(e.keyCode){case Ua:dv()?(sv(),bv(),Yp()):ov()}else switch(e.keyCode){case La:wE()?oh&&!XC&&(BE(),oh--,SE()):nh&&!fv()&&wv()?(Ym++,Sv()):fv()?(Ov(),5<++Nh&&(Nh=1),Bv(),vv(),gv()):Nv()?(Hv(),Jv(),--qh<(Br.Play_isHost?1:2)&&(qh=3),Dv()):hv();break;case Ba:wE()?oh<ZC-1&&!XC&&(BE(),oh++,SE()):!nh||fv()||Nv()?fv()?(Ov(),--Nh<1&&(Nh=5),Bv(),vv(),gv()):Nv()?(Hv(),Jv(),3<++qh&&(qh=Br.Play_isHost?1:2),Dv()):hv():xf("ChatEnable",(gh=wv()||Nv()?(bv(),!1):(yv(),!0))?"true":"false");break;case Ta:fv()?(0<vh&&1===Nh&&(vh--,Av()),vv(),gv()):!wE()&&oo()?kE():Nv()?Hv():wE()&&IE();break;case Oa:fv()?(vh<Cv()-1&&1===Nh&&(vh++,Av()),vv(),gv()):wE()?AE():nh&&wv()?(4<++Km?Iv(!(Km=1)):4===Km&&Iv(!0),Ev(!0)):Nv()?Hv():hv();break;case Ga:if(Nv())qv(1);else if(fv())Qv(1);else if(wE()){var t=document.getElementById(sE[8]+oh);null===t?CE():Br.Play_selectedChannel!==JSON.parse(t.getAttribute(vu))[0]?(Wp(),Q_(oh,sE,dg)):CE()}else hv();break;case Ua:sg(!1);break;case xa:case Sa:case Pa:Nv()||Lv(1)}}var lg,cg,rg,ug,_g="source",fg=_g,mg=0,hg=null,pg=0,vg=0,gg=0,yg="",bg=[],wg=0,kg=0,Ag=5,Cg=!1,Eg=2e3,Mg=0,Ig=5,Sg=1e4,xg=0,Pg=null,Lg=0,Tg=!1,Bg=0,Og=!1,Gg=!1,Ug=0,Rg=!1,Ng=0,Vg=2e3,Dg=!1,Jg=0,Fg={},Hg=0,qg=0,zg=!0,Xg=0,jg=0,Yg=0,Wg=!1,Qg=[0,10,30,60,120,300,600,900,1200,1800],Zg=!1;function Kg(){ev(),Rv(),Jg=0,Du("stream_live_time",""),Du("stream_watching_time",""),Du("progress_bar_current_time",zp(0)),uc=O+".",Vu("pause_button",'<i class="pause_button3d icon-pause"></i>'),Ou("progress_pause_holder"),jg=0,Ry((ip=Qg)[1]),mg=dh,im=!0,al=0,Br.Play_isHost=!1,Pm(0,0),Pm(1,0),Br.vodOffset?(ey(),iy()):(zg&&""!==Br.Main_selectedChannel_id?(Cp(document.getElementById("stream_info_icon"),Br.Main_selectedChannelLogo),Fg["#"+Br.ChannelVod_vodId]||gc(),oo()?(Wa=Br.Main_selectedChannel_id,Ya=!0,_i()):$p()):(ey(),ty()),Du("stream_info_name",Br.Main_selectedChannelDisplayname),Vu("stream_info_title",""),Vu("stream_info_game",el+" ["+Yd.toUpperCase()+"]"),Du("stream_live_icon",tl),Ju("stream_info_game")),Fg["#"+Br.ChannelVod_vodId]&&!Br.vodOffset?(tv(),qy()):$g()}function $g(){window.setTimeout(function(){Gu("scene_channel_panel_bottom"),Vu("pause_button",'<i class="pause_button3d icon-pause"></i>'),Gu("progress_pause_holder")},1e3),Du("progress_bar_duration",zp(zd)),Br.Play_WasPlaying=2,v_(),ug=window.setInterval(cy,6e4),T_(ap),Lg=Bg=0,window.clearInterval(Pg),Vh=Dg=Og=!(Qm=-13),Rg=!1,gg=vg=pg=Ng=0,document.addEventListener("visibilitychange",dy,!1),Zg=!(Cg=!(Gg=!1)),ry(),zv(2),document.body.removeEventListener("keyup",F_)}function ey(){Mg=0,Ig=5,Sg=1e4}function ty(){Nf("https://api.twitch.tv/kraken/users?login="+encodeURIComponent(Br.Main_selectedChannel),Sg,2,null,ny,ay,!1)}function ny(e){void 0!==(e=JSON.parse(e).users[0])?(Br.Main_selectedChannelLogo=e.logo,Br.Main_selectedChannel_id=e._id,Fg["#"+Br.ChannelVod_vodId]||gc(),oo()?(Wa=Br.Main_selectedChannel_id,Ya=!0,_i()):$p()):(Br.Main_selectedChannelLogo=Ea,Br.Main_selectedChannel_id=""),Cp(document.getElementById("stream_info_icon"),Br.Main_selectedChannelLogo)}function ay(){++Mg<Ig?(Sg+=500,window.setTimeout(function(){Cg&&ty()},750)):cg=window.setTimeout(ty,2500)}function iy(){Nf("https://api.twitch.tv/kraken/videos/"+Br.ChannelVod_vodId,Sg,2,null,sy,oy,!1)}function oy(){++Mg<Ig&&(Sg+=2e3,iy())}function sy(e){e=JSON.parse(e),Vu("stream_info_title",xS.parse(e.title,!1,!0)),Vu("stream_info_game",Qt+v+e.game+" "+l_(e.views)+D+" ["+e.channel.broadcaster_language.toUpperCase()+"]"),Du("stream_live_icon",N+A_(e.created_at)),Du("progress_bar_duration",zp(zd=parseInt(e.length))),Jg=1e3*Br.vodOffset,Oy(Br.vodOffset,zd,!0),Br.Main_selectedChannelDisplayname=e.channel.display_name,Du("stream_info_name",Br.Main_selectedChannelDisplayname),Br.Main_selectedChannelLogo=e.channel.logo,Cp(document.getElementById("stream_info_icon"),Br.Main_selectedChannelLogo),Br.Main_selectedChannel_id=e.channel._id,Br.Main_selectedChannel=e.channel.name,oo()?(Ya=!0,Wa=Br.Main_selectedChannel_id,_i()):$p(),T_(e.increment_view_count_url)}function dy(){document.hidden?Nv()?(sv(),bv(),ky()):(cy(),Dy(),Fc(),Zp(),window.clearInterval(Pg),window.clearInterval(ug)):(Cg=!0,rv(),Cg&&(ev(),Ih=Ih=0,navigator.onLine?yy():zm=window.setInterval(ly,100),Jc(pc),zv(2),ug=window.setInterval(cy,6e4)))}function ly(){(navigator.onLine||200<Ih)&&(window.clearInterval(zm),mg=dh,ry()),Ih++}function cy(){Br.vodOffset=Au?parseInt(Android.gettime()/1e3):0,v_(),Br.vodOffset=0}function ry(){kg=0,Vg=2e3,uy()}function uy(){Gf(mg===dh?"https://api.twitch.tv/api/vods/"+Br.ChannelVod_vodId+"/access_token"+(oo()&&Hi[Br.Users_Position].access_token?"?oauth_token="+Hi[Br.Users_Position].access_token:""):"https://usher.ttvnw.net/vod/"+Br.ChannelVod_vodId+".m3u8?&nauth="+encodeURIComponent(pg.token)+"&nauthsig="+pg.sig+"&allow_source=true&allow_audi_only=true&allow_spectre=false",Fh,1,null,my,_y,!0)}function _y(){if(Cg){var e;if(pg.token&&(e=JSON.parse(pg.token)),e&&0!==JSON.parse(pg.token).chansub.restricted_bitrates.length)return void hy();++kg<Ag?(Vg+=250,uy()):sr?fy():(tv(),Zv(2))}}function fy(){bg=[{id:"1080p60(Source)",band:"(10.00Mbps)",url:"http://fake"}],mg=ch,Cg&&gy()}function my(e){mg===dh?(pg=JSON.parse(e),mg=lh,ry()):mg===lh&&(bg=Tp(vg=e),mg=ch,Cg&&gy())}function hy(){oo()&&Hi[Br.Users_Position].access_token?(Wa=Br.Main_selectedChannel_id,Ai()):(tv(),nv(x+St),window.setTimeout(function(){Cg&&ky()},4e3))}function py(){tv(),nv(x+xt),window.setTimeout(function(){Cg&&ky()},4e3)}function vy(){Zg?(tv(),nv(x+Pt),window.setTimeout(function(){Cg&&ky()},4e3)):(Zg=!0,mg=dh,ry())}function gy(){window.clearInterval(Pg),yg=bg[wg=0].url,-1!==_g.indexOf("source")&&(_g="source");for(var e=0;e<By();e++){if(bg[e].id===_g){yg=bg[wg=e].url;break}-1!==bg[e].id.indexOf(_g)&&(yg=bg[wg=e].url)}fg=_g,yy()}function yy(){dr&&console.log("PlayVod_onPlayer:",'\n\n"'+yg+'"\n'),Br.vodOffset?(rc=Br.vodOffset,gc(),Au&&Cg&&Android.startVideoOffset(yg,2,Wg?-1:1e3*Br.vodOffset),Br.vodOffset=0):Au&&Cg&&Android.startVideoOffset(yg,2,Wg?-1:Android.gettime()),Wg=!1,gh&&!wv()&&yv(),Au&&(Lg=0,ep=3+Eg/1e3,Tg=!1,window.clearInterval(Pg),Pg=window.setInterval(by,tp))}function by(){Au&&(Jg=Android.gettime()),Cg&&xg===Jg&&!Fp()?++Lg>ep&&(Tg&&Og&&wg<By()-1?wg++:!Tg&&Og&&Bg++,navigator.onLine?1<Bg?Jp(Bg,2,wy):(Ty(),gy(),Og=!0):Dp(!1,2)):(Lg=Bg=0,Og=!1),xg=Jg}function wy(e){if(!e){if(!(wg<By()-1))return void Dp(!1,2);wg++}Bg=0,Ty(),gy(),Og=!0}function ky(){Cg&&(bg=[],Ay(!0),Qp())}function Ay(e){e&&Dy(),Au&&Android.stopVideo(2),Cg=!1,window.clearInterval(ug),window.clearInterval(cg),Br.Play_WasPlaying=0,zg=!0,Hc(),AE(),Zp(),Cy()}function Cy(){document.body.removeEventListener("keydown",Zy),document.removeEventListener("visibilitychange",dy),Br.vodOffset=0,window.clearInterval(hg),window.clearInterval(Pg),zd=0}function Ey(){Rg=!1,Ug=Ng=0,vv(),document.getElementById("scene_channel_panel").style.opacity="0",Au&&Oy(Android.gettime()/1e3,zd,!0),Vu("progress_bar_jump_to",wa),document.getElementById("progress_bar_steps").style.display="none",_g=fg,window.clearInterval(rg)}function My(e){Iy(),Hp(),sv(),rg=window.setInterval(Iy,1e3),e&&(Sy(),Ly(),Ty(),Py()),document.getElementById("scene_channel_panel").style.opacity="1"}function Iy(){Au&&Oy(Android.gettime()/1e3,zd,!Rg)}function Sy(){qg=1,mm=0,xy()}function xy(){Nu("pause_button","progress_bar_div_focus"),Nu("next_button","progress_bar_div_focus"),Nu("back_button","progress_bar_div_focus"),Nu("progress_bar_div","progress_bar_div_focus"),qg?1===qg?(mm?1===mm?Ru("next_button","progress_bar_div_focus"):-1===mm&&Ru("back_button","progress_bar_div_focus"):Ru("pause_button","progress_bar_div_focus"),Ov(),Vu("progress_bar_jump_to",wa),document.getElementById("progress_bar_steps").style.display="none"):2===qg&&(Bv(),Vu("progress_bar_jump_to",wa),document.getElementById("progress_bar_steps").style.display="none"):(Ru("progress_bar_div","progress_bar_div_focus"),Ov(),Ug&&(Ny(),document.getElementById("progress_bar_steps").style.display="inline-block"))}function Py(){$m=window.setTimeout(Ey,5e3+Xg)}function Ly(){for(var e=wg=0;e<By();e++){if(bg[e].id===_g){wg=e;break}-1!==bg[e].id.indexOf(_g)&&(wg=e)}}function Ty(){1===By()?(document.getElementById("quality_arrow_up").style.opacity="0",document.getElementById("quality_arrow_down").style.opacity="0"):wg?wg===By()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(_g=bg[wg].id).indexOf("source")?Du("quality_name",_g.replace("source",ge)+bg[wg].band):Du("quality_name",_g+bg[wg].band)}function By(){return bg.length}function Oy(e,t,n){Du("progress_bar_current_time",zp(e)),n&&(jm.style.width=e/t*100+"%")}function Gy(){rv(),Nv()||(sm=Tg=!1,Cg?(Au&&Android.startVideoOffset(yg,2,0<Yg?1e3*Yg:-1),rc=Yg):(rc=al,Au&&Android.startVideoOffset($f,3,0<Yg?1e3*Yg:-1)),im&&gc()),Vu("progress_bar_jump_to",wa),document.getElementById("progress_bar_steps").style.display="none",Rg=!1,Yg=Ug=Ng=0}function Uy(){jg=Ng=0,Ry(ip[1])}function Ry(e){Ug&&!qg&&(document.getElementById("progress_bar_steps").style.display="inline-block"),60<Math.abs(e)?Du("progress_bar_steps",Jn+e/60+Hn):Du("progress_bar_steps",e?Jn+e+Fn:Jn+ip[1]+Fn)}function Ny(){Du("progress_bar_jump_to",ue+" ("+(Ug<0?"-":"")+zp(Math.abs(Ug))+")"+_e+zp(Yg))}function Vy(e,t){var n=Au?Android.gettime()/1e3:0;window.clearTimeout(lg),Rg=!0,Ng<ip.length-1&&jg++%6==0&&Ng++,Ug+=ip[Ng]*e,Yg=n+Ug,Cg&&(Yg=10*Math.floor(Yg/10)),t<Yg?(Ug=t-n-ip[1],Yg=n+Ug,jg=Ng=0):Yg<0&&(Ug=0-n,Yg=jg=Ng=0),Ny(),jm.style.width=Yg/t*100+"%",Ry(ip[Ng]*e),lg=window.setTimeout(Uy,1e3)}function Dy(){var e=Au?parseInt(Android.gettime()/1e3):0,t="#"+Br.ChannelVod_vodId;300<e&&e<zd-300?(Fg[t]&&delete Fg[t],Fg[t]=e,xf("PlayVod_VodIds",JSON.stringify(Fg))):zd-300<e&&Fg[t]&&(delete Fg[t],xf("PlayVod_VodIds",JSON.stringify(Fg)))}function Jy(){Fg=Lf("PlayVod_VodIds",{});var e=Fy();250<e&&Hy(e-250)}function Fy(){var e=0;for(var t in Fg)Fg.hasOwnProperty(t)&&e++;return e}function Hy(e){var t=0;for(var n in Fg){if(!(t<e))break;delete Fg[n],t++}xf("PlayVod_VodIds",JSON.stringify(Fg))}function qy(){Ou("scene_channel_panel_bottom"),My(!1),Vu("dialog_vod_saved_text",kn+Xp(1e3*Fg["#"+Br.ChannelVod_vodId])),Gu("dialog_vod_start")}function zy(){Ey(),Ou("dialog_vod_start"),jy(),window.setTimeout(function(){Gu("scene_channel_panel_bottom")},1e3)}function Xy(){return Uu("dialog_vod_start")}function jy(){Wy(),Hg=0,Yy()}function Yy(){Ru("dialog_vod_"+Hg,"dialog_end_icons_focus")}function Wy(){Nu("dialog_vod_"+Hg,"dialog_end_icons_focus")}function Qy(e){zy(),e?(delete Fg["#"+Br.ChannelVod_vodId],Br.vodOffset=0,Kg()):(Br.vodOffset=Fg["#"+Br.ChannelVod_vodId],Jg=1e3*Br.vodOffset,Oy(Br.vodOffset,zd,!0),$g())}function Zy(e){if(mg===ch||Xy())switch(e.keyCode){case La:wE()?oh&&!XC&&(BE(),oh--,SE()):nh&&!fv()&&wv()?(Ym++,Sv()):fv()&&!Xy()?(vv(),2===qg?(Ov(),5<++Nh&&(Nh=1),Bv()):qg||(Vy(-1,zd),Xg=2500),Py()):Xy()?(Wy(),Hg?Hg--:Hg++,Yy()):Nv()?(Hv(),Jv(),--qh<0&&(qh=3),1===qh&&(qh=0),Dv()):Xy()||My(!0);break;case Ba:console.log(qg),wE()?oh<ZC-1&&!XC&&(BE(),oh++,SE()):!nh||fv()||Nv()?fv()&&!Xy()?(vv(),2===qg?(Ov(),--Nh<1&&(Nh=5),Bv()):qg||(Vy(1,zd),Xg=2500),Py()):Xy()?(Wy(),Hg?Hg--:Hg++,Yy()):Nv()?(Hv(),Jv(),3<++qh&&(qh=0),1===qh&&(qh=2),Dv()):Xy()||My(!0):xf("ChatEnable",(gh=wv()||Nv()?(bv(),!1):(yv(),!0))?"true":"false");break;case Ta:Nv()?Hv():fv()&&!Xy()?(2===qg&&1!==Nh?(qg--,xy()):1===qg?(qg--,xy()):0<wg&&1===Nh&&(wg--,Ty()),vv(),Py()):wE()?wE()?IE():Xy()||My(!0):kE();break;case Oa:Nv()?Hv():fv()&&!Xy()?(qg?1===qg?(qg++,xy()):wg<By()-1&&1===Nh&&(wg++,Ty()):(qg++,xy()),vv(),Py()):wE()?AE():nh&&wv()?(4<++Km?Iv(!(Km=1)):4===Km&&Iv(!0),Ev(!0)):Xy()||My(!0);break;case Ga:Xy()?Qy(Hg):Nv()?qv(2):fv()?qg?1===qg?(Br.Play_ChatForceDisable&&(Fp()?Jc(pc):Fc()),Nv()||Lv(2)):Qv(2):(vv(),Py(),Ug&&Gy()):wE()?(Ay(!0),Q_(oh,sE,dg)):My(!0);break;case Ua:sg(!0);break;case xa:case Sa:case Pa:Br.Play_ChatForceDisable&&(Fp()?Jc(pc):Fc()),Nv()||Lv(2)}else switch(e.keyCode){case Ua:dv()?(sv(),ky()):ov()}}var Ky={};function $y(){console.log("InitScreens place holder")}function eb(){Db(),Jb(),Hb(),qb(),zb(),jb(),Yb()}function tb(e){return[e+"_thumbdiv",e+"_img",e+"_infodiv",e+"_title",e+"_createdon",e+"_game",e+"_viwers",e+"_duration",e+"_cell","cpempty_",e+"_scroll",e+"_lang"]}function nb(){for(var e,t={},n=0;n<arguments.length;n+=1){var a=arguments[n],i=Object.keys(a);for(e=0;e<i.length;e+=1)t[i[e]]=a[i[e]]}return t}function ab(){jr=-1,Br.Main_Go=Ky.screen,Ky.label_init(),document.body.addEventListener("keydown",Ab,!1),Gu(Ky.ids[10]),Ky.status?(P_(Ky.posY),pb(!0),v_()):ob()}function ib(){jr=0,Ky.label_exit(),document.body.removeEventListener("keydown",Ab),Ou(Ky.ids[10]),e_()}function ob(){Fu(),M_(Ky.table),e_(),Ky.cursor=null,Ky.status=!1,Ky.row=document.createElement("div"),Ky.MaxOffset=0,Ky.TopRowCreated=!1,Ky.offset=0,Ky.idObject={},Ky.FirstLoad=!0,Ky.itemsCount=0,Ky.posX=0,Ky.posY=0,Ky.row_id=0,Ky.coloumn_id=0,Ky.data=null,Ky.data_cursor=0,Ky.dataEnded=!1,Wu(),sb(),db()}function sb(){Ky.loadingData=!0,Ky.loadingDataTry=0,Ky.loadingDataTimeout=3500}function db(){Ky.set_url(),Au&&!Ky.itemsCount?Rf(Ky.url,Ky.loadingDataTimeout,2,null,cb,lb):Nf(Ky.url,Ky.loadingDataTimeout,2,null,cb,lb,!1)}function lb(){Ky.loadingDataTry++,Ky.loadingDataTry<Ky.loadingDataTryMax?(Ky.loadingDataTimeout+=500,db()):(Ky.loadingData=!1,Ky.itemsCount?Ky.dataEnded=!0:(Ky.FirstLoad=!1,Hu(),$u(P),Ky.key_exit()))}function cb(e){Ky.concatenate(e)}function rb(){var e=Ky.data.length-Ky.data_cursor;e>Ky.ItemsLimit?e=Ky.ItemsLimit:Ky.loadingData||(Ky.dataEnded=!0);var t=document.getElementById(Ky.table);if(Ky.HasSwitches&&!Ky.TopRowCreated){Ky.TopRowCreated=!0,Ky.row=document.createElement("div");var n='<i class="icon-history stream_channel_fallow_icon"></i>'+wa+wa+m;(Fr=document.createElement("div")).setAttribute("id",Ky.ids[8]+"y_0"),Fr.className="stream_cell_period",Fr.innerHTML='<div id="'+Ky.ids[0]+'y_0" class="stream_thumbnail_channel_vod" ><div id="'+Ky.ids[3]+'y_0" class="stream_channel_fallow_game">'+n+"</div></div>",Ky.row.appendChild(Fr),t.appendChild(Ky.row)}if(e){var a=Math.ceil(e/Ky.ColoumnsCount),i=Ky.row_id+a;for(Ky.row_id;Ky.row_id<i;){for(Ky.coloumn_id===Ky.ColoumnsCount&&(Ky.row=document.createElement("div"),Ky.coloumn_id=0),Ky.coloumn_id;Ky.coloumn_id<Ky.ColoumnsCount&&Ky.data_cursor<Ky.data.length;Ky.data_cursor++)Ky.data[Ky.data_cursor]&&Ky.addCell(Ky.data[Ky.data_cursor]);if(t.appendChild(Ky.row),Ky.coloumn_id===Ky.ColoumnsCount)Ky.row_id++;else if(Ky.data_cursor>=Ky.data.length)break}}Ky.emptyContent=!e&&!Ky.status,hb()}function ub(e,t,n,a){var i=e+"_"+t;return x_(n[1]+i,a),e<Ky.ColoumnsCount&&T_(a),(Fr=document.createElement("div")).style.cssText=Ky.ThumbCssText,i}function _b(e,t,n,a,i,o){var s=ub(e,t,n,a);return Fr.setAttribute("id",n[5]+s),Fr.setAttribute(vu,i),Fr.innerHTML='<div id="'+n[0]+s+'" class="stream_thumbnail_game"><div><img id="'+n[1]+s+'" class="stream_img"></div><div id="'+n[2]+s+'" class="stream_text2"><div id="<div id="'+n[3]+s+'" class="stream_channel">'+i+"</div>"+(""!==o?'<div id="'+n[4]+s+'"class="stream_info" style="width: 100%; display: inline-block;">'+o+"</div>":"")+"</div></div>",Fr}function fb(e,t,n,a,i,o,s,d,l,c,r,u,_,f,m,h){var p=ub(e,t,n,a);return Fr.setAttribute("id",n[8]+p),Fr.setAttribute(vu,JSON.stringify([r,c,s[2],u,i,_,f,m,h,s[0],l,s[1]+s[2]])),Fr.innerHTML='<div id="'+n[0]+p+'" class="stream_thumbnail_clip"><div><img id="'+n[1]+p+'" class="stream_img"></div><div id="'+n[2]+p+'" class="stream_text2"><div style="line-height: 14px;"><div id="'+n[3]+p+'" class="stream_channel" style="width: 72%; display: inline-block; font-size: 85%;">'+i+'</div><div id="'+n[7]+p+'"class="stream_info" style="width:27%; float: right; text-align: right; display: inline-block;">'+l+'</div></div><div id="'+n[11]+p+'"class="stream_info">'+s[0]+da+s[1]+s[2]+'</div><div id="'+n[6]+p+'"class="stream_info">'+d+D+'</div><div  style="line-height: 12px;"><div id="'+n[4]+p+'"class="stream_info" style="width: 59%; display: inline-block;">'+o[0]+o[1]+'</div><div id="'+n[5]+p+'"class="stream_info" style="width: 39%; display: inline-block; float: right; text-align: right;">'+V+zp(c)+"</div></div></div></div>",Fr}function mb(e,t,n,a,i){var o=ub(e,t,a,i[0]);return Fr.setAttribute("id",a[8]+o),Fr.setAttribute(vu,JSON.stringify(n)),Fr.innerHTML='<div id="'+a[0]+o+'" class="stream_thumbnail_clip"><div><img id="'+a[1]+o+'" class="stream_img"></div><div id="'+a[2]+o+'" class="stream_text2"><div style="line-height: 14px;"><div id="'+a[3]+o+'" class="stream_channel" style="width: 66%; display: inline-block;">'+i[1]+'</div><div id="'+a[7]+o+'"class="stream_info" style="width:33%; float: right; text-align: right; display: inline-block;">'+i[5]+'</div></div><div id="'+a[4]+o+'"class="stream_info">'+xS.parse(i[2])+'</div><div id="'+a[5]+o+'"class="stream_info">'+v+i[3]+'</div><div id="'+a[6]+o+'"class="stream_info">'+i[4]+"</div></div></div>",Fr}function hb(){Ky.status?(I_(Ky.img_404),Qu(Ky.posX,Ky.posY,Ky.ColoumnsCount,Ky.itemsCount)):(Ky.emptyContent?$u(Ky.empty_str()):(Ky.status=!0,I_(Ky.img_404)),Yr&&Ky.status&&Fk.restor_playback.defaultValue?Br.Play_WasPlaying?(y_(Br.Main_Go),Br.Main_Go=Tr,Br.vodOffset||(Br.vodOffset=1),zd=Br.vodOffset+1,nv(qn),1===Br.Play_WasPlaying?Z_():ef(),h_(!0),window.setTimeout(function(){Vh||av()},2e3)):1!==Tr?(y_(Br.Main_Go),Br.Main_Go=Tr,nf(Ky.posY+"_"+Ky.posX,Ky.ids),h_()):(Br.Never_run&&o_(),Br.Never_run=!1,pb(),v_()):(pb(),v_()),Yr=!1,Ky.FirstLoad=!1,Hu())}function pb(e){if(Ky.emptyContent){if(!Ky.HasSwitches)return void Ky.key_exit();Ky.posY=-1}Ky.posY<0?gb():(Ky.addFocus(Ky.posY,Ky.posX,Ky.ids,Ky.ColoumnsCount,Ky.itemsCount,e),2<Ky.posY&&Ky.data_cursor+Lb>Ky.data.length&&!Ky.dataEnded&&!Ky.loadingData?(sb(),db()):Ky.posY+Ky.ItemsReloadLimit>Ky.itemsCount/Ky.ColoumnsCount&&Ky.data_cursor<Ky.data.length&&(S_(),sf(function(){Ky.loadDataSuccess()})),Ur&&nf(Ky.posY+"_"+Ky.posX,Ky.ids))}function vb(e,t){nf(Ky.posY+"_"+Ky.posX,Ky.ids),Ky.posY+=e,Ky.posX=t,pb()}function gb(){Ru(Ky.ids[0]+"y_0",pu)}function yb(){Nu(Ky.ids[0]+"y_0",pu)}function bb(e){d_()?s_():a_()?n_():(e===Ky.screen?Br.Main_Go=rr:Br.Main_Go=e,ib())}function wb(e){if(!Ky.HasSwitches||Ky.posY||-1!==e||Ky.emptyContent){if(Ky.HasSwitches&&-1===Ky.posY&&u_(0,Ky.posX,Ky.ids[0]))Ky.posY=0,pb(),yb();else for(var t=0;t<Ky.ColoumnsCount;t++)if(u_(Ky.posY+e,Ky.posX-t,Ky.ids[0]))return void vb(e,Ky.posX-t)}else nf(Ky.posY+"_"+Ky.posX,Ky.ids),Ky.posY=-1,gb()}function kb(e,t){u_(Ky.posY,Ky.posX+e,Ky.ids[0])?vb(0,Ky.posX+e):u_(Ky.posY+e,t,Ky.ids[0])&&vb(e,t)}function Ab(e){if(!Ky.FirstLoad&&!z_())switch(q_(),e.keyCode){case Ua:Ky.key_exit();break;case La:kb(-1,Ky.ColoumnsCount-1);break;case Ba:kb(1,0);break;case Ta:wb(-1);break;case Oa:wb(1);break;case xa:case Sa:case Pa:case Ga:Ky.key_play()}}Ky.FirstLoad=!1;var Cb,Eb,Mb,Ib,Sb,xb,Pb,Lb=100,Tb="",Bb="",Ob="",Gb="",Ub="",Rb="",Nb={posX:0,posY:0,row_id:0,coloumn_id:0,dataEnded:!1,idObject:{},loadingData:!1,itemsCount:0,loadingDataTryMax:5,loadingDataTimeout:3500,MaxOffset:0,offset:0,status:!1,emptyContent:!1,itemsCountCheck:!1,FirstLoad:!1,row:0,data:null,data_cursor:0,loadDataSuccess:rb,set_ThumbSize:function(){this.ThumbCssText="width: "+this.ThumbSize+"%; display: inline-block; padding: 3px;"},key_exit:function(){d_()?s_():a_()?n_():(this.itemsCount&&nf(this.posY+"_"+this.posX,this.ids),Af(Ab))}},Vb={ThumbSize:32.65,ItemsLimit:Kr,ItemsReloadLimit:eu,ColoumnsCount:$r,addFocus:j_,img_404:Ma,empty_str:function(){return L+W},key_play:function(){Q_(this.posY+"_"+this.posX,this.ids,Ab)}};function Db(){(xb=nb(xb=nb({ids:tb("Live"),table:"stream_table_live",screen:rr,base_url:"https://api.twitch.tv/kraken/streams?limit="+Lb,set_url:function(){this.offset&&this.offset+Lb>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+"&offset="+this.offset+(""!==qr?"&broadcaster_language="+qr:"")},label_init:function(){Br.Main_CenterLablesVectorPos=0,Ru("top_bar_live","icon_center_focus")},label_exit:function(){Nu("top_bar_live","icon_center_focus")},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.MaxOffset=t._total,this.data=this.data.concat(t.streams),this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadingData=!1}else this.data=JSON.parse(e),this.MaxOffset=this.data._total,this.data=this.data.streams,this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadDataSuccess(),this.loadingData=!1},addCell:function(e){this.idObject[e.channel._id]||(this.itemsCount++,this.idObject[e.channel._id]=1,this.row.appendChild(mb(this.row_id,this.coloumn_id,[e.channel.name,e.channel._id,e.channel.status],this.ids,[e.preview.template.replace("{width}x{height}",mu),r_(JSON.stringify(e.stream_type))+e.channel.display_name,e.channel.status,e.game,y+jp(e.created_at)+" "+h+l_(e.viewers)+J,c_(e.video_height,e.average_fps,e.channel.broadcaster_language)])),this.coloumn_id++)}},Nb),Vb)).set_ThumbSize()}function Jb(){(Pb=nb(Pb=nb({ids:tb("Featured"),table:"stream_table_featured",screen:Pr,base_url:"https://api.twitch.tv/kraken/streams/featured?limit="+Lb,set_url:function(){this.url=this.base_url+"&offset="+this.offset+(oo()&&Hi[Br.Users_Position].access_token?"&oauth_token="+Hi[Br.Users_Position].access_token:"")},label_init:function(){Br.Main_CenterLablesVectorPos=2,Ru("top_bar_featured","icon_center_focus")},label_exit:function(){Nu("top_bar_featured","icon_center_focus")},concatenate:function(e){this.data=JSON.parse(e),this.data=this.data.featured,this.dataEnded=!0,this.loadDataSuccess(),this.loadingData=!1},addCell:function(e){e=e.stream,this.idObject[e.channel._id]||(this.itemsCount++,this.idObject[e.channel._id]=1,this.row.appendChild(mb(this.row_id,this.coloumn_id,[e.channel.name,e.channel._id,e.channel.status],this.ids,[e.preview.template.replace("{width}x{height}",mu),r_(JSON.stringify(e.stream_type))+e.channel.display_name,e.channel.status,e.game,y+jp(e.created_at)+" "+h+l_(e.viewers)+J,c_(e.video_height,e.average_fps,e.channel.broadcaster_language)])),this.coloumn_id++)}},Nb),Vb)).set_ThumbSize()}var Fb={ThumbSize:32.65,ItemsLimit:Kr,HasSwitches:!0,TopRowCreated:!1,ItemsReloadLimit:eu,ColoumnsCount:$r,addFocus:j_,cursor:null,period:["day","week","month","all"],img_404:Ma,empty_str:function(){return L+U},key_play:function(){-1===this.posY?this.loadingData||(this.periodPos++,4<this.periodPos&&(this.periodPos=1),this.SetPeriod(),ob()):K_(this.posY+"_"+this.posX,this.ids,Ab)},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.cursor=t._cursor,""===this.cursor&&(this.dataEnded=!0),this.data=this.data.concat(t.clips),this.loadingData=!1}else this.data=JSON.parse(e),this.cursor=this.data._cursor,""===this.cursor&&(this.dataEnded=!0),this.data=this.data.clips,this.loadDataSuccess(),this.loadingData=!1},addCell:function(e){this.idObject[e.tracking_id]||(this.itemsCount++,this.idObject[e.tracking_id]=1,this.row.appendChild(fb(this.row_id,this.coloumn_id,this.ids,e.thumbnails.medium,e.broadcaster.display_name,[on,A_(e.created_at)],[xS.parse(e.title),v,e.game],l_(e.views),"["+e.language.toUpperCase()+"]",e.duration,e.slug,e.broadcaster.name,e.broadcaster.logo.replace("150x150","300x300"),e.broadcaster.id,null!==e.vod?e.vod.id:null,null!==e.vod?e.vod.offset:null)),this.coloumn_id++)}};function Hb(){(Cb=nb(Cb=nb({ids:tb("Clip"),table:"stream_table_clip",screen:Ir,periodPos:Pf("Clip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?limit="+Lb,set_url:function(){this.url=this.base_url+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")+(""!==qr?"&language="+qr:"")},SetPeriod:function(){Vu("top_bar_clip",U+k_(Xr[this.periodPos-1])),xf("Clip_periodPos",this.periodPos)},label_init:function(){Br.Main_CenterLablesVectorPos=5,this.SetPeriod(),Ru("top_bar_clip","icon_center_focus"),Bu("label_refresh","icon-refresh",t+jt)},label_exit:function(){b_(),Nu("top_bar_clip","icon_center_focus"),Bu("label_refresh","icon-refresh",t+jt)}},Nb),Fb)).set_ThumbSize()}function qb(){(Eb=nb(Eb=nb({ids:tb("ChannelClip"),table:"stream_table_channel_clip",screen:kr,periodPos:Pf("ChannelClip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?channel=",set_url:function(){this.url=this.base_url+encodeURIComponent(Br.Main_selectedChannel)+"&limit="+Lb+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")},SetPeriod:function(){Vu("top_bar_game",U+Xr[this.periodPos-1]),xf("ChannelClip_periodPos",this.periodPos)},label_init:function(){Br.Main_CenterLablesVectorPos=1,!Br.Search_isSearching&&Br.Main_selectedChannel_id&&Ld(),Br.Main_selectedChannel!==this.lastselectedChannel&&(this.status=!1),w_(),this.SetPeriod(),Du("top_bar_user",Br.Main_selectedChannelDisplayname),Bu("label_side_panel","icon-arrow-circle-left",I),this.lastselectedChannel=Br.Main_selectedChannel},label_exit:b_},Nb),Fb)).set_ThumbSize()}function zb(){(Mb=nb(Mb=nb({ids:tb("AGameClip"),table:"stream_table_a_game_clip",screen:xr,periodPos:Pf("AGameClip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?game=",set_url:function(){this.url=this.base_url+encodeURIComponent(Br.Main_gameSelected)+"&limit="+Lb+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")+(""!==qr?"&language="+qr:"")},SetPeriod:function(){Vu("top_bar_game",b+k_(U+Xr[this.periodPos-1]+": "+Br.Main_gameSelected)),xf("AGameClip_periodPos",this.periodPos)},label_init:function(){Br.Main_CenterLablesVectorPos=3,this.SetPeriod(),Ru("top_bar_game","icon_center_focus"),Bu("label_side_panel","icon-arrow-circle-left",I),this.gameSelected!==Br.Main_gameSelected&&(this.status=!1),this.gameSelected=Br.Main_gameSelected},label_exit:function(){Nu("top_bar_game","icon_center_focus"),Vu("top_bar_game",f),Bu("label_side_panel","icon-ellipsis",Rn)}},Nb),Fb)).set_ThumbSize()}var Xb={ThumbSize:19.35,ItemsLimit:tu,ItemsReloadLimit:au,ColoumnsCount:nu,addFocus:Y_,img_404:Ca,empty_str:function(){return L+Z},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.MaxOffset=t._total,this.data=this.data.concat(this.screen===pr?t.follows:t.top),this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadingData=!1}else this.data=JSON.parse(e),this.MaxOffset=this.data._total,this.data=this.screen===pr?this.data.follows:this.data.top,this.offset=this.data.length,this.isLive?this.dataEnded=!0:this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadDataSuccess(),this.loadingData=!1},key_play:function(){Br.Main_gameSelected=document.getElementById(this.ids[5]+this.posY+"_"+this.posX).getAttribute(vu),document.body.removeEventListener("keydown",Ab),Br.Main_BeforeAgame=this.screen,Br.Main_Go=fr,Br.Main_BeforeAgameisSet=!0,Po=!1,jr=0,document.body.removeEventListener("keydown",Ab),Ou(this.ids[10]),p_(),nf(this.posY+"_"+this.posX,this.ids)},addCell:function(e){var t=this.isLive||this.screen===_r,n=t?e.game:e;this.idObject[n._id]||(this.itemsCount++,this.idObject[n._id]=1,this.row.appendChild(_b(this.row_id,this.coloumn_id,this.ids,n.box.template.replace("{width}x{height}",hu),n.name,t?l_(e.channels)+" "+E+h+l_(e.viewers)+J:"")),this.coloumn_id++)}};function jb(){(Ib=nb(Ib=nb({ids:tb("Game"),table:"stream_table_games",screen:_r,base_url:"https://api.twitch.tv/kraken/games/top?limit="+Lb,set_url:function(){this.offset&&this.offset+Lb>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+"&offset="+this.offset},label_init:function(){Br.Main_CenterLablesVectorPos=3,Ru("top_bar_game","icon_center_focus")},label_exit:function(){Nu("top_bar_game","icon_center_focus")}},Nb),Xb)).set_ThumbSize()}function Yb(){(Sb=nb(Sb=nb({ids:tb("UserGames"),table:"stream_table_user_games",screen:pr,isLive:Tf("user_Games_live",!0),OldUserName:"",base_url:"https://api.twitch.tv/api/users/",set_url:function(){this.offset&&this.offset+Lb>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+encodeURIComponent(Hi[Br.Users_Position].name)+"/follows/games",this.isLive?this.url+="/live?limit=750":this.url+="?limit="+Lb+"&offset="+this.offset},key_refresh:function(){this.isLive=!this.isLive,Vu("top_bar_user",u+k_(Hi[Br.Users_Position].name+" "+(this.isLive?Z:zt))),ob(),xf("user_Games_live",this.isLive?"true":"false"),EM&&BM()},label_init:function(){Br.Main_CenterLablesVectorPos=1,Bu("label_refresh","icon-refresh",Xt+Z+"/"+zt+":"+jt),Bu("label_side_panel","icon-arrow-circle-left",I),Ru("top_bar_user","icon_center_focus"),this.OldUserName!==Hi[Br.Users_Position].name&&(this.status=!1),this.OldUserName=Hi[Br.Users_Position].name,Vu("top_bar_user",u+k_(Hi[Br.Users_Position].name+" "+(this.isLive?Z:zt)))},label_exit:function(){Br.Users_Position=0,Nu("top_bar_user","icon_center_focus"),Bu("label_refresh","icon-refresh",t+jt),Du("top_bar_user",u),Bu("label_side_panel","icon-ellipsis",Rn)}},Nb),Xb)).set_ThumbSize()}var Wb=0,Qb=0,Zb=!1,Kb=0,$b={},ew=[],tw=!1,nw=0,aw=5,iw=3500,ow=0,sw=0,dw=!1,lw=!1,cw="",rw=!1,uw=["sc_thumbdiv","sc_img","sc_infodiv","sc_displayname","sc_cell","scempty_","search_channel_scroll"];function _w(){Br.Main_CenterLablesVectorPos=1,Br.Main_Go=Er,Br.isLastSChannels=!0,Br.Search_isSearching=!0,cw!==Br.Search_data&&(lw=!1),w_(),Vu("top_bar_user",n+k_(E+" '"+Br.Search_data+"'")),document.body.addEventListener("keydown",Mw,!1),lw?(P_(Wb),Gu(uw[6]),Cw(),v_()):mw()}function fw(){b_(),document.body.removeEventListener("keydown",Mw),Ou(uw[6])}function mw(){M_("stream_table_search_channel"),Ou(uw[6]),Fu(),e_(),cw=Br.Search_data,lw=!1,$b={},wf=!(Kb=sw=ow=0),Wb=Qb=0,Zb=rw=!(ew=[]),Wu(),hw(),pw()}function hw(){S_(),tw=!0,nw=0,iw=3500}function pw(){var e=Kb+ow;e&&sw-1<e&&(e=sw-iu,Zb=!0);var t="https://api.twitch.tv/kraken/search/channels?query="+encodeURIComponent(Br.Search_data)+"&limit="+iu+"&offset="+e;Au&&!Kb?Rf(t,iw,2,null,gw,vw):Nf(t,iw,2,null,gw,vw,!1)}function vw(){++nw<aw?(iw+=500,pw()):(tw=!1,Kb?(Zb=!0,bw()):(wf=!1,Hu(),$u(P)))}function gw(e){var t=JSON.parse(e),n=t.channels.length;sw=parseInt(t._total),n<iu&&(Zb=!0);var a=Kb;dw=!(Kb+=n);var i=n/ou;0<n%ou&&i++;for(var o,s,d,l,c,r=0,u=document.getElementById("stream_table_search_channel"),_=0;_<i;_++){for(s=a/ou+_,d=document.createElement("tr"),o=0;o<ou&&r<n;o++,r++)c=(l=t.channels[r])._id,$b[c]?o--:($b[c]=1,d.appendChild(yw(s,s+"_"+o,[l.name,c,l.logo,l.display_name])));for(;o<ou;o++)Zb&&!rw&&(rw=!0,Kb=s*ou+o),d.appendChild(B_(uw[5]+s+"_"+o)),ew.push(uw[5]+s+"_"+o);u.appendChild(d)}bw()}function yw(e,t,n){return e<4&&T_(n[2]),O_(t,uw,n)}function bw(){if(lw){if(I_(Ea),0<ew.length&&!Zb)return hw(),void ww();Cw(!0),ew=[]}else dw?$u(d):(lw=!0,I_(Ea),Cw(),v_()),Gu(uw[6]),wf=!1,Hu();tw=!1}function ww(){Ku(ew.length);var e=Kb+ow;e&&sw-1<e&&(e=sw-du,Zb=!0),Gf("https://api.twitch.tv/kraken/search/channels?query="+encodeURIComponent(Br.Search_data)+"&limit="+du+"&offset="+e,iw,2,null,Aw,kw)}function kw(){++nw<aw?(iw+=500,ww()):(Zb=!0,Kb-=ew.length,ew=[],bw())}function Aw(e){var t,n,a=JSON.parse(e),i=a.channels.length,o=0,s=0,d=[];for(sw=parseInt(a._total),i<du&&(Zb=!0);o<ew.length&&s<i;o++,s++)n=(t=a.channels[s])._id,$b[n]?o--:($b[n]=1,G_(ew[o],[t.name,n,t.logo,t.display_name],uw),d.push(o));for(o=d.length-1;-1<o;o--)ew.splice(d[o],1);ow+=s,Zb&&(Kb-=ew.length,ew=[]),bw()}function Cw(e){X_(Wb,Qb,uw,ou,Kb,e),Kb/ou<Wb+su&&!Zb&&!tw&&(hw(),pw()),Ur&&Ew()}function Ew(){Kb&&nf(Wb+"_"+Qb,uw)}function Mw(e){var t;if(!wf&&!z_())switch(q_(),e.keyCode){case Ua:d_()?s_():a_()?n_():(Ew(),Af(Mw));break;case La:if(u_(Wb,Qb-1,uw[0]))Ew(),Qb--,Cw();else for(t=ou-1;-1<t;t--)if(u_(Wb-1,t,uw[0])){Ew(),Wb--,Qb=t,Cw();break}break;case Ba:u_(Wb,Qb+1,uw[0])?(Ew(),Qb++,Cw()):u_(Wb+1,0,uw[0])&&(Ew(),Wb++,Qb=0,Cw());break;case Ta:for(t=0;t<ou;t++)if(u_(Wb-1,Qb-t,uw[0])){Ew(),Wb--,Qb-=t,Cw();break}break;case Oa:for(t=0;t<ou;t++)if(u_(Wb+1,Qb-t,uw[0])){Ew(),Wb++,Qb-=t,Cw();break}break;case xa:case Sa:case Pa:case Ga:Br.Main_selectedChannel=document.getElementById(uw[4]+Wb+"_"+Qb).getAttribute(vu),Br.Main_selectedChannel_id=document.getElementById(uw[4]+Wb+"_"+Qb).getAttribute("data-id"),Br.Main_selectedChannelDisplayname=document.getElementById(uw[3]+Wb+"_"+Qb).textContent,document.body.removeEventListener("keydown",Mw),Br.Main_BeforeChannel=Er,Br.Main_Go=br,Br.Main_BeforeChannelisSet=!0,js=Xa=!1,Ou(uw[6]),h_()}}var Iw=!1,Sw=0,xw=0,Pw=0,Lw=0,Tw=5,Bw=3500,Ow=0,Gw=0,Uw=!1,Rw=!1,Nw="",Vw=["sgthumbdiv","sgimg","sginfodiv","sgdisplayname","sgviwers","sgcell","sgempty_","search_games_scroll"];function Dw(){Br.Main_CenterLablesVectorPos=1,Br.Main_Go=gr,Br.Search_isSearching=!0,w_(),Nw!==Br.Search_data&&(Iw=!1),Vu("top_bar_user",n+k_(f+" '"+Br.Search_data+"'")),document.body.addEventListener("keydown",Zw,!1),Iw?(P_(Sw),Gu(Vw[7]),Ww(),v_()):Fw()}function Jw(){Br.Search_isSearching||b_(),document.body.removeEventListener("keydown",Zw),Br.Games_return=!1,Ou(Vw[7])}function Fw(){M_("stream_table_search_game"),Ou(Vw[7]),Fu(),e_(),Nw=Br.Search_data,Rw=Iw=!1,Sw=xw=Pw=Gw=Ow=0,Wu(),Hw(),qw()}function Hw(){S_(),wf=!0,Lw=0,Bw=3500}function qw(){Gf("https://api.twitch.tv/kraken/search/games?query="+encodeURIComponent(Br.Search_data),Bw,2,null,Xw,zw)}function zw(){++Lw<Tw?(Bw+=500,qw()):(wf=!1,Pw?Yw():(Hu(),$u(P)))}function Xw(e){var t=JSON.parse(e),n=0;null!==t.games&&(n=t.games.length);var a=Pw;Uw=!(Pw+=n);var i=n/nu;0<n%nu&&i++;for(var o,s,d,l,c=0,r=document.getElementById("stream_table_search_game"),u=0;u<i;u++){for(s=a/nu+u,d=document.createElement("tr"),o=0;o<nu&&c<n;o++,c++)l=t.games[c],d.appendChild(jw(s,s+"_"+o,[l.name,l.box.template.replace("{width}x{height}",hu),""]));for(;o<nu;o++)Rw||(Rw=!0,Pw=s*nu+o),d.appendChild(B_(Vw[6]+s+"_"+o));r.appendChild(d)}Yw()}function jw(e,t,n){return e<2&&T_(n[1]),D_(t,Vw,n)}function Yw(){Iw||(Uw?$u(d):(Iw=!0,I_(Ma),Ww(),v_()),Hu()),Gu(Vw[7]),wf=!1,Qu(xw,Sw,nu,Pw)}function Ww(){Y_(Sw,xw,Vw,nu,Pw),Ur&&Qw()}function Qw(){Pw&&nf(Sw+"_"+xw,Vw)}function Zw(e){var t;if(!wf&&!z_())switch(q_(),e.keyCode){case Ua:d_()?s_():a_()?n_():(Qw(),Af(Zw));break;case La:if(u_(Sw,xw-1,Vw[0]))Qw(),xw--,Ww();else for(t=nu-1;-1<t;t--)if(u_(Sw-1,t,Vw[0])){Qw(),Sw--,xw=t,Ww();break}break;case Ba:u_(Sw,xw+1,Vw[0])?(Qw(),xw++,Ww()):u_(Sw+1,0,Vw[0])&&(Qw(),Sw++,xw=0,Ww());break;case Ta:for(t=0;t<nu;t++)if(u_(Sw-1,xw-t,Vw[0])){Qw(),Sw--,xw-=t,Ww();break}break;case Oa:for(t=0;t<nu;t++)if(u_(Sw+1,xw-t,Vw[0])){Qw(),Sw++,xw-=t,Ww();break}break;case xa:case Sa:case Pa:case Ga:Br.gameSelectedOld=Br.Main_gameSelected,Jw(),Br.Main_gameSelected=document.getElementById(Vw[5]+Sw+"_"+xw).getAttribute(vu),document.body.removeEventListener("keydown",Zw),Br.Main_Go=fr,Br.Games_return=!0,h_()}}var Kw=0,$w=0,ek=!1;function tk(){e_(),Ou("label_refresh"),Bu("label_side_panel","icon-arrow-circle-left",I),Du("top_bar_user",n),document.getElementById("top_lables").style.marginLeft="14%",document.getElementById("top_bar_live").style.display="none",document.getElementById("top_bar_featured").style.display="none",document.getElementById("top_bar_game").style.display="none",document.getElementById("top_bar_vod").style.display="none",document.getElementById("top_bar_clip").style.display="none",$c.placeholder=w,Ru("top_bar_user","icon_center_focus"),Gu("search_scroll"),$w=Kw=0,ik(),sk()}function nk(){dk(!1),document.body.removeEventListener("keydown",ok),ik(),Br.Main_Go=Br.Main_BeforeSearch,document.getElementById("top_lables").style.marginLeft="18.5%",Du("top_bar_user",u),Nu("top_bar_user","icon_center_focus"),Bu("label_side_panel","icon-ellipsis",Rn),Gu("label_refresh"),document.getElementById("top_bar_live").style.display="inline-block",document.getElementById("top_bar_featured").style.display="inline-block",document.getElementById("top_bar_game").style.display="inline-block",document.getElementById("top_bar_vod").style.display="inline-block",document.getElementById("top_bar_clip").style.display="inline-block",$c.value="",Ou("search_scroll")}function ak(){nk(),sf(function(){$w?1===$w?Dw():2===$w&&Ik():_w()})}function ik(){Nu("chanel_button","button_search_focused"),Nu("game_button","button_search_focused"),Nu("live_button","button_search_focused"),Kw&&($w?1===$w?Ru("game_button","button_search_focused"):2===$w&&Ru("live_button","button_search_focused"):Ru("chanel_button","button_search_focused"))}function ok(e){if(!ek)switch(e.keyCode){case Ua:d_()?s_():a_()?n_():(nk(),h_());break;case La:1===Kw&&(--$w<0&&($w=2),ik());break;case Ba:1===Kw&&(2<++$w&&($w=0),ik());break;case Ta:1===Kw&&(Kw=0,ik(),sk());break;case Oa:Kw?1===Kw&&(Kw=0,ik(),sk()):(dk(!1),Kw=1,ik());break;case xa:case Sa:case Pa:case Ga:Kw?""!==$c.value&&null!==$c.value?(Br.Search_data=$c.value,$c.value="",ak()):($u(s),window.setTimeout(function(){e_()},1e3)):sk()}}function sk(){document.body.removeEventListener("keydown",ok),document.body.addEventListener("keydown",ck,!1),$c.placeholder=w,$c.focus(),ek=!0}function dk(e){$c.blur(),lk(),document.body.removeEventListener("keydown",ck),$c.placeholder=C+w,e&&document.body.addEventListener("keydown",ok,!1),ek=!1}function lk(){if(null!==$c){var e=$c.cloneNode(!0);$c.parentNode.replaceChild(e,$c),$c=document.getElementById("search_input")}}function ck(e){switch(e.keyCode){case Ua:a_()?n_():d_()?s_():(nk(),h_());break;case Da:$c.value="";break;case Na:case Oa:dk(!0),Kw=1,ik();break;case Ra:$c.value=$c.value.slice(0,-1);break;case Va:$c.value+=" "}}var rk=0,uk=0,_k=!1,fk=0,mk={},hk=[],pk=!1,vk=0,gk=5,yk=3500,bk=0,wk=0,kk=!1,Ak=!1,Ck=!1,Ek="",Mk=["sl_thumbdiv","sl_img","sl_infodiv","sl_displayname","sl_streamtitle","sl_streamgame","sl_viwers","sl_quality","sl_cell","slempty_","search_live_scroll"];function Ik(){Br.Main_CenterLablesVectorPos=1,Br.Main_Go=yr,Br.Search_isSearching=!0,w_(),Ek!==Br.Search_data&&(Ak=!1),Vu("top_bar_user",n+k_(_+" '"+Br.Search_data+"'")),document.body.addEventListener("keydown",Dk,!1),Ak?(P_(rk),Gu(Mk[10]),Nk(),v_()):xk()}function Sk(){b_(),document.body.removeEventListener("keydown",Dk),Ou(Mk[10])}function xk(){M_("stream_table_search_live"),Ou(Mk[10]),Fu(),e_(),Ek=Br.Search_data,Ak=!1,wf=!(Ck=!(hk=[])),rk=uk=fk=wk=bk=0,_k=!(mk={}),Wu(),Pk(),Lk()}function Pk(){S_(),pk=!0,vk=0,yk=3500}function Lk(){var e=fk+bk;e&&wk-1<e&&(e=wk-Kr,_k=!0);var t="https://api.twitch.tv/kraken/search/streams?query="+encodeURIComponent(Br.Search_data)+"&limit="+Kr+"&offset="+e;Au&&!fk?Rf(t,yk,2,null,Bk,Tk):Nf(t,yk,2,null,Bk,Tk,!1)}function Tk(){++vk<gk?(yk+=500,Lk()):(pk=!1,fk?(_k=!0,Ok()):(wf=!1,Hu(),$u(P)))}function Bk(e){var t=JSON.parse(e),n=t.streams.length;wk=parseInt(t._total),n<Kr&&(_k=!0);var a=fk;kk=!(fk+=n);var i=n/$r;0<n%$r&&i++;for(var o,s,d,l,c,r=0,u=document.getElementById("stream_table_search_live"),_=0;_<i;_++){for(s=a/$r+_,d=document.createElement("tr"),o=0;o<$r&&r<n;o++,r++)c=(l=t.streams[r]).channel._id,mk[c]?o--:(mk[c]=1,d.appendChild(R_(s,s+"_"+o,[l.channel.name,c],Mk,[l.preview.template.replace("{width}x{height}",mu),r_(JSON.stringify(l.stream_type))+l.channel.display_name,l.channel.status,l.game,y+jp(l.created_at)+" "+h+l_(l.viewers)+J,c_(l.video_height,l.average_fps,l.channel.broadcaster_language)])));for(;o<$r;o++)_k&&!Ck&&(Ck=!0,fk=s*$r+o),d.appendChild(B_(Mk[9]+s+"_"+o)),hk.push(Mk[9]+s+"_"+o);u.appendChild(d)}Ok()}function Ok(){if(Ak){if(I_(Ma),0<hk.length&&!_k)return Pk(),void Gk();Nk(!0),hk=[]}else kk?$u(d):(Ak=!0,I_(Ma),Nk(),v_()),Gu(Mk[10]),wf=!1,Hu();pk=!1}function Gk(){Ku(hk.length);var e=fk+bk;e&&wk-1<e&&(e=wk-du,_k=!0),Gf("https://api.twitch.tv/kraken/search/streams?query="+encodeURIComponent(Br.Search_data)+"&limit="+du+"&offset="+e,yk,2,null,Rk,Uk)}function Uk(){++vk<gk?(yk+=500,Gk()):(_k=!0,fk-=hk.length,hk=[],Ok())}function Rk(e){var t,n,a=JSON.parse(e),i=a.streams.length,o=0,s=0,d=[];for(wk=parseInt(a._total),i<du&&(_k=!0);o<hk.length&&s<i;o++,s++)n=(t=a.streams[s]).channel._id,mk[n]?o--:(mk[n]=1,N_(hk[o],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",mu),r_(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+jp(t.created_at)+" "+h+l_(t.viewers)+J,c_(t.video_height,t.average_fps,t.channel.broadcaster_language)],Mk),d.push(o));for(o=d.length-1;-1<o;o--)hk.splice(d[o],1);bk+=s,_k&&(fk-=hk.length,hk=[]),Ok()}function Nk(e){j_(rk,uk,Mk,$r,fk,e),fk/$r<rk+eu&&!_k&&!pk&&(Pk(),Lk()),Ur&&Vk()}function Vk(){fk&&nf(rk+"_"+uk,Mk)}function Dk(e){var t;if(!wf&&!z_())switch(q_(),e.keyCode){case Ua:d_()?s_():a_()?n_():(Vk(),Af(Dk));break;case La:if(u_(rk,uk-1,Mk[0]))Vk(),uk--,Nk();else for(t=$r-1;-1<t;t--)if(u_(rk-1,t,Mk[0])){Vk(),rk--,uk=t,Nk();break}break;case Ba:u_(rk,uk+1,Mk[0])?(Vk(),uk++,Nk()):u_(rk+1,0,Mk[0])&&(Vk(),rk++,uk=0,Nk());break;case Ta:for(t=0;t<$r;t++)if(u_(rk-1,uk-t,Mk[0])){Vk(),rk--,uk-=t,Nk();break}break;case Oa:for(t=0;t<$r;t++)if(u_(rk+1,uk-t,Mk[0])){Vk(),rk++,uk-=t,Nk();break}break;case xa:case Sa:case Pa:case Ga:Q_(rk+"_"+uk,Mk,Dk)}}var Jk=0,Fk={restor_playback:{values:["off","on"],defaultValue:2},chat_font_size:{values:["60%","80%","100%","120%","140%"],defaultValue:3},chat_brightness:{values:["0%","5%","10%","15%","20%","25%","30%","35%","40%","45%","50%","55%","60%","65%","70%","75%","80%","85%","90%","95%","100%"],defaultValue:11},force_disable_chat:{values:["off","on"],defaultValue:2},buffer_live:{values:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],defaultValue:4},buffer_vod:{values:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],defaultValue:4},buffer_clip:{values:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],defaultValue:3},videos_animation:{values:["off","on"],defaultValue:2},clock_offset:{values:Hk(),defaultValue:49},content_lang:{values:["All"],set_values:[""],defaultValue:1}};function Hk(){for(var e=[],t=43200,n=0;n<48;n++)e.push("-"+zp(t)),t-=900;for(e.push(zp(0)),t=900,n=0;n<48;n++)e.push(zp(t)),t+=900;return e}var qk=[],zk=0;function Xk(){m_(),Ou("label_side_panel"),Bu("label_refresh","icon-arrow-circle-left",ia),document.body.addEventListener("keydown",uA,!1),Du("top_bar_user",a),document.getElementById("top_lables").style.marginLeft="14%",document.getElementById("top_bar_live").style.display="none",document.getElementById("top_bar_featured").style.display="none",document.getElementById("top_bar_game").style.display="none",document.getElementById("top_bar_vod").style.display="none",document.getElementById("top_bar_clip").style.display="none",Ru("top_bar_user","icon_center_focus"),Gu("settings_scroll"),iA(Jk=0),Kk("content_lang",jn,fA)}function jk(){document.body.removeEventListener("keydown",uA),Gu("label_side_panel"),oA(),Du("top_bar_user",u),document.getElementById("top_lables").style.marginLeft="18.5%",document.getElementById("top_bar_live").style.display="inline-block",document.getElementById("top_bar_featured").style.display="inline-block",document.getElementById("top_bar_game").style.display="inline-block",document.getElementById("top_bar_vod").style.display="inline-block",document.getElementById("top_bar_clip").style.display="inline-block",Nu("top_bar_user","icon_center_focus"),Bu("label_refresh","icon-refresh",t+jt),Ou("settings_scroll")}function Yk(){var e,t="";t+=Wk("general",gn),e="content_lang",qk.push(e),Fk[e].values=[Yn],t+=Zk(e,jn,""),e="clock_offset",qk.push(e),t+=Qk(e,zn),e="restor_playback",qk.push(e),Fk[e].values=[Pn,xn],t+=Zk(e,Ln,Tn),e="videos_animation",qk.push(e),Fk[e].values=[Pn,xn],t+=Qk(e,Un),t+=Wk("play",_n),e="chat_font_size",qk.push(e),t+=Zk(e,Bn,On),e="chat_brightness",qk.push(e),t+=Qk(e,aa),e="force_disable_chat",qk.push(e),Fk[e].values=[Ft,L],t+=Zk(e,ta,na),t+='<div id="setting_title_buffers" class="settings_title">'+fn+'</div><div id="setting_title_buffers_summary" class="settings_summary">'+mn+"</div>",e="buffer_live",qk.push(e),t+=Qk(e,hn),e="buffer_vod",qk.push(e),t+=Qk(e,pn),e="buffer_clip",qk.push(e),Vu("settings_main",t+=Qk(e,vn)),zk=qk.length,wA()}function Wk(e,t){return'<div id="setting_title_'+e+'" class="settings_section">'+t+"</div>"}function Qk(e,t){return'<div id="'+e+'_div" class="settings_div"><div id="'+e+'_name" class="settings_name">'+t+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_left" class="left"></div></div><div id="'+e+'" class="strokedextramini settings_value">'+tA(e)+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_right" class="right"></div></div></div>'}function Zk(e,t,n){return'<div id="'+e+'_div" class="settings_div"><div id="'+e+'_name" class="settings_name">'+t+'<div id="'+e+'_summary" class="settings_summary" style="font-size: 65%;">'+n+'</div></div><div class="settings_arraw_div"><div id="'+e+'arrow_left" class="left"></div></div><div id="'+e+'" class="strokedextramini settings_value">'+tA(e)+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_right" class="right"></div></div></div>'}function Kk(e,t,n){Vu(e+"_name",t+'<div id="'+e+'_summary" class="settings_summary" style="font-size: 65%;">'+n+"</div>")}function $k(){var e="";for(e in Du("setting_title_general",gn),Du((e="clock_offset")+"_name",zn),Du((e="content_lang")+"_name",jn),Du(e,tA(e)),Fk[e].values=[Yn],Du("setting_title_play",_n),Du("setting_title_buffers",fn),Du("setting_title_buffers_summary",mn),Du((e="buffer_live")+"_name",hn),Du((e="buffer_vod")+"_name",pn),Du((e="buffer_clip")+"_name",vn),Kk(e="restor_playback",Ln,Tn),Fk[e].values=[Pn,xn],Kk(e="chat_font_size",Bn,On),Kk(e="force_disable_chat",ta,na),Fk[e].values=[Pn,xn],Du((e="videos_animation")+"_name",Un),Fk[e].values=[Pn,xn],Du((e="chat_brightness")+"_name",aa),Fk)Fk.hasOwnProperty(e)&&Du(e,tA(e));bA()}function eA(){for(var e in Fk)Fk[e].defaultValue=Pf(e,Fk[e].defaultValue),Fk[e].defaultValue-=1,Fk[e].defaultValue>aA(e)&&(Fk[e].defaultValue=0);cA(0),rA(),Zm=(.05*nA("chat_brightness")).toFixed(2),ZI=nA("videos_animation"),Br.Play_ChatForceDisable=nA("force_disable_chat")}function tA(e){return Fk[e].values[nA(e)]}function nA(e){return Fk[e].defaultValue}function aA(e){return Fk[e].values.length-1}function iA(e){var t=qk[Jk];Ru(t,"settings_value_focus"),Ru(t+"_div","settings_div_focus"),dA(e)}function oA(){var e=qk[Jk];document.getElementById(e+"arrow_left").style.opacity="0",document.getElementById(e+"arrow_right").style.opacity="0",Nu(e,"settings_value_focus"),Nu(e+"_div","settings_div_focus")}function sA(e){var t=qk[e];xf(t,nA(t)+1),Du(t,tA(t)),dA(e),lA(e)}function dA(e){var t=qk[e];if(aA(t)){var n=nA(t),a=aA(t);0<n&&n<a?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="1"):n===a?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="0.2"):(document.getElementById(t+"arrow_left").style.opacity="0.2",document.getElementById(t+"arrow_right").style.opacity="1")}}function lA(e){"videos_animation"===(e=qk[e])?ZI=nA("videos_animation"):"buffer_live"===e?cA(1):"buffer_vod"===e?cA(2):"buffer_clip"===e?cA(3):"chat_brightness"===e?(Zm=(.05*nA("chat_brightness")).toFixed(2),Mv(!1)):"force_disable_chat"===e?Br.Play_ChatForceDisable=nA("force_disable_chat"):"chat_font_size"===e?fp():"clock_offset"===e&&(rA(),cf())}function cA(e){try{e?1===e?(sh=1e3*tA("buffer_live"),Au&&Android.SetBuffer(1,sh)):2===e?(Eg=1e3*tA("buffer_vod"),Au&&Android.SetBuffer(2,Eg)):3===e&&(lm=1e3*tA("buffer_clip"),Au&&Android.SetBuffer(3,lm)):(sh=1e3*tA("buffer_live"),Eg=1e3*tA("buffer_vod"),lm=1e3*tA("buffer_clip"),Au&&(Android.SetBuffer(1,sh),Android.SetBuffer(2,Eg),Android.SetBuffer(3,lm)))}catch(e){}}function rA(){var e=nA("clock_offset");ku=e<48?-9e5*(48-e):9e5*(e-48)}function uA(e){var t;switch(e.keyCode){case Ua:a_()?n_():d_()?s_():(jk(),h_());break;case La:0<nA(t=qk[Jk])&&(Fk[t].defaultValue-=1,sA(Jk));break;case Ba:nA(t=qk[Jk])<aA(t)&&(Fk[t].defaultValue+=1,sA(Jk));break;case Ta:0<Jk&&(oA(),iA(--Jk));break;case Oa:Jk<zk-1&&(oA(),iA(++Jk));break;case Ga:Jk||vA()}}var _A=0,fA="",mA={All:{values:["off","on"],defaultValue:2,set_values:""},"Dansk [DA]":{values:["off","on"],defaultValue:1,set_values:"da"},"Deutsch [DE]":{values:["off","on"],defaultValue:1,set_values:"de"},"English [EN]":{values:["off","on"],defaultValue:1,set_values:"en,en-gb"},"Espaol [ES]":{values:["off","on"],defaultValue:1,set_values:"es,es-mx"},"Franais [FR]":{values:["off","on"],defaultValue:1,set_values:"fr"},"Italiano [IT]":{values:["off","on"],defaultValue:1,set_values:"it"},"Magyar [HU]":{values:["off","on"],defaultValue:1,set_values:"hu"},"Nederlands [NL]":{values:["off","on"],defaultValue:1,set_values:"nl"},"Norsk [NO]":{values:["off","on"],defaultValue:1,set_values:"no"},"Polski [PL]":{values:["off","on"],defaultValue:1,set_values:"pl"},"Portugus [PT]":{values:["off","on"],defaultValue:1,set_values:"pt,pt-br"},"Slovenina [SK]":{values:["off","on"],defaultValue:1,set_values:"sk"},"Suomi [FI]":{values:["off","on"],defaultValue:1,set_values:"fi"},"Svenska [SV]":{values:["off","on"],defaultValue:1,set_values:"sv"},"Ting Vit [VI]":{values:["off","on"],defaultValue:1,set_values:"vi"},"Trke [TR]":{values:["off","on"],defaultValue:1,set_values:"tr"},"etina [CS]":{values:["off","on"],defaultValue:1,set_values:"cs"}," [EL]":{values:["off","on"],defaultValue:1,set_values:"el"}," [RU]":{values:["off","on"],defaultValue:1,set_values:"ru"}," [TH]":{values:["off","on"],defaultValue:1,set_values:"th"}," [ZH]":{values:["off","on"],defaultValue:1,set_values:"zh-cn,zh-tw"}," [JA]":{values:["off","on"],defaultValue:1,set_values:"ja"}," [KO]":{values:["off","on"],defaultValue:1,set_values:"ko"},"Romn [RO]":{values:["off","on"],defaultValue:1,set_values:"ro"}},hA=[],pA=0;function vA(){m_(),document.body.removeEventListener("keydown",uA),Ou("settings_main"),Gu("settings_lang"),TA(),Du("top_bar_featured",yn),document.getElementById("top_bar_featured").style.display="inline-block",document.body.addEventListener("keydown",BA,!1),IA(_A=0),yA()}function gA(){document.body.removeEventListener("keydown",BA),document.body.addEventListener("keydown",uA,!1),document.getElementById("settings_scroll").style.top=.085*screen.height+"px",Gu("settings_main"),Ou("settings_lang"),Du("top_bar_featured",an),document.getElementById("top_bar_featured").style.display="none",SA(),bA(),yA()}function yA(){""===qr&&(fA=Wn,mA.All.defaultValue=1,PA(0),Ru(hA[0],"strokedextraminired"),TA()),Kk("content_lang",jn,fA)}function bA(){if(qr="",!EA("All")){for(var e in mA)EA(e)&&(qr+=","+mA[e].set_values);qr=qr.slice(1)}fA=""===qr?Wn:qr.toUpperCase()}function wA(){var e="";for(var t in mA)hA.push(t),mA[t].values=[L,Ft],e+=kA(t,t);Vu("settings_lang",e),pA=hA.length}function kA(e,t){return'<div id="'+e+'_div" class="settings_div"><div id="'+e+'_name" class="settings_name">'+t+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_left" class="left"></div></div><div id="'+e+'" class="'+(EA(e)?"strokedextraminired ":"")+'strokedextramini settings_value">'+CA(e)+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_right" class="right"></div></div></div>'}function AA(){for(var e in mA)mA[e].defaultValue=Pf(e,mA[e].defaultValue),mA[e].defaultValue-=1;bA()}function CA(e){return mA[e].values[EA(e)]}function EA(e){return mA[e].defaultValue}function MA(e){return mA[e].values.length-1}function IA(e){var t=hA[_A];Ru(t,"settings_value_focus"),Ru(t+"_div","settings_div_focus"),LA(e),xA(t)}function SA(){var e=hA[_A];document.getElementById(e+"arrow_left").style.opacity="0",document.getElementById(e+"arrow_right").style.opacity="0",Nu(e,"settings_value_focus"),Nu(e+"_div","settings_div_focus")}function xA(){var e=screen.height;7<_A?(e*=.093,e+=-1*document.getElementById(hA[_A-7]).offsetTop):e*=.077,_A<18&&(document.getElementById("settings_scroll").style.top=e+"px")}function PA(e){var t=hA[e];xf(t,EA(t)+1),Du(t,CA(t)),LA(e)}function LA(e){var t=hA[e],n=EA(t),a=MA(t);0<n&&n<a?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="1"):n===a?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="0.2"):(document.getElementById(t+"arrow_left").style.opacity="0.2",document.getElementById(t+"arrow_right").style.opacity="1")}function TA(){for(var e in mA)-1===e.indexOf("All")&&(document.getElementById(e+"_div").style.display=EA("All")?"none":"inline-block")}function BA(e){var t;switch(e.keyCode){case Ua:gA();break;case La:0<EA(t=hA[_A])&&(mA[t].defaultValue-=1,PA(_A),Nu(hA[_A],"strokedextraminired"),-1!==t.indexOf("All")&&TA());break;case Ba:EA(t=hA[_A])<MA(t)&&(mA[t].defaultValue+=1,PA(_A),Ru(hA[_A],"strokedextraminired"),-1!==t.indexOf("All")&&TA());break;case Ta:0<_A&&(SA(),IA(--_A));break;case Oa:!EA("All")&&_A<pA-1&&(SA(),IA(++_A))}}var OA=0,GA=0,UA=!1,RA=0,NA=!1,VA=0,DA=5,JA=3500,FA=[],HA=0,qA=0,zA=!1,XA=!1,jA="",YA=!1,WA={},QA=[],ZA=0,KA=["uc_thumbdiv","uc_img","uc_infodiv","uc_displayname","uc_cell","ucempty_","user_channels_scroll"];function $A(){Br.Main_CenterLablesVectorPos=1,Br.Main_Go=Cr,Br.isLastSChannels=!1,Bu("label_side_panel","icon-arrow-circle-left",I),Ru("top_bar_user","icon_center_focus"),Vu("top_bar_user",u+k_(Hi[Br.Users_Position].name+K)),document.body.addEventListener("keydown",fC,!1),jA!==Hi[Br.Users_Position].name&&(XA=!1),XA?(P_(OA),Gu(KA[6]),uC(),v_()):tC()}function eC(){Br.Users_Position=0,Nu("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",fC),Du("top_bar_user",u),Bu("label_side_panel","icon-ellipsis",Rn),Ou(KA[6])}function tC(){M_("stream_table_user_channels"),Ou(KA[6]),Fu(),e_(),jA=Hi[Br.Users_Position].name,XA=!1,WA={},OA=GA=RA=ZA=HA=qA=0,wf=!(YA=UA=!(QA=[])),Wu(),FA=[],nC(),aC()}function nC(){S_(),NA=!0,VA=0,JA=3500}function aC(){var e=RA+qA;e&&ZA-1<e&&(e=ZA-iu,UA=!0);var t="https://api.twitch.tv/kraken/users/"+encodeURIComponent(Hi[Br.Users_Position].id)+"/follows/channels?limit="+iu+"&offset="+e+"&sortby=login&direction=asc";Au&&!RA?Rf(t,JA,2,null,oC,iC):Nf(t,JA,2,null,oC,iC,!1)}function iC(){++VA<DA?(JA+=500,aC()):(NA=!1,RA?(UA=!0,dC()):(wf=!1,Hu(),$u(P),Af(fC)))}function oC(e){var t=JSON.parse(e),n=t.follows.length;ZA=parseInt(t._total),n<iu&&(UA=!0);var a=RA;zA=!(RA+=n);var i=n/ou;0<n%ou&&i++;for(var o,s,d,l,c,r=0,u=document.getElementById("stream_table_user_channels"),_=0;_<i;_++){for(s=a/ou+_,d=document.createElement("tr"),o=0;o<ou&&r<n;o++,r++)c=(l=t.follows[r].channel)._id,WA[c]?o--:(WA[c]=1,d.appendChild(sC(s,s+"_"+o,[l.name,c,l.logo,l.display_name])));for(;o<ou;o++)UA&&!YA&&(YA=!0,RA=s*ou+o),d.appendChild(B_(KA[5]+s+"_"+o)),QA.push(KA[5]+s+"_"+o);u.appendChild(d)}dC()}function sC(e,t,n){return e<4&&T_(n[2]),O_(t,KA,n)}function dC(){if(XA){if(I_(Ea),0<QA.length&&!UA)return nC(),void lC();uC(!0),QA=[]}else zA?($u(L+K),Af(fC)):(XA=!0,I_(Ea),uC(),v_()),Gu(KA[6]),wf=!1,Hu();NA=!1}function lC(){Ku(QA.length);var e=RA+qA;e&&ZA-1<e&&(e=ZA-du,UA=!0),Gf("https://api.twitch.tv/kraken/users/"+encodeURIComponent(Hi[Br.Users_Position].id)+"/follows/channels?limit="+du+"&offset="+HA+"&sortby=login&direction=asc",JA,2,null,rC,cC)}function cC(){++VA<DA?(JA+=500,lC()):(UA=!0,RA-=QA.length,QA=[],dC())}function rC(e){var t,n,a=JSON.parse(e),i=a.follows.length,o=0,s=0,d=[];for(ZA=parseInt(a._total),i<du&&(UA=!0);o<QA.length&&s<i;o++,s++)n=(t=a.follows[s].channel)._id,WA[n]?o--:(WA[n]=1,G_(QA[o],[t.name,n,t.logo,t.display_name],KA),d.push(o));for(o=d.length-1;-1<o;o--)QA.splice(d[o],1);qA+=s,UA&&(RA-=QA.length,QA=[]),dC()}function uC(e){X_(OA,GA,KA,ou,RA,e),RA/ou<OA+su&&!UA&&!NA&&(nC(),aC()),Ur&&_C()}function _C(){RA&&nf(OA+"_"+GA,KA)}function fC(e){var t;if(!wf&&!z_())switch(q_(),e.keyCode){case Ua:d_()?s_():a_()?n_():(_C(),Af(fC));break;case La:if(u_(OA,GA-1,KA[0]))_C(),GA--,uC();else for(t=ou-1;-1<t;t--)if(u_(OA-1,t,KA[0])){_C(),OA--,GA=t,uC();break}break;case Ba:u_(OA,GA+1,KA[0])?(_C(),GA++,uC()):u_(OA+1,0,KA[0])&&(_C(),OA++,GA=0,uC());break;case Ta:for(t=0;t<ou;t++)if(u_(OA-1,GA-t,KA[0])){_C(),OA--,GA-=t,uC();break}break;case Oa:for(t=0;t<ou;t++)if(u_(OA+1,GA-t,KA[0])){_C(),OA++,GA-=t,uC();break}break;case xa:case Sa:case Pa:case Ga:if(W_(OA+"_"+GA,KA[0]))return;Br.Main_selectedChannel=document.getElementById(KA[4]+OA+"_"+GA).getAttribute(vu),Br.Main_selectedChannel_id=document.getElementById(KA[4]+OA+"_"+GA).getAttribute("data-id"),Br.Main_selectedChannelDisplayname=document.getElementById(KA[3]+OA+"_"+GA).textContent,Br.Main_selectedChannelLogo=document.getElementById(KA[1]+OA+"_"+GA).src,document.body.removeEventListener("keydown",fC),Br.Main_BeforeChannel=Cr,Br.Main_Go=br,Br.Main_BeforeChannelisSet=!0,js=Xa=!0,Ou(KA[6]),h_()}}var mC=0,hC=0,pC=!1,vC=0,gC={},yC=[],bC=!1,wC=0,kC=5,AC=3500,CC=0,EC=0,MC=!1,IC=["uh_thumbdiv","uh_img","uh_infodiv","uh_displayname","uh_hosttitle","uh_hostgame","uh_viwers","uh_quality","uh_cell","uhempty_","user_host_scroll"],SC=!1,xC="",PC=!1;function LC(){Br.Main_CenterLablesVectorPos=1,Br.Main_Go=hr,Bu("label_side_panel","icon-arrow-circle-left",I),Ru("top_bar_user","icon_center_focus"),Vu("top_bar_user",u+k_(Hi[Br.Users_Position].name+Q)),document.body.addEventListener("keydown",qC,!1),xC!==Hi[Br.Users_Position].name&&(SC=!1),SC?(P_(mC),Gu(IC[10]),FC(),v_()):BC()}function TC(){Br.Users_Position=0,Nu("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",qC),Du("top_bar_user",u),Bu("label_side_panel","icon-ellipsis",Rn),Ou(IC[10])}function BC(){M_("stream_table_user_host"),Ou(IC[10]),Fu(),e_(),xC=Hi[Br.Users_Position].name,SC=!1,gC={},wf=!(vC=EC=CC=0),mC=hC=0,pC=PC=!(yC=[]),Wu(),OC(),GC()}function OC(){S_(),bC=!0,wC=0,AC=3500}function GC(){var e=vC+CC;e&&EC-1<e&&(e=EC-Kr,pC=!0),Uf("https://api.twitch.tv/api/users/"+encodeURIComponent(Hi[Br.Users_Position].name)+"/followed/hosting?limit="+Kr+"&offset="+e,AC,2,null,RC,UC,!1,!vC)}function UC(){++wC<kC?(AC+=500,GC()):(bC=!1,vC?(pC=!0,NC()):(wf=!1,Hu(),$u(P),Af(qC)))}function RC(e){var t=JSON.parse(e),n=t.hosts.length;EC=parseInt(t._total),n<Kr&&(pC=!0);var a=vC;MC=!(vC+=n);var i=n/$r;0<n%$r&&i++;for(var o,s,d,l,c,r=0,u=document.getElementById("stream_table_user_host"),_=0;_<i;_++){for(s=a/$r+_,d=document.createElement("tr"),o=0;o<$r&&r<n;o++,r++)c=(l=t.hosts[r]).target._id+""+l._id,gC[c]?o--:(gC[c]=1,d.appendChild(R_(s,s+"_"+o,[l.target.channel.name,l.target._id],IC,[l.target.preview_urls.template.replace("{width}x{height}",mu),l.display_name+ne+l.target.channel.display_name,l.target.title,l.target.meta_game,h.charAt(1).toUpperCase()+h.slice(2)+l_(l.target.viewers)+J,""])));for(;o<$r;o++)pC&&!PC&&(PC=!0,vC=s*$r+o),d.appendChild(B_(IC[9]+s+"_"+o)),yC.push(IC[9]+s+"_"+o);u.appendChild(d)}NC()}function NC(){if(SC){if(I_(Ma),0<yC.length&&!pC)return OC(),void VC();FC(!0),yC=[]}else MC?($u(L+Q),Af(qC)):(SC=!0,FC(),I_(Ma),v_()),Gu(IC[10]),wf=!1,Hu();bC=!1}function VC(){Ku(yC.length);var e=vC+CC;e&&EC-1<e&&(e=EC-du,pC=!0),Gf("https://api.twitch.tv/api/users/"+encodeURIComponent(Hi[Br.Users_Position].name)+"/followed/hosting?limit="+du+"&offset="+e,AC,2,null,JC,DC)}function DC(){++wC<kC?(AC+=500,VC()):(pC=!0,vC-=yC.length,yC=[],NC())}function JC(e){var t,n,a=JSON.parse(e),i=a.streams.length,o=0,s=0,d=[];for(EC=parseInt(a._total),i<du&&(pC=!0);o<yC.length&&s<i;o++,s++)n=(t=a.hosts[s]).target._id+""+t._id,gC[n]?o--:(gC[n]=1,N_(yC[o],[t.target.channel.name,t.target._id],[t.target.preview_urls.template.replace("{width}x{height}",mu),t.display_name+ne+t.target.channel.display_name,t.target.title,t.target.meta_game,h.charAt(1).toUpperCase()+h.slice(2)+l_(t.target.viewers)+J,""],IC),d.push(o));for(o=d.length-1;-1<o;o--)yC.splice(d[o],1);CC+=s,pC&&(vC-=yC.length,yC=[]),NC()}function FC(e){j_(mC,hC,IC,$r,vC,e),vC/$r<mC+eu&&!pC&&!bC&&(OC(),GC()),Ur&&HC()}function HC(){vC&&nf(mC+"_"+hC,IC)}function qC(e){var t;if(!wf&&!z_())switch(q_(),e.keyCode){case Ua:d_()?s_():a_()?n_():(HC(),Af(qC));break;case La:if(u_(mC,hC-1,IC[0]))HC(),hC--,FC();else for(t=$r-1;-1<t;t--)if(u_(mC-1,t,IC[0])){HC(),mC--,hC=t,FC();break}break;case Ba:u_(mC,hC+1,IC[0])?(HC(),hC++,FC()):u_(mC+1,0,IC[0])&&(HC(),mC++,hC=0,FC());break;case Ta:for(t=0;t<$r;t++)if(u_(mC-1,hC-t,IC[0])){HC(),mC--,hC-=t,FC();break}break;case Oa:for(t=0;t<$r;t++)if(u_(mC+1,hC-t,IC[0])){HC(),mC++,hC-=t,FC();break}break;case xa:case Sa:case Pa:case Ga:Q_(mC+"_"+hC,IC,qC)}}var zC,XC=!1,jC=0,YC=3500,WC=0,QC=5,ZC=0,KC=!1,$C="",eE=0,tE={},nE=!1,aE=[],iE=null,oE=null,sE=["ulf_thumbdiv","ulf_img","ulf_infodiv","ulf_displayname","ulf_streamtitle","ulf_streamgame","ulf_viwers","ulf_quality","ulf_cell","ulempty_","user_live_scroll"];function dE(){oo()&&(EE(),nE?TE(oh,sE[0])&&(iE=JSON.parse(document.getElementById(sE[8]+oh).getAttribute(vu))[0]):iE=null,M_("user_feed_scroll"),nE=!1,document.getElementById("user_feed_scroll").style.left="2.5px",document.getElementById("user_feed").style.bottom="0.1%",Gu("dialog_loading_feed"),$C="",oh=eE=ZC=WC=0,tE={},aE=[],sf(function(){uE(),lE()}))}function lE(){(oE=Hi[Br.Users_Position].access_token)?(oE=_u+oE,hE()):(uE(),oE=null,_E())}function cE(e){for(var t,n=0;n<aE.length;n++)null!==(t=document.getElementById(aE[n].id))&&Mu(t,aE[n].src+Cu,e)}function rE(e,t){aE.push({id:e,src:t})}function uE(){XC=!0,jC=0,YC=3500}function _E(){Nf("https://api.twitch.tv/kraken/users/"+encodeURIComponent(Hi[Br.Users_Position].id)+"/follows/channels?limit=100&offset="+WC+"&sortby=created_at",YC,2,null,mE,fE,!1)}function fE(){++jC<QC?(YC+=500,_E()):(XC=!1,ZC?(KC=!0,yE()):(Ou("dialog_loading_feed"),wE()&&(nv(P),window.setTimeout(function(){av()},2e3))))}function mE(e){var t=JSON.parse(e).follows,n=t.length;if(n){for(var a="",i=0;i<n;i++)a=t[i].channel._id+",",-1===$C.indexOf(a)&&($C+=a);WC+=n,uE(),_E()}else $C=$C.slice(0,-1),uE(),sf(hE)}function hE(){var e="https://api.twitch.tv/kraken/streams/";e+=oE?"followed?":"?channel="+encodeURIComponent($C)+"&",pE(e+="limit=100&offset=0&stream_type=all")}function pE(e){var t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=YC,t.setRequestHeader(cu,lu),t.setRequestHeader(ru,fu),oE&&t.setRequestHeader(uu,oE),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?gE(t.responseText):!oE||401!==t.status&&403!==t.status?vE():ei(Br.Users_Position,0,lE,lE))},t.send(null)}function vE(){++jC<QC?(YC+=500,hE()):(XC=!1,Ou("dialog_loading_feed"),wE()&&(nv(P),window.setTimeout(function(){av()},2e3)))}function gE(e){var t=JSON.parse(e),n=t.streams.length;n<Kr&&(KC=!0),ZC+=n;for(var a,i,o=document.getElementById("user_feed_scroll"),s=0;s<n;s++)i=(a=t.streams[s]).channel._id,tE[i]||(tE[i]=1,null!==iE&&iE===a.channel.name&&(oh=s),o.appendChild(bE(s,[a.channel.name,i],sE,[a.preview.template.replace("{width}x{height}",mu),r_(JSON.stringify(a.stream_type))+a.channel.display_name,a.channel.status,a.game,y+jp(a.created_at)+" "+h+l_(a.viewers)+J,c_(a.video_height,a.average_fps,a.channel.broadcaster_language)])));yE()}function yE(){nE=!(XC=!1),cE(Ma),sf(function(){Ou("dialog_loading_feed"),SE()})}function bE(e,t,n,a){return rE(n[1]+e,a[0]),(Fr=document.createElement("div")).setAttribute("id",n[8]+e),Fr.setAttribute(vu,JSON.stringify(t)),Fr.className="user_feed_thumb",Fr.innerHTML='<div id="'+n[0]+e+'" class="stream_thumbnail_clip" ><div><img id="'+n[1]+e+'" class="stream_img"></div><div id="'+n[2]+e+'" class="stream_text2"><div id="'+n[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;">'+a[1]+'</div><div id="'+n[5]+e+'"class="stream_info">'+v+a[3]+"</div></div></div>",Fr}function wE(){return Uu("user_feed")}function kE(){var e=oo();e&&(ih!==Hi[Br.Users_Position].name&&(nE=!1),ih=Hi[Br.Users_Position].name),e&&TE(0,sE[0])||(nE=!1),nE||XC||dE(),e&&(document.getElementById("user_feed").style.bottom="0.1%",Gu("user_feed"),SE())}function AE(){Ou("user_feed")}function CE(){EE(),ME()}function EE(){window.clearTimeout(zC)}function ME(){wE()&&(zC=window.setTimeout(AE,5500))}function IE(){EE(),XC?window.setTimeout(function(){XC=!1},15e3):dE()}function SE(){CE(),TE(oh,sE[0])&&(Ru(sE[0]+oh,"feed_thumbnail_focused"),wE()?PE():Uu("scene2")&&LE())}function xE(){return oh<3?2.5:TE(oh+2,sE[0])?-1*document.getElementById(sE[8]+(oh-2)).offsetLeft:TE(oh+1,sE[0])?-1*document.getElementById(sE[8]+(oh-3)).offsetLeft:-1*document.getElementById(sE[8]+(oh-(3<oh?4:3))).offsetLeft}function PE(){var e=xE();e&&(document.getElementById("user_feed_scroll").style.left=e+"px")}function LE(){document.getElementById("user_feed").style.bottom="-1000%",Gu("user_feed");var e=PE();e&&(document.getElementById("user_feed_scroll").style.left=e+"px"),document.getElementById("user_feed").style.bottom="0.1%",Ou("user_feed")}function TE(e,t){return null!==document.getElementById(t+e)}function BE(){TE(oh,sE[0])&&Nu(sE[0]+oh,"feed_thumbnail_focused")}var OE=0,GE=0,UE=!1,RE=0,NE={},VE=[],DE=!1,JE=0,FE=5,HE=3500,qE=0,zE=0,XE=0,jE=!1,YE=["ul_thumbdiv","ul_img","ul_infodiv","ul_displayname","ul_streamtitle","ul_streamgame","ul_viwers","ul_quality","ul_cell","ulempty_","user_live_scroll"],WE=!1,QE="",ZE="",KE=!1,$E=null;function eM(){Br.Main_CenterLablesVectorPos=1,Br.Main_Go=mr,Bu("label_side_panel","icon-arrow-circle-left",I),Ru("top_bar_user","icon_center_focus"),Vu("top_bar_user",u+k_(Hi[Br.Users_Position].name+W)),document.body.addEventListener("keydown",gM,!1),ZE!==Hi[Br.Users_Position].name&&(WE=!1),WE?(P_(OE),Gu(YE[10]),pM(),v_()):nM()}function tM(){Br.Users_Position=0,Nu("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",gM),Du("top_bar_user",u),Bu("label_side_panel","icon-ellipsis",Rn),Ou(YE[10])}function nM(){M_("stream_table_user_live"),Ou(YE[10]),Fu(),e_(),WE=!1,ZE=Hi[Br.Users_Position].name,wf=!(KE=!(VE=[])),OE=GE=RE=zE=qE=XE=0,UE=!(NE={}),QE="",Wu(),iM(),aM()}function aM(){($E=Hi[Br.Users_Position].access_token)?($E=_u+$E,lM()):($E=null,iM(),oM())}function iM(){S_(),DE=!0,JE=0,HE=3500}function oM(){Gf("https://api.twitch.tv/kraken/users/"+encodeURIComponent(Hi[Br.Users_Position].id)+"/follows/channels?limit=100&offset="+XE+"&sortby=created_at",HE,2,null,dM,sM)}function sM(){++JE<FE?(HE+=500,oM()):(DE=!1,RE?(UE=!0,_M()):(wf=!1,Hu(),$u(P),Af(gM)))}function dM(e){var t=JSON.parse(e).follows,n=t.length;if(n){for(var a="",i=0;i<n;i++)a=t[i].channel._id+",",-1===QE.indexOf(a)&&(QE+=a);XE+=n,iM(),oM()}else QE=QE.slice(0,-1),iM(),lM()}function lM(){var e=RE+qE;e&&zE-1<e&&(e=zE-Kr,UE=!0);var t="https://api.twitch.tv/kraken/streams/";t+=$E?"followed?":"?channel="+encodeURIComponent(QE)+"&",cM(t+="limit="+Kr+"&offset="+e+"&stream_type=all",uM,rM,aM)}function cM(e,t,n,a){var i;if(Au&&!RE){if(!(i=Android.mreadUrl(e,HE,$E?3:2,$E)))return void pI();200===(i=JSON.parse(i)).status?t(i.responseText):!$E||401!==i.status&&403!==i.status?n():ei(Br.Users_Position,0,a,a)}else(i=new XMLHttpRequest).open("GET",e,!0),i.timeout=HE,i.setRequestHeader(cu,lu),i.setRequestHeader(ru,fu),$E&&i.setRequestHeader(uu,$E),i.ontimeout=function(){},i.onreadystatechange=function(){4===i.readyState&&(200===i.status?t(i.responseText):!$E||401!==i.status&&403!==i.status?n():ei(Br.Users_Position,0,a,a))},i.send(null)}function rM(){++JE<FE?(HE+=500,lM()):(DE=!1,RE?(UE=!0,_M()):(wf=!1,Hu(),$u(P),Af(gM)))}function uM(e){var t=JSON.parse(e),n=t.streams.length;zE=parseInt(t._total),n<Kr&&(UE=!0);var a=RE;jE=!(RE+=n);var i=n/$r;0<n%$r&&i++;for(var o,s,d,l,c,r=0,u=document.getElementById("stream_table_user_live"),_=0;_<i;_++){for(s=a/$r+_,d=document.createElement("tr"),o=0;o<$r&&r<n;o++,r++)c=(l=t.streams[r]).channel._id,NE[c]?o--:(NE[c]=1,d.appendChild(R_(s,s+"_"+o,[l.channel.name,c],YE,[l.preview.template.replace("{width}x{height}",mu),r_(JSON.stringify(l.stream_type))+l.channel.display_name,l.channel.status,l.game,y+jp(l.created_at)+" "+h+l_(l.viewers)+J,c_(l.video_height,l.average_fps,l.channel.broadcaster_language)])));for(;o<$r;o++)UE&&!KE&&(KE=!0,RE=s*$r+o),d.appendChild(B_(YE[9]+s+"_"+o)),VE.push(YE[9]+s+"_"+o);u.appendChild(d)}_M()}function _M(){if(WE){if(I_(Ma),0<VE.length&&!UE)return iM(),void fM();pM(!0),VE=[]}else jE?(Af(gM),$u(L+W)):(WE=!0,pM(),I_(Ma),v_()),Gu(YE[10]),wf=!1,Hu();DE=!1}function fM(){Ku(VE.length);var e=RE+qE;e&&zE-1<e&&(e=zE-du,UE=!0);var t="https://api.twitch.tv/kraken/streams/";t+=$E?"followed?":"?channel="+encodeURIComponent(QE)+"&",cM(t+="followed?limit=limit="+du+"&offset="+e+"&stream_type=all",hM,mM,fM)}function mM(){++JE<FE?(HE+=500,fM()):(UE=!0,RE-=VE.length,VE=[],_M())}function hM(e){var t,n,a=JSON.parse(e),i=a.streams.length,o=0,s=0,d=[];for(zE=parseInt(a._total),i<du&&(UE=!0);o<VE.length&&s<i;o++,s++)n=(t=a.streams[s]).channel._id,NE[n]?o--:(NE[n]=1,N_(VE[o],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",mu),r_(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+jp(t.created_at)+" "+h+l_(t.viewers)+J,c_(t.video_height,t.average_fps,t.channel.broadcaster_language)],YE),d.push(o));for(o=d.length-1;-1<o;o--)VE.splice(d[o],1);qE+=s,UE&&(RE-=VE.length,VE=[]),_M()}function pM(e){j_(OE,GE,YE,$r,RE,e),RE/$r<OE+eu&&!UE&&!DE&&(iM(),oM()),Ur&&vM()}function vM(){RE&&nf(OE+"_"+GE,YE)}function gM(e){var t;if(!wf&&!z_())switch(q_(),e.keyCode){case Ua:d_()?s_():a_()?n_():(vM(),Af(gM));break;case La:if(u_(OE,GE-1,YE[0]))vM(),GE--,pM();else for(t=$r-1;-1<t;t--)if(u_(OE-1,t,YE[0])){vM(),OE--,GE=t,pM();break}break;case Ba:u_(OE,GE+1,YE[0])?(vM(),GE++,pM()):u_(OE+1,0,YE[0])&&(vM(),OE++,GE=0,pM());break;case Ta:for(t=0;t<$r;t++)if(u_(OE-1,GE-t,YE[0])){vM(),OE--,GE-=t,pM();break}break;case Oa:for(t=0;t<$r;t++)if(u_(OE+1,GE-t,YE[0])){vM(),OE++,GE-=t,pM();break}break;case xa:case Sa:case Pa:case Ga:Q_(OE+"_"+GE,YE,gM)}}var yM=0,bM=0,wM=8,kM=0,AM=null,CM=["u_thumbdiv","u_img","u_infodiv","u_displayname","u_cell","user_scroll"],EM=!1,MM=!0;function IM(){return Nr?(SM(),void $a(Nr)):_o()?(Br.Main_CenterLablesVectorPos=1,Br.Main_Go=Ar,document.getElementById("screens_holder").style.top=screen.height/100*7+"px",e_(),Ru("top_bar_user","icon_center_focus"),document.body.addEventListener("keydown",HM,!1),void(EM?(P_(yM),Gu(CM[5]),OM(),v_()):xM())):(Br.Main_Go=rr,SM(),void h_())}function SM(){Br.Users_Position=0,Nu("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",HM),Ou(CM[5]),document.getElementById("screens_holder").style.top="0"}function xM(){M_("stream_table_user"),Ou(CM[5]),Fu(),e_(),wf=!(EM=!1),MM=!(yM=bM=0),sf(function(){PM()})}function PM(){for(var e,t,n,a=document.createElement("tbody"),i=document.getElementById("stream_table_user"),o=0;o<Hi.length;o++)t=0,n=o%2?"B5B5B5":"FFFFFF",(Fr=document.createElement("tr")).className="follower_header",Fr.innerHTML='<div class="follower_header">'+(o?"":oe)+Hi[o].name+R+"</div>",i.appendChild(a),i.appendChild(Fr),(e=document.createElement("tr")).appendChild(LM(o+"_"+t,Br.Main_selectedChannelDisplayname,W,"play",n)),t++,e.appendChild(LM(o+"_"+t,Br.Main_selectedChannelDisplayname,Q,"users",n)),t++,e.appendChild(LM(o+"_"+t,Br.Main_selectedChannelDisplayname,Sb.isLive?Z:zt,"gamepad",n)),t++,e.appendChild(LM(o+"_"+t,Br.Main_selectedChannelDisplayname,Kt,"movie-play",n)),t++,e.appendChild(LM(o+"_"+t,Br.Main_selectedChannelDisplayname,K,"filmstrip",n)),t++,o?e.appendChild(LM(o+"_"+t,Br.Main_selectedChannelDisplayname,ie,"arrow-up",n)):e.appendChild(LM(o+"_"+t,Br.Main_selectedChannelDisplayname,$,"user-plus",n)),t++,e.appendChild(LM(o+"_"+t,Br.Main_selectedChannelDisplayname,ee,"user-times",n)),t++,e.appendChild(LM(o+"_"+t,Br.Main_selectedChannelDisplayname,Hi[o].access_token?wt:bt,"key",n)),i.appendChild(e);TM()}function LM(e,t,n,a,i){return(Fr=document.createElement("td")).setAttribute("id",CM[4]+e),Fr.setAttribute(vu,t),Fr.className="stream_cell",Fr.innerHTML='<div id="'+CM[0]+e+'" class="stream_thumbnail_channel" ><div id="'+CM[1]+e+'" class="stream_user_icon" style="color: #'+i+';"><i class="icon-'+a+'"></i></div></div><div id="'+CM[2]+e+'" class="stream_text"><div id="'+CM[3]+e+'" class="stream_channel" style="text-align: center;">'+n+"</div></div>",Fr}function TM(){sf(function(){EM||(EM=!0,OM(),Hu(),v_()),Gu(CM[5]),MM=wf=!1})}function BM(){for(var e=0;e<Hi.length;e++)Du(CM[3]+e+"_2",Sb.isLive?Z:zt)}function OM(){Ru(CM[0]+yM+"_"+bM,"stream_thumbnail_focused"),L_(yM)?1<yM?u_(yM+1,0,CM[0])&&tf(CM[5],-1*document.getElementById(CM[4]+yM+"_"+bM).offsetTop+500):tf(CM[5],screen.height/100*7):F_(),Ur&&GM()}function GM(){Gr=!1,Nu(CM[0]+yM+"_"+bM,"stream_thumbnail_focused")}function UM(){return Br.Users_Position=yM,3!==bM||Hi[Br.Users_Position].access_token?7===bM&&Hi[Br.Users_Position].access_token?($u(wt),void window.setTimeout(e_,1500)):(6!==bM&&7!==bM&&(Ou(CM[5]),document.body.removeEventListener("keydown",HM),document.getElementById("screens_holder").style.top="0"),void sf(function(){bM?1===bM?LC():2===bM?(Ky=Sb,ab()):3===bM?rI():4===bM?$A():5===bM?yM?ro(yM):(Br.Main_Before=Ar,ji()):6===bM?VM():7!==bM||Hi[Br.Users_Position].access_token||VM():eM()})):($u(In),void window.setTimeout(e_,5e3))}function RM(){window.clearTimeout(AM)}function NM(){AM=window.setTimeout(DM,2e4)}function VM(){NM(),6===bM?Vu("main_dialog_remove",Ht+da+Hi[Br.Users_Position].name+"?"):7===bM&&Vu("main_dialog_remove",ft+" "+Hi[Br.Users_Position].name+"?"),Gu("main_remove_dialog")}function DM(){RM(),Ou("main_remove_dialog"),kM=0,FM()}function JM(){return Uu("main_remove_dialog")}function FM(){kM?(Nu("remove_cancel","button_search_focused"),Ru("remove_yes","button_search_focused")):(Ru("remove_cancel","button_search_focused"),Nu("remove_yes","button_search_focused"))}function HM(e){var t;if(!wf&&!z_())switch(q_(),e.keyCode){case Ua:JM()?DM():a_()?n_():d_()?s_():(GM(),Af(HM));break;case La:if(JM())--kM<0&&(kM=1),FM(),RM(),NM();else if(u_(yM,bM-1,CM[0]))GM(),bM--,OM();else if(u_(yM-1,0,CM[0])){for(t=wM-1;-1<t;t--)if(u_(yM-1,t,CM[0])){GM(),yM--,bM=t,OM();break}}else GM(),bM=wM-1,OM();break;case Ba:JM()?(1<++kM&&(kM=0),FM(),RM(),NM()):(u_(yM,bM+1,CM[0])?(GM(),bM++):(u_(yM+1,0,CM[0])?(GM(),yM++):GM(),bM=0),OM());break;case Ta:for(t=0;t<wM;t++)if(u_(yM-1,bM-t,CM[0])){GM(),yM--,bM-=t,OM();break}break;case Oa:for(t=0;t<wM;t++)if(u_(yM+1,bM-t,CM[0])){GM(),yM++,bM-=t,OM();break}break;case xa:case Sa:case Pa:case Ga:var n;if(JM()){if(6===bM)n=kM,DM(),n&&(document.body.removeEventListener("keydown",HM),SM(),lo(yM));else if(n=kM,DM(),n){Br.Users_AddcodePosition=Br.Users_Position,v_();var a=Qa,i="https://id.twitch.tv/oauth2/authorize?response_type=code&client_id="+encodeURIComponent(lu)+"&redirect_uri="+a+"&scope=user_read+user_follows_edit+user_subscriptions&force_verify=true";window.location=i}}else UM()}}var qM=0,zM=0,XM=!1,jM=0,YM={},WM=[],QM=!1,ZM=0,KM=5,$M=3500,eI=0,tI=0,nI=!1,aI=!1,iI="time",oI=2,sI=!1,dI=["uv_thumbdiv","uv_img","uv_infodiv","uv_title","uv_streamon","uv_duration","uv_viwers","uv_quality","uv_cell","uvempty_","user_vod_scroll","uv_game"],lI=!1,cI=!1;function rI(){Br.Main_CenterLablesVectorPos=1,Br.Main_Go=Lr,Ru("top_bar_user","icon_center_focus"),Bu("label_side_panel","icon-arrow-circle-left",I),Vu("top_bar_user",u+k_(Hi[Br.Users_Position].name+(cI?G:O))),document.body.addEventListener("keydown",SI,!1),lI?(P_(qM),Gu(dI[10]),xI(),CI(),v_()):_I()}function uI(){Br.Users_Position=0,lI&&EI(),Nu("top_bar_user","icon_center_focus"),Bu("label_side_panel","icon-ellipsis",Rn),document.body.removeEventListener("keydown",SI),Du("top_bar_user",u),Ou(dI[10])}function _I(){lI&&EI(),M_("stream_table_user_vod"),Ou(dI[10]),Fu(),xI(),e_(),sI=lI=!1,wf=!(aI=!(WM=[])),qM=zM=jM=tI=eI=0,XM=!(YM={}),Wu(),mI()}function fI(){S_(),QM=!0,ZM=0,$M=3500}function mI(){fI(),hI()}function hI(){var e=jM+eI;e&&tI-1<e&&(e=tI-Kr,XM=!0);var t,n="https://api.twitch.tv/kraken/videos/followed?limit="+Kr+"&broadcast_type="+(cI?"highlight":"archive")+"&sort="+iI+"&offset="+e;if(Au&&!jM){if(!(t=Android.mreadUrl(n,$M,3,_u+Hi[Br.Users_Position].access_token)))return void pI();if(200===(t=JSON.parse(t)).status)return void gI(t.responseText);401===t.status||403===t.status?ei(Br.Users_Position,0,mI,vI):pI()}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=$M,t.setRequestHeader(ru,fu),t.setRequestHeader(cu,lu),t.setRequestHeader(uu,_u+Hi[Br.Users_Position].access_token),t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void gI(t.responseText);401===t.status||403===t.status?ei(Br.Users_Position,0,mI,vI):pI()}},t.send(null)}function pI(){++ZM<KM?($M+=500,hI()):vI()}function vI(){QM=!1,jM?(XM=!0,yI()):(wf=!1,Hu(),$u(P),Af(qC),Hi[Br.Users_Position].access_token||(uI(),Br.Main_Go=Ar,uI(),Cf(),p_()))}function gI(e){var t=JSON.parse(e),n=t.videos.length;tI=parseInt(t._total),n<Kr&&(XM=!0);var a=jM;nI=!(jM+=n);var i=n/$r;0<n%$r&&i++;var o,s,d,l,c,r=0,u=document.getElementById("stream_table_user_vod");if(!sI){var _;for(sI=!0,d=document.createElement("tr"),f=0;f<2;f++)_=f?'<i class="icon-history stream_channel_fallow_icon"></i>'+wa+wa+Sn:'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+wa+wa+p,(Fr=document.createElement("td")).setAttribute("id",dI[8]+"y_"+f),Fr.className="stream_cell",Fr.innerHTML='<div id="'+dI[0]+"y_"+f+'" class="stream_thumbnail_channel_vod" ><div id="'+dI[3]+"y_"+f+'" class="stream_channel_fallow_game">'+_+"</div></div>",d.appendChild(Fr);d.appendChild(document.createElement("tr")),u.appendChild(d)}for(var f=0;f<i;f++){for(s=a/$r+f,d=document.createElement("tr"),o=0;o<$r&&r<n;o++,r++)c=(l=t.videos[r])._id,-1!==(l.preview.template+"").indexOf("404_processing")||YM[c]?o--:(YM[c]=1,d.appendChild(sS(s,s+"_"+o,[c,l.length,l.channel.broadcaster_language,l.game,l.channel.name,l.increment_view_count_url],[l.preview.template.replace("{width}x{height}",mu),l.channel.display_name,N+A_(l.created_at),xS.parse(l.title)+da+Qt+v+l.game,l_(l.views)+D,c_(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.channel.broadcaster_language),V+zp(l.length),l.animated_preview_url],dI)));for(;o<$r;o++)XM&&!aI&&(aI=!0,jM=s*$r+o),d.appendChild(B_(dI[9]+s+"_"+o)),WM.push(dI[9]+s+"_"+o);u.appendChild(d)}yI()}function yI(){lI?(I_(Ma),CI(!0)):(nI?($u(L+(cI?G:O)+T+M),Af(SI)):(lI=!0,CI(),I_(Ma),v_()),Gu(dI[10]),wf=!1,Hu()),0<WM.length&&!XM?bI():QM=!(WM=[])}function bI(){fI(),wI()}function wI(){Ku(WM.length);var e=jM+eI;e&&tI-1<e&&(e=tI-du,XM=!0);var t,n="https://api.twitch.tv/kraken/videos/followed?limit="+du+"&broadcast_type="+(cI?"highlight":"archive")+"&sort="+iI+"&offset="+e;if(Au){if(!(t=Android.mreadUrl(n,$M,3,_u+Hi[Br.Users_Position].access_token)))return void kI();if(200===(t=JSON.parse(t)).status)return void AI(t.responseText);401===t.status||403===t.status?ei(Br.Users_Position,0,mI,vI):kI()}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=$M,t.setRequestHeader(ru,fu),t.setRequestHeader(cu,lu),t.setRequestHeader(uu,_u+Hi[Br.Users_Position].access_token),t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void AI(t.responseText);401===t.status||403===t.status?ei(Br.Users_Position,0,mI,vI):kI()}},t.send(null)}function kI(){++ZM<KM?($M+=500,wI()):(XM=!0,jM-=WM.length,WM=[],yI())}function AI(e){var t,n,a=JSON.parse(e),i=a.videos.length,o=0,s=0,d=[];for(tI=parseInt(a._total);o<WM.length&&s<i;o++,s++)n=(t=a.videos[s])._id,-1!==(t.preview.template+"").indexOf("404_processing")||YM[n]?o--:(YM[n]=1,lS(WM[o],[n,t.length,t.channel.broadcaster_language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",mu),t.channel.display_name,N+A_(t.created_at),xS.parse(t.title)+da+Qt+v+t.game,l_(t.views)+D,c_(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.channel.broadcaster_language),V+zp(t.length),t.animated_preview_url],dI),d.push(o));for(o=d.length-1;-1<o;o--)WM.splice(d[o],1);eI+=s,XM&&(jM-=WM.length,WM=[]),yI()}function CI(e){qM<0?MI():(j_(qM,zM,dI,$r,jM,e),gS(dI,qM+"_"+zM),jM/$r<qM+eu&&!XM&&!QM&&mI(),Ur&&EI())}function EI(){window.clearInterval(PI),-1<qM&&jM?(Gu(dI[1]+qM+"_"+zM),nf(qM+"_"+zM,dI)):II()}function MI(){var e=1<zM?1:zM;Ru(dI[0]+"y_"+e,pu)}function II(){var e=1<zM?1:zM;Nu(dI[0]+"y_"+e,pu)}function SI(e){var t;if(!wf&&!z_())switch(q_(),e.keyCode){case Ua:a_()?n_():a_()?n_():d_()?s_():(EI(),Af(SI));break;case La:if(-1===qM)II(),--zM<0&&(zM=1),MI();else if(qM||zM){if(u_(qM,zM-1,dI[0]))EI(),zM--,CI();else for(t=$r-1;-1<t;t--)if(u_(qM-1,t,dI[0])){EI(),qM--,zM=t,CI();break}}else EI(),II(),qM=-1,zM=1,MI();break;case Ba:-1===qM?(II(),1<++zM?(zM=0,nI?MI():(qM=0,CI())):MI()):u_(qM,zM+1,dI[0])?(EI(),zM++,CI()):u_(qM+1,0,dI[0])&&(EI(),qM++,zM=0,CI());break;case Ta:if(-1!==qM||nI)if(qM){for(t=0;t<$r;t++)if(u_(qM-1,zM-t,dI[0])){EI(),qM--,zM-=t,CI();break}}else EI(),qM=-1,MI();else qM=0,II(),CI();break;case Oa:if(-1!==qM||nI){for(t=0;t<$r;t++)if(u_(qM+1,zM-t,dI[0])){EI(),qM++,zM-=t,CI();break}}else qM=0,II(),CI();break;case xa:case Sa:case Pa:case Ga:-1===qM?(0===zM?xf("UserVod_highlight",(cI=!cI)?"true":"false"):1===oI?oI++:oI--,_I()):$_(qM+"_"+zM,dI,SI)}}function xI(){1===oI?(Vu("top_bar_user",u+k_(Hi[Br.Users_Position].name+" "+(cI?G:O)+En)),iI="time"):2===oI&&(Vu("top_bar_user",u+k_(Hi[Br.Users_Position].name+" "+(cI?G:O)+Mn)),iI="views"),xf("UserVod_TypeNumber",oI)}var PI,LI=0,TI=0,BI=!1,OI=0,GI={},UI=[],RI=!1,NI=0,VI=5,DI=3500,JI=0,FI=0,HI=!1,qI=!1,zI="week",XI=2,jI=!1,YI=["v_thumbdiv","v_img","v_infodiv","v_title","v_streamon","v_duration","v_viwers","v_quality","v_cell","vempty_","vod_scroll","v_game"],WI=!1,QI=!1,ZI=1,KI=new Image;function $I(){Br.Main_CenterLablesVectorPos=4,Br.Main_Go=Mr,Ru("top_bar_vod","icon_center_focus"),document.body.addEventListener("keydown",yS,!1),WI?(P_(LI),Gu(YI[10]),bS(),mS(),v_()):tS()}function eS(){WI&&hS(),b_(),document.body.removeEventListener("keydown",yS),Nu("top_bar_vod","icon_center_focus"),Du("top_bar_vod",Kt),Ou(YI[10])}function tS(){WI&&hS(),M_("stream_table_vod"),Ou(YI[10]),Fu(),bS(),e_(),jI=WI=!1,wf=!(qI=!(UI=[])),LI=TI=OI=FI=JI=0,BI=!(GI={}),Wu(),nS(),aS()}function nS(){S_(),RI=!0,NI=0,DI=3500}function aS(){var e=OI+JI;e&&FI-1<e&&(e=FI-Kr,BI=!0);var t="https://api.twitch.tv/kraken/videos/top?limit="+Kr+"&broadcast_type="+(QI?"highlight":"archive")+"&sort=views&offset="+e+"&period="+zI+(""!==qr?"&language="+qr:"");Au&&!OI?Rf(t,DI,2,null,oS,iS):Nf(t,DI,2,null,oS,iS,!1)}function iS(){++NI<VI?(DI+=500,aS()):(RI=!1,OI?(BI=!0,rS()):(wf=!1,Hu(),$u(P)))}function oS(e){var t=JSON.parse(e),n=t.vods.length;FI=parseInt(t._total),n<Kr&&(BI=!0);var a=OI;HI=!(OI+=n);var i=n/$r;0<n%$r&&i++;var o,s,d,l,c,r=0,u=document.getElementById("stream_table_vod");if(!jI){var _;for(jI=!0,d=document.createElement("tr"),f=0;f<2;f++)_=f?'<i class="icon-history stream_channel_fallow_icon"></i>'+wa+wa+m:'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+wa+wa+p,(Fr=document.createElement("td")).setAttribute("id",YI[8]+"y_"+f),Fr.className="stream_cell",Fr.innerHTML='<div id="'+YI[0]+"y_"+f+'" class="stream_thumbnail_channel_vod" ><div id="'+YI[3]+"y_"+f+'" class="stream_channel_fallow_game">'+_+"</div></div>",d.appendChild(Fr);d.appendChild(document.createElement("tr")),u.appendChild(d)}for(var f=0;f<i;f++){for(s=a/$r+f,d=document.createElement("tr"),o=0;o<$r&&r<n;o++,r++)c=(l=t.vods[r])._id,-1!==(l.preview.template+"").indexOf("404_processing")||GI[c]?o--:(GI[c]=1,d.appendChild(sS(s,s+"_"+o,[c,l.length,l.channel.broadcaster_language,l.game,l.channel.name,l.increment_view_count_url],[l.preview.template.replace("{width}x{height}",mu),l.channel.display_name,N+A_(l.created_at),xS.parse(l.title)+da+Qt+v+l.game,l_(l.views)+D,c_(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.channel.broadcaster_language),V+zp(l.length),l.animated_preview_url],YI)));for(;o<$r;o++)BI&&!qI&&(qI=!0,OI=s*$r+o),d.appendChild(B_(YI[9]+s+"_"+o)),UI.push(YI[9]+s+"_"+o);u.appendChild(d)}rS()}function sS(e,t,n,a,i){return e<$r&&T_(a[0]),dS(n,t,a,i)}function dS(e,t,n,a){return(Fr=document.createElement("td")).setAttribute("id",a[8]+t),Fr.setAttribute(vu,JSON.stringify(e)),Fr.className="stream_cell",Fr.innerHTML=cS(t,n,a),Fr}function lS(e,t,n,a){var i=document.getElementById(e),o=e.split(a[9])[1];i.setAttribute(vu,JSON.stringify(t)),i.innerHTML=cS(o,n,a),i.setAttribute("id",a[8]+o)}function cS(e,t,n){return x_(n[1]+e,t[0]),'<div id="'+n[0]+e+'" class="stream_thumbnail_clip"'+(t[7]?' style="background-size: 0 0; background-image: url('+t[7]+');"':"")+'><div><img id="'+n[1]+e+'" class="stream_img"></div><div id="'+n[2]+e+'" class="stream_text2"><div style="line-height: 14px;"><div id="'+n[3]+e+'" class="stream_channel" style="width: 72%; display: inline-block; font-size: 85%;">'+t[1]+'</div><div id="'+n[7]+e+'"class="stream_info" style="width:27%; float: right; text-align: right; display: inline-block;">'+t[5]+'</div></div><div id="'+n[11]+e+'"class="stream_info">'+t[3]+'</div><div id="'+n[6]+e+'"class="stream_info">'+t[4]+'</div><div style="line-height: 12px;"><div id="'+n[4]+e+'"class="stream_info" style="width: 59%; display: inline-block;">'+t[2]+'</div><div id="'+n[5]+e+'"class="stream_info" style="width: 39%; display: inline-block; float: right; text-align: right;">'+t[6]+"</div></div></div></div>"}function rS(){if(WI?(I_(Ma),mS(!0)):(HI?$u(L+(QI?G:O)+T+M):(WI=!0,mS(),I_(Ma),v_()),Gu(YI[10]),wf=!1,Hu()),0<UI.length&&!BI)return nS(),void uS();RI=!(UI=[])}function uS(){Ku(UI.length);var e=OI+JI;e&&FI-1<e&&(e=FI-du,BI=!0),Gf("https://api.twitch.tv/kraken/videos/top?limit="+du+"&broadcast_type="+(QI?"highlight":"archive")+"&sort=views&offset="+e+"&period="+zI+(""!==qr?"&language="+qr:""),DI,2,null,fS,_S)}function _S(){++NI<VI?(DI+=500,uS()):(BI=!0,OI-=UI.length,UI=[],rS())}function fS(e){var t,n,a=JSON.parse(e),i=a.vods.length,o=0,s=0,d=[];for(FI=parseInt(a._total);o<UI.length&&s<i;o++,s++)n=(t=a.vods[s])._id,-1!==(t.preview.template+"").indexOf("404_processing")||GI[n]?o--:(GI[n]=1,lS(UI[o],[n,t.length,t.channel.broadcaster_language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",mu),t.channel.display_name,N+A_(t.created_at),xS.parse(t.title)+da+Qt+v+t.game,l_(t.views)+D,c_(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.channel.broadcaster_language),V+zp(t.length),t.animated_preview_url],YI),d.push(o));for(o=d.length-1;-1<o;o--)UI.splice(d[o],1);JI+=s,BI&&(OI-=UI.length,UI=[]),rS()}function mS(e){LI<0?pS():(j_(LI,TI,YI,$r,OI,e),gS(YI,LI+"_"+TI),OI/$r<LI+eu&&!BI&&!RI&&(nS(),aS()),Ur&&hS())}function hS(){window.clearInterval(PI),-1<LI&&OI?(Gu(YI[1]+LI+"_"+TI),nf(LI+"_"+TI,YI)):vS()}function pS(){var e=1<TI?1:TI;Ru(YI[0]+"y_"+e,pu)}function vS(){var e=1<TI?1:TI;Nu(YI[0]+"y_"+e,pu)}function gS(t,n){if(ZI){var a=document.getElementById(t[0]+n);KI.onload=function(){Ou(t[1]+n),a.style.backgroundSize="612px";var e=0;PI=window.setInterval(function(){a.style.backgroundPosition="0px "+ ++e%10*-344+"px"},650)},KI.src=a.style.backgroundImage.replace(/url\(['"]?(.*?)['"]?\)/i,"$1")}}function yS(e){var t;if(!wf&&!z_())switch(q_(),e.keyCode){case Ua:d_()?s_():a_()?n_():(hS(),Af(yS));break;case La:if(-1===LI)vS(),--TI<0&&(TI=1),pS();else if(LI||TI){if(u_(LI,TI-1,YI[0]))hS(),TI--,mS();else for(t=$r-1;-1<t;t--)if(u_(LI-1,t,YI[0])){hS(),LI--,TI=t,mS();break}}else hS(),vS(),LI=-1,TI=1,pS();break;case Ba:-1===LI?(vS(),1<++TI?(TI=0,HI?pS():(LI=0,mS())):pS()):u_(LI,TI+1,YI[0])?(hS(),TI++,mS()):u_(LI+1,0,YI[0])&&(hS(),LI++,TI=0,mS());break;case Ta:if(-1!==LI||HI)if(LI){for(t=0;t<$r;t++)if(u_(LI-1,TI-t,YI[0])){hS(),LI--,TI-=t,mS();break}}else hS(),LI=-1,pS();else LI=0,vS(),mS();break;case Oa:if(-1!==LI||HI){for(t=0;t<$r;t++)if(u_(LI+1,TI-t,YI[0])){hS(),LI++,TI-=t,mS();break}}else LI=0,vS(),mS();break;case xa:case Sa:case Pa:case Ga:-1===LI?(0===TI?xf("Vod_highlight",(QI=!QI)?"true":"false"):4<++XI&&(XI=1),tS()):$_(LI+"_"+TI,YI,yS)}}function bS(){1===XI?(Vu("top_bar_vod",Kt+k_((QI?G:O)+de)),zI="day"):2===XI?(Vu("top_bar_vod",Kt+k_((QI?G:O)+le)),zI="week"):3===XI?(Vu("top_bar_vod",Kt+k_((QI?G:O)+ce)),zI="month"):4===XI&&(Vu("top_bar_vod",Kt+k_((QI?G:O)+re)),zI="all"),xf("vod_periodNumber",XI)}function wS(e,t){return e.replace(t.code,kS(t))}function kS(e){return'<img class="emoticon" src="'+e["3x"]+'"/>'}function AS(e){return'<img class="emoticon" src="https://static-cdn.jtvnw.net/emoticons/v1/'+e+'/3.0"/>'}function CS(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;")}function ES(e){for(var t=e.split(" "),n=0;n<t.length;n++){var a=(e=t[n]).replace(/(^[~!@#$%\^&\*\(\)]+|[~!@#$%\^&\*\(\)]+$)/g,""),i=Tl[a]||Tl[e];e=i?wS(e,i):CS(e),t[n]=e}return t.join(" ")}function MS(t,a){if(!a)return[t];var n=[],e=Object.keys(a),i=[];return e.forEach(function(e){for(var t=a[e],n=t.length-1;0<=n;n--)i.push({id:e,first:t[n][0],last:t[n][1]})}),i.sort(function(e,t){return t.first-e.first}),t=punycode.ucs2.decode(t),i.forEach(function(e){n.unshift(punycode.ucs2.encode(t.slice(e.last+1))),n.unshift([AS(e.id)]),t=t.slice(0,e.first)}),n.unshift(punycode.ucs2.encode(t)),n}function IS(a){return Object.keys(a).map(function(n){var e=a[n];return e.type=n,e.versions=Object.keys(a[n].versions).map(function(e){var t=a[n].versions[e];return t.type=e,t}),e})}function SS(e,t,n,a){var i=document.createElement("style");i.type="text/css",i.innerHTML="."+e+"-"+t+' { background-image: url("'+n.replace("http:","https:")+'"); }',a?a.appendChild(i):document.head.appendChild(i)}window.parseIRC=function(e){var t={raw:e,tags:{},prefix:null,command:null,params:[]},n=0,a=0;if(64===e.charCodeAt(0)){if(-1===(a=e.indexOf(" ")))return null;for(var i=e.slice(1,a).split(";"),o=0;o<i.length;o++){var s=i[o].split("=");t.tags[s[0]]=s[1]||!0}n=a+1}for(;32===e.charCodeAt(n);)n++;if(58===e.charCodeAt(n)){if(-1===(a=e.indexOf(" ",n)))return null;for(t.prefix=e.slice(n+1,a),n=a+1;32===e.charCodeAt(n);)n++}if(-1===(a=e.indexOf(" ",n)))return e.length>n?(t.command=e.slice(n),t):null;for(t.command=e.slice(n,a),n=a+1;32===e.charCodeAt(n);)n++;for(;n<e.length;){if(a=e.indexOf(" ",n),58===e.charCodeAt(n)){t.params.push(e.slice(n+1));break}if(-1===a){if(-1===a){t.params.push(e.slice(n));break}}else for(t.params.push(e.slice(n,a)),n=a+1;32===e.charCodeAt(n);)n++}return t},function(e){var t="object"==typeof global&&global;t.global!==t&&t.window!==t&&t.self!==t||(e=t);var n,v=2147483647,g=36,y=26,i=38,o=700,a=/^xn--/,s=/[^\x20-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,l={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},c=g-1,b=Math.floor,w=String.fromCharCode;function k(e){throw new RangeError(l[e])}function r(e,t){for(var n=e.length,a=[];n--;)a[n]=t(e[n]);return a}function u(e,t){var n=e.split("@"),a="";return 1<n.length&&(a=n[0]+"@",e=n[1]),a+r((e=e.replace(d,".")).split("."),t).join(".")}function A(e){for(var t,n,a=[],i=0,o=e.length;i<o;)55296<=(t=e.charCodeAt(i++))&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?a.push(((1023&t)<<10)+(1023&n)+65536):(a.push(t),i--):a.push(t);return a}function C(e){return r(e,function(e){var t="";return 65535<e&&(t+=w((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+w(e)}).join("")}function E(e,t){return e+22+75*(e<26)-((0!==t)<<5)}function M(e,t,n){var a=0;for(e=n?b(e/o):e>>1,e+=b(e/t);c*y>>1<e;a+=g)e=b(e/c);return b(a+(c+1)*e/(e+i))}function _(e){var t,n,a,i,o,s,d,l,c,r,u,_=[],f=e.length,m=0,h=128,p=72;for((n=e.lastIndexOf("-"))<0&&(n=0),a=0;a<n;++a)128<=e.charCodeAt(a)&&k("not-basic"),_.push(e.charCodeAt(a));for(i=0<n?n+1:0;i<f;){for(o=m,s=1,d=g;f<=i&&k("invalid-input"),u=e.charCodeAt(i++),(g<=(l=u-48<10?u-22:u-65<26?u-65:u-97<26?u-97:g)||l>b((v-m)/s))&&k("overflow"),m+=l*s,!(l<(c=d<=p?1:p+y<=d?y:d-p));d+=g)s>b(v/(r=g-c))&&k("overflow"),s*=r;p=M(m-o,t=_.length+1,0===o),b(m/t)>v-h&&k("overflow"),h+=b(m/t),m%=t,_.splice(m++,0,h)}return C(_)}function f(e){var t,n,a,i,o,s,d,l,c,r,u,_,f,m,h,p=[];for(_=(e=A(e)).length,t=128,o=72,s=n=0;s<_;++s)(u=e[s])<128&&p.push(w(u));for(a=i=p.length,i&&p.push("-");a<_;){for(d=v,s=0;s<_;++s)t<=(u=e[s])&&u<d&&(d=u);for(d-t>b((v-n)/(f=a+1))&&k("overflow"),n+=(d-t)*f,t=d,s=0;s<_;++s)if((u=e[s])<t&&++n>v&&k("overflow"),u===t){for(l=n,c=g;!(l<(r=c<=o?1:o+y<=c?y:c-o));c+=g)h=l-r,m=g-r,p.push(w(E(r+h%m,0))),l=b(h/m);p.push(w(E(l,0))),o=M(n,f,a===i),n=0,++a}++n,++t}return p.join("")}n={version:"1.4.1",ucs2:{decode:A,encode:C},decode:_,encode:f,toASCII:function(e){return u(e,function(e){return s.test(e)?"xn--"+f(e):e})},toUnicode:function(e){return u(e,function(e){return a.test(e)?_(e.slice(4).toLowerCase()):e})}},e.punycode=n}(this),function(e,t){e.ReconnectingWebSocket=function(){if("WebSocket"in window)return u.prototype.onopen=function(){},u.prototype.onclose=function(){},u.prototype.onconnecting=function(){},u.prototype.onmessage=function(){},u.prototype.onerror=function(){},u.debugAll=!1,u.CONNECTING=WebSocket.CONNECTING,u.OPEN=WebSocket.OPEN,u.CLOSING=WebSocket.CLOSING,u.CLOSED=WebSocket.CLOSED,u;function u(e,t,n){var a={debug:!1,automaticOpen:!0,reconnectInterval:1e3,maxReconnectInterval:3e4,reconnectDecay:1.5,timeoutInterval:3e3,maxReconnectAttempts:null,binaryType:"blob"};for(var i in n||(n={}),a)void 0!==n[i]?this[i]=n[i]:this[i]=a[i];this.url=e,this.reconnectAttempts=0,this.readyState=WebSocket.CONNECTING,this.protocol=null;var o,s=this,d=!1,l=!1,c=document.createElement("div");function r(e,t){var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}c.addEventListener("open",function(e){s.onopen(e)}),c.addEventListener("close",function(e){s.onclose(e)}),c.addEventListener("connecting",function(e){s.onconnecting(e)}),c.addEventListener("message",function(e){s.onmessage(e)}),c.addEventListener("error",function(e){s.onerror(e)}),this.addEventListener=c.addEventListener.bind(c),this.removeEventListener=c.removeEventListener.bind(c),this.dispatchEvent=c.dispatchEvent.bind(c),this.open=function(a){if((o=new WebSocket(s.url,t||[])).binaryType=this.binaryType,a){if(this.maxReconnectAttempts&&this.reconnectAttempts>this.maxReconnectAttempts)return}else c.dispatchEvent(r("connecting")),this.reconnectAttempts=0;(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","attempt-connect",s.url);var e=o,i=setTimeout(function(){(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","connection-timeout",s.url),l=!0,e.close(),l=!1},s.timeoutInterval);o.onopen=function(){clearTimeout(i),(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","onopen",s.url),s.protocol=o.protocol,s.readyState=WebSocket.OPEN,s.reconnectAttempts=0;var e=r("open");e.isReconnect=a,a=!1,c.dispatchEvent(e)},o.onclose=function(e){if(clearTimeout(i),o=null,d)s.readyState=WebSocket.CLOSED,c.dispatchEvent(r("close"));else{s.readyState=WebSocket.CONNECTING;var t=r("connecting");t.code=e.code,t.reason=e.reason,t.wasClean=e.wasClean,c.dispatchEvent(t),a||l||((s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","onclose",s.url),c.dispatchEvent(r("close")));var n=s.reconnectInterval*Math.pow(s.reconnectDecay,s.reconnectAttempts);setTimeout(function(){s.reconnectAttempts++,s.open(!0)},n>s.maxReconnectInterval?s.maxReconnectInterval:n)}},o.onmessage=function(e){(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","onmessage",s.url,e.data);var t=r("message");t.data=e.data,c.dispatchEvent(t)},o.onerror=function(e){(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","onerror",s.url,e),c.dispatchEvent(r("error"))}},!0===this.automaticOpen&&this.open(!1),this.send=function(e){if(o)return(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","send",s.url,e),o.send(e);throw"INVALID_STATE_ERR : Pausing to reconnect websocket"},this.close=function(e,t){void 0===e&&(e=1e3),d=!0,o&&o.close(e,t)},this.refresh=function(){o&&o.close()}}}()}(this);var xS=function(){var e={parse:function(e,t,n){return t||(e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;")),a(e,function(e){var t=function(e){for(var t=e.indexOf(d)<0?e.replace(s,""):e,n=[],a=0,i=0,o=0;o<t.length;)a=t.charCodeAt(o++),i?(n.push((65536+(i-55296<<10)+(a-56320)).toString(16)),i=0):55296<=a&&a<=56319?i=a:n.push(a.toString(16));return n.join("-")}(e);return t?'<img class="'+(n?"emoticon":"emoji")+'" src="https://twemoji.maxcdn.com/2/72x72/'+t+'.png"/>':e})},replace:a},n=/(?:\ud83d[\udc68\udc69])(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddb0-\uddb3])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f)|[\u0023\u002a\u0030-\u0039]\ufe0f?\u20e3|(?:[\u00a9\u00ae\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\uddb5\uddb6\uddb8\uddb9\uddd1-\udddd]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a-\udc6d\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\udeeb\udeec\udef4-\udef9]|\ud83e[\udd10-\udd17\udd1d\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd40-\udd45\udd47-\udd70\udd73-\udd76\udd7a\udd7c-\udda2\uddb4\uddb7\uddc0-\uddc2\uddd0\uddde-\uddff]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g,s=/\uFE0F/g,d=String.fromCharCode(8205);return e;function a(e,t){return String(e).replace(n,t)}}();