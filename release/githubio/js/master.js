var t,n,a,e,i,o,s,d,l,r,p,m,c,u,_,f,v,h,g,y,b,w,k,C,M,E,S,I,P,x,L,T,B,G,O,A,U,N,H,F,D,R,q,V,J,z,X,j,Y,W,K,Z,$,Q,ee,te,ne,ae,ie,oe,se,de,le,re,ce,ue,_e,fe,me,he,pe,ve,ge,ye,be,we,ke,Ce,Me,Ee,Se,Ie,Pe,xe,Le,Te,Be,Ge,Oe,Ae,Ue,Ne,He,Fe,De,Re,qe,Ve,Je,ze,Xe,je,Ye,We,Ke,Ze,$e,Qe,et,tt,nt,at,it,ot,st,dt,lt,rt,ct,ut,_t,ft,mt,ht,pt,vt,gt,yt,bt,wt,kt,Ct,Mt,Et,St,It,Pt,xt,Lt,Tt,Bt,Gt,Ot,At,Ut,Nt,Ht,Ft,Dt,Rt,qt,Vt,Jt,zt,Xt,jt,Yt,Wt,Kt,Zt,$t,Qt,en,tn,nn,an,on,sn,dn,ln,rn,cn,un,_n,fn,mn,hn,pn,vn,gn,yn,bn,wn,kn,Cn,Mn,En,Sn,In,Pn,xn,Ln,Tn,Bn,Gn,On,An,Un,Nn,Hn,Fn,Dn,Rn,qn,Vn,Jn,zn,Xn,jn,Yn,Wn,Kn,Zn,$n,Qn,ea,ta,na,aa,ia,oa,sa,da="fglfgl27@gmail.com",la="<br>",ra='<i class="icon-circle" style="font-size: 50%; vertical-align: middle; font-weight: bold;"></i>  ',ca='<div class="about_text_title">',ua='<div class="about_text_title" style="text-align: left;">',_a='<div style="text-align: left;">',fa="",ma="",ha="",pa="",va="",ga="",ya="",ba="",wa="",ka="",Ca="&nbsp;",Ma="",Ea='<div style="vertical-align: middle; display: inline-block;"><i class="icon-twitch" style="color: #FFFFFF; font-size: 115%; "></i></div><div style="vertical-align: middle; display: inline-block">'+Ca;function Sa(){fa=e+" (C)",ma=n+" (D)",pa=a+" (A)",ha=i+" (A)",l+=tn,r+=tn,va=ca+e+"</div>"+ca+Ee+"</div>"+la+_a+ra+Le+la+ra+(Te+=Rn)+la+ra+Be+la+ra+Ge+la+Oe+la+ra+Ae+la+Ca+Ca+Ca+Ue+la+ra+Ne+la+"</div>"+la+(ba=ca+Ce+"</div>"+_a+ra+at+la+ra+et+la+ra+tt+la+"</div>"+_a+ra+nt+la+ra+it+la+ra+ot+la+la+ca+Me+"</div>"+_a+ra+st+la+ra+dt+la+ra+lt+la+ra+rt+la+ra+ct)+la+la+ca+ke+"</div>",ga=ca+Ea+we+"</div></div>",ya=_a+la+He+la+(pr?"":la+'<div style="display: inline-block; color: #FF0000; font-size: 110%; font-weight: bold;">'+ea+"</div>")+"</div>"+la+ca+Fe+"</div>"+da+la+la+De+la+Re+la+la+ua+qe+"</div>"+_a+Ke+la+ra+Ve+la+ra+Je+la+ra+ze+la+ra+Xe+la+ra+je+la+ra+Ye+la+ra+We+la+Ze+la+ra+$e+la+ra+Qe+la+ca+ke+"</div></div>",wa=ca+Se+"</div>"+mt+la,Ma=la+ca+ht+"</div>"+_a+ra+pt+la+la+ca+Ma+"</div>"+la+la+ke+"</div>",ka=gt+la+ra+yt.replace("link_link",'<div style="display: inline-block; color: #FF0000; font-size: 110%; font-weight: bold;">http://tiny.cc/twitchkeycode</div>')+la+ra+bt+la+ra+wt+la+ra+kt+la+ra+Ct}function Ia(){$r=!1,document.getElementById("side_panel").style.width="17%",t="Refresh:",n="Search",a="Settings",e="Controls",i="About",o="Hide",s="The text you entered is empty.",d="The search result is empty.",l="Switch screen",r="Switch user screen",p="Switch: Past Broadcast or Highlight",m="Switch: Period (24h, 7d, 30d, all)",c="Go to ",u="User ",_="Live",f="Games",v="Playing ",h=" for ",g="Watching time ",y="Since ",b=" ago",w="A Game",k="Type your search...",C="Type your authentication key...",M="Type your user name...",E="Press Enter or Select key to, ",S="Channels",I="Channel",P="Back to previously screen: Back key twice",x=" has ended",L="This video is only available to subscribers.",T="Connection failed, unable to load content hit refresh to try again",B="No",G=" for this ",O="Connection failed, unable to load video content exiting...",A=" Past Broadcast",U=" Highlight",N=" Clips",H=" Content",F="Streamed on ",D="Duration ",R=" Views",q=" Viewers",V="Click again to exit!",J="Do you wanna to exit Twitch?",z="Exit",X="Close",j="Minimize",Y="Cancel",W="Not Live | ",K=" Channels Live",Z=" Hosts Live",$=" Games Live",Q=" Followed Channels",ee=" Add User",te=" Remove User",ne="User doesn't exist",ae=" hosting ",ie=" already set",oe="Make First",se="First user can fallow (when providing a key) and see live channels feed outside of the user screen<br>",de="Add a Twitch user to display it's Followed Channels content here",le=" (24h)",re=" (7d)",ce=" (30d)",ue=" (all)",_e="Jumping",fe=" to ",me="Jump Canceled",he=" , jump time bigger then duration",pe=" Sec",ve=" Min",ge=" Hr",ye="Source",be="Version: ",we="SmartTV Twitch",ke="Press back key to close this.",Ce="Player Related:",Me="Chat Related:",Ee="General Related:",Se="Update",Ie="Current installed version ",Pe=" latest available version ",xe="This are the none players related controls, the player can show it's own controls.",Le="Play a video: Navigate using Directional pad (up/down/left/right), press enter to start playing",Te="Refresh screen content: ",Be="Exit the application: from side pannel click exit",Ge=" Switch screen: Back key then D-Pad left or right",Oe="Some screen will change its internal content (channel past broadcast or clips for example) instead of changing to another screen",Ae="Start a search: from side pannel click search",Ue="After writing the search text press key Enter on the virtual keyboard then choose a search option",Ne="About this application: from side pannel click about",He="This is a SmartTV Twitch client develop by a individual on his free time, for TV's that don't have access to a good official application, released for free to any one that wanna to use it.",ea="This version of the app is for test only!",Fe="Developer information:",De="This is an open source application licensed under the GNU General Public License v3.0, check it on github",Re="github.com/fgl27/SmartTwitchTV",qe="This application uses following dependencies:",Ve="Nightdev KapChat - KapChat captures Twitch chat directly into OBS or XSplit (https://www.nightdev.com/kapchat/)",Je="Fontastic - Create your customized icon fonts in seconds (http://app.fontastic.me)",ze="Twemoji - A simple library that provides standard Unicode emoji support across all platforms (https://github.com/twitter/twemoji)",Xe="UglifyJS - is a JavaScript parser, minifier, compressor and beautifier toolkit (https://github.com/mishoo/UglifyJS2)",je="JS Beautifier - Beautify, unpack or deobfuscate JavaScript and HTML, make JSON/JSONP readable, etc. (https://github.com/beautify-web/js-beautify)",Ye="HTMLMinifier - A highly configurable, well-tested, JavaScript-based HTML minifier (https://github.com/kangax/html-minifier)",We="JSHint - A Static Code Analysis Tool for JavaScript (https://github.com/jshint/jshint)",Ke="Web:",Ze="Android:",$e="Google: Leanback v17 (https://developer.android.com/reference/android/support/v17/leanback/package-summary)",Qe="Google: ExoPlayer (https://github.com/google/ExoPlayer)",et="Show information panel: Press enter key or D-pad keys if chat and live channel feed is not showing",tt="Close the video: press back key twice",nt="Play/Pause a video: open information panel and click on pause simbol (not available to Live streams)",at="Show user live channels feed: D-pad up",it="Change video quality: Open information panel, , navigate using use Directional pad (left/right), then use Directional pad (up/down) to choose the new quality after press Select key to confirm the change",ot="Force refresh a video (in case it freezes): Change video quality to the same",st="Show or hide the Chat : D-pad right",dt="Change Chat position : D-pad left",lt="Change Chat size : D-pad up",rt="Change Chat background brightness: Change in side panel settings",ct="Force refresh the Chat (in case it freezes or doesn't load): Change video quality to the same will reset and sync it",ut='Start a search: open information panel, navigate using use Directional pad (left/right) to "Search" and press enter',_t="Chat and video (Side by side): Color button red (A)",ia="Force disable the chat",oa="with this the chat will not load content, this is useful on a stream with too many viewers were the chat can lag the app.",ft="There is a update available, check it in the app github releases ",Ma="Be aware that after the update (reinstall of the app using latest release) all saved users, keys or etc configuration of the app is lost",mt="A update is available, and the app can't self update this version ",ht="Major changes:",pt="Improves how the app runs in the background",vt='Adding a key allows the app to fallow and access subscribed only past broadcast (for channel you are Sub to and block VOD access to none subscribers). On the authentication page if you already added a key for another user, you need to click up two to tree time and click over "not you?" to authenticate for a different users <br> <br> add key for',gt=" below, fallowing this steps:",yt="Access the site link_link (using a computer or a smart phone)",bt='Click on the "Authorize" button it will take you to main Twitch.TV authentication site',wt="Login to Twitch.TV using the user name you are trying to add a key for",kt="Click on Authorize button of Twitch.TV site if you agree with the requested permissions",Ct="The web page will update and show a key code, the key only has lower case letters and nubers.",Mt=" Add Authentication key",Et="Key added OK",St="Key test fail, it's needed to add new one",It="Key test return OK",Pt="You try to add a key for user ",xt=" but this key is for user ",Lt=" Following",Tt=" Follow",Bt=" And you have not set a authentication key the app can't check yours sub status.",Gt=" And you are not a sub of this channel",Ot=" You are a sub of this channel but the app fail to authenticate contact the developer email in about",At="Fail authentication check with the provider key, please check and try again",Fn="The added key doesn't belong to the user ",Ut="No user",Nt="Set a user and a authentication key to be able to fallow/unfollow",Ht="Restart the",Ft=" Clip",Dt="Channel content",Rt="Network is disconnect, the application can't work without INTERNET",qt="Network connection reestablished",Vt=" Followers",Jt=", Can't fallow or unfallow ",zt="Game content",Xt="Yes",jt="Are you sure you want to remove the user ",Yt="Press Up to ",Wt="Followed Games",Kt="Change between",Zt=" Back key then Enter",$t=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"],Qt=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],en="Started ",tn=" (PG Up/Down)",nn="Videos",an=" Video",on="Replay",sn="exiting in ",dn='press "Return" to exit',ln="Featured",rn="Created at ",cn="Open the Broadcast",un="No Broadcast",_n="There is no Past Broadcast for this clip",fn="And because of that no chat",mn=" is now",hn="Open the Hosting",pn="Player related",vn="Buffer size:",gn="A lower value here will make the player to start playing sooner, but it may cause re-buffer with will cause the player to pause to buffer.",yn="Live streams buffer",bn="Videos (Past Broadcast and Highlight) buffer",wn="Clips buffer",kn="General related",Cn="Language",Mn="Chat: Connecting to chat history server.."+la+"Chat: Connected."+la+"Chat: Joined channel ",En="Play from the start or from where you stop watching last time?",In=(Sn="From:"+la)+"Start",Pn="Chat: The Chat has ended!",xn=": Most recent",Ln=": Most views",Tn="Set a authentication key to be able to see fallowed videos",Bn="Switch: Most recent or views",Gn="Enable",On="Disable",Yn="The app was closed willing playing, restoring playback",An="Restore playback",Un="When changing apps, the app may be closed by the system to free memory. In this case the app saves what it was playing and restores the playback when reopened",Nn="Chat font size",Hn="Change the chat lines font size, applies to text and emotes",Dn="Videos animated thumbnails",Rn="Side panel: Back key twice",qn="Size ",Vn="Brightness ",Jn="Forbidden content, this Live must be for Prime only subscribers or lock to Twitch official app only",zn="Jump step ",Xn=" seconds",jn=" minutes",Wn="Clock offset",Kn="Application language",Zn="Content language",$n="All",Qn="Empty game fro this",ta="Isn't possible to jump during a buffering",na="Chat is disabled, enable in side pannel settings",aa="This clip/video fail to load can't replay",sa="Chat backgroung brightness "}var Pa=51,xa=52,La=179,Ta=37,Ba=38,Ga=39,Oa=40,Aa=13,Ua=49,Na=8,Ha=13,Fa=32,Da=46,Ra=0,qa=5,Va=1e4,Ja=0,za=!1,Xa=!1,ja=!1,Ya=!1,Wa="",Ka="https://fgl27.github.io/SmartTwitchTV/release/index.min.html",Za="elsu5d09k0xomu7cggx3qg5ybdwu7g",$a="https://id.twitch.tv/oauth2/token?";function Qa(e){qr.Users_Position=qr.Users_AddcodePosition,Ja=e,ki(),Qc(),ai()}function ei(e,t,n,a){var i=new XMLHttpRequest,o=$a+"grant_type=refresh_token&client_id="+encodeURIComponent(vc)+"&client_secret="+encodeURIComponent(Za)+"&refresh_token="+encodeURIComponent(Ri[e].refresh_token)+"&redirect_uri="+Ka;i.open("POST",o,!0),i.timeout=Va,i.ontimeout=function(){},i.onreadystatechange=function(){4!==i.readyState||(200===i.status?ni(i.responseText,e,n):ti(e,t,n,a))},i.send(null)}function ti(e,t,n,a){++t<10?ei(e,t,n):a&&a()}function ni(e,t,n){var a=JSON.parse(e);Ri[t].access_token=a.access_token,Ri[t].refresh_token=a.refresh_token,so(),n&&n()}function ai(){var e=new XMLHttpRequest,t=$a+"grant_type=authorization_code&client_id="+encodeURIComponent(vc)+"&client_secret="+encodeURIComponent(Za)+"&code="+encodeURIComponent(Ja)+"&redirect_uri="+Ka;e.open("POST",t,!0),e.timeout=Va,e.ontimeout=function(){},e.onreadystatechange=function(){4!==e.readyState||(200===e.status?si(e.responseText):ii())},e.send(null)}function ii(){++Ra<qa?ai():oi()}function oi(){eu(),cu(At),window.setTimeout(function(){uu(),jr=0,xu(),qr.Main_Go=Br,window.location=Ka},4e3),Ri[qr.Users_Position].access_token=0,Ri[qr.Users_Position].refresh_token=0}function si(e){var t=JSON.parse(e);Ri[qr.Users_Position].access_token=t.access_token,Ri[qr.Users_Position].refresh_token=t.refresh_token,ki(),di()}function di(){J_("https://api.twitch.tv/kraken?oauth_token="+Ri[qr.Users_Position].access_token,Va,0,null,li,ri)}function li(e){var t=JSON.parse(e).token;t.user_name&&-1!==t.user_name.indexOf(Ri[qr.Users_Position].name)?(so(),jr=0,eu(),za=$M=!1,qr.Main_Go=Br,xu(),cu(Et),window.setTimeout(function(){window.location=Ka},3e3)):(Ri[qr.Users_Position].access_token=0,Ri[qr.Users_Position].refresh_token=0,za=!1,cu(Fn+Ri[qr.Users_Position].name),window.setTimeout(function(){uu(),jr=0,xu(),qr.Main_Go=Br,window.location=Ka},4e3))}function ri(){++Ra<qa?(Va+=500,di()):oi()}function ci(){ki(),Xa=!1,ui()}function ui(){var e="https://api.twitch.tv/kraken/users/"+Ri[qr.Users_Position].id+"/follows/channels/"+Wa,t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=Va,t.setRequestHeader(gc,vc),t.setRequestHeader(yc,kc),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?_i():404===t.status?fi(t.responseText):mi())},t.send(null)}function _i(){za=!(Xa=!0),Ya?uv():bd()}function fi(e){-1!==(JSON.parse(e).error+"").indexOf("Not Found")?(za=Xa=!1,Ya?uv():bd()):mi()}function mi(){++Ra<qa?(Va+=500,ui()):(za=!1,Ya?uv():bd())}function hi(){ki(),pi()}function pi(){var e=new XMLHttpRequest;e.open("PUT","https://api.twitch.tv/kraken/users/"+Ri[qr.Users_Position].id+"/follows/channels/"+Wa,!0),e.timeout=Va,e.setRequestHeader(gc,vc),e.setRequestHeader(yc,kc),e.setRequestHeader("Authorization","OAuth "+Ri[qr.Users_Position].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return Xa=!(za=!1),void(Ya?uv():bd());401===e.status||403===e.status?ei(qr.Users_Position,0,hi,null):vi()}},e.send(null)}function vi(){++Ra<qa&&(Va+=500,pi())}function gi(){ki(),yi()}function yi(){var e=new XMLHttpRequest;e.open("DELETE","https://api.twitch.tv/kraken/users/"+Ri[qr.Users_Position].id+"/follows/channels/"+Wa,!0),e.timeout=Va,e.setRequestHeader(gc,vc),e.setRequestHeader(yc,kc),e.setRequestHeader("Authorization","OAuth "+Ri[qr.Users_Position].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(204===e.status)return za=Xa=!1,void(Ya?uv():bd());401===e.status||403===e.status?ei(qr.Users_Position,0,gi,null):bi()}},e.send(null)}function bi(){++Ra<qa&&(Va+=500,yi())}function wi(){ki(),ja=!1,Ci()}function ki(){Va=1e4,za=!(Ra=0)}function Ci(){var e,t="https://api.twitch.tv/kraken/users/"+Ri[qr.Users_Position].id+"/subscriptions/"+Wa;if(Bc){if(!(e=Android.mreadUrl(t,Va,3,Ri[qr.Users_Position].access_token)))return void Mi();if(200===(e=JSON.parse(e)).status)za=!(ja=!0),Cg();else if(422===e.status)za=ja=!1,kg();else if(404===e.status){if(-1!==(JSON.parse(e.responseText).error+"").indexOf("Not Found"))return za=ja=!1,void kg();Mi()}else 401===e.status||403===e.status?ei(qr.Users_Position,0,wi,Ei):Mi()}else(e=new XMLHttpRequest).open("GET",t,!0),e.timeout=Va,e.setRequestHeader(gc,vc),e.setRequestHeader(yc,kc),e.setRequestHeader("Authorization","OAuth "+Ri[qr.Users_Position].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState)if(200===e.status)za=!(ja=!0),Cg();else if(422===e.status)za=ja=!1,kg();else if(404===e.status){if(-1!==(JSON.parse(e.responseText).error+"").indexOf("Not Found"))return za=ja=!1,void kg();Mi()}else 401===e.status||403===e.status?ei(qr.Users_Position,0,wi,Ei):Mi()},e.send(null)}function Mi(){++Ra<qa?(Va+=500,Ci()):Ei()}function Ei(){za=ja=!1,kg()}function Si(e){ki(),Ii(e,0)}function Ii(e,t){var n="https://api.twitch.tv/kraken?oauth_token="+Ri[e].access_token,a=new XMLHttpRequest;a.open("GET",n,!0),a.timeout=1e4,a.ontimeout=function(){},a.onreadystatechange=function(){if(4===a.readyState){if(200===a.status)return void(JSON.parse(a.responseText).token.valid?za=!1:(ki(),ei(e,0,null,null)));400===a.status?(ki(),ei(e,0,null,null)):Pi(e,t)}},a.send(null)}function Pi(e,t){++t<qa&&Ii(e,t)}function xi(){ki(),Li()}function Li(){var e=new XMLHttpRequest;e.open("PUT","https://api.twitch.tv/api/users/"+Ri[qr.Users_Position].name+"/follows/games/"+encodeURIComponent(qr.Main_gameSelected)+"?oauth_token="+Ri[qr.Users_Position].access_token,!0),e.timeout=1e4,e.setRequestHeader(gc,vc),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return Io=!0,void Fo();401===e.status||403===e.status?ei(qr.Users_Position,0,xi,null):Ti()}},e.send(null)}function Ti(){++Ra<qa&&(Va+=500,Li())}function Bi(){ki(),Gi()}function Gi(){var e=new XMLHttpRequest;e.open("DELETE","https://api.twitch.tv/api/users/"+Ri[qr.Users_Position].name+"/follows/games/"+encodeURIComponent(qr.Main_gameSelected)+"?oauth_token="+Ri[qr.Users_Position].access_token,!0),e.timeout=1e4,e.setRequestHeader(gc,vc),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(204===e.status)return Io=!1,void Fo();401===e.status||403===e.status?ei(qr.Users_Position,0,Bi,null):Oi()}},e.send(null)}function Oi(){++Ra<qa&&(Va+=500,Gi())}function Ai(){ki(),Ui()}function Ui(){var e,t="https://api.twitch.tv/api/users/"+Ri[qr.Users_Position].name+"/follows/games/"+encodeURIComponent(qr.Main_gameSelected);(e=new XMLHttpRequest).open("GET",t,!0),e.timeout=1e4,e.setRequestHeader(gc,vc),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState)return 200===e.status?(Io=!0,void Fo()):404===e.status?(Io=!1,void Fo()):void Ni()},e.send(null)}function Ni(){++Ra<qa?(Va+=500,Ui()):(Io=!1,Fo())}var Hi=0,Fi=5,Di=3500,Ri=[],qi=null,Vi=!1,Ji=!1;function zi(){qr.Main_Go=br,Wc("top_bar_user","icon_center_focus"),uu(),ur.placeholder=M,jc("add_user_scroll"),Yi()}function Xi(){Ki(!1),document.body.removeEventListener("keydown",ji),document.body.removeEventListener("keydown",Zi),Kc("top_bar_user","icon_center_focus"),Xc("add_user_scroll")}function ji(e){if(!Vi&&!Ji&&qr.Main_Go===br)switch(e.keyCode){case Ua:mu()?fu():gu()?vu():(0<Ri.length&&qr.Main_Go!==Br?qr.Main_Go=qr.Main_Before:qr.Main_Go=yr,Xi(),Iu());break;case xa:case Pa:case La:case Aa:Yi()}}function Yi(){document.body.removeEventListener("keydown",ji),document.body.addEventListener("keydown",Zi,!1),ur.placeholder=M,ur.focus(),Ji=!0}function Wi(){if(null!==ur){var e=ur.cloneNode(!0);ur.parentNode.replaceChild(e,ur),ur=document.getElementById("user_input")}}function Ki(e){ur.blur(),Wi(),document.body.removeEventListener("keydown",Zi),ur.placeholder=E+M,e&&document.body.addEventListener("keydown",ji,!1),Ji=!1}function Zi(e){if(!Vi&&qr.Main_Go===br)switch(e.keyCode){case Ua:mu()?fu():gu()?vu():(0<Ri.length&&qr.Main_Go!==Br?qr.Main_Go=qr.Main_Before:qr.Main_Go=yr,Xi(),Iu());break;case Da:ur.value="";break;case Ha:case Oa:""!==ur.value&&null!==ur.value?ro(qi=pr||ao()?ur.value:"testtwitch27")?(eu(),cu(u+qi+ie),window.setTimeout(function(){uu(),Yi()},1500)):(Di=3500,Vi=!(Hi=0),Xc("add_user_scroll"),Qc(),$i()):Yi();break;case Na:ur.value=ur.value.slice(0,-1);break;case Fa:ur.value+=" "}}function $i(){J_("https://api.twitch.tv/kraken/users?login="+encodeURIComponent(qi),Di,2,null,Qi,eo)}function Qi(e){JSON.parse(e)._total?(ur.value="",document.body.removeEventListener("keydown",ji),io(e)):to()}function eo(){++Hi<Fi?(Di+=500,$i()):to()}function to(){qi=null,eu(),cu(ne),window.setTimeout(function(){zi()},1e3),Vi=!1}function no(){if(0<(Ri=D_("AddUser_UsernameArray",[])).length)for(var e=0;e<Ri.length;e++)Ri[e].access_token&&Si(e)}function ao(){return 0<Ri.length}function io(e){qi=JSON.parse(e).users[0],Ri.push({name:qi.name,id:qi._id,access_token:0,refresh_token:0}),so(),$M=!1,Xi(),eE(),Vi=!1}function oo(e){var t=Ri.indexOf(Ri[e]);-1<t&&Ri.splice(t,1),0<Ri.length?($M=!1,eE()):zi(),so()}function so(){H_("AddUser_UsernameArray",JSON.stringify(Ri))}function lo(e){qi=Ri[0],Ri[0]=Ri[e],Ri[e]=qi,$M=!1,eE(),so()}function ro(e){return-1!==Ri.indexOf(e)}function co(){return 0<Ri.length}var uo=0,_o=0,fo=!1,mo=0,ho={},po=[],vo=!1,go=0,yo=5,bo=3500,wo=0,ko=0,Co=!1,Mo=["ag_thumbdiv","ag_img","ag_infodiv","ag_displayname","ag_streamtitle","ag_streamgame","ag_viwers","ag_quality","ag_cell","agempty_","a_games_scroll"],Eo=!1,So=!1,Io=!1,Po=!1,xo=!1;function Lo(){qr.Main_CenterLablesVectorPos=3,qr.Main_Go=kr,document.body.addEventListener("keydown",Ko,!1),Wc("top_bar_game","icon_center_focus"),zc("label_side_panel","icon-arrow-circle-left",P),qr.Search_isSearching&&(Gu(),Zc("top_bar_user",n+Ou(f+" '"+qr.Search_data+"'"))),Zc("top_bar_game",w+Ou(_+": "+qr.Main_gameSelected)),qr.Main_OldgameSelected===qr.Main_gameSelected&&Eo?(Ru(uo),jc(Mo[10]),Xo(),xu()):Bo()}function To(){Eo&&-1===uo&&(Wo(),_o=uo=0,Wc(Mo[0]+"0_"+_o,Ec)),zc("label_side_panel","icon-ellipsis",Rn),Zc("top_bar_game",f),document.body.removeEventListener("keydown",Ko),Kc("top_bar_game","icon_center_focus"),Xc(Mo[10])}function Bo(){null===qr.Main_OldgameSelected&&(qr.Main_OldgameSelected=qr.Main_gameSelected),Nu("stream_table_a_game"),Xc(Mo[10]),Qc(),uu(),xo=Eo=!1,ho={},mo=ko=wo=0,uo=_o=0,fo=!(L_=!(So=!(po=[]))),su(),Go(),Oo()}function Go(){Fu(),vo=!0,go=0,bo=3500}function Oo(){var e=mo+wo;e&&ko-1<e&&(e=ko-dc,fo=!0),J_("https://api.twitch.tv/kraken/streams?game="+encodeURIComponent(qr.Main_gameSelected)+"&limit="+dc+"&offset="+e+(""!==Qr?"&language="+Qr:""),bo,2,null,Uo,Ao)}function Ao(){++go<yo?(bo+=500,Oo()):(vo=!1,mo?(fo=!0,No()):(L_=!1,eu(),cu(T)))}function Uo(e){var t=JSON.parse(e),n=t.streams.length;ko=parseInt(t._total),n<dc&&(fo=!0);var a=mo;Co=!(mo+=n);var i=n/lc;0<n%lc&&i++;var o,s,d,l,r,c,u=0,_=document.getElementById("stream_table_a_game");if(!xo){var f;for(xo=!0,d=document.createElement("tr"),l=0;l<3;l++)f=l?1===l?'<i class="icon-movie stream_channel_fallow_icon"></i>'+Ca+N:"":'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+Ca+Ca+nn,(Zr=document.createElement("td")).setAttribute("id",Mo[8]+"y_"+l),Zr.className="stream_cell",Zr.innerHTML='<div id="'+Mo[0]+"y_"+l+'" class="stream_thumbnail_fallow_game" ><div id="'+Mo[3]+"y_"+l+'" class="stream_channel_fallow_game">'+f+"</div></div>",d.appendChild(Zr);_.appendChild(d)}for(l=0;l<i;l++){for(s=a/lc+l,d=document.createElement("tr"),o=0;o<lc&&u<n;o++,u++)c=(r=t.streams[u]).channel._id,ho[c]?o--:(ho[c]=1,d.appendChild(Yu(s,s+"_"+o,[r.channel.name,c],Mo,[r.preview.template.replace("{width}x{height}",Cc),ku(JSON.stringify(r.stream_type))+r.channel.display_name,r.channel.status,r.game,y+$h(r.created_at)+b+", "+h+bu(r.viewers)+q,wu(r.video_height,r.average_fps,r.channel.language)])));for(;o<lc;o++)fo&&!So&&(So=!0,mo=s*lc+o),d.appendChild(Ju(Mo[9]+s+"_"+o)),po.push(Mo[9]+s+"_"+o);_.appendChild(d)}No()}function No(){if(Eo){if(Hu(Nc),0<po.length&&!fo)return Go(),void Vo();du(_o,uo,lc,mo),po=[]}else Ho(),Co?(cu(B+$),uo=-1,Yo()):(Eo=!0,Hu(Nc),Xo(),xu()),jc(Mo[10]),L_=!1,eu();vo=!1}function Ho(){Po?(Io=!0,Fo()):ao()?Ai():(Io=!1,Fo())}function Fo(){Zc(Mo[3]+"y_2",Io?'<i class="icon-heart" style="color: #00b300; font-size: 100%; text-shadow: #FFFFFF 0 0 10px, #FFFFFF 0 0 10px, #FFFFFF 0 0 8px;"></i>'+Ca+Ca+Lt:'<i class="icon-heart-o" style="color: #FFFFFF; font-size: 100%; text-shadow: #000000 0 0 10px, #000000 0 0 10px, #000000 0 0 8px;"></i>'+Ca+Ca+(ao()?Tt:Ut))}function Do(){ao()&&Ri[qr.Users_Position].access_token?Io?Bi():xi():(cu(Nt),window.setTimeout(function(){Co&&qr.Main_Go===kr?cu(B+$):uu()},2e3))}function Ro(){_o?1===_o?(qr.Main_Go=Hr,qr.Main_OldgameSelected=qr.Main_gameSelected,qo(),Pu()):Do():(qr.Main_Go=Nr,qr.Main_OldgameSelected=qr.Main_gameSelected,qo(),Pu())}function qo(){Eo&&-1===uo&&(Wo(),_o=uo=0,Wc(Mo[0]+"0_"+_o,Ec)),document.body.removeEventListener("keydown",Ko),Xc(Mo[10])}function Vo(){ru(po.length);var e=mo+wo;e&&ko-1<e&&(e=ko-pc,fo=!0),J_("https://api.twitch.tv/kraken/streams?game="+encodeURIComponent(qr.Main_gameSelected)+"&limit="+pc+"&offset="+e+(""!==Qr?"&language="+Qr:""),bo,2,null,zo,Jo)}function Jo(){++go<yo?(bo+=500,Vo()):(fo=!0,mo-=po.length,po=[],No())}function zo(e){var t,n,a=JSON.parse(e),i=a.streams.length,o=0,s=0,d=[];for(ko=parseInt(a._total),i<pc&&(fo=!0);o<po.length&&s<i;o++,s++)n=(t=a.streams[s]).channel._id,ho[n]?o--:(ho[n]=1,Wu(po[o],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",Cc),ku(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+$h(t.created_at)+b+", "+h+bu(t.viewers)+q,wu(t.video_height,t.average_fps,t.channel.language)],Mo),d.push(o));for(o=d.length-1;-1<o;o--)po.splice(d[o],1);wo+=s,fo&&(mo-=po.length,po=[]),No()}function Xo(){uo<0?Yo():(i_(uo,_o,Mo,lc,mo),mo/lc<uo+rc&&!fo&&!vo&&(Go(),Oo()),zr&&jo())}function jo(){-1<uo&&mo?__(uo+"_"+_o,Mo):Wo()}function Yo(){Wc(Mo[0]+"y_"+_o,Ec)}function Wo(){Kc(Mo[0]+"y_"+_o,Ec)}function Ko(e){var t;if(!L_&&!n_())switch(t_(),e.keyCode){case Ua:gu()?vu():mu()?fu():(qr.Main_OldgameSelected=qr.Main_gameSelected,jo(),Wo(),B_(Ko));break;case Ta:if(-1===uo)Wo(),--_o<0&&(_o=2),Yo();else if(uo||_o){if(Cu(uo,_o-1,Mo[0]))jo(),_o--,Xo();else for(t=lc-1;-1<t;t--)if(Cu(uo-1,t,Mo[0])){jo(),uo--,_o=t,Xo();break}}else jo(),Wo(),uo=-1,_o=2,Yo();break;case Ga:-1===uo?(Wo(),2<++_o?(_o=0,Co?Yo():(uo=0,Xo())):Yo()):Cu(uo,_o+1,Mo[0])?(jo(),_o++,Xo()):Cu(uo+1,0,Mo[0])&&(jo(),uo++,_o=0,Xo());break;case Ba:if(-1!==uo||Co)if(uo){for(t=0;t<lc;t++)if(Cu(uo-1,_o-t,Mo[0])){jo(),uo--,_o-=t,Xo();break}}else jo(),uo=-1,Yo();else uo=0,Wo(),Xo();break;case Oa:if(-1!==uo||Co){for(t=0;t<lc;t++)if(Cu(uo+1,_o-t,Mo[0])){jo(),uo++,_o-=t,Xo();break}}else uo=0,Wo(),Xo();break;case xa:case Pa:case La:case Aa:-1!==uo?s_(uo+"_"+_o,Mo,Ko):Ro()}}var Zo=0,$o=0,Qo=!1,es=0,ts={},ns=[],as=!1,is=0,os=5,ss=3500,ds=0,ls=0,rs=!1,cs=!1,us="week",_s=2,fs=!1,ms=["agv_thumbdiv","agv_img","agv_infodiv","agv_title","agv_streamon","agv_duration","agv_viwers","agv_quality","agv_cell","gvempty_","a_games_vod_scroll","agv_game"],hs=!1,ps=!1,vs="";function gs(){qr.Main_CenterLablesVectorPos=3,qr.Main_Go=Nr,Wc("top_bar_game","icon_center_focus"),document.body.addEventListener("keydown",Gs,!1),zc("label_side_panel","icon-arrow-circle-left",P),vs===qr.Main_gameSelected&&hs?(Ru(Zo),jc(ms[10]),Os(),xs(),xu()):bs()}function ys(){hs&&Ls(),document.body.removeEventListener("keydown",Gs),Kc("top_bar_game","icon_center_focus"),Zc("top_bar_game",f),zc("label_side_panel","icon-ellipsis",Rn),zc("label_switch","icon-switch",l),Xc(ms[10])}function bs(){hs&&Ls(),Nu("stream_table_a_game_vod"),Xc(ms[10]),Qc(),Os(),vs=qr.Main_gameSelected,uu(),fs=hs=!1,ls=ds=0,ts={},Zo=$o=es=0,Qo=!(L_=!(cs=!(ns=[]))),su(),ws(),ks()}function ws(){Fu(),as=!0,is=0,ss=3500}function ks(){var e=es+ds;e&&ls-1<e&&(e=ls-dc,Qo=!0),J_("https://api.twitch.tv/kraken/videos/top?game="+encodeURIComponent(qr.Main_gameSelected)+"&limit="+dc+"&broadcast_type="+(ps?"highlight":"archive")+"&sort=views&offset="+e+"&period="+us+(""!==Qr?"&language="+Qr:""),ss,2,null,Ms,Cs)}function Cs(){++is<os?(ss+=500,ks()):(as=!1,es?(Qo=!0,Es()):(L_=!1,eu(),cu(T)))}function Ms(e){var t=JSON.parse(e),n=t.vods.length;ls=parseInt(t._total),n<dc&&(Qo=!0);var a=es;rs=!(es+=n);var i=n/lc;0<n%lc&&i++;var o,s,d,l,r,c=0,u=document.getElementById("stream_table_a_game_vod");if(!fs){var _;for(fs=!0,d=document.createElement("tr"),f=0;f<2;f++)_=f?'<i class="icon-history stream_channel_fallow_icon"></i>'+Ca+Ca+m:'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+Ca+Ca+p,(Zr=document.createElement("td")).setAttribute("id",ms[8]+"y_"+f),Zr.className="stream_cell",Zr.innerHTML='<div id="'+ms[0]+"y_"+f+'" class="stream_thumbnail_channel_vod" ><div id="'+ms[3]+"y_"+f+'" class="stream_channel_fallow_game">'+_+"</div></div>",d.appendChild(Zr);u.appendChild(d)}for(var f=0;f<i;f++){for(s=a/lc+f,d=document.createElement("tr"),o=0;o<lc&&c<n;o++,c++)r=(l=t.vods[c])._id,-1!==(l.preview.template+"").indexOf("404_processing")||ts[r]?o--:(ts[r]=1,d.appendChild(GS(s,s+"_"+o,[r,l.length,l.language,l.game,l.channel.name,l.increment_view_count_url],[l.preview.template.replace("{width}x{height}",Cc),l.channel.display_name,F+Au(l.created_at),gk.parse(l.title)+la+en+v+l.game,bu(l.views)+R,wu(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.language),D+Kh(l.length),l.animated_preview_url],ms)));for(;o<lc;o++)Qo&&!cs&&(cs=!0,es=s*lc+o),d.appendChild(Ju(ms[9]+s+"_"+o)),ns.push(ms[9]+s+"_"+o);u.appendChild(d)}Es()}function Es(){if(hs?Hu(Nc):(rs?cu(B+(ps?U:A)+G+I):(hs=!0,Hu(Nc),xs(),xu()),jc(ms[10]),L_=!1,eu()),0<ns.length&&!Qo)return ws(),void Ss();du($o,Zo,lc,es),as=!(ns=[])}function Ss(){ru(ns.length);var e=es+ds;e&&ls-1<e&&(e=ls-pc,Qo=!0),J_("https://api.twitch.tv/kraken/videos/top?game="+encodeURIComponent(qr.Main_gameSelected)+"&limit="+pc+"&broadcast_type="+(ps?"highlight":"archive")+"&sort=views&offset="+e+"&period="+us+(""!==Qr?"&language="+Qr:""),ss,2,null,Ps,Is)}function Is(){++is<os?(ss+=500,Ss()):(Qo=!0,ns=[],Es())}function Ps(e){var t,n,a=JSON.parse(e),i=a.vods.length,o=0,s=0,d=[];for(ls=parseInt(a._total);o<ns.length&&s<i;o++,s++)n=(t=a.vods[s])._id,-1!==(t.preview.template+"").indexOf("404_processing")||ts[n]?o--:(ts[n]=1,AS(ns[o],[n,t.length,t.language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",Cc),t.channel.display_name,F+Au(t.created_at),gk.parse(t.title)+la+en+v+t.game,bu(t.views)+R,wu(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.language),D+Kh(t.length),t.animated_preview_url],ms),d.push(o));for(o=d.length-1;-1<o;o--)ns.splice(d[o],1);ds+=s,Qo&&(es-=ns.length,ns=[]),Es()}function xs(){Zo<0?Ts():(i_(Zo,$o,ms,lc,es),zS(ms,Zo+"_"+$o),es/lc<Zo+rc&&!Qo&&!as&&(ws(),ks()),zr&&Ls())}function Ls(){window.clearInterval(aS),-1<Zo&&es?(jc(ms[1]+Zo+"_"+$o),__(Zo+"_"+$o,ms)):Bs()}function Ts(){var e=1<$o?1:$o;Wc(ms[0]+"y_"+e,Ec)}function Bs(){var e=1<$o?1:$o;Kc(ms[0]+"y_"+e,Ec)}function Gs(e){var t;if(!L_&&!n_())switch(t_(),e.keyCode){case Ua:gu()?vu():mu()?fu():(Ls(),B_(Gs));break;case Ta:if(-1===Zo)Bs(),--$o<0&&($o=1),Ts();else if(Zo||$o){if(Cu(Zo,$o-1,ms[0]))Ls(),$o--,xs();else for(t=lc-1;-1<t;t--)if(Cu(Zo-1,t,ms[0])){Ls(),Zo--,$o=t,xs();break}}else Ls(),Bs(),Zo=-1,$o=1,Ts();break;case Ga:-1===Zo?(Bs(),1<++$o?($o=0,rs?Ts():(Zo=0,xs())):Ts()):Cu(Zo,$o+1,ms[0])?(Ls(),$o++,xs()):Cu(Zo+1,0,ms[0])&&(Ls(),Zo++,$o=0,xs());break;case Ba:if(-1!==Zo||rs)if(Zo){for(t=0;t<lc;t++)if(Cu(Zo-1,$o-t,ms[0])){Ls(),Zo--,$o-=t,xs();break}}else Ls(),Zo=-1,Ts();else Zo=0,Bs(),xs();break;case Oa:if(-1!==Zo||rs){for(t=0;t<lc;t++)if(Cu(Zo+1,$o-t,ms[0])){Ls(),Zo++,$o-=t,xs();break}}else Zo=0,Bs(),xs();break;case xa:case Pa:case La:case Aa:-1===Zo?(0===$o?H_("AGameVod_highlight",(ps=!ps)?"true":"false"):4<++_s&&(_s=1),bs()):r_(Zo+"_"+$o,ms,Gs)}}function Os(){1===_s?(Zc("top_bar_game",w+Ou((ps?U:A)+le+": "+qr.Main_gameSelected)),us="day"):2===_s?(Zc("top_bar_game",w+Ou((ps?U:A)+re+": "+qr.Main_gameSelected)),us="week"):3===_s?(Zc("top_bar_game",w+Ou((ps?U:A)+ce+": "+qr.Main_gameSelected)),us="month"):4===_s&&(Zc("top_bar_game",w+Ou((ps?U:A)+ue+": "+qr.Main_gameSelected)),us="all"),H_("AGameVod_periodNumber",_s)}var As,Us=0,Ns=0,Hs=!1,Fs=0,Ds=0,Rs=5,qs=3500,Vs=0,Js=!1,zs=!1,Xs=["cc_thumbdiv","cc_img","cc_infodiv","cc_name","cc_createdon","cc_game","cc_viwers","cc_duration","cc_cell","sccempty_","channel_content_scroll"],js=!1,Ys="",Ws=null,Ks="",Zs="",$s="",Qs="",ed="",td={},nd=!1;function ad(){qr.Main_CenterLablesVectorPos=1,qr.Main_Go=xr,nd&&!qr.Search_isSearching&&qr.Main_selectedChannel_id&&Id(),Ys!==qr.Main_selectedChannel&&(js=!1),Gu(),qr.Main_selectedChannelDisplayname=qr.Main_selectedChannelDisplayname.replace(W,""),$c("top_bar_user",qr.Main_selectedChannelDisplayname),$c("top_bar_game",Dt),document.body.addEventListener("keydown",Pd,!1),Ya=!1,js?(Ru(Us),jc(Xs[10]),kd(),Cd(),xu()):od()}function id(){Bu(),document.body.removeEventListener("keydown",Pd),Xc(Xs[10])}function od(){Nu("stream_table_channel_content"),Xc(Xs[10]),Qc(),uu(),Ys=qr.Main_selectedChannel,Qs="",Hs=Js=js=!1,As=void(Us=Ns=Fs=Vs=0),sd(),dd()}function sd(){L_=!0,Ds=0,qs=3500}function dd(){J_("https://api.twitch.tv/kraken/streams/"+encodeURIComponent(void 0!==As?As:qr.Main_selectedChannel_id),qs,2,null,ld,rd)}function ld(e){null!==JSON.parse(e).stream?(Ws=e,sd(),fd()):As?(Ws=null,sd(),fd()):(sd(),cd())}function rd(){++Ds<Rs?(qs+=500,dd()):(Ws=null,sd(),fd())}function cd(){var e,t="https://tmi.twitch.tv/hosts?include_logins=1&host="+encodeURIComponent(qr.Main_selectedChannel_id);if(Bc){if(!(e=Android.mreadUrl(t,qs,1,null)))return void ud();200===(e=JSON.parse(e)).status?_d(e.responseText):ud()}else(e=new XMLHttpRequest).open("GET",Hc+t,!0),e.timeout=qs,e.setRequestHeader(gc,vc),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void _d(e.responseText);ud()}},e.send(null)}function ud(){++Ds<Rs?(qs+=500,cd()):(Ws=null,sd(),fd())}function _d(e){var t=JSON.parse(e);void 0!==(As=t.hosts[0].target_id)?(sd(),dd()):(Ws=null,sd(),fd())}function fd(){J_("https://api.twitch.tv/kraken/channels/"+qr.Main_selectedChannel_id,Ov,2,null,md,hd)}function md(e){var t=JSON.parse(e);Ks=t.views,Zs=t.followers,$s=t.description,qr.Main_selectedChannelLogo=t.logo,pd()}function hd(){++Ds<Rs?(qs+=500,fd()):($s=Zs=Ks="",qr.Main_selectedChannelLogo=Uc,pd())}function pd(){var e=document.createElement("tr"),t=document.createElement("tbody"),n=0,a=document.getElementById("stream_table_channel_content");if((Zr=document.createElement("tr")).className="follower_header",Zr.innerHTML='<div class="follower_header">'+gk.parse($s)+"</div>",a.appendChild(t),a.appendChild(Zr),null!==Ws){var i=JSON.parse(Ws);if(null!==i.stream){var o=void 0!==As?qr.Main_selectedChannelDisplayname+ae:"",s=i.stream;e.appendChild(vd("0_"+n,s.channel.name,s.preview.template,gk.parse(s.channel.status),s.game,ku(JSON.stringify(s.stream_type))+o+s.channel.display_name,y+$h(s.created_at)+b+", "+h+bu(s.viewers)+q,wu(s.video_height,s.average_fps,s.channel.language))),n++}else Js=!0}else Js=!0;e.appendChild(gd("0_"+n,qr.Main_selectedChannelDisplayname,qr.Main_selectedChannelDisplayname+A,"movie-play")),n++,e.appendChild(gd("0_"+n,qr.Main_selectedChannelDisplayname,qr.Main_selectedChannelDisplayname+N,"movie")),n<2&&(n++,e.appendChild(Ju(Xs[9]+"0_"+n))),a.appendChild(e),(e=document.createElement("tr")).appendChild(yd("1_0",qr.Main_selectedChannelDisplayname,qr.Main_selectedChannelDisplayname,qr.Main_selectedChannelLogo)),a.appendChild(e),wd()}function vd(e,t,n,a,i,o,s,d){return Qs=n.replace("{width}x{height}",Cc),(Zr=document.createElement("td")).setAttribute("id",Xs[8]+e),Zr.setAttribute(Sc,t),Zr.className="stream_cell",Zr.innerHTML='<div id="'+Xs[0]+e+'" class="stream_thumbnail_video" ><img id="'+Xs[1]+e+'" class="stream_img"></div><div id="'+Xs[2]+e+'" class="stream_text"><div id="'+Xs[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;"><i class="icon-circle" style="color: '+(void 0!==As?"#FED000":"red")+'; font-size: 90%; aria-hidden="true"></i> '+Ca+o+'</div><div id="'+Xs[7]+e+'"class="stream_info" style="width:33%; float: right; text-align: right; display: inline-block;">'+d+'</div><div id="'+Xs[4]+e+'"class="stream_info">'+a+'</div><div id="'+Xs[5]+e+'"class="stream_info">'+v+i+'</div><div id="'+Xs[6]+e+'"class="stream_info">'+s+"</div></div>",Zr}function gd(e,t,n,a){return(Zr=document.createElement("td")).setAttribute("id",Xs[8]+e),Zr.setAttribute(Sc,t),Zr.className="stream_cell",Zr.innerHTML='<div id="'+Xs[0]+e+'" class="stream_thumbnail_video" ><div id="'+Xs[1]+e+'" class="stream_channel_content_icon"><i class="icon-'+a+'"></i></div></div><div id="'+Xs[2]+e+'" class="stream_text"><div id="'+Xs[3]+e+'" class="stream_channel" style="text-align: center">'+n+"</div></div>",Zr}function yd(e,t,n,a){return ed=a,(Zr=document.createElement("td")).setAttribute("id",Xs[8]+e),Zr.setAttribute(Sc,t),Zr.className="stream_cell",Zr.innerHTML='<div id="'+Xs[0]+e+'" class="stream_thumbnail_video" ><div id="schannel_cont_heart" style="position: absolute; top: 5%; left: 6%;"></div><img id="'+Xs[1]+e+'" class="stream_img_fallow"></div><div id="'+Xs[2]+e+'" class="stream_text"><div id="'+Xs[3]+e+'" class="stream_channel">'+n+'</div><div id="'+Xs[5]+e+'"class="stream_info">'+bu(Ks)+R+'</div><div id="'+Xs[6]+e+'"class="stream_info" >'+bu(Zs)+Vt+"</div></div>",Zr}function bd(){Xa?(Zc("schannel_cont_heart",'<i class="icon-heart" style="color: #00b300; font-size: 600%; text-shadow: #FFFFFF 0 0 10px, #FFFFFF 0 0 10px, #FFFFFF 0 0 8px;"></i>'),$c(Xs[3]+"1_0",qr.Main_selectedChannelDisplayname+Lt)):(Zc("schannel_cont_heart",'<i class="icon-heart-o" style="color: #FFFFFF; font-size: 600%; text-shadow: #000000 0 0 10px, #000000 0 0 10px, #000000 0 0 8px;"></i>'),ao()?$c(Xs[3]+"1_0",qr.Main_selectedChannelDisplayname+Tt):$c(Xs[3]+"1_0",qr.Main_selectedChannelDisplayname+Jt))}function wd(){js||(js=!0,""!==Qs&&Fc(document.getElementById(Xs[1]+"0_0"),Qs,Nc),Fc(document.getElementById(Xs[1]+"1_0"),ed,Uc),Cd(),xu(),jc(Xs[10]),eu()),kd(),L_=!1}function kd(){zs?bd():ao()?(Wa=qr.Main_selectedChannel_id,Ya=!1,ci()):(Xa=!1,bd())}function Cd(){Wc(Xs[0]+Us+"_"+(Us?0:Ns),Ec),zr&&Md(),Qu()}function Md(){__(Us+"_"+(Us?0:Ns),Xs)}function Ed(){if(Us)ao()&&Ri[qr.Users_Position].access_token?(Ya=!1,Wa=qr.Main_selectedChannel_id,Xa?gi():hi()):(cu(Nt),window.setTimeout(uu,2e3));else{document.body.removeEventListener("keydown",Pd),Xc(Xs[10]);var e=Js?1:0;Ns===0-e?(qr.Play_selectedChannel=document.getElementById(Xs[8]+Us+"_"+Ns).getAttribute(Sc),qr.Play_selectedChannelDisplayname=document.getElementById(Xs[3]+Us+"_"+Ns).textContent,-1!==qr.Play_selectedChannelDisplayname.indexOf(ae)?(qr.Play_isHost=!0,qr.Play_DisplaynameHost=qr.Play_selectedChannelDisplayname,qr.Play_selectedChannelDisplayname=qr.Play_selectedChannelDisplayname.split(ae)[1],qr.Play_selectedChannel_id=As):qr.Play_selectedChannel_id=qr.Main_selectedChannel_id,qr.Play_gameSelected=document.getElementById(Xs[5]+Us+"_"+Ns).textContent.split(v)[1],h_(d_)):Ns===1-e?h_(tl):Ns===2-e&&(iy=Ly,h_(ry))}}function Sd(){td={"Main_values.Main_selectedChannel_id":qr.Main_selectedChannel_id,"Main_values.Main_selectedChannelLogo":qr.Main_selectedChannelLogo,"Main_values.Main_selectedChannel":qr.Main_selectedChannel,"Main_values.Main_selectedChannelDisplayname":qr.Main_selectedChannelDisplayname,ChannelContent_UserChannels:zs,"Main_values.Main_BeforeChannel":qr.Main_BeforeChannel}}function Id(){qr.Main_selectedChannel_id=qr.Main_selectedChannel_id,qr.Main_selectedChannelLogo=qr.Main_selectedChannelLogo,qr.Main_selectedChannel=qr.Main_selectedChannel,qr.Main_selectedChannelDisplayname=qr.Main_selectedChannelDisplayname,zs=td.ChannelContent_UserChannels,qr.Main_BeforeChannel=qr.Main_BeforeChannel,nd=!(td={})}function Pd(e){if(!L_&&!n_())switch(t_(),e.keyCode){case Ua:gu()?vu():mu()?fu():(Md(),B_(Pd));break;case Ta:Us||(Md(),--Ns<0&&(Ns=Js?1:2),Cd());break;case Ga:Us||(Md(),(Js?1:2)<++Ns&&(Ns=0),Cd());break;case Ba:case Oa:Md(),Us=Us?0:1,Cd();break;case xa:case Pa:case La:case Aa:Ed()}}var xd=0,Ld=0,Td=!1,Bd=0,Gd={},Od=[],Ad=!1,Ud=0,Nd=5,Hd=3500,Fd=0,Dd=0,Rd=0,qd=!1,Vd=!1,Jd="",zd=!1,Xd=["cv_thumbdiv","cv_img","cv_infodiv","cv_title","cv_streamon","cv_duration","cv_viwers","cv_quality","cv_cell","cvempty_","channel_vod_scroll","cv_game"],jd=!1,Yd=!1,Wd="",Kd="",Zd="",$d="",Qd="",el=0;function tl(){qr.Main_CenterLablesVectorPos=1,qr.Main_Go=Lr,!qr.Search_isSearching&&qr.Main_selectedChannel_id&&Id(),qr.Main_selectedChannel!==Wd&&(jd=!1),Gu(),zc("label_side_panel","icon-arrow-circle-left",P),$c("top_bar_user",qr.Main_selectedChannelDisplayname),document.body.addEventListener("keydown",pl,!1),jd?(Ru(xd),$c("top_bar_game",Yd?U:A),jc(Xd[10]),_l(),xu()):al()}function nl(){jd&&fl(),Bu(),document.body.removeEventListener("keydown",pl),Xc(Xd[10])}function al(){jd&&fl(),Nu("stream_table_channel_vod"),Xc(Xd[10]),$c("top_bar_game",Yd?U:A),Qc(),uu(),Wd=qr.Main_selectedChannel,Dd=Fd=0,zd=jd=!1,Gd={},xd=Ld=Bd=0,Td=!(L_=!(Vd=!(Od=[]))),su(),il(),ol()}function il(){Fu(),Ad=!0,Ud=0,Hd=3500}function ol(){var e=Bd+Fd;e&&Dd-1<e&&(e=Dd-dc,Td=!0),J_("https://api.twitch.tv/kraken/channels/"+encodeURIComponent(qr.Main_selectedChannel_id)+"/videos?limit="+dc+"&broadcast_type="+(Yd?"highlight":"archive")+"&sort=time&offset="+e,Hd,2,null,dl,sl)}function sl(){++Ud<Nd?(Hd+=500,ol()):(Ad=!1,Bd?(Td=!0,ll()):(L_=!1,eu(),cu(T)))}function dl(e){var t=JSON.parse(e),n=t.videos.length;Dd=parseInt(t._total),n<dc&&(Td=!0);var a=Bd;qd=!(Bd+=n);var i=n/lc;0<n%lc&&i++;var o,s,d,l,r,c,u,_=0,f=document.getElementById("stream_table_channel_vod");if(!zd){zd=!0,d=document.createElement("tr");var m='<i class="icon-movie-play stream_channel_fallow_icon"></i>'+Ca+Ca+p;(Zr=document.createElement("td")).setAttribute("id",Xd[8]+"y_0"),Zr.className="stream_cell",Zr.innerHTML='<div id="'+Xd[0]+'y_0" class="stream_thumbnail_channel_vod" ><div id="'+Xd[3]+'y_0" class="stream_channel_fallow_game">'+m+"</div></div>",d.appendChild(Zr),f.appendChild(d)}for(var h=0;h<i;h++){for(s=a/lc+h,d=document.createElement("tr"),o=0;o<lc&&_<n;o++,_++)r=(l=t.videos[_])._id,c=-1!==((u=l.preview.template)+"").indexOf("404_processing"),s||o||!c||(c=!1,u=Nc),c||Gd[r]?o--:(Gd[r]=1,d.appendChild(GS(s,s+"_"+o,[r,l.length,l.language,l.game,l.channel.name,l.increment_view_count_url],[u.replace("{width}x{height}",Cc),gk.parse(l.title),F+Au(l.created_at),en+v+l.game,bu(l.views)+R,wu(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.language),D+Kh(l.length),l.animated_preview_url],Xd)));for(;o<lc;o++)Td&&!Vd&&(Vd=!0,Bd=s*lc+o),d.appendChild(Ju(Xd[9]+s+"_"+o)),Od.push(Xd[9]+s+"_"+o);f.appendChild(d)}ll()}function ll(){if(jd?(du(Ld,xd,lc,Bd),Hu(Nc)):(qd?cu(B+(Yd?U:A)+G+I):(jd=!0,Hu(Nc),_l(),xu()),jc(Xd[10]),L_=!1,eu()),0<Od.length&&!Td)return il(),void rl();Ad=!(Od=[])}function rl(){ru(Od.length);var e=Bd+Fd;e&&Dd-1<e&&(e=Dd-pc,Td=!0),J_("https://api.twitch.tv/kraken/channels/"+encodeURIComponent(qr.Main_selectedChannel_id)+"/videos?limit="+pc+"&broadcast_type="+(Yd?"highlight":"archive")+"&sort=time&offset="+e,Hd,2,null,ul,cl)}function cl(){++Ud<Nd?(Hd+=500,rl()):(Td=!0,Bd-=Od.length,Od=[],ll())}function ul(e){var t,n,a=JSON.parse(e),i=a.videos.length,o=0,s=0,d=[];for(Dd=parseInt(a._total);o<Od.length&&s<i;o++,s++)n=(t=a.videos[s])._id,-1!==(t.preview.template+"").indexOf("404_processing")||Gd[n]?o--:(Gd[n]=1,AS(Od[o],[n,t.length,t.language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",Cc),gk.parse(t.title),F+Au(t.created_at),en+v+t.game,bu(t.views)+R,wu(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.language),D+Kh(t.length),t.animated_preview_url],Xd),d.push(o));for(o=d.length-1;-1<o;o--)Od.splice(d[o],1);Fd+=s,Td&&(Bd-=Od.length,Od=[]),ll()}function _l(){xd<0?ml():(i_(xd,Ld,Xd,lc,Bd),zS(Xd,xd+"_"+Ld),Bd/lc<xd+rc&&!Td&&!Ad&&(il(),ol()),zr&&fl())}function fl(){window.clearInterval(aS),-1<xd&&Bd?(jc(Xd[1]+xd+"_"+Ld),__(xd+"_"+Ld,Xd)):hl()}function ml(){Wc(Xd[0]+"y_0",Ec)}function hl(){Kc(Xd[0]+"y_0",Ec)}function pl(e){var t;if(!L_&&!n_())switch(t_(),e.keyCode){case Ua:gu()?vu():mu()?fu():(fl(),B_(pl));break;case Ta:if(Cu(xd,Ld-1,Xd[0]))fl(),Ld--,_l();else for(t=lc-1;-1<t;t--)if(Cu(xd-1,t,Xd[0])){fl(),xd--,Ld=t,_l();break}break;case Ga:Cu(xd,Ld+1,Xd[0])?(fl(),Ld++,_l()):Cu(xd+1,0,Xd[0])&&(fl(),xd++,Ld=0,_l());break;case Ba:if(-1!==xd||qd)if(xd){for(t=0;t<lc;t++)if(Cu(xd-1,Ld-t,Xd[0])){fl(),xd--,Ld-=t,_l();break}}else fl(),xd=-1,ml();else xd=0,hl(),_l();break;case Oa:if(-1!==xd||qd){for(t=0;t<lc;t++)if(Cu(xd+1,Ld-t,Xd[0])){fl(),xd++,Ld-=t,_l();break}}else xd=0,hl(),_l();break;case xa:case Pa:case La:case Aa:-1===xd?(H_("ChannelVod_highlight",(Yd=!Yd)?"true":"false"),al()):r_(xd+"_"+Ld,Xd,pl)}}var vl,gl,yl,bl,wl,kl=!1,Cl=0,Ml=[],El=[],Sl=10,Il=null,Pl=0,xl="",Ll=["ff0000","ff4000","ff8000","ffbf00","ffff00","bfff00","80ff00","40ff00","00ff00","00ff40","00ff80","00ffbf","00ffff","00bfff","0080ff","0040ff","ff00ff","ff00bf","ff0080","ff0040"],Tl=Ll.length,Bl=0,Gl=!1,Ol=0;function Al(){bl=document.getElementById("chat_box"),Fl()}function Ul(){tr(),Bc&&qr.Play_ChatForceDisable?(kl||Fl(),h_(function(){Vl(Ol=(new Date).getTime())})):dr()}function Nl(a){return Object.keys(a).map(function(n){var e=a[n];return e.type=n,e.versions=Object.keys(a[n].versions).map(function(e){var t=a[n].versions[e];return t.type=e,t}),e})}function Hl(e,t,n,a){var i=document.createElement("style");i.type="text/css",i.innerHTML="."+e+"-"+t+' { background-image: url("'+n.replace("http:","https:")+'"); }',a?document.head.appendChild(i):bl.appendChild(i)}function Fl(){Cl=0,kl=!1,Dl()}function Dl(){J_("https://badges.twitch.tv/v1/badges/global/display",1e4,0,null,ql,Rl)}function Rl(){++Cl<Sl?Dl():kl=!1}function ql(e){Nl(JSON.parse(e).badge_sets).forEach(function(t){t.versions.forEach(function(e){Hl(t.type,e.type,e.image_url_4x,!0)})}),kl=!0}function Vl(e){Cl=0,Jl(e)}function Jl(e){var t,n="https://badges.twitch.tv/v1/badges/channels/"+qr.Main_selectedChannel_id+"/display";if(Bc){if(!(t=Android.mreadUrl(n,1e4,0,null)))return void(Ol===e&&zl(e));if(200===(t=JSON.parse(t)).status)return void(Ol===e&&Xl(t.responseText,e));Ol===e&&zl(e)}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=1e4,t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void(Ol===e&&Xl(t.responseText,e));Ol===e&&zl(e)}},t.send(null)}function zl(e){Cl++,Ol===e&&(Cl<Sl?Jl(e):wl=window.setTimeout(function(){Jl(e)},2500))}function Xl(e,t){Nl(JSON.parse(e).badge_sets).forEach(function(t){t.versions.forEach(function(e){Hl(t.type,e.type,e.image_url_4x,!1)})}),Ol===t&&jl(t)}function jl(e){Cl=0,Ol===e&&Yl(e)}function Yl(e){var t,n="https://api.twitch.tv/v5/videos/"+qr.ChannelVod_vodId+"/comments?client_id="+vc+(Pl?"&content_offset_seconds="+parseInt(Pl):"");if(Bc){if(!(t=Android.mreadUrl(n,1e4,0,null)))return void(Ol===e&&Wl(e));if(200===(t=JSON.parse(t)).status)return void(Ol===e&&Kl(t.responseText,e));Ol===e&&Wl(e)}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=1e4,t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void(Ol===e&&Kl(t.responseText,e));Ol===e&&Wl(e)}},t.send(null)}function Wl(e){Cl++,Ol===e&&(Cl<Sl?Yl(e):gl=window.setTimeout(function(){Yl(e)},2500))}function Kl(e,t){e=JSON.parse(e);var n,a,i=null===Il;i&&(n="&nbsp;",n+='<span class="message">',n+=la+Mn+qr.Main_selectedChannelDisplayname+" "+xl,Zl(n+="</span>",0)),Pl=0,Il=e._next,e.comments.forEach(function(e){n="",(a=e.message).hasOwnProperty("user_badges")&&a.user_badges.forEach(function(e){n+='<span class="'+e._id+"-"+e.version+' tag"></span>'}),n+='<span class="nick" style="color: #'+Ll[e.commenter.display_name.charCodeAt(0)%Tl]+';">'+e.commenter.display_name+"</span>&#58;&nbsp;",n+='<span class="message">',a.fragments.forEach(function(e){e.hasOwnProperty("emoticon")?n+='<img class="emoticon" src="https://static-cdn.jtvnw.net/emoticons/v1/'+e.emoticon.emoticon_id+'/1.0" srcset="https://static-cdn.jtvnw.net/emoticons/v1/'+e.emoticon.emoticon_id+"/2.0 2x, https://static-cdn.jtvnw.net/emoticons/v1/"+e.emoticon.emoticon_id+'/3.0 4x">':n+=gk.parse(e.text)}),n+="</span>",i?Zl(n,e.content_offset_seconds):void 0!==Il&&$l(n,e.content_offset_seconds)}),i&&Ol===t&&(Ql(t),void 0!==Il&&ar(t))}function Zl(e,t){Ml.push({time:t,message:e})}function $l(e,t){El.push({time:t,message:e})}function Ql(e){Gl||Ol!==e||(vl=window.setInterval(function(){nr(e),bl.scrollTop=bl.scrollHeight},1e3))}function er(){Gl||(window.clearInterval(wl),window.clearInterval(vl),window.clearInterval(gl),window.clearInterval(yl))}function tr(){er(),Ol=0,Nu("chat_box"),Gl=!1,Il=null,Ml=[],El=[],Bl=0}function nr(e){var t,n;if(Bl<Ml.length-1)for(n=Bl;n<Ml.length&&Ml[n].time<el+Android.gettime()/1e3;n++,Bl++)(t=document.createElement("div")).className="chat_line",t.innerHTML=Ml[n].message,bl.appendChild(t);else if(er(),void 0!==Il){Ml=El.slice(),Bl=0,Ql(e),El=[],Ol===e&&ar(e);var a=document.getElementsByClassName("chat_line");if(0<a.length-100)for(n=0;n<a.length-100;n++)a[0].parentNode.removeChild(a[0]);bl.scrollTop=bl.scrollHeight}else{var i="&nbsp;";i+='<span class="message">',i+=la+la+Pn+la+la,i+="</span>",(t=document.createElement("div")).className="chat_line",t.innerHTML=i,bl.appendChild(t),Gl=!0,bl.scrollTop=bl.scrollHeight,window.clearInterval(vl),vl=window.setInterval(function(){bl.scrollTop=bl.scrollHeight},250)}}function ar(e){Cl=0,Gl||Ol!==e||ir(e)}function ir(e){var t,n="https://api.twitch.tv/v5/videos/"+qr.ChannelVod_vodId+"/comments?client_id="+vc+(null!==Il?"&cursor="+Il:"");if(Bc){if(!(t=Android.mreadUrl(n,1e4,0,null)))return void(Gl||Ol!==e||or(e));if(200===(t=JSON.parse(t)).status)return void(Gl||Ol!==e||Kl(t.responseText,e));Gl||Ol!==e||or(e)}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=1e4,t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void(Gl||Ol!==e||Kl(t.responseText,e));Gl||Ol!==e||or(e)}},t.send(null)}function or(e){Cl++,Ol===e&&(Cl<Sl?ir(e):yl=window.setTimeout(function(){ir(e)},2500))}function sr(){Ol=0,lr(_n+la+fn)}function dr(){tr(),Xc("chat_frame"),jc("chat_box"),lr(na)}function lr(e){var t="&nbsp;";t+='<span class="message">',t+=la+la+la+la+la+la+la+la+la+la,t+=e,t+="</span>";var n=document.createElement("div");n.className="chat_line",n.innerHTML=t,bl.appendChild(n)}var rr,cr,ur,_r,fr,mr,hr,pr=!0,vr=-1,gr=new Image,yr=1,br=2,wr=3,kr=4,Cr=5,Mr=6,Er=7,Sr=8,Ir=9,Pr=10,xr=11,Lr=12,Tr=13,Br=14,Gr=15,Or=16,Ar=17,Ur=18,Nr=19,Hr=20,Fr=21,Dr=22,Rr="",qr={Main_Go:1,Main_Before:1,Main_BeforeSearch:1,Main_BeforeChannel:1,Main_BeforeAgame:wr,Main_BeforeChannelisSet:!1,Main_BeforeAgameisSet:!1,Main_selectedChannel:"",Main_selectedChannelDisplayname:"",Main_selectedChannelLogo:"",Main_selectedChannel_id:"",Main_gameSelected:"",Main_OldgameSelected:null,Play_isHost:!1,Play_DisplaynameHost:"",Play_selectedChannelDisplayname:"",Play_selectedChannel:"",Play_gameSelected:"",Users_Position:0,Users_AddcodePosition:0,Play_WasPlaying:0,ChannelVod_vodId:"",vodOffset:0,Search_data:"",isLastSChannels:!1,gameSelectedOld:"",Games_return:!1,Search_isSearching:!1,Play_ChatForceDisable:!1,Never_run:!0,Main_CenterLablesVectorPos:0},Vr=!0,Jr=!0,zr=!1,Xr=[],jr=0,Yr=0,Wr=null,Kr=!0,Zr="",$r=!1,Qr="",ec=["label_side_panel","label_extra","label_refresh","label_switch","top_bar_live","top_bar_user","top_bar_featured","top_bar_game","top_bar_vod","top_bar_clip"],tc=[],nc=0,ac=!0,ic=0,oc=1.35,sc=1.5,dc=45,lc=3,rc=Math.floor(dc/lc/sc),cc=45,uc=5,_c=Math.floor(cc/uc/oc),fc=48,mc=6,hc=Math.floor(fc/mc/sc),pc=6,vc="5seja5ptej058mxqy7gh5tcudjqtm9",gc="Client-ID",yc="Accept",bc="Authorization",wc="OAuth ",kc="application/vnd.twitchtv.v5+json",Cc="528x297",Mc="340x475",Ec="stream_thumbnail_focused",Sc="data_attribute",Ic="1.0",Pc=".10",xc="042019",Lc=Ic+Pc+"-"+xc,Tc=0,Bc=0,Gc="?"+Math.random(),Oc="https://fgl27.github.io/SmartTwitchTV/release/githubio/images/",Ac=Oc+"404_game.png",Uc=Oc+"404_logo.png",Nc=Oc+"404_video.png",Hc="https://cors-anywhere.herokuapp.com/",Fc=function(e,t,n){e.onerror=function(){this.src=n},e.src=t};function Dc(){"loading"===document.readyState?document.addEventListener("DOMContentLoaded",function(){Rc(window.navigator.userLanguage||window.navigator.language)}):Rc(window.navigator.userLanguage||window.navigator.language)}function Rc(e){f_(),h_(function(){try{Bc=Android.getAndroid()}catch(e){Bc=0,document.body.style.backgroundColor="rgba(0, 0, 0, 1)"}ok(),Ia(),console.log("language is "+e),Sa(),-1!==window.location.href.indexOf("code")&&V_(window.location.href),qc()})}function qc(){oy(),Vc(!0),rr=document.getElementById("scrollbar"),Lu(),Rr=qr.Main_Go,h_(function(){hh(),no(),ao()&&(hr=window.setInterval(y_,6e5),y_()),document.body.addEventListener("keyup",Qu,!1),sy(),Al(),document.getElementById("side_panel").style.marginLeft="",Uu(),Jc(),CS=R_("Vod_highlight",!1),Yd=R_("ChannelVod_highlight",!1),ps=R_("AGameVod_highlight",!1),UE=R_("UserVod_highlight",!1),yS=F_("vod_periodNumber",2),_s=F_("AGameVod_periodNumber",2),BE=F_("UserVod_TypeNumber",1),jg(),cr=document.getElementById("search_input"),ur=document.getElementById("user_input"),Vu(Nc),Vu(Ac),Vu(Uc),document.addEventListener("visibilitychange",v_,!1),fr=window.setInterval(g_,6e4),iy=Oy,ry(),_r=window.setTimeout(Eu,5e3),jc("topbar")})}function Vc(e){g_(),zc("label_refresh","icon-refresh",t+Zt),zc("label_switch","icon-switch",l),zc("label_side_panel","icon-ellipsis",Rn),zc("icon_feed_refresh","icon-refresh",t+" Press up"),$c("top_bar_live",_),$c("top_bar_user",e?u:a),$c("top_bar_featured",ln),$c("top_bar_game",f),$c("top_bar_vod",nn),$c("top_bar_clip",N),Zc("scene2_search_text",Ca+n),Zc("scene2_channel_text",Ca+Dt),Zc("scene2_game_text",Ca+zt),$c("dialog_end_replay_text",on),$c("dialog_end_vod_text",cn),$c("dialog_end_channel_text",Dt),$c("dialog_end_game_text",zt),Zc("dialog_about_text",ga+ya),tc=[le,re,ce,ue],e?Qw():(ik(),Uu())}function Jc(){$c("play_dialog_exit_text",V),$c("side_panel_search",n),$c("side_panel_settings",a),$c("side_panel_about",i),$c("side_panel_controls",e),$c("side_panel_exit",z),$c("side_panel_live",_),$c("side_panel_user",u),$c("side_panel_featured",ln),$c("side_panel_games",f),$c("side_panel_videos",nn),$c("side_panel_clips",N),$c("side_panel_hide",o),$c("chanel_button",S),$c("game_button",f),$c("live_button",_),$c("exit_app_cancel",Y),$c("exit_app_close",X),$c("remove_cancel",Y),$c("remove_yes",Xt),$c("exit_app_minimize",j),$c("main_dialog_exit_text",J),Zc("dialog_controls_text",va),$c("dialog_vod_text",En),Zc("dialog_vod_start_text",In)}function zc(e,t,n){Zc(e,'<div class="strokedextramini" style="vertical-align: middle; display: inline-block;"><i class="'+t+'" style="color: #FFFFFF; font-size: 115%; "></i></div><div class="strokedextramini" style="vertical-align: middle; display: inline-block">'+Ca+n+"</div>")}function Xc(e){document.getElementById(e).classList.add("hide")}function jc(e){document.getElementById(e).classList.remove("hide")}function Yc(e){return-1===document.getElementById(e).className.indexOf("hide")}function Wc(e,t){document.getElementById(e).classList.add(t)}function Kc(e,t){document.getElementById(e).classList.remove(t)}function Zc(e,t){document.getElementById(e).innerHTML=t}function $c(e,t){document.getElementById(e).textContent=t}function Qc(){Ru(-1),Bc?Android.mshowLoading(!0):jc("dialog_loading")}function eu(){Bc?Android.mshowLoading(!1):Xc("dialog_loading")}function tu(){window.clearTimeout(Wr)}function nu(){Wr=window.setTimeout(iu,6e3)}function au(){nu(),jc("main_dialog_exit"),document.body.addEventListener("keydown",I_,!1)}function iu(){document.body.removeEventListener("keydown",I_,!1),B_(mr),tu(),Xc("main_dialog_exit"),Yr=0,ou()}function ou(){Kc("exit_app_cancel","button_search_focused"),Kc("exit_app_minimize","button_search_focused"),Kc("exit_app_close","button_search_focused"),Wc(Yr?1===Yr?"exit_app_minimize":"exit_app_close":"exit_app_cancel","button_search_focused")}function su(){Nu("dialog_counter_text"),lu(0,0,0)}function du(e,t,n,a){0<a?($c("dialog_counter_text",t*n+(e+1)+"/"+a),lu(t,n,a)):su()}function lu(e,t,n){var a=screen.height/100*7;if(3===t&&9<n||5===t&&10<n||6===t&&12<n){var i=qr.Main_Go===kr||qr.Main_Go===Nr||qr.Main_Go===Hr||qr.Main_Go===Lr||qr.Main_Go===Dr||qr.Main_Go===Ar||qr.Main_Go===Ur||qr.Main_Go===Tr,o=Math.ceil((screen.height-3*a)/(Math.ceil(n/t)-1)*e+a*(i?1.8:1));rr.style.top=o+"px",Kr&&(Kr=!1,rr.style.backgroundColor="#777777")}else rr.style.backgroundColor="#000000",rr.style.top=a+"px",Kr=!0}function ru(e){(pc=12)/3<e&&(pc=3*e),99<pc&&(pc=99)}function cu(e){$c("dialog_warning_text",e),jc("dialog_warning")}function uu(){Xc("dialog_warning")}function _u(){vu(),yu(),jc("dialog_about")}function fu(){Xc("dialog_about")}function mu(){return Yc("dialog_about")}function hu(){vu(),yu(),uu(),Tu(qr.Main_Go),su(),Zw()}function pu(){fu(),yu(),jc("dialog_controls")}function vu(){Xc("dialog_controls")}function gu(){return Yc("dialog_controls")}function yu(){Xc("dialog_update")}function bu(e){return(e+"").replace(/\B(?=(\d{3})+(?!\d))/g,",")}function wu(e,t,n){return(e+="").indexOf("x")||(e=e.slice(-3)),e+"p"+(t=58<t?60:t<32?30:Math.ceil(t))+(""!==n?" ["+n.toUpperCase()+"]":"")}function ku(e){return-1!==e.indexOf("live")?"":W}function Cu(e,t,n){return null!==document.getElementById(n+e+"_"+t)}function Mu(){g_(),Iu(),document.body.addEventListener("keyup",Qu,!1)}function Eu(){for(var e,t=0;t<ec.length;t++)t<4?document.getElementById(ec[t]).style.opacity="0.5":-1===(e=document.getElementById(ec[t])).className.indexOf("icon_center_focus")&&(e.style.opacity="0.5");Wc("topbar","topbar_dim")}function Su(){for(var e=0;e<ec.length;e++)document.getElementById(ec[e]).style.opacity="1";Kc("topbar","topbar_dim")}function Iu(e){window.clearTimeout(_r),Su(),h_(function(){Pu(e)})}function Pu(e){qr.Main_Go!==xr&&(qr.Main_BeforeChannelisSet=!1),qr.Main_Go!==kr&&(qr.Main_BeforeAgameisSet=!1),su(),qr.Main_Go===yr?(iy=Oy,ry()):qr.Main_Go===br?zi():qr.Main_Go===wr?(iy=By,ry()):qr.Main_Go===kr?Lo():qr.Main_Go===Sr?sw():qr.Main_Go===Ir?zb():qr.Main_Go===Pr?Bw():qr.Main_Go===xr?ad():qr.Main_Go===Lr?tl():qr.Main_Go===Tr?(iy=Ly,ry()):qr.Main_Go===Br?eE():qr.Main_Go===Cr?xM():qr.Main_Go===Mr?cC():qr.Main_Go===Er?(iy=Gy,ry()):qr.Main_Go===Gr?Ok():qr.Main_Go===Or?vb():qr.Main_Go===Ar?SS():qr.Main_Go===Ur?(iy=xy,ry()):qr.Main_Go===Nr?gs():qr.Main_Go===Hr?(iy=Ty,ry()):qr.Main_Go===Fr?(iy=Ay,ry()):qr.Main_Go===Dr&&NE(),_r=window.setTimeout(Eu,3e3),e&&U_()}function xu(){H_("Main_values",JSON.stringify(qr))}function Lu(){qr=ly(qr,D_("Main_values",{}))}function Tu(e){e===yr?cy():e===br?Xi():e===wr?cy():e===kr?To():e===Sr?dw():e===Ir?Xb():e===Pr?Gw():e===xr?id():e===Lr?nl():e===Tr?cy():e===Br?tE():e===Cr?LM():e===Mr?uC():e===Er?cy():e===Gr?Ak():e===Or?gb():e===Ar?IS():e===Ur?cy():e===Nr?ys():e===Hr?cy():e===Fr?cy():e===Dr&&HE(),Yc("settings_scroll")&&$w()}function Bu(){zc("label_refresh","icon-refresh",t+Zt),zc("label_side_panel","icon-ellipsis",Rn),Xc("label_switch"),Kc("top_bar_user","icon_center_focus"),$c("top_bar_live",_),$c("top_bar_user",u),$c("top_bar_featured",ln),$c("top_bar_game",f),$c("top_bar_vod",nn),$c("top_bar_clip",N)}function Gu(){zc("label_side_panel","icon-arrow-circle-left",P),Nu("top_bar_live"),Nu("top_bar_game"),Nu("top_bar_vod"),Nu("top_bar_clip"),Nu("top_bar_featured"),Wc("top_bar_user","icon_center_focus")}function Ou(e){return'<div style="font-size: 30%; position: fixed; line-height: 0; text-shadow: #000000 0 0 5.7px, #000000 0 0 5.7px, #000000 0 0 4px">'+e+"</div>"}function Au(e){return e=new Date(e),$r?e.getDate()+" "+$t[e.getMonth()]+", "+e.getFullYear():$t[e.getMonth()]+" "+e.getDate()+", "+e.getFullYear()}function Uu(){if(Bc)try{Lc="Android: "+Android.getversion()+" Web: "+xc}catch(e){}Zc("dialog_about_text",ga+be+Lc+ya)}function Nu(e){for(e=document.getElementById(e);e.firstChild;)e.removeChild(e.firstChild)}function Hu(e){for(var t,n=0;n<Xr.length;n++)null!==(t=document.getElementById(Xr[n].id))&&Fc(t,Xr[n].src+Gc,e)}function Fu(){Xr=[]}function Du(e,t){Xr.push({id:e,src:t})}function Ru(e){vr=e}function qu(e){var t=0;return vr<e?t=-1:e<vr&&(t=1),vr=e,t}function Vu(e){gr.src=e}function Ju(e){return(Zr=document.createElement("td")).setAttribute("id",e),Zr.className="stream_cell",Zr}function zu(e,t,n){return(Zr=document.createElement("td")).setAttribute("id",t[4]+e),Zr.setAttribute(Sc,n[0]),Zr.setAttribute("data-id",n[1]),Zr.className="stream_cell",Zr.innerHTML=ju(e,t,n),Zr}function Xu(e,t,n){var a=document.getElementById(e),i=e.split(n[5])[1];a.setAttribute(Sc,t[0]),a.setAttribute("data-id",t[1]),a.innerHTML=ju(i,n,t),a.setAttribute("id",n[4]+i)}function ju(e,t,n){return Du(t[1]+e,n[2]),'<div id="'+t[0]+e+'" class="stream_thumbnail_channel" ><img id="'+t[1]+e+'" class="stream_img"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel">'+n[3]+"</div></div>"}function Yu(e,t,n,a,i){return e<lc&&Vu(i[0]),(Zr=document.createElement("td")).setAttribute("id",a[8]+t),Zr.setAttribute(Sc,JSON.stringify(n)),Zr.className="stream_cell",Zr.innerHTML=Ku(t,a,i),Zr}function Wu(e,t,n,a){var i=document.getElementById(e),o=e.split(a[9])[1];i.setAttribute(Sc,JSON.stringify(t)),i.innerHTML=Ku(o,a,n),i.setAttribute("id",a[8]+o)}function Ku(e,t,n){return Du(t[1]+e,n[0]),'<div id="'+t[0]+e+'" class="stream_thumbnail_video" ><img id="'+t[1]+e+'" class="stream_img"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;">'+n[1]+'</div><div id="'+t[7]+e+'"class="stream_info" style="width:33%; float: right; text-align: right; display: inline-block;">'+n[5]+'</div><div id="'+t[4]+e+'"class="stream_info">'+gk.parse(n[2])+'</div><div id="'+t[5]+e+'"class="stream_info">'+v+n[3]+'</div><div id="'+t[6]+e+'"class="stream_info">'+n[4]+"</div></div>"}function Zu(e,t,n){return(Zr=document.createElement("td")).setAttribute("id",t[5]+e),Zr.setAttribute(Sc,n[0]),Zr.className="stream_cell",Zr.innerHTML=$u(e,t,n),Zr}function $u(e,t,n){return Du(t[1]+e,n[1]),'<div id="'+t[0]+e+'" class="stream_thumbnail_game" ><img id="'+t[1]+e+'" class="stream_img"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel">'+n[0]+'</div><div id="'+t[4]+e+'"class="stream_info_games" style="width: 100%; display: inline-block;">'+n[2]+"</div></div>"}function Qu(){Jr=!0}function e_(){Vr=!0}function t_(){Vr=!1,window.setTimeout(e_)}function n_(){return!Vr||!Jr}function a_(e,t,n,a,i){Wc(n[0]+e+"_"+t,Ec),du(t,e,a,i),qu(e)?1<e?Cu(e+1,0,n[0])?u_(n[6],-1*document.getElementById(n[4]+e+"_"+t).offsetTop+.42*screen.height):Qu():u_(n[6],.07*screen.height):Qu()}function i_(e,t,n,a,i){Wc(n[0]+e+"_"+t,Ec),du(t,e,a,i),qu(e)?e?Cu(e+1,0,n[0])&&u_(n[10],-1*document.getElementById(n[8]+(e-1)+"_"+t).offsetTop):u_(n[10],.07*screen.height):Qu()}function o_(e,t,n,a,i){Wc(n[0]+e+"_"+t,Ec),du(t,e,a,i),qu(e)?u_(n[10]?n[10]:n[7],e?-1*document.getElementById(n[5]+(e-1)+"_"+t).offsetTop+.025*screen.height:-1*document.getElementById(n[5]+e+"_"+t).offsetTop+.025*screen.height):Qu()}function s_(e,t,n){document.body.removeEventListener("keydown",n),qr.Play_selectedChannel=JSON.parse(document.getElementById(t[8]+e).getAttribute(Sc)),qr.Play_selectedChannel_id=qr.Play_selectedChannel[1],qr.Play_selectedChannel=qr.Play_selectedChannel[0],qr.Main_Go===Mr?(qr.Play_DisplaynameHost=document.getElementById(t[3]+e).textContent,qr.Play_selectedChannelDisplayname=qr.Play_DisplaynameHost.split(ae)[1],qr.Play_isHost=!0):qr.Play_selectedChannelDisplayname=document.getElementById(t[3]+e).textContent,qr.Play_gameSelected=document.getElementById(t[5]+e).textContent.split(v)[1],qr.Main_Go===kr&&(qr.Main_OldgameSelected=qr.Main_gameSelected),d_()}function d_(){document.body.addEventListener("keydown",fv,!1),Xc("scene1"),jc("scene2"),yp(),Sp(),Vp(),ao()&&!EC&&AC&&dM(),h_(gh)}function l_(e,t,n){document.body.removeEventListener("keydown",n),Dy=JSON.parse(document.getElementById(t[8]+e).getAttribute(Sc)),vf=parseInt(Dy[1]),qr.Play_gameSelected=Dy[2],qr.Main_selectedChannel=Dy[3],qr.Main_selectedChannelDisplayname=Dy[4],qr.Main_selectedChannelLogo=Dy[5],qr.Main_selectedChannel_id=Dy[6],qr.ChannelVod_vodId=Dy[7],el=parseInt(Dy[8]),Fy=Dy[9],qy=Dy[10],Ny=Dy[11],Dy=Dy[0],Ry=document.getElementById(t[4]+e).textContent,Hy=document.getElementById(t[6]+e).textContent,document.body.addEventListener("keydown",Df,!1),Xc("scene1"),jc("scene2"),Sp(),hp(),lp(),up(),ao()&&!EC&&AC&&dM(),h_(gf)}function r_(e,t,n){document.body.removeEventListener("keydown",n),qr.ChannelVod_vodId=JSON.parse(document.getElementById(t[8]+e).getAttribute(Sc)),Rd=parseInt(qr.ChannelVod_vodId[1]),Jd=qr.ChannelVod_vodId[2],qr.Play_gameSelected=qr.ChannelVod_vodId[3],qr.Main_selectedChannel=qr.ChannelVod_vodId[4],dh=qr.ChannelVod_vodId[5],qr.ChannelVod_vodId=qr.ChannelVod_vodId[0].substr(1),qr.Main_Go===Lr?Kd=document.getElementById(t[3]+e).innerHTML:(Kd="",qr.Main_selectedChannelDisplayname=document.getElementById(t[3]+e).textContent),$d=document.getElementById(t[4]+e).textContent,Qd=document.getElementById(t[5]+e).textContent,Zd=document.getElementById(t[11]+e).innerHTML+", "+document.getElementById(t[6]+e).textContent,c_()}function c_(){document.body.addEventListener("keydown",ay,!1),Xc("scene1"),jc("scene2"),Tg(),Sp(),hp(),up(),Zv=!1,ao()&&!EC&&AC&&dM(),h_(ig)}function u_(e,t){document.getElementById(e).style.top=t+"px",window.setTimeout(Qu,10)}function __(e,t){Jr=!1,Kc(t[0]+e,Ec)}function f_(){var e=document.createElement("span");e.className="fa",e.style.display="none",document.body.insertBefore(e,document.body.firstChild),"icons"!==window.getComputedStyle(e,null).getPropertyValue("font-family")?(pr||console.log("Main_Checktylesheet reloading"),m_("https://fgl27.github.io/SmartTwitchTV/release/githubio/css/icons.min.css")):pr||console.log("Main_Checktylesheet loaded OK"),document.body.removeChild(e)}function m_(e){var t=document.createElement("link");t.rel="stylesheet",t.href=e,document.getElementsByTagName("head")[0].appendChild(t)}function h_(e){"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?window.setTimeout(e):document.addEventListener("DOMContentLoaded",e)}function p_(){var e=(new Date).getTime()+Tc;return e=new Date(e),($r?Qt[e.getDay()]+" "+e.getDate()+"/"+$t[e.getMonth()]:Qt[e.getDay()]+" "+$t[e.getMonth()]+"/"+e.getDate())+" "+Wh(e.getHours())+":"+Wh(e.getMinutes())}function v_(){document.hidden||(g_(),window.setTimeout(g_,2e4))}function g_(){document.hidden||($c("label_clock",p_()),Gc="?"+Math.random())}function y_(){document.hidden||ao()&&window.setTimeout(function(){ZC()||EC||(sm=Ri[qr.Users_Position].name,FC())},5e3)}function b_(){Wc("side_panel_"+ic,"side_panel_text_focus")}function w_(){Kc("side_panel_"+ic,"side_panel_text_focus")}function k_(){ic?1===ic?hu():2===ic?(document.body.addEventListener("keydown",mr,!1),_u()):3===ic?(document.body.addEventListener("keydown",mr,!1),pu()):4===ic?au(mr):5===ic?C_(yr):6===ic?C_(co()?Br:br):7===ic?C_(Fr):8===ic?C_(wr):9===ic?C_(Ar):10===ic&&C_(Ur):qr.Main_Go!==Sr?(qr.Search_isSearching||qr.Main_Go!==xr&&qr.Main_Go!==Tr&&qr.Main_Go!==Lr||Sd(),qr.Main_BeforeSearch=qr.Main_Go,qr.Main_Go=Sr,Tu(qr.Main_BeforeSearch),Iu()):document.body.addEventListener("keydown",mr,!1),E_()}function C_(e){e===qr.Main_Go?document.body.addEventListener("keydown",mr,!1):(qr.Main_Before=qr.Main_Go,qr.Main_Go=e,Tu(qr.Main_Before),Iu())}function M_(e){mr=e,document.body.removeEventListener("keydown",mr),document.body.addEventListener("keydown",S_,!1),Kc("side_panel","side_panel_hide")}function E_(){document.body.removeEventListener("keydown",S_),Wc("side_panel","side_panel_hide"),w_(),ic=0,b_()}function S_(e){switch(e.keyCode){case Ua:case Ta:document.body.addEventListener("keydown",mr,!1),E_(),O_();break;case Ba:ic&&(w_(),ic--,b_());break;case Oa:ic<10&&(w_(),ic++,b_());break;case Aa:k_()}}function I_(e){switch(e.keyCode){case Ua:iu();break;case Ga:2<++Yr&&(Yr=0),ou(),tu(),nu();break;case Ta:--Yr<0&&(Yr=2),ou(),tu(),nu();break;case Aa:Yr?Bc&&1===Yr?Android.mclose(!1):Bc&&2===Yr&&Android.mclose(!0):iu()}}Dc();var P_=["top_bar_live","top_bar_user","top_bar_featured","top_bar_game","top_bar_vod","top_bar_clip"],x_=[yr,Br,Fr,wr,Ar,Ur],L_=!1;function T_(e){if(!(L_||iy.FirstLoad||n_()))switch(e.keyCode){case Ua:gu()?(O_(),vu()):mu()?(O_(),fu()):qr.Main_Go===kr?(qr.Main_OldgameSelected=qr.Main_gameSelected,qr.Games_return?(qr.Main_Go=Ir,qr.Main_gameSelected=qr.gameSelectedOld):(qr.Main_Go=qr.Main_BeforeAgame,qr.Main_BeforeAgame=yr),To(),G_(),Pu()):qr.Main_Go===Hr?(Ey(kr),G_(),Pu()):qr.Main_Go===Er?(Ey(Br),G_(),Pu()):qr.Main_Go===Tr?(Ey(xr),G_(),Pu()):qr.Main_Go===Nr?(qr.Main_Go=kr,ys(),G_(),Pu()):qr.Main_Go===Cr?(qr.Main_Go=Br,LM(),G_(),Pu()):qr.Main_Go===Mr?(qr.Main_Go=Br,uC(),G_(),Pu()):qr.Main_Go===Dr?(qr.Main_Go=Br,HE(),G_(),Pu()):qr.Main_Go===Gr?(qr.Main_Go=Br,Ak(),G_(),Pu()):qr.Main_Go===xr?(qr.Main_Go=qr.Main_BeforeChannel,qr.Main_BeforeChannel=yr,id(),qr.Main_selectedChannel_id="",G_(),Pu()):qr.Main_Go===Lr?(qr.Main_Go=xr,nl(),G_(),Pu()):qr.Main_Go===Pr?(qr.Main_Go===qr.Main_BeforeSearch?qr.Main_Go=yr:qr.Main_Go=qr.Main_BeforeSearch,Gw(),qr.Search_isSearching=!1,G_(),Pu()):qr.Main_Go===Ir?(qr.Main_Go===qr.Main_BeforeSearch?qr.Main_Go=yr:qr.Main_Go=qr.Main_BeforeSearch,qr.Search_isSearching=!1,Xb(),G_(),Pu()):qr.Main_Go===Or?(qr.Main_Go===qr.Main_BeforeSearch?qr.Main_Go=yr:qr.Main_Go=qr.Main_BeforeSearch,qr.Main_selectedChannel_id&&Id(),gb(),qr.Search_isSearching=!1,G_(),Pu()):(G_(),M_(T_));break;case Ga:if(qr.Search_isSearching||qr.Main_Go===xr||qr.Main_Go===Lr||qr.Main_Go===Tr||qr.Main_Go===Pr||qr.Main_Go===Ir||qr.Main_Go===Or)break;Kc(P_[qr.Main_CenterLablesVectorPos],"icon_center_line"),qr.Main_CenterLablesVectorPos++,5<qr.Main_CenterLablesVectorPos&&(qr.Main_CenterLablesVectorPos=0),O_(),A_();break;case Ta:if(qr.Search_isSearching||qr.Main_Go===xr||qr.Main_Go===Lr||qr.Main_Go===Tr||qr.Main_Go===Pr||qr.Main_Go===Ir||qr.Main_Go===Or)break;Kc(P_[qr.Main_CenterLablesVectorPos],"icon_center_line"),qr.Main_CenterLablesVectorPos--,qr.Main_CenterLablesVectorPos<0&&(qr.Main_CenterLablesVectorPos=5),O_(),A_();break;case Oa:Kc(P_[qr.Main_CenterLablesVectorPos],"icon_center_line"),document.body.removeEventListener("keydown",T_),zr=!1,Pu();break;case Aa:N_()}}function B_(e){window.clearTimeout(_r),Su(),document.body.removeEventListener("keydown",e),document.body.removeEventListener("keydown",T_),document.body.addEventListener("keydown",T_,!1),O_()}function G_(){Kc(P_[qr.Main_CenterLablesVectorPos],"icon_center_line"),document.body.removeEventListener("keydown",T_),zr=!1}function O_(){zr=!0,Wc(P_[qr.Main_CenterLablesVectorPos],"icon_center_line")}function A_(){Tu(qr.Main_Go),qr.Main_Go=x_[qr.Main_CenterLablesVectorPos],qr.Main_Go!==Br||co()?Iu(!0):(qr.Main_Go=br,G_(),Iu())}function U_(){qr.Main_Go===yr?(iy=Oy,document.body.removeEventListener("keydown",Py)):qr.Main_Go===Br?document.body.removeEventListener("keydown",pE):qr.Main_Go===kr?document.body.removeEventListener("keydown",Ko):qr.Main_Go===Fr?(iy=Ay,document.body.removeEventListener("keydown",Py)):qr.Main_Go===Pr?document.body.removeEventListener("keydown",zw):qr.Main_Go===Ir?document.body.removeEventListener("keydown",nw):qr.Main_Go===Or?document.body.removeEventListener("keydown",Tb):qr.Main_Go===Lr?document.body.removeEventListener("keydown",pl):qr.Main_Go===xr?document.body.removeEventListener("keydown",Pd):qr.Main_Go===Mr?document.body.removeEventListener("keydown",CC):qr.Main_Go===Dr?document.body.removeEventListener("keydown",tS):qr.Main_Go===Gr?document.body.removeEventListener("keydown",Xk):qr.Main_Go===wr?(iy=By,document.body.removeEventListener("keydown",Py)):qr.Main_Go===Tr?(iy=Ly,document.body.removeEventListener("keydown",Py)):qr.Main_Go===Ar?document.body.removeEventListener("keydown",XS):qr.Main_Go===Ur?(iy=xy,document.body.removeEventListener("keydown",Py)):qr.Main_Go===Hr?(iy=Ty,document.body.removeEventListener("keydown",Py)):qr.Main_Go===Er?(iy=Gy,document.body.removeEventListener("keydown",Py)):qr.Main_Go===Nr?document.body.removeEventListener("keydown",Gs):qr.Main_Go===Cr&&document.body.removeEventListener("keydown",zM)}function N_(){window.clearTimeout(_r),Su(),qr.Main_Go!==xr&&(qr.Main_BeforeChannelisSet=!1),qr.Main_Go!==kr&&(qr.Main_BeforeAgameisSet=!1),su(),qr.Main_Go===yr?(iy=Oy,uy()):qr.Main_Go===Br?nE():qr.Main_Go===Fr?(iy=Ay,uy()):qr.Main_Go===kr?Bo():qr.Main_Go===Gr?Uk():qr.Main_Go===xr?od():qr.Main_Go===Lr?al():qr.Main_Go===Pr?Ow():qr.Main_Go===Ir?jb():qr.Main_Go===Or?yb():qr.Main_Go===wr?(iy=By,uy()):qr.Main_Go===Er?(iy=Gy).loadingData||iy.key_refresh():qr.Main_Go===Ar?PS():qr.Main_Go===Ur?(iy=xy,uy()):qr.Main_Go===Hr?(iy=Ty,uy()):qr.Main_Go===Tr?(iy=Ly,uy()):qr.Main_Go===Nr?bs():qr.Main_Go===Cr?TM():qr.Main_Go===Mr?_C():qr.Main_Go===Dr&&FE(),_r=window.setTimeout(Eu,3e3)}function H_(e,t){localStorage.setItem(e,t)}function F_(e,t){return parseInt(localStorage.getItem(e))||t}function D_(e,t){return JSON.parse(localStorage.getItem(e))||t}function R_(e,t){var n=t.toString();return(localStorage.getItem(e)||n)===n?t:!t}function q_(e){console.log(e);for(var t=0;t<e.length;t++)console.log("Character is: "+e.charAt(t)+" it's Unicode is: \\u"+e.charCodeAt(t).toString(16).toUpperCase())}function V_(e){console.log("processCode");var t="";t=e.match(/code=(\w+)/),jr=t?(t=t[1],console.log("if code "+t),t):(console.log("else code "+t),0)}function J_(e,t,n,a,i,o,s){var d;if(Bc){if(!(d=Android.mreadUrl(e,t,n,a)))return void o();200===(d=JSON.parse(d)).status?i(d.responseText):o()}else(d=new XMLHttpRequest).open("GET",(s?Hc:"")+e,!0),d.timeout=t,0<n&&d.setRequestHeader(gc,vc),1<n&&d.setRequestHeader(yc,kc),2<n&&d.setRequestHeader(bc,a),d.ontimeout=function(){},d.onreadystatechange=function(){if(4===d.readyState){if(200===d.status)return void i(d.responseText);o()}},d.send(null)}var z_=0,X_=null,j_=0,Y_=!1,W_=0,K_=0,Z_=!1,$_=0,Q_=2e3,ef=5,tf="source",nf=tf,af=0,of=[],sf="",df=!1,lf=0,rf=0,cf=1,uf=!1,_f=0,ff=!1,mf=!1,hf=2e3,pf=[0,5],vf=0;function gf(){op(),Vp(),Ph(document.getElementById("stream_info_icon"),qr.Main_selectedChannelLogo),$c("stream_info_name",qr.Main_selectedChannelDisplayname),Zc("stream_info_title",Fy),Zc("stream_info_game",Ny+", "+Hy+", "+qy),$c("stream_live_icon",Ry),$c("progress_bar_duration",Kh(vf)),Vg((lh=pf)[1]),qr.Play_isHost=!1,$c("progress_bar_current_time",Kh(0)),$c("stream_live_time",""),$c("stream_watching_time",""),uf=null!==qr.ChannelVod_vodId,xl=Ft+".",uf?(Pl=el,Ul()):sr(),Zc("pause_button",'<i class="strokedbig icon-pause" style="color: #FFFFFF; font-size: 180%;"></i>'),jc("progress_pause_holder"),Hf(),jc("scene_channel_panel_bottom"),jc("chat_box"),Xc("chat_frame"),j_=_f=0,window.clearInterval(X_),mf=!1,$f=-13,lf=rf=0,af=2,Zp(3),Rm=!1,Hp(),ao()?(Ya=!0,Wa=qr.Main_selectedChannel_id,ci()):ip(),document.addEventListener("visibilitychange",Sf,!1),Y_=!1,Z_=!(K_=W_=0),yf(),document.body.removeEventListener("keyup",Qu)}function yf(){$_=0,Q_=2e3,bf()}function bf(){J_("https://clips.twitch.tv/api/v2/clips/"+Dy+"/status",Q_,1,null,kf,wf,!0)}function wf(){++$_<ef?(Q_+=250,bf()):(sp(),av(3))}function kf(e){of=[],e=JSON.parse(e).quality_options;for(var t=0;t<e.length;t++)of.length?of.push({id:e[t].quality+"p"+Cf(e[t].frame_rate),url:e[t].source}):of.push({id:e[t].quality+"p"+Cf(e[t].frame_rate)+" (source)",url:e[t].source});rf=cf,Mf()}function Cf(e){return 40<e?60:""}function Mf(){window.clearInterval(X_),sf=of[af=0].url,-1!==tf.indexOf("source")&&(tf="source");for(var e=0;e<Af();e++){if(of[e].id===tf){sf=of[af=e].url;break}-1!==of[e].id.indexOf(tf)&&(sf=of[af=e].url)}nf=tf,pr||console.log("PlayClip_onPlayer:",'\n\n"'+sf+'"\n'),rf=cf,Bc&&Z_&&Android.startVideoOffset(sf,3,df?-1:Android.gettime()),df=!1,Ef()}function Ef(){bm&&!Ip()&&Ep(),Bc&&(j_=0,ih=1+hf/1e3,ff=!1,window.clearInterval(X_),X_=window.setInterval(If,oh))}function Sf(){document.hidden&&xf()}function If(){Bc&&(lf=Android.gettime()),Z_&&z_===lf&&!jh()?++j_>ih&&(ff&&mf&&af<Af()-1?af++:!ff&&mf&&_f++,navigator.onLine?1<_f?Xh(_f,3,Pf):(Uf(),Mf(),mf=!0):zh(!1,3)):(j_=_f=0,mf=!1),z_=lf}function Pf(e){if(!e){if(!(af<Af()-1))return void zh(!1,3);af++}_f=0,Uf(),Mf(),mf=!0}function xf(){Z_&&(of=[],Lf(),up(),tp())}function Lf(){window.clearInterval(X_),Bc&&Android.stopVideo(3),Z_=!1,tr(),np(),QC(),document.body.removeEventListener("keydown",Df),document.removeEventListener("visibilitychange",Sf),Tf(),document.getElementById("scene2_pannel_0").style.display="none",document.getElementById("scene2_pannel_1").style.width="30%",document.getElementById("quality_name").style.width="77%",document.getElementById("quality_name").style.fontSize="87.5%",el=0}function Tf(){Vv=!1,qv=Jv=0,kp(),tf=nf,document.getElementById("scene_channel_panel").style.opacity="0",Bc&&Dg(Android.gettime()/1e3,vf,!0),Zc("progress_bar_jump_to",Ca),document.getElementById("progress_bar_steps").style.display="none",window.clearInterval(pv)}function Bf(){Gf(),Yh(),pv=window.setInterval(Gf,1e3),up(),Og(),Of(),Uf(),document.getElementById("scene_channel_panel").style.opacity="1",Nf()}function Gf(){Bc&&Dg(Android.gettime()/1e3,vf,!Vv)}function Of(){for(var e=af=0;e<Af();e++){if(of[e].id===tf){af=e;break}-1!==of[e].id.indexOf(tf)&&(af=e)}}function Af(){return of.length}function Uf(){1===Af()?(document.getElementById("quality_arrow_up").style.opacity="0",document.getElementById("quality_arrow_down").style.opacity="0"):af?af===Af()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(tf=of[af].id).indexOf("source")?$c("quality_name",tf.replace("source",ye)):$c("quality_name",tf)}function Nf(){tm=window.setTimeout(Tf,5e3+$v)}function Hf(){document.getElementById("scene2_pannel_1").style.width="18%",document.getElementById("quality_name").style.width="60%",document.getElementById("quality_name").style.fontSize="72%",$c("open_vod_text",uf?cn:un),document.getElementById("scene2_pannel_0").style.display="inline-block"}function Ff(){uf?(qr.vodOffset=el,Lf(),document.body.addEventListener("keydown",ay,!1),Hp(),h_(ig)):(Rm=!0,dp(_n),window.setTimeout(function(){Rm=!1,lp()},2e3))}function Df(e){if(rf!==cf)switch(e.keyCode){case Ua:_p()?(up(),xf()):cp()}else switch(e.keyCode){case Ta:ZC()?dm&&!EC&&(rM(),dm--,iM()):im&&!gp()&&Ip()?(Kf++,Op()):gp()?(kp(),Kv?(Dp(),5<++Dm&&(Dm=0),Fp()):(zg(-1,vf),$v=2500),Nf()):Jp()?(Wp(),jp(),--Xm<0&&(Xm=3),Xp()):Bf();break;case Ga:ZC()?dm<LC-1&&!EC&&(rM(),dm++,iM()):!im||gp()||Jp()?gp()?(kp(),Kv?(Dp(),--Dm<0&&(Dm=5),Fp()):(zg(1,vf),$v=2500),Nf()):Jp()?(Wp(),jp(),3<++Xm&&(Xm=0),Xp()):Bf():H_("ChatEnable",(bm=Ip()||Jp()?(Sp(),!1):(Ep(),!0))?"true":"false");break;case Ba:Jp()?Wp():gp()?(2===Kv&&1!==Dm?(Kv--,Ag()):1===Kv?(Kv--,Ag()):0<af&&1===Dm&&(af--,Uf()),kp(),Nf()):ZC()?ZC()?aM():Bf():$C();break;case Oa:Jp()?Wp():gp()?(Kv?1===Kv?(Kv++,Ag()):af<Af()-1&&1===Dm&&(af++,Uf()):(Kv++,Ag()),kp(),Nf()):ZC()?QC():im&&Ip()?(4<++em?Gp(!(em=1)):4===em&&Gp(!0),Tp(!0)):Bf();break;case Aa:Jp()?Kp(3):gp()?Kv?1===Kv?(uf&&qr.Play_ChatForceDisable&&(jh()?Ql(Ol):er()),Jp()||Np(3)):nv(3):(kp(),Nf(),qv&&Rg()):ZC()?(Lf(),s_(dm,HC,fv)):Bf();break;case Ua:gp()?Tf():ZC()?QC():_p()?(up(),xf()):cp();break;case xa:case Pa:case La:uf&&!qr.Play_ChatForceDisable&&(jh()?Ql(Ol):er()),Jp()||Np(3)}}var Rf,qf,Vf,Jf,zf,Xf,jf,Yf,Wf,Kf=0,Zf=Kf,$f=-5,Qf=.55,em=3,tm=null,nm="source",am=nm,im=!0,om=!1,sm="",dm=0,lm=2e3,rm=0,cm=1,um=2,_m=0,fm=null,mm=0,hm=0,pm=0,vm="",gm=[],ym=0,bm=!1,wm=null,km=null,Cm=null,Mm="",Em=0,Sm=5,Im=0,Pm=5,xm=0,Lm=!1,Tm=null,Bm=!1,Gm=0,Om=null,Am=0,Um=0,Nm=!1,Hm=!1,Fm=!1,Dm=1,Rm=!1,qm=!1,Vm=1e4,Jm=2e3,zm="",Xm=0,jm=3,Ym=null,Wm="",Km=0,Zm=0,$m="",Qm=!0,eh=!1,th=!1,nh=0,ah=!1,ih=7,oh=1e3,sh=0,dh="",lh=[],rh=[{top:51.8,left:75.1,sizeOffset:[31,16,0,0]},{top:33,left:75.1,sizeOffset:[12.5,0,-6.25,0]},{top:.2,left:75.1,sizeOffset:[0,0,0,0]},{top:.2,left:38.3,sizeOffset:[0,0,0,0]},{top:.2,left:.2,sizeOffset:[0,0,0,0]},{top:33,left:.2,sizeOffset:[12.5,0,-6.25,0]},{top:51.8,left:.2,sizeOffset:[31,16,0,0]},{top:51.8,left:38.3,sizeOffset:[31,16,0,0]}],ch=[0,0,0,1,2,2,2,1],uh=[[0,1,2,2,2,1,0,0],[7,3,3,3,3,3,7,7],[6,5,4,4,4,5,6,6]],_h=[{containerHeight:17,percentage:"12.5%",dialogTop:15},{containerHeight:32,percentage:"25%",dialogTop:30},{containerHeight:48,percentage:"50%",dialogTop:50},{containerHeight:99.6,percentage:"100%",dialogTop:115}],fh=1,mh=["chat_extra_small","chat_size_small","chat_size_default","chat_size_biger","chat_size_bigest"];function hh(){zf=document.getElementById("chat_frame"),jf=document.getElementById("chat_container"),Wf=document.getElementById("inner_progress_bar"),Kf=F_("ChatPositionsValue",0),em=F_("ChatSizeValue",3),bm=R_("ChatEnable",!1),im=R_("Play_isFullScreen",!0),Tp(!1),Bp(!1),vh()}function ph(e){e?void 0!==Rf&&(Kf=Rf,em=Vf,(bm=qf)||Sp(),Tp(!1)):(Rf=Kf,qf=bm,Vf=em,Kf=0,Ep(),em=4,Gp(bm=!0),Tp(!1),bl&&(bl.scrollTop=bl.scrollHeight)),H_("Play_isFullScreen",im)}function vh(){fh=lk("chat_font_size");for(var e=0;e<mh.length;e++)Kc("chat_inner_container",mh[e]);Wc("chat_inner_container",mh[fh])}function gh(){op(),Zc("stream_live_icon",'<div style="vertical-align: middle; display: inline-block"><i class="icon-circle" style="color: red; font-size: 105%; "></i></div><div style="vertical-align: middle; display: inline-block">'+Ca+_.toUpperCase()+"</div>"),Nu("stream_info_title"),uf=!(qm=!1),Ph(document.getElementById("stream_info_icon"),Uc),qr.Play_isHost?$c("stream_info_name",qr.Play_DisplaynameHost):$c("stream_info_name",qr.Play_selectedChannelDisplayname),qr.Play_WasPlaying=1,xu(),om=qr.Play_isHost,qr.Play_isHost=!1,eh=!1,jc("scene_channel_panel_bottom"),Zm=Km=0,$c("stream_watching_time",g+Kh(0)),Mm=Zh(0),$c("stream_live_time",y+Mm+b),Xc("chat_box"),jc("chat_frame"),Xc("progress_pause_holder"),Zp(1),$f=-5,Am=Um=sh=0,window.clearInterval(Om),th=Hm=!1,Vm=3e3,Qm=!(Im=0),_m=rm,Fm=!(Lm=!(pm=hm=mm=Bm=0)),document.addEventListener("visibilitychange",bh,!1),kh(),xh(),document.body.removeEventListener("keyup",Qu),fm=window.setInterval(Eh,6e4)}function yh(e){dp(e)}function Play_CheckResume(){Lm&&bh(),Lv&&fg(),Z_&&(xf(),window.clearInterval(X_))}function bh(){document.hidden?Jp()?(up(),Sp(),Qh()):(np(),Fm=!1,zf.src="about:blank",window.clearInterval(fm)):(Lm=!0,hp(),Lm&&(op(),Vm=3e3,eh=!(Im=0),qm?Eh():kh(),_m=rm,xm=0,navigator.onLine?xh():Jf=window.setInterval(wh,100),fm=window.setInterval(Eh,6e4)))}function wh(){(navigator.onLine||200<xm)&&(window.clearInterval(Jf),xh()),xm++}function kh(){var e="https://api.twitch.tv/kraken/streams/"+qr.Play_selectedChannel_id,t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=Vm,t.setRequestHeader(yc,kc),t.setRequestHeader(gc,vc),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?Ch(JSON.parse(t.responseText)):Mh())},t.send(null)}function Ch(e){null!==e.stream&&($c("stream_info_name",om?qr.Play_DisplaynameHost:qr.Play_selectedChannelDisplayname),qr.Play_selectedChannel_id=e.stream.channel._id,Zc("stream_info_title",gk.parse(e.stream.channel.status)),qr.Play_gameSelected=e.stream.game,zm=", ["+e.stream.channel.language.toUpperCase()+"]",$c("stream_info_game",v+qr.Play_gameSelected+h+bu(e.stream.viewers)+" "+q+zm),qr.Play_selectedChannelLogo=e.stream.channel.logo,qm=!0,Ph(document.getElementById("stream_info_icon"),qr.Play_selectedChannelLogo),Mm=e.stream.created_at,ao()?(Ya=!0,Wa=qr.Play_selectedChannel_id,ci()):ip())}function Mh(){Im<Pm&&(Vm+=500,window.setTimeout(function(){Lm&&kh()},750)),Im++}function Eh(){var e="https://api.twitch.tv/kraken/streams/"+qr.Play_selectedChannel_id;Jm=3e3;var t=new XMLHttpRequest;t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?(sh=0,Sh(JSON.parse(t.responseText))):Ih())},t.open("GET",e,!0),t.timeout=Jm,t.setRequestHeader(yc,kc),t.setRequestHeader(gc,vc),t.send(null)}function Sh(e){null!==e.stream&&(Zc("stream_info_title",gk.parse(e.stream.channel.status)),qr.Play_gameSelected=e.stream.game,$c("stream_info_game",v+qr.Play_gameSelected+h+bu(e.stream.viewers)+" "+q+zm),qm||Ph(document.getElementById("stream_info_icon"),e.stream.channel.logo))}function Ih(){sh<Pm?(window.setTimeout(function(){Lm&&Eh()},2500),sh++):sh=0}function Ph(e,t){e.onerror=function(){this.src=Uc,qm=!1},e.src=t}function xh(){Em=0,Jm=2e3+(eh?3e3:0),Lh()}function Lh(){var e,t;if(e=_m===rm?"https://api.twitch.tv/api/channels/"+qr.Play_selectedChannel+"/access_token"+(ao()&&Ri[qr.Users_Position].access_token?"?oauth_token="+Ri[qr.Users_Position].access_token:""):"https://usher.ttvnw.net/api/channel/hls/"+qr.Play_selectedChannel+".m3u8?&token="+encodeURIComponent(mm.token)+"&sig="+mm.sig+"&allow_source=true&allow_audi_only=true&fast_bread=true&allow_spectre=false",Bc){if(!(t=Android.mreadUrl(e,Jm,1,null)))return void Bh();200===(t=JSON.parse(t)).status?(Em=0,Lm&&Ah(t.responseText)):403===t.status?Gh():404===t.status?iv():Bh()}else(t=new XMLHttpRequest).open("GET",Hc+e,!0),t.timeout=Jm,t.setRequestHeader(gc,vc),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?(Em=0,Lm&&Ah(t.responseText)):403===t.status?(Th(t),pr?Gh():Oh()):404===t.status?(Th(t),pr?iv():Oh()):(Th(t),Bh()))},t.send(null)}function Th(e){pr||(console.log(e.status),console.log(e.responseText))}function Bh(){Lm&&Qm&&(++Em<Sm+(eh?8:0)?(Jm+=250,eh?window.setTimeout(Lh,500):Lh()):pr?iv():Oh())}function Gh(){sp(),dp(Jn),window.setTimeout(function(){Lm&&iv()},4e3)}function Oh(){gm=[{id:"1080p60(Source)",band:"(10.00Mbps)",url:"http://fake"}],_m=um,Lm&&Fh()}function Ah(e){_m===rm?(mm=JSON.parse(e),_m=cm,xh()):_m===cm&&(gm=Uh(hm=e),_m=um,Lm&&Fh())}function Uh(e){for(var t,n=[],a="",i=1,o=Hh(e),s=0;s<o.length;s++)a=o[s].split('NAME="')[1].split('"')[0],t=Nh(o[s].split("BANDWIDTH=")[1].split(",")[0]),n.length?n[s-i].id!==a&&n[s-i].id!==a+" (source)"?n.push({id:a,band:t,url:o[s].split("\n")[2]}):i++:(-1===a.indexOf("ource")&&(a+=" (source)"),n.push({id:a,band:t,url:o[s].split("\n")[2]}));return n}function Nh(e){return 0<(e=parseInt(e))?" ("+parseFloat(e/1e6).toFixed(2)+"Mbps)":""}function Hh(e){for(var t,n=[],a=/#EXT-X-MEDIA:(.)*\n#EXT-X-STREAM-INF:(.)*\n(.)*/g;t=a.exec(e);)n.push(t[0]);return n}function Fh(){window.clearInterval(Om),vm=gm[ym=0].url,-1!==nm.indexOf("source")&&(nm="source");for(var e=0;e<Lp();e++){if(gm[e].id===nm){vm=gm[ym=e].url;break}-1!==gm[e].id.indexOf(nm)&&(vm=gm[ym=e].url)}am=nm,_m=um,pr||console.log("Play_onPlayer:",'\n\n"'+vm+'"\n'),Bc&&Lm&&Android.startVideo(vm,1),Dh()}function Dh(){window.clearTimeout(Xf),ah=!1,bm&&!Ip()&&Ep(),Fm=!0,Rh(),Bc&&(Am=0,ih=1+lm/1e3,Nm=!1,window.clearInterval(Om),Om=window.setInterval(Vh,oh))}function Rh(){if(qr.Play_ChatForceDisable){ah=!0,window.clearInterval(Yf);var e=zf.contentDocument;try{void 0!==e&&null!==e.body&&(e.open(),e.write(""),e.close())}catch(e){}window.clearTimeout(Xf),nh=0,th=!1,zf.src="https://www.nightdev.com/hosted/obschat/?theme=bttv_blackchat&channel="+qr.Play_selectedChannel+"&fade=false&bot_activity=true&prevent_clipping=false",Xf=window.setTimeout(qh,5e3)}else dr()}function qh(){var e=zf.contentDocument,t=!1;try{void 0!==e&&null!==e.body&&(th=-1!==e.body.innerHTML.indexOf("Connected")),t=th}catch(e){th=!0}th?t&&(Yf=window.setInterval(Mp,500),(e=e.getElementById("chat_box"))&&(e.style.fontFamily="'Helvetica Neue',Helvetica, Arial,sans-serif,Sans,Jomolhari,dejavu-sans, CambriaMath, CODE2000 , BabelStoneHan")):ah&&nh<7?(nh++,Xf=window.setTimeout(qh,1e3)):Rh()}function Vh(){var e=!jh();Bc&&(Km=Android.gettime()),Lm&&Gm===Km&&e?ih<++Am&&(Nm&&Hm&&ym<Lp()-1?ym++:!Nm&&Hm&&Um++,navigator.onLine?1<Um?Xh(Um,1,Jh):(xp(),Fh(),Hm=!0):zh(!1,1)):(Am=Um=0,Hm=!1),Gm=Km,e&&Zm++}function Jh(e){if(!e){if(!(ym<Lp()-1))return void iv();ym++}Um=0,xp(),Fh(),Hm=!0}function zh(e,t){qr.Play_isHost=e,Zp(t),av(t)}function Xh(e,t,n){var a=new XMLHttpRequest;a.timeout=1e3,a.open("GET","https://static-cdn.jtvnw.net/jtv-static/404_preview-10x10.png?"+Math.random(),!0),a.onreadystatechange=function(){4===a.readyState&&(200===a.status?n(2<e):12<e&&zh(!1,t))},a.send(null)}function jh(){return!!Bc&&!Android.getPlaybackState()}function Yh(){var e=p_();$c("stream_clock",e),$c("label_clock",e)}function Wh(e){return e<10?"0"+e:e}function Kh(e){var t,n,a;return t=Wh(parseInt(e)%60),n=Wh((e=Math.floor(e/60))%60),a=Wh(e=Math.floor(e/60)),e?a+":"+n+":"+t:n+":"+t}function Zh(e){var t,n,a;return t=Wh(parseInt(e/1e3)%60),n=Wh((e=Math.floor(e/1e3/60))%60),a=Wh(e=Math.floor(e/60)),e?a+":"+n+":"+t:n+":"+t}function $h(e){return Zh((new Date).getTime()-new Date(e).getTime())}function Qh(){Lm&&(ep(),qr.Play_WasPlaying=0,tp())}function ep(){Bc&&Android.stopVideo(1),Lm=!1,QC(),tr(),np(),ap(),window.clearInterval(Yf),qr.Play_selectedChannel_id=""}function tp(){Dg(0,0),jc("scene1"),Xc("scene2"),Mu()}function np(){yp(),hp(),lp(),Vp(),dh="",ym===Lp()-1&&(am=gm[0].id),Iv===Fg()-1&&(yv=Sv[0].id),af===Af()-1&&(nf=of[0].id)}function ap(){Fm=!1,document.body.removeEventListener("keydown",fv),document.removeEventListener("visibilitychange",bh),zf.src="about:blank",window.clearInterval(fm),window.clearInterval(Om),Rm=!1}function ip(){Zc("fallow_text",Ca+Ut),Xa=!1}function op(){Bc?Android.mshowLoading(!0):jc("dialog_loading_play")}function sp(){Bc?Android.mshowLoading(!1):Xc("dialog_loading_play")}function dp(e){$c("dialog_warning_play_text",e),jc("dialog_warning_play")}function lp(){Xc("dialog_warning_play")}function rp(){return Yc("dialog_warning_play")}function cp(){_p()?up():(jc("play_dialog_exit"),wm=window.setTimeout(cp,3e3))}function up(){window.clearTimeout(wm),Xc("play_dialog_exit")}function _p(){return Yc("play_dialog_exit")}function fp(){window.clearTimeout(km)}function mp(){window.clearTimeout(Cm)}function hp(){fp(),mp(),Xc("play_dialog_simple_pause")}function pp(){jh()?vp()?(Xc("play_dialog_simple_pause"),Cm=window.setTimeout(pp,8e3)):(jc("play_dialog_simple_pause"),km=window.setTimeout(pp,1500)):hp()}function vp(){return Yc("play_dialog_simple_pause")}function gp(){return"1"===document.getElementById("scene_channel_panel").style.opacity}function yp(){kp(),document.getElementById("scene_channel_panel").style.opacity="0",nm=am,window.clearInterval(pv)}function bp(){Hp(),Pp(),xp(),wp(),pv=window.setInterval(wp,1e3),Yh(),up(),document.getElementById("scene_channel_panel").style.opacity="1",Cp()}function wp(){$c("stream_watching_time",g+Kh(Zm)),$c("stream_live_time",y+(-1===Mm.indexOf("00:00")?$h(Mm):Mm)+b)}function kp(){window.clearTimeout(tm),$v=0}function Cp(){tm=window.setTimeout(yp,5e3)}function Mp(){var e=zf.contentDocument;try{void 0!==e&&null!==e.body&&(e=e.getElementById("chat_box"))&&(e.scrollTop=e.scrollHeight)}catch(e){}}function Ep(){Op(),jc("chat_container")}function Sp(){Xc("chat_container")}function Ip(){return Yc("chat_container")}function Pp(){for(var e=ym=0;e<Lp();e++){if(gm[e].id===nm){ym=e;break}-1!==gm[e].id.indexOf(nm)&&(ym=e)}}function xp(){1===Lp()?(document.getElementById("quality_arrow_up").style.opacity="0",document.getElementById("quality_arrow_down").style.opacity="0"):ym?ym===Lp()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(nm=gm[ym].id).indexOf("source")?$c("quality_name",nm.replace("source",ye)+gm[ym].band):$c("quality_name",nm+gm[ym].band)}function Lp(){return gm.length}function Tp(e){jf.style.height=_h[em-1].containerHeight+"%",document.getElementById("play_chat_dialog").style.marginTop=_h[em-1].dialogTop+"%",Op(),Mp(),e&&Ap(qn+_h[em-1].percentage),window.setTimeout(function(){bl&&(bl.scrollTop=bl.scrollHeight)},500),H_("ChatSizeValue",em)}function Bp(e){jf.style.backgroundColor="rgba(0, 0, 0, "+Qf+")",e&&Ap(Vn+(100*Qf).toFixed(0)+"%")}function Gp(e){Kf=e?ch[Zf=Kf]:uh[Kf][Zf]}function Op(){var e=4===em;Kf<0?Kf=e?2:7:(e?2:7)<Kf&&(Kf=0),jf.style.top=(e?.2:rh[Kf].top+rh[Kf].sizeOffset[em-1])+"%",jf.style.left=rh[Kf+(e?2:0)].left+"%",H_("ChatPositionsValue",Kf)}function Ap(e){window.clearTimeout(Tm),$c("play_chat_dialog_text",e),jc("play_chat_dialog"),Tm=window.setTimeout(Up,1e3)}function Up(){Xc("play_chat_dialog")}function Np(e){jh()?(hp(),Bc&&Android.play(!0),Zc("pause_button",'<i class="strokedbig icon-pause" style="color: #FFFFFF; font-size: 180%;"></i>'),1===e?(gp()&&yp(),window.clearInterval(Om),Om=window.setInterval(Vh,oh)):2===e?(gp()&&Tg(),window.clearInterval(Uv),Uv=window.setInterval(Sg,oh)):3===e&&(gp()&&Tf(),window.clearInterval(X_),X_=window.setInterval(If,oh))):(window.clearInterval(Om),window.clearInterval(Uv),window.clearInterval(X_),Zc("pause_button",'<i class="strokedbig icon-play-1" style="color: #FFFFFF; font-size: 180%;"></i>'),Bc&&Android.play(!1),pp())}function Hp(){Dp(),Dm=1,Fp()}function Fp(){Wc("scene2_pannel_"+Dm,"playbotton_focus")}function Dp(){Kc("scene2_pannel_"+Dm,"playbotton_focus")}function Rp(){rf=bv=_m=-1,Sp(),yp(),Tf(),Tg(),Rm||lp(),sp(),up(),Xp()}function qp(){jc("dialog_end_stream")}function Vp(){Xc("dialog_end_stream"),Wp(),zp()}function Jp(){return Yc("dialog_end_stream")}function zp(){jp(),Xm=0,Xp()}function Xp(){Wc("dialog_end_"+Xm,"dialog_end_icons_focus")}function jp(){Kc("dialog_end_"+Xm,"dialog_end_icons_focus")}function Yp(e){1===e?Wm=qr.Play_selectedChannelDisplayname+" "+_:2===e?Wm=qr.Main_selectedChannelDisplayname+an:3===e&&(Wm=qr.Main_selectedChannelDisplayname+Ft),Zc("dialog_end_stream_text",Wm+x+la+sn+jm+"..."),Jp()?(bv=_m=um,rf=cf,-1===--jm?(Zc("dialog_end_stream_text",Wm+x+la+sn+"0..."),up(),Sp(),1===e?Qh():2===e?Pg():3===e&&xf()):Ym=window.setTimeout(function(){Yp(e)},1e3)):Ym=window.setTimeout(function(){Yp(e)},50)}function Wp(){window.clearTimeout(Ym),Zc("dialog_end_stream_text",Wm+x+la+dn)}function Kp(e){var t=!0;Xm?1===Xm?qr.Play_isHost?(qr.Play_DisplaynameHost=qr.Play_selectedChannelDisplayname+ae,qr.Play_selectedChannel=$m.target_login,qr.Play_selectedChannelDisplayname=$m.target_display_name,qr.Play_DisplaynameHost=qr.Play_DisplaynameHost+qr.Play_selectedChannelDisplayname,ep(),document.body.addEventListener("keydown",fv,!1),qr.Play_selectedChannel_id=$m.target_id,h_(gh)):Ff():2===Xm?$p(e):3===Xm&&ev(e):2===e?Sv.length?(Hv=!(tg=!0),Mg(),hp(),Pl=jv=0,Ul()):(t=!1,dp(aa),window.setTimeout(function(){lp()},2e3)):3===e&&(of.length?(ff=!(df=!0),Mf(),hp(),uf?(jv=0,Pl=el,Ul()):sr()):(t=!1,dp(aa),window.setTimeout(function(){lp()},2e3))),1!==Xm&&3===Xm&&""===qr.Play_gameSelected&&(t=!1),t&&Vp()}function Zp(e){e?1===e?(jp(),Xm=2,Xp(),document.getElementById("dialog_end_0").style.display="none",document.getElementById("dialog_end_1").style.display="none"):2===e?(zp(),document.getElementById("dialog_end_0").style.display="inline-block",document.getElementById("dialog_end_1").style.display="none"):3===e&&(zp(),document.getElementById("dialog_end_0").style.display="inline-block",document.getElementById("dialog_end_1").style.display="inline-block",$c("dialog_end_vod_text",uf?cn:un)):(jp(),Xm=1,Xp(),document.getElementById("dialog_end_0").style.display="none",document.getElementById("dialog_end_1").style.display="inline-block",$c("dialog_end_vod_text",hn))}function $p(e){qr.Main_BeforeChannelisSet||qr.Main_Go===Lr||qr.Main_Go===Tr||(qr.Main_BeforeChannel=qr.Main_BeforeAgameisSet&&qr.Main_Go!==kr?qr.Main_BeforeAgame:qr.Main_Go,qr.Main_BeforeChannelisSet=!0),Tu(qr.Main_Go),qr.Main_Go=xr,1===e?(qr.Main_selectedChannel_id=qr.Play_selectedChannel_id,qr.Main_selectedChannel=qr.Play_selectedChannel,qr.Main_selectedChannelDisplayname=qr.Play_selectedChannelDisplayname,zs=Xa,Sp(),Qh()):2===e?Pg():3===e&&xf()}function Qp(e){qr.Search_isSearching||(qr.Main_BeforeSearch=qr.Main_Go),Tu(qr.Main_Go),qr.Main_Go=Sr,1===e?(Sp(),Qh()):2===e?Pg():3===e&&xf()}function ev(e){if(""===qr.Play_gameSelected)return Rm=!0,dp(Qn),void window.setTimeout(function(){Rm=!1,lp()},2e3);qr.Main_BeforeAgameisSet||qr.Main_Go===Nr||qr.Main_Go===Hr||(qr.Main_BeforeAgame=qr.Main_BeforeChannelisSet&&qr.Main_Go!==xr&&qr.Main_Go!==Lr&&qr.Main_Go!==Tr?qr.Main_BeforeChannel:qr.Main_Go,qr.Main_BeforeAgameisSet=!0),Tu(qr.Main_Go),qr.Main_Go=kr,Po=!1,qr.Main_gameSelected=qr.Play_gameSelected,Sp(),1===e?Qh():2===e?Pg():3===e&&xf()}function tv(){ao()&&Ri[qr.Users_Position].access_token?Xa?gi():hi():(dp(Nt),Rm=!0,window.setTimeout(function(){lp(),Rm=!1},2e3))}function nv(e){Dm?1===Dm?(1===e?(Fh(),yp()):2===e?(Hv=!1,Mg(),Tg()):3===e&&(ff=!1,Mf(),Tf()),hp()):2===Dm?(Wa=1===e?qr.Play_selectedChannel_id:qr.Main_selectedChannel_id,tv(),kp(),1===e?Cp():2===e?Ug():3===e&&Nf()):3===Dm?ev(e):4===Dm?$p(e):5===Dm&&Qp(e):Ff()}function Play_PannelEndStart(e){1===e?(window.clearInterval(Om),iv()):av(e)}function av(e){window.clearInterval(Om),window.clearInterval(X_),window.clearInterval(Uv),Rp(),jm=3,Yp(e),qp(e)}function iv(){op(),_m=-1,Em=0,Jm=2e3,window.clearTimeout(Xf),zf.src="about:blank",window.clearInterval(fm),window.clearInterval(Om),""!==qr.Play_selectedChannel_id?lv():ov()}function ov(){var e="https://api.twitch.tv/kraken/users?login="+qr.Play_selectedChannel,t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=Jm,t.setRequestHeader(gc,vc),t.setRequestHeader(yc,kc),t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void sv(JSON.parse(t.responseText).users[0]);dv()}},t.send(null)}function sv(e){void 0!==e?(qr.Play_selectedChannel_id=e._id,Em=0,Jm=2e3,lv()):av(1)}function dv(){++Em<Sm?(Jm+=250,ov()):zh(!1,1)}function lv(){var e,t="https://tmi.twitch.tv/hosts?include_logins=1&host="+encodeURIComponent(qr.Play_selectedChannel_id);if(Bc){if(!(e=Android.mreadUrl(t,Jm,1,null)))return void rv();200===(e=JSON.parse(e)).status?cv(e.responseText):rv()}else(e=new XMLHttpRequest).open("GET",Hc+t,!0),e.timeout=Jm,e.setRequestHeader(gc,vc),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void cv(e.responseText);rv()}},e.send(null)}function rv(){++Em<Sm?(Jm+=250,lv()):zh(!1,1)}function cv(e){void 0!==($m=JSON.parse(e).hosts[0]).target_login?(Rm=!0,dp(qr.Play_selectedChannelDisplayname+mn+ae+$m.target_display_name),window.setTimeout(function(){Rm=!1},4e3),Zp(0),qr.Play_isHost=!0):(Zp(1),qr.Play_isHost=!1),av(1)}function uv(){Xa?(Zc("fallow_heart",'<i class="icon-heart strokicon" style="color: #00b300; font-size: 210%;"></i>'),Zc("fallow_text",Ca+Lt)):(Zc("fallow_heart",'<i class="icon-heart-o strokicon" style="color: #FFFFFF; font-size: 210%;"></i>'),Zc("fallow_text",Ca+Tt))}function _v(e){Jp()&&!_p()?(Wp(),cp()):ZC()?QC():gp()&&!$g()?e?Tg():yp():$g()&&_p()?(Zg(),xg(!1),tp()):_p()?(up(),Sp(),e?Pg():Qh()):(rp()&&lp(),cp())}function fv(e){if(_m!==um)switch(e.keyCode){case Ua:_p()?(up(),Sp(),Qh()):cp()}else switch(e.keyCode){case Ta:ZC()?dm&&!EC&&(rM(),dm--,iM()):im&&!gp()&&Ip()?(Kf++,Op()):gp()?(Dp(),5<++Dm&&(Dm=1),Fp(),kp(),Cp()):Jp()?(Wp(),jp(),--Xm<(qr.Play_isHost?1:2)&&(Xm=3),Xp()):bp();break;case Ga:ZC()?dm<LC-1&&!EC&&(rM(),dm++,iM()):!im||gp()||Jp()?gp()?(Dp(),--Dm<1&&(Dm=5),Fp(),kp(),Cp()):Jp()?(Wp(),jp(),3<++Xm&&(Xm=qr.Play_isHost?1:2),Xp()):bp():H_("ChatEnable",(bm=Ip()||Jp()?(Sp(),!1):(Ep(),!0))?"true":"false");break;case Ba:gp()?(0<ym&&1===Dm&&(ym--,xp()),kp(),Cp()):!ZC()&&ao()?$C():Jp()?Wp():ZC()&&aM();break;case Oa:gp()?(ym<Lp()-1&&1===Dm&&(ym++,xp()),kp(),Cp()):ZC()?QC():im&&Ip()?(4<++em?Gp(!(em=1)):4===em&&Gp(!0),Tp(!0)):Jp()?Wp():bp();break;case Aa:Jp()?Kp(1):gp()?nv(1):ZC()?qr.Play_selectedChannel!==JSON.parse(document.getElementById(HC[8]+dm).getAttribute(Sc))[0]?(ep(),s_(dm,HC,fv)):eM():bp();break;case Ua:_v(!1);break;case xa:case Pa:case La:Jp()||Np(1)}}var mv,hv,pv,vv,gv="source",yv=gv,bv=0,wv=null,kv=0,Cv=0,Mv=0,Ev="",Sv=[],Iv=0,Pv=0,xv=5,Lv=!1,Tv=2e3,Bv=0,Gv=5,Ov=1e4,Av=0,Uv=null,Nv=0,Hv=!1,Fv=0,Dv=!1,Rv=!1,qv=0,Vv=!1,Jv=0,zv=2e3,Xv=!1,jv=0,Yv={},Wv=0,Kv=0,Zv=!0,$v=0,Qv=0,eg=0,tg=!1,ng=[0,10,30,60,120,300,600,900,1200,1800],ag=!1;function ig(){op(),Vp(),jv=0,$c("stream_live_time",""),$c("stream_watching_time",""),$c("progress_bar_current_time",Kh(0)),xl=A+".",Zc("pause_button",'<i class="strokedbig icon-pause" style="color: #FFFFFF; font-size: 180%;"></i>'),Xc("progress_pause_holder"),Qv=0,Vg((lh=ng)[1]),bv=rm,uf=!0,el=0,qr.Play_isHost=!1,qr.vodOffset?(sg(),cg()):(Zv&&""!==qr.Main_selectedChannel_id?(Ph(document.getElementById("stream_info_icon"),qr.Main_selectedChannelLogo),Yv["#"+qr.ChannelVod_vodId]||Ul(),ao()?(Wa=qr.Main_selectedChannel_id,Ya=!0,ci()):ip()):(sg(),dg()),$c("stream_info_name",qr.Main_selectedChannelDisplayname),Zc("stream_info_title",Kd),Zc("stream_info_game",Zd+", ["+Jd.toUpperCase()+"]"),$c("stream_live_icon",$d)),Yv["#"+qr.ChannelVod_vodId]&&!qr.vodOffset?(sp(),Kg()):og()}function og(){jc("chat_box"),Xc("chat_frame"),window.setTimeout(function(){jc("scene_channel_panel_bottom"),Zc("pause_button",'<i class="strokedbig icon-pause" style="color: #FFFFFF; font-size: 180%;"></i>'),jc("progress_pause_holder")},1e3),$c("progress_bar_duration",Kh(Rd)),qr.Play_WasPlaying=2,xu(),vv=window.setInterval(hg,6e4),Vu(dh),Nv=Fv=0,window.clearInterval(Uv),Dv=!1,Vv=Rm=Xv=!($f=-13),Mv=Cv=kv=Jv=0,document.addEventListener("visibilitychange",fg,!1),ag=!(Lv=!(Rv=!1)),pg(),Zp(2),document.body.removeEventListener("keyup",Qu)}function sg(){Bv=0,Gv=5,Ov=1e4}function dg(){var e="https://api.twitch.tv/kraken/users?login="+encodeURIComponent(qr.Main_selectedChannel),t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=Ov,t.setRequestHeader(gc,vc),t.setRequestHeader(yc,kc),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?lg(JSON.parse(t.responseText).users[0]):rg())},t.send(null)}function lg(e){void 0!==e?(qr.Main_selectedChannelLogo=e.logo,qr.Main_selectedChannel_id=e._id,Yv["#"+qr.ChannelVod_vodId]||Ul(),ao()?(Wa=qr.Main_selectedChannel_id,Ya=!0,ci()):ip()):(qr.Main_selectedChannelLogo=Uc,qr.Main_selectedChannel_id=""),Ph(document.getElementById("stream_info_icon"),qr.Main_selectedChannelLogo)}function rg(){++Bv<Gv?(Ov+=500,window.setTimeout(function(){Lv&&dg()},750)):hv=window.setTimeout(dg,2500)}function cg(){var e="https://api.twitch.tv/kraken/videos/"+qr.ChannelVod_vodId,t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=Ov,t.setRequestHeader(gc,vc),t.setRequestHeader(yc,kc),t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void _g(t.responseText);ug()}},t.send(null)}function ug(){++Bv<Gv&&(Ov+=2e3,cg())}function _g(e){e=JSON.parse(e),Zc("stream_info_title",gk.parse(e.title)),Zc("stream_info_game",en+v+e.game+", "+bu(e.views)+R+", ["+e.language.toUpperCase()+"]"),$c("stream_live_icon",F+Au(e.created_at)),$c("progress_bar_duration",Kh(Rd=parseInt(e.length))),jv=1e3*qr.vodOffset,Dg(qr.vodOffset,Rd,!0),qr.Main_selectedChannelDisplayname=e.channel.display_name,$c("stream_info_name",qr.Main_selectedChannelDisplayname),qr.Main_selectedChannelLogo=e.channel.logo,Ph(document.getElementById("stream_info_icon"),qr.Main_selectedChannelLogo),qr.Main_selectedChannel_id=e.channel._id,qr.Main_selectedChannel=e.channel.name,ao()?(Ya=!0,Wa=qr.Main_selectedChannel_id,ci()):ip(),Vu(e.increment_view_count_url)}function fg(){document.hidden?Jp()?(up(),Sp(),Pg()):(hg(),Xg(),er(),np(),window.clearInterval(Uv),window.clearInterval(vv)):(Lv=!0,hp(),Lv&&(op(),xm=xm=0,navigator.onLine?Eg():Jf=window.setInterval(mg,100),Ql(Ol),Zp(2),vv=window.setInterval(hg,6e4)))}function mg(){(navigator.onLine||200<xm)&&(window.clearInterval(Jf),bv=rm,pg()),xm++}function hg(){qr.vodOffset=Bc?parseInt(Android.gettime()/1e3):0,xu(),qr.vodOffset=0}function pg(){Pv=0,zv=2e3,vg()}function vg(){var e,t;if(e=bv===rm?"https://api.twitch.tv/api/vods/"+qr.ChannelVod_vodId+"/access_token"+(ao()&&Ri[qr.Users_Position].access_token?"?oauth_token="+Ri[qr.Users_Position].access_token:""):"https://usher.ttvnw.net/vod/"+qr.ChannelVod_vodId+".m3u8?&nauth="+encodeURIComponent(kv.token)+"&nauthsig="+kv.sig+"&allow_source=true&allow_audi_only=true&allow_spectre=false",Bc){if(!(t=Android.mreadUrl(e,Jm,1,null)))return void gg();200===(t=JSON.parse(t)).status?(Pv=0,Lv&&bg(t.responseText)):gg()}else(t=new XMLHttpRequest).open("GET",Hc+e,!0),t.timeout=zv,t.setRequestHeader(gc,vc),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?(Pv=0,Lv&&bg(t.responseText)):gg())},t.send(null)}function gg(){if(Lv){var e;if(kv.token&&(e=JSON.parse(kv.token)),e&&0!==JSON.parse(kv.token).chansub.restricted_bitrates.length)return void wg();++Pv<xv?(zv+=250,vg()):pr?(sp(),av(2)):yg()}}function yg(){Sv=[{id:"1080p60(Source)",band:"(10.00Mbps)",url:"http://fake"}],bv=um,Lv&&Mg()}function bg(e){bv===rm?(kv=JSON.parse(e),bv=cm,pg()):bv===cm&&(Sv=Uh(Cv=e),bv=um,Lv&&Mg())}function wg(){ao()&&Ri[qr.Users_Position].access_token?(Wa=qr.Main_selectedChannel_id,wi()):(sp(),dp(L+Bt),window.setTimeout(function(){Lv&&Pg()},4e3))}function kg(){sp(),dp(L+Gt),window.setTimeout(function(){Lv&&Pg()},4e3)}function Cg(){ag?(sp(),dp(L+Ot),window.setTimeout(function(){Lv&&Pg()},4e3)):(ag=!0,bv=rm,pg())}function Mg(){window.clearInterval(Uv),Ev=Sv[Iv=0].url,-1!==gv.indexOf("source")&&(gv="source");for(var e=0;e<Fg();e++){if(Sv[e].id===gv){Ev=Sv[Iv=e].url;break}-1!==Sv[e].id.indexOf(gv)&&(Ev=Sv[Iv=e].url)}yv=gv,Eg()}function Eg(){pr||console.log("PlayVod_onPlayer:",'\n\n"'+Ev+'"\n'),qr.vodOffset?(Pl=qr.vodOffset,Ul(),Bc&&Lv&&Android.startVideoOffset(Ev,2,tg?-1:1e3*qr.vodOffset),qr.vodOffset=0):Bc&&Lv&&Android.startVideoOffset(Ev,2,tg?-1:Android.gettime()),tg=!1,bm&&!Ip()&&Ep(),Bc&&(Nv=0,ih=3+Tv/1e3,Hv=!1,window.clearInterval(Uv),Uv=window.setInterval(Sg,oh))}function Sg(){Bc&&(jv=Android.gettime()),Lv&&Av===jv&&!jh()?++Nv>ih&&(Hv&&Dv&&Iv<Fg()-1?Iv++:!Hv&&Dv&&Fv++,navigator.onLine?1<Fv?Xh(Fv,2,Ig):(Hg(),Mg(),Dv=!0):zh(!1,2)):(Nv=Fv=0,Dv=!1),Av=jv}function Ig(e){if(!e){if(!(Iv<Fg()-1))return void zh(!1,2);Iv++}Fv=0,Hg(),Mg(),Dv=!0}function Pg(){Lv&&(Sv=[],xg(!0),tp())}function xg(e){e&&Xg(),Bc&&Android.stopVideo(2),Lv=!1,window.clearInterval(vv),window.clearInterval(hv),qr.Play_WasPlaying=0,Zv=!0,tr(),QC(),np(),Lg()}function Lg(){document.body.removeEventListener("keydown",ay),document.removeEventListener("visibilitychange",fg),qr.vodOffset=0,window.clearInterval(wv),window.clearInterval(Uv),Rd=0}function Tg(){Vv=!1,qv=Jv=0,kp(),document.getElementById("scene_channel_panel").style.opacity="0",Bc&&Dg(Android.gettime()/1e3,Rd,!0),Zc("progress_bar_jump_to",Ca),document.getElementById("progress_bar_steps").style.display="none",gv=yv,window.clearInterval(pv)}function Bg(e){Gg(),Yh(),up(),pv=window.setInterval(Gg,1e3),e&&(Og(),Ng(),Hg(),Ug()),document.getElementById("scene_channel_panel").style.opacity="1"}function Gg(){Bc&&Dg(Android.gettime()/1e3,Rd,!Vv)}function Og(){Kv=jh()?1:0,Ag()}function Ag(){Kv?1===Kv?(Wc("pause_button","progress_bar_div_focus"),Kc("progress_bar_div","progress_bar_div_focus"),Dp(),Zc("progress_bar_jump_to",Ca),document.getElementById("progress_bar_steps").style.display="none"):2===Kv&&(Kc("pause_button","progress_bar_div_focus"),Kc("progress_bar_div","progress_bar_div_focus"),Fp(),Zc("progress_bar_jump_to",Ca),document.getElementById("progress_bar_steps").style.display="none"):(Kc("pause_button","progress_bar_div_focus"),Wc("progress_bar_div","progress_bar_div_focus"),Dp(),qv&&(Jg(),document.getElementById("progress_bar_steps").style.display="inline-block"))}function Ug(){tm=window.setTimeout(Tg,5e3+$v)}function Ng(){for(var e=Iv=0;e<Fg();e++){if(Sv[e].id===gv){Iv=e;break}-1!==Sv[e].id.indexOf(gv)&&(Iv=e)}}function Hg(){1===Fg()?(document.getElementById("quality_arrow_up").style.opacity="0",document.getElementById("quality_arrow_down").style.opacity="0"):Iv?Iv===Fg()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(gv=Sv[Iv].id).indexOf("source")?$c("quality_name",gv.replace("source",ye)+Sv[Iv].band):$c("quality_name",gv+Sv[Iv].band)}function Fg(){return Sv.length}function Dg(e,t,n){$c("progress_bar_current_time",Kh(e)),n&&(Wf.style.width=e/t*100+"%")}function Rg(){hp(),Jp()||(ff=Hv=!1,Lv?(Bc&&Android.startVideoOffset(Ev,2,0<eg?1e3*eg:-1),Pl=eg):(Pl=el,Bc&&Android.startVideoOffset(sf,3,0<eg?1e3*eg:-1)),uf&&Ul()),Zc("progress_bar_jump_to",Ca),document.getElementById("progress_bar_steps").style.display="none",Vv=!1,eg=qv=Jv=0}function qg(){Qv=Jv=0,Vg(lh[1])}function Vg(e){qv&&!Kv&&(document.getElementById("progress_bar_steps").style.display="inline-block"),60<Math.abs(e)?$c("progress_bar_steps",zn+e/60+jn):$c("progress_bar_steps",e?zn+e+Xn:zn+lh[1]+Xn)}function Jg(){$c("progress_bar_jump_to",_e+" ("+(qv<0?"-":"")+Kh(Math.abs(qv))+")"+fe+Kh(eg))}function zg(e,t){var n=Bc?Android.gettime()/1e3:0;window.clearTimeout(mv),Vv=!0,Jv<lh.length-1&&Qv++%6==0&&Jv++,qv+=lh[Jv]*e,eg=n+qv,Lv&&(eg=10*Math.floor(eg/10)),t<eg?(qv=t-n-lh[1],eg=n+qv,Qv=Jv=0):eg<0&&(qv=0-n,eg=Qv=Jv=0),Jg(),Wf.style.width=eg/t*100+"%",Vg(lh[Jv]*e),mv=window.setTimeout(qg,1e3)}function Xg(){var e=Bc?parseInt(Android.gettime()/1e3):0,t="#"+qr.ChannelVod_vodId;300<e&&e<Rd-300?(Yv[t]&&delete Yv[t],Yv[t]=e,H_("PlayVod_VodIds",JSON.stringify(Yv))):Rd-300<e&&Yv[t]&&(delete Yv[t],H_("PlayVod_VodIds",JSON.stringify(Yv)))}function jg(){Yv=D_("PlayVod_VodIds",{});var e=Yg();250<e&&Wg(e-250)}function Yg(){var e=0;for(var t in Yv)Yv.hasOwnProperty(t)&&e++;return e}function Wg(e){var t=0;for(var n in Yv){if(!(t<e))break;delete Yv[n],t++}H_("PlayVod_VodIds",JSON.stringify(Yv))}function Kg(){Xc("scene_channel_panel_bottom"),Bg(!1),Zc("dialog_vod_saved_text",Sn+Zh(1e3*Yv["#"+qr.ChannelVod_vodId])),jc("dialog_vod_start")}function Zg(){Tg(),Xc("dialog_vod_start"),Qg(),window.setTimeout(function(){jc("scene_channel_panel_bottom")},1e3)}function $g(){return Yc("dialog_vod_start")}function Qg(){ty(),Wv=0,ey()}function ey(){Wc("dialog_vod_"+Wv,"dialog_end_icons_focus")}function ty(){Kc("dialog_vod_"+Wv,"dialog_end_icons_focus")}function ny(e){Zg(),e?(delete Yv["#"+qr.ChannelVod_vodId],qr.vodOffset=0,ig()):(qr.vodOffset=Yv["#"+qr.ChannelVod_vodId],jv=1e3*qr.vodOffset,Dg(qr.vodOffset,Rd,!0),og())}function ay(e){if(bv===um||$g())switch(e.keyCode){case Ta:ZC()?dm&&!EC&&(rM(),dm--,iM()):im&&!gp()&&Ip()?(Kf++,Op()):gp()&&!$g()?(kp(),Kv?(Dp(),5<++Dm&&(Dm=1),Fp()):(zg(-1,Rd),$v=2500),Ug()):$g()?(ty(),Wv?Wv--:Wv++,ey()):Jp()?(Wp(),jp(),--Xm<0&&(Xm=3),1===Xm&&(Xm=0),Xp()):$g()||Bg(!0);break;case Ga:ZC()?dm<LC-1&&!EC&&(rM(),dm++,iM()):!im||gp()||Jp()?gp()&&!$g()?(kp(),Kv?(Dp(),--Dm<1&&(Dm=5),Fp()):(zg(1,Rd),$v=2500),Ug()):$g()?(ty(),Wv?Wv--:Wv++,ey()):Jp()?(Wp(),jp(),3<++Xm&&(Xm=0),1===Xm&&(Xm=2),Xp()):$g()||Bg(!0):H_("ChatEnable",(bm=Ip()||Jp()?(Sp(),!1):(Ep(),!0))?"true":"false");break;case Ba:Jp()?Wp():gp()&&!$g()?(2===Kv&&1!==Dm?(Kv--,Ag()):1===Kv?(Kv--,Ag()):0<Iv&&1===Dm&&(Iv--,Hg()),kp(),Ug()):ZC()?ZC()?aM():$g()||Bg(!0):$C();break;case Oa:Jp()?Wp():gp()&&!$g()?(Kv?1===Kv?(Kv++,Ag()):Iv<Fg()-1&&1===Dm&&(Iv++,Hg()):(Kv++,Ag()),kp(),Ug()):ZC()?QC():im&&Ip()?(4<++em?Gp(!(em=1)):4===em&&Gp(!0),Tp(!0)):$g()||Bg(!0);break;case Aa:$g()?ny(Wv):Jp()?Kp(2):gp()?Kv?1===Kv?(qr.Play_ChatForceDisable&&(jh()?Ql(Ol):er()),Jp()||Np(2)):nv(2):(kp(),Ug(),qv&&Rg()):ZC()?(xg(!0),s_(dm,HC,fv)):Bg(!0);break;case Ua:_v(!0);break;case xa:case Pa:case La:qr.Play_ChatForceDisable&&(jh()?Ql(Ol):er()),Jp()||Np(2)}else switch(e.keyCode){case Ua:_p()?(up(),Pg()):cp()}}var iy={};function oy(){console.log("InitScreens place holder")}function sy(){zy(),Xy(),Yy(),Wy(),Ky(),$y(),Qy()}function dy(e){return[e+"_thumbdiv",e+"_img",e+"_infodiv",e+"_title",e+"_createdon",e+"_game",e+"_viwers",e+"_duration",e+"_cell","cpempty_",e+"_scroll",e+"_lang"]}function ly(){for(var e,t={},n=0;n<arguments.length;n+=1){var a=arguments[n],i=Object.keys(a);for(e=0;e<i.length;e+=1)t[i[e]]=a[i[e]]}return t}function ry(){nc=-1,qr.Main_Go=iy.screen,iy.label_init(),document.body.addEventListener("keydown",Py,!1),iy.status?(jc(iy.ids[10]),Ru(iy.posY),wy(),xu()):uy()}function cy(){nc=0,iy.label_exit(),document.body.removeEventListener("keydown",Py),Xc(iy.ids[10])}function uy(){Qc(),Nu(iy.table),uu(),iy.cursor=null,iy.status=!1,iy.row=document.createElement("div"),iy.MaxOffset=0,iy.TopRowCreated=!1,iy.offset=0,iy.idObject={},iy.FirstLoad=!0,iy.itemsCount=0,iy.posX=0,iy.posY=0,iy.row_id=0,iy.coloumn_id=0,iy.data=null,iy.data_cursor=0,iy.dataEnded=!1,su(),_y(),fy()}function _y(){iy.loadingData=!0,iy.loadingDataTry=0,iy.loadingDataTimeout=3500}function fy(){var e;if(iy.set_url(),Bc&&!iy.data){if(!(e=Android.mreadUrl(iy.url,iy.loadingDataTimeout,2,null)))return void my();200===(e=JSON.parse(e)).status?iy.concatenate(e.responseText):my()}else(e=new XMLHttpRequest).open("GET",iy.url,!0),e.timeout=iy.loadingDataTimeout,e.setRequestHeader(gc,vc),e.setRequestHeader(yc,kc),e.ontimeout=function(){},e.onreadystatechange=function(){4===e.readyState&&(200===e.status?iy.concatenate(e.responseText):my())},e.send(null)}function my(){iy.loadingDataTry++,iy.loadingDataTry<iy.loadingDataTryMax?(iy.loadingDataTimeout+=500,fy()):(iy.loadingData=!1,iy.itemsCount?iy.dataEnded=!0:(iy.FirstLoad=!1,eu(),cu(T)))}function hy(){var e=iy.data.length-iy.data_cursor;if(e>iy.ItemsLimit?e=iy.ItemsLimit:iy.loadingData||(iy.dataEnded=!0),e){var t=Math.ceil(e/iy.ColoumnsCount),n=iy.row_id+t,a=document.getElementById(iy.table);if(iy.HasSwitches&&!iy.TopRowCreated){iy.TopRowCreated=!0,iy.row=document.createElement("div");var i='<i class="icon-history stream_channel_fallow_icon"></i>'+Ca+Ca+m;(Zr=document.createElement("div")).setAttribute("id",iy.ids[8]+"y_0"),Zr.className="stream_cell_period",Zr.innerHTML='<div id="'+iy.ids[0]+'y_0" class="stream_thumbnail_channel_vod" ><div id="'+iy.ids[3]+'y_0" class="stream_channel_fallow_game">'+i+"</div></div>",iy.row.appendChild(Zr),a.appendChild(iy.row)}for(iy.row_id;iy.row_id<n;){for(iy.coloumn_id===iy.ColoumnsCount&&(iy.row=document.createElement("div"),iy.coloumn_id=0),iy.coloumn_id;iy.coloumn_id<iy.ColoumnsCount&&iy.data_cursor<iy.data.length;iy.data_cursor++)iy.data[iy.data_cursor]&&iy.addCell(iy.data[iy.data_cursor]);if(a.appendChild(iy.row),iy.coloumn_id===iy.ColoumnsCount)iy.row_id++;else if(iy.data_cursor>=iy.data.length)break}}iy.emptyContent=!e&&!iy.status,by()}function py(e,t,n,a){var i=e+"_"+t;return Du(n[1]+i,a),e<iy.ColoumnsCount&&Vu(a),(Zr=document.createElement("div")).style.cssText=iy.ThumbCssText,i}function vy(e,t,n,a,i,o){var s=py(e,t,n,a);return Zr.setAttribute("id",n[5]+s),Zr.setAttribute(Sc,i),Zr.innerHTML='<div id="'+n[0]+s+'" class="stream_thumbnail_game"><div><img id="'+n[1]+s+'" class="stream_img"></div><div id="'+n[2]+s+'" class="stream_text2"><div id="<div id="'+n[3]+s+'" class="stream_channel">'+i+"</div>"+(""!==o?'<div id="'+n[4]+s+'"class="stream_info_games" style="width: 100%; display: inline-block;">'+o+"</div>":"")+"</div></div>",Zr}function gy(e,t,n,a,i,o,s,d,l,r,c,u,_,f,m,h){var p=py(e,t,n,a);return Zr.setAttribute("id",n[8]+p),Zr.setAttribute(Sc,JSON.stringify([c,r,s[2],u,i,_,f,m,h,s[0],l,s[1]+s[2]])),Zr.innerHTML='<div id="'+n[0]+p+'" class="stream_thumbnail_clip"><div><img id="'+n[1]+p+'" class="stream_img"></div><div id="'+n[2]+p+'" class="stream_text2"><div id="'+n[3]+p+'" class="stream_info" style="width: 72%; display: inline-block; font-size: 85%;">'+i+'</div><div id="'+n[7]+p+'"class="stream_info" style="width:27%; float: right; text-align: right; display: inline-block;">'+l+'</div><div  style="line-height: 12px;"><div id="'+n[4]+p+'"class="stream_info" style="width: 59%; display: inline-block;">'+o[0]+o[1]+'</div><div id="'+n[5]+p+'"class="stream_info" style="width: 39%; display: inline-block; float: right; text-align: right;">'+D+Kh(r)+'</div></div><div id="'+n[11]+p+'"class="stream_info">'+s[0]+la+s[1]+s[2]+'</div><div id="'+n[6]+p+'"class="stream_info">'+d+R+"</div></div></div>",Zr}function yy(e,t,n,a,i){var o=py(e,t,a,i[0]);return Zr.setAttribute("id",a[8]+o),Zr.setAttribute(Sc,JSON.stringify(n)),Zr.innerHTML='<div id="'+a[0]+o+'" class="stream_thumbnail_clip"><div><img id="'+a[1]+o+'" class="stream_img"></div><div id="'+a[2]+o+'" class="stream_text2"><div id="'+a[3]+o+'" class="stream_channel" style="width: 66%; display: inline-block;">'+i[1]+'</div><div id="'+a[7]+o+'"class="stream_info" style="width:33%; float: right; text-align: right; display: inline-block;">'+i[5]+'</div><div id="'+a[4]+o+'"class="stream_info">'+gk.parse(i[2])+'</div><div id="'+a[5]+o+'"class="stream_info">'+v+i[3]+'</div><div id="'+a[6]+o+'"class="stream_info">'+i[4]+"</div></div></div>",Zr}function by(){iy.status?(Hu(iy.img_404),du(iy.posX,iy.posY,iy.ColoumnsCount,iy.itemsCount)):(iy.emptyContent?cu(iy.empty_str()):(iy.status=!0,Hu(iy.img_404)),ac&&iy.status&&jw.restor_playback.defaultValue?qr.Play_WasPlaying?(Tu(qr.Main_Go),qr.Main_Go=Rr,qr.vodOffset||(qr.vodOffset=1),Rd=qr.vodOffset+1,dp(Yn),1===qr.Play_WasPlaying?d_():c_(),Iu(!0),window.setTimeout(function(){Rm||lp()},2e3)):1!==Rr?(Tu(qr.Main_Go),qr.Main_Go=Rr,__(iy.posY+"_"+iy.posX,iy.ids),Iu()):(qr.Never_run&&pu(),qr.Never_run=!1,wy(),xu()):(wy(),xu()),ac=!1,iy.FirstLoad=!1,eu())}function wy(){iy.posY<0?Cy():(iy.addFocus(iy.posY,iy.posX,iy.ids,iy.ColoumnsCount,iy.itemsCount),2<iy.posY&&iy.data_cursor+Uy>iy.data.length&&!iy.dataEnded&&!iy.loadingData&&(_y(),fy()),iy.posY+iy.ItemsReloadLimit>iy.itemsCount/iy.ColoumnsCount&&iy.data_cursor<iy.data.length&&(Fu(),iy.loadDataSuccess()),zr&&__(iy.posY+"_"+iy.posX,iy.ids))}function ky(e,t){__(iy.posY+"_"+iy.posX,iy.ids),iy.posY+=e,iy.posX=t,wy()}function Cy(){Wc(iy.ids[0]+"y_0",Ec)}function My(){Kc(iy.ids[0]+"y_0",Ec)}function Ey(e){gu()?vu():mu()?fu():(e===iy.screen?qr.Main_Go=yr:qr.Main_Go=e,cy())}function Sy(e){if(!iy.HasSwitches||iy.posY||-1!==e||iy.emptyContent){if(iy.HasSwitches&&-1===iy.posY)iy.posY=0,wy(),My();else for(var t=0;t<iy.ColoumnsCount;t++)if(Cu(iy.posY+e,iy.posX-t,iy.ids[0]))return void ky(e,iy.posX-t)}else __(iy.posY+"_"+iy.posX,iy.ids),iy.posY=-1,Cy()}function Iy(e,t){Cu(iy.posY,iy.posX+e,iy.ids[0])?ky(0,iy.posX+e):Cu(iy.posY+e,t,iy.ids[0])&&ky(e,t)}function Py(e){if(!iy.FirstLoad&&!n_())switch(t_(),e.keyCode){case Ua:iy.key_exit();break;case Ta:Iy(-1,iy.ColoumnsCount-1);break;case Ga:Iy(1,0);break;case Ba:Sy(-1);break;case Oa:Sy(1);break;case xa:case Pa:case La:case Aa:iy.key_play()}}iy.FirstLoad=!1;var xy,Ly,Ty,By,Gy,Oy,Ay,Uy=100,Ny="",Hy="",Fy="",Dy="",Ry="",qy="",Vy={posX:0,posY:0,row_id:0,coloumn_id:0,dataEnded:!1,idObject:{},loadingData:!1,itemsCount:0,loadingDataTryMax:5,loadingDataTimeout:3500,MaxOffset:0,offset:0,status:!1,emptyContent:!1,itemsCountCheck:!1,FirstLoad:!1,row:0,data:null,data_cursor:0,loadDataSuccess:hy,set_ThumbSize:function(){this.ThumbCssText="width: "+this.ThumbSize+"%; display: inline-block; padding: 3px;"},key_exit:function(){gu()?vu():mu()?fu():(this.itemsCount&&__(this.posY+"_"+this.posX,this.ids),B_(Py))}},Jy={ThumbSize:32.65,ItemsLimit:dc,ItemsReloadLimit:rc,ColoumnsCount:lc,addFocus:i_,key_refresh:uy,img_404:Nc,empty_str:function(){return B+K},key_play:function(){s_(this.posY+"_"+this.posX,this.ids,Py)}};function zy(){(Oy=ly(Oy=ly({ids:dy("Live"),table:"stream_table_live",screen:yr,base_url:"https://api.twitch.tv/kraken/streams?limit="+Uy,set_url:function(){this.offset&&this.offset+Uy>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+"&offset="+this.offset+(""!==Qr?"&language="+Qr:"")},label_init:function(){qr.Main_CenterLablesVectorPos=0,Wc("top_bar_live","icon_center_focus")},label_exit:function(){Kc("top_bar_live","icon_center_focus")},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.MaxOffset=t._total,this.data=this.data.concat(t.streams),this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),iy.loadingData=!1}else this.data=JSON.parse(e),this.MaxOffset=this.data._total,this.data=this.data.streams,this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadDataSuccess(),iy.loadingData=!1},addCell:function(e){iy.idObject[e.channel._id]||(iy.itemsCount++,iy.idObject[e.channel._id]=1,iy.row.appendChild(yy(iy.row_id,iy.coloumn_id,[e.channel.name,e.channel._id,e.channel.status],this.ids,[e.preview.template.replace("{width}x{height}",Cc),ku(JSON.stringify(e.stream_type))+e.channel.display_name,e.channel.status,e.game,y+$h(e.created_at)+b+", "+h+bu(e.viewers)+q,wu(e.video_height,e.average_fps,e.channel.language)])),iy.coloumn_id++)}},Vy),Jy)).set_ThumbSize()}function Xy(){(Ay=ly(Ay=ly({ids:dy("Featured"),table:"stream_table_featured",screen:Fr,base_url:"https://api.twitch.tv/kraken/streams/featured?limit="+Uy,set_url:function(){this.url=this.base_url+"&offset="+this.offset+(ao()&&Ri[qr.Users_Position].access_token?"&oauth_token="+Ri[qr.Users_Position].access_token:"")},label_init:function(){qr.Main_CenterLablesVectorPos=2,Wc("top_bar_featured","icon_center_focus")},label_exit:function(){Kc("top_bar_featured","icon_center_focus")},concatenate:function(e){this.data=JSON.parse(e),this.data=this.data.featured,this.dataEnded=!0,this.loadDataSuccess(),iy.loadingData=!1},addCell:function(e){e=e.stream,iy.idObject[e.channel._id]||(iy.itemsCount++,iy.idObject[e.channel._id]=1,iy.row.appendChild(yy(iy.row_id,iy.coloumn_id,[e.channel.name,e.channel._id,e.channel.status],this.ids,[e.preview.template.replace("{width}x{height}",Cc),ku(JSON.stringify(e.stream_type))+e.channel.display_name,e.channel.status,e.game,y+$h(e.created_at)+b+", "+h+bu(e.viewers)+q,wu(e.video_height,e.average_fps,e.channel.language)])),iy.coloumn_id++)}},Vy),Jy)).set_ThumbSize()}var jy={ThumbSize:32.65,ItemsLimit:dc,HasSwitches:!0,TopRowCreated:!1,ItemsReloadLimit:rc,ColoumnsCount:lc,addFocus:i_,cursor:null,key_refresh:uy,period:["day","week","month","all"],img_404:Nc,empty_str:function(){return B+N},key_play:function(){-1===this.posY?this.loadingData||(this.periodPos++,4<this.periodPos&&(this.periodPos=1),this.SetPeriod(),uy()):l_(this.posY+"_"+this.posX,this.ids,Py)},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.cursor=t._cursor,""===this.cursor&&(this.dataEnded=!0),this.data=this.data.concat(t.clips),iy.loadingData=!1}else this.data=JSON.parse(e),this.cursor=this.data._cursor,""===this.cursor&&(this.dataEnded=!0),this.data=this.data.clips,this.loadDataSuccess(),iy.loadingData=!1},addCell:function(e){iy.idObject[e.tracking_id]||(iy.itemsCount++,iy.idObject[e.tracking_id]=1,iy.row.appendChild(gy(iy.row_id,iy.coloumn_id,iy.ids,e.thumbnails.medium,e.broadcaster.display_name,[rn,Au(e.created_at)],[gk.parse(e.title),v,e.game],bu(e.views),"["+e.language.toUpperCase()+"]",e.duration,e.slug,e.broadcaster.name,e.broadcaster.logo.replace("150x150","300x300"),e.broadcaster.id,null!==e.vod?e.vod.id:null,null!==e.vod?e.vod.offset:null)),iy.coloumn_id++)}};function Yy(){(xy=ly(xy=ly({ids:dy("Clip"),table:"stream_table_clip",screen:Ur,periodPos:F_("Clip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?limit="+Uy,set_url:function(){this.url=this.base_url+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")+(""!==Qr?"&language="+Qr:"")},SetPeriod:function(){Zc("top_bar_clip",N+Ou(tc[this.periodPos-1])),H_("Clip_periodPos",this.periodPos)},label_init:function(){qr.Main_CenterLablesVectorPos=5,this.SetPeriod(),Wc("top_bar_clip","icon_center_focus"),zc("label_refresh","icon-refresh",t+Zt)},label_exit:function(){Bu(),Kc("top_bar_clip","icon_center_focus"),zc("label_refresh","icon-refresh",t+Zt)}},Vy),jy)).set_ThumbSize()}function Wy(){(Ly=ly(Ly=ly({ids:dy("ChannelClip"),table:"stream_table_channel_clip",screen:Tr,periodPos:F_("ChannelClip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?channel=",set_url:function(){this.url=this.base_url+encodeURIComponent(qr.Main_selectedChannel)+"&limit="+Uy+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")},SetPeriod:function(){Zc("top_bar_game",N+tc[this.periodPos-1]),H_("ChannelClip_periodPos",this.periodPos)},label_init:function(){qr.Main_CenterLablesVectorPos=1,!qr.Search_isSearching&&qr.Main_selectedChannel_id&&Id(),qr.Main_selectedChannel!==this.lastselectedChannel&&(this.status=!1),Gu(),this.SetPeriod(),$c("top_bar_user",qr.Main_selectedChannelDisplayname),zc("label_side_panel","icon-arrow-circle-left",P),this.lastselectedChannel=qr.Main_selectedChannel},label_exit:Bu},Vy),jy)).set_ThumbSize()}function Ky(){(Ty=ly(Ty=ly({ids:dy("AGameClip"),table:"stream_table_a_game_clip",screen:Hr,periodPos:F_("AGameClip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?game=",set_url:function(){this.url=this.base_url+encodeURIComponent(qr.Main_gameSelected)+"&limit="+Uy+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")+(""!==Qr?"&language="+Qr:"")},SetPeriod:function(){Zc("top_bar_game",w+Ou(N+tc[this.periodPos-1]+": "+qr.Main_gameSelected)),H_("AGameClip_periodPos",this.periodPos)},label_init:function(){qr.Main_CenterLablesVectorPos=3,this.SetPeriod(),Wc("top_bar_game","icon_center_focus"),zc("label_side_panel","icon-arrow-circle-left",P),this.gameSelected!==qr.Main_gameSelected&&(this.status=!1),this.gameSelected=qr.Main_gameSelected},label_exit:function(){Kc("top_bar_game","icon_center_focus"),Zc("top_bar_game",f),zc("label_side_panel","icon-ellipsis",Rn)}},Vy),jy)).set_ThumbSize()}var Zy={ThumbSize:19.35,ItemsLimit:cc,ItemsReloadLimit:_c,ColoumnsCount:uc,addFocus:o_,img_404:Ac,empty_str:function(){return B+$},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.MaxOffset=t._total,this.data=this.data.concat(this.screen===Er?t.follows:t.top),this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),iy.loadingData=!1}else this.data=JSON.parse(e),this.MaxOffset=this.data._total,this.data=this.screen===Er?this.data.follows:this.data.top,this.offset=this.data.length,this.isLive?this.dataEnded=!0:this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadDataSuccess(),iy.loadingData=!1},key_play:function(){qr.Main_gameSelected=document.getElementById(this.ids[5]+this.posY+"_"+this.posX).getAttribute(Sc),document.body.removeEventListener("keydown",Py),qr.Main_BeforeAgame=this.screen,qr.Main_Go=kr,qr.Main_BeforeAgameisSet=!0,Po=!1,nc=0,document.body.removeEventListener("keydown",Py),Xc(this.ids[10]),Pu(),__(this.posY+"_"+this.posX,this.ids)},addCell:function(e){var t=this.isLive||this.screen===wr,n=t?e.game:e;iy.idObject[n._id]||(iy.itemsCount++,iy.idObject[n._id]=1,iy.row.appendChild(vy(iy.row_id,iy.coloumn_id,iy.ids,n.box.template.replace("{width}x{height}",Mc),n.name,t?bu(e.channels)+" "+S+h+bu(e.viewers)+q:"")),iy.coloumn_id++)}};function $y(){(By=ly(By=ly({ids:dy("Game"),table:"stream_table_games",screen:wr,key_refresh:uy,base_url:"https://api.twitch.tv/kraken/games/top?limit="+Uy,set_url:function(){this.offset&&this.offset+Uy>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+"&offset="+this.offset},label_init:function(){qr.Main_CenterLablesVectorPos=3,Wc("top_bar_game","icon_center_focus")},label_exit:function(){Kc("top_bar_game","icon_center_focus")}},Vy),Zy)).set_ThumbSize()}function Qy(){(Gy=ly(Gy=ly({ids:dy("UserGames"),table:"stream_table_user_games",screen:Er,isLive:R_("user_Games_live",!0),OldUserName:"",base_url:"https://api.twitch.tv/api/users/",set_url:function(){this.offset&&this.offset+Uy>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+encodeURIComponent(Ri[qr.Users_Position].name)+"/follows/games",this.isLive?this.url+="/live?limit=750":this.url+="?limit="+Uy+"&offset="+this.offset},key_refresh:function(){this.isLive=!this.isLive,Zc("top_bar_user",u+Ou(Ri[qr.Users_Position].name+" "+(this.isLive?$:Wt))),uy(),H_("user_Games_live",this.isLive?"true":"false"),$M&&sE()},label_init:function(){qr.Main_CenterLablesVectorPos=1,zc("label_refresh","icon-refresh",Kt+$+"/"+Wt+":"+Zt),zc("label_side_panel","icon-arrow-circle-left",P),Wc("top_bar_user","icon_center_focus"),this.OldUserName!==Ri[qr.Users_Position].name&&(this.status=!1),this.OldUserName=Ri[qr.Users_Position].name,Zc("top_bar_user",u+Ou(Ri[qr.Users_Position].name+" "+(this.isLive?$:Wt)))},label_exit:function(){qr.Users_Position=0,Kc("top_bar_user","icon_center_focus"),zc("label_refresh","icon-refresh",t+Zt),$c("top_bar_user",u),zc("label_side_panel","icon-ellipsis",Rn)}},Vy),Zy)).set_ThumbSize()}var eb=0,tb=0,nb=!1,ab=0,ib={},ob=[],sb=!1,db=0,lb=5,rb=3500,cb=0,ub=0,_b=!1,fb=!1,mb="",hb=!1,pb=["sc_thumbdiv","sc_img","sc_infodiv","sc_displayname","sc_cell","scempty_","search_channel_scroll"];function vb(){qr.Main_CenterLablesVectorPos=1,qr.Main_Go=Or,qr.isLastSChannels=!0,qr.Search_isSearching=!0,mb!==qr.Search_data&&(fb=!1),Gu(),Zc("top_bar_user",n+Ou(S+" '"+qr.Search_data+"'")),document.body.addEventListener("keydown",Tb,!1),fb?(Ru(eb),jc(pb[6]),xb(),xu()):yb()}function gb(){Bu(),document.body.removeEventListener("keydown",Tb),Xc(pb[6])}function yb(){Nu("stream_table_search_channel"),Xc(pb[6]),Qc(),uu(),mb=qr.Search_data,fb=!1,ib={},ab=ub=cb=0,eb=tb=0,nb=!(L_=!(hb=!(ob=[]))),su(),bb(),wb()}function bb(){Fu(),sb=!0,db=0,rb=3500}function wb(){var e=ab+cb;e&&ub-1<e&&(e=ub-fc,nb=!0),J_("https://api.twitch.tv/kraken/search/channels?query="+encodeURIComponent(qr.Search_data)+"&limit="+fc+"&offset="+e,rb,2,null,Cb,kb)}function kb(){++db<lb?(rb+=500,wb()):(sb=!1,ab?(nb=!0,Eb()):(L_=!1,eu(),cu(T)))}function Cb(e){var t=JSON.parse(e),n=t.channels.length;ub=parseInt(t._total),n<fc&&(nb=!0);var a=ab;_b=!(ab+=n);var i=n/mc;0<n%mc&&i++;for(var o,s,d,l,r,c=0,u=document.getElementById("stream_table_search_channel"),_=0;_<i;_++){for(s=a/mc+_,d=document.createElement("tr"),o=0;o<mc&&c<n;o++,c++)r=(l=t.channels[c])._id,ib[r]?o--:(ib[r]=1,d.appendChild(Mb(s,s+"_"+o,[l.name,r,l.logo,l.display_name])));for(;o<mc;o++)nb&&!hb&&(hb=!0,ab=s*mc+o),d.appendChild(Ju(pb[5]+s+"_"+o)),ob.push(pb[5]+s+"_"+o);u.appendChild(d)}Eb()}function Mb(e,t,n){return e<4&&Vu(n[2]),zu(t,pb,n)}function Eb(){if(fb){if(Hu(Uc),0<ob.length&&!nb)return bb(),void Sb();du(tb,eb,mc,ab),ob=[]}else _b?cu(d):(fb=!0,Hu(Uc),xb(),xu()),jc(pb[6]),L_=!1,eu();sb=!1}function Sb(){ru(ob.length);var e=ab+cb;e&&ub-1<e&&(e=ub-pc,nb=!0),J_("https://api.twitch.tv/kraken/search/channels?query="+encodeURIComponent(qr.Search_data)+"&limit="+pc+"&offset="+e,rb,2,null,Pb,Ib)}function Ib(){++db<lb?(rb+=500,Sb()):(nb=!0,ab-=ob.length,ob=[],Eb())}function Pb(e){var t,n,a=JSON.parse(e),i=a.channels.length,o=0,s=0,d=[];for(ub=parseInt(a._total),i<pc&&(nb=!0);o<ob.length&&s<i;o++,s++)n=(t=a.channels[s])._id,ib[n]?o--:(ib[n]=1,Xu(ob[o],[t.name,n,t.logo,t.display_name],pb),d.push(o));for(o=d.length-1;-1<o;o--)ob.splice(d[o],1);cb+=s,nb&&(ab-=ob.length,ob=[]),Eb()}function xb(){a_(eb,tb,pb,mc,ab),ab/mc<eb+hc&&!nb&&!sb&&(bb(),wb()),zr&&Lb()}function Lb(){ab&&__(eb+"_"+tb,pb)}function Tb(e){var t;if(!L_&&!n_())switch(t_(),e.keyCode){case Ua:gu()?vu():mu()?fu():(Lb(),B_(Tb));break;case Ta:if(Cu(eb,tb-1,pb[0]))Lb(),tb--,xb();else for(t=mc-1;-1<t;t--)if(Cu(eb-1,t,pb[0])){Lb(),eb--,tb=t,xb();break}break;case Ga:Cu(eb,tb+1,pb[0])?(Lb(),tb++,xb()):Cu(eb+1,0,pb[0])&&(Lb(),eb++,tb=0,xb());break;case Ba:for(t=0;t<mc;t++)if(Cu(eb-1,tb-t,pb[0])){Lb(),eb--,tb-=t,xb();break}break;case Oa:for(t=0;t<mc;t++)if(Cu(eb+1,tb-t,pb[0])){Lb(),eb++,tb-=t,xb();break}break;case xa:case Pa:case La:case Aa:qr.Main_selectedChannel=document.getElementById(pb[4]+eb+"_"+tb).getAttribute(Sc),qr.Main_selectedChannel_id=document.getElementById(pb[4]+eb+"_"+tb).getAttribute("data-id"),qr.Main_selectedChannelDisplayname=document.getElementById(pb[3]+eb+"_"+tb).textContent,document.body.removeEventListener("keydown",Tb),qr.Main_BeforeChannel=Or,qr.Main_Go=xr,qr.Main_BeforeChannelisSet=!0,zs=Xa=!1,Xc(pb[6]),Iu()}}var Bb=!1,Gb=0,Ob=0,Ab=0,Ub=0,Nb=5,Hb=3500,Fb=0,Db=0,Rb=!1,qb=!1,Vb="",Jb=["sgthumbdiv","sgimg","sginfodiv","sgdisplayname","sgviwers","sgcell","sgempty_","search_games_scroll"];function zb(){qr.Main_CenterLablesVectorPos=1,qr.Main_Go=Ir,qr.Search_isSearching=!0,Gu(),Vb!==qr.Search_data&&(Bb=!1),Zc("top_bar_user",n+Ou(f+" '"+qr.Search_data+"'")),document.body.addEventListener("keydown",nw,!1),Bb?(Ru(Gb),jc(Jb[7]),ew(),xu()):jb()}function Xb(){qr.Search_isSearching||Bu(),document.body.removeEventListener("keydown",nw),qr.Games_return=!1,Xc(Jb[7])}function jb(){Nu("stream_table_search_game"),Xc(Jb[7]),Qc(),uu(),Vb=qr.Search_data,qb=Bb=!1,Gb=Ob=Ab=Db=Fb=0,su(),Yb(),Wb()}function Yb(){Fu(),L_=!0,Ub=0,Hb=3500}function Wb(){J_("https://api.twitch.tv/kraken/search/games?query="+encodeURIComponent(qr.Search_data),Hb,2,null,Zb,Kb)}function Kb(){++Ub<Nb?(Hb+=500,Wb()):(L_=!1,Ab?Qb():(eu(),cu(T)))}function Zb(e){var t=JSON.parse(e),n=0;null!==t.games&&(n=t.games.length);var a=Ab;Rb=!(Ab+=n);var i=n/uc;0<n%uc&&i++;for(var o,s,d,l,r=0,c=document.getElementById("stream_table_search_game"),u=0;u<i;u++){for(s=a/uc+u,d=document.createElement("tr"),o=0;o<uc&&r<n;o++,r++)l=t.games[r],d.appendChild($b(s,s+"_"+o,[l.name,l.box.template.replace("{width}x{height}",Mc),""]));for(;o<uc;o++)qb||(qb=!0,Ab=s*uc+o),d.appendChild(Ju(Jb[6]+s+"_"+o));c.appendChild(d)}Qb()}function $b(e,t,n){return e<2&&Vu(n[1]),Zu(t,Jb,n)}function Qb(){Bb||(Rb?cu(d):(Bb=!0,Hu(Nc),ew(),xu()),eu()),jc(Jb[7]),L_=!1,du(Ob,Gb,uc,Ab)}function ew(){o_(Gb,Ob,Jb,uc,Ab),zr&&tw()}function tw(){Ab&&__(Gb+"_"+Ob,Jb)}function nw(e){var t;if(!L_&&!n_())switch(t_(),e.keyCode){case Ua:gu()?vu():mu()?fu():(tw(),B_(nw));break;case Ta:if(Cu(Gb,Ob-1,Jb[0]))tw(),Ob--,ew();else for(t=uc-1;-1<t;t--)if(Cu(Gb-1,t,Jb[0])){tw(),Gb--,Ob=t,ew();break}break;case Ga:Cu(Gb,Ob+1,Jb[0])?(tw(),Ob++,ew()):Cu(Gb+1,0,Jb[0])&&(tw(),Gb++,Ob=0,ew());break;case Ba:for(t=0;t<uc;t++)if(Cu(Gb-1,Ob-t,Jb[0])){tw(),Gb--,Ob-=t,ew();break}break;case Oa:for(t=0;t<uc;t++)if(Cu(Gb+1,Ob-t,Jb[0])){tw(),Gb++,Ob-=t,ew();break}break;case xa:case Pa:case La:case Aa:qr.gameSelectedOld=qr.Main_gameSelected,Xb(),qr.Main_gameSelected=document.getElementById(Jb[5]+Gb+"_"+Ob).getAttribute(Sc),document.body.removeEventListener("keydown",nw),qr.Main_Go=kr,qr.Games_return=!0,Iu()}}var aw=0,iw=0,ow=!1;function sw(){uu(),Xc("label_refresh"),zc("label_side_panel","icon-arrow-circle-left",P),$c("top_bar_user",n),document.getElementById("top_lables").style.marginLeft="14%",document.getElementById("top_bar_live").style.display="none",document.getElementById("top_bar_featured").style.display="none",document.getElementById("top_bar_game").style.display="none",document.getElementById("top_bar_vod").style.display="none",document.getElementById("top_bar_clip").style.display="none",cr.placeholder=k,Wc("top_bar_user","icon_center_focus"),jc("search_scroll"),iw=aw=0,rw(),uw()}function dw(){_w(!1),document.body.removeEventListener("keydown",cw),rw(),qr.Main_Go=qr.Main_BeforeSearch,document.getElementById("top_lables").style.marginLeft="18.5%",$c("top_bar_user",u),Kc("top_bar_user","icon_center_focus"),zc("label_side_panel","icon-ellipsis",Rn),jc("label_refresh"),document.getElementById("top_bar_live").style.display="inline-block",document.getElementById("top_bar_featured").style.display="inline-block",document.getElementById("top_bar_game").style.display="inline-block",document.getElementById("top_bar_vod").style.display="inline-block",document.getElementById("top_bar_clip").style.display="inline-block",cr.value="",Xc("search_scroll")}function lw(){dw(),h_(function(){iw?1===iw?zb():2===iw&&Bw():vb()})}function rw(){Kc("chanel_button","button_search_focused"),Kc("game_button","button_search_focused"),Kc("live_button","button_search_focused"),aw&&(iw?1===iw?Wc("game_button","button_search_focused"):2===iw&&Wc("live_button","button_search_focused"):Wc("chanel_button","button_search_focused"))}function cw(e){if(!ow)switch(e.keyCode){case Ua:gu()?vu():mu()?fu():(dw(),Iu());break;case Ta:1===aw&&(--iw<0&&(iw=2),rw());break;case Ga:1===aw&&(2<++iw&&(iw=0),rw());break;case Ba:1===aw&&(aw=0,rw(),uw());break;case Oa:aw?1===aw&&(aw=0,rw(),uw()):(_w(!1),aw=1,rw());break;case xa:case Pa:case La:case Aa:aw?""!==cr.value&&null!==cr.value?(qr.Search_data=cr.value,cr.value="",lw()):(cu(s),window.setTimeout(function(){uu()},1e3)):uw()}}function uw(){document.body.removeEventListener("keydown",cw),document.body.addEventListener("keydown",mw,!1),cr.placeholder=k,cr.focus(),ow=!0}function _w(e){cr.blur(),fw(),document.body.removeEventListener("keydown",mw),cr.placeholder=E+k,e&&document.body.addEventListener("keydown",cw,!1),ow=!1}function fw(){if(null!==cr){var e=cr.cloneNode(!0);cr.parentNode.replaceChild(e,cr),cr=document.getElementById("search_input")}}function mw(e){switch(e.keyCode){case Ua:mu()?fu():gu()?vu():(dw(),Iu());break;case Da:cr.value="";break;case Ha:case Oa:_w(!0),aw=1,rw();break;case Na:cr.value=cr.value.slice(0,-1);break;case Fa:cr.value+=" "}}var hw=0,pw=0,vw=!1,gw=0,yw={},bw=[],ww=!1,kw=0,Cw=5,Mw=3500,Ew=0,Sw=0,Iw=!1,Pw=!1,xw=!1,Lw="",Tw=["sl_thumbdiv","sl_img","sl_infodiv","sl_displayname","sl_streamtitle","sl_streamgame","sl_viwers","sl_quality","sl_cell","slempty_","search_live_scroll"];function Bw(){qr.Main_CenterLablesVectorPos=1,qr.Main_Go=Pr,qr.Search_isSearching=!0,Gu(),Lw!==qr.Search_data&&(Pw=!1),Zc("top_bar_user",n+Ou(_+" '"+qr.Search_data+"'")),document.body.addEventListener("keydown",zw,!1),Pw?(Ru(hw),jc(Tw[10]),Vw(),xu()):Ow()}function Gw(){Bu(),document.body.removeEventListener("keydown",zw),Xc(Tw[10])}function Ow(){Nu("stream_table_search_live"),Xc(Tw[10]),Qc(),uu(),Lw=qr.Search_data,Pw=!1,Sw=Ew=0,yw={},hw=pw=gw=0,vw=!(L_=!(xw=!(bw=[]))),su(),Aw(),Uw()}function Aw(){Fu(),ww=!0,kw=0,Mw=3500}function Uw(){var e=gw+Ew;e&&Sw-1<e&&(e=Sw-dc,vw=!0),J_("https://api.twitch.tv/kraken/search/streams?query="+encodeURIComponent(qr.Search_data)+"&limit="+dc+"&offset="+e,Mw,2,null,Hw,Nw)}function Nw(){++kw<Cw?(Mw+=500,Uw()):(ww=!1,gw?(vw=!0,Fw()):(L_=!1,eu(),cu(T)))}function Hw(e){var t=JSON.parse(e),n=t.streams.length;Sw=parseInt(t._total),n<dc&&(vw=!0);var a=gw;Iw=!(gw+=n);var i=n/lc;0<n%lc&&i++;for(var o,s,d,l,r,c=0,u=document.getElementById("stream_table_search_live"),_=0;_<i;_++){for(s=a/lc+_,d=document.createElement("tr"),o=0;o<lc&&c<n;o++,c++)r=(l=t.streams[c]).channel._id,yw[r]?o--:(yw[r]=1,d.appendChild(Yu(s,s+"_"+o,[l.channel.name,r],Tw,[l.preview.template.replace("{width}x{height}",Cc),ku(JSON.stringify(l.stream_type))+l.channel.display_name,l.channel.status,l.game,y+$h(l.created_at)+b+", "+h+bu(l.viewers)+q,wu(l.video_height,l.average_fps,l.channel.language)])));for(;o<lc;o++)vw&&!xw&&(xw=!0,gw=s*lc+o),d.appendChild(Ju(Tw[9]+s+"_"+o)),bw.push(Tw[9]+s+"_"+o);u.appendChild(d)}Fw()}function Fw(){if(Pw){if(Hu(Nc),0<bw.length&&!vw)return Aw(),void Dw();du(pw,hw,lc,gw),bw=[]}else Iw?cu(d):(Pw=!0,Hu(Nc),Vw(),xu()),jc(Tw[10]),L_=!1,eu();ww=!1}function Dw(){ru(bw.length);var e=gw+Ew;e&&Sw-1<e&&(e=Sw-pc,vw=!0),J_("https://api.twitch.tv/kraken/search/streams?query="+encodeURIComponent(qr.Search_data)+"&limit="+pc+"&offset="+e,Mw,2,null,qw,Rw)}function Rw(){++kw<Cw?(Mw+=500,Dw()):(vw=!0,gw-=bw.length,bw=[],Fw())}function qw(e){var t,n,a=JSON.parse(e),i=a.streams.length,o=0,s=0,d=[];for(Sw=parseInt(a._total),i<pc&&(vw=!0);o<bw.length&&s<i;o++,s++)n=(t=a.streams[s]).channel._id,yw[n]?o--:(yw[n]=1,Wu(bw[o],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",Cc),ku(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+$h(t.created_at)+b+", "+h+bu(t.viewers)+q,wu(t.video_height,t.average_fps,t.channel.language)],Tw),d.push(o));for(o=d.length-1;-1<o;o--)bw.splice(d[o],1);Ew+=s,vw&&(gw-=bw.length,bw=[]),Fw()}function Vw(){i_(hw,pw,Tw,lc,gw),gw/lc<hw+rc&&!vw&&!ww&&(Aw(),Uw()),zr&&Jw()}function Jw(){gw&&__(hw+"_"+pw,Tw)}function zw(e){var t;if(!L_&&!n_())switch(t_(),e.keyCode){case Ua:gu()?vu():mu()?fu():(Jw(),B_(zw));break;case Ta:if(Cu(hw,pw-1,Tw[0]))Jw(),pw--,Vw();else for(t=lc-1;-1<t;t--)if(Cu(hw-1,t,Tw[0])){Jw(),hw--,pw=t,Vw();break}break;case Ga:Cu(hw,pw+1,Tw[0])?(Jw(),pw++,Vw()):Cu(hw+1,0,Tw[0])&&(Jw(),hw++,pw=0,Vw());break;case Ba:for(t=0;t<lc;t++)if(Cu(hw-1,pw-t,Tw[0])){Jw(),hw--,pw-=t,Vw();break}break;case Oa:for(t=0;t<lc;t++)if(Cu(hw+1,pw-t,Tw[0])){Jw(),hw++,pw-=t,Vw();break}break;case xa:case Pa:case La:case Aa:s_(hw+"_"+pw,Tw,zw)}}var Xw=0,jw={restor_playback:{values:["off","on"],defaultValue:2},chat_font_size:{values:["60%","80%","100%","120%","140%"],defaultValue:3},chat_brightness:{values:["0%","5%","10%","15%","20%","25%","30%","35%","40%","45%","50%","55%","60%","65%","70%","75%","80%","85%","90%","95%","100%"],defaultValue:11},force_disable_chat:{values:["off","on"],defaultValue:2},buffer_live:{values:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],defaultValue:2},buffer_vod:{values:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],defaultValue:2},buffer_clip:{values:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],defaultValue:2},videos_animation:{values:["off","on"],defaultValue:2},clock_offset:{values:Yw(),defaultValue:49},content_lang:{values:["All","Dansk [DA]","Deutsch [DE]","English [EN][EN-GB]","English - USA [EN]","English - UK [EN-GB]","Espaol [ES][ES-MX]","Espaol - Espaa [ES]","Espaol - Latinoamrica [ES-MX]","Franais [FR]","Italiano [IT]","Magyar [HU]","Nederlands [NL]","Norsk [NO]","Polski [PL]","Portugus [PT][PT-BR]","Portugus -Portugal [PT]","Portugus - Brasil [PT-BR]","Slovenina [SK]","Suomi [FI]","Svenska [SV]","Ting Vit [VI]","Trke [TR]","etina [CS]"," [EL]"," [BG]"," [RU]"," [TH]"," [ZH-ALL]","  [ZH-CN]","  [ZH-TW]"," [JA]"," [KO]","Romn [RO]"],set_values:["","da","de","en,en-gb","en","en-gb","es,es-mx","es","es-mx","fr","it","hu","nl","no","pl","pt,pt-br","pt","pt-br","sk","fi","sv","vi","tr","cs","el","bg","ru","th","zh-cn,zh-tw","zh-cn","zh-tw","ja","ko","ro"],defaultValue:1}};function Yw(){for(var e=[],t=43200,n=0;n<48;n++)e.push("-"+Kh(t)),t-=900;for(e.push(Kh(0)),t=900,n=0;n<48;n++)e.push(Kh(t)),t+=900;return e}var Ww=[],Kw=0;function Zw(){Su(),document.body.addEventListener("keydown",vk,!1),zc("label_refresh","icon-arrow-circle-left",P),$c("top_bar_user",a),document.getElementById("top_lables").style.marginLeft="14%",document.getElementById("top_bar_live").style.display="none",document.getElementById("top_bar_featured").style.display="none",document.getElementById("top_bar_game").style.display="none",document.getElementById("top_bar_vod").style.display="none",document.getElementById("top_bar_clip").style.display="none",Wc("top_bar_user","icon_center_focus"),jc("settings_scroll"),ck(Xw=0)}function $w(){document.body.removeEventListener("keydown",vk),uk(),$c("top_bar_user",u),document.getElementById("top_lables").style.marginLeft="18.5%",document.getElementById("top_bar_live").style.display="inline-block",document.getElementById("top_bar_featured").style.display="inline-block",document.getElementById("top_bar_game").style.display="inline-block",document.getElementById("top_bar_vod").style.display="inline-block",document.getElementById("top_bar_clip").style.display="inline-block",Kc("top_bar_user","icon_center_focus"),zc("label_refresh","icon-refresh",t+Zt),Xc("settings_scroll")}function Qw(){var e,t="";t+=ek("general",kn),e="content_lang",Ww.push(e),t+=tk(e,Zn),e="clock_offset",Ww.push(e),t+=tk(e,Wn),e="restor_playback",Ww.push(e),jw[e].values=[On,Gn],t+=nk(e,An,Un),e="videos_animation",Ww.push(e),jw[e].values=[On,Gn],t+=tk(e,Dn),t+=ek("play",pn),e="chat_font_size",Ww.push(e),t+=nk(e,Nn,Hn),e="chat_brightness",Ww.push(e),t+=tk(e,sa),e="force_disable_chat",Ww.push(e),jw[e].values=[Xt,B],t+=nk(e,ia,oa),t+='<div id="setting_title_buffers" class="settings_title">'+vn+'</div><div id="setting_title_buffers_summary" class="settings_summary">'+gn+"</div>",e="buffer_live",Ww.push(e),t+=tk(e,yn),e="buffer_vod",Ww.push(e),t+=tk(e,bn),e="buffer_clip",Ww.push(e),Zc("settings_main",t+=tk(e,wn)),Kw=Ww.length}function ek(e,t){return'<div id="setting_title_'+e+'" class="settings_section">'+t+"</div>"}function tk(e,t){return'<div id="'+e+'_div" class="settings_div"><div id="'+e+'_name" class="settings_name">'+t+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_left" class="left"></div></div><div id="'+e+'" class="strokedextramini settings_value">'+sk(e)+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_right" class="right"></div></div></div>'}function nk(e,t,n){return'<div id="'+e+'_div" class="settings_div"><div id="'+e+'_name" class="settings_name">'+t+'<div id="'+e+'_summary" class="settings_summary" style="font-size: 65%;">'+n+'</div></div><div class="settings_arraw_div"><div id="'+e+'arrow_left" class="left"></div></div><div id="'+e+'" class="strokedextramini settings_value">'+sk(e)+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_right" class="right"></div></div></div>'}function ak(e,t,n){Zc(e+"_name",t+'<div id="'+e+'_summary" class="settings_summary" style="font-size: 65%;">'+n+"</div>")}function ik(){var e="";for(e in $c("setting_title_general",kn),$c((e="clock_offset")+"_name",Wn),$c((e="content_lang")+"_name",Zn),jw[e].values[0]=$n,$c(e,sk(e)),$c("setting_title_play",pn),$c("setting_title_buffers",vn),$c("setting_title_buffers_summary",gn),$c((e="buffer_live")+"_name",yn),$c((e="buffer_vod")+"_name",bn),$c((e="buffer_clip")+"_name",wn),ak(e="restor_playback",An,Un),jw[e].values=[On,Gn],ak(e="chat_font_size",Nn,Hn),ak(e="force_disable_chat",ia,oa),jw[e].values=[On,Gn],$c((e="videos_animation")+"_name",Dn),jw[e].values=[On,Gn],$c((e="chat_brightness")+"_name",sa),jw)jw.hasOwnProperty(e)&&$c(e,sk(e))}function ok(){for(var e in jw)jw[e].defaultValue=F_(e,jw[e].defaultValue),jw[e].defaultValue-=1;hk(0),pk(),Qf=(.05*lk("chat_brightness")).toFixed(2),MS=lk("videos_animation"),Qr=dk("content_lang"),qr.Play_ChatForceDisable=lk("force_disable_chat")}function sk(e){return jw[e].values[lk(e)]}function dk(e){return jw[e].set_values[lk(e)]}function lk(e){return jw[e].defaultValue}function rk(e){return jw[e].values.length-1}function ck(e){var t=Ww[Xw];Wc(t,"settings_value_focus"),Wc(t+"_div","settings_div_focus"),fk(e)}function uk(){var e=Ww[Xw];document.getElementById(e+"arrow_left").style.opacity="0",document.getElementById(e+"arrow_right").style.opacity="0",Kc(e,"settings_value_focus"),Kc(e+"_div","settings_div_focus")}function _k(e){var t=Ww[e];H_(t,lk(t)+1),$c(t,sk(t)),fk(e),mk(e)}function fk(e){var t=Ww[e],n=lk(t),a=rk(t);0<n&&n<a?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="1"):n===a?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="0.2"):(document.getElementById(t+"arrow_left").style.opacity="0.2",document.getElementById(t+"arrow_right").style.opacity="1")}function mk(e){"content_lang"===(e=Ww[e])?Qr=dk("content_lang"):"videos_animation"===e?MS=lk("videos_animation"):"buffer_live"===e?hk(1):"buffer_vod"===e?hk(2):"buffer_clip"===e?hk(3):"chat_brightness"===e?(Qf=(.05*lk("chat_brightness")).toFixed(2),Bp(!1)):"force_disable_chat"===e?qr.Play_ChatForceDisable=lk("force_disable_chat"):"chat_font_size"===e?vh():"clock_offset"===e&&(pk(),g_())}function hk(e){try{e?1===e?(lm=1e3*sk("buffer_live"),Bc&&Android.SetBuffer(1,lm)):2===e?(Tv=1e3*sk("buffer_vod"),Bc&&Android.SetBuffer(2,Tv)):3===e&&(hf=1e3*sk("buffer_clip"),Bc&&Android.SetBuffer(3,hf)):(lm=1e3*sk("buffer_live"),Tv=1e3*sk("buffer_vod"),hf=1e3*sk("buffer_clip"),Bc&&(Android.SetBuffer(1,lm),Android.SetBuffer(2,Tv),Android.SetBuffer(3,hf)))}catch(e){}}function pk(){var e=lk("clock_offset");Tc=e<48?-9e5*(48-e):9e5*(e-48)}function vk(e){var t;switch(e.keyCode){case Ua:mu()?fu():gu()?vu():($w(),Iu());break;case Ta:0<lk(t=Ww[Xw])&&(jw[t].defaultValue-=1,_k(Xw));break;case Ga:lk(t=Ww[Xw])<rk(t)&&(jw[t].defaultValue+=1,_k(Xw));break;case Ba:0<Xw&&(uk(),ck(--Xw));break;case Oa:Xw<Kw-1&&(uk(),ck(++Xw))}}var gk=function(){var e={parse:function(e){return t(e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"),function(e){var t=function(e){for(var t=e.indexOf(d)<0?e.replace(s,""):e,n=[],a=0,i=0,o=0;o<t.length;)a=t.charCodeAt(o++),i?(n.push((65536+(i-55296<<10)+(a-56320)).toString(16)),i=0):55296<=a&&a<=56319?i=a:n.push(a.toString(16));return n.join("-")}(e);return t?'<img class="emoji" src="https://twemoji.maxcdn.com/2/72x72/'+t+'.png"/>':e})},replace:t},n=/(?:\ud83d[\udc68\udc69])(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddb0-\uddb3])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f)|[\u0023\u002a\u0030-\u0039]\ufe0f?\u20e3|(?:[\u00a9\u00ae\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\uddb5\uddb6\uddb8\uddb9\uddd1-\udddd]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a-\udc6d\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\udeeb\udeec\udef4-\udef9]|\ud83e[\udd10-\udd17\udd1d\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd40-\udd45\udd47-\udd70\udd73-\udd76\udd7a\udd7c-\udda2\uddb4\uddb7\uddc0-\uddc2\uddd0\uddde-\uddff]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g,s=/\uFE0F/g,d=String.fromCharCode(8205);return e;function t(e,t){return String(e).replace(n,t)}}(),yk=0,bk=0,wk=!1,kk=0,Ck=!1,Mk=0,Ek=5,Sk=3500,Ik=[],Pk=0,xk=!1,Lk=!1,Tk="",Bk=!1,Gk=["uc_thumbdiv","uc_img","uc_infodiv","uc_displayname","uc_cell","ucempty_","user_channels_scroll"];function Ok(){qr.Main_CenterLablesVectorPos=1,qr.Main_Go=Gr,qr.isLastSChannels=!1,zc("label_side_panel","icon-arrow-circle-left",P),Wc("top_bar_user","icon_center_focus"),Zc("top_bar_user",u+Ou(Ri[qr.Users_Position].name+Q)),document.body.addEventListener("keydown",Xk,!1),Tk!==Ri[qr.Users_Position].name&&(Lk=!1),Lk?(Ru(yk),jc(Gk[6]),Jk(),xu()):Uk()}function Ak(){qr.Users_Position=0,Kc("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",Xk),$c("top_bar_user",u),zc("label_side_panel","icon-ellipsis",Rn),Xc(Gk[6])}function Uk(){Nu("stream_table_user_channels"),Xc(Gk[6]),Qc(),uu(),Tk=Ri[qr.Users_Position].name,yk=bk=kk=Pk=0,Bk=wk=Lk=!1,L_=!0,su(),Ik=[],Nk(),Hk()}function Nk(){Fu(),Ck=!0,Mk=0,Sk=3500}function Hk(){J_("https://api.twitch.tv/kraken/users/"+encodeURIComponent(Ri[qr.Users_Position].id)+"/follows/channels?limit=100&offset="+Pk+"&sortby=created_at&",Sk,2,null,Dk,Fk)}function Fk(){++Mk<Ek?(Sk+=500,Hk()):(Ck=!1,kk?(wk=!0,Vk()):(L_=!1,eu(),cu(T)))}function Dk(e){var t=JSON.parse(e).follows,n=t.length;if(n){for(var a="",i=0;i<n;i++)a=t[i].channel.name+","+t[i].channel._id+","+t[i].channel.logo+","+t[i].channel.display_name,-1===Ik.indexOf(a)&&Ik.push(a);Pk+=n,Nk(),Hk()}else Ik.sort(function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}),Rk()}function Rk(){var e=fc,t=kk,n=Ik.length-t;n<e&&(e=n),e<fc&&(wk=!0),xk=!(kk+=e);var a=e/mc;0<e%mc&&a++;for(var i,o,s,d=t,l=document.getElementById("stream_table_user_channels"),r=0;r<a;r++){for(o=t/mc+r,s=document.createElement("tr"),i=0;i<mc&&d<Ik.length;i++,d++)s.appendChild(qk(o,o+"_"+i,Ik[d].split(",")));for(;i<mc;i++)wk&&!Bk&&(Bk=!0,kk=o*mc+i),s.appendChild(Ju(Gk[5]+o+"_"+i));l.appendChild(s)}Vk()}function qk(e,t,n){return e<4&&Vu(n[2]),zu(t,Gk,n)}function Vk(){Lk?Hu(Uc):(xk?cu(B+Q):(Lk=!0,Hu(Uc),Jk(),xu()),jc(Gk[6]),L_=!1,eu()),Ck=!1,du(bk,yk,mc,kk)}function Jk(){a_(yk,bk,Gk,mc,kk),kk/mc<yk+hc&&!wk&&!Ck&&(Nk(),Hk()),zr&&zk()}function zk(){kk&&__(yk+"_"+bk,Gk)}function Xk(e){var t;if(!L_&&!n_())switch(t_(),e.keyCode){case Ua:gu()?vu():mu()?fu():(zk(),B_(Xk));break;case Ta:if(Cu(yk,bk-1,Gk[0]))zk(),bk--,Jk();else for(t=mc-1;-1<t;t--)if(Cu(yk-1,t,Gk[0])){zk(),yk--,bk=t,Jk();break}break;case Ga:Cu(yk,bk+1,Gk[0])?(zk(),bk++,Jk()):Cu(yk+1,0,Gk[0])&&(zk(),yk++,bk=0,Jk());break;case Ba:for(t=0;t<mc;t++)if(Cu(yk-1,bk-t,Gk[0])){zk(),yk--,bk-=t,Jk();break}break;case Oa:for(t=0;t<mc;t++)if(Cu(yk+1,bk-t,Gk[0])){zk(),yk++,bk-=t,Jk();break}break;case xa:case Pa:case La:case Aa:qr.Main_selectedChannel=document.getElementById(Gk[4]+yk+"_"+bk).getAttribute(Sc),qr.Main_selectedChannel_id=document.getElementById(Gk[4]+yk+"_"+bk).getAttribute("data-id"),qr.Main_selectedChannelDisplayname=document.getElementById(Gk[3]+yk+"_"+bk).textContent,qr.Main_selectedChannelLogo=document.getElementById(Gk[1]+yk+"_"+bk).src,document.body.removeEventListener("keydown",Xk),qr.Main_BeforeChannel=Gr,qr.Main_Go=xr,qr.Main_BeforeChannelisSet=!0,zs=Xa=!0,Xc(Gk[6]),Iu()}}var jk=0,Yk=0,Wk=!1,Kk=0,Zk={},$k=[],Qk=!1,eC=0,tC=5,nC=3500,aC=0,iC=0,oC=!1,sC=["uh_thumbdiv","uh_img","uh_infodiv","uh_displayname","uh_hosttitle","uh_hostgame","uh_viwers","uh_quality","uh_cell","uhempty_","user_host_scroll"],dC=!1,lC="",rC=!1;function cC(){qr.Main_CenterLablesVectorPos=1,qr.Main_Go=Mr,zc("label_side_panel","icon-arrow-circle-left",P),Wc("top_bar_user","icon_center_focus"),Zc("top_bar_user",u+Ou(Ri[qr.Users_Position].name+Z)),document.body.addEventListener("keydown",CC,!1),lC!==Ri[qr.Users_Position].name&&(dC=!1),dC?(Ru(jk),jc(sC[10]),wC(),xu()):_C()}function uC(){qr.Users_Position=0,Kc("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",CC),$c("top_bar_user",u),zc("label_side_panel","icon-ellipsis",Rn),Xc(sC[10])}function _C(){Nu("stream_table_user_host"),Xc(sC[10]),Qc(),uu(),lC=Ri[qr.Users_Position].name,dC=!1,Zk={},Kk=iC=aC=0,jk=Yk=0,Wk=!(L_=!(rC=!($k=[]))),su(),fC(),mC()}function fC(){Fu(),Qk=!0,eC=0,nC=3500}function mC(){var e=Kk+aC;e&&iC-1<e&&(e=iC-dc,Wk=!0),J_("https://api.twitch.tv/api/users/"+encodeURIComponent(Ri[qr.Users_Position].name)+"/followed/hosting?limit="+dc+"&offset="+e,nC,2,null,pC,hC)}function hC(){++eC<tC?(nC+=500,mC()):(Qk=!1,Kk?(Wk=!0,vC()):(L_=!1,eu(),cu(T)))}function pC(e){var t=JSON.parse(e),n=t.hosts.length;iC=parseInt(t._total),n<dc&&(Wk=!0);var a=Kk;oC=!(Kk+=n);var i=n/lc;0<n%lc&&i++;for(var o,s,d,l,r,c=0,u=document.getElementById("stream_table_user_host"),_=0;_<i;_++){for(s=a/lc+_,d=document.createElement("tr"),o=0;o<lc&&c<n;o++,c++)r=(l=t.hosts[c]).target._id+""+l._id,Zk[r]?o--:(Zk[r]=1,d.appendChild(Yu(s,s+"_"+o,[l.target.channel.name,l.target._id],sC,[l.target.preview_urls.template.replace("{width}x{height}",Cc),l.display_name+ae+l.target.channel.display_name,l.target.title,l.target.meta_game,h.charAt(1).toUpperCase()+h.slice(2)+bu(l.target.viewers)+q,""])));for(;o<lc;o++)Wk&&!rC&&(rC=!0,Kk=s*lc+o),d.appendChild(Ju(sC[9]+s+"_"+o)),$k.push(sC[9]+s+"_"+o);u.appendChild(d)}vC()}function vC(){if(dC){if(Hu(Nc),0<$k.length&&!Wk)return fC(),void gC();du(Yk,jk,lc,Kk),$k=[]}else oC?cu(B+Z):(dC=!0,wC(),Hu(Nc),xu()),jc(sC[10]),L_=!1,eu();Qk=!1}function gC(){ru($k.length);var e=Kk+aC;e&&iC-1<e&&(e=iC-pc,Wk=!0),J_("https://api.twitch.tv/api/users/"+encodeURIComponent(Ri[qr.Users_Position].name)+"/followed/hosting?limit="+pc+"&offset="+e,nC,2,null,bC,yC)}function yC(){++eC<tC?(nC+=500,gC()):(Wk=!0,Kk-=$k.length,$k=[],vC())}function bC(e){var t,n,a=JSON.parse(e),i=a.streams.length,o=0,s=0,d=[];for(iC=parseInt(a._total),i<pc&&(Wk=!0);o<$k.length&&s<i;o++,s++)n=(t=a.hosts[s]).target._id+""+t._id,Zk[n]?o--:(Zk[n]=1,Wu($k[o],[t.target.channel.name,t.target._id],[t.target.preview_urls.template.replace("{width}x{height}",Cc),t.display_name+ae+t.target.channel.display_name,t.target.title,t.target.meta_game,h.charAt(1).toUpperCase()+h.slice(2)+bu(t.target.viewers)+q,""],sC),d.push(o));for(o=d.length-1;-1<o;o--)$k.splice(d[o],1);aC+=s,Wk&&(Kk-=$k.length,$k=[]),vC()}function wC(){i_(jk,Yk,sC,lc,Kk),Kk/lc<jk+rc&&!Wk&&!Qk&&(fC(),mC()),zr&&kC()}function kC(){Kk&&__(jk+"_"+Yk,sC)}function CC(e){var t;if(!L_&&!n_())switch(t_(),e.keyCode){case Ua:gu()?vu():mu()?fu():(kC(),B_(CC));break;case Ta:if(Cu(jk,Yk-1,sC[0]))kC(),Yk--,wC();else for(t=lc-1;-1<t;t--)if(Cu(jk-1,t,sC[0])){kC(),jk--,Yk=t,wC();break}break;case Ga:Cu(jk,Yk+1,sC[0])?(kC(),Yk++,wC()):Cu(jk+1,0,sC[0])&&(kC(),jk++,Yk=0,wC());break;case Ba:for(t=0;t<lc;t++)if(Cu(jk-1,Yk-t,sC[0])){kC(),jk--,Yk-=t,wC();break}break;case Oa:for(t=0;t<lc;t++)if(Cu(jk+1,Yk-t,sC[0])){kC(),jk++,Yk-=t,wC();break}break;case xa:case Pa:case La:case Aa:s_(jk+"_"+Yk,sC,CC)}}var MC,EC=!1,SC=0,IC=3500,PC=0,xC=5,LC=0,TC=!1,BC="",GC=0,OC={},AC=!1,UC=[],NC=null,HC=["ulf_thumbdiv","ulf_img","ulf_infodiv","ulf_displayname","ulf_streamtitle","ulf_streamgame","ulf_viwers","ulf_quality","ulf_cell","ulempty_","user_live_scroll"];function FC(){ao()&&(tM(),AC?lM(dm,HC[0])&&(NC=JSON.parse(document.getElementById(HC[8]+dm).getAttribute(Sc))[0]):NC=null,Nu("user_feed_scroll"),AC=!1,document.getElementById("user_feed_scroll").style.left="2.5px",document.getElementById("user_feed").style.bottom="0.1%",jc("dialog_loading_feed"),BC="",GC=LC=PC=0,dm=0,OC={},UC=[],h_(function(){qC(),VC()}))}function DC(e){for(var t,n=0;n<UC.length;n++)null!==(t=document.getElementById(UC[n].id))&&Fc(t,UC[n].src+Gc,e)}function RC(e,t){UC.push({id:e,src:t})}function qC(){EC=!0,SC=0,IC=3500}function VC(){J_("https://api.twitch.tv/kraken/users/"+encodeURIComponent(Ri[qr.Users_Position].id)+"/follows/channels?limit=100&offset="+PC+"&sortby=created_at",IC,2,null,zC,JC)}function JC(){++SC<xC?(IC+=500,VC()):(EC=!1,LC?(TC=!0,WC()):(Xc("dialog_loading_feed"),ZC()&&(dp(T),window.setTimeout(function(){lp()},2e3))))}function zC(e){var t=JSON.parse(e).follows,n=t.length;if(n){for(var a="",i=0;i<n;i++)a=t[i].channel._id+",",-1===BC.indexOf(a)&&(BC+=a);PC+=n,qC(),VC()}else BC=BC.slice(0,-1),qC(),h_(XC)}function XC(){J_("https://api.twitch.tv/kraken/streams/?channel="+encodeURIComponent(BC)+"&limit=100&offset=0&stream_type=all",IC,2,null,YC,jC)}function jC(){++SC<xC?(IC+=500,XC()):(EC=!1,Xc("dialog_loading_feed"),ZC()&&(dp(T),window.setTimeout(function(){lp()},2e3)))}function YC(e){var t=JSON.parse(e),n=t.streams.length;n<dc&&(TC=!0),LC+=n;for(var a,i,o=document.getElementById("user_feed_scroll"),s=0;s<n;s++)i=(a=t.streams[s]).channel._id,OC[i]||(OC[i]=1,null!==NC&&NC===a.channel.name&&(dm=s),o.appendChild(KC(s,[a.channel.name,i],HC,[a.preview.template.replace("{width}x{height}",Cc),ku(JSON.stringify(a.stream_type))+a.channel.display_name,a.channel.status,a.game,y+$h(a.created_at)+b+", "+h+bu(a.viewers)+q,wu(a.video_height,a.average_fps,a.channel.language)])));WC()}function WC(){AC=!(EC=!1),DC(Nc),h_(function(){Xc("dialog_loading_feed"),iM()})}function KC(e,t,n,a){return RC(n[1]+e,a[0]),(Zr=document.createElement("div")).setAttribute("id",n[8]+e),Zr.setAttribute(Sc,JSON.stringify(t)),Zr.className="user_feed_thumb",Zr.innerHTML='<div id="'+n[0]+e+'" class="stream_thumbnail_clip" ><div><img id="'+n[1]+e+'" class="stream_img"></div><div id="'+n[2]+e+'" class="stream_text2"><div id="'+n[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;">'+a[1]+'</div><div id="'+n[5]+e+'"class="stream_info">'+v+a[3]+"</div></div></div>",Zr}function ZC(){return Yc("user_feed")}function $C(){var e=ao();e&&(sm!==Ri[qr.Users_Position].name&&(AC=!1),sm=Ri[qr.Users_Position].name),e&&lM(0,HC[0])||(AC=!1),AC||EC||FC(),e&&(document.getElementById("user_feed").style.bottom="0.1%",jc("user_feed"),iM())}function QC(){Xc("user_feed")}function eM(){tM(),nM()}function tM(){window.clearTimeout(MC)}function nM(){ZC()&&(MC=window.setTimeout(QC,5500))}function aM(){tM(),EC?window.setTimeout(function(){EC=!1},15e3):FC()}function iM(){eM(),lM(dm,HC[0])&&(Wc(HC[0]+dm,"feed_thumbnail_focused"),ZC()?sM():Yc("scene2")&&dM())}function oM(){return dm<3?2.5:lM(dm+2,HC[0])?-1*document.getElementById(HC[8]+(dm-2)).offsetLeft:lM(dm+1,HC[0])?-1*document.getElementById(HC[8]+(dm-3)).offsetLeft:-1*document.getElementById(HC[8]+(dm-(3<dm?4:3))).offsetLeft}function sM(){var e=oM();e&&(document.getElementById("user_feed_scroll").style.left=e+"px")}function dM(){document.getElementById("user_feed").style.bottom="-1000%",jc("user_feed");var e=sM();e&&(document.getElementById("user_feed_scroll").style.left=e+"px"),document.getElementById("user_feed").style.bottom="0.1%",Xc("user_feed")}function lM(e,t){return null!==document.getElementById(t+e)}function rM(){lM(dm,HC[0])&&Kc(HC[0]+dm,"feed_thumbnail_focused")}var cM=0,uM=0,_M=!1,fM=0,mM={},hM=[],pM=!1,vM=0,gM=5,yM=3500,bM=0,wM=0,kM=0,CM=!1,MM=["ul_thumbdiv","ul_img","ul_infodiv","ul_displayname","ul_streamtitle","ul_streamgame","ul_viwers","ul_quality","ul_cell","ulempty_","user_live_scroll"],EM=!1,SM="",IM="",PM=!1;function xM(){qr.Main_CenterLablesVectorPos=1,qr.Main_Go=Cr,zc("label_side_panel","icon-arrow-circle-left",P),Wc("top_bar_user","icon_center_focus"),Zc("top_bar_user",u+Ou(Ri[qr.Users_Position].name+K)),document.body.addEventListener("keydown",zM,!1),IM!==Ri[qr.Users_Position].name&&(EM=!1),EM?(Ru(cM),jc(MM[10]),VM(),xu()):TM()}function LM(){qr.Users_Position=0,Kc("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",zM),$c("top_bar_user",u),zc("label_side_panel","icon-ellipsis",Rn),Xc(MM[10])}function TM(){Nu("stream_table_user_live"),Xc(MM[10]),Qc(),uu(),EM=!1,IM=Ri[qr.Users_Position].name,wM=bM=kM=0,mM={},cM=uM=fM=0,_M=!(L_=!(PM=!(hM=[]))),SM="",su(),BM(),GM()}function BM(){Fu(),pM=!0,vM=0,yM=3500}function GM(){var e,t="https://api.twitch.tv/kraken/users/"+encodeURIComponent(Ri[qr.Users_Position].id)+"/follows/channels?limit=100&offset="+kM+"&sortby=created_at";if(Bc){if(!(e=Android.mreadUrl(t,yM,2,null)))return void OM();200===(e=JSON.parse(e)).status?AM(e.responseText):OM()}else(e=new XMLHttpRequest).open("GET",t,!0),e.timeout=yM,e.setRequestHeader(yc,kc),e.setRequestHeader(gc,vc),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void AM(e.responseText);OM()}},e.send(null)}function OM(){++vM<gM?(yM+=500,GM()):(pM=!1,fM?(_M=!0,FM()):(L_=!1,eu(),cu(T)))}function AM(e){var t=JSON.parse(e).follows,n=t.length;if(n){for(var a="",i=0;i<n;i++)a=t[i].channel._id+",",-1===SM.indexOf(a)&&(SM+=a);kM+=n,BM(),GM()}else SM=SM.slice(0,-1),BM(),UM()}function UM(){var e=fM+bM;e&&wM-1<e&&(e=wM-dc,_M=!0);var t,n="https://api.twitch.tv/kraken/streams/?channel="+encodeURIComponent(SM)+"&limit="+dc+"&offset="+e+"&stream_type=all";if(Bc){if(!(t=Android.mreadUrl(n,yM,2,null)))return void NM();200===(t=JSON.parse(t)).status?HM(t.responseText):NM()}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=yM,t.setRequestHeader(yc,kc),t.setRequestHeader(gc,vc),t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void HM(t.responseText);NM()}},t.send(null)}function NM(){++vM<gM?(yM+=500,UM()):(pM=!1,eu(),cu(T))}function HM(e){var t=JSON.parse(e),n=t.streams.length;wM=parseInt(t._total),n<dc&&(_M=!0);var a=fM;CM=!(fM+=n);var i=n/lc;0<n%lc&&i++;for(var o,s,d,l,r,c=0,u=document.getElementById("stream_table_user_live"),_=0;_<i;_++){for(s=a/lc+_,d=document.createElement("tr"),o=0;o<lc&&c<n;o++,c++)r=(l=t.streams[c]).channel._id,mM[r]?o--:(mM[r]=1,d.appendChild(Yu(s,s+"_"+o,[l.channel.name,r],MM,[l.preview.template.replace("{width}x{height}",Cc),ku(JSON.stringify(l.stream_type))+l.channel.display_name,l.channel.status,l.game,y+$h(l.created_at)+b+", "+h+bu(l.viewers)+q,wu(l.video_height,l.average_fps,l.channel.language)])));for(;o<lc;o++)_M&&!PM&&(PM=!0,fM=s*lc+o),d.appendChild(Ju(MM[9]+s+"_"+o)),hM.push(MM[9]+s+"_"+o);u.appendChild(d)}FM()}function FM(){if(EM){if(Hu(Nc),0<hM.length&&!_M)return BM(),void DM();du(uM,cM,lc,fM),hM=[]}else CM?cu(B+K):(EM=!0,VM(),Hu(Nc),xu()),jc(MM[10]),L_=!1,eu();pM=!1}function DM(){ru(hM.length);var e=fM+bM;e&&wM-1<e&&(e=wM-pc,_M=!0);var t,n="https://api.twitch.tv/kraken/streams/?channel="+encodeURIComponent(SM)+"&limit="+pc+"&offset="+e+"&stream_type=all";if(Bc){if(!(t=Android.mreadUrl(n,yM,2,null)))return void RM();200===(t=JSON.parse(t)).status?qM(t.responseText):RM()}else(t=new XMLHttpRequest).open("GET",+Math.round(1e7*Math.random()),!0),t.timeout=yM,t.setRequestHeader(yc,kc),t.setRequestHeader(gc,vc),t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void qM(t.responseText);RM()}},t.send(null)}function RM(){++vM<gM?(yM+=500,DM()):(_M=!0,fM-=hM.length,hM=[],FM())}function qM(e){var t,n,a=JSON.parse(e),i=a.streams.length,o=0,s=0,d=[];for(wM=parseInt(a._total),i<pc&&(_M=!0);o<hM.length&&s<i;o++,s++)n=(t=a.streams[s]).channel._id,mM[n]?o--:(mM[n]=1,Wu(hM[o],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",Cc),ku(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+$h(t.created_at)+b+", "+h+bu(t.viewers)+q,wu(t.video_height,t.average_fps,t.channel.language)],MM),d.push(o));for(o=d.length-1;-1<o;o--)hM.splice(d[o],1);bM+=s,_M&&(fM-=hM.length,hM=[]),FM()}function VM(){i_(cM,uM,MM,lc,fM),fM/lc<cM+rc&&!_M&&!pM&&(BM(),GM()),zr&&JM()}function JM(){fM&&__(cM+"_"+uM,MM)}function zM(e){var t;if(!L_&&!n_())switch(t_(),e.keyCode){case Ua:gu()?vu():mu()?fu():(JM(),B_(zM));break;case Ta:if(Cu(cM,uM-1,MM[0]))JM(),uM--,VM();else for(t=lc-1;-1<t;t--)if(Cu(cM-1,t,MM[0])){JM(),cM--,uM=t,VM();break}break;case Ga:Cu(cM,uM+1,MM[0])?(JM(),uM++,VM()):Cu(cM+1,0,MM[0])&&(JM(),cM++,uM=0,VM());break;case Ba:for(t=0;t<lc;t++)if(Cu(cM-1,uM-t,MM[0])){JM(),cM--,uM-=t,VM();break}break;case Oa:for(t=0;t<lc;t++)if(Cu(cM+1,uM-t,MM[0])){JM(),cM++,uM-=t,VM();break}break;case xa:case Pa:case La:case Aa:s_(cM+"_"+uM,MM,zM)}}var XM=0,jM=0,YM=8,WM=0,KM=null,ZM=["u_thumbdiv","u_img","u_infodiv","u_displayname","u_cell","user_scroll"],$M=!1,QM=!0;function eE(){return jr?(tE(),void Qa(jr)):co()?(qr.Main_CenterLablesVectorPos=1,qr.Main_Go=Br,document.getElementById("screens_holder").style.top=screen.height/100*7+"px",uu(),Wc("top_bar_user","icon_center_focus"),document.body.addEventListener("keydown",pE,!1),void($M?(Ru(XM),jc(ZM[5]),dE(),xu()):nE())):(qr.Main_Go=yr,tE(),void Iu())}function tE(){qr.Users_Position=0,Kc("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",pE),Xc(ZM[5]),document.getElementById("screens_holder").style.top="0"}function nE(){Nu("stream_table_user"),Xc(ZM[5]),Qc(),uu(),L_=!($M=!1),QM=!(XM=jM=0),h_(function(){aE()})}function aE(){for(var e,t,n,a=document.createElement("tbody"),i=document.getElementById("stream_table_user"),o=0;o<Ri.length;o++)t=0,n=o%2?"B5B5B5":"FFFFFF",(Zr=document.createElement("tr")).className="follower_header",Zr.innerHTML='<div class="follower_header">'+(o?"":se)+Ri[o].name+H+"</div>",i.appendChild(a),i.appendChild(Zr),(e=document.createElement("tr")).appendChild(iE(o+"_"+t,qr.Main_selectedChannelDisplayname,K,"play",n)),t++,e.appendChild(iE(o+"_"+t,qr.Main_selectedChannelDisplayname,Z,"users",n)),t++,e.appendChild(iE(o+"_"+t,qr.Main_selectedChannelDisplayname,Gy.isLive?$:Wt,"gamepad",n)),t++,e.appendChild(iE(o+"_"+t,qr.Main_selectedChannelDisplayname,nn,"movie-play",n)),t++,e.appendChild(iE(o+"_"+t,qr.Main_selectedChannelDisplayname,Q,"filmstrip",n)),t++,o?e.appendChild(iE(o+"_"+t,qr.Main_selectedChannelDisplayname,oe,"arrow-up",n)):e.appendChild(iE(o+"_"+t,qr.Main_selectedChannelDisplayname,ee,"user-plus",n)),t++,e.appendChild(iE(o+"_"+t,qr.Main_selectedChannelDisplayname,te,"user-times",n)),t++,e.appendChild(iE(o+"_"+t,qr.Main_selectedChannelDisplayname,Ri[o].access_token?Et:Mt,"key",n)),i.appendChild(e);oE()}function iE(e,t,n,a,i){return(Zr=document.createElement("td")).setAttribute("id",ZM[4]+e),Zr.setAttribute(Sc,t),Zr.className="stream_cell",Zr.innerHTML='<div id="'+ZM[0]+e+'" class="stream_thumbnail_channel" ><div id="'+ZM[1]+e+'" class="stream_user_icon" style="color: #'+i+';"><i class="icon-'+a+'"></i></div></div><div id="'+ZM[2]+e+'" class="stream_text"><div id="'+ZM[3]+e+'" class="stream_info_user" style="text-align: center;">'+n+"</div></div>",Zr}function oE(){h_(function(){$M||($M=!0,dE(),eu(),xu()),jc(ZM[5]),QM=L_=!1})}function sE(){for(var e=0;e<Ri.length;e++)$c(ZM[3]+e+"_2",Gy.isLive?$:Wt)}function dE(){Wc(ZM[0]+XM+"_"+jM,"stream_thumbnail_focused"),qu(XM)?1<XM?Cu(XM+1,0,ZM[0])&&u_(ZM[5],-1*document.getElementById(ZM[4]+XM+"_"+jM).offsetTop+500):u_(ZM[5],screen.height/100*7):Qu(),zr&&lE()}function lE(){Jr=!1,Kc(ZM[0]+XM+"_"+jM,"stream_thumbnail_focused")}function rE(){return qr.Users_Position=XM,3!==jM||Ri[qr.Users_Position].access_token?7===jM&&Ri[qr.Users_Position].access_token?(cu(Et),void window.setTimeout(uu,1500)):(6!==jM&&7!==jM&&(Xc(ZM[5]),document.body.removeEventListener("keydown",pE),document.getElementById("screens_holder").style.top="0"),void h_(function(){jM?1===jM?cC():2===jM?(iy=Gy,ry()):3===jM?NE():4===jM?Ok():5===jM?XM?lo(XM):(qr.Main_Before=Br,zi()):6===jM?_E():7!==jM||Ri[qr.Users_Position].access_token||_E():xM()})):(cu(Tn),void window.setTimeout(uu,5e3))}function cE(){window.clearTimeout(KM)}function uE(){KM=window.setTimeout(fE,2e4)}function _E(){uE(),6===jM?Zc("main_dialog_remove",jt+la+Ri[qr.Users_Position].name+"?"):7===jM&&Zc("main_dialog_remove",vt+" "+Ri[qr.Users_Position].name+"?"),jc("main_remove_dialog")}function fE(){cE(),Xc("main_remove_dialog"),WM=0,hE()}function mE(){return Yc("main_remove_dialog")}function hE(){WM?(Kc("remove_cancel","button_search_focused"),Wc("remove_yes","button_search_focused")):(Wc("remove_cancel","button_search_focused"),Kc("remove_yes","button_search_focused"))}function pE(e){var t;if(!L_&&!n_())switch(t_(),e.keyCode){case Ua:mE()?fE():mu()?fu():gu()?vu():(lE(),B_(pE));break;case Ta:if(mE())--WM<0&&(WM=1),hE(),cE(),uE();else if(Cu(XM,jM-1,ZM[0]))lE(),jM--,dE();else if(Cu(XM-1,0,ZM[0])){for(t=YM-1;-1<t;t--)if(Cu(XM-1,t,ZM[0])){lE(),XM--,jM=t,dE();break}}else lE(),jM=YM-1,dE();break;case Ga:mE()?(1<++WM&&(WM=0),hE(),cE(),uE()):(Cu(XM,jM+1,ZM[0])?(lE(),jM++):(Cu(XM+1,0,ZM[0])?(lE(),XM++):lE(),jM=0),dE());break;case Ba:for(t=0;t<YM;t++)if(Cu(XM-1,jM-t,ZM[0])){lE(),XM--,jM-=t,dE();break}break;case Oa:for(t=0;t<YM;t++)if(Cu(XM+1,jM-t,ZM[0])){lE(),XM++,jM-=t,dE();break}break;case xa:case Pa:case La:case Aa:var n;if(mE()){if(6===jM)n=WM,fE(),n&&(document.body.removeEventListener("keydown",pE),tE(),oo(XM));else if(n=WM,fE(),n){qr.Users_AddcodePosition=qr.Users_Position,xu();var a=Ka,i="https://id.twitch.tv/oauth2/authorize?response_type=code&client_id="+encodeURIComponent(vc)+"&redirect_uri="+a+"&scope=user_follows_edit+user_subscriptions&force_verify=true";window.location=i}}else rE()}}var vE=0,gE=0,yE=!1,bE=0,wE={},kE=[],CE=!1,ME=0,EE=5,SE=3500,IE=0,PE=0,xE=!1,LE=!1,TE="time",BE=2,GE=!1,OE=["uv_thumbdiv","uv_img","uv_infodiv","uv_title","uv_streamon","uv_duration","uv_viwers","uv_quality","uv_cell","uvempty_","user_vod_scroll","uv_game"],AE=!1,UE=!1;function NE(){qr.Main_CenterLablesVectorPos=1,qr.Main_Go=Dr,Wc("top_bar_user","icon_center_focus"),zc("label_side_panel","icon-arrow-circle-left",P),Zc("top_bar_user",u+Ou(Ri[qr.Users_Position].name+(UE?U:A))),document.body.addEventListener("keydown",tS,!1),AE?(Ru(vE),jc(OE[10]),nS(),ZE(),xu()):FE()}function HE(){qr.Users_Position=0,AE&&$E(),Kc("top_bar_user","icon_center_focus"),zc("label_side_panel","icon-ellipsis",Rn),document.body.removeEventListener("keydown",tS),$c("top_bar_user",u),Xc(OE[10])}function FE(){AE&&$E(),Nu("stream_table_user_vod"),Xc(OE[10]),Qc(),nS(),uu(),GE=AE=!1,PE=IE=0,wE={},vE=gE=bE=0,yE=!(L_=!(LE=!(kE=[]))),su(),RE()}function DE(){Fu(),CE=!0,ME=0,SE=3500}function RE(){DE(),qE()}function qE(){var e=bE+IE;e&&PE-1<e&&(e=PE-dc,yE=!0);var t,n="https://api.twitch.tv/kraken/videos/followed?limit="+dc+"&broadcast_type="+(UE?"highlight":"archive")+"&sort="+TE+"&offset="+e;if(Bc){if(!(t=Android.mreadUrl(n,SE,3,wc+Ri[qr.Users_Position].access_token)))return void VE();if(200===(t=JSON.parse(t)).status)return void zE(t.responseText);401===t.status||403===t.status?ei(qr.Users_Position,0,RE,JE):VE()}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=SE,t.setRequestHeader(yc,kc),t.setRequestHeader(gc,vc),t.setRequestHeader(bc,wc+Ri[qr.Users_Position].access_token),t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void zE(t.responseText);401===t.status||403===t.status?ei(qr.Users_Position,0,RE,JE):VE()}},t.send(null)}function VE(){++ME<EE?(SE+=500,qE()):JE()}function JE(){CE=!1,bE?(yE=!0,XE()):(L_=!1,eu(),cu(T))}function zE(e){var t=JSON.parse(e),n=t.videos.length;PE=parseInt(t._total),n<dc&&(yE=!0);var a=bE;xE=!(bE+=n);var i=n/lc;0<n%lc&&i++;var o,s,d,l,r,c=0,u=document.getElementById("stream_table_user_vod");if(!GE){var _;for(GE=!0,d=document.createElement("tr"),f=0;f<2;f++)_=f?'<i class="icon-history stream_channel_fallow_icon"></i>'+Ca+Ca+Bn:'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+Ca+Ca+p,(Zr=document.createElement("td")).setAttribute("id",OE[8]+"y_"+f),Zr.className="stream_cell",Zr.innerHTML='<div id="'+OE[0]+"y_"+f+'" class="stream_thumbnail_channel_vod" ><div id="'+OE[3]+"y_"+f+'" class="stream_channel_fallow_game">'+_+"</div></div>",d.appendChild(Zr);u.appendChild(d)}for(var f=0;f<i;f++){for(s=a/lc+f,d=document.createElement("tr"),o=0;o<lc&&c<n;o++,c++)r=(l=t.videos[c])._id,-1!==(l.preview.template+"").indexOf("404_processing")||wE[r]?o--:(wE[r]=1,d.appendChild(GS(s,s+"_"+o,[r,l.length,l.language,l.game,l.channel.name,l.increment_view_count_url],[l.preview.template.replace("{width}x{height}",Cc),l.channel.display_name,F+Au(l.created_at),gk.parse(l.title)+la+en+v+l.game,bu(l.views)+R,wu(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.language),D+Kh(l.length),l.animated_preview_url],OE)));for(;o<lc;o++)yE&&!LE&&(LE=!0,bE=s*lc+o),d.appendChild(Ju(OE[9]+s+"_"+o)),kE.push(OE[9]+s+"_"+o);u.appendChild(d)}XE()}function XE(){AE?(Hu(Nc),du(gE,vE,lc,bE)):(xE?cu(B+(UE?U:A)+G+I):(AE=!0,ZE(),Hu(Nc),xu()),jc(OE[10]),L_=!1,eu()),0<kE.length&&!yE?jE():CE=!(kE=[])}function jE(){DE(),YE()}function YE(){ru(kE.length);var e=bE+IE;e&&PE-1<e&&(e=PE-pc,yE=!0);var t,n="https://api.twitch.tv/kraken/videos/followed?limit="+pc+"&broadcast_type="+(UE?"highlight":"archive")+"&sort="+TE+"&offset="+e;if(Bc){if(!(t=Android.mreadUrl(n,SE,3,wc+Ri[qr.Users_Position].access_token)))return void WE();if(200===(t=JSON.parse(t)).status)return void KE(t.responseText);401===t.status||403===t.status?ei(qr.Users_Position,0,RE,JE):WE()}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=SE,t.setRequestHeader(yc,kc),t.setRequestHeader(gc,vc),t.setRequestHeader(bc,wc+Ri[qr.Users_Position].access_token),t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void KE(t.responseText);401===t.status||403===t.status?ei(qr.Users_Position,0,RE,JE):WE()}},t.send(null)}function WE(){++ME<EE?(SE+=500,YE()):(yE=!0,bE-=kE.length,kE=[],XE())}function KE(e){var t,n,a=JSON.parse(e),i=a.videos.length,o=0,s=0,d=[];for(PE=parseInt(a._total);o<kE.length&&s<i;o++,s++)n=(t=a.videos[s])._id,-1!==(t.preview.template+"").indexOf("404_processing")||wE[n]?o--:(wE[n]=1,AS(kE[o],[n,t.length,t.language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",Cc),t.channel.display_name,F+Au(t.created_at),gk.parse(t.title)+la+en+v+t.game,bu(t.views)+R,wu(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.language),D+Kh(t.length),t.animated_preview_url],OE),d.push(o));for(o=d.length-1;-1<o;o--)kE.splice(d[o],1);IE+=s,yE&&(bE-=kE.length,kE=[]),XE()}function ZE(){vE<0?QE():(i_(vE,gE,OE,lc,bE),zS(OE,vE+"_"+gE),bE/lc<vE+rc&&!yE&&!CE&&RE(),zr&&$E())}function $E(){window.clearInterval(aS),-1<vE&&bE?(jc(OE[1]+vE+"_"+gE),__(vE+"_"+gE,OE)):eS()}function QE(){var e=1<gE?1:gE;Wc(OE[0]+"y_"+e,Ec)}function eS(){var e=1<gE?1:gE;Kc(OE[0]+"y_"+e,Ec)}function tS(e){var t;if(!L_&&!n_())switch(t_(),e.keyCode){case Ua:mu()?fu():mu()?fu():gu()?vu():($E(),B_(tS));break;case Ta:if(-1===vE)eS(),--gE<0&&(gE=1),QE();else if(vE||gE){if(Cu(vE,gE-1,OE[0]))$E(),gE--,ZE();else for(t=lc-1;-1<t;t--)if(Cu(vE-1,t,OE[0])){$E(),vE--,gE=t,ZE();break}}else $E(),eS(),vE=-1,gE=1,QE();break;case Ga:-1===vE?(eS(),1<++gE?(gE=0,xE?QE():(vE=0,ZE())):QE()):Cu(vE,gE+1,OE[0])?($E(),gE++,ZE()):Cu(vE+1,0,OE[0])&&($E(),vE++,gE=0,ZE());break;case Ba:if(-1!==vE||xE)if(vE){for(t=0;t<lc;t++)if(Cu(vE-1,gE-t,OE[0])){$E(),vE--,gE-=t,ZE();break}}else $E(),vE=-1,QE();else vE=0,eS(),ZE();break;case Oa:if(-1!==vE||xE){for(t=0;t<lc;t++)if(Cu(vE+1,gE-t,OE[0])){$E(),vE++,gE-=t,ZE();break}}else vE=0,eS(),ZE();break;case xa:case Pa:case La:case Aa:-1===vE?(0===gE?H_("UserVod_highlight",(UE=!UE)?"true":"false"):1===BE?BE++:BE--,FE()):r_(vE+"_"+gE,OE,tS)}}function nS(){1===BE?(Zc("top_bar_user",u+Ou(Ri[qr.Users_Position].name+" "+(UE?U:A)+xn)),TE="time"):2===BE&&(Zc("top_bar_user",u+Ou(Ri[qr.Users_Position].name+" "+(UE?U:A)+Ln)),TE="views"),H_("UserVod_TypeNumber",BE)}var aS,iS=0,oS=0,sS=!1,dS=0,lS={},rS=[],cS=!1,uS=0,_S=5,fS=3500,mS=0,hS=0,pS=!1,vS=!1,gS="week",yS=2,bS=!1,wS=["v_thumbdiv","v_img","v_infodiv","v_title","v_streamon","v_duration","v_viwers","v_quality","v_cell","vempty_","vod_scroll","v_game"],kS=!1,CS=!1,MS=1,ES=new Image;function SS(){qr.Main_CenterLablesVectorPos=4,qr.Main_Go=Ar,Wc("top_bar_vod","icon_center_focus"),document.body.addEventListener("keydown",XS,!1),kS?(Ru(iS),jc(wS[10]),jS(),RS(),xu()):PS()}function IS(){kS&&qS(),Bu(),document.body.removeEventListener("keydown",XS),Kc("top_bar_vod","icon_center_focus"),$c("top_bar_vod",nn),Xc(wS[10])}function PS(){kS&&qS(),Nu("stream_table_vod"),Xc(wS[10]),Qc(),jS(),uu(),bS=kS=!1,hS=mS=0,lS={},iS=oS=dS=0,sS=!(L_=!(vS=!(rS=[]))),su(),xS(),LS()}function xS(){Fu(),cS=!0,uS=0,fS=3500}function LS(){var e=dS+mS;e&&hS-1<e&&(e=hS-dc,sS=!0),J_("https://api.twitch.tv/kraken/videos/top?limit="+dc+"&broadcast_type="+(CS?"highlight":"archive")+"&sort=views&offset="+e+"&period="+gS+(""!==Qr?"&language="+Qr:""),fS,2,null,BS,TS)}function TS(){++uS<_S?(fS+=500,LS()):(cS=!1,dS?(sS=!0,NS()):(L_=!1,eu(),cu(T)))}function BS(e){var t=JSON.parse(e),n=t.vods.length;hS=parseInt(t._total),n<dc&&(sS=!0);var a=dS;pS=!(dS+=n);var i=n/lc;0<n%lc&&i++;var o,s,d,l,r,c=0,u=document.getElementById("stream_table_vod");if(!bS){var _;for(bS=!0,d=document.createElement("tr"),f=0;f<2;f++)_=f?'<i class="icon-history stream_channel_fallow_icon"></i>'+Ca+Ca+m:'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+Ca+Ca+p,(Zr=document.createElement("td")).setAttribute("id",wS[8]+"y_"+f),Zr.className="stream_cell",Zr.innerHTML='<div id="'+wS[0]+"y_"+f+'" class="stream_thumbnail_channel_vod" ><div id="'+wS[3]+"y_"+f+'" class="stream_channel_fallow_game">'+_+"</div></div>",d.appendChild(Zr);u.appendChild(d)}for(var f=0;f<i;f++){for(s=a/lc+f,d=document.createElement("tr"),o=0;o<lc&&c<n;o++,c++)r=(l=t.vods[c])._id,-1!==(l.preview.template+"").indexOf("404_processing")||lS[r]?o--:(lS[r]=1,d.appendChild(GS(s,s+"_"+o,[r,l.length,l.language,l.game,l.channel.name,l.increment_view_count_url],[l.preview.template.replace("{width}x{height}",Cc),l.channel.display_name,F+Au(l.created_at),gk.parse(l.title)+la+en+v+l.game,bu(l.views)+R,wu(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.language),D+Kh(l.length),l.animated_preview_url],wS)));for(;o<lc;o++)sS&&!vS&&(vS=!0,dS=s*lc+o),d.appendChild(Ju(wS[9]+s+"_"+o)),rS.push(wS[9]+s+"_"+o);u.appendChild(d)}NS()}function GS(e,t,n,a,i){return e<lc&&Vu(a[0]),OS(n,t,a,i)}function OS(e,t,n,a){return(Zr=document.createElement("td")).setAttribute("id",a[8]+t),Zr.setAttribute(Sc,JSON.stringify(e)),Zr.className="stream_cell",Zr.innerHTML=US(t,n,a),Zr}function AS(e,t,n,a){var i=document.getElementById(e),o=e.split(a[9])[1];i.setAttribute(Sc,JSON.stringify(t)),i.innerHTML=US(o,n,a),i.setAttribute("id",a[8]+o)}function US(e,t,n){return Du(n[1]+e,t[0]),'<div id="'+n[0]+e+'" class="stream_thumbnail_video"'+(t[7]?' style="background-size: 0 0; background-image: url('+t[7]+');"':"")+'><img id="'+n[1]+e+'" class="stream_img"></div><div id="'+n[2]+e+'" class="stream_text"><div id="'+n[3]+e+'" class="stream_info" style="width: 72%; display: inline-block; font-size: 85%;">'+t[1]+'</div><div id="'+n[7]+e+'"class="stream_info" style="width:27%; float: right; text-align: right; display: inline-block;">'+t[5]+'</div><div><div id="'+n[4]+e+'"class="stream_info" style="width: 59%; display: inline-block;">'+t[2]+'</div><div id="'+n[5]+e+'"class="stream_info" style="width: 39%; display: inline-block; float: right; text-align: right;">'+t[6]+'</div></div><div id="'+n[11]+e+'"class="stream_info">'+t[3]+'</div><div id="'+n[6]+e+'"class="stream_info">'+t[4]+"</div></div>"}function NS(){if(kS?(Hu(Nc),du(oS,iS,lc,dS)):(pS?cu(B+(CS?U:A)+G+I):(kS=!0,RS(),Hu(Nc),xu()),jc(wS[10]),L_=!1,eu()),0<rS.length&&!sS)return xS(),void HS();cS=!(rS=[])}function HS(){ru(rS.length);var e=dS+mS;e&&hS-1<e&&(e=hS-pc,sS=!0),J_("https://api.twitch.tv/kraken/videos/top?limit="+pc+"&broadcast_type="+(CS?"highlight":"archive")+"&sort=views&offset="+e+"&period="+gS+(""!==Qr?"&language="+Qr:""),fS,2,null,DS,FS)}function FS(){++uS<_S?(fS+=500,HS()):(sS=!0,dS-=rS.length,rS=[],NS())}function DS(e){var t,n,a=JSON.parse(e),i=a.vods.length,o=0,s=0,d=[];for(hS=parseInt(a._total);o<rS.length&&s<i;o++,s++)n=(t=a.vods[s])._id,-1!==(t.preview.template+"").indexOf("404_processing")||lS[n]?o--:(lS[n]=1,AS(rS[o],[n,t.length,t.language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",Cc),t.channel.display_name,F+Au(t.created_at),gk.parse(t.title)+la+en+v+t.game,bu(t.views)+R,wu(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.language),D+Kh(t.length),t.animated_preview_url],wS),d.push(o));for(o=d.length-1;-1<o;o--)rS.splice(d[o],1);mS+=s,sS&&(dS-=rS.length,rS=[]),NS()}function RS(){iS<0?VS():(i_(iS,oS,wS,lc,dS),zS(wS,iS+"_"+oS),dS/lc<iS+rc&&!sS&&!cS&&(xS(),LS()),zr&&qS())}function qS(){window.clearInterval(aS),-1<iS&&dS?(jc(wS[1]+iS+"_"+oS),__(iS+"_"+oS,wS)):JS()}function VS(){var e=1<oS?1:oS;Wc(wS[0]+"y_"+e,Ec)}function JS(){var e=1<oS?1:oS;Kc(wS[0]+"y_"+e,Ec)}function zS(t,n){if(MS){var a=document.getElementById(t[0]+n);ES.onload=function(){Xc(t[1]+n),a.style.backgroundSize="612px";var e=0;aS=window.setInterval(function(){a.style.backgroundPosition="0px "+ ++e%10*-344+"px"},650)},ES.src=a.style.backgroundImage.replace(/url\(['"]?(.*?)['"]?\)/i,"$1")}}function XS(e){var t;if(!L_&&!n_())switch(t_(),e.keyCode){case Ua:gu()?vu():mu()?fu():(qS(),B_(XS));break;case Ta:if(-1===iS)JS(),--oS<0&&(oS=1),VS();else if(iS||oS){if(Cu(iS,oS-1,wS[0]))qS(),oS--,RS();else for(t=lc-1;-1<t;t--)if(Cu(iS-1,t,wS[0])){qS(),iS--,oS=t,RS();break}}else qS(),JS(),iS=-1,oS=1,VS();break;case Ga:-1===iS?(JS(),1<++oS?(oS=0,pS?VS():(iS=0,RS())):VS()):Cu(iS,oS+1,wS[0])?(qS(),oS++,RS()):Cu(iS+1,0,wS[0])&&(qS(),iS++,oS=0,RS());break;case Ba:if(-1!==iS||pS)if(iS){for(t=0;t<lc;t++)if(Cu(iS-1,oS-t,wS[0])){qS(),iS--,oS-=t,RS();break}}else qS(),iS=-1,VS();else iS=0,JS(),RS();break;case Oa:if(-1!==iS||pS){for(t=0;t<lc;t++)if(Cu(iS+1,oS-t,wS[0])){qS(),iS++,oS-=t,RS();break}}else iS=0,JS(),RS();break;case xa:case Pa:case La:case Aa:-1===iS?(0===oS?H_("Vod_highlight",(CS=!CS)?"true":"false"):4<++yS&&(yS=1),PS()):r_(iS+"_"+oS,wS,XS)}}function jS(){1===yS?(Zc("top_bar_vod",nn+Ou((CS?U:A)+le)),gS="day"):2===yS?(Zc("top_bar_vod",nn+Ou((CS?U:A)+re)),gS="week"):3===yS?(Zc("top_bar_vod",nn+Ou((CS?U:A)+ce)),gS="month"):4===yS&&(Zc("top_bar_vod",nn+Ou((CS?U:A)+ue)),gS="all"),H_("vod_periodNumber",yS)}