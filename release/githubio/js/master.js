var t,n,a,e,i,s,o,d,l,r,h,f,c,u,_,m,p,v,g,y,b,w,k,M,C,E,S,x,I,P,G,B,L,T,O,F,U,A,N,D,H,q,R,z,V,J,X,j,Y,W,K,Z,$,Q,ee,te,ne,ae,ie,se,oe,de,le,re,ce,ue,_e,fe,me,he,pe,ve,ge,ye,be,we,ke,Me,Ce,Ee,Se,xe,Ie,Pe,Ge,Be,Le,Te,Oe,Fe,Ue,Ae,Ne,De,He,qe,Re,ze,Ve,Je,Xe,je,Ye,We,Ke,Ze,$e,Qe,et,tt,nt,at,it,st,ot,dt,lt,rt,ct,ut,_t,ft,mt,ht,pt,vt,gt,yt,bt,wt,kt,Mt,Ct,Et,St,xt,It,Pt,Gt,Bt,Lt,Tt,Ot,Ft,Ut,At,Nt,Dt,Ht,qt,Rt,zt,Vt,Jt,Xt,jt,Yt,Wt,Kt,Zt,$t,Qt,en,tn,nn,an,sn,on,dn,ln,rn,cn,un,_n,fn,mn,hn,pn,vn,gn,yn,bn,wn,kn,Mn,Cn,En,Sn,xn,In,Pn,Gn,Bn,Ln,Tn,On,Fn,Un,An,Nn,Dn,Hn,qn,Rn,zn,Vn,Jn,Xn,jn,Yn,Wn,Kn,Zn,$n,Qn,ea='<div id="scene1" class="screen_size"><div id="topbar" class="topbar hide"><div class="top_clock"><div id="label_clock" class="icon_top_label" style="text-align:right;"></div></div><div id="controls_div" class="controls_div"><div id="label_side_panel" class="icon_top_label"></div><div id="label_refresh" class="icon_top_label"></div><div id="label_switch" class="icon_top_label hide"></div><div id="label_extra" class="icon_top_label hide"></div></div><div id="top_lables" style="text-align:center;width:72%;margin-left:18.5%;"><div id="top_bar_live" class="icon_center_label"></div><div id="top_bar_user" class="icon_center_label"></div><div id="top_bar_featured" class="icon_center_label"></div><div id="top_bar_game" class="icon_center_label"></div><div id="top_bar_vod" class="icon_center_label"></div><div id="top_bar_clip" class="icon_center_label"></div></div></div><div id="side_panel" class="side_panel side_panel_hide" style="margin-left:-23.5%;"><div id="side_panel_0" class="side_panel_text side_panel_text_focus" style="margin-top:10px;"><div class="side_panel_icons"><i class="icon icon-search"></i></div>&nbsp;<spam id="side_panel_search"></spam></div><div id="side_panel_1" class="side_panel_text"><div class="side_panel_icons"><i class="icon icon-settings"></i></div>&nbsp;<spam id="side_panel_settings"></spam></div><div id="side_panel_2" class="side_panel_text"><div class="side_panel_icons"><i class="icon icon-info-circle"></i></div>&nbsp;<spam id="side_panel_about"></spam></div><div id="side_panel_3" class="side_panel_text"><div class="side_panel_icons"><i class="icon icon-question-circle"></i></div>&nbsp;<spam id="side_panel_controls"></spam></div><div id="side_panel_4" class="side_panel_text"><div class="side_panel_icons"><i class="icon icon-exit"></i></div>&nbsp;<spam id="side_panel_exit"></spam></div><div id="side_panel_5" class="side_panel_text" style="margin-top:50px;"><div class="side_panel_icons"><i class="icon icon-play"></i></div>&nbsp;<spam id="side_panel_live"></spam></div><div id="side_panel_6" class="side_panel_text"><div class="side_panel_icons"><i class="icon icon-users"></i></div>&nbsp;<spam id="side_panel_user"></spam></div><div id="side_panel_7" class="side_panel_text"><div class="side_panel_icons"><i class="icon icon-star"></i></div>&nbsp;<spam id="side_panel_featured"></spam></div><div id="side_panel_8" class="side_panel_text"><div class="side_panel_icons"><i class="icon icon-gamepad"></i></div>&nbsp;<spam id="side_panel_games"></spam></div><div id="side_panel_9" class="side_panel_text"><div class="side_panel_icons"><i class="icon icon-movie-play"></i></div>&nbsp;<spam id="side_panel_videos"></spam></div><div id="side_panel_10" class="side_panel_text"><div class="side_panel_icons"><i class="icon icon-movie"></i></div><spam id="side_panel_clips"></spam></div><div class="side_panel_return"><div class="side_panel_icons"><i class="icon icon-arrow-circle-left"></i></div>&nbsp;<spam id="side_panel_hide"></spam></div></div><div id="scrollbar_size" class="scroll_size"><div id="scrollbar" class="scroll"></div></div><div id="dialog_loading" class="screen_size dialogs" style="z-index:98;margin-top:24%;"><i class="icon icon-circle-o-notch fa fa-spin strokeloading" style="font-size:527%;"></i></div><div id="main_remove_dialog" class="dialog_exit hide" style="width:75%;margin-left:12.5%;"><div id="main_dialog_remove" class="exit_text"></div><div style="text-align:center;margin-bottom:4%;"><div id="remove_cancel" class="button_search_focused button_search" style="margin-left:0%;"></div><div id="remove_yes" class="button_search"></div></div></div><div id="main_dialog_exit" class="dialog_exit hide"><div id="main_dialog_exit_text" class="exit_text"></div><div style="text-align:center;margin-bottom:4%;"><div id="exit_app_cancel" class="button_search_focused button_search" style="margin-left:0%;"></div><div id="exit_app_minimize" class="button_search"></div><div id="exit_app_close" class="button_search"></div></div></div><div id="dialog_warning" class="strokedbig dialogs hide" style="z-index:101;margin-top:31%;"><div id="dialog_warning_text" class="strokedbig" style="font-size:300%;"></div></div><div id="dialog_about" class="about_dialogs hide" style="width:95%;margin-left:2.5%;"><div id="dialog_about_text" class="about_text"></div></div><div id="dialog_update" class="about_dialogs hide" style="width:70%;margin-left:15%;"><div id="dialog_update_text" class="about_text"></div></div><div id="dialog_controls" class="about_dialogs hide" style="width:70%;margin-left:15%;"><div id="dialog_controls_text" class="controls_text"></div></div><div id="dialog_counter" style="position:fixed;z-index:101;width:100%;bottom:0;"><div style="float:right;width:auto;height:auto;display:inline-block;border-radius:12px;background:linear-gradient(to top, black, rgba(0, 0, 0, 0.75));"><div id="dialog_counter_text" class="counter_class"></div></div></div><div id="screens_holder" class="screens"><div id="user_channels_scroll" class="screen_holder hide"><table id="stream_table_user_channels" class="streams_tables"></table></div><div id="search_channel_scroll" class="screen_holder hide"><table id="stream_table_search_channel" class="streams_tables"></table></div><div id="channel_content_scroll" class="screen_holder hide"><table id="stream_table_channel_content" class="streams_tables"></table></div><div id="Clip_scroll" class="screen_holder hide"><div id="stream_table_clip" class="streams_div"></div></div><div id="ChannelClip_scroll" class="screen_holder hide"><div id="stream_table_channel_clip" class="streams_div"></div></div><div id="AGameClip_scroll" class="screen_holder hide"><div id="stream_table_a_game_clip" class="streams_div"></div></div><div id="user_scroll" class="screen_holder hide"><table id="stream_table_user" class="streams_tables"></table></div><div id="settings_scroll" class="screen_holder_settings hide"><div id="settings_main" class="settings_main"></div></div><div id="Game_scroll" class="screen_holder_games hide"><div id="stream_table_games" class="streams_div"></div></div><div id="UserGames_scroll" class="screen_holder_games hide"><div id="stream_table_user_games" class="streams_div"></div></div><div id="search_games_scroll" class="screen_holder_games hide"><table id="stream_table_search_game" class="streams_tables"></table></div><div id="add_user_scroll" class="screen_holder hide"><div id="add_user" class="input_text_box"><input id="user_input" class="input_class" type="text" placeholder="" /></div></div><div id="oauth_scroll" class="screen_holder hide"><div id="oauth" class="input_text_box" style="margin-top:0;"><div id="oauth_text" class="strokedextramini" style="font-size:100%;font-weight:bold;"></div><input id="oauth_input" class="input_class" type="text" placeholder="" /></div></div><div id="search_scroll" class="screen_holder hide"><div id="search" class="input_text_box" style="margin-top:10%;"><input id="search_input" class="input_class" type="text" placeholder="" /><div id="chanel_button" class="button_search"></div><div id="game_button" class="button_search"></div><div id="live_button" class="button_search"></div></div></div><div id="live_scroll" class="screen_holder hide"><table id="stream_table_live" class="streams_tables"></table></div><div id="featured_scroll" class="screen_holder hide"><table id="stream_table_featured" class="streams_tables"></table></div><div id="user_host_scroll" class="screen_holder hide"><table id="stream_table_user_host" class="streams_tables"></table></div><div id="user_live_scroll" class="screen_holder hide"><table id="stream_table_user_live" class="streams_tables"></table></div><div id="a_games_scroll" class="screen_holder hide"><table id="stream_table_a_game" class="streams_tables"></table></div><div id="search_live_scroll" class="screen_holder hide"><table id="stream_table_search_live" class="streams_tables"></table></div><div id="vod_scroll" class="screen_holder hide"><table id="stream_table_vod" class="streams_tables"></table></div><div id="a_games_vod_scroll" class="screen_holder hide"><table id="stream_table_a_game_vod" class="streams_tables"></table></div><div id="channel_vod_scroll" class="screen_holder hide"><table id="stream_table_channel_vod" class="streams_tables"></table></div><div id="user_vod_scroll" class="screen_holder hide"><table id="stream_table_user_vod" class="streams_tables"></table></div></div></div><div id="scene2" class="screen_size hide"><div id="chat_container" class="chat_container hide"><div id="chat_inner_container" class="chat_size_default"><iframe id="chat_frame" class="hide" width="100%" height="100%" frameborder="0" scrolling="no" style="position:absolute;overflow:hidden;" src="about:blank"></iframe><div id="chat_box" class="hide"></div><div id="play_chat_dialog" style="position:absolute;text-align:center;width:100%;margin-top:50%;"><div id="play_chat_dialog_text" class="strokedbig" style="display:inline-block;font-size:225%;color:#FFFFFF;"></div></div></div></div><div id="scene_channel_panel" class="screen_size" style="position:fixed;z-index:2;opacity:0;transition:0.4s;"><div style="width:100%;background:linear-gradient(to bottom, black, rgba(0, 0, 0, 0.04));"><div class="playsideinfo"><div id="stream_clock"></div><div id="stream_live_icon"></div><div id="stream_live_time"></div><div id="stream_watching_time"></div></div><img id="stream_info_icon" style="padding-left:1%;padding-top:1%;padding-bottom:1%;display:inline-block;width:8%;" alt="stream_info" src="https://fgl27.github.io/SmartTwitchTV/release/githubio/images/404_logo.png"><div class="playmaininfo"><div id="stream_info_name" style="font-size:160%;font-weight:bold;"></div><div id="stream_info_title"></div><div id="stream_info_game"></div></div></div><div id="scene_channel_panel_bottom" style="z-order:-100;position:absolute;bottom:0;width:100%;height:53px;background:linear-gradient(to top, black, rgba(0, 0, 0, 0.040));text-align:center;"><div id="scene2_pannel_5" class="playbotton" style="z-order:6;width:11%;"><div id="ic_search" style="font-size:140%;transform:translate(0, 5%);vertical-align:middle;display:inline-block;"><i class="icon-search strokicon"></i></div><div id="scene2_search_text" class="strokedextramini playbottontext"></div></div><div id="scene2_pannel_4" class="playbotton" style="z-order:5;width:18%;"><div id="channel_icon" style="vertical-align:middle;display:inline-block;"><i class="icon-filmstrip strokicon"></i></div><div id="scene2_channel_text" class="strokedextramini playbottontext"></div></div><div id="scene2_pannel_3" class="playbotton" style="z-order:5;width:17%;"><div id="game_icon" style="vertical-align:middle;display:inline-block;overflow:hidden;max-height:43px;"><div style="display:flex;font-size:185%;transform:translate(0,3%);"><i class="icon-gamepad strokicon"></i></div></div><div id="scene2_game_text" class="strokedextramini playbottontext"></div></div><div id="scene2_pannel_2" class="playbotton" style="z-order:3;width:14%;"><div id="fallow_heart" style="font-size:75%;transform:translate(0, 10%);vertical-align:middle;display:inline-block;"><i class="icon-heart-o strokicon" style="color:#FFFFFF;font-size:210%;"></i></div><div id="fallow_text" class="strokedextramini playbottontext"></div></div><div id="scene2_pannel_1" class="playbotton playbotton_focus" style="z-order:2;width:30%;"><div id="quality_video" style="vertical-align:middle;display:inline-block;font-size:185%;transform:translate(0, 7%);"><i class="icon-videocamera strokicon"></i></div><div id="quality_arrows" style="display:inline-block;font-size:50%;transform:translate(0,20%);">&nbsp;<div style="display:inline-block;"><div id="quality_arrow_up" class="up"></div><div id="quality_arrow_down" class="down"></div></div>&nbsp;&nbsp;</div><div id="quality_name" class="strokedextramini playmulti" style="font-size:87.5%;font-weight:bold;width:77%;"></div></div><div id="scene2_pannel_0" class="playbotton" style="z-order:4;width:17%;margin-right:0;display:none;"><div id="open_vod_icon" style="vertical-align:middle;display:inline-block;font-size:175%;transform:translate(0, 7%);"><i class="icon-play strokicon"></i></div>&nbsp;<div id="open_vod_text" class="strokedextramini playbottontext" style="font-size:77.5%;"></div></div></div><div id="progress_pause_holder" class="progress_pause_holder"><div id="progress_bar_div" class="progress_bar_div"><div id="progress_bar_jump_to" class="progress_bar_jump strokedextramini" style="transform:translateY(-25%);"></div><div><div style="width:100%;position:relative;transform:translateY(-50%);"><div id="progress_bar_current_time" class="progress_bar_timer strokedextramini"></div><div id="progress_bar" class="progress_bar_holder"><div class="progress_bar"><div id="inner_progress_bar" class="inner_progress_bar"></div></div></div><div id="progress_bar_duration" class="progress_bar_timer strokedextramini"></div></div></div><div id="progress_bar_steps" class="progress_bar_jump strokedextramini" style="position:relative;top:35%;transform:translateY(-110%);"></div></div><div id="pause_button" class="pause_button"><i class="strokedbig icon-pause" style="color:#FFFFFF;font-size:180%;"></i></div></div></div><div id="scene2_dialogs" style="display:flex;position:absolute;width:100%;height:50%;z-index:2;"><div id="dialog_vod_start" class="dialogs hide" style="z-index:3;font-size:150%;height:75%;margin-top:25%;"><div id="dialog_vod_text" class="strokedbig" style="font-size:165%;padding-bottom:2%;"></div><div id="dialog_vod_0" class="dialog_end_icons dialog_end_icons_focus"><i class="icon-history strokicon" style="font-size:250%;"></i><div id="dialog_vod_saved_text" class="strokedbig"></div></div><div id="dialog_vod_1" class="dialog_end_icons"><i class="icon-play strokicon" style="font-size:250%;"></i><div id="dialog_vod_start_text" class="strokedbig"></div></div></div><div id="dialog_end_stream" class="dialogs hide" style="z-index:4;font-size:150%;height:100%;background-color:rgba(0, 0, 0, 0.8);"><div id="dialog_end_stream_text" class="strokedbig" style="margin-top:25%;font-size:165%;padding-bottom:2%;"></div><div id="dialog_end_0" class="dialog_end_icons dialog_end_icons_focus"><i class="icon-refresh strokicon" style="font-size:250%;"></i><div id="dialog_end_replay_text" class="strokedbig"></div></div><div id="dialog_end_1" class="dialog_end_icons"><i class="icon-play strokicon" style="font-size:250%;"></i><div id="dialog_end_vod_text" class="strokedbig"></div></div><div id="dialog_end_2" class="dialog_end_icons"><i class="icon-filmstrip strokicon" style="font-size:250%;"></i><div id="dialog_end_channel_text" class="strokedbig"></div></div><div id="dialog_end_3" class="dialog_end_icons"><i class="icon-gamepad strokicon" style="font-size:250%;"></i><div id="dialog_end_game_text" class="strokedbig"></div></div></div><div id="dialog_controls_play" class="info_dialogs hide" style="width:98%;margin-left:0.5%;"><div id="dialog_controls_play_text" class="controls_text"></div></div><div id="play_dialog_simple_pause" class="dialogs hide" style="z-index:5;margin-top:31%;"><i class="strokedbig icon-pause" style="color:#FFFFFF;font-size:500%;"></i></div><div id="play_dialog_exit" class="dialogs hide" style="z-index:6;margin-top:21%;"><div id="play_dialog_exit_text" class="strokedbig" style="font-size:250%;"></div></div><div id="dialog_warning_play" class="dialogs hide" style="z-index:7;margin-top:17%;"><div id="dialog_warning_play_text" class="strokedbig" style="font-size:250%;"></div></div></div></div>',ta="fglfgl27@gmail.com",na="<br>",aa='<i class="icon-circle" style="font-size: 50%; vertical-align: middle; font-weight: bold;"></i>  ',ia='<div class="about_text_title">',sa='<div class="about_text_title" style="text-align: left;">',oa='<div style="text-align: left;">',da="",la="",ra="",ca="",ua="",_a="",fa="",ma="",ha="",pa="",va="&nbsp;",ga="",ya='<div style="vertical-align: middle; display: inline-block;"><i class="icon-twitch" style="color: #FFFFFF; font-size: 115%; "></i></div><div style="vertical-align: middle; display: inline-block">'+va;function ba(){da=e+" (C)",la=n+" (D)",ca=a+" (A)",ra=i+" (A)",l+=Wt,r+=Wt,ua=ia+e+"</div>"+ia+Ee+"</div>"+na+oa+aa+Ge+na+aa+(Be+=Fn)+na+aa+Le+na+aa+Te+na+Oe+na+aa+Fe+na+va+va+va+Ue+na+aa+Ae+na+"</div>"+na+(ma=ia+Me+"</div>"+oa+aa+We+na+aa+Ke+na+"</div>"+oa+aa+Ze+na+aa+$e+na+aa+Qe+na+na+ia+Ce+"</div>"+oa+aa+et+na+aa+tt+na+aa+nt+na+aa+at+na+aa+it)+na+na+ia+ke+"</div>",_a=ia+ya+we+"</div></div>",fa=oa+na+Ne+na+(Fc?"":na+'<div style="display: inline-block; color: #FF0000; font-size: 110%; font-weight: bold;">'+Yn+"</div>")+"</div>"+na+ia+De+"</div>"+ta+na+na+He+na+qe+na+na+sa+Re+"</div>"+oa+aa+ze+na+aa+Ve+na+aa+Je+na+aa+Xe+na+aa+je+na+aa+Ye+na+ia+ke+"</div></div>",ha=ia+Se+"</div>"+lt+na,ga=na+ia+rt+"</div>"+oa+aa+ct+na+na+ia+ga+"</div>"+na+na+ke+"</div>",pa=_t+na+aa+ft.replace("link_link",'<div style="display: inline-block; color: #FF0000; font-size: 110%; font-weight: bold;">http://tiny.cc/twitchkeycode</div>')+na+aa+mt+na+aa+ht+na+aa+pt+na+aa+vt}function wa(){vu=!1,document.getElementById("side_panel").style.width="17%",t="Refresh:",n="Search",a="Settings",e="Controls",i="About",s="Hide",o="The text you entered is empty.",d="The search result is empty.",l="Switch screen",r="Switch user screen",h="Switch: Past Broadcast or Highlight",f="Switch: Period (24h, 7d, 30d, all)",c="Go to ",u="User ",_="Live",m="Games",p="Playing ",v=" for ",g="Watching time ",y="Since ",b=" ago",w="A Game",k="Type your search...",M="Type your authentication key...",C="Type your user name...",E="Press Enter or Select key to, ",S="Channels",x="Channel",I="Back to previously screen: Back key twice",P=" has ended",G="This video is only available to subscribers.",B="Connection failed, unable to load content hit refresh to try again",L="No",T=" for this ",O="Connection failed, unable to load video content exiting...",F=" Past Broadcast",U=" Highlight",A=" Clips",N=" Content",D="Streamed on ",H="Duration ",q=" Views",R=" Viewers",z="Click again to exit!",V="Do you wanna to exit Twitch?",J="Exit",X="Close",j="Minimize",Y="Cancel",W="Not Live | ",K=" Channels Live",Z=" Hosts Live",$=" Games Live",Q=" Followed Channels",ee=" Add User",te=" Remove User",ne="User doesn't exist",ae=" hosting ",ie=" already set",se="Make First",oe=" (First user can fallow streamears outside User screen when providing a key)",de="Add a Twitch user to display it's Followed Channels content here",le=" (24h)",re=" (7d)",ce=" (30d)",ue=" (all)",_e="Jumping",fe=" to ",me="Jump Canceled",he=" , jump time bigger then duration",pe=" Sec",ve=" Min",ge=" Hr",ye="Source",be="Version: ",we="SmartTV Twitch",ke="Press back key to close this.",Me="Player Related:",Ce="Chat Related:",Ee="General Related:",Se="Update",xe="Current installed version ",Ie=" latest available version ",Pe="This are the none players related controls, the player can show it's own controls.",Ge="Play a video: Navigate using Directional pad (up/down/left/right), press enter to start playing",Be="Refresh screen content: ",Le="Exit the application: from side pannel click exit",Te=" Switch screen: Back key then D-Pad left or right",Oe="Some screen will change its internal content (channel past broadcast or clips for example) instead of changing to another screen",Fe="Start a search: from side pannel click search",Ue="After writing the search text press key Enter on the virtual keyboard then choose a search option",Ae="About this application: from side pannel click about",Ne="This is a SmartTV Twitch client develop by a individual on his free time, for TV's that don't have access to a good official application, released for free to any one that wanna to use it.",Yn="This version of the app is for test only, if you aren't testing please reinstall the app using the release version from https://github.com/fgl27/SmartTwitchTV/releases in doubt check the README.md https://github.com/fgl27/SmartTwitchTV",De="Developer information:",He="This is an open source application licensed under the GNU General Public License v3.0, check it on github",qe="github.com/fgl27/SmartTwitchTV",Re="This application uses following dependencies:",ze="Nightdev KapChat - KapChat captures Twitch chat directly into OBS or XSplit (https://www.nightdev.com/kapchat/)",Ve="Fontastic - Create your customized icon fonts in seconds (http://app.fontastic.me)",Je="Twemoji - A simple library that provides standard Unicode emoji support across all platforms (https://github.com/twitter/twemoji)",Xe="UglifyJS - is a JavaScript parser, minifier, compressor and beautifier toolkit (https://github.com/mishoo/UglifyJS2)",je="JS Beautifier - Beautify, unpack or deobfuscate JavaScript and HTML, make JSON/JSONP readable, etc. (https://github.com/beautify-web/js-beautify)",Ye="JSHint - A Static Code Analysis Tool for JavaScript (https://github.com/jshint/jshint)",We="Show information panel: Press enter key or D-pad keys if chat is not showing",Ke="Close the video: press back key twice",Ze="Play/Pause a video: open information panel and click on pause simbol (not available to Live streams)",$e="Change video quality: Open information panel, , navigate using use Directional pad (left/right), then use Directional pad (up/down) to choose the new quality after press Select key to confirm the change",Qe="Force refresh a video (in case it freezes): Change video quality to the same",et="Show or hide the Chat : D-pad right",tt="Change Chat position : D-pad left",nt="Change Chat size : D-pad up",at="Change Chat background brightness: D-pad down",it="Force refresh the Chat (in case it freezes or doesn't load): Change video quality to the same will reset and sync it",st='Start a search: open information panel, navigate using use Directional pad (left/right) to "Search" and press enter',ot="Chat and video (Side by side): Color button red (A)",$n="Force disable the chat",Qn="with this the chat will not load content, this is useful on a stream with too many viewers were the chat can lag the app.",dt="There is a update available, check it in the app github releases ",ga="Be aware that after the update (reinstall of the app using latest release) all saved users, keys or etc configuration of the app is lost",lt="A update is available, and the app can't self update this version ",rt="Major changes:",ct="Improves how the app runs in the background",ut='Adding a key allows the app to fallow and access subscribed only past broadcast (for channel you are Sub to and block VOD access to none subscribers). On the authentication page if you already added a key for another user, you need to click up two to tree time and click over "not you?" to authenticate for a different users <br> <br> add key for',_t=" below, fallowing this steps:",ft="Access the site link_link (using a computer or a smart phone)",mt='Click on the "Authorize" button it will take you to main Twitch.TV authentication site',ht="Login to Twitch.TV using the user name you are trying to add a key for",pt="Click on Authorize button of Twitch.TV site if you agree with the requested permissions",vt="The web page will update and show a key code, the key only has lower case letters and nubers.",gt=" Add Authentication key",yt="Key added OK",bt="Key test fail, it's needed to add new one",wt="Key test return OK",kt="You try to add a key for user ",Mt=" but this key is for user ",Ct=" Following",Et=" Follow",St=" And you have not set a authentication key the app can't check yours sub status.",xt=" And you are not a sub of this channel",It=" You are a sub of this channel but the app fail to authenticate contact the developer email in about",Pt="Fail authentication check with the provider key, please check and try again",Tn="The added key doesn't belong to the user ",Gt="No user",Bt="Set a user and a authentication key to be able to fallow/unfollow",Lt="Restart the",Tt=" Clip",Ot="Channel content",Ft="Network is disconnect, the application can't work without INTERNET",Ut="Network connection reestablished",At=" Followers",Nt=", Can't fallow or unfallow ",Dt="Game content",Ht="Yes",qt="Are you sure you want to remove the user ",Rt="Press Up to ",zt="Followed Games",Vt="Change between",Jt=" Back key then Enter",Xt=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"],jt=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Yt="Started ",Wt=" (PG Up/Down)",Kt="Videos",Zt=" Video",$t="Replay",Qt="exiting in ",en='press "Return" to exit',tn="Featured",nn="Created at ",an="Open the Broadcast",sn="No Broadcast",on="There is no Past Broadcast for this clip",dn="And because of that no chat",ln=" is now",rn="Open the Hosting",cn="Player related",un="Buffer size:",_n="A lower value here will make the player to start playing sooner, but it may cause re-buffer with will cause the player to pause to buffer.",fn="Live streams buffer",mn="Videos (Past Broadcast and Highlight) buffer",hn="Clips buffer",pn="General related",vn="Language",gn="Chat: Connecting to chat history server.."+na+"Chat: Connected."+na+"Chat: Joined channel ",yn="Play from the start or from where you stop watching last time?",wn=(bn="From:"+na)+"Start",kn="Chat: The Chat has ended!",Mn=": Most recent",Cn=": Most views",En="Set a authentication key to be able to see fallowed videos",Sn="Switch: Most recent or views",xn="Enable",In="Disable",Rn="The app was closed willing playing, restoring playback",Pn="Restore playback",Gn="When changing apps, the app may be closed by the system to free memory. In this case the app saves what it was playing and restores the playback when reopened",Bn="Chat font size",Ln="Change the chat lines font size, applies to text and emotes",On="Videos animated thumbnails",Fn="Side panel: Back key twice",Un="Size ",An="Brightness ",Nn="Forbidden content, this Live must be for Prime only subscribers or lock to Twitch official app only",Dn="Jump step ",Hn=" seconds",qn=" minutes",zn="Clock offset",Vn="Application language",Jn="Content language",Xn="All",jn="Empty game fro this",Wn="Isn't possible to jump during a buffering",Kn="Chat is disabled, enable in side pannel settings",Zn="This clip/video fail to load can't replay"}var ka=33,Ma=34,Ca=50,Ea=51,Sa=52,xa=179,Ia=457,Pa=37,Ga=38,Ba=39,La=40,Ta=13,Oa=65,Fa=66,Ua=67,Aa=68,Na=49,Da=8,Ha=13,qa=32,Ra=46,za=0,Va=5,Ja=1e4,Xa=0,ja=!1,Ya=!1,Wa=!1,Ka=!1,Za=!1,$a="",Qa="https://fgl27.github.io/SmartTwitchTV/release/index.min.html",ei="elsu5d09k0xomu7cggx3qg5ybdwu7g",ti="https://id.twitch.tv/oauth2/token?";function ni(){ja=!1,lu.Main_Go=eu,f_("top_bar_user","icon_center_focus"),P_(),Gc.placeholder=M,u_("oauth_scroll"),h_("oauth_text",ut+Zi[lu.Users_Position].name+pa),si()}function ai(){oi(!1),document.body.removeEventListener("keydown",ii),m_("top_bar_user","icon_center_focus"),c_("oauth_scroll")}function ii(e){if(!ja&&!Ya)switch(e.keyCode){case Na:U_()?F_():L_()?B_():(lu.Main_Go=Zc,ai(),X_());break;case ka:lu.Main_Go=Hc,ai(),X_();break;case Ma:lu.Main_Go=Nc,ai(),X_();break;case Sa:case Ea:case xa:case Ta:si();break;case Oa:zf(ii);break;case Fa:ai(),tf();break;case Ua:O_();break;case Aa:lu.Main_BeforeSearch=lu.Main_Go,lu.Main_Go=Jc,ai(),X_()}}function si(){document.body.removeEventListener("keydown",ii),document.body.addEventListener("keydown",li,!1),Gc.placeholder=M,Gc.focus(),Ya=!0}function oi(e){Gc.blur(),di(),document.body.removeEventListener("keydown",li),Gc.placeholder=E+M,e&&document.body.addEventListener("keydown",ii,!1),Ya=!1}function di(){if(null!==Gc){var e=Gc.cloneNode(!0);Gc.parentNode.replaceChild(e,Gc),Gc=document.getElementById("oauth_input")}}function li(e){if(!ja)switch(e.keyCode){case Na:L_()?B_():U_()?F_():(lu.Main_Go=Zc,ai(),X_());break;case Ra:Gc.value="",e.preventDefault();break;case Ha:case La:""!==Gc.value&&null!==Gc.value&&(Xa=Gc.value,Bi(),c_("oauth_scroll"),v_(),_i()),oi(!0);break;case Da:Gc.value=Gc.value.slice(0,-1),e.preventDefault();break;case qa:Gc.value+=" ",e.preventDefault()}}function ri(e,t,n,a){var i=new XMLHttpRequest,s=ti+"grant_type=refresh_token&client_id="+encodeURIComponent(Uu)+"&client_secret="+encodeURIComponent(ei)+"&refresh_token="+encodeURIComponent(Zi[e].refresh_token)+"&redirect_uri="+Qa;i.open("POST",s,!0),i.timeout=Ja,i.ontimeout=function(){},i.onreadystatechange=function(){4!==i.readyState||(200===i.status?ui(i.responseText,e,n):ci(e,t,n,a))},i.send(null)}function ci(e,t,n,a){++t<10?ri(e,t,n):a&&a()}function ui(e,t,n){var a=JSON.parse(e);Zi[t].access_token=a.access_token,Zi[t].refresh_token=a.refresh_token,ps(),n&&n()}function _i(){var e=new XMLHttpRequest,t=ti+"grant_type=authorization_code&client_id="+encodeURIComponent(Uu)+"&client_secret="+encodeURIComponent(ei)+"&code="+encodeURIComponent(Xa)+"&redirect_uri="+Qa;e.open("POST",t,!0),e.timeout=Ja,e.ontimeout=function(){},e.onreadystatechange=function(){4!==e.readyState||(200===e.status?hi(e.responseText):fi())},e.send(null)}function fi(){++za<Va?_i():mi()}function mi(){g_(),I_(Pt),window.setTimeout(function(){P_(),fu=0,j_(),lu.Main_Go=Zc,window.location=Qa},4e3),Zi[lu.Users_Position].access_token=0,Zi[lu.Users_Position].refresh_token=0}function hi(e){var t=JSON.parse(e);Zi[lu.Users_Position].access_token=t.access_token,Zi[lu.Users_Position].refresh_token=t.refresh_token,Bi(),pi()}function pi(){rm("https://api.twitch.tv/kraken?oauth_token="+Zi[lu.Users_Position].access_token,Ja,0,null,vi,gi)}function vi(e){var t=JSON.parse(e).token;t.user_name&&-1!==t.user_name.indexOf(Zi[lu.Users_Position].name)?(ps(),fu=0,g_(),ai(),ja=wE=!1,Gc.value="",lu.Main_Go=Zc,j_(),I_(yt),window.setTimeout(function(){window.location=Qa},3e3)):(Zi[lu.Users_Position].access_token=0,Zi[lu.Users_Position].refresh_token=0,ja=!1,I_(Tn+Zi[lu.Users_Position].name),window.setTimeout(function(){P_(),fu=0,j_(),lu.Main_Go=Zc,window.location=Qa},4e3))}function gi(){++za<Va?(Ja+=500,pi()):mi()}function yi(){Bi(),Wa=!1,bi()}function bi(){var e="https://api.twitch.tv/kraken/users/"+Zi[lu.Users_Position].id+"/follows/channels/"+$a,t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=Ja,t.setRequestHeader(Au,Uu),t.setRequestHeader(Nu,qu),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?wi():404===t.status?ki(t.responseText):Mi())},t.send(null)}function wi(){ja=!(Wa=!0),Za?Ig():Pd()}function ki(e){-1!==(JSON.parse(e).error+"").indexOf("Not Found")?(ja=Wa=!1,Za?Ig():Pd()):Mi()}function Mi(){++za<Va?(Ja+=500,bi()):(ja=!1,Za?Ig():Pd())}function Ci(){Bi(),Ei()}function Ei(){var e=new XMLHttpRequest;e.open("PUT","https://api.twitch.tv/kraken/users/"+Zi[lu.Users_Position].id+"/follows/channels/"+$a,!0),e.timeout=Ja,e.setRequestHeader(Au,Uu),e.setRequestHeader(Nu,qu),e.setRequestHeader("Authorization","OAuth "+Zi[lu.Users_Position].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return Wa=!(ja=!1),void(Za?Ig():Pd());401===e.status||403===e.status?ri(lu.Users_Position,0,Ci,null):Si()}},e.send(null)}function Si(){++za<Va&&(Ja+=500,Ei())}function xi(){Bi(),Ii()}function Ii(){var e=new XMLHttpRequest;e.open("DELETE","https://api.twitch.tv/kraken/users/"+Zi[lu.Users_Position].id+"/follows/channels/"+$a,!0),e.timeout=Ja,e.setRequestHeader(Au,Uu),e.setRequestHeader(Nu,qu),e.setRequestHeader("Authorization","OAuth "+Zi[lu.Users_Position].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(204===e.status)return ja=Wa=!1,void(Za?Ig():Pd());401===e.status||403===e.status?ri(lu.Users_Position,0,xi,null):Pi()}},e.send(null)}function Pi(){++za<Va&&(Ja+=500,Ii())}function Gi(){Bi(),Ka=!1,Li()}function Bi(){Ja=1e4,ja=!(za=0)}function Li(){var e,t="https://api.twitch.tv/kraken/users/"+Zi[lu.Users_Position].id+"/subscriptions/"+$a;if(Ku){if(!(e=Android.mreadUrl(t,Ja,3,Zi[lu.Users_Position].access_token)))return void Ti();if(200===(e=JSON.parse(e)).status)ja=!(Ka=!0),Ny();else if(422===e.status)ja=Ka=!1,Ay();else if(404===e.status){if(-1!==(JSON.parse(e.responseText).error+"").indexOf("Not Found"))return ja=Ka=!1,void Ay();Ti()}else 401===e.status||403===e.status?ri(lu.Users_Position,0,Gi,Oi):Ti()}else(e=new XMLHttpRequest).open("GET",t,!0),e.timeout=Ja,e.setRequestHeader(Au,Uu),e.setRequestHeader(Nu,qu),e.setRequestHeader("Authorization","OAuth "+Zi[lu.Users_Position].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState)if(200===e.status)ja=!(Ka=!0),Ny();else if(422===e.status)ja=Ka=!1,Ay();else if(404===e.status){if(-1!==(JSON.parse(e.responseText).error+"").indexOf("Not Found"))return ja=Ka=!1,void Ay();Ti()}else 401===e.status||403===e.status?ri(lu.Users_Position,0,Gi,Oi):Ti()},e.send(null)}function Ti(){++za<Va?(Ja+=500,Li()):Oi()}function Oi(){ja=Ka=!1,Ay()}function Fi(e){Bi(),Ui(e,0)}function Ui(e,t){var n="https://api.twitch.tv/kraken?oauth_token="+Zi[e].access_token,a=new XMLHttpRequest;a.open("GET",n,!0),a.timeout=1e4,a.ontimeout=function(){},a.onreadystatechange=function(){if(4===a.readyState){if(200===a.status)return void(JSON.parse(a.responseText).token.valid?ja=!1:(Bi(),ri(e,0,null,null)));400===a.status?(Bi(),ri(e,0,null,null)):Ai(e,t)}},a.send(null)}function Ai(e,t){++t<Va&&Ui(e,t)}function Ni(){Bi(),Di()}function Di(){var e=new XMLHttpRequest;e.open("PUT","https://api.twitch.tv/api/users/"+Zi[lu.Users_Position].name+"/follows/games/"+encodeURIComponent(lu.Main_gameSelected)+"?oauth_token="+Zi[lu.Users_Position].access_token,!0),e.timeout=1e4,e.setRequestHeader(Au,Uu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return Us=!0,void Ys();401===e.status||403===e.status?ri(lu.Users_Position,0,Ni,null):Hi()}},e.send(null)}function Hi(){++za<Va&&(Ja+=500,Di())}function qi(){Bi(),Ri()}function Ri(){var e=new XMLHttpRequest;e.open("DELETE","https://api.twitch.tv/api/users/"+Zi[lu.Users_Position].name+"/follows/games/"+encodeURIComponent(lu.Main_gameSelected)+"?oauth_token="+Zi[lu.Users_Position].access_token,!0),e.timeout=1e4,e.setRequestHeader(Au,Uu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(204===e.status)return Us=!1,void Ys();401===e.status||403===e.status?ri(lu.Users_Position,0,qi,null):zi()}},e.send(null)}function zi(){++za<Va&&(Ja+=500,Ri())}function Vi(){Bi(),Ji()}function Ji(){var e,t="https://api.twitch.tv/api/users/"+Zi[lu.Users_Position].name+"/follows/games/"+encodeURIComponent(lu.Main_gameSelected);(e=new XMLHttpRequest).open("GET",t,!0),e.timeout=1e4,e.setRequestHeader(Au,Uu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState)return 200===e.status?(Us=!0,void Ys()):404===e.status?(Us=!1,void Ys()):void Xi()},e.send(null)}function Xi(){++za<Va?(Ja+=500,Ji()):(Us=!1,Ys())}function ji(e){lu.Users_Position=lu.Users_AddcodePosition,Xa=e,Bi(),v_(),_i()}var Yi=0,Wi=5,Ki=3500,Zi=[],$i=null,Qi=!1,es=!1;function ts(){lu.Main_Go=Dc,f_("top_bar_user","icon_center_focus"),P_(),Pc.placeholder=C,u_("add_user_scroll"),is()}function ns(){os(!1),document.body.removeEventListener("keydown",as),document.body.removeEventListener("keydown",ds),m_("top_bar_user","icon_center_focus"),c_("add_user_scroll")}function as(e){if(!Qi&&!es&&lu.Main_Go===Dc)switch(e.keyCode){case Na:L_()?B_():U_()?F_():(0<Zi.length&&lu.Main_Go!==Zc?lu.Main_Go=lu.Main_Before:lu.Main_Go=Nc,ns(),X_());break;case ka:lu.Main_Go=su,ns(),X_();break;case Ma:lu.Main_Go=Nc,ns(),X_();break;case Sa:case Ea:case xa:case Ta:is();break;case Oa:zf(as);break;case Fa:ns(),tf();break;case Ua:O_();break;case Aa:lu.Main_BeforeSearch=lu.Main_Go,lu.Main_Go=Jc,ns(),X_()}}function is(){document.body.removeEventListener("keydown",as),document.body.addEventListener("keydown",ds,!1),Pc.placeholder=C,Pc.focus(),es=!0}function ss(){if(null!==Pc){var e=Pc.cloneNode(!0);Pc.parentNode.replaceChild(e,Pc),Pc=document.getElementById("user_input")}}function os(e){Pc.blur(),ss(),document.body.removeEventListener("keydown",ds),Pc.placeholder=E+C,e&&document.body.addEventListener("keydown",as,!1),es=!1}function ds(e){if(!Qi&&lu.Main_Go===Dc)switch(e.keyCode){case Na:L_()?B_():U_()?F_():(0<Zi.length&&lu.Main_Go!==Zc?lu.Main_Go=lu.Main_Before:lu.Main_Go=Nc,ns(),X_());break;case Ra:Pc.value="";break;case Ha:case La:""!==Pc.value&&null!==Pc.value?gs($i=Fc||fs()?Pc.value:"testtwitch27")?(g_(),I_(u+$i+ie),window.setTimeout(function(){P_(),is()},1500)):(Ki=3500,Qi=!(Yi=0),c_("add_user_scroll"),v_(),ls()):is();break;case Da:Pc.value=Pc.value.slice(0,-1);break;case qa:Pc.value+=" "}}function ls(){rm("https://api.twitch.tv/kraken/users?login="+encodeURIComponent($i),Ki,2,null,rs,cs)}function rs(e){JSON.parse(e)._total?(Pc.value="",document.body.removeEventListener("keydown",as),ms(e)):us()}function cs(){++Yi<Wi?(Ki+=500,ls()):us()}function us(){$i=null,g_(),I_(ne),window.setTimeout(function(){ts()},1e3),Qi=!1}function _s(){if(0<(Zi=sm("AddUser_UsernameArray",[])).length)for(var e=0;e<Zi.length;e++)Zi[e].access_token&&Fi(e)}function fs(){return 0<Zi.length}function ms(e){$i=JSON.parse(e).users[0],Zi.push({name:$i.name,id:$i._id,access_token:0,refresh_token:0}),ps(),wE=!1,ns(),ME(),Qi=!1}function hs(e){var t=Zi.indexOf(Zi[e]);-1<t&&Zi.splice(t,1),0<Zi.length?(wE=!1,ME()):ts(),ps()}function ps(){am("AddUser_UsernameArray",JSON.stringify(Zi))}function vs(e){$i=Zi[0],Zi[0]=Zi[e],Zi[e]=$i,wE=!1,ME()}function gs(e){return-1!==Zi.indexOf(e)}function ys(){return 0<Zi.length}var bs=0,ws=0,ks=!1,Ms=0,Cs={},Es=[],Ss=!1,xs=0,Is=5,Ps=3500,Gs=0,Bs=0,Ls=!1,Ts=["ag_thumbdiv","ag_img","ag_infodiv","ag_displayname","ag_streamtitle","ag_streamgame","ag_viwers","ag_quality","ag_cell","agempty_","a_games_scroll"],Os=!1,Fs=!1,Us=!1,As=!1,Ns=!1;function Ds(){lu.Main_CenterLablesVectorPos=3,lu.Main_Go=qc,document.body.addEventListener("keydown",io,!1),f_("top_bar_game","icon_center_focus"),r_("label_side_panel","icon-arrow-circle-left",I),lu.Search_isSearching&&(Z_(),h_("top_bar_user",n+$_(m+" '"+lu.Search_data+"'"))),h_("top_bar_game",w+$_(_+": "+lu.Main_gameSelected)),lu.Main_OldgameSelected===lu.Main_gameSelected&&Os?(lf(bs),u_(Ts[10]),E_(ws,bs,xu,Ms),eo(),j_()):qs()}function Hs(){Os&&-1===bs&&(ao(),ws=bs=0,f_(Ts[0]+"0_"+ws,Vu)),r_("label_side_panel","icon-ellipsis",Fn),h_("top_bar_game",m),document.body.removeEventListener("keydown",io),m_("top_bar_game","icon_center_focus"),c_(Ts[10])}function qs(){null===lu.Main_OldgameSelected&&(lu.Main_OldgameSelected=lu.Main_gameSelected),af("stream_table_a_game"),c_(Ts[10]),v_(),P_(),Ns=Os=!1,Cs={},Ms=Bs=Gs=0,bs=ws=0,ks=!(Wf=!(Fs=!(Es=[]))),C_(),Uf(function(){Rs(),zs()})}function Rs(){of(),Ss=!0,xs=0,Ps=3500}function zs(){var e=Ms+Gs;e&&Bs-1<e&&(e=Bs-Su,ks=!0),rm("https://api.twitch.tv/kraken/streams?game="+encodeURIComponent(lu.Main_gameSelected)+"&limit="+Su+"&offset="+e+(""!==gu?"&language="+gu:""),Ps,2,null,Js,Vs)}function Vs(){++xs<Is?(Ps+=500,zs()):(Ss=!1,Ms?(ks=!0,Xs()):(Wf=!1,g_(),I_(B)))}function Js(e){var t=JSON.parse(e),n=t.streams.length;Bs=parseInt(t._total),n<Su&&(ks=!0);var a=Ms;Ls=!(Ms+=n);var i=n/xu;0<n%xu&&i++;var s,o,d,l,r,c,u=0;if(!Ns){var _;for(Ns=!0,d=document.createElement("tr"),l=0;l<3;l++)_=l?1===l?'<i class="icon-movie stream_channel_fallow_icon"></i>'+va+A:"":'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+va+va+Kt,(pu=document.createElement("td")).setAttribute("id",Ts[8]+"y_"+l),pu.className="stream_cell",pu.innerHTML='<div id="'+Ts[0]+"y_"+l+'" class="stream_thumbnail_fallow_game" ><div id="'+Ts[3]+"y_"+l+'" class="stream_channel_fallow_game">'+_+"</div></div>",d.appendChild(pu);document.getElementById("stream_table_a_game").appendChild(d)}for(l=0;l<i;l++){for(o=a/xu+l,d=document.createElement("tr"),s=0;s<xu&&u<n;s++,u++)c=(r=t.streams[u]).channel._id,Cs[c]?s--:(Cs[c]=1,d.appendChild(hf(o,o+"_"+s,[r.channel.name,c],Ts,[r.preview.template.replace("{width}x{height}",Ru),q_(JSON.stringify(r.stream_type))+r.channel.display_name,r.channel.status,r.game,y+fv(r.created_at)+b+", "+v+D_(r.viewers)+R,H_(r.video_height,r.average_fps,r.channel.language)])));for(;s<xu;s++)ks&&!Fs&&(Fs=!0,Ms=o*xu+s),d.appendChild(uf(Ts[9]+o+"_"+s)),Es.push(Ts[9]+o+"_"+s);document.getElementById("stream_table_a_game").appendChild(d)}Xs()}function Xs(){Uf(function(){if(Os){if(sf(t_),0<Es.length&&!ks)return Rs(),void Zs();E_(ws,bs,xu,Ms),Es=[]}else g_(),js(),Ls?(I_(L+$),bs=-1,no()):(Os=!0,sf(t_),eo(),j_()),u_(Ts[10]),Wf=!1;Ss=!1})}function js(){As?(Us=!0,Ys()):fs()?Vi():(Us=!1,Ys())}function Ys(){h_(Ts[3]+"y_2",Us?'<i class="icon-heart" style="color: #00b300; font-size: 100%; text-shadow: #FFFFFF 0 0 10px, #FFFFFF 0 0 10px, #FFFFFF 0 0 8px;"></i>'+va+va+Ct:'<i class="icon-heart-o" style="color: #FFFFFF; font-size: 100%; text-shadow: #000000 0 0 10px, #000000 0 0 10px, #000000 0 0 8px;"></i>'+va+va+(fs()?Et:Gt))}function Ws(){fs()&&Zi[lu.Users_Position].access_token?Us?qi():Ni():(I_(Bt),window.setTimeout(function(){Ls&&lu.Main_Go===qc?I_(L+$):P_()},2e3))}function Ks(){ws?1===ws?(lu.Main_Go=iu,lu.Main_OldgameSelected=lu.Main_gameSelected,Hs(),X_()):Ws():(lu.Main_Go=au,lu.Main_OldgameSelected=lu.Main_gameSelected,Hs(),X_())}function Zs(){x_(Es.length);var e=Ms+Gs;e&&Bs-1<e&&(e=Bs-Fu,ks=!0),rm("https://api.twitch.tv/kraken/streams?game="+encodeURIComponent(lu.Main_gameSelected)+"&limit="+Fu+"&offset="+e+(""!==gu?"&language="+gu:""),Ps,2,null,Qs,$s)}function $s(){++xs<Is?(Ps+=500,Zs()):(ks=!0,Ms-=Es.length,Es=[],Xs())}function Qs(e){var t,n,a=JSON.parse(e),i=a.streams.length,s=0,o=0,d=[];for(Bs=parseInt(a._total),i<Fu&&(ks=!0);s<Es.length&&o<i;s++,o++)n=(t=a.streams[o]).channel._id,Cs[n]?s--:(Cs[n]=1,pf(Es[s],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",Ru),q_(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+fv(t.created_at)+b+", "+v+D_(t.viewers)+R,H_(t.video_height,t.average_fps,t.channel.language)],Ts),d.push(s));for(s=d.length-1;-1<s;s--)Es.splice(d[s],1);Gs+=o,ks&&(Ms-=Es.length,Es=[]),Xs()}function eo(){bs<0?no():(Ef(bs,ws,Ts,xu,Ms),Ms/xu<bs+Iu&&!ks&&!Ss&&(Rs(),zs()),uu&&to())}function to(){-1<bs&&Ms?Tf(bs+"_"+ws,Ts):ao()}function no(){f_(Ts[0]+"y_"+ws,Vu)}function ao(){m_(Ts[0]+"y_"+ws,Vu)}function io(e){var t;if(!Wf&&!Mf())switch(kf(),e.keyCode){case Na:U_()?F_():L_()?B_():(lu.Main_OldgameSelected=lu.Main_gameSelected,to(),ao(),Zf(io));break;case Pa:if(-1===bs)ao(),--ws<0&&(ws=2),no();else if(bs||ws){if(R_(bs,ws-1,Ts[0]))to(),ws--,eo();else for(t=xu-1;-1<t;t--)if(R_(bs-1,t,Ts[0])){to(),bs--,ws=t,eo();break}}else to(),ao(),bs=-1,ws=2,no();break;case Ba:-1===bs?(ao(),2<++ws?(ws=0,Ls?no():(bs=0,eo())):no()):R_(bs,ws+1,Ts[0])?(to(),ws++,eo()):R_(bs+1,0,Ts[0])&&(to(),bs++,ws=0,eo());break;case Ga:if(-1!==bs||Ls)if(bs){for(t=0;t<xu;t++)if(R_(bs-1,ws-t,Ts[0])){to(),bs--,ws-=t,eo();break}}else to(),bs=-1,no();else bs=0,ao(),eo();break;case La:if(-1!==bs||Ls){for(t=0;t<xu;t++)if(R_(bs+1,ws-t,Ts[0])){to(),bs++,ws-=t,eo();break}}else bs=0,ao(),eo();break;case Ia:case Ca:qs();break;case ka:lu.Search_isSearching||(lu.Main_Before=qc,lu.Main_Go=tu,lu.Main_OldgameSelected=lu.Main_gameSelected,Hs(),X_());break;case Ma:lu.Search_isSearching||(lu.Main_Before=qc,lu.Main_Go=su,Hs(),X_());break;case Sa:case Ea:case xa:case Ta:-1!==bs?xf(bs+"_"+ws,Ts,io):Ks();break;case Oa:zf(io);break;case Fa:Hs(),tf();break;case Ua:O_();break;case Aa:lu.Main_BeforeSearch=qc,lu.Main_Go=Jc,lu.Main_OldgameSelected=lu.Main_gameSelected,Hs(),X_()}}var so=0,oo=0,lo=!1,ro=0,co={},uo=[],_o=!1,fo=0,mo=5,ho=3500,po=0,vo=0,go=!1,yo=!1,bo="week",wo=2,ko=!1,Mo=["agv_thumbdiv","agv_img","agv_infodiv","agv_title","agv_streamon","agv_duration","agv_viwers","agv_quality","agv_cell","gvempty_","a_games_vod_scroll","agv_game"],Co=!1,Eo=!1,So="";function xo(){lu.Main_CenterLablesVectorPos=3,lu.Main_Go=au,f_("top_bar_game","icon_center_focus"),document.body.addEventListener("keydown",Ro,!1),r_("label_side_panel","icon-arrow-circle-left",I),So===lu.Main_gameSelected&&Co?(lf(so),u_(Mo[10]),E_(oo,so,xu,ro),zo(),No(),j_()):Po()}function Io(){Co&&Do(),document.body.removeEventListener("keydown",Ro),m_("top_bar_game","icon_center_focus"),h_("top_bar_game",m),r_("label_side_panel","icon-ellipsis",Fn),r_("label_switch","icon-switch",l),c_(Mo[10])}function Po(){Co&&Do(),af("stream_table_a_game_vod"),c_(Mo[10]),v_(),zo(),So=lu.Main_gameSelected,P_(),ko=Co=!1,vo=po=0,co={},so=oo=ro=0,lo=!(Wf=!(yo=!(uo=[]))),C_(),Uf(function(){Go(),Bo()})}function Go(){of(),_o=!0,fo=0,ho=3500}function Bo(){var e=ro+po;e&&vo-1<e&&(e=vo-Su,lo=!0),rm("https://api.twitch.tv/kraken/videos/top?game="+encodeURIComponent(lu.Main_gameSelected)+"&limit="+Su+"&broadcast_type="+(Eo?"highlight":"archive")+"&sort=views&offset="+e+"&period="+bo+(""!==gu?"&language="+gu:""),ho,2,null,To,Lo)}function Lo(){++fo<mo?(ho+=500,Bo()):(_o=!1,ro?(lo=!0,Oo()):(Wf=!1,g_(),I_(B)))}function To(e){var t=JSON.parse(e),n=t.vods.length;vo=parseInt(t._total),n<Su&&(lo=!0);var a=ro;go=!(ro+=n);var i=n/xu;0<n%xu&&i++;var s,o,d,l,r,c=0;if(!ko){var u;for(ko=!0,d=document.createElement("tr"),_=0;_<2;_++)u=_?'<i class="icon-history stream_channel_fallow_icon"></i>'+va+va+f:'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+va+va+h,(pu=document.createElement("td")).setAttribute("id",Mo[8]+"y_"+_),pu.className="stream_cell",pu.innerHTML='<div id="'+Mo[0]+"y_"+_+'" class="stream_thumbnail_channel_vod" ><div id="'+Mo[3]+"y_"+_+'" class="stream_channel_fallow_game">'+u+"</div></div>",d.appendChild(pu);document.getElementById("stream_table_a_game_vod").appendChild(d)}for(var _=0;_<i;_++){for(o=a/xu+_,d=document.createElement("tr"),s=0;s<xu&&c<n;s++,c++)r=(l=t.vods[c])._id,-1!==(l.preview.template+"").indexOf("404_processing")||co[r]?s--:(co[r]=1,d.appendChild(nx(o,o+"_"+s,[r,l.length,l.language,l.game,l.channel.name,l.increment_view_count_url],[l.preview.template.replace("{width}x{height}",Ru),l.channel.display_name,D+Q_(l.created_at),xM.parse(l.title)+na+Yt+p+l.game,D_(l.views)+q,H_(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.language),H+uv(l.length),l.animated_preview_url],Mo)));for(;s<xu;s++)lo&&!yo&&(yo=!0,ro=o*xu+s),d.appendChild(uf(Mo[9]+o+"_"+s)),uo.push(Mo[9]+o+"_"+s);document.getElementById("stream_table_a_game_vod").appendChild(d)}Oo()}function Oo(){Uf(function(){if(Co?sf(t_):(g_(),go?I_(L+(Eo?U:F)+T+x):(Co=!0,sf(t_),No(),j_()),u_(Mo[10]),Wf=!1),0<uo.length&&!lo)return Go(),void Fo();E_(oo,so,xu,ro),_o=!(uo=[])})}function Fo(){x_(uo.length);var e=ro+po;e&&vo-1<e&&(e=vo-Fu,lo=!0),rm("https://api.twitch.tv/kraken/videos/top?game="+encodeURIComponent(lu.Main_gameSelected)+"&limit="+Fu+"&broadcast_type="+(Eo?"highlight":"archive")+"&sort=views&offset="+e+"&period="+bo+(""!==gu?"&language="+gu:""),ho,2,null,Ao,Uo)}function Uo(){++fo<mo?(ho+=500,Fo()):(lo=!0,uo=[],Oo())}function Ao(e){var t,n,a=JSON.parse(e),i=a.vods.length,s=0,o=0,d=[];for(vo=parseInt(a._total);s<uo.length&&o<i;s++,o++)n=(t=a.vods[o])._id,-1!==(t.preview.template+"").indexOf("404_processing")||co[n]?s--:(co[n]=1,ix(uo[s],[n,t.length,t.language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",Ru),t.channel.display_name,D+Q_(t.created_at),xM.parse(t.title)+na+Yt+p+t.game,D_(t.views)+q,H_(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.language),H+uv(t.length),t.animated_preview_url],Mo),d.push(s));for(s=d.length-1;-1<s;s--)uo.splice(d[s],1);po+=o,lo&&(ro-=uo.length,uo=[]),Oo()}function No(){so<0?Ho():(Ef(so,oo,Mo,xu,ro),mx(Mo,so+"_"+oo),ro/xu<so+Iu&&!lo&&!_o&&(Go(),Bo()),uu&&Do())}function Do(){window.clearInterval(SS),-1<so&&ro?(u_(Mo[1]+so+"_"+oo),Tf(so+"_"+oo,Mo)):qo()}function Ho(){var e=1<oo?1:oo;f_(Mo[0]+"y_"+e,Vu)}function qo(){var e=1<oo?1:oo;m_(Mo[0]+"y_"+e,Vu)}function Ro(e){var t;if(!Wf&&!Mf())switch(kf(),e.keyCode){case Na:U_()?F_():L_()?B_():(Do(),Zf(Ro));break;case Pa:if(-1===so)qo(),--oo<0&&(oo=1),Ho();else if(so||oo){if(R_(so,oo-1,Mo[0]))Do(),oo--,No();else for(t=xu-1;-1<t;t--)if(R_(so-1,t,Mo[0])){Do(),so--,oo=t,No();break}}else Do(),qo(),so=-1,oo=1,Ho();break;case Ba:-1===so?(qo(),1<++oo?(oo=0,go?Ho():(so=0,No())):Ho()):R_(so,oo+1,Mo[0])?(Do(),oo++,No()):R_(so+1,0,Mo[0])&&(Do(),so++,oo=0,No());break;case Ga:if(-1!==so||go)if(so){for(t=0;t<xu;t++)if(R_(so-1,oo-t,Mo[0])){Do(),so--,oo-=t,No();break}}else Do(),so=-1,Ho();else so=0,qo(),No();break;case La:if(-1!==so||go){for(t=0;t<xu;t++)if(R_(so+1,oo-t,Mo[0])){Do(),so++,oo-=t,No();break}}else so=0,qo(),No();break;case ka:4<++wo&&(wo=1),Po();break;case Ma:--wo<1&&(wo=4),Po();break;case Ia:case Ca:am("AGameVod_highlight",(Eo=!Eo)?"true":"false"),Po();break;case Sa:case Ea:case xa:case Ta:-1===so?(0===oo?am("AGameVod_highlight",(Eo=!Eo)?"true":"false"):4<++wo&&(wo=1),Po()):Gf(so+"_"+oo,Mo,Ro);break;case Oa:zf(Ro);break;case Fa:Io(),tf();break;case Ua:O_();break;case Aa:lu.Search_isSearching||(lu.Main_BeforeSearch=au),lu.Main_Go=Jc,Io(),X_()}}function zo(){1===wo?(h_("top_bar_game",w+$_((Eo?U:F)+le+": "+lu.Main_gameSelected)),bo="day"):2===wo?(h_("top_bar_game",w+$_((Eo?U:F)+re+": "+lu.Main_gameSelected)),bo="week"):3===wo?(h_("top_bar_game",w+$_((Eo?U:F)+ce+": "+lu.Main_gameSelected)),bo="month"):4===wo&&(h_("top_bar_game",w+$_((Eo?U:F)+ue+": "+lu.Main_gameSelected)),bo="all"),am("AGameVod_periodNumber",wo)}var Vo,Jo,Xo=0,jo=0,Yo=!1,Wo=0,Ko=0,Zo=5,$o=3500,Qo=0,ed=!1,td=!1,nd=["cc_thumbdiv","cc_img","cc_infodiv","cc_name","cc_createdon","cc_game","cc_viwers","cc_duration","cc_cell","sccempty_","channel_content_scroll"],ad=!1,id="",sd=null,od="",dd="",ld="",rd="",cd="",ud={};function _d(){lu.Main_CenterLablesVectorPos=1,lu.Main_Go=Yc,Jo&&!lu.Search_isSearching&&lu.Main_selectedChannel_id&&Ud(),id!==lu.Main_selectedChannel&&(ad=!1),Z_(),lu.Main_selectedChannelDisplayname=lu.Main_selectedChannelDisplayname.replace(W,""),p_("top_bar_user",lu.Main_selectedChannelDisplayname),p_("top_bar_game",Ot),document.body.addEventListener("keydown",Ad,!1),Za=!1,ad?(lf(Xo),u_(nd[10]),Bd(),Ld(),j_()):md()}function fd(){K_(),document.body.removeEventListener("keydown",Ad),c_(nd[10])}function md(){af("stream_table_channel_content"),c_(nd[10]),v_(),P_(),id=lu.Main_selectedChannel,rd="",Yo=ed=ad=!1,Vo=void(Xo=jo=Wo=Qo=0),Uf(function(){hd(),pd()})}function hd(){Wf=!0,Ko=0,$o=3500}function pd(){rm("https://api.twitch.tv/kraken/streams/"+encodeURIComponent(void 0!==Vo?Vo:lu.Main_selectedChannel_id),$o,2,null,vd,gd)}function vd(e){null!==JSON.parse(e).stream?(sd=e,hd(),kd()):Vo?(sd=null,hd(),kd()):(hd(),yd())}function gd(){++Ko<Zo?($o+=500,pd()):(sd=null,hd(),kd())}function yd(){var e,t="https://tmi.twitch.tv/hosts?include_logins=1&host="+encodeURIComponent(lu.Main_selectedChannel_id);if(Ku){if(!(e=Android.mreadUrl(t,$o,1,null)))return void bd();200===(e=JSON.parse(e)).status?wd(e.responseText):bd()}else(e=new XMLHttpRequest).open("GET",n_+t,!0),e.timeout=$o,e.setRequestHeader(Au,Uu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void wd(e.responseText);bd()}},e.send(null)}function bd(){++Ko<Zo?($o+=500,yd()):(sd=null,hd(),kd())}function wd(e){var t=JSON.parse(e);void 0!==(Vo=t.hosts[0].target_id)?(hd(),pd()):(sd=null,hd(),kd())}function kd(){rm("https://api.twitch.tv/kraken/channels/"+lu.Main_selectedChannel_id,Kg,2,null,Md,Cd)}function Md(e){var t=JSON.parse(e);od=t.views,dd=t.followers,ld=t.description,lu.Main_selectedChannelLogo=t.logo,Ed()}function Cd(){++Ko<Zo?($o+=500,kd()):(ld=dd=od="",lu.Main_selectedChannelLogo=e_,Ed())}function Ed(){var e=document.createElement("tr"),t=document.createElement("tbody"),n=0;if((pu=document.createElement("tr")).className="follower_header",pu.innerHTML='<div class="follower_header">'+xM.parse(ld)+"</div>",document.getElementById("stream_table_channel_content").appendChild(t),document.getElementById("stream_table_channel_content").appendChild(pu),null!==sd){var a=JSON.parse(sd);if(null!==a.stream){var i=void 0!==Vo?lu.Main_selectedChannelDisplayname+ae:"",s=a.stream;e.appendChild(Sd("0_"+n,s.channel.name,s.preview.template,xM.parse(s.channel.status),s.game,q_(JSON.stringify(s.stream_type))+i+s.channel.display_name,y+fv(s.created_at)+b+", "+v+D_(s.viewers)+R,H_(s.video_height,s.average_fps,s.channel.language))),n++}else ed=!0}else ed=!0;e.appendChild(xd("0_"+n,lu.Main_selectedChannelDisplayname,lu.Main_selectedChannelDisplayname+F,"movie-play")),n++,e.appendChild(xd("0_"+n,lu.Main_selectedChannelDisplayname,lu.Main_selectedChannelDisplayname+A,"movie")),n<2&&(n++,e.appendChild(uf(nd[9]+"0_"+n))),document.getElementById("stream_table_channel_content").appendChild(e),(e=document.createElement("tr")).appendChild(Id("1_0",lu.Main_selectedChannelDisplayname,lu.Main_selectedChannelDisplayname,lu.Main_selectedChannelLogo)),document.getElementById("stream_table_channel_content").appendChild(e),Gd()}function Sd(e,t,n,a,i,s,o,d){return rd=n.replace("{width}x{height}",Ru),(pu=document.createElement("td")).setAttribute("id",nd[8]+e),pu.setAttribute(Ju,t),pu.className="stream_cell",pu.innerHTML='<div id="'+nd[0]+e+'" class="stream_thumbnail_video" ><img id="'+nd[1]+e+'" class="stream_img"></div><div id="'+nd[2]+e+'" class="stream_text"><div id="'+nd[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;"><i class="icon-circle" style="color: '+(void 0!==Vo?"#FED000":"red")+'; font-size: 90%; aria-hidden="true"></i> '+va+s+'</div><div id="'+nd[7]+e+'"class="stream_info" style="width:33%; float: right; text-align: right; display: inline-block;">'+d+'</div><div id="'+nd[4]+e+'"class="stream_info">'+a+'</div><div id="'+nd[5]+e+'"class="stream_info">'+p+i+'</div><div id="'+nd[6]+e+'"class="stream_info">'+o+"</div></div>",pu}function xd(e,t,n,a){return(pu=document.createElement("td")).setAttribute("id",nd[8]+e),pu.setAttribute(Ju,t),pu.className="stream_cell",pu.innerHTML='<div id="'+nd[0]+e+'" class="stream_thumbnail_video" ><div id="'+nd[1]+e+'" class="stream_channel_content_icon"><i class="icon-'+a+'"></i></div></div><div id="'+nd[2]+e+'" class="stream_text"><div id="'+nd[3]+e+'" class="stream_channel" style="text-align: center">'+n+"</div></div>",pu}function Id(e,t,n,a){return cd=a,(pu=document.createElement("td")).setAttribute("id",nd[8]+e),pu.setAttribute(Ju,t),pu.className="stream_cell",pu.innerHTML='<div id="'+nd[0]+e+'" class="stream_thumbnail_video" ><div id="schannel_cont_heart" style="position: absolute; top: 5%; left: 6%;"></div><img id="'+nd[1]+e+'" class="stream_img_fallow"></div><div id="'+nd[2]+e+'" class="stream_text"><div id="'+nd[3]+e+'" class="stream_channel">'+n+'</div><div id="'+nd[5]+e+'"class="stream_info">'+D_(od)+q+'</div><div id="'+nd[6]+e+'"class="stream_info" >'+D_(dd)+At+"</div></div>",pu}function Pd(){Wa?(h_("schannel_cont_heart",'<i class="icon-heart" style="color: #00b300; font-size: 600%; text-shadow: #FFFFFF 0 0 10px, #FFFFFF 0 0 10px, #FFFFFF 0 0 8px;"></i>'),p_(nd[3]+"1_0",lu.Main_selectedChannelDisplayname+Ct)):(h_("schannel_cont_heart",'<i class="icon-heart-o" style="color: #FFFFFF; font-size: 600%; text-shadow: #000000 0 0 10px, #000000 0 0 10px, #000000 0 0 8px;"></i>'),fs()?p_(nd[3]+"1_0",lu.Main_selectedChannelDisplayname+Et):p_(nd[3]+"1_0",lu.Main_selectedChannelDisplayname+Nt))}function Gd(){Uf(function(){ad||(g_(),ad=!0,""!==rd&&a_(document.getElementById(nd[1]+"0_0"),rd,t_),a_(document.getElementById(nd[1]+"1_0"),cd,e_),Ld(),j_(),u_(nd[10])),Bd(),Wf=!1})}function Bd(){td?Pd():fs()?($a=lu.Main_selectedChannel_id,Za=!1,yi()):(Wa=!1,Pd())}function Ld(){f_(nd[0]+Xo+"_"+(Xo?0:jo),Vu),uu&&Td(),bf()}function Td(){Tf(Xo+"_"+(Xo?0:jo),nd)}function Od(){if(Xo)fs()&&Zi[lu.Users_Position].access_token?(Za=!1,$a=lu.Main_selectedChannel_id,Wa?xi():Ci()):(I_(Bt),window.setTimeout(P_,2e3));else{document.body.removeEventListener("keydown",Ad),c_(nd[10]);var e=ed?1:0;jo===0-e?(lu.Play_selectedChannel=document.getElementById(nd[8]+Xo+"_"+jo).getAttribute(Ju),lu.Play_selectedChannelDisplayname=document.getElementById(nd[3]+Xo+"_"+jo).textContent,-1!==lu.Play_selectedChannelDisplayname.indexOf(ae)?(lu.Play_isHost=!0,lu.Play_DisplaynameHost=lu.Play_selectedChannelDisplayname,lu.Play_selectedChannelDisplayname=lu.Play_selectedChannelDisplayname.split(ae)[1],lu.Play_selectedChannel_id=Vo):lu.Play_selectedChannel_id=lu.Main_selectedChannel_id,lu.Play_gameSelected=document.getElementById(nd[5]+Xo+"_"+jo).textContent.split(p)[1],Uf(If)):jo===1-e?Uf(cl):jo===2-e&&(yb=Vb,Uf(Cb))}}function Fd(){ud={"Main_values.Main_selectedChannel_id":lu.Main_selectedChannel_id,"Main_values.Main_selectedChannelLogo":lu.Main_selectedChannelLogo,"Main_values.Main_selectedChannel":lu.Main_selectedChannel,"Main_values.Main_selectedChannelDisplayname":lu.Main_selectedChannelDisplayname,ChannelContent_UserChannels:td,"Main_values.Main_BeforeChannel":lu.Main_BeforeChannel}}function Ud(){lu.Main_selectedChannel_id=lu.Main_selectedChannel_id,lu.Main_selectedChannelLogo=lu.Main_selectedChannelLogo,lu.Main_selectedChannel=lu.Main_selectedChannel,lu.Main_selectedChannelDisplayname=lu.Main_selectedChannelDisplayname,td=ud.ChannelContent_UserChannels,lu.Main_BeforeChannel=lu.Main_BeforeChannel,Jo=!(ud={})}function Ad(e){if(!Wf&&!Mf())switch(kf(),e.keyCode){case Na:U_()?F_():L_()?B_():(Td(),Zf(Ad));break;case Pa:Xo||(Td(),--jo<0&&(jo=ed?1:2),Ld());break;case Ba:Xo||(Td(),(ed?1:2)<++jo&&(jo=0),Ld());break;case Ga:case La:Td(),Xo=Xo?0:1,Ld();break;case Ia:case Ca:md();break;case Sa:case Ea:case xa:case Ta:Od();break;case Oa:zf(Ad);break;case Fa:fd(),tf();break;case Ua:O_();break;case Aa:lu.Search_isSearching||(Jo=!0,Fd(),lu.Main_BeforeSearch=Yc),lu.Main_Go=Jc,fd(),X_()}}var Nd=0,Dd=0,Hd=!1,qd=0,Rd={},zd=[],Vd=!1,Jd=0,Xd=5,jd=3500,Yd=0,Wd=0,Kd=0,Zd=!1,$d=!1,Qd="",el=!1,tl=["cv_thumbdiv","cv_img","cv_infodiv","cv_title","cv_streamon","cv_duration","cv_viwers","cv_quality","cv_cell","cvempty_","channel_vod_scroll","cv_game"],nl=!1,al=!1,il="",sl="",ol="",dl="",ll="",rl=0;function cl(){lu.Main_CenterLablesVectorPos=1,lu.Main_Go=Wc,!lu.Search_isSearching&&lu.Main_selectedChannel_id&&Ud(),lu.Main_selectedChannel!==il&&(nl=!1),Z_(),r_("label_side_panel","icon-arrow-circle-left",I),p_("top_bar_user",lu.Main_selectedChannelDisplayname),document.body.addEventListener("keydown",El,!1),nl?(lf(Nd),p_("top_bar_game",al?U:F),u_(tl[10]),E_(Dd,Nd,xu,qd),wl(),j_()):_l()}function ul(){nl&&kl(),K_(),document.body.removeEventListener("keydown",El),c_(tl[10])}function _l(){nl&&kl(),af("stream_table_channel_vod"),c_(tl[10]),p_("top_bar_game",al?U:F),v_(),P_(),il=lu.Main_selectedChannel,Wd=Yd=0,el=nl=!1,Rd={},Nd=Dd=qd=0,Hd=!(Wf=!($d=!(zd=[]))),C_(),Uf(function(){fl(),ml()})}function fl(){of(),Vd=!0,Jd=0,jd=3500}function ml(){var e=qd+Yd;e&&Wd-1<e&&(e=Wd-Su,Hd=!0),rm("https://api.twitch.tv/kraken/channels/"+encodeURIComponent(lu.Main_selectedChannel_id)+"/videos?limit="+Su+"&broadcast_type="+(al?"highlight":"archive")+"&sort=time&offset="+e,jd,2,null,pl,hl)}function hl(){++Jd<Xd?(jd+=500,ml()):(Vd=!1,qd?(Hd=!0,vl()):(Wf=!1,g_(),I_(B)))}function pl(e){var t=JSON.parse(e),n=t.videos.length;Wd=parseInt(t._total),n<Su&&(Hd=!0);var a=qd;Zd=!(qd+=n);var i=n/xu;0<n%xu&&i++;var s,o,d,l,r,c,u,_=0;if(!el){el=!0,d=document.createElement("tr");var f='<i class="icon-movie-play stream_channel_fallow_icon"></i>'+va+va+h;(pu=document.createElement("td")).setAttribute("id",tl[8]+"y_0"),pu.className="stream_cell",pu.innerHTML='<div id="'+tl[0]+'y_0" class="stream_thumbnail_channel_vod" ><div id="'+tl[3]+'y_0" class="stream_channel_fallow_game">'+f+"</div></div>",d.appendChild(pu),document.getElementById("stream_table_channel_vod").appendChild(d)}for(var m=0;m<i;m++){for(o=a/xu+m,d=document.createElement("tr"),s=0;s<xu&&_<n;s++,_++)r=(l=t.videos[_])._id,c=-1!==((u=l.preview.template)+"").indexOf("404_processing"),o||s||!c||(c=!1,u=t_),c||Rd[r]?s--:(Rd[r]=1,d.appendChild(nx(o,o+"_"+s,[r,l.length,l.language,l.game,l.channel.name,l.increment_view_count_url],[u.replace("{width}x{height}",Ru),xM.parse(l.title),D+Q_(l.created_at),Yt+p+l.game,D_(l.views)+q,H_(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.language),H+uv(l.length),l.animated_preview_url],tl)));for(;s<xu;s++)Hd&&!$d&&($d=!0,qd=o*xu+s),d.appendChild(uf(tl[9]+o+"_"+s)),zd.push(tl[9]+o+"_"+s);document.getElementById("stream_table_channel_vod").appendChild(d)}vl()}function vl(){Uf(function(){if(nl?sf(t_):(g_(),Zd?I_(L+(al?U:F)+T+x):(nl=!0,sf(t_),wl(),j_()),u_(tl[10]),Wf=!1),0<zd.length&&!Hd)return fl(),void gl();E_(Dd,Nd,xu,qd),Vd=!(zd=[])})}function gl(){x_(zd.length);var e=qd+Yd;e&&Wd-1<e&&(e=Wd-Fu,Hd=!0),rm("https://api.twitch.tv/kraken/channels/"+encodeURIComponent(lu.Main_selectedChannel_id)+"/videos?limit="+Fu+"&broadcast_type="+(al?"highlight":"archive")+"&sort=time&offset="+e,jd,2,null,bl,yl)}function yl(){++Jd<Xd?(jd+=500,gl()):(Hd=!0,qd-=zd.length,zd=[],vl())}function bl(e){var t,n,a=JSON.parse(e),i=a.videos.length,s=0,o=0,d=[];for(Wd=parseInt(a._total);s<zd.length&&o<i;s++,o++)n=(t=a.videos[o])._id,-1!==(t.preview.template+"").indexOf("404_processing")||Rd[n]?s--:(Rd[n]=1,ix(zd[s],[n,t.length,t.language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",Ru),xM.parse(t.title),D+Q_(t.created_at),Yt+p+t.game,D_(t.views)+q,H_(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.language),H+uv(t.length),t.animated_preview_url],tl),d.push(s));for(s=d.length-1;-1<s;s--)zd.splice(d[s],1);Yd+=o,Hd&&(qd-=zd.length,zd=[]),vl()}function wl(){Nd<0?Ml():(Ef(Nd,Dd,tl,xu,qd),mx(tl,Nd+"_"+Dd),qd/xu<Nd+Iu&&!Hd&&!Vd&&(fl(),ml()),uu&&kl())}function kl(){window.clearInterval(SS),-1<Nd&&qd?(u_(tl[1]+Nd+"_"+Dd),Tf(Nd+"_"+Dd,tl)):Cl()}function Ml(){f_(tl[0]+"y_0",Vu)}function Cl(){m_(tl[0]+"y_0",Vu)}function El(e){var t;if(!Wf&&!Mf())switch(kf(),e.keyCode){case Na:U_()?F_():L_()?B_():(kl(),Zf(El));break;case Pa:if(R_(Nd,Dd-1,tl[0]))kl(),Dd--,wl();else for(t=xu-1;-1<t;t--)if(R_(Nd-1,t,tl[0])){kl(),Nd--,Dd=t,wl();break}break;case Ba:R_(Nd,Dd+1,tl[0])?(kl(),Dd++,wl()):R_(Nd+1,0,tl[0])&&(kl(),Nd++,Dd=0,wl());break;case Ga:if(-1!==Nd||Zd)if(Nd){for(t=0;t<xu;t++)if(R_(Nd-1,Dd-t,tl[0])){kl(),Nd--,Dd-=t,wl();break}}else kl(),Nd=-1,Ml();else Nd=0,Cl(),wl();break;case La:if(-1!==Nd||Zd){for(t=0;t<xu;t++)if(R_(Nd+1,Dd-t,tl[0])){kl(),Nd++,Dd-=t,wl();break}}else Nd=0,Cl(),wl();break;case ka:case Ma:am("ChannelVod_highlight",(al=!al)?"true":"false"),_l();break;case Ia:case Ca:_l();break;case Sa:case Ea:case xa:case Ta:-1===Nd?(am("ChannelVod_highlight",(al=!al)?"true":"false"),_l()):Gf(Nd+"_"+Dd,tl,El);break;case Oa:zf(El);break;case Fa:ul(),tf();break;case Ua:O_();break;case Aa:lu.Search_isSearching||(Fd(),lu.Main_BeforeSearch=Wc),lu.Main_Go=Jc,ul(),X_()}}var Sl,xl,Il,Pl,Gl,Bl=!1,Ll=0,Tl=[],Ol=[],Fl=10,Ul=null,Al=0,Nl="",Dl=["ff0000","ff4000","ff8000","ffbf00","ffff00","bfff00","80ff00","40ff00","00ff00","00ff40","00ff80","00ffbf","00ffff","00bfff","0080ff","0040ff","ff00ff","ff00bf","ff0080","ff0040"],Hl=Dl.length,ql=0,Rl=!1,zl=0;function Vl(){Pl=document.getElementById("chat_box"),Yl()}function Jl(){cr(),Ku&&lu.Play_ChatForceDisable?(Bl||Yl(),Uf(function(){$l(zl=(new Date).getTime())})):pr()}function Xl(a){return Object.keys(a).map(function(n){var e=a[n];return e.type=n,e.versions=Object.keys(a[n].versions).map(function(e){var t=a[n].versions[e];return t.type=e,t}),e})}function jl(e,t,n,a){var i=document.createElement("style");i.type="text/css",i.innerHTML="."+e+"-"+t+' { background-image: url("'+n.replace("http:","https:")+'"); }',a?document.head.appendChild(i):Pl.appendChild(i)}function Yl(){Ll=0,Bl=!1,Wl()}function Wl(){rm("https://badges.twitch.tv/v1/badges/global/display",1e4,0,null,Zl,Kl)}function Kl(){++Ll<Fl?Wl():Bl=!1}function Zl(e){Xl(JSON.parse(e).badge_sets).forEach(function(t){t.versions.forEach(function(e){jl(t.type,e.type,e.image_url_4x,!0)})}),Bl=!0}function $l(e){Ll=0,Ql(e)}function Ql(e){var t,n="https://badges.twitch.tv/v1/badges/channels/"+lu.Main_selectedChannel_id+"/display";if(Ku){if(!(t=Android.mreadUrl(n,1e4,0,null)))return void(zl===e&&er(e));if(200===(t=JSON.parse(t)).status)return void(zl===e&&tr(t.responseText,e));zl===e&&er(e)}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=1e4,t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void(zl===e&&tr(t.responseText,e));zl===e&&er(e)}},t.send(null)}function er(e){Ll++,zl===e&&(Ll<Fl?Ql(e):Gl=window.setTimeout(function(){Ql(e)},2500))}function tr(e,t){Xl(JSON.parse(e).badge_sets).forEach(function(t){t.versions.forEach(function(e){jl(t.type,e.type,e.image_url_4x,!1)})}),zl===t&&nr(t)}function nr(e){Ll=0,zl===e&&ar(e)}function ar(e){var t,n="https://api.twitch.tv/v5/videos/"+lu.ChannelVod_vodId+"/comments?client_id="+Uu+(Al?"&content_offset_seconds="+parseInt(Al):"");if(Ku){if(!(t=Android.mreadUrl(n,1e4,0,null)))return void(zl===e&&ir(e));if(200===(t=JSON.parse(t)).status)return void(zl===e&&sr(t.responseText,e));zl===e&&ir(e)}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=1e4,t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void(zl===e&&sr(t.responseText,e));zl===e&&ir(e)}},t.send(null)}function ir(e){Ll++,zl===e&&(Ll<Fl?ar(e):xl=window.setTimeout(function(){ar(e)},2500))}function sr(e,t){e=JSON.parse(e);var n,a,i=null===Ul;i&&(n="&nbsp;",n+='<span class="message">',n+=na+gn+lu.Main_selectedChannelDisplayname+" "+Nl,or(n+="</span>",0)),Al=0,Ul=e._next,e.comments.forEach(function(e){n="",(a=e.message).hasOwnProperty("user_badges")&&a.user_badges.forEach(function(e){n+='<span class="'+e._id+"-"+e.version+' tag"></span>'}),n+='<span class="nick" style="color: #'+Dl[e.commenter.display_name.charCodeAt(0)%Hl]+';">'+e.commenter.display_name+"</span>&#58;&nbsp;",n+='<span class="message">',a.fragments.forEach(function(e){e.hasOwnProperty("emoticon")?n+='<img class="emoticon" src="https://static-cdn.jtvnw.net/emoticons/v1/'+e.emoticon.emoticon_id+'/1.0" srcset="https://static-cdn.jtvnw.net/emoticons/v1/'+e.emoticon.emoticon_id+"/2.0 2x, https://static-cdn.jtvnw.net/emoticons/v1/"+e.emoticon.emoticon_id+'/3.0 4x">':n+=xM.parse(e.text)}),n+="</span>",i?or(n,e.content_offset_seconds):void 0!==Ul&&dr(n,e.content_offset_seconds)}),i&&zl===t&&(lr(t),void 0!==Ul&&_r(t))}function or(e,t){Tl.push({time:t,message:e})}function dr(e,t){Ol.push({time:t,message:e})}function lr(e){Rl||zl!==e||(Sl=window.setInterval(function(){ur(e),Pl.scrollTop=Pl.scrollHeight},1e3))}function rr(){Rl||(window.clearInterval(Gl),window.clearInterval(Sl),window.clearInterval(xl),window.clearInterval(Il))}function cr(){rr(),zl=0,af("chat_box"),Rl=!1,Ul=null,Tl=[],Ol=[],ql=0}function ur(e){var t,n;if(ql<Tl.length-1)for(n=ql;n<Tl.length&&Tl[n].time<rl+Android.gettime()/1e3;n++,ql++)(t=document.createElement("div")).className="chat_line",t.innerHTML=Tl[n].message,Pl.appendChild(t);else if(rr(),void 0!==Ul){Tl=Ol.slice(),ql=0,lr(e),Ol=[],zl===e&&_r(e);var a=document.getElementsByClassName("chat_line");if(0<a.length-100)for(n=0;n<a.length-100;n++)a[0].parentNode.removeChild(a[0]);Pl.scrollTop=Pl.scrollHeight}else{var i="&nbsp;";i+='<span class="message">',i+=na+na+kn+na+na,i+="</span>",(t=document.createElement("div")).className="chat_line",t.innerHTML=i,Pl.appendChild(t),Rl=!0,Pl.scrollTop=Pl.scrollHeight,window.clearInterval(Sl),Sl=window.setInterval(function(){Pl.scrollTop=Pl.scrollHeight},250)}}function _r(e){Ll=0,Rl||zl!==e||fr(e)}function fr(e){var t,n="https://api.twitch.tv/v5/videos/"+lu.ChannelVod_vodId+"/comments?client_id="+Uu+(null!==Ul?"&cursor="+Ul:"");if(Ku){if(!(t=Android.mreadUrl(n,1e4,0,null)))return void(Rl||zl!==e||mr(e));if(200===(t=JSON.parse(t)).status)return void(Rl||zl!==e||sr(t.responseText,e));Rl||zl!==e||mr(e)}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=1e4,t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void(Rl||zl!==e||sr(t.responseText,e));Rl||zl!==e||mr(e)}},t.send(null)}function mr(e){Ll++,zl===e&&(Ll<Fl?fr(e):Il=window.setTimeout(function(){fr(e)},2500))}function hr(){zl=0,vr(on+na+dn)}function pr(){cr(),c_("chat_frame"),u_("chat_box"),vr(Kn)}function vr(e){var t="&nbsp;";t+='<span class="message">',t+=na+na+na+na+na+na+na+na+na+na,t+=e,t+="</span>";var n=document.createElement("div");n.className="chat_line",n.innerHTML=t,Pl.appendChild(n)}var gr=!1,yr=["f_thumbdiv","f_img","f_infodiv","f_displayname","f_streamtitle","f_streamgame","f_viwers","f_quality","f_cell","fempty_","featured_scroll"],br=0,wr=0,kr=!1,Mr=0,Cr={},Er=!1,Sr=0,xr=5,Ir=3500,Pr=[],Gr=0,Br=0,Lr=!1,Tr=0,Or=!1;function Fr(){lu.Main_CenterLablesVectorPos=2,lu.Main_Go=su,f_("top_bar_featured","icon_center_focus"),document.body.addEventListener("keydown",Yr,!1),gr?(lf(br),u_(yr[10]),E_(wr,br,xu,Mr),Xr(),j_()):Ar()}function Ur(){document.body.removeEventListener("keydown",Yr),m_("top_bar_featured","icon_center_focus"),c_(yr[10])}function Ar(){af("stream_table_featured"),c_(yr[10]),v_(),P_(),gr=!1,Wf=!(Lr=!(Pr=[])),Tr=br=wr=Mr=Br=Gr=0,kr=!(Cr={}),C_(),Uf(function(){Nr(),Dr()})}function Nr(){of(),Er=!0,Sr=0,Ir=3500}function Dr(){rm("https://api.twitch.tv/kraken/streams/featured?limit="+Su+"&offset="+(Mr+Gr)+(fs()&&Zi[lu.Users_Position].access_token?"&oauth_token="+Zi[lu.Users_Position].access_token:""),Ir,2,null,qr,Hr)}function Hr(){++Sr<xr?(Ir+=500,Dr()):(Er=!1,Mr?(kr=!0,Rr()):(Wf=!1,g_(),I_(B)))}function qr(e){var t=JSON.parse(e),n=t.featured.length;Br=parseInt(t._total),n<Su&&(kr=!0);var a=Mr;Or=!(Mr+=n);var i=n/xu;0<n%xu&&i++;for(var s,o,d,l,r,c=0,u=0;u<i;u++){for(o=a/xu+u,d=document.createElement("tr"),s=0;s<xu&&c<n;s++,c++)r=(l=t.featured[c].stream).channel._id,Cr[r]?s--:(Cr[r]=1,d.appendChild(hf(o,o+"_"+s,[l.channel.name,r],yr,[l.preview.template.replace("{width}x{height}",Ru),q_(JSON.stringify(l.stream_type))+l.channel.display_name,l.channel.status,l.game,y+fv(l.created_at)+b+", "+v+D_(l.viewers)+R,H_(l.video_height,l.average_fps,l.channel.language)])));for(;s<xu;s++)kr&&!Lr&&(Lr=!0,Mr=o*xu+s),d.appendChild(uf(yr[9]+o+"_"+s)),Pr.push(yr[9]+o+"_"+s);document.getElementById("stream_table_featured").appendChild(d)}Rr()}function Rr(){Uf(function(){if(gr){if(sf(t_),0<Pr.length&&!kr)return Nr(),void zr();E_(wr,br,xu,Mr),Pr=[]}else g_(),Or?I_(L+K):(gr=!0,sf(t_),Xr(),j_()),u_(yr[10]),Wf=!1;Er=!1})}function zr(){x_(Pr.length),rm("https://api.twitch.tv/kraken/streams/featured?limit="+Fu+"&offset="+(Mr+Gr)+(fs()&&Zi[lu.Users_Position].access_token?"&oauth_token="+Zi[lu.Users_Position].access_token:""),Ir,2,null,Jr,Vr)}function Vr(){++Sr<xr?(Ir+=500,zr()):(kr=!0,Mr-=Pr.length,Pr=[],Rr())}function Jr(e){var t,n,a=JSON.parse(e),i=a.featured.length,s=0,o=0,d=[];for(i<Fu&&(kr=!0);s<Pr.length&&o<i;s++,o++)n=(t=a.featured[o].stream).channel._id,Cr[n]?s--:(Cr[n]=1,pf(Pr[s],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",Ru),q_(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+fv(t.created_at)+b+", "+v+D_(t.viewers)+R,H_(t.video_height,t.average_fps,t.channel.language)],yr),d.push(s));for(s=d.length-1;-1<s;s--)Pr.splice(d[s],1);Gr+=o,kr&&(Mr-=Pr.length,Pr=[]),Rr()}function Xr(){Ef(br,wr,yr,xu,Mr),Mr/xu<br+Iu&&!kr&&!Er&&(Nr(),Dr()),uu&&jr()}function jr(){Mr&&Tf(br+"_"+wr,yr)}function Yr(e){var t;if(!Wf&&!Mf())switch(kf(),e.keyCode){case Na:U_()?F_():L_()?B_():(jr(),Zf(Yr));break;case Pa:if(R_(br,wr-1,yr[0]))jr(),wr--,Xr();else for(t=xu-1;-1<t;t--)if(R_(br-1,t,yr[0])){jr(),br--,wr=t,Xr();break}break;case Ba:R_(br,wr+1,yr[0])?(jr(),wr++,Xr()):R_(br+1,0,yr[0])&&(jr(),br++,wr=0,Xr());break;case Ga:for(t=0;t<xu;t++)if(R_(br-1,wr-t,yr[0])){jr(),br--,wr-=t,Xr();break}break;case La:for(t=0;t<xu;t++)if(R_(br+1,wr-t,yr[0])){jr(),br++,wr-=t,Xr();break}break;case Ia:case Ca:Ar();break;case ka:lu.Main_Before=su,lu.Main_Go=Hc,Ur(),X_();break;case Ma:lu.Main_Before=su,lu.Main_Go=ys()?Zc:Dc,Ur(),X_();break;case Sa:case Ea:case xa:case Ta:xf(br+"_"+wr,yr,Yr);break;case Oa:zf(Yr);break;case Fa:Ur(),tf();break;case Ua:O_();break;case Aa:lu.Main_BeforeSearch=su,lu.Main_Go=Jc,Ur(),X_()}}var Wr=!1,Kr=["l_thumbdiv","l_img","l_infodiv","l_displayname","l_streamtitle","l_streamgame","l_viwers","l_quality","l_cell","lempty_","live_scroll"],Zr=0,$r=0,Qr=0,ec=!1,tc=0,nc={},ac=!1,ic=0,sc=5,oc=3500,dc=[],lc=0,rc=0,cc=!1,uc=0;function _c(){lu.Main_CenterLablesVectorPos=0,lu.Main_Go=Nc,f_("top_bar_live","icon_center_focus"),document.body.addEventListener("keydown",Sc,!1),Wr?(lf(Zr),u_(Kr[10]),E_($r,Zr,xu,tc),Mc(),j_()):mc()}function fc(){document.body.removeEventListener("keydown",Sc),m_("top_bar_live","icon_center_focus"),c_(Kr[10])}function mc(){af("stream_table_live"),c_(Kr[10]),v_(),P_(),Wr=!1,Wf=!(cc=!(dc=[])),uc=Zr=$r=tc=rc=lc=0,ec=!(nc={}),C_(),Uf(function(){hc(),pc()})}function hc(){of(),ac=!0,ic=0,oc=3500}function pc(){var e=tc+lc;e&&rc-1<e&&(e=rc-Su,ec=!0),rm("https://api.twitch.tv/kraken/streams?limit="+Su+"&offset="+e+(""!==gu?"&language="+gu:""),oc,2,null,gc,vc)}function vc(){++ic<sc?(oc+=500,pc()):(ac=!1,tc?(ec=!0,yc()):(Wf=!1,g_(),I_(B),u_("topbar")))}function gc(e){var t=JSON.parse(e),n=t.streams.length;rc=parseInt(t._total),n<Su&&(ec=!0);var a=tc;tc+=n;var i=n/xu;0<n%xu&&i++;for(var s,o,d,l,r,c=0,u=0;u<i;u++){for(o=a/xu+u,d=document.createElement("tr"),s=0;s<xu&&c<n;s++,c++)r=(l=t.streams[c]).channel._id,nc[r]?s--:(nc[r]=1,d.appendChild(hf(o,o+"_"+s,[l.channel.name,r,l.channel.status],Kr,[l.preview.template.replace("{width}x{height}",Ru),q_(JSON.stringify(l.stream_type))+l.channel.display_name,l.channel.status,l.game,y+fv(l.created_at)+b+", "+v+D_(l.viewers)+R,H_(l.video_height,l.average_fps,l.channel.language)])));for(;s<xu;s++)ec&&!cc&&(cc=!0,tc=o*xu+s),d.appendChild(uf(Kr[9]+o+"_"+s)),dc.push(Kr[9]+o+"_"+s);document.getElementById("stream_table_live").appendChild(d)}yc()}function yc(){Uf(function(){if(Wr){if(sf(t_),0<dc.length&&!ec)return hc(),void bc();E_($r,Zr,xu,tc),dc=[]}else g_(),u_("topbar"),tc?(Wr=!0,sf(t_),Mc(),lu.Main_WasOpen=!0):I_(L+K),ku&&Wr&&aM.restor_playback.defaultValue&&(lu.Play_WasPlaying||lu.Main_WasOpen)?lu.Play_WasPlaying?(W_(lu.Main_Go),lu.Main_Go=du,lu.vodOffset||(lu.vodOffset=1),Kd=lu.vodOffset+1,kv(Rn),1===lu.Play_WasPlaying?If():Bf(),X_(!0),window.setTimeout(function(){Mv()},2e3)):1!==du?(W_(lu.Main_Go),lu.Main_Go=du,Cc(),X_()):(u_(Kr[10]),lu.Never_run&&O_(),lu.Never_run=!1,j_()):(u_(Kr[10]),j_()),Wf=ku=!1;ac=!1})}function bc(){x_(dc.length);var e=tc+lc;e&&rc-1<e&&(e=rc-Fu,ec=!0),rm("https://api.twitch.tv/kraken/streams?limit="+Fu+"&offset="+e+(""!==gu?"&language="+gu:""),oc,2,null,kc,wc)}function wc(){++ic<sc?(oc+=500,bc()):(ec=!0,tc-=dc.length,dc=[],yc())}function kc(e){var t,n,a=JSON.parse(e),i=a.streams.length,s=0,o=0,d=[];for(rc=parseInt(a._total),i<Fu&&(ec=!0);s<dc.length&&o<i;s++,o++)n=(t=a.streams[o]).channel._id,nc[n]?s--:(nc[n]=1,pf(dc[s],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",Ru),q_(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+fv(t.created_at)+b+", "+v+D_(t.viewers)+R,H_(t.video_height,t.average_fps,t.channel.language)],Kr),d.push(s));for(s=d.length-1;-1<s;s--)dc.splice(d[s],1);lc+=o,ec&&(tc-=dc.length,dc=[]),yc()}function Mc(){Ef(Zr,$r,Kr,xu,tc),tc/xu<Zr+Iu&&!ec&&!ac&&(hc(),pc()),uu&&Cc()}function Cc(){tc&&Tf(Zr+"_"+$r,Kr)}function Ec(){m_("exit_app_cancel","button_search_focused"),m_("exit_app_minimize","button_search_focused"),m_("exit_app_close","button_search_focused"),f_(Qr?1===Qr?"exit_app_minimize":"exit_app_close":"exit_app_cancel","button_search_focused")}function Sc(e){var t;if(!Wf&&!Mf())switch(kf(),e.keyCode){case Na:N_()?A_():L_()?B_():U_()?F_():(Cc(),Zf(Sc));break;case Pa:if(M_())--Qr<0&&(Qr=2),Ec(),y_(),b_();else if(R_(Zr,$r-1,Kr[0]))Cc(),$r--,Mc();else for(t=xu-1;-1<t;t--)if(R_(Zr-1,t,Kr[0])){Cc(),Zr--,$r=t,Mc();break}break;case Ba:M_()?(2<++Qr&&(Qr=0),Ec(),y_(),b_()):R_(Zr,$r+1,Kr[0])?(Cc(),$r++,Mc()):R_(Zr+1,0,Kr[0])&&(Cc(),Zr++,$r=0,Mc());break;case Ga:if(!M_())for(t=0;t<xu;t++)if(R_(Zr-1,$r-t,Kr[0])){Cc(),Zr--,$r-=t,Mc();break}break;case La:if(!M_())for(t=0;t<xu;t++)if(R_(Zr+1,$r-t,Kr[0])){Cc(),Zr++,$r-=t,Mc();break}break;case Ia:case Ca:mc();break;case ka:lu.Main_Before=Nc,lu.Main_Go=ys()?Zc:Dc,fc(),X_();break;case Ma:lu.Main_Before=Nc,lu.Main_Go=nu,fc(),X_();break;case Sa:case Ea:case xa:case Ta:xf(Zr+"_"+$r,Kr,Sc);break;case Oa:zf(Sc);break;case Fa:Fc||(dm("Reloading"),window.location.reload(!0));break;case Ua:O_();break;case Aa:lu.Main_BeforeSearch=Nc,lu.Main_Go=Jc,fc(),X_()}}var xc,Ic,Pc,Gc,Bc,Lc,Tc,Oc,Fc=!0,Uc=-1,Ac=new Image,Nc=1,Dc=2,Hc=3,qc=4,Rc=5,zc=6,Vc=7,Jc=8,Xc=9,jc=10,Yc=11,Wc=12,Kc=13,Zc=14,$c=15,Qc=16,eu=17,tu=18,nu=19,au=20,iu=21,su=22,ou=23,du="",lu={Main_Go:1,Main_Before:1,Main_BeforeSearch:1,Main_BeforeChannel:1,Main_BeforeAgame:Hc,Main_BeforeChannelisSet:!1,Main_BeforeAgameisSet:!1,Main_selectedChannel:"",Main_selectedChannelDisplayname:"",Main_selectedChannelLogo:"",Main_selectedChannel_id:"",Main_gameSelected:"",Main_OldgameSelected:null,Play_isHost:!1,Play_DisplaynameHost:"",Play_selectedChannelDisplayname:"",Play_selectedChannel:"",Play_gameSelected:"",Users_Position:0,Users_AddcodePosition:0,Main_WasOpen:!1,Play_WasPlaying:0,ChannelVod_vodId:"",vodOffset:0,Search_data:"",isLastSChannels:!1,gameSelectedOld:"",Games_return:!1,Search_isSearching:!1,Play_ChatForceDisable:!1,Never_run:!0,Main_CenterLablesVectorPos:0},ru=!0,cu=!0,uu=!1,_u=[],fu=0,mu=null,hu=!0,pu="",vu=!1,gu="",yu=["label_side_panel","label_extra","label_refresh","label_switch","top_bar_live","top_bar_user","top_bar_featured","top_bar_game","top_bar_vod","top_bar_clip"],bu=0,wu=!1,ku=!0,Mu=0,Cu=1.35,Eu=1.5,Su=45,xu=3,Iu=Math.floor(Su/xu/Eu),Pu=45,Gu=5,Bu=Math.floor(Pu/Gu/Cu),Lu=48,Tu=6,Ou=Math.floor(Lu/Tu/Eu),Fu=6,Uu="5seja5ptej058mxqy7gh5tcudjqtm9",Au="Client-ID",Nu="Accept",Du="Authorization",Hu="OAuth ",qu="application/vnd.twitchtv.v5+json",Ru="528x297",zu="340x475",Vu="stream_thumbnail_focused",Ju="data_attribute",Xu="1.0",ju="033119",Yu=Xu+"-"+ju,Wu=0,Ku=0,Zu="?"+Math.random(),$u="https://fgl27.github.io/SmartTwitchTV/release/githubio/images/",Qu=$u+"404_game.png",e_=$u+"404_logo.png",t_=$u+"404_video.png",n_="https://cors-anywhere.herokuapp.com/",a_=function(e,t,n){e.onerror=function(){this.src=n},e.src=t};function i_(){"loading"===document.readyState?document.addEventListener("DOMContentLoaded",function(){s_(window.navigator.userLanguage||window.navigator.language)}):s_(window.navigator.userLanguage||window.navigator.language)}function s_(e){Of(),Uf(function(){var t=document.body;Fc&&(t.innerHTML=ea);try{Ku=Android.getAndroid()}catch(e){Ku=0,t.style.backgroundColor="rgba(0, 0, 0, 1)"}Uf(function(){hM(),wa(),console.log("language is "+e),ba(),-1!==window.location.href.indexOf("code")&&lm(window.location.href),o_()})})}function o_(){bb(),d_(!0),xc=document.getElementById("scrollbar"),Y_(),du=lu.Main_Go,Uf(function(){Bp(),_s(),document.body.addEventListener("keyup",bf,!1),wb(),_c(),wu=!1,Vl(),Bc=window.setTimeout(V_,5e3),document.getElementById("side_panel").style.marginLeft="",ef(),l_(),XS=om("Vod_highlight",!1),al=om("ChannelVod_highlight",!1),Eo=om("AGameVod_highlight",!1),sS=om("UserVod_highlight",!1),RS=im("vod_periodNumber",2),wo=im("AGameVod_periodNumber",2),tS=im("UserVod_TypeNumber",1),lb(),Ic=document.getElementById("search_input"),Pc=document.getElementById("user_input"),Gc=document.getElementById("oauth_input"),cf(t_),cf(Qu),cf(e_),document.addEventListener("visibilitychange",nf,!1),Lc=window.setInterval(Nf,6e4)})}function d_(e){Nf(),r_("label_refresh",e?"icon-refresh":"icon-arrow-circle-left",e?t+Jt:I),r_("label_switch","icon-switch",l),r_("label_side_panel","icon-ellipsis",Fn),p_("top_bar_live",_),p_("top_bar_user",e?u:a),p_("top_bar_featured",tn),p_("top_bar_game",m),p_("top_bar_vod",Kt),p_("top_bar_clip",A),h_("scene2_search_text",va+n),h_("scene2_channel_text",va+Ot),h_("scene2_game_text",va+Dt),p_("dialog_end_replay_text",$t),p_("dialog_end_vod_text",an),p_("dialog_end_channel_text",Ot),p_("dialog_end_game_text",Dt),h_("dialog_about_text",_a+fa),Tc=[le,re,ce,ue],e?rM():(mM(),ef())}function l_(){p_("play_dialog_exit_text",z),h_("dialog_controls_play_text",ma),p_("side_panel_search",n),p_("side_panel_settings",a),p_("side_panel_about",i),p_("side_panel_controls",e),p_("side_panel_exit",J),p_("side_panel_live",_),p_("side_panel_user",u),p_("side_panel_featured",tn),p_("side_panel_games",m),p_("side_panel_videos",Kt),p_("side_panel_clips",A),p_("side_panel_hide",s),p_("chanel_button",S),p_("game_button",m),p_("live_button",_),p_("exit_app_cancel",Y),p_("exit_app_close",X),p_("remove_cancel",Y),p_("remove_yes",Ht),p_("exit_app_minimize",j),p_("main_dialog_exit_text",V),h_("dialog_controls_text",ua),p_("dialog_vod_text",yn),h_("dialog_vod_start_text",wn)}function r_(e,t,n){h_(e,'<div style="vertical-align: middle; display: inline-block;"><i class="'+t+'" style="color: #FFFFFF; font-size: 115%; "></i></div><div style="vertical-align: middle; display: inline-block">'+va+n+"</div>")}function c_(e){document.getElementById(e).classList.add("hide")}function u_(e){document.getElementById(e).classList.remove("hide")}function __(e){return-1===document.getElementById(e).className.indexOf("hide")}function f_(e,t){document.getElementById(e).classList.add(t)}function m_(e,t){document.getElementById(e).classList.remove(t)}function h_(e,t){document.getElementById(e).innerHTML=t}function p_(e,t){document.getElementById(e).textContent=t}function v_(){lf(-1),u_("dialog_loading")}function g_(){c_("dialog_loading")}function y_(){window.clearTimeout(mu)}function b_(){mu=window.setTimeout(k_,6e3)}function w_(){b_(),u_("main_dialog_exit"),document.body.addEventListener("keydown",Xf,!1)}function k_(){document.body.removeEventListener("keydown",Xf,!1),Zf(Oc),y_(),c_("main_dialog_exit"),Qr=0,Ec()}function M_(){return __("main_dialog_exit")}function C_(){af("dialog_counter_text"),S_(0,0,0)}function E_(e,t,n,a){0<a?(p_("dialog_counter_text",t*n+(e+1)+"/"+a),S_(t,n,a)):C_()}function S_(e,t,n){var a=screen.height/100*7;if(3===t&&9<n||5===t&&10<n||6===t&&12<n){var i=lu.Main_Go===qc||lu.Main_Go===au||lu.Main_Go===iu||lu.Main_Go===Wc||lu.Main_Go===ou||lu.Main_Go===tu||lu.Main_Go===nu||lu.Main_Go===Kc,s=Math.ceil((screen.height-3*a)/(Math.ceil(n/t)-1)*e+a*(i?1.8:1));xc.style.top=s+"px",hu&&(hu=!1,xc.style.backgroundColor="#777777")}else xc.style.backgroundColor="#000000",xc.style.top=a+"px",hu=!0}function x_(e){(Fu=12)/3<e&&(Fu=3*e),99<Fu&&(Fu=99)}function I_(e){p_("dialog_warning_text",e),u_("dialog_warning")}function P_(){c_("dialog_warning")}function G_(){F_(),A_(),u_("dialog_about")}function B_(){c_("dialog_about")}function L_(){return __("dialog_about")}function T_(){F_(),A_(),P_(),W_(lu.Main_Go),C_(),dM()}function O_(){B_(),A_(),u_("dialog_controls")}function F_(){c_("dialog_controls")}function U_(){return __("dialog_controls")}function A_(){c_("dialog_update")}function N_(){return __("dialog_update")}function D_(e){return(e+"").replace(/\B(?=(\d{3})+(?!\d))/g,",")}function H_(e,t,n){return(e+="").indexOf("x")||(e=e.slice(-3)),e+"p"+(t=58<t?60:t<32?30:Math.ceil(t))+(""!==n?" ["+n.toUpperCase()+"]":"")}function q_(e){return-1!==e.indexOf("live")?"":W}function R_(e,t,n){return null!==document.getElementById(n+e+"_"+t,0)}function z_(){Nf(),X_(),document.body.addEventListener("keyup",bf,!1)}function V_(){for(var e,t=0;t<yu.length;t++)t<4?document.getElementById(yu[t]).style.opacity="0.5":-1===(e=document.getElementById(yu[t])).className.indexOf("icon_center_focus")&&(e.style.opacity="0.5");f_("topbar","topbar_dim")}function J_(){for(var e=0;e<yu.length;e++)document.getElementById(yu[e]).style.opacity="1";m_("topbar","topbar_dim")}function X_(e){window.clearTimeout(Bc),J_(),lu.Main_Go!==Yc&&(lu.Main_BeforeChannelisSet=!1),lu.Main_Go!==qc&&(lu.Main_BeforeAgameisSet=!1),C_(),Uf(function(){lu.Main_Go===Nc?_c():lu.Main_Go===Dc?ts():lu.Main_Go===eu?ni():lu.Main_Go===Hc?(yb=Xb,Cb()):lu.Main_Go===qc?Ds():lu.Main_Go===Jc?vk():lu.Main_Go===Xc?nk():lu.Main_Go===jc?Rk():lu.Main_Go===Yc?_d():lu.Main_Go===Wc?cl():lu.Main_Go===Kc?(yb=Vb,Cb()):lu.Main_Go===Zc?ME():lu.Main_Go===Rc?$C():lu.Main_Go===zc?yC():lu.Main_Go===Vc?(yb=jb,Cb()):lu.Main_Go===$c?zM():lu.Main_Go===Qc?xw():lu.Main_Go===tu?WS():lu.Main_Go===nu?(yb=zb,Cb()):lu.Main_Go===au?xo():lu.Main_Go===iu?(yb=Jb,Cb()):lu.Main_Go===su?Fr():lu.Main_Go===ou?oS():_c(),Bc=window.setTimeout(V_,3e3),e&&tm()})}function j_(){am("Main_values",JSON.stringify(lu))}function Y_(){lu=Mb(lu,sm("Main_values",{}))}function W_(e){e===Nc?fc():e===Dc?ns():e===eu?ai():e===Hc?Eb():e===qc?Hs():e===Jc?gk():e===Xc?ak():e===jc?zk():e===Yc?fd():e===Wc?ul():e===Kc?Eb():e===Zc?CE():e===Rc?QC():e===zc?bC():e===Vc?Eb():e===$c?VM():e===Qc?Iw():e===tu?KS():e===nu?Eb():e===au?Io():e===iu?Eb():e===su?Ur():e===ou&&dS(),__("settings_scroll")&&lM()}function K_(){r_("label_refresh","icon-refresh",t+Jt),r_("label_side_panel","icon-ellipsis",Fn),c_("label_switch"),m_("top_bar_user","icon_center_focus"),p_("top_bar_live",_),p_("top_bar_user",u),p_("top_bar_featured",tn),p_("top_bar_game",m),p_("top_bar_vod",Kt),p_("top_bar_clip",A)}function Z_(){r_("label_side_panel","icon-arrow-circle-left",I),af("top_bar_live"),af("top_bar_game"),af("top_bar_vod"),af("top_bar_clip"),af("top_bar_featured"),f_("top_bar_user","icon_center_focus")}function $_(e){return'<div style="font-size: 30%; position: fixed; line-height: 0; text-shadow: #000000 0 0 5.7px, #000000 0 0 5.7px, #000000 0 0 4px">'+e+"</div>"}function Q_(e){return e=new Date(e),vu?e.getDate()+" "+Xt[e.getMonth()]+", "+e.getFullYear():Xt[e.getMonth()]+" "+e.getDate()+", "+e.getFullYear()}function ef(){h_("dialog_about_text",_a+be+Yu+fa)}function tf(){Fc?(lu.Users_Position=0,lu.Main_Go=Nc,lu.Search_isSearching&&K_(),lu.Search_isSearching=!1,X_()):window.location.reload(!0)}function nf(){document.hidden?window.clearInterval(Lc):(Nf(),Lc=window.setInterval(Nf,6e4),window.setTimeout(function(){document.hidden||Nf()},2e4))}function af(e){for(e=document.getElementById(e);e.firstChild;)e.removeChild(e.firstChild)}function sf(e){for(var t,n=0;n<_u.length;n++)null!==(t=document.getElementById(_u[n].id))&&a_(t,_u[n].src+Zu,e)}function of(){_u=[]}function df(e,t){_u.push({id:e,src:t})}function lf(e){Uc=e}function rf(e){var t=0;return Uc<e?t=-1:e<Uc&&(t=1),Uc=e,t}function cf(e){Ac.src=e}function uf(e){return(pu=document.createElement("td")).setAttribute("id",e),pu.className="stream_cell",pu}function _f(e,t,n){return(pu=document.createElement("td")).setAttribute("id",t[4]+e),pu.setAttribute(Ju,n[0]),pu.setAttribute("data-id",n[1]),pu.className="stream_cell",pu.innerHTML=mf(e,t,n),pu}function ff(e,t,n){var a=document.getElementById(e),i=e.split(n[5])[1];a.setAttribute(Ju,t[0]),a.setAttribute("data-id",t[1]),a.innerHTML=mf(i,n,t),a.setAttribute("id",n[4]+i)}function mf(e,t,n){return df(t[1]+e,n[2]),'<div id="'+t[0]+e+'" class="stream_thumbnail_channel" ><img id="'+t[1]+e+'" class="stream_img"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel">'+n[3]+"</div></div>"}function hf(e,t,n,a,i){return e<xu&&cf(i[0]),(pu=document.createElement("td")).setAttribute("id",a[8]+t),pu.setAttribute(Ju,JSON.stringify(n)),pu.className="stream_cell",pu.innerHTML=vf(t,a,i),pu}function pf(e,t,n,a){var i=document.getElementById(e),s=e.split(a[9])[1];i.setAttribute(Ju,JSON.stringify(t)),i.innerHTML=vf(s,a,n),i.setAttribute("id",a[8]+s)}function vf(e,t,n){return df(t[1]+e,n[0]),'<div id="'+t[0]+e+'" class="stream_thumbnail_video" ><img id="'+t[1]+e+'" class="stream_img"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;">'+n[1]+'</div><div id="'+t[7]+e+'"class="stream_info" style="width:33%; float: right; text-align: right; display: inline-block;">'+n[5]+'</div><div id="'+t[4]+e+'"class="stream_info">'+xM.parse(n[2])+'</div><div id="'+t[5]+e+'"class="stream_info">'+p+n[3]+'</div><div id="'+t[6]+e+'"class="stream_info">'+n[4]+"</div></div>"}function gf(e,t,n){return(pu=document.createElement("td")).setAttribute("id",t[5]+e),pu.setAttribute(Ju,n[0]),pu.className="stream_cell",pu.innerHTML=yf(e,t,n),pu}function yf(e,t,n){return df(t[1]+e,n[1]),'<div id="'+t[0]+e+'" class="stream_thumbnail_game" ><img id="'+t[1]+e+'" class="stream_img"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel">'+n[0]+'</div><div id="'+t[4]+e+'"class="stream_info_games" style="width: 100%; display: inline-block;">'+n[2]+"</div></div>"}function bf(){cu=!0}function wf(){ru=!0}function kf(){ru=!1,window.setTimeout(wf)}function Mf(){return!ru||!cu}function Cf(e,t,n,a,i){if(f_(n[0]+e+"_"+t,Vu),E_(t,e,a,i),rf(e)){var s=screen.height/100;1<e?R_(e+1,0,n[0])?Lf(n[6],-1*document.getElementById(n[4]+e+"_"+t).offsetTop+42*s):bf():Lf(n[6],5*s)}else bf()}function Ef(e,t,n,a,i){if(f_(n[0]+e+"_"+t,Vu),E_(t,e,a,i),rf(e)){var s=screen.height/100;e?R_(e+1,0,n[0])&&Lf(n[10],-1*document.getElementById(n[8]+e+"_"+t).offsetTop+s*(33+bu)):Lf(n[10],7*s)}else bf()}function Sf(e,t,n,a,i){if(f_(n[0]+e+"_"+t,Vu),E_(t,e,a,i),rf(e)){var s=screen.height/100;Lf(n[10]?n[10]:n[7],e?-1*document.getElementById(n[5]+e+"_"+t).offsetTop+51*s:3.0625*s)}else bf()}function xf(e,t,n){document.body.removeEventListener("keydown",n),lu.Play_selectedChannel=JSON.parse(document.getElementById(t[8]+e).getAttribute(Ju)),lu.Play_selectedChannel_id=lu.Play_selectedChannel[1],lu.Play_selectedChannel=lu.Play_selectedChannel[0],lu.Main_Go===zc?(lu.Play_DisplaynameHost=document.getElementById(t[3]+e).textContent,lu.Play_selectedChannelDisplayname=lu.Play_DisplaynameHost.split(ae)[1],lu.Play_isHost=!0):lu.Play_selectedChannelDisplayname=document.getElementById(t[3]+e).textContent,lu.Play_gameSelected=document.getElementById(t[5]+e).textContent.split(p)[1],lu.Main_Go===qc&&(lu.Main_OldgameSelected=lu.Main_gameSelected),If()}function If(){document.body.addEventListener("keydown",Gg,!1),c_("scene1"),u_("scene2"),Ov(),qv(),dg(),Uf(Op)}function Pf(e,t,n){document.body.removeEventListener("keydown",n),Qb=JSON.parse(document.getElementById(t[8]+e).getAttribute(Ju)),Om=parseInt(Qb[1]),lu.Play_gameSelected=Qb[2],lu.Main_selectedChannel=Qb[3],lu.Main_selectedChannelDisplayname=Qb[4],lu.Main_selectedChannelLogo=Qb[5],lu.Main_selectedChannel_id=Qb[6],lu.ChannelVod_vodId=Qb[7],rl=parseInt(Qb[8]),$b=Qb[9],tw=Qb[10],Kb=Qb[11],Qb=Qb[0],ew=document.getElementById(t[4]+e).textContent,Zb=document.getElementById(t[6]+e).textContent,document.body.addEventListener("keydown",ah,!1),c_("scene1"),u_("scene2"),qv(),Gv(),Mv(),Sv(),Uf(Fm)}function Gf(e,t,n){document.body.removeEventListener("keydown",n),lu.ChannelVod_vodId=JSON.parse(document.getElementById(t[8]+e).getAttribute(Ju)),Kd=parseInt(lu.ChannelVod_vodId[1]),Qd=lu.ChannelVod_vodId[2],lu.Play_gameSelected=lu.ChannelVod_vodId[3],lu.Main_selectedChannel=lu.ChannelVod_vodId[4],Mp=lu.ChannelVod_vodId[5],lu.ChannelVod_vodId=lu.ChannelVod_vodId[0].substr(1),lu.Main_Go===Wc?sl=document.getElementById(t[3]+e).innerHTML:(sl="",lu.Main_selectedChannelDisplayname=document.getElementById(t[3]+e).textContent),dl=document.getElementById(t[4]+e).textContent,ll=document.getElementById(t[5]+e).textContent,ol=document.getElementById(t[11]+e).innerHTML+", "+document.getElementById(t[6]+e).textContent,Bf()}function Bf(){document.body.addEventListener("keydown",gb,!1),c_("scene1"),u_("scene2"),Xy(),qv(),Gv(),Sv(),fy=!1,Uf(by)}function Lf(e,t){document.getElementById(e).style.top=t+"px",window.setTimeout(bf,10)}function Tf(e,t){cu=!1,m_(t[0]+e,Vu)}function Of(){for(var e=document.styleSheets,t=0;t<e.length;t++)if(null!==e[t].href)try{e[t].cssRules.length||Ff(e[t].href)}catch(e){console.log("Main_Checktylesheet "+e)}}function Ff(e){var t=document.createElement("link");t.rel="stylesheet",t.href=e,document.getElementsByTagName("head")[0].appendChild(t)}function Uf(e){"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?window.setTimeout(e):document.addEventListener("DOMContentLoaded",e)}function Af(){var e=(new Date).getTime()+Wu;return e=new Date(e),(vu?jt[e.getDay()]+" "+e.getDate()+"/"+Xt[e.getMonth()]:jt[e.getDay()]+" "+Xt[e.getMonth()]+"/"+e.getDate())+" "+cv(e.getHours())+":"+cv(e.getMinutes())}function Nf(){p_("label_clock",Af()),Zu="?"+Math.random()}function Df(){f_("side_panel_"+Mu,"side_panel_text_focus")}function Hf(){m_("side_panel_"+Mu,"side_panel_text_focus")}function qf(){Mu?1===Mu?T_():2===Mu?(document.body.addEventListener("keydown",Oc,!1),G_()):3===Mu?(document.body.addEventListener("keydown",Oc,!1),O_()):4===Mu?w_(Oc):5===Mu?Rf(Nc):6===Mu?Rf(ys()?Zc:Dc):7===Mu?Rf(su):8===Mu?Rf(Hc):9===Mu?Rf(tu):10===Mu&&Rf(nu):lu.Main_Go!==Jc?(lu.Search_isSearching||lu.Main_Go!==Yc&&lu.Main_Go!==Kc&&lu.Main_Go!==Wc||Fd(),lu.Main_BeforeSearch=lu.Main_Go,lu.Main_Go=Jc,W_(lu.Main_BeforeSearch),X_()):document.body.addEventListener("keydown",Oc,!1),Vf()}function Rf(e){e===lu.Main_Go?document.body.addEventListener("keydown",Oc,!1):(lu.Main_Before=lu.Main_Go,lu.Main_Go=e,W_(lu.Main_Before),X_())}function zf(e){Oc=e,document.body.removeEventListener("keydown",Oc),document.body.addEventListener("keydown",Jf,!1),m_("side_panel","side_panel_hide")}function Vf(){document.body.removeEventListener("keydown",Jf),f_("side_panel","side_panel_hide"),Hf(),Mu=0,Df()}function Jf(e){switch(e.keyCode){case Na:case Pa:document.body.addEventListener("keydown",Oc,!1),Vf(),Qf();break;case Ga:Mu&&(Hf(),Mu--,Df());break;case La:Mu<10&&(Hf(),Mu++,Df());break;case Ta:qf()}}function Xf(e){switch(e.keyCode){case Na:k_();break;case Ba:2<++Qr&&(Qr=0),Ec(),y_(),b_();break;case Pa:--Qr<0&&(Qr=2),Ec(),y_(),b_();break;case Ta:Qr?Ku&&1===Qr?Android.mclose(!1):Ku&&2===Qr&&Android.mclose(!0):k_()}}i_();var jf=["top_bar_live","top_bar_user","top_bar_featured","top_bar_game","top_bar_vod","top_bar_clip"],Yf=[Nc,Zc,su,Hc,tu,nu],Wf=!1;function Kf(e){if(!(Wf||yb.FirstLoad||Mf()))switch(e.keyCode){case Na:U_()?(Qf(),F_()):L_()?(Qf(),B_()):lu.Main_Go===qc?(lu.Main_OldgameSelected=lu.Main_gameSelected,lu.Games_return?(lu.Main_Go=Xc,lu.Main_gameSelected=lu.gameSelectedOld):(lu.Main_Go=lu.Main_BeforeAgame,lu.Main_BeforeAgame=Nc),Hs(),$f(),X_()):lu.Main_Go===iu?(Db(qc),$f(),X_()):lu.Main_Go===Vc?(Db(Zc),$f(),X_()):lu.Main_Go===Kc?(Db(Yc),$f(),X_()):lu.Main_Go===au?(lu.Main_Go=qc,Io(),$f(),X_()):lu.Main_Go===Rc?(lu.Main_Go=Zc,QC(),$f(),X_()):lu.Main_Go===zc?(lu.Main_Go=Zc,bC(),$f(),X_()):lu.Main_Go===ou?(lu.Main_Go=Zc,dS(),$f(),X_()):lu.Main_Go===$c?(lu.Main_Go=Zc,VM(),$f(),X_()):lu.Main_Go===Yc?(lu.Main_Go=lu.Main_BeforeChannel,lu.Main_BeforeChannel=Nc,fd(),lu.Main_selectedChannel_id="",$f(),X_()):lu.Main_Go===Wc?(lu.Main_Go=Yc,ul(),$f(),X_()):lu.Main_Go===jc?(lu.Main_Go===lu.Main_BeforeSearch?lu.Main_Go=Nc:lu.Main_Go=lu.Main_BeforeSearch,zk(),lu.Search_isSearching=!1,$f(),X_()):lu.Main_Go===Xc?(lu.Main_Go===lu.Main_BeforeSearch?lu.Main_Go=Nc:lu.Main_Go=lu.Main_BeforeSearch,lu.Search_isSearching=!1,ak(),$f(),X_()):lu.Main_Go===Qc?(lu.Main_Go===lu.Main_BeforeSearch?lu.Main_Go=Nc:lu.Main_Go=lu.Main_BeforeSearch,lu.Main_selectedChannel_id&&Ud(),Iw(),lu.Search_isSearching=!1,$f(),X_()):($f(),zf(Kf));break;case Ba:if(lu.Search_isSearching||lu.Main_Go===Yc||lu.Main_Go===Wc||lu.Main_Go===Kc||lu.Main_Go===jc||lu.Main_Go===Xc||lu.Main_Go===Qc)break;m_(jf[lu.Main_CenterLablesVectorPos],"icon_center_line"),lu.Main_CenterLablesVectorPos++,5<lu.Main_CenterLablesVectorPos&&(lu.Main_CenterLablesVectorPos=0),Qf(),em();break;case Pa:if(lu.Search_isSearching||lu.Main_Go===Yc||lu.Main_Go===Wc||lu.Main_Go===Kc||lu.Main_Go===jc||lu.Main_Go===Xc||lu.Main_Go===Qc)break;m_(jf[lu.Main_CenterLablesVectorPos],"icon_center_line"),lu.Main_CenterLablesVectorPos--,lu.Main_CenterLablesVectorPos<0&&(lu.Main_CenterLablesVectorPos=5),Qf(),em();break;case La:m_(jf[lu.Main_CenterLablesVectorPos],"icon_center_line"),document.body.removeEventListener("keydown",Kf),uu=!1,X_();break;case Ta:nm()}}function Zf(e){window.clearTimeout(Bc),J_(),document.body.removeEventListener("keydown",e),document.body.removeEventListener("keydown",Kf),document.body.addEventListener("keydown",Kf,!1),Qf()}function $f(){m_(jf[lu.Main_CenterLablesVectorPos],"icon_center_line"),document.body.removeEventListener("keydown",Kf),uu=!1}function Qf(){uu=!0,f_(jf[lu.Main_CenterLablesVectorPos],"icon_center_line")}function em(){W_(lu.Main_Go),lu.Main_Go=Yf[lu.Main_CenterLablesVectorPos],lu.Main_Go!==Zc||ys()?X_(!0):(lu.Main_Go=Dc,$f(),X_())}function tm(){lu.Main_Go===Nc?document.body.removeEventListener("keydown",Sc):lu.Main_Go===Zc?document.body.removeEventListener("keydown",DE):lu.Main_Go===qc?document.body.removeEventListener("keydown",io):lu.Main_Go===su?document.body.removeEventListener("keydown",Yr):lu.Main_Go===jc?document.body.removeEventListener("keydown",tM):lu.Main_Go===Xc?document.body.removeEventListener("keydown",fk):lu.Main_Go===Qc?document.body.removeEventListener("keydown",Rw):lu.Main_Go===Wc?document.body.removeEventListener("keydown",El):lu.Main_Go===Yc?document.body.removeEventListener("keydown",Ad):lu.Main_Go===zc?document.body.removeEventListener("keydown",LC):lu.Main_Go===ou?document.body.removeEventListener("keydown",CS):lu.Main_Go===$c?document.body.removeEventListener("keydown",tC):lu.Main_Go===Hc?(yb=Xb,document.body.removeEventListener("keydown",Rb)):lu.Main_Go===Kc?(yb=Vb,document.body.removeEventListener("keydown",Rb)):lu.Main_Go===tu?document.body.removeEventListener("keydown",hx):lu.Main_Go===nu?(yb=zb,document.body.removeEventListener("keydown",Rb)):lu.Main_Go===iu?(yb=Jb,document.body.removeEventListener("keydown",Rb)):lu.Main_Go===Vc?(yb=jb,document.body.removeEventListener("keydown",Rb)):lu.Main_Go===au?document.body.removeEventListener("keydown",Ro):lu.Main_Go===Rc&&document.body.removeEventListener("keydown",mE)}function nm(){window.clearTimeout(Bc),J_(),lu.Main_Go!==Yc&&(lu.Main_BeforeChannelisSet=!1),lu.Main_Go!==qc&&(lu.Main_BeforeAgameisSet=!1),C_(),lu.Main_Go===Nc?mc():lu.Main_Go===Zc?EE():lu.Main_Go===su?Ar():lu.Main_Go===qc?qs():lu.Main_Go===$c?JM():lu.Main_Go===Yc?md():lu.Main_Go===Wc?_l():lu.Main_Go===jc?Vk():lu.Main_Go===Xc?ik():lu.Main_Go===Qc?Gw():lu.Main_Go===Hc?(yb=Xb,Sb()):lu.Main_Go===Vc?(yb=jb).loadingData||yb.key_refresh():lu.Main_Go===tu?ZS():lu.Main_Go===nu?(yb=zb,Sb()):lu.Main_Go===iu?(yb=Jb,Sb()):lu.Main_Go===Kc?(yb=Vb,Sb()):lu.Main_Go===au?Po():lu.Main_Go===Rc?eE():lu.Main_Go===zc?wC():lu.Main_Go===ou?lS():mc(),Bc=window.setTimeout(V_,3e3)}function am(e,t){localStorage.setItem(e,t)}function im(e,t){return parseInt(localStorage.getItem(e))||t}function sm(e,t){return JSON.parse(localStorage.getItem(e))||t}function om(e,t){var n=t.toString();return(localStorage.getItem(e)||n)===n?t:!t}function dm(e){console.log(e);for(var t=0;t<e.length;t++)console.log("Character is: "+e.charAt(t)+" it's Unicode is: \\u"+e.charCodeAt(t).toString(16).toUpperCase())}function lm(e){console.log("processCode");var t="";t=e.match(/code=(\w+)/),fu=t?(t=t[1],console.log("if code "+t),t):(console.log("else code "+t),0)}function rm(e,t,n,a,i,s){var o;if(Ku){if(!(o=Android.mreadUrl(e,t,n,a)))return void s();200===(o=JSON.parse(o)).status?i(o.responseText):s()}else(o=new XMLHttpRequest).open("GET",e,!0),o.timeout=t,0<n&&o.setRequestHeader(Au,Uu),1<n&&o.setRequestHeader(Nu,qu),2<n&&o.setRequestHeader(Du,a),o.ontimeout=function(){},o.onreadystatechange=function(){if(4===o.readyState){if(200===o.status)return void i(o.responseText);s()}},o.send(null)}var cm=0,um=null,_m=0,fm=!1,mm=0,hm=0,pm=!1,vm=0,gm=2e3,ym=5,bm="source",wm=bm,km=0,Mm=[],Cm="",Em=!1,Sm=0,xm=0,Im=1,Pm=!1,Gm=0,Bm=!1,Lm=!1,Tm=[0,5],Om=0;function Fm(){bv(),dg(),Vp(document.getElementById("stream_info_icon"),lu.Main_selectedChannelLogo),p_("stream_info_name",lu.Main_selectedChannelDisplayname),h_("stream_info_title",$b),h_("stream_info_game",Kb+", "+Zb+", "+tw),p_("stream_live_icon",ew),p_("progress_bar_duration",uv(Om)),ib((Cp=Tm)[1]),lu.Play_isHost=!1,p_("progress_bar_current_time",uv(0)),p_("stream_live_time",""),p_("stream_watching_time",""),Pm=null!==lu.ChannelVod_vodId,Nl=Tt+".",Pm?(Al=rl,Jl()):hr(),h_("pause_button",'<i class="strokedbig icon-pause" style="color: #FFFFFF; font-size: 180%;"></i>'),u_("progress_pause_holder"),th(),fp=0,u_("scene_channel_panel_bottom"),u_("chat_box"),c_("chat_frame"),Lm=!1,ph=-13,Sm=xm=Gm=0,km=2,hg(3),tp=!1,ng(),fs()?(Za=!0,$a=lu.Main_selectedChannel_id,yi()):yv(),document.addEventListener("visibilitychange",zm,!1),fm=!1,pm=!(hm=mm=0),Um(),document.body.removeEventListener("keyup",bf)}function Um(){vm=0,gm=2e3,Am()}function Am(){var e,t="https://clips.twitch.tv/api/v2/clips/"+Qb+"/status";if(Ku){if(!(e=Android.mreadUrl(t,ip,1,null)))return void Nm();200===(e=JSON.parse(e)).status?Dm(e.responseText):Nm()}else(e=new XMLHttpRequest).open("GET",n_+t,!0),e.timeout=gm,e.setRequestHeader(Au,Uu),e.ontimeout=function(){},e.onreadystatechange=function(){4===e.readyState&&(200===e.status?Dm(e.responseText):Nm())},e.send(null)}function Nm(){++vm<ym?(gm+=250,Am()):(wv(),Play_PannelEndStart(3))}function Dm(e){Mm=[],e=JSON.parse(e).quality_options;for(var t=0;t<e.length;t++)Mm.length?Mm.push({id:e[t].quality+"p"+Hm(e[t].frame_rate),url:e[t].source}):Mm.push({id:e[t].quality+"p"+Hm(e[t].frame_rate)+" (source)",url:e[t].source});xm=Im,qm()}function Hm(e){return 40<e?60:""}function qm(){Cm=Mm[km=0].url,-1!==bm.indexOf("source")&&(bm="source");for(var e=0;e<$m();e++){if(Mm[e].id===bm){Cm=Mm[km=e].url;break}-1!==Mm[e].id.indexOf(bm)&&(Cm=Mm[km=e].url)}wm=bm,Fc||console.log("PlayClip_onPlayer:",'\n\n"'+Cm+'"\n'),xm=Im,Fc||console.log("PlayClip_onPlayer:",'\n\n"'+Bh+'"\n'),Ku&&pm&&Android.startVideoOffset(Cm,3,Em?-1:Android.gettime()),Em=!1,Rm()}function Rm(){Oh&&!Rv()&&Hv(),Ku&&(_m=0,Bm=!(bp=3),window.clearInterval(Vm),um=window.setInterval(Vm,wp))}function zm(){document.hidden&&(Xm(),window.clearInterval(um))}function Vm(){Ku&&(Sm=Android.gettime()),cm!==Sm||lv()?(_m=Gm=0,Lm=!1):++_m>bp&&(Bm&&Lm&&km<$m()-1?km++:!Bm&&Lm&&Gm++,navigator.onLine?1<Gm?dv(Gm,3,Jm):(Qm(),qm(),Lm=!0):ov(!1,3)),cm=Sm}function Jm(e){if(!e){if(!(km<$m()-1))return void ov(!1,3);km++}Gm=0,Qm(),qm(),Lm=!0}function Xm(){pm&&(Mm=[],jm(),Sv(),pv())}function jm(){window.clearInterval(um),Ku&&Android.stopVideo(3),pm=!1,cr(),vv(),document.body.removeEventListener("keydown",ah),document.removeEventListener("visibilitychange",zm),Ym(),document.getElementById("scene2_pannel_0").style.display="none",document.getElementById("scene2_pannel_1").style.width="30%",document.getElementById("quality_name").style.width="77%",document.getElementById("quality_name").style.fontSize="87.5%",rl=0}function Ym(){sy=!1,iy=oy=0,Av(),bm=wm,document.getElementById("scene_channel_panel").style.opacity="0",Ku&&tb(Android.gettime()/1e3,Om,!0),h_("progress_bar_jump_to",va),document.getElementById("progress_bar_steps").style.display="none",window.clearInterval(Tg)}function Wm(){Km(),rv(),Tg=window.setInterval(Km,1e3),Sv(),Wy(),Zm(),Qm(),document.getElementById("scene_channel_panel").style.opacity="1",eh()}function Km(){Ku&&tb(Android.gettime()/1e3,Om,!sy)}function Zm(){for(var e=km=0;e<$m();e++){if(Mm[e].id===bm){km=e;break}-1!==Mm[e].id.indexOf(bm)&&(km=e)}}function $m(){return Mm.length}function Qm(){1===$m()?(document.getElementById("quality_arrow_up").style.opacity="0",document.getElementById("quality_arrow_down").style.opacity="0"):km?km===$m()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(bm=Mm[km].id).indexOf("source")?p_("quality_name",bm.replace("source",ye)):p_("quality_name",bm)}function eh(){yh=window.setTimeout(Ym,5e3+my)}function th(){document.getElementById("scene2_pannel_1").style.width="18%",document.getElementById("quality_name").style.width="60%",document.getElementById("quality_name").style.fontSize="72%",p_("open_vod_text",Pm?an:sn),document.getElementById("scene2_pannel_0").style.display="inline-block"}function nh(){Pm?(lu.vodOffset=rl,jm(),document.body.addEventListener("keydown",gb,!1),ng(),Uf(by)):(tp=!0,kv(on),window.setTimeout(function(){tp=!1,Mv()},2e3))}function ah(e){if(xm!==Im)switch(e.keyCode){case Fa:Fc||window.location.reload(!0);break;case Na:xv()?(Sv(),Xm()):Ev()}else switch(e.keyCode){case Pa:kh&&!Tv()&&Rv()?(mh++,$v()):Tv()?(Av(),_y?(ig(),5<++ep&&(ep=0),ag()):(ob(-1,Om),my=2500),eh()):lg()?(fg(),ug(),--op<0&&(op=3),cg()):Wm();break;case Ba:!kh||Tv()||lg()?Tv()?(Av(),_y?(ig(),--ep<0&&(ep=5),ag()):(ob(1,Om),my=2500),eh()):lg()?(fg(),ug(),3<++op&&(op=0),cg()):Wm():am("ChatEnable",(Oh=Rv()||lg()?(qv(),!1):(Hv(),!0))?"true":"false");break;case Ga:lg()?fg():Tv()?(2===_y&&1!==ep?(_y--,Ky()):1===_y?(_y--,Ky()):0<km&&1===ep&&(km--,Qm()),Av(),eh()):kh&&Rv()?(4<++gh?Zv(!(gh=1)):4===gh&&Zv(!0),Wv(!0)):Wm();break;case La:lg()?fg():Tv()?(_y?1===_y?(_y++,Ky()):km<$m()-1&&1===ep&&(km++,Qm()):(_y++,Ky()),Av(),eh()):kh&&Rv()?(1.05<(vh+=.05)&&(vh=.05),Kv(!0)):Wm();break;case Ta:lg()?mg(3):Tv()?_y?1===_y?(Pm&&lu.Play_ChatForceDisable&&(lv()?lr(zl):rr()),lg()||tg(3)):bg(3):(Av(),eh(),iy&&nb()):Wm();break;case Na:Jv()?Vv():Tv()?Ym():xv()?(Sv(),Xm()):Ev();break;case Sa:case Ea:case xa:Pm&&!lu.Play_ChatForceDisable&&(lv()?lr(zl):rr()),lg()||tg(3);break;case Ia:case Ca:kh&&am("ChatEnable",(Oh=Rv()||lg()?(qv(),!1):(Hv(),!0))?"true":"false");break;case ka:kh&&Rv()&&(mh++,$v());break;case Ma:kh&&Rv()&&(mh--,$v());break;case Ua:lg()||zv();break;case Fa:if(!Pm)return;lu.Play_ChatForceDisable=!lu.Play_ChatForceDisable,lu.Play_ChatForceDisable?Pm&&(Al=rl,Jl()):pr(),j_();break;case Oa:Lp(kh=!kh);break;case Aa:vg(3)}}var ih,sh,oh,dh,lh,rh,ch,uh,_h,fh,mh=0,hh=mh,ph=-5,vh=.55,gh=3,yh=null,bh="source",wh=bh,kh=!0,Mh=0,Ch=1,Eh=2,Sh=0,xh=null,Ih=0,Ph=0,Gh=0,Bh="",Lh=[],Th=0,Oh=!1,Fh=null,Uh=null,Ah=null,Nh="",Dh=0,Hh=5,qh=0,Rh=5,zh=0,Vh=!1,Jh=null,Xh=!1,jh=0,Yh=null,Wh=0,Kh=0,Zh=!1,$h=!1,Qh=!1,ep=1,tp=!1,np=!1,ap=1e4,ip=2e3,sp="",op=0,dp=3,lp=null,rp="",cp=0,up=0,_p=0,fp=0,mp="",hp=!0,pp=!1,vp=!1,gp=0,yp=!1,bp=4,wp=1500,kp=0,Mp="",Cp=[],Ep=[{top:51.8,left:75.1,sizeOffset:[31,16,0,0]},{top:33,left:75.1,sizeOffset:[12.5,0,-6.25,0]},{top:.2,left:75.1,sizeOffset:[0,0,0,0]},{top:.2,left:38.3,sizeOffset:[0,0,0,0]},{top:.2,left:.2,sizeOffset:[0,0,0,0]},{top:33,left:.2,sizeOffset:[12.5,0,-6.25,0]},{top:51.8,left:.2,sizeOffset:[31,16,0,0]},{top:51.8,left:38.3,sizeOffset:[31,16,0,0]}],Sp=[0,0,0,1,2,2,2,1],xp=[[0,1,2,2,2,1,0,0],[7,3,3,3,3,3,7,7],[6,5,4,4,4,5,6,6]],Ip=[{containerHeight:17,percentage:"12.5%",dialogTop:15},{containerHeight:32,percentage:"25%",dialogTop:30},{containerHeight:48,percentage:"50%",dialogTop:50},{containerHeight:99.6,percentage:"100%",dialogTop:115}],Pp=1,Gp=["chat_size_small","chat_size_default","chat_size_biger","chat_size_bigest"];function Bp(){rh=document.getElementById("chat_frame"),uh=document.getElementById("chat_container"),fh=document.getElementById("inner_progress_bar"),mh=im("ChatPositionsValue",0),vh=parseFloat(localStorage.getItem("ChatBackgroundValue"))||.55,gh=im("ChatSizeValue",3),Oh=om("ChatEnable",!1),kh=om("Play_isFullScreen",!0),Wv(!1),Kv(!1),Tp()}function Lp(e){e?void 0!==ih&&(mh=ih,gh=oh,(Oh=sh)||qv(),Wv(!1)):(ih=mh,sh=Oh,oh=gh,mh=0,Hv(),gh=4,Zv(Oh=!0),Wv(!1),Pl&&(Pl.scrollTop=Pl.scrollHeight)),am("Play_isFullScreen",kh)}function Tp(){Pp=gM("chat_font_size");for(var e=0;e<Gp.length;e++)m_("chat_inner_container",Gp[e]);f_("chat_inner_container",Gp[Pp])}function Op(){bv(),h_("stream_live_icon",'<div style="vertical-align: middle; display: inline-block"><i class="icon-circle" style="color: red; font-size: 105%; "></i></div><div style="vertical-align: middle; display: inline-block">'+va+_.toUpperCase()+"</div>"),af("stream_info_title"),Pm=!(np=!1),Vp(document.getElementById("stream_info_icon"),e_),lu.Play_isHost?p_("stream_info_name",lu.Play_DisplaynameHost):p_("stream_info_name",lu.Play_selectedChannelDisplayname),lu.Play_WasPlaying=1,j_(),dh=lu.Play_isHost,lu.Play_isHost=!1,pp=!1,u_("scene_channel_panel_bottom"),p_("stream_watching_time",g+uv(fp=0)),Nh=_v(0),p_("stream_live_time",y+Nh+b),c_("chat_box"),u_("chat_frame"),c_("progress_pause_holder"),hg(1),vp=$h=!(ph=-5),cp=Kh=kp=0,up=Date.now(),ap=3e3,hp=!(qh=_p=0),Sh=Mh,Qh=!(Vh=!(Gh=Ph=Ih=Xh=0)),document.addEventListener("visibilitychange",Up,!1),Np(),Jp(),document.body.removeEventListener("keyup",bf),xh=window.setInterval(qp,6e4)}function Fp(e){kv(e)}function Play_CheckResume(){Vh&&Up(),jg&&Py(),pm&&(Xm(),window.clearInterval(um))}function Up(){document.hidden?lg()?(Sv(),qv(),mv()):(vv(),Qh=!1,rh.src="about:blank",window.clearInterval(xh),_p=Date.now()):(Vh=!0,Gv(),Vh&&(ap=3e3,pp=!(qh=0),_p=Date.now()-_p,np?qp():Np(),Sh=Mh,zh=0,navigator.onLine?Jp():lh=window.setInterval(Ap,100),xh=window.setInterval(qp,6e4)))}function Ap(){(navigator.onLine||200<zh)&&(window.clearInterval(lh),Jp()),zh++}function Np(){var e="https://api.twitch.tv/kraken/streams/"+lu.Play_selectedChannel_id,t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=ap,t.setRequestHeader(Nu,qu),t.setRequestHeader(Au,Uu),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?Dp(JSON.parse(t.responseText)):Hp())},t.send(null)}function Dp(e){null!==e.stream&&(p_("stream_info_name",dh?lu.Play_DisplaynameHost:lu.Play_selectedChannelDisplayname),lu.Play_selectedChannel_id=e.stream.channel._id,h_("stream_info_title",xM.parse(e.stream.channel.status)),lu.Play_gameSelected=e.stream.game,sp=", ["+e.stream.channel.language.toUpperCase()+"]",p_("stream_info_game",p+lu.Play_gameSelected+v+D_(e.stream.viewers)+" "+R+sp),lu.Play_selectedChannelLogo=e.stream.channel.logo,np=!0,Vp(document.getElementById("stream_info_icon"),lu.Play_selectedChannelLogo),Nh=e.stream.created_at,fs()?(Za=!0,$a=lu.Play_selectedChannel_id,yi()):yv())}function Hp(){qh<Rh&&(ap+=500,window.setTimeout(function(){Vh&&Np()},750)),qh++}function qp(){var e="https://api.twitch.tv/kraken/streams/"+lu.Play_selectedChannel_id;ip=3e3;var t=new XMLHttpRequest;t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?(kp=0,Rp(JSON.parse(t.responseText))):zp())},t.open("GET",e,!0),t.timeout=ip,t.setRequestHeader(Nu,qu),t.setRequestHeader(Au,Uu),t.send(null)}function Rp(e){null!==e.stream&&(h_("stream_info_title",xM.parse(e.stream.channel.status)),lu.Play_gameSelected=e.stream.game,p_("stream_info_game",p+lu.Play_gameSelected+v+D_(e.stream.viewers)+" "+R+sp),np||Vp(document.getElementById("stream_info_icon"),e.stream.channel.logo))}function zp(){kp<Rh?(window.setTimeout(function(){Vh&&qp()},2500),kp++):kp=0}function Vp(e,t){e.onerror=function(){this.src=e_,np=!1},e.src=t}function Jp(){Dh=0,ip=2e3+(pp?3e3:0),Xp()}function Xp(){var e,t;if(e=Sh===Mh?"https://api.twitch.tv/api/channels/"+lu.Play_selectedChannel+"/access_token"+(fs()&&Zi[lu.Users_Position].access_token?"?oauth_token="+Zi[lu.Users_Position].access_token:""):"http://usher.ttvnw.net/api/channel/hls/"+lu.Play_selectedChannel+".m3u8?&token="+encodeURIComponent(Ih.token)+"&sig="+Ih.sig+"&allow_source=true&allow_audi_only=true&fast_bread=true&allow_spectre=false",Ku){if(!(t=Android.mreadUrl(e,ip,1,null)))return void Yp();200===(t=JSON.parse(t)).status?(Dh=0,Vh&&Kp(t.responseText)):403===t.status?Wp():404===t.status?wg():Yp()}else(t=new XMLHttpRequest).open("GET",n_+e,!0),t.timeout=ip,t.setRequestHeader(Au,Uu),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?(Dh=0,Vh&&Kp(t.responseText)):403===t.status?(jp(t),Wp()):404===t.status?(jp(t),wg()):(jp(t),Yp()))},t.send(null)}function jp(e){Fc||(console.log(e.status),console.log(e.responseText))}function Yp(){Vh&&hp&&(++Dh<Hh+(pp?15:0)?(ip+=250,pp?window.setTimeout(Xp,500):Xp()):wg())}function Wp(){wv(),kv(Nn),window.setTimeout(function(){Vh&&wg()},4e3)}function Kp(e){Sh===Mh?(Ih=JSON.parse(e),Sh=Ch,Jp()):Sh===Ch&&(Lh=Zp(Ph=e),Sh=Eh,Vh&&ev())}function Zp(e){for(var t,n=[],a="",i=1,s=Qp(e),o=0;o<s.length;o++)a=s[o].split('NAME="')[1].split('"')[0],t=$p(s[o].split("BANDWIDTH=")[1].split(",")[0]),n.length?n[o-i].id!==a&&n[o-i].id!==a+" (source)"?n.push({id:a,band:t,url:s[o].split("\n")[2]}):i++:(-1===a.indexOf("ource")&&(a+=" (source)"),n.push({id:a,band:t,url:s[o].split("\n")[2]}));return n}function $p(e){return 0<(e=parseInt(e))?" ("+parseFloat(e/1e6).toFixed(2)+"Mbps)":""}function Qp(e){for(var t,n=[],a=/#EXT-X-MEDIA:(.)*\n#EXT-X-STREAM-INF:(.)*\n(.)*/g;t=a.exec(e);)n.push(t[0]);return n}function ev(){Bh=Lh[Th=0].url,-1!==bh.indexOf("source")&&(bh="source");for(var e=0;e<Yv();e++){if(Lh[e].id===bh){Bh=Lh[Th=e].url;break}-1!==Lh[e].id.indexOf(bh)&&(Bh=Lh[Th=e].url)}wh=bh,Sh=Eh,Fc||console.log("Play_onPlayer:",'\n\n"'+Bh+'"\n'),Ku&&Vh&&Android.startVideo(Bh,1),tv()}function tv(){window.clearTimeout(ch),yp=!1,Oh&&!Rv()&&Hv(),Qh=!0,nv(),Ku&&(Wh=0,Zh=!(bp=3),window.clearInterval(Yh),Yh=window.setInterval(iv,wp))}function nv(){if(lu.Play_ChatForceDisable){yp=!0,window.clearInterval(_h);var e=rh.contentDocument;try{void 0!==e&&null!==e.body&&(e.open(),e.write(""),e.close())}catch(e){}window.clearTimeout(ch),gp=0,vp=!1,rh.src="https://www.nightdev.com/hosted/obschat/?theme=bttv_blackchat&channel="+lu.Play_selectedChannel+"&fade=false&bot_activity=true&prevent_clipping=false",ch=window.setTimeout(av,5e3)}else pr()}function av(){var e=rh.contentDocument,t=!1;try{void 0!==e&&null!==e.body&&(vp=-1!==e.body.innerHTML.indexOf("Connected")),t=vp}catch(e){vp=!0}vp?t&&(_h=window.setInterval(Dv,500),(e=e.getElementById("chat_box"))&&(e.style.fontFamily="'Helvetica Neue',Helvetica, Arial,sans-serif,Sans,Jomolhari,dejavu-sans, CambriaMath, CODE2000 , BabelStoneHan")):yp&&gp<7?(gp++,ch=window.setTimeout(av,1e3)):nv()}function iv(){Ku&&(cp=Android.gettime()),jh!==cp||lv()?(Wh=Kh=0,$h=!1):bp<++Wh&&(Zh&&$h&&Th<Yv()-1?Th++:!Zh&&$h&&Kh++,navigator.onLine?1<Kh?dv(Kh,1,sv):(jv(),ev(),$h=!0):ov(!1,1)),jh=cp}function sv(e){if(!e){if(!(Th<Yv()-1))return void wg();Th++}Kh=0,jv(),ev(),$h=!0}function ov(e,t){lu.Play_isHost=e,hg(t),Play_PannelEndStart(t)}function dv(e,t,n){var a=new XMLHttpRequest;a.timeout=1e3,a.open("GET","https://static-cdn.jtvnw.net/jtv-static/404_preview-10x10.png?rand="+Math.round(1e7*Math.random()),!0),a.onreadystatechange=function(){4===a.readyState&&(200===a.status?n(2<e):12<e&&ov(!1,t))},a.send(null)}function lv(){return!!Ku&&!Android.getPlaybackState()}function rv(){var e=Af();p_("stream_clock",e),p_("label_clock",e)}function cv(e){return e<10?"0"+e:e}function uv(e){var t,n,a;return e+=fp/1e3,t=cv(parseInt(e)%60),n=cv((e=Math.floor(e/60))%60),a=cv(e=Math.floor(e/60)),e?a+":"+n+":"+t:n+":"+t}function _v(e){var t,n,a;return e<0&&!fp&&(fp=-1*e),e+=fp,t=cv(parseInt(e/1e3)%60),n=cv((e=Math.floor(e/1e3/60))%60),a=cv(e=Math.floor(e/60)),e?a+":"+n+":"+t:n+":"+t}function fv(e){return _v((new Date).getTime()-new Date(e).getTime())}function mv(){Vh&&(hv(),lu.Play_WasPlaying=0,pv())}function hv(){Ku&&Android.stopVideo(1),Vh=!1,cr(),vv(),gv(),window.clearInterval(_h),lu.Play_selectedChannel_id=""}function pv(){tb(0,0),u_("scene1"),c_("scene2"),z_()}function vv(){Ov(),Gv(),Mv(),dg(),Mp="",Th===Yv()-1&&(wh=Lh[0].id),Vg===eb()-1&&(Ug=zg[0].id),km===$m()-1&&(wm=Mm[0].id)}function gv(){Qh=!1,document.body.removeEventListener("keydown",Gg),document.removeEventListener("visibilitychange",Up),rh.src="about:blank",window.clearInterval(xh),window.clearInterval(Yh),tp=!1}function yv(){h_("fallow_text",va+Gt),Wa=!1}function bv(){Ku&&Android.mshowLoading(!0)}function wv(){Ku&&Android.mshowLoading(!1)}function kv(e){p_("dialog_warning_play_text",e),u_("dialog_warning_play")}function Mv(){c_("dialog_warning_play")}function Cv(){return __("dialog_warning_play")}function Ev(){xv()?Sv():(u_("play_dialog_exit"),Fh=window.setTimeout(Ev,3e3))}function Sv(){window.clearTimeout(Fh),c_("play_dialog_exit")}function xv(){return __("play_dialog_exit")}function Iv(){window.clearTimeout(Uh)}function Pv(){window.clearTimeout(Ah)}function Gv(){Iv(),Pv(),c_("play_dialog_simple_pause")}function Bv(){lv()?Lv()?(c_("play_dialog_simple_pause"),Ah=window.setTimeout(Bv,8e3)):(u_("play_dialog_simple_pause"),Uh=window.setTimeout(Bv,1500)):Gv()}function Lv(){return __("play_dialog_simple_pause")}function Tv(){return"1"===document.getElementById("scene_channel_panel").style.opacity}function Ov(){Av(),document.getElementById("scene_channel_panel").style.opacity="0",bh=wh,window.clearInterval(Tg)}function Fv(){ng(),Xv(),jv(),Uv(),Tg=window.setInterval(Uv,1e3),rv(),Sv(),document.getElementById("scene_channel_panel").style.opacity="1",Nv()}function Uv(){p_("stream_watching_time",g+_v(Date.now()-_p-up)),p_("stream_live_time",y+fv(Nh)+b)}function Av(){window.clearTimeout(yh),my=0}function Nv(){yh=window.setTimeout(Ov,5e3)}function Dv(){var e=rh.contentDocument;try{void 0!==e&&null!==e.body&&(e=e.getElementById("chat_box"))&&(e.scrollTop=e.scrollHeight)}catch(e){}}function Hv(){$v(),u_("chat_container")}function qv(){c_("chat_container")}function Rv(){return __("chat_container")}function zv(){Sv(),u_("dialog_controls_play")}function Vv(){c_("dialog_controls_play")}function Jv(){return __("dialog_controls_play")}function Xv(){for(var e=Th=0;e<Yv();e++){if(Lh[e].id===bh){Th=e;break}-1!==Lh[e].id.indexOf(bh)&&(Th=e)}}function jv(){1===Yv()?(document.getElementById("quality_arrow_up").style.opacity="0",document.getElementById("quality_arrow_down").style.opacity="0"):Th?Th===Yv()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(bh=Lh[Th].id).indexOf("source")?p_("quality_name",bh.replace("source",ye)+Lh[Th].band):p_("quality_name",bh+Lh[Th].band)}function Yv(){return Lh.length}function Wv(e){uh.style.height=Ip[gh-1].containerHeight+"%",document.getElementById("play_chat_dialog").style.marginTop=Ip[gh-1].dialogTop+"%",$v(),Dv(),e&&Qv(Un+Ip[gh-1].percentage),window.setTimeout(function(){Pl&&(Pl.scrollTop=Pl.scrollHeight)},500),am("ChatSizeValue",gh)}function Kv(e){var t=vh-.05;t=t<.05?0:t.toFixed(2),uh.style.backgroundColor="rgba(0, 0, 0, "+t+")",e&&Qv(An+(100*t).toFixed(0)+"%"),am("ChatBackgroundValue",vh)}function Zv(e){mh=e?Sp[hh=mh]:xp[mh][hh]}function $v(){var e=4===gh;mh<0?mh=e?2:7:(e?2:7)<mh&&(mh=0),uh.style.top=(e?.2:Ep[mh].top+Ep[mh].sizeOffset[gh-1])+"%",uh.style.left=Ep[mh+(e?2:0)].left+"%",am("ChatPositionsValue",mh)}function Qv(e){window.clearTimeout(Jh),p_("play_chat_dialog_text",e),u_("play_chat_dialog"),Jh=window.setTimeout(eg,1e3)}function eg(){c_("play_chat_dialog")}function tg(e){lv()?(Gv(),Ku&&Android.play(!0),h_("pause_button",'<i class="strokedbig icon-pause" style="color: #FFFFFF; font-size: 180%;"></i>'),1===e?(Tv()&&Ov(),Yh=window.setInterval(iv,wp)):2===e?(Tv()&&Xy(),$g=window.setInterval(qy,wp)):3===e&&(Tv()&&Ym(),um=window.setInterval(Vm,wp))):(1===e?window.clearInterval(Yh):2===e?window.clearInterval($g):3===e&&window.clearInterval(um),h_("pause_button",'<i class="strokedbig icon-play-1" style="color: #FFFFFF; font-size: 180%;"></i>'),Ku&&Android.play(!1),Bv())}function ng(){ig(),ep=1,ag()}function ag(){f_("scene2_pannel_"+ep,"playbotton_focus")}function ig(){m_("scene2_pannel_"+ep,"playbotton_focus")}function sg(){xm=Ag=Sh=-1,qv(),Ov(),Ym(),Xy(),tp||Mv(),wv(),Sv(),Vv(),cg()}function og(){u_("dialog_end_stream")}function dg(){c_("dialog_end_stream"),fg(),rg()}function lg(){return __("dialog_end_stream")}function rg(){ug(),op=0,cg()}function cg(){f_("dialog_end_"+op,"dialog_end_icons_focus")}function ug(){m_("dialog_end_"+op,"dialog_end_icons_focus")}function _g(e){1===e?rp=lu.Play_selectedChannelDisplayname+" "+_:2===e?rp=lu.Main_selectedChannelDisplayname+Zt:3===e&&(rp=lu.Main_selectedChannelDisplayname+Tt),h_("dialog_end_stream_text",rp+P+na+Qt+dp+"..."),lg()?(Ag=Sh=Eh,xm=Im,-1===--dp?(h_("dialog_end_stream_text",rp+P+na+Qt+"0..."),Sv(),qv(),1===e?mv():2===e?zy():3===e&&Xm()):lp=window.setTimeout(function(){_g(e)},1e3)):lp=window.setTimeout(function(){_g(e)},50)}function fg(){window.clearTimeout(lp),h_("dialog_end_stream_text",rp+P+na+en)}function mg(e){var t=!0;op?1===op?lu.Play_isHost?(lu.Play_DisplaynameHost=lu.Play_selectedChannelDisplayname+ae,lu.Play_selectedChannel=mp.target_login,lu.Play_selectedChannelDisplayname=mp.target_display_name,lu.Play_DisplaynameHost=lu.Play_DisplaynameHost+lu.Play_selectedChannelDisplayname,hv(),document.body.addEventListener("keydown",Gg,!1),lu.Play_selectedChannel_id=mp.target_id,Uf(Op)):nh():2===op?pg(e):3===op&&gg(e):2===e?zg.length?(ey=!(vy=!0),Dy(),Gv(),Al=ry=0,Jl()):(t=!1,kv(Zn),window.setTimeout(function(){Mv()},2e3)):3===e&&(Mm.length?(Bm=!(Em=!0),qm(),Gv(),Pm?(ry=0,Al=rl,Jl()):hr()):(t=!1,kv(Zn),window.setTimeout(function(){Mv()},2e3))),1!==op&&3===op&&""===lu.Play_gameSelected&&(t=!1),t&&dg()}function hg(e){e?1===e?(ug(),op=2,cg(),document.getElementById("dialog_end_0").style.display="none",document.getElementById("dialog_end_1").style.display="none"):2===e?(rg(),document.getElementById("dialog_end_0").style.display="inline-block",document.getElementById("dialog_end_1").style.display="none"):3===e&&(rg(),document.getElementById("dialog_end_0").style.display="inline-block",document.getElementById("dialog_end_1").style.display="inline-block",p_("dialog_end_vod_text",Pm?an:sn)):(ug(),op=1,cg(),document.getElementById("dialog_end_0").style.display="none",document.getElementById("dialog_end_1").style.display="inline-block",p_("dialog_end_vod_text",rn))}function pg(e){lu.Main_BeforeChannelisSet||lu.Main_Go===Wc||lu.Main_Go===Kc||(lu.Main_BeforeChannel=lu.Main_BeforeAgameisSet&&lu.Main_Go!==qc?lu.Main_BeforeAgame:lu.Main_Go,lu.Main_BeforeChannelisSet=!0),W_(lu.Main_Go),lu.Main_Go=Yc,1===e?(lu.Main_selectedChannel_id=lu.Play_selectedChannel_id,lu.Main_selectedChannel=lu.Play_selectedChannel,lu.Main_selectedChannelDisplayname=lu.Play_selectedChannelDisplayname,td=Wa,qv(),mv()):2===e?zy():3===e&&Xm()}function vg(e){lu.Search_isSearching||(lu.Main_BeforeSearch=lu.Main_Go),W_(lu.Main_Go),lu.Main_Go=Jc,1===e?(qv(),mv()):2===e?zy():3===e&&Xm()}function gg(e){if(""===lu.Play_gameSelected)return tp=!0,kv(jn),void window.setTimeout(function(){tp=!1,Mv()},2e3);lu.Main_BeforeAgameisSet||lu.Main_Go===au||lu.Main_Go===iu||(lu.Main_BeforeAgame=lu.Main_BeforeChannelisSet&&lu.Main_Go!==Yc&&lu.Main_Go!==Wc&&lu.Main_Go!==Kc?lu.Main_BeforeChannel:lu.Main_Go,lu.Main_BeforeAgameisSet=!0),W_(lu.Main_Go),lu.Main_Go=qc,As=!1,lu.Main_gameSelected=lu.Play_gameSelected,qv(),1===e?mv():2===e?zy():3===e&&Xm()}function yg(){fs()&&Zi[lu.Users_Position].access_token?Wa?xi():Ci():(kv(Bt),tp=!0,window.setTimeout(function(){Mv(),tp=!1},2e3))}function bg(e){ep?1===ep?(1===e?(ev(),Ov()):2===e?(ey=!1,Dy(),Xy()):3===e&&(Bm=!1,qm(),Ym()),Gv()):2===ep?($a=1===e?lu.Play_selectedChannel_id:lu.Main_selectedChannel_id,yg(),Av(),1===e?Nv():2===e?Zy():3===e&&eh()):3===ep?gg(e):4===ep?pg(e):5===ep&&vg(e):nh()}function Play_PannelEndStart(e){window.clearInterval(Yh),window.clearInterval(um),window.clearInterval($g),sg(),dp=3,_g(e),og(e)}function wg(){Sh=-1,Dh=0,ip=2e3,window.clearTimeout(ch),rh.src="about:blank",window.clearInterval(xh),window.clearInterval(Yh),""!==lu.Play_selectedChannel_id?Eg():kg()}function kg(){var e,t="https://api.twitch.tv/kraken/users?login="+lu.Play_selectedChannel;if(Ku){if(!(e=Android.mreadUrl(t,ip,2,null)))return void Cg();200===(e=JSON.parse(e)).status?Mg(e.responseText.users[0]):Cg()}else(e=new XMLHttpRequest).open("GET",t,!0),e.timeout=ip,e.setRequestHeader(Au,Uu),e.setRequestHeader(Nu,qu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void Mg(JSON.parse(e.responseText).users[0]);Cg()}},e.send(null)}function Mg(e){void 0!==e?(lu.Play_selectedChannel_id=e._id,Dh=0,ip=2e3,Eg()):Play_PannelEndStart(1)}function Cg(){++Dh<Hh?(ip+=250,kg()):ov(!1,1)}function Eg(){var e,t="https://tmi.twitch.tv/hosts?include_logins=1&host="+encodeURIComponent(lu.Play_selectedChannel_id);if(Ku){if(!(e=Android.mreadUrl(t,ip,1,null)))return void Sg();200===(e=JSON.parse(e)).status?xg(e.responseText):Sg()}else(e=new XMLHttpRequest).open("GET",n_+t,!0),e.timeout=ip,e.setRequestHeader(Au,Uu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void xg(e.responseText);Sg()}},e.send(null)}function Sg(){++Dh<Hh?(ip+=250,Eg()):ov(!1,1)}function xg(e){void 0!==(mp=JSON.parse(e).hosts[0]).target_login?(tp=!0,kv(lu.Play_selectedChannelDisplayname+ln+ae+mp.target_display_name),window.setTimeout(function(){tp=!1},4e3),hg(0),lu.Play_isHost=!0):(hg(1),lu.Play_isHost=!1),Play_PannelEndStart(1)}function Ig(){Wa?(h_("fallow_heart",'<i class="icon-heart strokicon" style="color: #00b300; font-size: 210%;"></i>'),h_("fallow_text",va+Ct)):(h_("fallow_heart",'<i class="icon-heart-o strokicon" style="color: #FFFFFF; font-size: 210%;"></i>'),h_("fallow_text",va+Et))}function Pg(e){Jv()?Vv():lg()&&!xv()?(fg(),Ev()):Tv()&&!fb()?e?Xy():Ov():fb()&&xv()?(_b(),Vy(!1),pv()):xv()?(Sv(),qv(),e?zy():mv()):(Cv()&&Mv(),Ev())}function Gg(e){if(Sh!==Eh)switch(e.keyCode){case Fa:Fc||window.location.reload(!0);break;case Na:xv()?(Sv(),qv(),mv()):Ev()}else switch(e.keyCode){case qa:case Ia:case Ca:kh&&am("ChatEnable",(Oh=Rv()||lg()?(qv(),!1):(Hv(),!0))?"true":"false");break;case ka:kh&&Rv()&&(mh++,$v());break;case Ma:kh&&Rv()&&(mh--,$v());break;case Pa:kh&&!Tv()&&Rv()?(mh++,$v()):Tv()?(ig(),5<++ep&&(ep=1),ag(),Av(),Nv()):lg()?(fg(),ug(),--op<(lu.Play_isHost?1:2)&&(op=3),cg()):Fv();break;case Ba:!kh||Tv()||lg()?Tv()?(ig(),--ep<1&&(ep=5),ag(),Av(),Nv()):lg()?(fg(),ug(),3<++op&&(op=lu.Play_isHost?1:2),cg()):Fv():am("ChatEnable",(Oh=Rv()||lg()?(qv(),!1):(Hv(),!0))?"true":"false");break;case Ga:Tv()?(0<Th&&1===ep&&(Th--,jv()),Av(),Nv()):kh&&Rv()?(4<++gh?Zv(!(gh=1)):4===gh&&Zv(!0),Wv(!0)):lg()?fg():Fv();break;case La:Tv()?(Th<Yv()-1&&1===ep&&(Th++,jv()),Av(),Nv()):kh&&Rv()?(1.05<(vh+=.05)&&(vh=.05),Kv(!0)):lg()?fg():Fv();break;case Ta:lg()?mg(1):Tv()?bg(1):Fv();break;case Na:Pg(!1);break;case Sa:case Ea:case xa:lg()||tg(1);break;case Ua:lg()||zv();break;case Fa:lu.Play_ChatForceDisable=!lu.Play_ChatForceDisable,lu.Play_ChatForceDisable?(c_("chat_box"),u_("chat_frame"),nv()):(rh.src="about:blank",pr()),j_();break;case Oa:Lp(kh=!kh);break;case Aa:vg(1)}}var Bg,Lg,Tg,Og,Fg="source",Ug=Fg,Ag=0,Ng=null,Dg=0,Hg=0,qg=0,Rg="",zg=[],Vg=0,Jg=0,Xg=5,jg=!1,Yg=0,Wg=5,Kg=1e4,Zg=0,$g=null,Qg=0,ey=!1,ty=0,ny=!1,ay=!1,iy=0,sy=!1,oy=0,dy=2e3,ly=!1,ry=0,cy={},uy=0,_y=0,fy=!0,my=0,hy=0,py=0,vy=!1,gy=[0,10,30,60,120,300,600,900,1200,1800],yy=!1;function by(){bv(),dg(),ry=0,p_("stream_live_time",""),p_("stream_watching_time",""),p_("progress_bar_current_time",uv(0)),Nl=F+".",h_("pause_button",'<i class="strokedbig icon-pause" style="color: #FFFFFF; font-size: 180%;"></i>'),c_("progress_pause_holder"),hy=0,ib((Cp=gy)[1]),Ag=Mh,Pm=!0,rl=0,lu.Play_isHost=!1,lu.vodOffset?(ky(),Sy()):(fy&&""!==lu.Main_selectedChannel_id?(Vp(document.getElementById("stream_info_icon"),lu.Main_selectedChannelLogo),cy["#"+lu.ChannelVod_vodId]||Jl(),fs()?($a=lu.Main_selectedChannel_id,Za=!0,yi()):yv()):(ky(),My()),p_("stream_info_name",lu.Main_selectedChannelDisplayname),h_("stream_info_title",sl),h_("stream_info_game",ol+", ["+Qd.toUpperCase()+"]"),p_("stream_live_icon",dl)),cy["#"+lu.ChannelVod_vodId]&&!lu.vodOffset?(wv(),ub()):wy()}function wy(){fp=0,u_("chat_box"),c_("chat_frame"),window.setTimeout(function(){u_("scene_channel_panel_bottom"),h_("pause_button",'<i class="strokedbig icon-pause" style="color: #FFFFFF; font-size: 180%;"></i>'),u_("progress_pause_holder")},1e3),p_("progress_bar_duration",uv(Kd)),lu.Play_WasPlaying=2,j_(),Og=window.setInterval(By,6e4),cf(Mp),ny=!1,sy=tp=ly=!(ph=-13),qg=Hg=Dg=oy=ty=0,document.addEventListener("visibilitychange",Py,!1),yy=!(jg=!(ay=!1)),Ly(),hg(2),document.body.removeEventListener("keyup",bf)}function ky(){Yg=0,Wg=5,Kg=1e4}function My(){var e,t="https://api.twitch.tv/kraken/users?login="+encodeURIComponent(lu.Main_selectedChannel);if(Ku){if(!(e=Android.mreadUrl(t,ip,2,null)))return void Ey();200===(e=JSON.parse(e)).status?Cy(JSON.parse(e.responseText).users[0]):Ey()}else(e=new XMLHttpRequest).open("GET",t,!0),e.timeout=Kg,e.setRequestHeader(Au,Uu),e.setRequestHeader(Nu,qu),e.ontimeout=function(){},e.onreadystatechange=function(){4===e.readyState&&(200===e.status?Cy(JSON.parse(e.responseText).users[0]):Ey())},e.send(null)}function Cy(e){void 0!==e?(lu.Main_selectedChannelLogo=e.logo,lu.Main_selectedChannel_id=e._id,cy["#"+lu.ChannelVod_vodId]||Jl(),fs()?($a=lu.Main_selectedChannel_id,Za=!0,yi()):yv()):(lu.Main_selectedChannelLogo=e_,lu.Main_selectedChannel_id=""),Vp(document.getElementById("stream_info_icon"),lu.Main_selectedChannelLogo)}function Ey(){++Yg<Wg?(Kg+=500,window.setTimeout(function(){jg&&My()},750)):Lg=window.setTimeout(My,2500)}function Sy(){var e,t="https://api.twitch.tv/kraken/videos/"+lu.ChannelVod_vodId;if(Ku){if(!(e=Android.mreadUrl(t,ip,2,null)))return void xy();200===(e=JSON.parse(e)).status?Iy(e.responseText):xy()}else(e=new XMLHttpRequest).open("GET",t,!0),e.timeout=Kg,e.setRequestHeader(Au,Uu),e.setRequestHeader(Nu,qu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void Iy(e.responseText);xy()}},e.send(null)}function xy(){++Yg<Wg&&(Kg+=2e3,Sy())}function Iy(e){e=JSON.parse(e),h_("stream_info_title",xM.parse(e.title)),h_("stream_info_game",Yt+p+e.game+", "+D_(e.views)+q+", ["+e.language.toUpperCase()+"]"),p_("stream_live_icon",D+Q_(e.created_at)),p_("progress_bar_duration",uv(Kd=parseInt(e.length))),ry=1e3*lu.vodOffset,tb(lu.vodOffset,Kd,!0),lu.Main_selectedChannelDisplayname=e.channel.display_name,p_("stream_info_name",lu.Main_selectedChannelDisplayname),lu.Main_selectedChannelLogo=e.channel.logo,Vp(document.getElementById("stream_info_icon"),lu.Main_selectedChannelLogo),lu.Main_selectedChannel_id=e.channel._id,lu.Main_selectedChannel=e.channel.name,fs()?(Za=!0,$a=lu.Main_selectedChannel_id,yi()):yv(),cf(e.increment_view_count_url)}function Py(){document.hidden?lg()?(Sv(),qv(),zy()):(By(),db(),rr(),vv(),window.clearInterval($g),window.clearInterval(Og)):(jg=!0,Gv(),jg&&(zh=zh=0,navigator.onLine?Hy():lh=window.setInterval(Gy,100),lr(zl),hg(2),Og=window.setInterval(By,6e4)))}function Gy(){(navigator.onLine||200<zh)&&(window.clearInterval(lh),Ag=Mh,Ly()),zh++}function By(){lu.vodOffset=Ku?parseInt(Android.gettime()/1e3):0,j_(),lu.vodOffset=0}function Ly(){Jg=0,dy=2e3,Ty()}function Ty(){var e,t;if(e=Ag===Mh?"https://api.twitch.tv/api/vods/"+lu.ChannelVod_vodId+"/access_token"+(fs()&&Zi[lu.Users_Position].access_token?"?oauth_token="+Zi[lu.Users_Position].access_token:""):"https://usher.ttvnw.net/vod/"+lu.ChannelVod_vodId+".m3u8?&nauth="+encodeURIComponent(Dg.token)+"&nauthsig="+Dg.sig+"&allow_source=true&allow_audi_only=true&allow_spectre=false",Ku){if(!(t=Android.mreadUrl(e,ip,1,null)))return void Oy();200===(t=JSON.parse(t)).status?(Jg=0,jg&&Fy(t.responseText)):Oy()}else(t=new XMLHttpRequest).open("GET",n_+e,!0),t.timeout=dy,t.setRequestHeader(Au,Uu),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?(Jg=0,jg&&Fy(t.responseText)):Oy())},t.send(null)}function Oy(){if(jg){if(JSON.parse(Dg.token)&&0!==JSON.parse(Dg.token).chansub.restricted_bitrates.length)return void Uy();++Jg<Xg?(dy+=250,Ty()):(wv(),Play_PannelEndStart(2))}}function Fy(e){Ag===Mh?(Dg=JSON.parse(e),Ag=Ch,Ly()):Ag===Ch&&(zg=Zp(Hg=e),Ag=Eh,jg&&Dy())}function Uy(){fs()&&Zi[lu.Users_Position].access_token?($a=lu.Main_selectedChannel_id,Gi()):(wv(),kv(G+St),window.setTimeout(function(){jg&&zy()},4e3))}function Ay(){wv(),kv(G+xt),window.setTimeout(function(){jg&&zy()},4e3)}function Ny(){yy?(wv(),kv(G+It),window.setTimeout(function(){jg&&zy()},4e3)):(yy=!0,Ag=Mh,Ly())}function Dy(){Rg=zg[Vg=0].url,-1!==Fg.indexOf("source")&&(Fg="source");for(var e=0;e<eb();e++){if(zg[e].id===Fg){Rg=zg[Vg=e].url;break}-1!==zg[e].id.indexOf(Fg)&&(Rg=zg[Vg=e].url)}Ug=Fg,Hy()}function Hy(){Fc||console.log("PlayVod_onPlayer:",'\n\n"'+Rg+'"\n'),lu.vodOffset?(Al=lu.vodOffset,Jl(),Ku&&jg&&Android.startVideoOffset(Rg,2,vy?-1:1e3*lu.vodOffset),lu.vodOffset=0):Ku&&jg&&Android.startVideoOffset(Rg,2,vy?-1:Android.gettime()),vy=!1,Oh&&!Rv()&&Hv(),Ku&&(Qg=0,ey=!(bp=5),window.clearInterval($g),$g=window.setInterval(qy,wp))}function qy(){Ku&&(ry=Android.gettime()),Zg!==ry||lv()?(Qg=ty=0,ny=!1):++Qg>bp&&(ey&&ny&&Vg<eb()-1?Vg++:!ey&&ny&&ty++,navigator.onLine?1<ty?dv(ty,2,Ry):(Qy(),Dy(),ny=!0):ov(!1,2)),Zg=ry}function Ry(e){if(!e){if(!(Vg<eb()-1))return void ov(!1,2);Vg++}ty=0,Qy(),Dy(),ny=!0}function zy(){jg&&(zg=[],Vy(!0),pv())}function Vy(e){e&&db(),Ku&&Android.stopVideo(2),jg=!1,window.clearInterval(Og),window.clearInterval(Lg),lu.Play_WasPlaying=0,fy=!0,cr(),vv(),Jy()}function Jy(){document.body.removeEventListener("keydown",gb),document.removeEventListener("visibilitychange",Py),lu.vodOffset=0,window.clearInterval(Ng),window.clearInterval($g),Kd=0}function Xy(){sy=!1,iy=oy=0,Av(),document.getElementById("scene_channel_panel").style.opacity="0",Ku&&tb(Android.gettime()/1e3,Kd,!0),h_("progress_bar_jump_to",va),document.getElementById("progress_bar_steps").style.display="none",Fg=Ug,window.clearInterval(Tg)}function jy(e){Yy(),rv(),Sv(),Tg=window.setInterval(Yy,1e3),e&&(Wy(),$y(),Qy(),Zy()),document.getElementById("scene_channel_panel").style.opacity="1"}function Yy(){Ku&&tb(Android.gettime()/1e3,Kd,!sy)}function Wy(){_y=lv()?1:0,Ky()}function Ky(){_y?1===_y?(f_("pause_button","progress_bar_div_focus"),m_("progress_bar_div","progress_bar_div_focus"),ig(),h_("progress_bar_jump_to",va),document.getElementById("progress_bar_steps").style.display="none"):2===_y&&(m_("pause_button","progress_bar_div_focus"),m_("progress_bar_div","progress_bar_div_focus"),ag(),h_("progress_bar_jump_to",va),document.getElementById("progress_bar_steps").style.display="none"):(m_("pause_button","progress_bar_div_focus"),f_("progress_bar_div","progress_bar_div_focus"),ig(),iy&&(sb(),document.getElementById("progress_bar_steps").style.display="inline-block"))}function Zy(){yh=window.setTimeout(Xy,5e3+my)}function $y(){for(var e=Vg=0;e<eb();e++){if(zg[e].id===Fg){Vg=e;break}-1!==zg[e].id.indexOf(Fg)&&(Vg=e)}}function Qy(){1===eb()?(document.getElementById("quality_arrow_up").style.opacity="0",document.getElementById("quality_arrow_down").style.opacity="0"):Vg?Vg===eb()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(Fg=zg[Vg].id).indexOf("source")?p_("quality_name",Fg.replace("source",ye)+zg[Vg].band):p_("quality_name",Fg+zg[Vg].band)}function eb(){return zg.length}function tb(e,t,n){p_("progress_bar_current_time",uv(e)),n&&(fh.style.width=e/t*100+"%")}function nb(){Gv(),lg()||(Bm=ey=!1,jg?(Ku&&Android.startVideoOffset(Rg,2,0<py?1e3*py:-1),Al=py):(Al=rl,Ku&&Android.startVideoOffset(Cm,3,0<py?1e3*py:-1)),Pm&&Jl()),h_("progress_bar_jump_to",va),document.getElementById("progress_bar_steps").style.display="none",sy=!1,py=iy=oy=0}function ab(){hy=oy=0,ib(Cp[1])}function ib(e){iy&&!_y&&(document.getElementById("progress_bar_steps").style.display="inline-block"),60<Math.abs(e)?p_("progress_bar_steps",Dn+e/60+qn):p_("progress_bar_steps",e?Dn+e+Hn:Dn+Cp[1]+Hn)}function sb(){p_("progress_bar_jump_to",_e+" ("+(iy<0?"-":"")+uv(Math.abs(iy))+")"+fe+uv(py))}function ob(e,t){var n=Ku?Android.gettime()/1e3:0;window.clearTimeout(Bg),sy=!0,oy<Cp.length-1&&hy++%6==0&&oy++,iy+=Cp[oy]*e,py=n+iy,jg&&(py=10*Math.floor(py/10)),t<py?(iy=t-n-Cp[1],py=n+iy,hy=oy=0):py<0&&(iy=0-n,py=hy=oy=0),sb(),fh.style.width=py/t*100+"%",ib(Cp[oy]*e),Bg=window.setTimeout(ab,1e3)}function db(){var e=Ku?parseInt(Android.gettime()/1e3):0,t="#"+lu.ChannelVod_vodId;300<e&&e<Kd-300?(cy[t]&&delete cy[t],cy[t]=e,am("PlayVod_VodIds",JSON.stringify(cy))):Kd-300<e&&cy[t]&&(delete cy[t],am("PlayVod_VodIds",JSON.stringify(cy)))}function lb(){cy=sm("PlayVod_VodIds",{});var e=rb();250<e&&cb(e-250)}function rb(){var e=0;for(var t in cy)cy.hasOwnProperty(t)&&e++;return e}function cb(e){var t=0;for(var n in cy){if(!(t<e))break;delete cy[n],t++}am("PlayVod_VodIds",JSON.stringify(cy))}function ub(){c_("scene_channel_panel_bottom"),jy(!1),h_("dialog_vod_saved_text",bn+_v(1e3*cy["#"+lu.ChannelVod_vodId])),u_("dialog_vod_start")}function _b(){Xy(),c_("dialog_vod_start"),mb(),window.setTimeout(function(){u_("scene_channel_panel_bottom")},1e3)}function fb(){return __("dialog_vod_start")}function mb(){pb(),uy=0,hb()}function hb(){f_("dialog_vod_"+uy,"dialog_end_icons_focus")}function pb(){m_("dialog_vod_"+uy,"dialog_end_icons_focus")}function vb(e){_b(),e?(delete cy["#"+lu.ChannelVod_vodId],lu.vodOffset=0,by()):(lu.vodOffset=cy["#"+lu.ChannelVod_vodId],ry=1e3*lu.vodOffset,tb(lu.vodOffset,Kd,!0),wy())}function gb(e){if(Ag===Eh||fb())switch(e.keyCode){case Ia:case Ca:kh&&am("ChatEnable",(Oh=Rv()||lg()||fb()?(qv(),!1):(Hv(),!0))?"true":"false");break;case ka:kh&&Rv()&&(mh++,$v());break;case Ma:kh&&Rv()&&(mh--,$v());break;case Pa:kh&&!Tv()&&Rv()?(mh++,$v()):Tv()&&!fb()?(Av(),_y?(ig(),5<++ep&&(ep=1),ag()):(ob(-1,Kd),my=2500),Zy()):fb()?(pb(),uy?uy--:uy++,hb()):lg()?(fg(),ug(),--op<0&&(op=3),1===op&&(op=0),cg()):fb()||jy(!0);break;case Ba:!kh||Tv()||lg()?Tv()&&!fb()?(Av(),_y?(ig(),--ep<1&&(ep=5),ag()):(ob(1,Kd),my=2500),Zy()):fb()?(pb(),uy?uy--:uy++,hb()):lg()?(fg(),ug(),3<++op&&(op=0),1===op&&(op=2),cg()):fb()||jy(!0):am("ChatEnable",(Oh=Rv()||lg()?(qv(),!1):(Hv(),!0))?"true":"false");break;case Ga:lg()?fg():Tv()&&!fb()?(2===_y&&1!==ep?(_y--,Ky()):1===_y?(_y--,Ky()):0<Vg&&1===ep&&(Vg--,Qy()),Av(),Zy()):kh&&Rv()?(4<++gh?Zv(!(gh=1)):4===gh&&Zv(!0),Wv(!0)):fb()||jy(!0);break;case La:lg()?fg():Tv()&&!fb()?(_y?1===_y?(_y++,Ky()):Vg<eb()-1&&1===ep&&(Vg++,Qy()):(_y++,Ky()),Av(),Zy()):kh&&Rv()?(1.05<(vh+=.05)&&(vh=.05),Kv(!0)):fb()||jy(!0);break;case Ta:fb()?vb(uy):lg()?mg(2):Tv()?_y?1===_y?(lu.Play_ChatForceDisable&&(lv()?lr(zl):rr()),lg()||tg(2)):bg(2):(Av(),Zy(),iy&&nb()):jy(!0);break;case Na:Pg(!0);break;case Sa:case Ea:case xa:lu.Play_ChatForceDisable&&(lv()?lr(zl):rr()),lg()||tg(2);break;case Ua:lg()||zv();break;case Fa:lu.Play_ChatForceDisable=!lu.Play_ChatForceDisable,lu.Play_ChatForceDisable?Jl():pr(),j_();break;case Oa:Lp(kh=!kh);break;case Aa:vg(2)}else switch(e.keyCode){case Fa:Fc||window.location.reload(!0);break;case Na:xv()?(Sv(),zy()):Ev()}}var yb={};function bb(){console.log("InitScreens place holder")}function wb(){sw(),ow(),dw(),lw(),rw()}function kb(e){return[e+"_thumbdiv",e+"_img",e+"_infodiv",e+"_title",e+"_createdon",e+"_game",e+"_viwers",e+"_duration",e+"_cell","cpempty_",e+"_scroll",e+"_lang"]}function Mb(){for(var e,t={},n=0;n<arguments.length;n+=1){var a=arguments[n],i=Object.keys(a);for(e=0;e<i.length;e+=1)t[i[e]]=a[i[e]]}return t}function Cb(){bu=-1,lu.Main_Go=yb.screen,yb.label_init(),document.body.addEventListener("keydown",Rb,!1),yb.status?(lf(yb.posY),u_(yb.ids[10]),E_(yb.posX,yb.posY,yb.ColoumnsCount,yb.itemsCount),Fb(),j_()):Sb()}function Eb(){bu=0,yb.label_exit(),document.body.removeEventListener("keydown",Rb),c_(yb.ids[10])}function Sb(){af(yb.table),c_(yb.ids[10]),P_(),v_(),yb.cursor=null,yb.status=!1,yb.row=document.createElement("div"),yb.MaxOffset=0,yb.TopRowCreated=!1,yb.offset=0,yb.idObject={},yb.FirstLoad=!0,yb.itemsCount=0,yb.posX=0,yb.posY=0,yb.row_id=0,yb.coloumn_id=0,yb.data=null,yb.data_cursor=0,yb.dataEnded=!1,C_(),Uf(function(){xb(),Ib()})}function xb(){yb.loadingData=!0,yb.loadingDataTry=0,yb.loadingDataTimeout=3500}function Ib(){var e;if(yb.set_url(),Ku){if(!(e=Android.mreadUrl(yb.url,yb.loadingDataTimeout,2,null)))return void Pb();200===(e=JSON.parse(e)).status?yb.concatenate(e.responseText):Pb()}else(e=new XMLHttpRequest).open("GET",yb.url,!0),e.timeout=yb.loadingDataTimeout,e.setRequestHeader(Au,Uu),e.setRequestHeader(Nu,qu),e.ontimeout=function(){},e.onreadystatechange=function(){4===e.readyState&&(200===e.status?yb.concatenate(e.responseText):Pb())},e.send(null)}function Pb(){yb.loadingDataTry++,yb.loadingDataTry<yb.loadingDataTryMax?(yb.loadingDataTimeout+=500,Ib()):(yb.loadingData=!1,yb.itemsCount?yb.dataEnded=!0:(yb.FirstLoad=!1,g_(),I_(B)))}function Gb(){var e=yb.data.length-yb.data_cursor;if(e>yb.ItemsLimit?e=yb.ItemsLimit:yb.dataEnded=!0,e){var t=Math.ceil(e/yb.ColoumnsCount),n=yb.row_id+t;if(yb.HasSwitches&&!yb.TopRowCreated){yb.TopRowCreated=!0,yb.row=document.createElement("div");var a='<i class="icon-history stream_channel_fallow_icon"></i>'+va+va+f;(pu=document.createElement("div")).setAttribute("id",yb.ids[8]+"y_0"),pu.className="stream_cell_period",pu.innerHTML='<div id="'+yb.ids[0]+'y_0" class="stream_thumbnail_channel_vod" ><div id="'+yb.ids[3]+'y_0" class="stream_channel_fallow_game">'+a+"</div></div>",yb.row.appendChild(pu),document.getElementById(yb.table).appendChild(yb.row)}for(yb.row_id;yb.row_id<n;yb.row_id++){for(yb.coloumn_id===yb.ColoumnsCount&&(yb.row=document.createElement("div"),yb.coloumn_id=0),yb.coloumn_id;yb.coloumn_id<yb.ColoumnsCount&&yb.data_cursor<yb.data.length;yb.data_cursor++)yb.addCell(yb.data[yb.data_cursor]);document.getElementById(yb.table).appendChild(yb.row)}}Ob(!e&&!yb.status)}function Bb(e,t,n,a){var i=e+"_"+t;return df(n[1]+i,a),e<yb.ColoumnsCount&&cf(a),(pu=document.createElement("div")).style.cssText=yb.ThumbCssText,i}function Lb(e,t,n,a,i,s){var o=Bb(e,t,n,a);return pu.setAttribute("id",n[5]+o),pu.setAttribute(Ju,i),pu.innerHTML='<div id="'+n[0]+o+'" class="stream_thumbnail_game"><div><img id="'+n[1]+o+'" class="stream_img"></div><div id="'+n[2]+o+'" class="stream_text2"><div id="<div id="'+n[3]+o+'" class="stream_channel">'+i+'</div><div id="'+n[4]+o+'"class="stream_info_games" style="width: 100%; display: inline-block;">'+s+"</div></div></div>",pu}function Tb(e,t,n,a,i,s,o,d,l,r,c,u,_,f,m,h){var p=Bb(e,t,n,a);return pu.setAttribute("id",n[8]+p),pu.setAttribute(Ju,JSON.stringify([c,r,o[2],u,i,_,f,m,h,o[0],l,o[1]+o[2]])),pu.innerHTML='<div id="'+n[0]+p+'" class="stream_thumbnail_clip"><div><img id="'+n[1]+p+'" class="stream_img"></div><div id="'+n[2]+p+'" class="stream_text2"><div id="'+n[3]+p+'" class="stream_info" style="width: 72%; display: inline-block; font-size: 85%;">'+i+'</div><div id="'+n[7]+p+'"class="stream_info" style="width:27%; float: right; text-align: right; display: inline-block;">'+l+'</div><div  style="line-height: 12px;"><div id="'+n[4]+p+'"class="stream_info" style="width: 59%; display: inline-block;">'+s[0]+s[1]+'</div><div id="'+n[5]+p+'"class="stream_info" style="width: 39%; display: inline-block; float: right; text-align: right;">'+H+uv(r)+'</div></div><div id="'+n[11]+p+'"class="stream_info">'+o[0]+na+o[1]+o[2]+'</div><div id="'+n[6]+p+'"class="stream_info">'+d+q+"</div></div></div>",pu}function Ob(e){Uf(function(){yb.status?(sf(yb.img_404),E_(yb.posX,yb.posY,yb.ColoumnsCount,yb.itemsCount)):(g_(),(yb.emptyContent=e)?I_(yb.empty_str()):(yb.status=!0,sf(yb.img_404),Fb(),j_()),u_(yb.ids[10]),yb.FirstLoad=!1)})}function Fb(){yb.posY<0?Ab():(yb.addFocus(yb.posY,yb.posX,yb.ids,yb.ColoumnsCount,yb.itemsCount),yb.posY+yb.ItemsReloadLimit>yb.itemsCount/yb.ColoumnsCount&&yb.data_cursor<yb.data.length&&(of(),yb.loadDataSuccess()),yb.data_cursor+Yb>yb.data.length&&!yb.dataEnded&&!yb.loadingData&&(xb(),Ib()),uu&&Tf(yb.posY+"_"+yb.posX,yb.ids))}function Ub(e,t){Tf(yb.posY+"_"+yb.posX,yb.ids),yb.posY+=e,yb.posX=t,Fb()}function Ab(){f_(yb.ids[0]+"y_0",Vu)}function Nb(){m_(yb.ids[0]+"y_0",Vu)}function Db(e){U_()?F_():L_()?B_():(e===yb.screen?lu.Main_Go=Nc:lu.Main_Go=e,Eb(),X_())}function Hb(e){if(!yb.HasSwitches||yb.posY||-1!==e||yb.emptyContent){if(yb.HasSwitches&&-1===yb.posY)yb.posY=0,Fb(),Nb();else for(var t=0;t<yb.ColoumnsCount;t++)if(R_(yb.posY+e,yb.posX-t,yb.ids[0])){Ub(e,yb.posX-t);break}}else Tf(yb.posY+"_"+yb.posX,yb.ids),yb.posY=-1,Ab()}function qb(e,t){R_(yb.posY,yb.posX+e,yb.ids[0])?Ub(0,yb.posX+e):R_(yb.posY+e,t,yb.ids[0])&&Ub(e,t)}function Rb(e){if(!yb.FirstLoad&&!Mf())switch(kf(),e.keyCode){case Na:yb.key_exit();break;case Pa:qb(-1,yb.ColoumnsCount-1);break;case Ba:qb(1,0);break;case Ga:Hb(-1);break;case La:Hb(1);break;case Ia:case Ca:yb.loadingData||yb.key_refresh();break;case ka:yb.key_channelup();break;case Ma:yb.key_channeldown();break;case Sa:case Ea:case xa:case Ta:yb.key_play();break;case Oa:zf(Rb);break;case Fa:yb.key_green();break;case Ua:yb.key_yellow();break;case Aa:yb.key_blue()}}yb.FirstLoad=!1;var zb,Vb,Jb,Xb,jb,Yb=100,Wb=3,Kb="",Zb="",$b="",Qb="",ew="",tw="",nw={posX:0,posY:0,row_id:0,coloumn_id:0,dataEnded:!1,idObject:{},loadingData:!1,itemsCount:0,loadingDataTryMax:5,loadingDataTimeout:3500,MaxOffset:0,offset:0,status:!1,emptyContent:!1,itemsCountCheck:!1,FirstLoad:!1,row:0,data:null,data_cursor:0,loadDataSuccess:Gb,ThumbPading:Wb,key_blue:function(){lu.Search_isSearching||(lu.Main_BeforeSearch=yb.screen),lu.Main_Go=Jc,Eb(),X_()},set_ThumbSize:function(){this.ThumbCssText="width: "+this.ThumbSize+"%; display: inline-block; padding: "+this.ThumbPading+"px;"}},aw={ThumbSize:32.65,ItemsLimit:Su,HasSwitches:!0,TopRowCreated:!1,ItemsReloadLimit:Iu,ColoumnsCount:xu,addFocus:Ef,cursor:null,key_refresh:Sb,period:["day","week","month","all"],img_404:t_,empty_str:function(){return L+A},key_play:function(){-1===this.posY?this.key_yellow():Pf(this.posY+"_"+this.posX,this.ids,Rb)},key_yellow:function(){this.loadingData||(this.periodPos++,4<this.periodPos&&(this.periodPos=1),this.SetPeriod(),Sb())},addCell:function(e){yb.idObject[e.tracking_id]||(yb.itemsCount++,yb.idObject[e.tracking_id]=1,yb.row.appendChild(Tb(yb.row_id,yb.coloumn_id,yb.ids,e.thumbnails.medium,e.broadcaster.display_name,[nn,Q_(e.created_at)],[xM.parse(e.title),p,e.game],D_(e.views),"["+e.language.toUpperCase()+"]",e.duration,e.slug,e.broadcaster.name,e.broadcaster.logo.replace("150x150","300x300"),e.broadcaster.id,null!==e.vod?e.vod.id:null,null!==e.vod?e.vod.offset:null)),yb.coloumn_id++)}},iw={ThumbSize:19.35,ItemsLimit:Pu,ItemsReloadLimit:Bu,ColoumnsCount:Gu,addFocus:Sf,img_404:Qu,empty_str:function(){return L+$}};function sw(){(zb=Mb(zb=Mb({ids:kb("Clip"),table:"stream_table_clip",screen:nu,periodPos:im("Clip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?limit="+Yb,set_url:function(){this.url=this.base_url+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")+(""!==gu?"&language="+gu:"")},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.cursor=t._cursor,""===this.cursor&&(this.dataEnded=!0),this.data=this.data.concat(t.clips),yb.loadingData=!1}else this.data=JSON.parse(e),this.cursor=this.data._cursor,""===this.cursor&&(this.dataEnded=!0),this.data=this.data.clips,this.loadDataSuccess(),yb.loadingData=!1},SetPeriod:function(){h_("top_bar_clip",A+$_(Tc[this.periodPos-1])),am("Clip_periodPos",this.periodPos)},label_init:function(){lu.Main_CenterLablesVectorPos=5,this.SetPeriod(),f_("top_bar_clip","icon_center_focus"),r_("label_refresh","icon-refresh",t+Jt)},label_exit:function(){K_(),m_("top_bar_clip","icon_center_focus"),r_("label_refresh","icon-refresh",t+Jt)},key_exit:function(){U_()?F_():L_()?B_():(this.itemsCount&&Tf(this.posY+"_"+this.posX,this.ids),Zf(Rb))},key_channelup:function(){lu.Main_Before=this.screen,lu.Main_Go=Nc,Eb(),X_()},key_channeldown:function(){lu.Main_Before=this.screen,lu.Main_Go=tu,Eb(),X_()},key_green:function(){Eb(),tf()}},nw),aw)).set_ThumbSize()}function ow(){(Vb=Mb(Vb=Mb({ids:kb("ChannelClip"),table:"stream_table_channel_clip",screen:Kc,periodPos:im("ChannelClip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?channel=",set_url:function(){this.url=this.base_url+encodeURIComponent(lu.Main_selectedChannel)+"&limit="+Yb+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.cursor=t._cursor,""===this.cursor&&(this.dataEnded=!0),this.data=this.data.concat(t.clips),yb.loadingData=!1}else this.data=JSON.parse(e),this.cursor=this.data._cursor,""===this.cursor&&(this.dataEnded=!0),this.data=this.data.clips,this.loadDataSuccess(),yb.loadingData=!1},SetPeriod:function(){h_("top_bar_game",A+Tc[this.periodPos-1]),am("ChannelClip_periodPos",this.periodPos)},label_init:function(){lu.Main_CenterLablesVectorPos=1,!lu.Search_isSearching&&lu.Main_selectedChannel_id&&Ud(),lu.Main_selectedChannel!==this.lastselectedChannel&&(this.status=!1),Z_(),this.SetPeriod(),p_("top_bar_user",lu.Main_selectedChannelDisplayname),r_("label_side_panel","icon-arrow-circle-left",I),this.lastselectedChannel=lu.Main_selectedChannel},label_exit:K_,key_exit:function(){U_()?F_():L_()?B_():(this.itemsCount&&Tf(this.posY+"_"+this.posX,this.ids),Zf(Rb))},key_channelup:function(){this.loadingData||(this.periodPos++,4<this.periodPos&&(this.periodPos=1),this.SetPeriod(),Sb())},key_channeldown:function(){this.loadingData||(this.periodPos--,this.periodPos<1&&(this.periodPos=4),this.SetPeriod(),Sb())},key_green:function(){Eb(),tf()},key_blue:function(){lu.Search_isSearching||(Fd(),lu.Main_BeforeSearch=yb.screen),lu.Main_Go=Jc,Eb(),X_()}},nw),aw)).set_ThumbSize()}function dw(){(Jb=Mb(Jb=Mb({ids:kb("AGameClip"),table:"stream_table_a_game_clip",screen:iu,periodPos:im("AGameClip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?game=",set_url:function(){this.url=this.base_url+encodeURIComponent(lu.Main_gameSelected)+"&limit="+Yb+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")+(""!==gu?"&language="+gu:"")},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.cursor=t._cursor,""===this.cursor&&(this.dataEnded=!0),this.data=this.data.concat(t.clips),yb.loadingData=!1}else this.data=JSON.parse(e),this.cursor=this.data._cursor,""===this.cursor&&(this.dataEnded=!0),this.data=this.data.clips,this.loadDataSuccess(),yb.loadingData=!1},SetPeriod:function(){h_("top_bar_game",w+$_(A+Tc[this.periodPos-1]+": "+lu.Main_gameSelected)),am("AGameClip_periodPos",this.periodPos)},label_init:function(){lu.Main_CenterLablesVectorPos=3,this.SetPeriod(),f_("top_bar_game","icon_center_focus"),r_("label_side_panel","icon-arrow-circle-left",I),this.gameSelected!==lu.Main_gameSelected&&(this.status=!1),this.gameSelected=lu.Main_gameSelected},label_exit:function(){m_("top_bar_game","icon_center_focus"),h_("top_bar_game",m),r_("label_side_panel","icon-ellipsis",Fn)},key_exit:function(){U_()?F_():L_()?B_():(this.itemsCount&&Tf(this.posY+"_"+this.posX,this.ids),Zf(Rb))},key_channelup:function(){this.loadingData||(this.periodPos++,4<this.periodPos&&(this.periodPos=1),this.SetPeriod(),Sb())},key_channeldown:function(){this.loadingData||(this.periodPos--,this.periodPos<1&&(this.periodPos=4),this.SetPeriod(),Sb())},key_yellow:O_,key_green:function(){Eb(),tf()}},nw),aw)).set_ThumbSize()}function lw(){(Xb=Mb(Xb=Mb({ids:kb("Game"),table:"stream_table_games",screen:Hc,base_url:"https://api.twitch.tv/kraken/games/top?limit="+Yb,set_url:function(){this.offset&&this.offset+Yb>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+"&offset="+this.offset},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.MaxOffset=this.data._total,this.data=this.data.concat(t.top),this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),yb.loadingData=!1}else this.data=JSON.parse(e),this.MaxOffset=this.data._total,this.data=this.data.top,this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadDataSuccess(),yb.loadingData=!1},label_init:function(){lu.Main_CenterLablesVectorPos=3,f_("top_bar_game","icon_center_focus")},label_exit:function(){m_("top_bar_game","icon_center_focus")},key_refresh:Sb,key_exit:function(){U_()?F_():L_()?B_():(this.itemsCount&&Tf(this.posY+"_"+this.posX,this.ids),Zf(Rb))},key_channelup:function(){lu.Main_Before=this.screen,lu.Main_Go=tu,Eb(),X_()},key_channeldown:function(){lu.Main_Before=this.screen,lu.Main_Go=su,Eb(),X_()},key_play:function(){lu.Main_gameSelected=document.getElementById(this.ids[5]+this.posY+"_"+this.posX).getAttribute(Ju),document.body.removeEventListener("keydown",Rb),lu.Main_BeforeAgame=this.screen,lu.Main_Go=qc,lu.Main_BeforeAgameisSet=!0,As=!1,Eb(),X_(),Tf(this.posY+"_"+this.posX,this.ids)},key_yellow:O_,key_green:function(){Eb(),tf()},addCell:function(e){yb.idObject[e.game._id]||(yb.itemsCount++,yb.idObject[e.game._id]=1,yb.row.appendChild(Lb(yb.row_id,yb.coloumn_id,yb.ids,e.game.box.template.replace("{width}x{height}",zu),e.game.name,D_(e.channels)+" "+S+v+D_(e.viewers)+R)),yb.coloumn_id++)}},nw),iw)).set_ThumbSize()}function rw(){(jb=Mb(jb=Mb({ids:kb("UserGames"),table:"stream_table_user_games",screen:Vc,isLive:om("user_Games_live",!0),OldUserName:"",base_url:"https://api.twitch.tv/api/users/",set_url:function(){this.offset&&this.offset+Yb>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+encodeURIComponent(Zi[lu.Users_Position].name)+"/follows/games",this.isLive?this.url+="/live?limit=750":this.url+="?limit="+Yb+"&offset="+this.offset},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.MaxOffset=this.data._total,this.data=this.data.concat(t.follows),this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),yb.loadingData=!1}else this.data=JSON.parse(e),this.MaxOffset=this.data._total,this.data=this.data.follows,this.offset=this.data.length,this.isLive?this.dataEnded=!0:this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadDataSuccess(),yb.loadingData=!1},label_init:function(){lu.Main_CenterLablesVectorPos=1,r_("label_side_panel","icon-arrow-circle-left",I),f_("top_bar_user","icon_center_focus"),this.OldUserName!==Zi[lu.Users_Position].name&&(this.status=!1),this.OldUserName=Zi[lu.Users_Position].name,h_("top_bar_user",u+$_(Zi[lu.Users_Position].name+" "+(this.isLive?$:zt)))},label_exit:function(){m_("top_bar_user","icon_center_focus"),p_("top_bar_user",u),r_("label_side_panel","icon-ellipsis",Fn)},key_refresh:function(){this.isLive=!this.isLive,h_("top_bar_user",u+$_(Zi[lu.Users_Position].name+" "+(this.isLive?$:zt))),Sb(),am("user_Games_live",this.isLive?"true":"false"),PE()},key_exit:function(){U_()?F_():L_()?B_():(this.itemsCount&&Tf(this.posY+"_"+this.posX,this.ids),Zf(Rb))},key_channelup:function(){lu.Main_Before=this.screen,fs()&&Zi[lu.Users_Position].access_token?lu.Main_Go=ou:lu.Main_Go=$c,Eb(),X_()},key_channeldown:function(){lu.Main_Before=this.screen,lu.Main_Go=zc,Eb(),X_()},key_play:function(){lu.Main_gameSelected=document.getElementById(this.ids[5]+this.posY+"_"+this.posX).getAttribute(Ju),document.body.removeEventListener("keydown",Rb),lu.Main_BeforeAgame=this.screen,lu.Main_Go=qc,lu.Main_BeforeAgameisSet=!0,As=!1,Eb(),X_()},key_yellow:O_,key_green:function(){Eb(),tf()},addCell:function(e){var t=this.isLive?e.game:e;yb.idObject[t._id]||(yb.itemsCount++,yb.idObject[t._id]=1,yb.row.appendChild(Lb(yb.row_id,yb.coloumn_id,yb.ids,t.box.template.replace("{width}x{height}",zu),t.name,this.isLive?D_(e.channels)+" "+S+v+D_(e.viewers)+R:"")),yb.coloumn_id++)}},nw),iw)).set_ThumbSize()}var cw=0,uw=0,_w=!1,fw=0,mw={},hw=[],pw=!1,vw=0,gw=5,yw=3500,bw=0,ww=0,kw=!1,Mw=!1,Cw="",Ew=!1,Sw=["sc_thumbdiv","sc_img","sc_infodiv","sc_displayname","sc_cell","scempty_","search_channel_scroll"];function xw(){lu.Main_CenterLablesVectorPos=1,lu.Main_Go=Qc,lu.isLastSChannels=!0,lu.Search_isSearching=!0,Cw!==lu.Search_data&&(Mw=!1),Z_(),h_("top_bar_user",n+$_(S+" '"+lu.Search_data+"'")),document.body.addEventListener("keydown",Rw,!1),Mw?(lf(cw),u_(Sw[6]),E_(uw,cw,Tu,fw),Hw(),j_()):Gw()}function Iw(){K_(),document.body.removeEventListener("keydown",Rw),c_(Sw[6])}function Pw(){X_()}function Gw(){af("stream_table_search_channel"),c_(Sw[6]),v_(),P_(),Cw=lu.Search_data,Mw=!1,mw={},fw=ww=bw=0,cw=uw=0,_w=!(Wf=!(Ew=!(hw=[]))),C_(),Uf(function(){Bw(),Lw()})}function Bw(){of(),pw=!0,vw=0,yw=3500}function Lw(){var e=fw+bw;e&&ww-1<e&&(e=ww-Lu,_w=!0),rm("https://api.twitch.tv/kraken/search/channels?query="+encodeURIComponent(lu.Search_data)+"&limit="+Lu+"&offset="+e,yw,2,null,Ow,Tw)}function Tw(){++vw<gw?(yw+=500,Lw()):(pw=!1,fw?(_w=!0,Uw()):(Wf=!1,g_(),I_(B)))}function Ow(e){var t=JSON.parse(e),n=t.channels.length;ww=parseInt(t._total),n<Lu&&(_w=!0);var a=fw;kw=!(fw+=n);var i=n/Tu;0<n%Tu&&i++;for(var s,o,d,l,r,c=0,u=0;u<i;u++){for(o=a/Tu+u,d=document.createElement("tr"),s=0;s<Tu&&c<n;s++,c++)r=(l=t.channels[c])._id,mw[r]?s--:(mw[r]=1,d.appendChild(Fw(o,o+"_"+s,[l.name,r,l.logo,l.display_name])));for(;s<Tu;s++)_w&&!Ew&&(Ew=!0,fw=o*Tu+s),d.appendChild(uf(Sw[5]+o+"_"+s)),hw.push(Sw[5]+o+"_"+s);document.getElementById("stream_table_search_channel").appendChild(d)}Uw()}function Fw(e,t,n){return e<4&&cf(n[2]),_f(t,Sw,n)}function Uw(){Uf(function(){if(Mw){if(sf(e_),0<hw.length&&!_w)return Bw(),void Aw();E_(uw,cw,Tu,fw),hw=[]}else g_(),kw?I_(d):(Mw=!0,sf(e_),Hw(),j_()),u_(Sw[6]),Wf=!1;pw=!1})}function Aw(){x_(hw.length);var e=fw+bw;e&&ww-1<e&&(e=ww-Fu,_w=!0),rm("https://api.twitch.tv/kraken/search/channels?query="+encodeURIComponent(lu.Search_data)+"&limit="+Fu+"&offset="+e,yw,2,null,Dw,Nw)}function Nw(){++vw<gw?(yw+=500,Aw()):(_w=!0,fw-=hw.length,hw=[],Uw())}function Dw(e){var t,n,a=JSON.parse(e),i=a.channels.length,s=0,o=0,d=[];for(ww=parseInt(a._total),i<Fu&&(_w=!0);s<hw.length&&o<i;s++,o++)n=(t=a.channels[o])._id,mw[n]?s--:(mw[n]=1,ff(hw[s],[t.name,n,t.logo,t.display_name],Sw),d.push(s));for(s=d.length-1;-1<s;s--)hw.splice(d[s],1);bw+=o,_w&&(fw-=hw.length,hw=[]),Uw()}function Hw(){Cf(cw,uw,Sw,Tu,fw),fw/Tu<cw+Ou&&!_w&&!pw&&(Bw(),Lw()),uu&&qw()}function qw(){fw&&Tf(cw+"_"+uw,Sw)}function Rw(e){var t;if(!Wf&&!Mf())switch(kf(),e.keyCode){case Na:U_()?F_():L_()?B_():(qw(),Zf(Rw));break;case Pa:if(R_(cw,uw-1,Sw[0]))qw(),uw--,Hw();else for(t=Tu-1;-1<t;t--)if(R_(cw-1,t,Sw[0])){qw(),cw--,uw=t,Hw();break}break;case Ba:R_(cw,uw+1,Sw[0])?(qw(),uw++,Hw()):R_(cw+1,0,Sw[0])&&(qw(),cw++,uw=0,Hw());break;case Ga:for(t=0;t<Tu;t++)if(R_(cw-1,uw-t,Sw[0])){qw(),cw--,uw-=t,Hw();break}break;case La:for(t=0;t<Tu;t++)if(R_(cw+1,uw-t,Sw[0])){qw(),cw++,uw-=t,Hw();break}break;case Ia:case Ca:Gw();break;case Sa:case Ea:case xa:case Ta:lu.Main_selectedChannel=document.getElementById(Sw[4]+cw+"_"+uw).getAttribute(Ju),lu.Main_selectedChannel_id=document.getElementById(Sw[4]+cw+"_"+uw).getAttribute("data-id"),lu.Main_selectedChannelDisplayname=document.getElementById(Sw[3]+cw+"_"+uw).textContent,document.body.removeEventListener("keydown",Rw),lu.Main_BeforeChannel=Qc,lu.Main_Go=Yc,lu.Main_BeforeChannelisSet=!0,td=Wa=!1,c_(Sw[6]),X_();break;case Oa:zf(Rw);break;case Fa:Iw(),lu.Search_isSearching=!1,tf();break;case Ua:O_();break;case Aa:lu.Main_Go=Jc,Iw(),Pw()}}var zw=!1,Vw=0,Jw=0,Xw=0,jw=0,Yw=5,Ww=3500,Kw=0,Zw=0,$w=!1,Qw=!1,ek="",tk=["sgthumbdiv","sgimg","sginfodiv","sgdisplayname","sgviwers","sgcell","sgempty_","search_games_scroll"];function nk(){lu.Main_CenterLablesVectorPos=1,lu.Main_Go=Xc,lu.Search_isSearching=!0,Z_(),ek!==lu.Search_data&&(zw=!1),h_("top_bar_user",n+$_(m+" '"+lu.Search_data+"'")),document.body.addEventListener("keydown",fk,!1),zw?(lf(Vw),u_(tk[7]),E_(Jw,Vw,Gu,Xw),uk(),j_()):ik()}function ak(){lu.Search_isSearching||K_(),document.body.removeEventListener("keydown",fk),lu.Games_return=!1,c_(tk[7])}function ik(){af("stream_table_search_game"),c_(tk[7]),v_(),P_(),ek=lu.Search_data,Qw=zw=!1,Vw=Jw=Xw=Zw=Kw=0,C_(),Uf(function(){sk(),ok()})}function sk(){of(),Wf=!0,jw=0,Ww=3500}function ok(){rm("https://api.twitch.tv/kraken/search/games?query="+encodeURIComponent(lu.Search_data),Ww,2,null,lk,dk)}function dk(){++jw<Yw?(Ww+=500,ok()):(Wf=!1,Xw?ck():(g_(),I_(B)))}function lk(e){var t=JSON.parse(e),n=0;null!==t.games&&(n=t.games.length);var a=Xw;$w=!(Xw+=n);var i=n/Gu;0<n%Gu&&i++;for(var s,o,d,l,r=0,c=0;c<i;c++){for(o=a/Gu+c,d=document.createElement("tr"),s=0;s<Gu&&r<n;s++,r++)l=t.games[r],d.appendChild(rk(o,o+"_"+s,[l.name,l.box.template.replace("{width}x{height}",zu),""]));for(;s<Gu;s++)Qw||(Qw=!0,Xw=o*Gu+s),d.appendChild(uf(tk[6]+o+"_"+s));document.getElementById("stream_table_search_game").appendChild(d)}ck()}function rk(e,t,n){return e<2&&cf(n[1]),gf(t,tk,n)}function ck(){Uf(function(){zw||(g_(),$w?I_(d):(zw=!0,sf(t_),uk(),j_())),u_(tk[7]),Wf=!1,E_(Jw,Vw,Gu,Xw)})}function uk(){Sf(Vw,Jw,tk,Gu,Xw),uu&&_k()}function _k(){Xw&&Tf(Vw+"_"+Jw,tk)}function fk(e){var t;if(!Wf&&!Mf())switch(kf(),e.keyCode){case Na:U_()?F_():L_()?B_():(_k(),Zf(fk));break;case Pa:if(R_(Vw,Jw-1,tk[0]))_k(),Jw--,uk();else for(t=Gu-1;-1<t;t--)if(R_(Vw-1,t,tk[0])){_k(),Vw--,Jw=t,uk();break}break;case Ba:R_(Vw,Jw+1,tk[0])?(_k(),Jw++,uk()):R_(Vw+1,0,tk[0])&&(_k(),Vw++,Jw=0,uk());break;case Ga:for(t=0;t<Gu;t++)if(R_(Vw-1,Jw-t,tk[0])){_k(),Vw--,Jw-=t,uk();break}break;case La:for(t=0;t<Gu;t++)if(R_(Vw+1,Jw-t,tk[0])){_k(),Vw++,Jw-=t,uk();break}break;case Ia:case Ca:ik();break;case Sa:case Ea:case xa:case Ta:lu.gameSelectedOld=lu.Main_gameSelected,ak(),lu.Main_gameSelected=document.getElementById(tk[5]+Vw+"_"+Jw).getAttribute(Ju),document.body.removeEventListener("keydown",fk),lu.Main_Go=qc,lu.Games_return=!0,X_();break;case Oa:zf(fk);break;case Fa:lu.Search_isSearching=!1,ak(),tf();break;case Ua:O_();break;case Aa:lu.Main_Go=Jc,ak(),X_()}}var mk=0,hk=0,pk=!1;function vk(){P_(),c_("label_refresh"),r_("label_side_panel","icon-arrow-circle-left",I),p_("top_bar_user",n),document.getElementById("top_lables").style.marginLeft="14%",document.getElementById("top_bar_live").style.display="none",document.getElementById("top_bar_featured").style.display="none",document.getElementById("top_bar_game").style.display="none",document.getElementById("top_bar_vod").style.display="none",document.getElementById("top_bar_clip").style.display="none",Ic.placeholder=k,f_("top_bar_user","icon_center_focus"),u_("search_scroll"),hk=mk=0,bk(),kk()}function gk(){Mk(!1),document.body.removeEventListener("keydown",wk),bk(),lu.Main_Go=lu.Main_BeforeSearch,document.getElementById("top_lables").style.marginLeft="18.5%",p_("top_bar_user",u),m_("top_bar_user","icon_center_focus"),r_("label_side_panel","icon-ellipsis",Fn),u_("label_refresh"),document.getElementById("top_bar_live").style.display="inline-block",document.getElementById("top_bar_featured").style.display="inline-block",document.getElementById("top_bar_game").style.display="inline-block",document.getElementById("top_bar_vod").style.display="inline-block",document.getElementById("top_bar_clip").style.display="inline-block",Ic.value="",c_("search_scroll")}function yk(){gk(),Uf(function(){hk?1===hk?nk():2===hk&&Rk():xw()})}function bk(){m_("chanel_button","button_search_focused"),m_("game_button","button_search_focused"),m_("live_button","button_search_focused"),mk&&(hk?1===hk?f_("game_button","button_search_focused"):2===hk&&f_("live_button","button_search_focused"):f_("chanel_button","button_search_focused"))}function wk(e){if(!pk)switch(e.keyCode){case Na:U_()?F_():L_()?B_():(gk(),X_());break;case Pa:1===mk&&(--hk<0&&(hk=2),bk());break;case Ba:1===mk&&(2<++hk&&(hk=0),bk());break;case Ga:1===mk&&(mk=0,bk(),kk());break;case La:mk?1===mk&&(mk=0,bk(),kk()):(Mk(!1),mk=1,bk());break;case Ia:case Ca:break;case ka:case Ma:gk(),X_();break;case Sa:case Ea:case xa:case Ta:mk?""!==Ic.value&&null!==Ic.value?(lu.Search_data=Ic.value,Ic.value="",yk()):(I_(o),window.setTimeout(function(){P_()},1e3)):kk();break;case Oa:zf(wk);break;case Fa:gk(),tf();break;case Ua:O_()}}function kk(){document.body.removeEventListener("keydown",wk),document.body.addEventListener("keydown",Ck,!1),Ic.placeholder=k,Ic.focus(),pk=!0}function Mk(e){Ic.blur(),document.body.removeEventListener("keydown",Ck),Ic.placeholder=E+k,e&&document.body.addEventListener("keydown",wk,!1),pk=!1}function di(){if(null!==Ic){var e=Ic.cloneNode(!0);Ic.parentNode.replaceChild(e,Ic),Ic=document.getElementById("search_input")}}function Ck(e){switch(e.keyCode){case Na:L_()?B_():U_()?F_():(gk(),X_());break;case Ra:Ic.value="";break;case Ha:case La:Mk(!0),mk=1,bk();break;case Da:Ic.value=Ic.value.slice(0,-1);break;case qa:Ic.value+=" "}}var Ek=0,Sk=0,xk=!1,Ik=0,Pk={},Gk=[],Bk=!1,Lk=0,Tk=5,Ok=3500,Fk=0,Uk=0,Ak=!1,Nk=!1,Dk=!1,Hk="",qk=["sl_thumbdiv","sl_img","sl_infodiv","sl_displayname","sl_streamtitle","sl_streamgame","sl_viwers","sl_quality","sl_cell","slempty_","search_live_scroll"];function Rk(){lu.Main_CenterLablesVectorPos=1,lu.Main_Go=jc,lu.Search_isSearching=!0,Z_(),Hk!==lu.Search_data&&(Nk=!1),h_("top_bar_user",n+$_(_+" '"+lu.Search_data+"'")),document.body.addEventListener("keydown",tM,!1),Nk?(lf(Ek),u_(qk[10]),E_(Sk,Ek,xu,Ik),Qk(),j_()):Vk()}function zk(){K_(),document.body.removeEventListener("keydown",tM),c_(qk[10])}function Vk(){af("stream_table_search_live"),c_(qk[10]),v_(),P_(),Hk=lu.Search_data,Nk=!1,Uk=Fk=0,Pk={},Ek=Sk=Ik=0,xk=!(Wf=!(Dk=!(Gk=[]))),C_(),Uf(function(){Jk(),Xk()})}function Jk(){of(),Bk=!0,Lk=0,Ok=3500}function Xk(){var e=Ik+Fk;e&&Uk-1<e&&(e=Uk-Su,xk=!0),rm("https://api.twitch.tv/kraken/search/streams?query="+encodeURIComponent(lu.Search_data)+"&limit="+Su+"&offset="+e,Ok,2,null,Yk,jk)}function jk(){++Lk<Tk?(Ok+=500,Xk()):(Bk=!1,Ik?(xk=!0,Wk()):(Wf=!1,g_(),I_(B)))}function Yk(e){var t=JSON.parse(e),n=t.streams.length;Uk=parseInt(t._total),n<Su&&(xk=!0);var a=Ik;Ak=!(Ik+=n);var i=n/xu;0<n%xu&&i++;for(var s,o,d,l,r,c=0,u=0;u<i;u++){for(o=a/xu+u,d=document.createElement("tr"),s=0;s<xu&&c<n;s++,c++)r=(l=t.streams[c]).channel._id,Pk[r]?s--:(Pk[r]=1,d.appendChild(hf(o,o+"_"+s,[l.channel.name,r],qk,[l.preview.template.replace("{width}x{height}",Ru),q_(JSON.stringify(l.stream_type))+l.channel.display_name,l.channel.status,l.game,y+fv(l.created_at)+b+", "+v+D_(l.viewers)+R,H_(l.video_height,l.average_fps,l.channel.language)])));for(;s<xu;s++)xk&&!Dk&&(Dk=!0,Ik=o*xu+s),d.appendChild(uf(qk[9]+o+"_"+s)),Gk.push(qk[9]+o+"_"+s);document.getElementById("stream_table_search_live").appendChild(d)}Wk()}function Wk(){Uf(function(){if(Nk){if(sf(t_),0<Gk.length&&!xk)return Jk(),void Kk();E_(Sk,Ek,xu,Ik),Gk=[]}else g_(),Ak?I_(d):(Nk=!0,sf(t_),Qk(),j_()),u_(qk[10]),Wf=!1;Bk=!1})}function Kk(){x_(Gk.length);var e=Ik+Fk;e&&Uk-1<e&&(e=Uk-Fu,xk=!0),rm("https://api.twitch.tv/kraken/search/streams?query="+encodeURIComponent(lu.Search_data)+"&limit="+Fu+"&offset="+e,Ok,2,null,$k,Zk)}function Zk(){++Lk<Tk?(Ok+=500,Kk()):(xk=!0,Ik-=Gk.length,Gk=[],Wk())}function $k(e){var t,n,a=JSON.parse(e),i=a.streams.length,s=0,o=0,d=[];for(Uk=parseInt(a._total),i<Fu&&(xk=!0);s<Gk.length&&o<i;s++,o++)n=(t=a.streams[o]).channel._id,Pk[n]?s--:(Pk[n]=1,pf(Gk[s],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",Ru),q_(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+fv(t.created_at)+b+", "+v+D_(t.viewers)+R,H_(t.video_height,t.average_fps,t.channel.language)],qk),d.push(s));for(s=d.length-1;-1<s;s--)Gk.splice(d[s],1);Fk+=o,xk&&(Ik-=Gk.length,Gk=[]),Wk()}function Qk(){Ef(Ek,Sk,qk,xu,Ik),Ik/xu<Ek+Iu&&!xk&&!Bk&&(Jk(),Xk()),uu&&eM()}function eM(){Ik&&Tf(Ek+"_"+Sk,qk)}function tM(e){var t;if(!Wf&&!Mf())switch(kf(),e.keyCode){case Na:U_()?F_():L_()?B_():(eM(),Zf(tM));break;case Pa:if(R_(Ek,Sk-1,qk[0]))eM(),Sk--,Qk();else for(t=xu-1;-1<t;t--)if(R_(Ek-1,t,qk[0])){eM(),Ek--,Sk=t,Qk();break}break;case Ba:R_(Ek,Sk+1,qk[0])?(eM(),Sk++,Qk()):R_(Ek+1,0,qk[0])&&(eM(),Ek++,Sk=0,Qk());break;case Ga:for(t=0;t<xu;t++)if(R_(Ek-1,Sk-t,qk[0])){eM(),Ek--,Sk-=t,Qk();break}break;case La:for(t=0;t<xu;t++)if(R_(Ek+1,Sk-t,qk[0])){eM(),Ek++,Sk-=t,Qk();break}break;case Ia:case Ca:Vk();break;case Sa:case Ea:case xa:case Ta:xf(Ek+"_"+Sk,qk,tM);break;case Oa:zf(tM);break;case Fa:zk(),lu.Search_isSearching=!1,tf();break;case Ua:O_();break;case Aa:lu.Main_Go=Jc,zk(),X_()}}var nM=0,aM={restor_playback:{values:["off","on"],defaultValue:2},chat_font_size:{values:["85%","100%","130%","160%"],defaultValue:2},force_disable_chat:{values:["off","on"],defaultValue:2},videos_animation:{values:["off","on"],defaultValue:2},clock_offset:{values:iM(),defaultValue:49},content_lang:{values:["All","Dansk [DA]","Deutsch [DE]","English [EN][EN-GB]","English - USA [EN]","English - UK [EN-GB]","Espaol [ES][ES-MX]","Espaol - Espaa [ES]","Espaol - Latinoamrica [ES-MX]","Franais [FR]","Italiano [IT]","Magyar [HU]","Nederlands [NL]","Norsk [NO]","Polski [PL]","Portugus [PT][PT-BR]","Portugus -Portugal [PT]","Portugus - Brasil [PT-BR]","Slovenina [SK]","Suomi [FI]","Svenska [SV]","Ting Vit [VI]","Trke [TR]","etina [CS]"," [EL]"," [BG]"," [RU]"," [TH]"," [ZH-ALL]","  [ZH-CN]","  [ZH-TW]"," [JA]"," [KO]","Romn [RO]"],set_values:["","da","de","en,en-gb","en","en-gb","es,es-mx","es","es-mx","fr","it","hu","nl","no","pl","pt,pt-br","pt","pt-br","sk","fi","sv","vi","tr","cs","el","bg","ru","th","zh-cn,zh-tw","zh-cn","zh-tw","ja","ko","ro"],defaultValue:1}};function iM(){var e=[],t=43200,n=0;for(fp=0;n<48;n++)e.push("-"+uv(t)),t-=900;for(e.push(uv(0)),t=900,n=0;n<48;n++)e.push(uv(t)),t+=900;return e}var sM=[],oM=0;function dM(){J_(),document.body.addEventListener("keydown",SM,!1),r_("label_refresh","icon-arrow-circle-left",I),p_("top_bar_user",a),document.getElementById("top_lables").style.marginLeft="14%",document.getElementById("top_bar_live").style.display="none",document.getElementById("top_bar_featured").style.display="none",document.getElementById("top_bar_game").style.display="none",document.getElementById("top_bar_vod").style.display="none",document.getElementById("top_bar_clip").style.display="none",f_("top_bar_user","icon_center_focus"),u_("settings_scroll"),bM(nM=0)}function lM(){document.body.removeEventListener("keydown",SM),wM(),p_("top_bar_user",u),document.getElementById("top_lables").style.marginLeft="18.5%",document.getElementById("top_bar_live").style.display="inline-block",document.getElementById("top_bar_featured").style.display="inline-block",document.getElementById("top_bar_game").style.display="inline-block",document.getElementById("top_bar_vod").style.display="inline-block",document.getElementById("top_bar_clip").style.display="inline-block",m_("top_bar_user","icon_center_focus"),r_("label_refresh","icon-refresh",t+Jt),c_("settings_scroll")}function rM(){var e,t="";t+=cM("general",pn),e="clock_offset",sM.push(e),t+=uM(e,zn),e="content_lang",sM.push(e),t+=uM(e,Jn),e="restor_playback",sM.push(e),aM[e].values=[In,xn],t+=_M(e,Pn,Gn),e="videos_animation",sM.push(e),aM[e].values=[In,xn],t+=uM(e,On),t+=cM("play",cn),e="chat_font_size",sM.push(e),t+=_M(e,Bn,Ln),e="force_disable_chat",sM.push(e),aM[e].values=[In,xn],h_("settings_main",t+=_M(e,$n,Qn)),oM=sM.length}function cM(e,t){return'<div id="setting_title_'+e+'" class="settings_section">'+t+"</div>"}function uM(e,t){return'<div id="'+e+'_div" class="settings_div"><div id="'+e+'_name" class="settings_name">'+t+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_left" class="left"></div></div><div id="'+e+'" class="strokedextramini settings_value">'+pM(e)+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_right" class="right"></div></div></div>'}function _M(e,t,n){return'<div id="'+e+'_div" class="settings_div"><div id="'+e+'_name" class="settings_name">'+t+'<div id="'+e+'_summary" class="settings_summary" style="font-size: 65%;">'+n+'</div></div><div class="settings_arraw_div"><div id="'+e+'arrow_left" class="left"></div></div><div id="'+e+'" class="strokedextramini settings_value">'+pM(e)+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_right" class="right"></div></div></div>'}function fM(e,t,n){h_(e+"_name",t+'<div id="'+e+'_summary" class="settings_summary" style="font-size: 65%;">'+n+"</div>")}function mM(){var e="";for(e in p_("setting_title_general",pn),p_((e="clock_offset")+"_name",zn),p_((e="content_lang")+"_name",Jn),aM[e].values[0]=Xn,p_(e,pM(e)),p_("setting_title_play",cn),fM(e="restor_playback",Pn,Gn),aM[e].values=[In,xn],fM(e="chat_font_size",Bn,Ln),fM(e="force_disable_chat",$n,Qn),aM[e].values=[In,xn],p_((e="videos_animation")+"_name",On),aM[e].values=[In,xn],aM)aM.hasOwnProperty(e)&&p_(e,pM(e))}function hM(){for(var e in aM)aM[e].defaultValue=im(e,aM[e].defaultValue),aM[e].defaultValue-=1;EM(),jS=gM("videos_animation"),gu=vM("content_lang"),lu.Play_ChatForceDisable=gM("force_disable_chat")}function pM(e){return aM[e].values[gM(e)]}function vM(e){return aM[e].set_values[gM(e)]}function gM(e){return aM[e].defaultValue}function yM(e){return aM[e].values.length-1}function bM(e){var t=sM[nM];f_(t,"settings_value_focus"),f_(t+"_div","settings_div_focus"),MM(e)}function wM(){var e=sM[nM];document.getElementById(e+"arrow_left").style.opacity="0",document.getElementById(e+"arrow_right").style.opacity="0",m_(e,"settings_value_focus"),m_(e+"_div","settings_div_focus")}function kM(e){var t=sM[e];am(t,gM(t)+1),p_(t,pM(t)),MM(e),CM(e)}function MM(e){var t=sM[e],n=gM(t),a=yM(t);0<n&&n<a?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="1"):n===a?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="0.2"):(document.getElementById(t+"arrow_left").style.opacity="0.2",document.getElementById(t+"arrow_right").style.opacity="1")}function CM(e){"content_lang"===(e=sM[e])?gu=vM("content_lang"):"videos_animation"===e?jS=gM("videos_animation"):"force_disable_chat"===e?lu.Play_ChatForceDisable=gM("force_disable_chat"):"chat_font_size"===e?Tp():"clock_offset"===e&&(EM(),Nf())}function EM(){var e=gM("clock_offset");Wu=e<48?-9e5*(48-e):9e5*(e-48)}function SM(e){var t;switch(e.keyCode){case Na:L_()?B_():U_()?F_():(lM(),X_());break;case Pa:0<gM(t=sM[nM])&&(aM[t].defaultValue-=1,kM(nM));break;case Ba:gM(t=sM[nM])<yM(t)&&(aM[t].defaultValue+=1,kM(nM));break;case Ga:0<nM&&(wM(),bM(--nM));break;case La:nM<oM-1&&(wM(),bM(++nM));break;case Ia:case Ca:case ka:case Ma:case Sa:case Ea:case xa:case Ta:break;case Oa:zf(SM);break;case Fa:break;case Ua:O_();break;case Aa:lu.Main_BeforeSearch=lu.Main_Go,lu.Main_Go=Jc,lM(),X_()}}var xM=function(){var e={parse:function(e){return t(e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"),function(e){var t=function(e){for(var t=e.indexOf(d)<0?e.replace(o,""):e,n=[],a=0,i=0,s=0;s<t.length;)a=t.charCodeAt(s++),i?(n.push((65536+(i-55296<<10)+(a-56320)).toString(16)),i=0):55296<=a&&a<=56319?i=a:n.push(a.toString(16));return n.join("-")}(e);return t?'<img class="emoji" src="https://twemoji.maxcdn.com/2/72x72/'+t+'.png"/>':e})},replace:t},n=/(?:\ud83d[\udc68\udc69])(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddb0-\uddb3])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f)|[\u0023\u002a\u0030-\u0039]\ufe0f?\u20e3|(?:[\u00a9\u00ae\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\uddb5\uddb6\uddb8\uddb9\uddd1-\udddd]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a-\udc6d\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\udeeb\udeec\udef4-\udef9]|\ud83e[\udd10-\udd17\udd1d\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd40-\udd45\udd47-\udd70\udd73-\udd76\udd7a\udd7c-\udda2\uddb4\uddb7\uddc0-\uddc2\uddd0\uddde-\uddff]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g,o=/\uFE0F/g,d=String.fromCharCode(8205);return e;function t(e,t){return String(e).replace(n,t)}}(),IM=0,PM=0,GM=!1,BM=0,LM=!1,TM=0,OM=5,FM=3500,UM=[],AM=0,NM=!1,DM=!1,HM="",qM=!1,RM=["uc_thumbdiv","uc_img","uc_infodiv","uc_displayname","uc_cell","ucempty_","user_channels_scroll"];function zM(){lu.Main_CenterLablesVectorPos=1,lu.Main_Go=$c,lu.isLastSChannels=!1,r_("label_side_panel","icon-arrow-circle-left",I),f_("top_bar_user","icon_center_focus"),h_("top_bar_user",u+$_(Zi[lu.Users_Position].name+Q)),document.body.addEventListener("keydown",tC,!1),HM!==Zi[lu.Users_Position].name&&(DM=!1),DM?(lf(IM),u_(RM[6]),E_(PM,IM,Tu,BM),QM(),j_()):JM()}function VM(){m_("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",tC),p_("top_bar_user",u),r_("label_side_panel","icon-ellipsis",Fn),c_(RM[6])}function JM(){af("stream_table_user_channels"),c_(RM[6]),v_(),P_(),HM=Zi[lu.Users_Position].name,IM=PM=BM=AM=0,qM=GM=DM=!1,Wf=!0,C_(),UM=[],Uf(function(){XM(),jM()})}function XM(){of(),LM=!0,TM=0,FM=3500}function jM(){rm("https://api.twitch.tv/kraken/users/"+encodeURIComponent(Zi[lu.Users_Position].id)+"/follows/channels?limit=100&offset="+AM+"&sortby=created_at&",FM,2,null,WM,YM)}function YM(){++TM<OM?(FM+=500,jM()):(LM=!1,BM?(GM=!0,$M()):(Wf=!1,g_(),I_(B)))}function WM(e){var t=JSON.parse(e).follows,n=t.length;if(n){for(var a="",i=0;i<n;i++)a=t[i].channel.name+","+t[i].channel._id+","+t[i].channel.logo+","+t[i].channel.display_name,-1===UM.indexOf(a)&&UM.push(a);AM+=n,XM(),jM()}else UM.sort(function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}),KM()}function KM(){var e=Lu,t=BM,n=UM.length-t;n<e&&(e=n),e<Lu&&(GM=!0),NM=!(BM+=e);var a=e/Tu;0<e%Tu&&a++;for(var i,s,o,d=t,l=0;l<a;l++){for(s=t/Tu+l,o=document.createElement("tr"),i=0;i<Tu&&d<UM.length;i++,d++)o.appendChild(ZM(s,s+"_"+i,UM[d].split(",")));for(;i<Tu;i++)GM&&!qM&&(qM=!0,BM=s*Tu+i),o.appendChild(uf(RM[5]+s+"_"+i));document.getElementById("stream_table_user_channels").appendChild(o)}$M()}function ZM(e,t,n){return e<4&&cf(n[2]),_f(t,RM,n)}function $M(){Uf(function(){DM?sf(e_):(g_(),NM?I_(L+Q):(DM=!0,sf(e_),QM(),j_()),u_(RM[6]),Wf=!1),LM=!1,E_(PM,IM,Tu,BM)})}function QM(){Cf(IM,PM,RM,Tu,BM),BM/Tu<IM+Ou&&!GM&&!LM&&(XM(),jM()),uu&&eC()}function eC(){BM&&Tf(IM+"_"+PM,RM)}function tC(e){var t;if(!Wf&&!Mf())switch(kf(),e.keyCode){case Na:U_()?F_():L_()?B_():(eC(),Zf(tC));break;case Pa:if(R_(IM,PM-1,RM[0]))eC(),PM--,QM();else for(t=Tu-1;-1<t;t--)if(R_(IM-1,t,RM[0])){eC(),IM--,PM=t,QM();break}break;case Ba:R_(IM,PM+1,RM[0])?(eC(),PM++,QM()):R_(IM+1,0,RM[0])&&(eC(),IM++,PM=0,QM());break;case Ga:for(t=0;t<Tu;t++)if(R_(IM-1,PM-t,RM[0])){eC(),IM--,PM-=t,QM();break}break;case La:for(t=0;t<Tu;t++)if(R_(IM+1,PM-t,RM[0])){eC(),IM++,PM-=t,QM();break}break;case Ia:case Ca:JM();break;case ka:lu.Main_Go=Rc,VM(),X_();break;case Ma:fs()&&Zi[lu.Users_Position].access_token?lu.Main_Go=ou:lu.Main_Go=Vc,VM(),X_();break;case Sa:case Ea:case xa:case Ta:lu.Main_selectedChannel=document.getElementById(RM[4]+IM+"_"+PM).getAttribute(Ju),lu.Main_selectedChannel_id=document.getElementById(RM[4]+IM+"_"+PM).getAttribute("data-id"),lu.Main_selectedChannelDisplayname=document.getElementById(RM[3]+IM+"_"+PM).textContent,lu.Main_selectedChannelLogo=document.getElementById(RM[1]+IM+"_"+PM).src,document.body.removeEventListener("keydown",tC),lu.Main_BeforeChannel=$c,lu.Main_Go=Yc,lu.Main_BeforeChannelisSet=!0,td=Wa=!0,c_(RM[6]),X_();break;case Oa:zf(tC);break;case Fa:VM(),tf();break;case Ua:O_();break;case Aa:lu.Main_BeforeSearch=$c,lu.Main_Go=Jc,VM(),X_()}}var nC=0,aC=0,iC=!1,sC=0,oC={},dC=[],lC=!1,rC=0,cC=5,uC=3500,_C=0,fC=0,mC=!1,hC=["uh_thumbdiv","uh_img","uh_infodiv","uh_displayname","uh_hosttitle","uh_hostgame","uh_viwers","uh_quality","uh_cell","uhempty_","user_host_scroll"],pC=!1,vC="",gC=!1;function yC(){lu.Main_CenterLablesVectorPos=1,lu.Main_Go=zc,r_("label_side_panel","icon-arrow-circle-left",I),f_("top_bar_user","icon_center_focus"),h_("top_bar_user",u+$_(Zi[lu.Users_Position].name+Z)),document.body.addEventListener("keydown",LC,!1),vC!==Zi[lu.Users_Position].name&&(pC=!1),pC?(lf(nC),u_(hC[10]),E_(aC,nC,xu,sC),GC(),j_()):wC()}function bC(){m_("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",LC),p_("top_bar_user",u),r_("label_side_panel","icon-ellipsis",Fn),c_(hC[10])}function wC(){af("stream_table_user_host"),c_(hC[10]),v_(),P_(),vC=Zi[lu.Users_Position].name,pC=!1,oC={},sC=fC=_C=0,nC=aC=0,iC=!(Wf=!(gC=!(dC=[]))),C_(),Uf(function(){kC(),MC()})}function kC(){of(),lC=!0,rC=0,uC=3500}function MC(){var e=sC+_C;e&&fC-1<e&&(e=fC-Su,iC=!0),rm("https://api.twitch.tv/api/users/"+encodeURIComponent(Zi[lu.Users_Position].name)+"/followed/hosting?limit="+Su+"&offset="+e,uC,2,null,EC,CC)}function CC(){++rC<cC?(uC+=500,MC()):(lC=!1,sC?(iC=!0,SC()):(Wf=!1,g_(),I_(B)))}function EC(e){var t=JSON.parse(e),n=t.hosts.length;fC=parseInt(t._total),n<Su&&(iC=!0);var a=sC;mC=!(sC+=n);var i=n/xu;0<n%xu&&i++;for(var s,o,d,l,r,c=0,u=0;u<i;u++){for(o=a/xu+u,d=document.createElement("tr"),s=0;s<xu&&c<n;s++,c++)r=(l=t.hosts[c]).target._id+""+l._id,oC[r]?s--:(oC[r]=1,d.appendChild(hf(o,o+"_"+s,[l.target.channel.name,l.target._id],hC,[l.target.preview_urls.template.replace("{width}x{height}",Ru),l.display_name+ae+l.target.channel.display_name,l.target.title,l.target.meta_game,v.charAt(1).toUpperCase()+v.slice(2)+D_(l.target.viewers)+R,""])));for(;s<xu;s++)iC&&!gC&&(gC=!0,sC=o*xu+s),d.appendChild(uf(hC[9]+o+"_"+s)),dC.push(hC[9]+o+"_"+s);document.getElementById("stream_table_user_host").appendChild(d)}SC()}function SC(){Uf(function(){if(pC){if(sf(t_),0<dC.length&&!iC)return kC(),void xC();E_(aC,nC,xu,sC),dC=[]}else g_(),mC?I_(L+Z):(pC=!0,GC(),sf(t_),j_()),u_(hC[10]),Wf=!1;lC=!1})}function xC(){x_(dC.length);var e=sC+_C;e&&fC-1<e&&(e=fC-Fu,iC=!0),rm("https://api.twitch.tv/api/users/"+encodeURIComponent(Zi[lu.Users_Position].name)+"/followed/hosting?limit="+Fu+"&offset="+e,uC,2,null,PC,IC)}function IC(){++rC<cC?(uC+=500,xC()):(iC=!0,sC-=dC.length,dC=[],SC())}function PC(e){var t,n,a=JSON.parse(e),i=a.streams.length,s=0,o=0,d=[];for(fC=parseInt(a._total),i<Fu&&(iC=!0);s<dC.length&&o<i;s++,o++)n=(t=a.hosts[o]).target._id+""+t._id,oC[n]?s--:(oC[n]=1,pf(dC[s],[t.target.channel.name,t.target._id],[t.target.preview_urls.template.replace("{width}x{height}",Ru),t.display_name+ae+t.target.channel.display_name,t.target.title,t.target.meta_game,v.charAt(1).toUpperCase()+v.slice(2)+D_(t.target.viewers)+R,""],hC),d.push(s));for(s=d.length-1;-1<s;s--)dC.splice(d[s],1);_C+=o,iC&&(sC-=dC.length,dC=[]),SC()}function GC(){Ef(nC,aC,hC,xu,sC),sC/xu<nC+Iu&&!iC&&!lC&&(kC(),MC()),uu&&BC()}function BC(){sC&&Tf(nC+"_"+aC,hC)}function LC(e){var t;if(!Wf&&!Mf())switch(kf(),e.keyCode){case Na:U_()?F_():L_()?B_():(BC(),Zf(LC));break;case Pa:if(R_(nC,aC-1,hC[0]))BC(),aC--,GC();else for(t=xu-1;-1<t;t--)if(R_(nC-1,t,hC[0])){BC(),nC--,aC=t,GC();break}break;case Ba:R_(nC,aC+1,hC[0])?(BC(),aC++,GC()):R_(nC+1,0,hC[0])&&(BC(),nC++,aC=0,GC());break;case Ga:for(t=0;t<xu;t++)if(R_(nC-1,aC-t,hC[0])){BC(),nC--,aC-=t,GC();break}break;case La:for(t=0;t<xu;t++)if(R_(nC+1,aC-t,hC[0])){BC(),nC++,aC-=t,GC();break}break;case Ia:case Ca:wC();break;case ka:lu.Main_Go=Vc,bC(),X_();break;case Ma:lu.Main_Go=Rc,bC(),X_();break;case Sa:case Ea:case xa:case Ta:xf(nC+"_"+aC,hC,LC);break;case Oa:zf(LC);break;case Fa:bC(),tf();break;case Ua:O_();break;case Aa:lu.Main_BeforeSearch=zc,lu.Main_Go=Jc,bC(),X_()}}var TC=0,OC=0,FC=!1,UC=0,AC={},NC=[],DC=!1,HC=0,qC=5,RC=3500,zC=0,VC=0,JC=0,XC=!1,jC=["ul_thumbdiv","ul_img","ul_infodiv","ul_displayname","ul_streamtitle","ul_streamgame","ul_viwers","ul_quality","ul_cell","ulempty_","user_live_scroll"],YC=!1,WC="",KC="",ZC=!1;function $C(){lu.Main_CenterLablesVectorPos=1,lu.Main_Go=Rc,r_("label_side_panel","icon-arrow-circle-left",I),f_("top_bar_user","icon_center_focus"),h_("top_bar_user",u+$_(Zi[lu.Users_Position].name+K)),document.body.addEventListener("keydown",mE,!1),KC!==Zi[lu.Users_Position].name&&(YC=!1),YC?(lf(TC),u_(jC[10]),E_(OC,TC,xu,UC),_E(),j_()):eE()}function QC(){m_("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",mE),p_("top_bar_user",u),r_("label_side_panel","icon-ellipsis",Fn),c_(jC[10])}function eE(){af("stream_table_user_live"),c_(jC[10]),v_(),P_(),YC=!1,KC=Zi[lu.Users_Position].name,VC=zC=JC=0,AC={},TC=OC=UC=0,FC=!(Wf=!(ZC=!(NC=[]))),WC="",C_(),Uf(function(){tE(),nE()})}function tE(){of(),DC=!0,HC=0,RC=3500}function nE(){var e,t="https://api.twitch.tv/kraken/users/"+encodeURIComponent(Zi[lu.Users_Position].id)+"/follows/channels?limit=100&offset="+JC+"&sortby=created_at";if(Ku){if(!(e=Android.mreadUrl(t,RC,2,null)))return void aE();200===(e=JSON.parse(e)).status?iE(e.responseText):aE()}else(e=new XMLHttpRequest).open("GET",t,!0),e.timeout=RC,e.setRequestHeader(Nu,qu),e.setRequestHeader(Au,Uu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void iE(e.responseText);aE()}},e.send(null)}function aE(){++HC<qC?(RC+=500,nE()):(DC=!1,UC?(FC=!0,lE()):(Wf=!1,g_(),I_(B)))}function iE(e){var t=JSON.parse(e).follows,n=t.length;if(n){for(var a="",i=0;i<n;i++)a=t[i].channel._id+",",-1===WC.indexOf(a)&&(WC+=a);JC+=n,tE(),nE()}else WC=WC.slice(0,-1),tE(),sE()}function sE(){var e=UC+zC;e&&VC-1<e&&(e=VC-Su,FC=!0);var t,n="https://api.twitch.tv/kraken/streams/?channel="+encodeURIComponent(WC)+"&limit="+Su+"&offset="+e+"&stream_type=all";if(Ku){if(!(t=Android.mreadUrl(n,RC,2,null)))return void oE();200===(t=JSON.parse(t)).status?dE(t.responseText):oE()}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=RC,t.setRequestHeader(Nu,qu),t.setRequestHeader(Au,Uu),t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void dE(t.responseText);oE()}},t.send(null)}function oE(){++HC<qC?(RC+=500,sE()):(DC=!1,g_(),I_(B))}function dE(e){var t=JSON.parse(e),n=t.streams.length;VC=parseInt(t._total),n<Su&&(FC=!0);var a=UC;XC=!(UC+=n);var i=n/xu;0<n%xu&&i++;for(var s,o,d,l,r,c=0,u=0;u<i;u++){for(o=a/xu+u,d=document.createElement("tr"),s=0;s<xu&&c<n;s++,c++)r=(l=t.streams[c]).channel._id,AC[r]?s--:(AC[r]=1,d.appendChild(hf(o,o+"_"+s,[l.channel.name,r],jC,[l.preview.template.replace("{width}x{height}",Ru),q_(JSON.stringify(l.stream_type))+l.channel.display_name,l.channel.status,l.game,y+fv(l.created_at)+b+", "+v+D_(l.viewers)+R,H_(l.video_height,l.average_fps,l.channel.language)])));for(;s<xu;s++)FC&&!ZC&&(ZC=!0,UC=o*xu+s),d.appendChild(uf(jC[9]+o+"_"+s)),NC.push(jC[9]+o+"_"+s);document.getElementById("stream_table_user_live").appendChild(d)}lE()}function lE(){Uf(function(){if(YC){if(sf(t_),0<NC.length&&!FC)return tE(),void rE();E_(OC,TC,xu,UC),NC=[]}else g_(),XC?I_(L+K):(YC=!0,_E(),sf(t_),j_()),u_(jC[10]),Wf=!1;DC=!1})}function rE(){x_(NC.length);var e=UC+zC;e&&VC-1<e&&(e=VC-Fu,FC=!0);var t,n="https://api.twitch.tv/kraken/streams/?channel="+encodeURIComponent(WC)+"&limit="+Fu+"&offset="+e+"&stream_type=all";if(Ku){if(!(t=Android.mreadUrl(n,RC,2,null)))return void cE();200===(t=JSON.parse(t)).status?uE(t.responseText):cE()}else(t=new XMLHttpRequest).open("GET",+Math.round(1e7*Math.random()),!0),t.timeout=RC,t.setRequestHeader(Nu,qu),t.setRequestHeader(Au,Uu),t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void uE(t.responseText);cE()}},t.send(null)}function cE(){++HC<qC?(RC+=500,rE()):(FC=!0,UC-=NC.length,NC=[],lE())}function uE(e){var t,n,a=JSON.parse(e),i=a.streams.length,s=0,o=0,d=[];for(VC=parseInt(a._total),i<Fu&&(FC=!0);s<NC.length&&o<i;s++,o++)n=(t=a.streams[o]).channel._id,AC[n]?s--:(AC[n]=1,pf(NC[s],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",Ru),q_(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+fv(t.created_at)+b+", "+v+D_(t.viewers)+R,H_(t.video_height,t.average_fps,t.channel.language)],jC),d.push(s));for(s=d.length-1;-1<s;s--)NC.splice(d[s],1);zC+=o,FC&&(UC-=NC.length,NC=[]),lE()}function _E(){Ef(TC,OC,jC,xu,UC),UC/xu<TC+Iu&&!FC&&!DC&&(tE(),nE()),uu&&fE()}function fE(){UC&&Tf(TC+"_"+OC,jC)}function mE(e){var t;if(!Wf&&!Mf())switch(kf(),e.keyCode){case Na:U_()?F_():L_()?B_():(fE(),Zf(mE));break;case Pa:if(R_(TC,OC-1,jC[0]))fE(),OC--,_E();else for(t=xu-1;-1<t;t--)if(R_(TC-1,t,jC[0])){fE(),TC--,OC=t,_E();break}break;case Ba:R_(TC,OC+1,jC[0])?(fE(),OC++,_E()):R_(TC+1,0,jC[0])&&(fE(),TC++,OC=0,_E());break;case Ga:for(t=0;t<xu;t++)if(R_(TC-1,OC-t,jC[0])){fE(),TC--,OC-=t,_E();break}break;case La:for(t=0;t<xu;t++)if(R_(TC+1,OC-t,jC[0])){fE(),TC++,OC-=t,_E();break}break;case Ia:case Ca:eE();break;case ka:lu.Main_Go=zc,QC(),X_();break;case Ma:lu.Main_Go=$c,QC(),X_();break;case Sa:case Ea:case xa:case Ta:xf(TC+"_"+OC,jC,mE);break;case Oa:zf(mE);break;case Fa:QC(),tf();break;case Ua:O_();break;case Aa:lu.Main_BeforeSearch=Rc,lu.Main_Go=Jc,QC(),X_()}}var hE=0,pE=0,vE=8,gE=0,yE=null,bE=["u_thumbdiv","u_img","u_infodiv","u_displayname","u_cell","user_scroll"],wE=!1,kE=!0;function ME(){return fu?(CE(),void ji(fu)):ys()?(lu.Main_CenterLablesVectorPos=1,lu.Main_Go=Zc,document.getElementById("screens_holder").style.top=screen.height/100*7+"px",P_(),f_("top_bar_user","icon_center_focus"),document.body.addEventListener("keydown",DE,!1),void(wE?(lf(hE),u_(bE[5]),GE(),j_()):EE())):(lu.Main_Go=Nc,CE(),void X_())}function CE(){lu.Users_Position=0,m_("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",DE),c_(bE[5]),document.getElementById("screens_holder").style.top="0"}function EE(){af("stream_table_user"),c_(bE[5]),v_(),P_(),Wf=!(wE=!1),kE=!(hE=pE=0),Uf(function(){SE()})}function SE(){for(var e,t,n,a=document.createElement("tbody"),i=0;i<Zi.length;i++)t=0,n=i%2?"B5B5B5":"FFFFFF",(pu=document.createElement("tr")).className="follower_header",pu.innerHTML='<div class="follower_header">'+Zi[i].name+N+(i?"":oe)+"</div>",document.getElementById("stream_table_user").appendChild(a),document.getElementById("stream_table_user").appendChild(pu),(e=document.createElement("tr")).appendChild(xE(i+"_"+t,lu.Main_selectedChannelDisplayname,K,"play",n)),t++,e.appendChild(xE(i+"_"+t,lu.Main_selectedChannelDisplayname,Z,"users",n)),t++,e.appendChild(xE(i+"_"+t,lu.Main_selectedChannelDisplayname,jb.isLive?$:zt,"gamepad",n)),t++,e.appendChild(xE(i+"_"+t,lu.Main_selectedChannelDisplayname,Kt,"movie-play",n)),t++,e.appendChild(xE(i+"_"+t,lu.Main_selectedChannelDisplayname,Q,"filmstrip",n)),t++,i?e.appendChild(xE(i+"_"+t,lu.Main_selectedChannelDisplayname,se,"arrow-up",n)):e.appendChild(xE(i+"_"+t,lu.Main_selectedChannelDisplayname,ee,"user-plus",n)),t++,e.appendChild(xE(i+"_"+t,lu.Main_selectedChannelDisplayname,te,"user-times",n)),t++,e.appendChild(xE(i+"_"+t,lu.Main_selectedChannelDisplayname,Zi[i].access_token?yt:gt,"key",n)),document.getElementById("stream_table_user").appendChild(e);IE()}function xE(e,t,n,a,i){return(pu=document.createElement("td")).setAttribute("id",bE[4]+e),pu.setAttribute(Ju,t),pu.className="stream_cell",pu.innerHTML='<div id="'+bE[0]+e+'" class="stream_thumbnail_channel" ><div id="'+bE[1]+e+'" class="stream_user_icon" style="color: #'+i+';"><i class="icon-'+a+'"></i></div></div><div id="'+bE[2]+e+'" class="stream_text"><div id="'+bE[3]+e+'" class="stream_info_user" style="text-align: center;">'+n+"</div></div>",pu}function IE(){Uf(function(){wE||(g_(),wE=!0,GE(),j_()),u_(bE[5]),kE=Wf=!1})}function PE(){for(var e=0;e<Zi.length;e++)p_(bE[3]+e+"_2",jb.isLive?$:zt)}function GE(){f_(bE[0]+hE+"_"+pE,"stream_thumbnail_focused"),rf(hE)?1<hE?R_(hE+1,0,bE[0])&&Lf(bE[5],-1*document.getElementById(bE[4]+hE+"_"+pE).offsetTop+500):Lf(bE[5],screen.height/100*7):bf(),uu&&BE()}function BE(){cu=!1,m_(bE[0]+hE+"_"+pE,"stream_thumbnail_focused")}function LE(){return lu.Users_Position=hE,3!==pE||Zi[lu.Users_Position].access_token?7===pE&&Zi[lu.Users_Position].access_token?(I_(yt),void window.setTimeout(P_,1500)):(6!==pE&&7!==pE&&(c_(bE[5]),document.body.removeEventListener("keydown",DE),document.getElementById("screens_holder").style.top="0"),void Uf(function(){pE?1===pE?yC():2===pE?(yb=jb,Cb()):3===pE?oS():4===pE?zM():5===pE?hE?vs(hE):(lu.Main_Before=Zc,ts()):6===pE?FE():7!==pE||Zi[lu.Users_Position].access_token||FE():$C()})):(I_(En),void window.setTimeout(P_,5e3))}function TE(){window.clearTimeout(yE)}function OE(){yE=window.setTimeout(UE,2e4)}function FE(){OE(),6===pE?h_("main_dialog_remove",qt+na+Zi[lu.Users_Position].name+"?"):7===pE&&h_("main_dialog_remove",ut+" "+Zi[lu.Users_Position].name+"?"),u_("main_remove_dialog")}function UE(){TE(),c_("main_remove_dialog"),gE=0,NE()}function AE(){return __("main_remove_dialog")}function NE(){gE?(m_("remove_cancel","button_search_focused"),f_("remove_yes","button_search_focused")):(f_("remove_cancel","button_search_focused"),m_("remove_yes","button_search_focused"))}function DE(e){var t;if(!Wf&&!Mf())switch(kf(),e.keyCode){case Na:AE()?UE():L_()?B_():U_()?F_():(BE(),Zf(DE));break;case Pa:if(AE())--gE<0&&(gE=1),NE(),TE(),OE();else if(R_(hE,pE-1,bE[0]))BE(),pE--,GE();else if(R_(hE-1,0,bE[0])){for(t=vE-1;-1<t;t--)if(R_(hE-1,t,bE[0])){BE(),hE--,pE=t,GE();break}}else BE(),pE=vE-1,GE();break;case Ba:AE()?(1<++gE&&(gE=0),NE(),TE(),OE()):(R_(hE,pE+1,bE[0])?(BE(),pE++):(R_(hE+1,0,bE[0])?(BE(),hE++):BE(),pE=0),GE());break;case Ga:for(t=0;t<vE;t++)if(R_(hE-1,pE-t,bE[0])){BE(),hE--,pE-=t,GE();break}break;case La:for(t=0;t<vE;t++)if(R_(hE+1,pE-t,bE[0])){BE(),hE++,pE-=t,GE();break}break;case Ia:case Ca:EE();break;case ka:lu.Main_Before=Zc,lu.Main_Go=su,CE(),X_();break;case Ma:lu.Main_Before=Zc,lu.Main_Go=Nc,CE(),X_();break;case Sa:case Ea:case xa:case Ta:var n;if(AE()){if(6===pE)n=gE,UE(),n&&(document.body.removeEventListener("keydown",DE),CE(),hs(hE));else if(n=gE,UE(),n){lu.Users_AddcodePosition=lu.Users_Position,j_();var a=Qa,i="https://id.twitch.tv/oauth2/authorize?response_type=code&client_id="+encodeURIComponent(Uu)+"&redirect_uri="+a+"&scope=user_follows_edit+user_subscriptions&force_verify=true";window.location=i}}else LE();break;case Oa:zf(DE);break;case Fa:CE(),tf();break;case Ua:O_();break;case Aa:lu.Main_BeforeSearch=Zc,lu.Main_Go=Jc,CE(),X_()}}var HE=0,qE=0,RE=!1,zE=0,VE={},JE=[],XE=!1,jE=0,YE=5,WE=3500,KE=0,ZE=0,$E=!1,QE=!1,eS="time",tS=2,nS=!1,aS=["uv_thumbdiv","uv_img","uv_infodiv","uv_title","uv_streamon","uv_duration","uv_viwers","uv_quality","uv_cell","uvempty_","user_vod_scroll","uv_game"],iS=!1,sS=!1;function oS(){lu.Main_CenterLablesVectorPos=1,lu.Main_Go=ou,f_("top_bar_user","icon_center_focus"),r_("label_side_panel","icon-arrow-circle-left",I),h_("top_bar_user",u+$_(Zi[lu.Users_Position].name+(sS?U:F))),document.body.addEventListener("keydown",CS,!1),iS?(lf(HE),u_(aS[10]),E_(qE,HE,xu,zE),ES(),bS(),j_()):lS()}function dS(){iS&&wS(),m_("top_bar_user","icon_center_focus"),r_("label_side_panel","icon-ellipsis",Fn),document.body.removeEventListener("keydown",CS),p_("top_bar_user",u),c_(aS[10])}function lS(){iS&&wS(),af("stream_table_user_vod"),c_(aS[10]),v_(),ES(),P_(),nS=iS=!1,ZE=KE=0,VE={},HE=qE=zE=0,RE=!(Wf=!(QE=!(JE=[]))),Uf(function(){C_(),cS()})}function rS(){of(),XE=!0,jE=0,WE=3500}function cS(){rS(),uS()}function uS(){var e=zE+KE;e&&ZE-1<e&&(e=ZE-Su,RE=!0);var t,n="https://api.twitch.tv/kraken/videos/followed?limit="+Su+"&broadcast_type="+(sS?"highlight":"archive")+"&sort="+eS+"&offset="+e;if(Ku){if(!(t=Android.mreadUrl(n,WE,3,Hu+Zi[lu.Users_Position].access_token)))return void _S();if(200===(t=JSON.parse(t)).status)return void mS(t.responseText);401===t.status||403===t.status?ri(lu.Users_Position,0,cS,fS):_S()}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=WE,t.setRequestHeader(Nu,qu),t.setRequestHeader(Au,Uu),t.setRequestHeader(Du,Hu+Zi[lu.Users_Position].access_token),t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void mS(t.responseText);401===t.status||403===t.status?ri(lu.Users_Position,0,cS,fS):_S()}},t.send(null)}function _S(){++jE<YE?(WE+=500,uS()):fS()}function fS(){XE=!1,zE?(RE=!0,hS()):(Wf=!1,g_(),I_(B))}function mS(e){var t=JSON.parse(e),n=t.videos.length;ZE=parseInt(t._total),n<Su&&(RE=!0);var a=zE;$E=!(zE+=n);var i=n/xu;0<n%xu&&i++;var s,o,d,l,r,c=0;if(!nS){var u;for(nS=!0,d=document.createElement("tr"),_=0;_<2;_++)u=_?'<i class="icon-history stream_channel_fallow_icon"></i>'+va+va+Sn:'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+va+va+h,(pu=document.createElement("td")).setAttribute("id",aS[8]+"y_"+_),pu.className="stream_cell",pu.innerHTML='<div id="'+aS[0]+"y_"+_+'" class="stream_thumbnail_channel_vod" ><div id="'+aS[3]+"y_"+_+'" class="stream_channel_fallow_game">'+u+"</div></div>",d.appendChild(pu);document.getElementById("stream_table_user_vod").appendChild(d)}for(var _=0;_<i;_++){for(o=a/xu+_,d=document.createElement("tr"),s=0;s<xu&&c<n;s++,c++)r=(l=t.videos[c])._id,-1!==(l.preview.template+"").indexOf("404_processing")||VE[r]?s--:(VE[r]=1,d.appendChild(nx(o,o+"_"+s,[r,l.length,l.language,l.game,l.channel.name,l.increment_view_count_url],[l.preview.template.replace("{width}x{height}",Ru),l.channel.display_name,D+Q_(l.created_at),xM.parse(l.title)+na+Yt+p+l.game,D_(l.views)+q,H_(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.language),H+uv(l.length),l.animated_preview_url],aS)));for(;s<xu;s++)RE&&!QE&&(QE=!0,zE=o*xu+s),d.appendChild(uf(aS[9]+o+"_"+s)),JE.push(aS[9]+o+"_"+s);document.getElementById("stream_table_user_vod").appendChild(d)}hS()}function hS(){Uf(function(){iS?sf(t_):(g_(),$E?I_(L+(sS?U:F)+T+x):(iS=!0,bS(),sf(t_),j_()),u_(aS[10]),Wf=!1),0<JE.length&&!RE?pS():(E_(qE,HE,xu,zE),XE=!(JE=[]))})}function pS(){rS(),vS()}function vS(){x_(JE.length);var e=zE+KE;e&&ZE-1<e&&(e=ZE-Fu,RE=!0);var t,n="https://api.twitch.tv/kraken/videos/followed?limit="+Fu+"&broadcast_type="+(sS?"highlight":"archive")+"&sort="+eS+"&offset="+e;if(Ku){if(!(t=Android.mreadUrl(n,WE,3,Hu+Zi[lu.Users_Position].access_token)))return void gS();if(200===(t=JSON.parse(t)).status)return void yS(t.responseText);401===t.status||403===t.status?ri(lu.Users_Position,0,cS,fS):gS()}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=WE,t.setRequestHeader(Nu,qu),t.setRequestHeader(Au,Uu),t.setRequestHeader(Du,Hu+Zi[lu.Users_Position].access_token),t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void yS(t.responseText);401===t.status||403===t.status?ri(lu.Users_Position,0,cS,fS):gS()}},t.send(null)}function gS(){++jE<YE?(WE+=500,vS()):(RE=!0,zE-=JE.length,JE=[],hS())}function yS(e){var t,n,a=JSON.parse(e),i=a.videos.length,s=0,o=0,d=[];for(ZE=parseInt(a._total);s<JE.length&&o<i;s++,o++)n=(t=a.videos[o])._id,-1!==(t.preview.template+"").indexOf("404_processing")||VE[n]?s--:(VE[n]=1,ix(JE[s],[n,t.length,t.language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",Ru),t.channel.display_name,D+Q_(t.created_at),xM.parse(t.title)+na+Yt+p+t.game,D_(t.views)+q,H_(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.language),H+uv(t.length),t.animated_preview_url],aS),d.push(s));for(s=d.length-1;-1<s;s--)JE.splice(d[s],1);KE+=o,RE&&(zE-=JE.length,JE=[]),hS()}function bS(){HE<0?kS():(Ef(HE,qE,aS,xu,zE),mx(aS,HE+"_"+qE),zE/xu<HE+Iu&&!RE&&!XE&&cS(),uu&&wS())}function wS(){window.clearInterval(SS),-1<HE&&zE?(u_(aS[1]+HE+"_"+qE),Tf(HE+"_"+qE,aS)):MS()}function kS(){var e=1<qE?1:qE;f_(aS[0]+"y_"+e,Vu)}function MS(){var e=1<qE?1:qE;m_(aS[0]+"y_"+e,Vu)}function CS(e){var t;if(!Wf&&!Mf())switch(kf(),e.keyCode){case Na:L_()?B_():L_()?B_():U_()?F_():(wS(),Zf(CS));break;case Pa:if(-1===HE)MS(),--qE<0&&(qE=1),kS();else if(HE||qE){if(R_(HE,qE-1,aS[0]))wS(),qE--,bS();else for(t=xu-1;-1<t;t--)if(R_(HE-1,t,aS[0])){wS(),HE--,qE=t,bS();break}}else wS(),MS(),HE=-1,qE=1,kS();break;case Ba:-1===HE?(MS(),1<++qE?(qE=0,$E?kS():(HE=0,bS())):kS()):R_(HE,qE+1,aS[0])?(wS(),qE++,bS()):R_(HE+1,0,aS[0])&&(wS(),HE++,qE=0,bS());break;case Ga:if(-1!==HE||$E)if(HE){for(t=0;t<xu;t++)if(R_(HE-1,qE-t,aS[0])){wS(),HE--,qE-=t,bS();break}}else wS(),HE=-1,kS();else HE=0,MS(),bS();break;case La:if(-1!==HE||$E){for(t=0;t<xu;t++)if(R_(HE+1,qE-t,aS[0])){wS(),HE++,qE-=t,bS();break}}else HE=0,MS(),bS();break;case ka:lu.Main_Go=$c,dS(),X_();break;case Ma:lu.Main_Go=Vc,dS(),X_();break;case Ia:case Ca:am("UserVod_highlight",(sS=!sS)?"true":"false"),lS();break;case Sa:case Ea:case xa:case Ta:-1===HE?(0===qE?am("UserVod_highlight",(sS=!sS)?"true":"false"):1===tS?tS++:tS--,lS()):Gf(HE+"_"+qE,aS,CS);break;case Oa:zf(CS);break;case Fa:dS(),tf();break;case Ua:1===tS?tS++:tS--,lS();break;case Aa:lu.Search_isSearching||(lu.Main_BeforeSearch=ou),lu.Main_Go=Jc,dS(),X_()}}function ES(){1===tS?(h_("top_bar_user",u+$_(Zi[lu.Users_Position].name+" "+(sS?U:F)+Mn)),eS="time"):2===tS&&(h_("top_bar_user",u+$_(Zi[lu.Users_Position].name+" "+(sS?U:F)+Cn)),eS="views"),am("UserVod_TypeNumber",tS)}var SS,xS=0,IS=0,PS=!1,GS=0,BS={},LS=[],TS=!1,OS=0,FS=5,US=3500,AS=0,NS=0,DS=!1,HS=!1,qS="week",RS=2,zS=!1,VS=["v_thumbdiv","v_img","v_infodiv","v_title","v_streamon","v_duration","v_viwers","v_quality","v_cell","vempty_","vod_scroll","v_game"],JS=!1,XS=!1,jS=1,YS=new Image;function WS(){lu.Main_CenterLablesVectorPos=4,lu.Main_Go=tu,f_("top_bar_vod","icon_center_focus"),document.body.addEventListener("keydown",hx,!1),JS?(lf(xS),u_(VS[10]),E_(IS,xS,xu,GS),px(),cx(),j_()):ZS()}function KS(){JS&&ux(),K_(),document.body.removeEventListener("keydown",hx),m_("top_bar_vod","icon_center_focus"),p_("top_bar_vod",Kt),c_(VS[10])}function ZS(){JS&&ux(),af("stream_table_vod"),c_(VS[10]),v_(),px(),P_(),zS=JS=!1,NS=AS=0,BS={},xS=IS=GS=0,PS=!(Wf=!(HS=!(LS=[]))),C_(),Uf(function(){$S(),QS()})}function $S(){of(),TS=!0,OS=0,US=3500}function QS(){var e=GS+AS;e&&NS-1<e&&(e=NS-Su,PS=!0),rm("https://api.twitch.tv/kraken/videos/top?limit="+Su+"&broadcast_type="+(XS?"highlight":"archive")+"&sort=views&offset="+e+"&period="+qS+(""!==gu?"&language="+gu:""),US,2,null,tx,ex)}function ex(){++OS<FS?(US+=500,QS()):(TS=!1,GS?(PS=!0,ox()):(Wf=!1,g_(),I_(B)))}function tx(e){var t=JSON.parse(e),n=t.vods.length;NS=parseInt(t._total),n<Su&&(PS=!0);var a=GS;DS=!(GS+=n);var i=n/xu;0<n%xu&&i++;var s,o,d,l,r,c=0;if(!zS){var u;for(zS=!0,d=document.createElement("tr"),_=0;_<2;_++)u=_?'<i class="icon-history stream_channel_fallow_icon"></i>'+va+va+f:'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+va+va+h,(pu=document.createElement("td")).setAttribute("id",VS[8]+"y_"+_),pu.className="stream_cell",pu.innerHTML='<div id="'+VS[0]+"y_"+_+'" class="stream_thumbnail_channel_vod" ><div id="'+VS[3]+"y_"+_+'" class="stream_channel_fallow_game">'+u+"</div></div>",d.appendChild(pu);document.getElementById("stream_table_vod").appendChild(d)}for(var _=0;_<i;_++){for(o=a/xu+_,d=document.createElement("tr"),s=0;s<xu&&c<n;s++,c++)r=(l=t.vods[c])._id,-1!==(l.preview.template+"").indexOf("404_processing")||BS[r]?s--:(BS[r]=1,d.appendChild(nx(o,o+"_"+s,[r,l.length,l.language,l.game,l.channel.name,l.increment_view_count_url],[l.preview.template.replace("{width}x{height}",Ru),l.channel.display_name,D+Q_(l.created_at),xM.parse(l.title)+na+Yt+p+l.game,D_(l.views)+q,H_(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.language),H+uv(l.length),l.animated_preview_url],VS)));for(;s<xu;s++)PS&&!HS&&(HS=!0,GS=o*xu+s),d.appendChild(uf(VS[9]+o+"_"+s)),LS.push(VS[9]+o+"_"+s);document.getElementById("stream_table_vod").appendChild(d)}ox()}function nx(e,t,n,a,i){return e<xu&&cf(a[0]),ax(n,t,a,i)}function ax(e,t,n,a){return(pu=document.createElement("td")).setAttribute("id",a[8]+t),pu.setAttribute(Ju,JSON.stringify(e)),pu.className="stream_cell",pu.innerHTML=sx(t,n,a),pu}function ix(e,t,n,a){var i=document.getElementById(e),s=e.split(a[9])[1];i.setAttribute(Ju,JSON.stringify(t)),i.innerHTML=sx(s,n,a),i.setAttribute("id",a[8]+s)}function sx(e,t,n){return df(n[1]+e,t[0]),'<div id="'+n[0]+e+'" class="stream_thumbnail_video"'+(t[7]?' style="background-size: 0 0; background-image: url('+t[7]+');"':"")+'><img id="'+n[1]+e+'" class="stream_img"></div><div id="'+n[2]+e+'" class="stream_text"><div id="'+n[3]+e+'" class="stream_info" style="width: 72%; display: inline-block; font-size: 85%;">'+t[1]+'</div><div id="'+n[7]+e+'"class="stream_info" style="width:27%; float: right; text-align: right; display: inline-block;">'+t[5]+'</div><div><div id="'+n[4]+e+'"class="stream_info" style="width: 59%; display: inline-block;">'+t[2]+'</div><div id="'+n[5]+e+'"class="stream_info" style="width: 39%; display: inline-block; float: right; text-align: right;">'+t[6]+'</div></div><div id="'+n[11]+e+'"class="stream_info">'+t[3]+'</div><div id="'+n[6]+e+'"class="stream_info">'+t[4]+"</div></div>"}function ox(){Uf(function(){if(JS?sf(t_):(g_(),DS?I_(L+(XS?U:F)+T+x):(JS=!0,cx(),sf(t_),j_()),u_(VS[10]),Wf=!1),0<LS.length&&!PS)return $S(),void dx();E_(IS,xS,xu,GS),TS=!(LS=[])})}function dx(){x_(LS.length);var e=GS+AS;e&&NS-1<e&&(e=NS-Fu,PS=!0),rm("https://api.twitch.tv/kraken/videos/top?limit="+Fu+"&broadcast_type="+(XS?"highlight":"archive")+"&sort=views&offset="+e+"&period="+qS+(""!==gu?"&language="+gu:""),US,2,null,rx,lx)}function lx(){++OS<FS?(US+=500,dx()):(PS=!0,GS-=LS.length,LS=[],ox())}function rx(e){var t,n,a=JSON.parse(e),i=a.vods.length,s=0,o=0,d=[];for(NS=parseInt(a._total);s<LS.length&&o<i;s++,o++)n=(t=a.vods[o])._id,-1!==(t.preview.template+"").indexOf("404_processing")||BS[n]?s--:(BS[n]=1,ix(LS[s],[n,t.length,t.language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",Ru),t.channel.display_name,D+Q_(t.created_at),xM.parse(t.title)+na+Yt+p+t.game,D_(t.views)+q,H_(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.language),H+uv(t.length),t.animated_preview_url],VS),d.push(s));for(s=d.length-1;-1<s;s--)LS.splice(d[s],1);AS+=o,PS&&(GS-=LS.length,LS=[]),ox()}function cx(){xS<0?_x():(Ef(xS,IS,VS,xu,GS),mx(VS,xS+"_"+IS),GS/xu<xS+Iu&&!PS&&!TS&&($S(),QS()),uu&&ux())}function ux(){window.clearInterval(SS),-1<xS&&GS?(u_(VS[1]+xS+"_"+IS),Tf(xS+"_"+IS,VS)):fx()}function _x(){var e=1<IS?1:IS;f_(VS[0]+"y_"+e,Vu)}function fx(){var e=1<IS?1:IS;m_(VS[0]+"y_"+e,Vu)}function mx(t,n){if(jS){var a=document.getElementById(t[0]+n);YS.onload=function(){c_(t[1]+n),a.style.backgroundSize="612px";var e=0;SS=window.setInterval(function(){a.style.backgroundPosition="0px "+ ++e%10*-344+"px"},650)},YS.src=a.style.backgroundImage.replace(/url\(['"]?(.*?)['"]?\)/i,"$1")}}function hx(e){var t;if(!Wf&&!Mf())switch(kf(),e.keyCode){case Na:U_()?F_():L_()?B_():(ux(),Zf(hx));break;case Pa:if(-1===xS)fx(),--IS<0&&(IS=1),_x();else if(xS||IS){if(R_(xS,IS-1,VS[0]))ux(),IS--,cx();else for(t=xu-1;-1<t;t--)if(R_(xS-1,t,VS[0])){ux(),xS--,IS=t,cx();break}}else ux(),fx(),xS=-1,IS=1,_x();break;case Ba:-1===xS?(fx(),1<++IS?(IS=0,DS?_x():(xS=0,cx())):_x()):R_(xS,IS+1,VS[0])?(ux(),IS++,cx()):R_(xS+1,0,VS[0])&&(ux(),xS++,IS=0,cx());break;case Ga:if(-1!==xS||DS)if(xS){for(t=0;t<xu;t++)if(R_(xS-1,IS-t,VS[0])){ux(),xS--,IS-=t,cx();break}}else ux(),xS=-1,_x();else xS=0,fx(),cx();break;case La:if(-1!==xS||DS){for(t=0;t<xu;t++)if(R_(xS+1,IS-t,VS[0])){ux(),xS++,IS-=t,cx();break}}else xS=0,fx(),cx();break;case ka:lu.Main_Before=tu,lu.Main_Go=nu,KS(),X_();break;case Ma:lu.Main_Before=tu,lu.Main_Go=Hc,KS(),X_();break;case Ia:case Ca:am("Vod_highlight",(XS=!XS)?"true":"false"),ZS();break;case Sa:case Ea:case xa:case Ta:-1===xS?(0===IS?am("Vod_highlight",(XS=!XS)?"true":"false"):4<++RS&&(RS=1),ZS()):Gf(xS+"_"+IS,VS,hx);break;case Oa:zf(hx);break;case Fa:KS(),tf();break;case Ua:4<++RS&&(RS=1),ZS();break;case Aa:lu.Search_isSearching||(lu.Main_BeforeSearch=tu),lu.Main_Go=Jc,KS(),X_()}}function px(){1===RS?(h_("top_bar_vod",Kt+$_((XS?U:F)+le)),qS="day"):2===RS?(h_("top_bar_vod",Kt+$_((XS?U:F)+re)),qS="week"):3===RS?(h_("top_bar_vod",Kt+$_((XS?U:F)+ce)),qS="month"):4===RS&&(h_("top_bar_vod",Kt+$_((XS?U:F)+ue)),qS="all"),am("vod_periodNumber",RS)}