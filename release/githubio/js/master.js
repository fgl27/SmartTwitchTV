var t,n,a,e,i,o,s,d,l,r,p,m,c,u,_,f,v,h,g,y,b,w,k,C,A,E,M,I,S,x,P,L,T,B,O,G,U,R,N,V,D,J,F,H,q,z,X,Y,j,W,Q,Z,K,$,ee,te,ne,ae,ie,oe,se,de,le,re,ce,ue,_e,fe,me,he,pe,ve,ge,ye,be,we,ke,Ce,Ae,Ee,Me,Ie,Se,xe,Pe,Le,Te,Be,Oe,Ge,Ue,Re,Ne,Ve,De,Je,Fe,He,qe,ze,Xe,Ye,je,We,Qe,Ze,Ke,$e,et,tt,nt,at,it,ot,st,dt,lt,rt,ct,ut,_t,ft,mt,ht,pt,vt,gt,yt,bt,wt,kt,Ct,At,Et,Mt,It,St,xt,Pt,Lt,Tt,Bt,Ot,Gt,Ut,Rt,Nt,Vt,Dt,Jt,Ft,Ht,qt,zt,Xt,Yt,jt,Wt,Qt,Zt,Kt,$t,en,tn,nn,an,on,sn,dn,ln,rn,cn,un,_n,fn,mn,hn,pn,vn,gn,yn,bn,wn,kn,Cn,An,En,Mn,In,Sn,xn,Pn,Ln,Tn,Bn,On,Gn,Un,Rn,Nn,Vn,Dn,Jn,Fn,Hn,qn,zn,Xn,Yn,jn,Wn,Qn,Zn,Kn,$n,ea,ta,na,aa,ia,oa,sa,da,la,ra,ca,ua="fglfgl27@gmail.com",_a="<br>",fa='<i class="icon-circle" style="font-size: 50%; vertical-align: middle; font-weight: bold;"></i>  ',ma='<div class="about_text_title">',ha='<div class="about_text_title" style="text-align: left;">',pa='<div style="text-align: left;">',va="",ga="",ya="",ba="",wa="",ka="",Ca="",Aa="",Ea="",Ma="&nbsp;";function Ia(){va=e+" (C)",ga=n+" (D)",ba=a+" (A)",ya=i+" (A)",l+=Zt,r+=Zt,I=ia+oa,wa=ma+e+"</div>"+ma+Ae+"</div>"+_a+pa+fa+xe+_a+fa+(Pe+=Yt)+_a+fa+Le+_a+fa+ca+_a+fa+Te+_a+Be+_a+fa+Oe+_a+Ma+Ma+Ma+Ge+_a+fa+Ue+_a+"</div>"+_a+(Aa=ma+ke+"</div>"+pa+fa+nt+_a+fa+$e+_a+fa+et+_a+"</div>"+pa+fa+tt+_a+fa+at+_a+fa+it+_a+_a+ma+Ce+"</div>"+pa+fa+ot+_a+fa+st+_a+fa+dt+_a+fa+lt+_a+fa+rt)+_a+_a+ma+we+"</div>",ka=ma+be+"</div></div>",Ca=pa+_a+Re+_a+(vc?_a+'<div style="display: inline-block; color: #FF0000; font-size: 110%; font-weight: bold;">'+Zn+"</div>":"")+"</div>"+_a+ma+Ne+"</div>"+ua+_a+_a+Ve+_a+De+_a+_a+ha+Je+"</div>"+pa+We+_a+fa+Fe+_a+fa+He+_a+fa+qe+_a+fa+ze+_a+fa+Xe+_a+fa+Ye+_a+fa+je+_a+Qe+_a+fa+Ze+_a+fa+Ke+_a+ma+we+"</div></div>",Ea=mt+_a+fa+ht.replace("link_link",'<div style="display: inline-block; color: #FF0000; font-size: 110%; font-weight: bold;">http://tiny.cc/twitchkeycode</div>')+_a+fa+pt+_a+fa+vt+_a+fa+gt+_a+fa+yt}function Sa(){eu=!1,document.getElementById("side_panel").style.width="17%",t="Refresh:",n="Search",a="Settings",e="Controls",i="About",o="Hide",s="The text you entered is empty.",d="The search result is empty.",l="Switch screen",r="Switch user screen",p="Switch: Past Broadcast or Highlight",m="Switch: Period (24h, 7d, 30d, all)",c="Go to ",u="User ",_="Live",f="Games",v="Playing ",h=" for ",g="Watching time ",y="Since ",b="A Game",w="Type your search...",k="Type your authentication key...",C="Type your user name...",A="Press Enter or Select key to, ",E="Channels",M="Channel",ia="Back to previously screen: Back key",oa=" twice",S=" has ended",x="This video is only available to subscribers.",P="Connection failed, unable to load content hit refresh to try again",L="No",T=" for this ",B="Connection failed, unable to load video content exiting...",O=" Past Broadcast",G=" Highlight",U=" Clips",R=" Content",N="Streamed ",V="Duration ",D=" Views",J=" Viewers",F="Click again to exit!",H="Do you wanna to exit Twitch?",q="Exit",z="Close",X="Minimize",Y="Cancel",j="Not Live | ",W=" Channels Live",Q=" Hosts Live",Z=" Games Live",K=" Followed Channels",$=" Add User",ee=" Remove User",te="User doesn't exist",ne=" hosting ",ae=" already set",ie="Make First",oe="First user can fallow (when providing a key) and see live channels feed outside of the user screen<br>",se="Add a Twitch user to display it's Followed Channels content here",de=" (24h)",le=" (7d)",re=" (30d)",ce=" (all)",ue="Jumping",_e=" to ",fe="Jump Canceled",me=" , jump time bigger then duration",he=" Sec",pe=" Min",ve=" Hr",ge="Source",ye="Version: ",be="SmartTV Twitch",we="Press back key to close this.",ke="Player Related:",Ce="Chat Related:",Ae="General Related:",Ee="Update",Me="Current installed version ",Ie=" latest available version ",Se="This are the none players related controls, the player can show it's own controls.",xe="Play a video: Navigate using Directional pad (up/down/left/right), press enter to start playing",Pe="Refresh screen content: ",Le="Exit the application: from side pannel click exit",ca="Force close the application: Hold the back key for 5 seconds",Te=" Switch screen: Back key then D-Pad left or right",Be="Some screen will change its internal content (channel past broadcast or clips for example) instead of changing to another screen",Oe="Start a search: from side pannel click search",Ge="After writing the search text press key Enter on the virtual keyboard then choose a search option",Ue="About this application: from side pannel click about",Re="This is a SmartTV Twitch client develop by a individual on his free time, for TV's that don't have access to a good official application, released for free to any one that wanna to use it.",Zn="This version of the app is for test in a browser only!",Ne="Developer information:",Ve="This is an open source application licensed under the GNU General Public License v3.0, check it on github",De="github.com/fgl27/SmartTwitchTV",Je="This application uses following dependencies:",Fe="Nightdev KapChat - KapChat captures Twitch chat directly into OBS or XSplit (https://www.nightdev.com/kapchat/)",He="Fontastic - Create your customized icon fonts in seconds (http://app.fontastic.me)",qe="Twemoji - A simple library that provides standard Unicode emoji support across all platforms (https://github.com/twitter/twemoji)",ze="UglifyJS - is a JavaScript parser, minifier, compressor and beautifier toolkit (https://github.com/mishoo/UglifyJS2)",Xe="JS Beautifier - Beautify, unpack or deobfuscate JavaScript and HTML, make JSON/JSONP readable, etc. (https://github.com/beautify-web/js-beautify)",Ye="HTMLMinifier - A highly configurable, well-tested, JavaScript-based HTML minifier (https://github.com/kangax/html-minifier)",je="JSHint - A Static Code Analysis Tool for JavaScript (https://github.com/jshint/jshint)",We="Web:",Qe="Android:",Ze="Google: Leanback v17 (https://developer.android.com/reference/android/support/v17/leanback/package-summary)",Ke="Google: ExoPlayer (https://github.com/google/ExoPlayer)",$e="Show information panel: Press enter key or D-pad keys if chat and live channel feed is not showing",et="Close the video: press back key twice",tt="Play/Pause a video: open information panel and click on pause simbol (not available to Live streams)",nt="Show user live channels feed: D-pad up",at="Change video quality: Open information panel, , navigate using use Directional pad (left/right), then use Directional pad (up/down) to choose the new quality after press Enter key to confirm the change",it="Force refresh a video (in case it freezes): Change video quality to the same",ot="Show or hide the Chat : D-pad right",st="Change Chat position : D-pad left",dt="Change Chat size : D-pad down",lt="Change Chat background brightness: Change in side panel settings",rt="Force refresh the Chat (in case it freezes or doesn't load): Change video quality to the same will reset and sync it",ct='Start a search: open information panel, navigate using use Directional pad (left/right) to "Search" and press enter',ut="Chat and video (Side by side): Color button red (A)",ta="Force disable the chat",na="with this the chat will not load content, this is useful on a stream with too many viewers were the chat can lag the app.",_t="Update available, check google play store",ft="Adding a key allows the app to access live user content faster, fallow/unfallow channels/games and access subscribed only past broadcast (for channel you are Sub to and block VOD access to none subscribers) <br> <br> In doubt read this link  <br> <br> https://github.com/fgl27/SmartTwitchTV#authentication <br> <br> add key for",mt=" below, fallowing this steps:",ht="Access the site link_link (using a computer or a smart phone)",pt='Click on the "Authorize" button it will take you to main Twitch.TV authentication site',vt="Login to Twitch.TV using the user name you are trying to add a key for",gt="Click on Authorize button of Twitch.TV site if you agree with the requested permissions",yt="The web page will update and show a key code, the key only has lower case letters and nubers.",bt=" Add Authentication key",wt="Key added OK",kt="Key test fail, it's needed to add new one",Ct="Key test return OK",At="You try to add a key for user ",Et=" but this key is for user ",Mt=" Following",It=" Follow",St=" And you have not set a authentication key the app can't check yours sub status.",xt=" And you are not a sub of this channel",Pt=" You are a sub of this channel but the app fail to authenticate contact the developer email in about",Lt="Fail authentication check with the provider key, please check and try again",Gn="The added key doesn't belong to the user ",Tt="No user",Bt="Set a user and a authentication key to be able to fallow/unfollow",Ot="Restart the",Gt=" Clip",Ut="Channel content",Rt="Network is disconnect, the application can't work without INTERNET",Nt="Network connection reestablished",Vt=" Followers",Dt=", Can't fallow or unfallow ",Jt="Game content",Ft="Yes",Ht="Are you sure you want to remove the user ",qt="Press Up to ",zt="Followed Games",Xt="Change between",Yt=" Back key then Enter",jt=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"],Wt=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Qt="Started ",Zt=" (PG Up/Down)",Kt="Videos",$t=" Video",en="Replay",tn="exiting in ",nn='press "Return" to exit',an="Featured",on="Created ",sn="Open the Broadcast",dn="No Broadcast",ln="There is no Past Broadcast for this clip",rn="And because of that no chat",cn=" is now",un="Open the Hosting",_n="Player related",fn="Buffer size:",mn="A lower value here will make the player to start playing sooner, but it may cause re-buffer with will cause the player to pause to buffer.",hn="Live streams buffer",pn="Videos (Past Broadcast and Highlight) buffer",vn="Clips buffer",gn="General related",yn="Language",bn="Chat: Connecting to chat server..."+_a+"Chat: Connected."+_a+"Chat: Joined channel ",wn="Play from the start or from where you stop watching last time?",Cn=(kn="From:"+_a)+"Start",An="Chat: The Chat has ended!",En=": Most recent",Mn=": Most views",In="Set a authentication key to be able to see fallowed videos",Sn="Switch: Most recent or views",xn="Enable",Pn="Disable",qn="The app was closed willing playing, restoring playback",Ln="Restore playback",Tn="When changing apps, the app may be closed by the system to free memory. In this case the app saves what it was playing and restores the playback when reopened",Bn="Chat font size",On="Change the chat lines font size, applies to text and emotes",Un="Videos animated thumbnails",Rn="Side panel: Back key twice",Nn="Size ",Vn="Brightness ",Dn="Forbidden content, this Live must be for Prime only subscribers or lock to Twitch official app only",Jn="Jump step ",Fn=" seconds",Hn=" minutes",zn="Clock offset",Xn="Application language",Yn="Content language",jn="Press enter to change",Wn="All",Qn="Empty game fro this",Kn="Isn't possible to jump during a buffering",$n="Chat is disabled, enable in side pannel settings",ea="This clip/video fail to load can't replay",aa="Chat backgroung brightness ",sa="Play Next",la="Playing next in ",da="Play All",ra="Auto Play next clip"}var xa="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAeEAAAKgCAMAAACbeDVoAAAAM1BMVEU3NTZoZ2eura6enp4+PD1MS0vq6en09PQ0MjPy8vJ9fX1YV1jT09O7u7vf3t+NjY3GxsZnLAeWAAAI3UlEQVR4Ae3d7XabOrcGUPEBWguMzf1f7dltd3u6Q1rHNk5I3jn/NmPYo48lJC1JFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgf0+UoenatpuGEuUdRD8009S806cR/eWU9bs8d0M8/eOmZazfjcvUR3kuYmiz/m6Z46n5dmP9zdjJ+Ln6NusLuQ7labqxvpBdX3iaaayv6cpTxJT1FTlF4Sn6Jeur8vSErjqGP37c0hf2F/Op/tHY7d+Az/WPznMUdhbNWP8iT0M8rb/YGvXUT34Eb2VO8ayf01bmJQo7ikvWq9a+7KStV2UX5X0JuOZOfed8zvoGIn72tGUrs91xDizijx9kbWQ9NVEeMpzq1nOf/Mxjfbts+/KALuuWEfVz9ed6ixzvb8bzueZNHzUXHneut7pvbhzDmvVG2RceFEvWm41dH/dUkW6VeSo8Ji51a/+Mo+/O9S5tFB4xZ73TeMPugG37NaA+4ChrI5emRLkmytxmzXovo61HxFIfktldqwIN3Vgfcyrc7ZL1UTkuTf+Hptw3y5h1490exQxj3cV4Wi7N0JcSP5TSD81lOY1Zsz4ssyncJc51T3k+reuyLOt6OmfdUY594R6Xenz66QcMWT+NptyMONWjOa/rWF917gt3FP0P5dSU+Ec/nfXTu+jHeiCZXfkhonRp3eNx0dYjyUtc6V5OhZs0WQ8k27i2Uy8vhR2KwvPwU31Hm4FUPz5WKia6+rooP9V3tN0529WNXKLwVn0eKuE6lxeaupVD4a26eqyE+/JCX1+hEb/ZkMdKOMvGIytbxFIP1obLS/0jlWLmerSEh/LCUF81Fd5iPVzC09vKXnkuvEGTh0t4jfJfp7px/7KHmtLHJ5xTbE7K3VtjosnjJVzHeXOQ6s5GTJzrARPOcX7bSbksV9DkEROuWf89RBF9d9ugbMtT+BAJ5zLN8zytWX8a10vTXNYx679y/f4nS9bfjIW/mushEs5liJ8HEutPmfV3668/WVIjfqtYDpHw+HvBv71ab4ou6095KvzFkEdI+L9XKcWa1/YERJdWp9+mqx+e8HaBoz9fX71alZjepB/vr9UMzysHT3Wj+fP4IefyNrZ25AclfIrNGdfrC9CnO3bW2p01f0zCXVwd/7Xxlx/n2BfettrxQW14ur61tysvTfX/Xcp1VjuOlHC5MeExypuYKs3l7fqh7uUS19vwJsOLA8XXtXmMNryd7pyuFoxj2f4zL0TWeoix9Nhf61wyh7/u/82+bNHUbz5+LL3ppmO5etYwLvdUmCxJN/FS+SVemutuxuFaQTPHpvwm5nE7peb6BtWPWLXcbsYZ8uqvYDhf3Z1ZmI6TcNZxjmtbErKJ8kM0eX08TqwfmPBWLnOJiL5Zs/4ynk5j/SXX739S5iWvr3wSQx4q4Zp5/nEtU9YfzlMf/xgu5/pDfr/YYz1n3VJ+2Jrqxye8kb9fPR/lu+iXvH1xm1iPk/CVwCLadNvlzYbcM+Fc2hfW+kKu2z/4syVu+jluTxMz1V0Tvj4Xy/6GBZOxv/3Cza6waRX7JRx7Jrx9qEZ74z4C+nHPhHOTcDyW8PaWhxsXxmjy0G24Ly/0N5aZWeqR2/D1Wx6uHCYmxnroNnzXInoWfhny2G346i0PV5a1mPLYbXgqL0w3nZwg1vrMNvx4wpt9PetN+66JrDu34aF/Yd72of1/NPUvsrlr6F/4IYb6Vs0v9V2dh/983/G20zE09e3yu5r1fY3DHS8JuhR+6Orh5TiV76JMY972ChfiXD+DU9cMQ9Odsr7VGIVv+vo55J132jLXr2oufDPVr+pS2J4L//QMtTbW+lWdCt+M9avKvhRiqF/XUEphrl9XU9gczDSY/nLa+nW1UYilfl1rFGKt9UtPlzjXr+tcCv1Yv66xL1sODu8sx7W7TM089P8opfT/GOZmmrr1/PTPHgpzfZpx7aa5j3+UiPJClBIR/Tx161ifZi409Rny1E7Dt1yv+pb/MLWntOTxaRLO8/It3XKDiOib5Qmd9lSY6q5yXOYSJcqt+hJlbsfcO2EudUfZzVEeEXOXdUddoat7ybUpUR4TJUqz5AETlvDYDVH2EUM31n20hbbu4dz1UfYSEf3lvFPCtHu+4mxHfZsS3kO09WFjE2V/0YyHSFgbzqU8y5Ifn7C9tOMU5VliGo2lP3o+fJ6jPNF8so3nY9e01r48U5R+sab1gQnnUp5vyY9KWPUw2yhPF9FmvVc2haHeK7so7yEuWe81FPp8/EXfTxZT1rtk9qVwrnfJKUo5esTnUojT429yf747Iz5FIZYjBrxxyXtfoUh3xEHWRnR555IWzSED3ojORrw7DZ/kwFe0d06WGOuNloPec74xFu4Zap368iGiPxlovcMR8Rz78lH6MVWWbhfz5zkKNIzPPtPiQTw25SM1o8fwkwepl/jgR0rePuSn+UT/adGaDT/xLQB5+kzr6Fn4qf1MR+r7USf9rPct5fClv60KYk6f6vVQ5yj80uRn6vWiS1u0bhTr57qbalX8378Rj0M5jmHUhHcvPzRRDqRRdLhRXGsVXXym41bbHoeYPtkFkaf6N1MUXloP1yTufxSvha1+PPRMeGMa9dG36efxjjP+B6wkZjblVczn+pq2L8fUt/U157lEeQ1Rpk3GYztEOaoY2nGT7+Wv+dK056z/ynPb9FGOLPqXX/h6vgzNpW3b7tIMJcrxRRmaqWvb9sYvTET5JKIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAF/F/wGK2iVvT89ySQAAAABJRU5ErkJggg==",Pa="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAMAAABrrFhUAAAASFBMVEVHcEw1NTXb29swMDB9fX1DQ0NeXl5RUVFtbW3m5ubT09Pg4ODKyso7Ozufn5+9vb2urq62traQkJClpaWJiYmYmJjCwsLq6uo9xg8yAAAAF3RSTlMACeoDbBxBLlX54PHUEZnCrbiFonuQyd/Z9QoAAAhdSURBVHgB7MGBAAAAAICg/akXqQIAAAAAYO7qJdtSEIbC8AKREB4icI57/jOtzm1Ur1ZdFRO/GfxxqzdbTFnJex9+eO9pLWZ5fbgpFFwf7cg2MeNvnGw+2uguUDFvfOaFQt+zZfwT27z3QOU9ezDkvtUy/gvb4+vIvCF+RMYvcRyqj7CGLTNO4ryFVWM9uZZwkdQcqatnXIqrnhusP/VX4+YUvAuL3yxuYze/CH/4FTergmdAPWKC2Enk9mkkTJKGF9fvd8ZEvHth+ZhO0AloQr7gE9BgPIQHPZ5fPhYPsp/ybH/IeFgOT66/QYBGD+UvLkEE+1me6PcVYlQ/Pd90hiDczdx+qhCm0sx+lyBOctPy1x0i7eucfh8hVPRT5s8Qi93t+WWDaFu5t58OCHeQ3Ndf/4cgJCiQwl39Dkp8bslfvlDju1zfbwYUGeby/h2q7BdfoDQo08ql/RXq1CK6f4Kj6N+/jA2YBqWa0f/9F/AvGFBsnO/vUK2f7XdQzp3rDwzlOJzpJwv1Ev2+f424EScb83HkaNOf9u5Ex3EQCQPwjznA+D7sev83XWnVGu1oZ9Jp8pcTNP4eIN2xOaqgCK0oyh6F7CJKunPbU/SDMdYaM/iY9u3sPi4cOERFHpO3ACx+Y30as6g4UCSJgnwEg78y4ciiIKFA7IRucgO+MbjpIwZCa3phW8Lbas76AT81CtmU8LQ0Cdn47gEgpzcXH6X3RgCbxw/5Tagajx+wM/v1F0hZmJb3pUCLRxG/vCktsr75jF0Ke7ypE8wfs2XvWuGZ+TOA/k5laq6fCYYsNF3Ai0J3eV44ftL3hw3dxeFQbLXa//urEtqI7y3vX43SW5dbLh0BHUjcheMgMQncQLMJS28ue9inAY2ZriqfGZrr465rY9NmwCM7v7NxpGv2ingPegbZfEnTXN/fAfTfzXrFH0mgS0LSef0GMEHBJCSrfhYUoCCoTwSOPAJ+7DjolIPANkJFbHXDwcSPgclG3TF6+vAGQGwCk8X/i0KyQM0iJEG/fWmwSUhGxTSoN1Bjer2Z0AnJDkW7kLjKhkD+MKj2ySdUTUIStdKAHap2pYTAfnoUyI8GrU6icVqosqeQBJ0ecEDZISSrSg+QBGVJZYE86O89scRWow+s7MdaQTAoq8bsukHdprBu5zshcVDnFBZHk7AkaLMa/+wmLBHqYkvvrybzWxUfv79mw14LkmygzmR6e3XCMuECi7A4elXUjAvM7Jopyy4K0Q8EuBmhb9mPVNcoLK1nl0UduMAhNIl9OniFPv7/OwvNjgvs5PJp29f3AKjJq+/q6wLUyDXIvzsISiAfjxlrewCO/HnXBELkJjuLVJwLEKaBU8ijqjLbC88J2Cw8zQBt1jTCkw11FpT2ohUhZjYQhSlBXRKmiCBMDuqcMCXyAz2g7hCmRH6gE9RN5Ca7C1PnocsOjTDtOIQqQFkQqgOzUO1QtgvVjEnqGgQW9v97ClUb1feFqHr0UlUfSMLVI0tVfWATroxGauoDvhGuBo2QOShyQtaglZr6wCRkLYStDaqpMBtaYZuhZhS2Fp2wtVExCGDr0AjdBiWr0DXIUk0T8I3QZWThG6tpAJLRC1/nwWd9J3w9JlGwKUXBfBNm0ZBAl0TDjFE05AFkQxYNI1ZRMYJsFBUrnOgIGh2Az6l9cj8odAA+hyBKNoUOwJcQW1Gy1nDPXcTQiRYHktCKktZz6wN0VgZiI1oaAyyipokg8FnU9BYYRU/v8TLfi54FwC6K+sj8/nwjf4Ql3wEbe/VbiIKo6tIn3/ObHqy0srSOess9f+3KZFG2WhSxqyjLBgBm0TZFFIiLaFsKSg6KNA4/5hpRdxRkmoWWSHj9dKlgu6FUe3g8zR+tFChdvz/lEt0R8ZR4NHKJbIqS7XLdGPGtOHZykfn6WyXbxXk84N3cymV2pU3ndhoffGIzJ2/xB9a7uZErBf6BdJFucfG7SxG6c3TBG4sv1vjgxrOTB9p979XW7md+C49ZvtH05zKP6zpuy9Q3zyRVJqy9TiGDE4pzj/hirT+F6Pz6ZBPGRlgctfKkGYPF/xpGodkG/DK4paX/4MkpLzqd17sjqHMqgUJvaBXISzJF8Wx5KuX3TD3cEeUFc8Df2L2TF7W7xZ8M7iTuYNue/vW/xFntmk6bet4G9qp3jWg6pVif8HcWxvWsrbsgJc6EJxiXpUh2Bt8Y9obQAwqDwewsnjOUvKneeTwhboQeUJQRjh7PM2n6aeMyeFI4GRUcidL6H7BhzD+4nNvieaZkrgmv/VDjOuDnhrQ18q1mTgN+KE4lm4K/c5ds9/i0Tg9eVzcdyaOA2dtXixd8V3CJcOlD2Kbcym/a5tzW5C1Khf7Vat6xYKenmB1icm5fj3E81t25FAeL1/j5xZL+oNz89e3ytFR8HOX0+Fg2dT9LBAuGwc1An/5m8l5aizfiw8X+lavgDvXCN33+lO8dhWeydnw+O5zynS6W1WOuqII/y2tYY/e43dTB9+VHmo4Hj82iFj7LI3PRsZzFoB6hK2gAj5tA9qiJK65i941q1e9ljoIp4NHqqENl7FQ6lv+xCSyoTuxK7wPeH7ea2oeBveR0jkOF7FL6i4/pwf2UFXgc2KeSI6oBdRpLBzPfPA6cauGb0sHMPQ6camH30nTWTg8Cp4qbwGlKxo+Aeo3F4eyqf3/g9RPBUXSjmUPNluLDzKG94JeS9bnyfG6vcg58sN+3l93m41C3pTyc9VkvCLi+DzSx7Mj2icpF+a82FT69EZUbmld2NGZxqN3ySjTrc0Ltjq8QuEz0qJ17aUXbonY2SRvwL0vi8E8LB/5txuKX2+12u91ut9vtdrvdbrfb7Xa7/Qf0wSAxhEqDGQAAAABJRU5ErkJggg==",La="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAhAAAAEpBAMAAAAwswZCAAAAJ1BMVEU3NTbV1dU2NDXU1NTDwsOrq6t9fX1IR0dwb3DNzc2cm5xbWlqPj4+TNW2cAAAFhElEQVQYGe3AQYud5R0F8MPhzoxSN4d/buoUgcODtIFs+jCmaUqAuQ1RJJuZFAR3mUHE5TBqQFc3iUHcdVpQoZsE0GxjAcFdRPRz9b2ZmbTfoHKf80NERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERExK8VCRj4/pu3+7Wb3z4FTDQSoyGAhrvvSjt9p/ftd45oA8ZobBgPS6UuqaT5kmgwhtOI99Sl0pkLd4hGjIbAZ+ol9dJKV7+wJInRGB9rRypJpZUuzY9gjIaXTkqnuiZVkr4GMZyf9F9dz9XOM2MoBDa6ulZu/vLB+z8v9Fyfw8Q4GoC/qST1K5/DNLce7qg02SOMcTRuaKXePCZt2r57QyVpDsMYhYl9TepLwM1strl5opK0RwzEr0hd/S/HaECzG0x/qkm9ZoyDuKdS3z60TRiECeILqaT7GEf7w4mk+pdJ2IRNE758Q5OvQAxjo0r9wpEJm2ggCAMfdUlzGCOwDdxTL71lGyvGma2FpL4kRkCCXnRp+ylIwAZxhj9Iql0MwSQ2u6Q/22g0YOLcpa7SRWIINmaaPCII04Zxhnws6Q0MoQF+oNL2MWgQ/8v4pKtriSE0cl/Sn2DDvnzjiXGO/r2kuo0REG2rS9q1TWBD20vjDImF1K9iBCY2u6RDkEB7vff5Mc4RB5IuYgQkNiTVkU0AM0nXQRIGYH8o6YqNARgvl3SFhAHMJO3csk2CJje6+jZpY/35u6561Q0EMCup9ASECRgvSb0/bVh/BA4kXaWJyUxV0rUlCJPwliaHILH27MeSdg0YwEwrNT8GSQNcqPSIJtadwX1V7YEwgJl6SerXYRgE96W6DRprz15U6RnRDGBWmpR2bsEkgB8l/RUmBrBQ1aGNlZm6VFLVIzYYOOhVu2DD2iNOJN3BqZnOzWE24KCkfxAjsEq6j1MznSkBBvBA0h8NY92RPJF0B6dmWilJc9hoOJD0d2L9uXEh6RCnZnqudz1qNMGDLu0SxAAWJT3DqZkmXTt1iyQM/yj1XWP9kdyXdBunZpqU6jpgw8C+pD0YA/Bjde3i1EzPzY9IA7AXkh4Zxrpj44Gk3+LUTCvbSxgAiS1NDgli/fE7Sa8CNoGZ1KUnMCYNfklS/dvG2qPxclefG4DJmaR+iyBW3DZK/RpIjGCjtLNzZJjNr6t0HTZWTHyoXnOYWHsENlXSIQnbs9L8CMZzpA+qdLEBxtqzt3ov7ZpoxIa2lyBNrBgLSVdBE2uPwL56vwibxuUbTwgYxoTc7JL2CBLrjjDuSbV9BBiTRtAwJsQnpd6XJIy1Z2AmqT8iCJuwQeLUY0kXYDRiBJuavArAJs4QJF7S5CKG4UXv2n7KCc6ZJn+Q1HeJYTyQVG95ghdMby2kqiXGsdGl/sYRDeMMQX7UJc3RMApvnah33QKIF+zf3ChJX9kYBXFPKm0vDeJMg79QV+/3QYzCeEUrvzu2ca59Kqn0mhuGwYb9Lqm+hHGmbZ5IJe3BxjCIDUldevOoGbaBu4veJc0BG6MgiH2VVHXlczebWw+7ulTaA2yMZENSL/W6+csH7/+86L2rSnOCGIhN/KRJl0qTLqmkemYY4zAml/6pF7omvfQ12TAQT+CPpR1JvdQ1qdL8mMRISNjAZ12lKvWSVOoXljAaBmIQJP2epNK5C3cAYkwPe5WkrpKuLI1RkXff7ZJK2n7nyMawDHz/zdv92s1vn8LEsIyJG2iCjRiXbYBAA0xjWAZhAAZAgxiX2QgbhpuNcRGACcAgIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiLi/+Y/XKfZaw0ONrwAAAAASUVORK5CYII=",Ta="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",Ba=51,Oa=52,Ga=179,Ua=37,Ra=38,Na=39,Va=40,Da=13,Ja=49,Fa=8,Ha=13,qa=32,za=46,Xa=0,Ya=5,ja=1e4,Wa=0,Qa=!1,Za=!1,Ka=!1,$a="",ei="https://fgl27.github.io/SmartTwitchTV/release/index.min.html",ti="elsu5d09k0xomu7cggx3qg5ybdwu7g",ni="https://id.twitch.tv/oauth2/token?";function ai(e){qc.Users_Position=qc.Users_AddcodePosition,Wa=e,Si(),e_(),li()}function ii(e,t,n,a){var i=new XMLHttpRequest,o=ni+"grant_type=refresh_token&client_id="+encodeURIComponent(yu)+"&client_secret="+encodeURIComponent(ti)+"&refresh_token="+encodeURIComponent(ji[e].refresh_token)+"&redirect_uri="+ei;i.open("POST",o,!0),i.timeout=ja,i.ontimeout=function(){},i.onreadystatechange=function(){4===i.readyState&&(200===i.status?si(i.responseText,e,n):-1!==JSON.parse(i.responseText).message.indexOf("Invalid refresh token")?(ui(),a&&a()):oi(e,t,n,a))},i.send(null)}function oi(e,t,n,a){++t<5?ii(e,t,n,a):a&&a()}function si(e,t,n){var a=JSON.parse(e);di(a.scope)?(ji[t].access_token=a.access_token,ji[t].refresh_token=a.refresh_token,mo()):ui(),n&&n()}function di(e){return-1!==e.indexOf("user_read")&&-1!==e.indexOf("user_follows_edit")&&-1!==e.indexOf("user_subscriptions")}function li(){var e=ni+"grant_type=authorization_code&client_id="+encodeURIComponent(yu)+"&client_secret="+encodeURIComponent(ti)+"&code="+encodeURIComponent(Wa)+"&redirect_uri="+ei,t=new XMLHttpRequest;t.open("POST",e,!0),t.timeout=ja,t.ontimeout=function(){},t.onreadystatechange=function(){4!==t.readyState||(200===t.status?_i(t.responseText):ri())},t.send(null)}function ri(){++Xa<Ya?li():ci()}function ci(){t_(),u_(Lt),window.setTimeout(function(){__(),Wc=0,x_(),qc.Main_Go=Oc,window.location=ei},4e3),ji[qc.Users_Position].access_token=0,ji[qc.Users_Position].refresh_token=0,mo()}function ui(){nI=!1,t_(),u_(Lt),ji[qc.Users_Position].access_token=0,ji[qc.Users_Position].refresh_token=0,mo(),x_(),window.setTimeout(__,4e3)}function _i(e){var t=JSON.parse(e);ji[qc.Users_Position].access_token=t.access_token,ji[qc.Users_Position].refresh_token=t.refresh_token,Si(),fi()}function fi(){Yf("https://api.twitch.tv/kraken?oauth_token="+ji[qc.Users_Position].access_token,ja,0,null,mi,hi)}function mi(e){var t=JSON.parse(e).token;if(t.user_name&&-1!==t.user_name.indexOf(ji[qc.Users_Position].name)){if(mo(),Wc=0,t_(),nI=!1,qc.Main_Go=Oc,x_(),u_(wt),Gu)try{Android.clearCookie()}catch(e){}window.setTimeout(function(){window.location=ei},3e3)}else ji[qc.Users_Position].access_token=0,ji[qc.Users_Position].refresh_token=0,u_(Gn+ji[qc.Users_Position].name),window.setTimeout(function(){__(),Wc=0,x_(),qc.Main_Go=Oc,window.location=ei},4e3)}function hi(){++Xa<Ya?(ja+=500,fi()):ci()}function pi(){Si(),Qa=!1,vi()}function vi(){var e="https://api.twitch.tv/kraken/users/"+ji[qc.Users_Position].id+"/follows/channels/"+$a,t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=ja,t.setRequestHeader(bu,yu),t.setRequestHeader(wu,Au),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?gi():404===t.status?yi(t.responseText):bi())},t.send(null)}function gi(){Qa=!0,Ka?Pg():xd()}function yi(e){-1!==(JSON.parse(e).error+"").indexOf("Not Found")?(Qa=!1,Ka?Pg():xd()):bi()}function bi(){++Xa<Ya?(ja+=500,vi()):Ka?Pg():xd()}function wi(){Si(),ki()}function ki(){var e=new XMLHttpRequest;e.open("PUT","https://api.twitch.tv/kraken/users/"+ji[qc.Users_Position].id+"/follows/channels/"+$a,!0),e.timeout=ja,e.setRequestHeader(bu,yu),e.setRequestHeader(wu,Au),e.setRequestHeader("Authorization","OAuth "+ji[qc.Users_Position].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return Qa=!0,void(Ka?Pg():xd());401===e.status||403===e.status?ii(qc.Users_Position,0,wi,null):Ci()}},e.send(null)}function Ci(){++Xa<Ya&&(ja+=500,ki())}function Ai(){Si(),Ei()}function Ei(){var e=new XMLHttpRequest;e.open("DELETE","https://api.twitch.tv/kraken/users/"+ji[qc.Users_Position].id+"/follows/channels/"+$a,!0),e.timeout=ja,e.setRequestHeader(bu,yu),e.setRequestHeader(wu,Au),e.setRequestHeader("Authorization","OAuth "+ji[qc.Users_Position].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(204===e.status)return Qa=!1,void(Ka?Pg():xd());401===e.status||403===e.status?ii(qc.Users_Position,0,Ai,null):Mi()}},e.send(null)}function Mi(){++Xa<Ya&&(ja+=500,Ei())}function Ii(){Si(),Za=!1,xi()}function Si(){Xa=0,ja=1e4}function xi(){var e,t="https://api.twitch.tv/kraken/users/"+ji[qc.Users_Position].id+"/subscriptions/"+$a;if(Gu){if(!(e=Android.mreadUrl(t,ja,3,ji[qc.Users_Position].access_token)))return void Pi();if(200===(e=JSON.parse(e)).status)Za=!0,Fy();else if(422===e.status)Za=!1,Jy();else if(404===e.status){if(-1!==(JSON.parse(e.responseText).error+"").indexOf("Not Found"))return Za=!1,void Jy();Pi()}else 401===e.status||403===e.status?ii(qc.Users_Position,0,Ii,Li):Pi()}else(e=new XMLHttpRequest).open("GET",t,!0),e.timeout=ja,e.setRequestHeader(bu,yu),e.setRequestHeader(wu,Au),e.setRequestHeader("Authorization","OAuth "+ji[qc.Users_Position].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState)if(200===e.status)Za=!0,Fy();else if(422===e.status)Za=!1,Jy();else if(404===e.status){if(-1!==(JSON.parse(e.responseText).error+"").indexOf("Not Found"))return Za=!1,void Jy();Pi()}else 401===e.status||403===e.status?ii(qc.Users_Position,0,Ii,Li):Pi()},e.send(null)}function Pi(){++Xa<Ya?(ja+=500,xi()):Li()}function Li(){Za=!1,Jy()}function Ti(e){Si(),Bi(e,0)}function Bi(e,t){var n,a="https://api.twitch.tv/kraken?oauth_token="+ji[e].access_token;if(Gu){if(!(n=Android.mreadUrl(a,3500,0,null)))return void Gi(e,t);200===(n=JSON.parse(n)).status?Oi(n.responseText,e):400===n.status?(Si(),ii(e,0,null,null)):Gi(e,t)}else(n=new XMLHttpRequest).open("GET",a,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){4===n.readyState&&(200===n.status?Oi(n.responseText,e):400===n.status?(Si(),ii(e,0,null,null)):Gi(e,t))},n.send(null)}function Oi(e,t){var n=JSON.parse(e);n.token.valid?di(n.token.authorization.scopes)||ui():(Si(),ii(t,0,null,null))}function Gi(e,t){++t<Ya&&Bi(e,t)}function Ui(){Si(),Ri()}function Ri(){var e=new XMLHttpRequest;e.open("PUT","https://api.twitch.tv/api/users/"+ji[qc.Users_Position].name+"/follows/games/"+encodeURIComponent(qc.Main_gameSelected)+"?oauth_token="+ji[qc.Users_Position].access_token,!0),e.timeout=1e4,e.setRequestHeader(bu,yu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return Oo=!0,void Xo();401===e.status||403===e.status?ii(qc.Users_Position,0,Ui,null):Ni()}},e.send(null)}function Ni(){++Xa<Ya&&(ja+=500,Ri())}function Vi(){Si(),Di()}function Di(){var e=new XMLHttpRequest;e.open("DELETE","https://api.twitch.tv/api/users/"+ji[qc.Users_Position].name+"/follows/games/"+encodeURIComponent(qc.Main_gameSelected)+"?oauth_token="+ji[qc.Users_Position].access_token,!0),e.timeout=1e4,e.setRequestHeader(bu,yu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(204===e.status)return Oo=!1,void Xo();401===e.status||403===e.status?ii(qc.Users_Position,0,Vi,null):Ji()}},e.send(null)}function Ji(){++Xa<Ya&&(ja+=500,Di())}function Fi(){Si(),Hi()}function Hi(){var e,t="https://api.twitch.tv/api/users/"+ji[qc.Users_Position].name+"/follows/games/"+encodeURIComponent(qc.Main_gameSelected);(e=new XMLHttpRequest).open("GET",t,!0),e.timeout=1e4,e.setRequestHeader(bu,yu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState)return 200===e.status?(Oo=!0,void Xo()):404===e.status?(Oo=!1,void Xo()):void qi()},e.send(null)}function qi(){++Xa<Ya?(ja+=500,Hi()):(Oo=!1,Xo())}var zi=0,Xi=5,Yi=3500,ji=[],Wi=null,Qi=!1,Zi=!1;function Ki(){qc.Main_Go=kc,Wu("top_bar_user","icon_center_focus"),__(),cc.placeholder=C,Yu("add_user_scroll"),to()}function $i(){ao(!1),document.body.removeEventListener("keydown",eo),document.body.removeEventListener("keydown",io),Qu("top_bar_user","icon_center_focus"),Xu("add_user_scroll")}function eo(e){if(!Qi&&!Zi&&qc.Main_Go===kc)switch(e.keyCode){case Ja:h_()?m_():y_()?g_():(0<ji.length&&qc.Main_Go!==Oc?qc.Main_Go=qc.Main_Before:qc.Main_Go=wc,$i(),I_());break;case Oa:case Ba:case Ga:case Da:to()}}function to(){document.body.removeEventListener("keydown",eo),document.body.addEventListener("keydown",io,!1),cc.placeholder=C,cc.focus(),Zi=!0}function no(){if(null!==cc){var e=cc.cloneNode(!0);cc.parentNode.replaceChild(e,cc),cc=document.getElementById("user_input")}}function ao(e){cc.blur(),no(),document.body.removeEventListener("keydown",io),cc.placeholder=A+C,e&&document.body.addEventListener("keydown",eo,!1),Zi=!1}function io(e){if(!Qi&&qc.Main_Go===kc)switch(e.keyCode){case Ja:h_()?m_():y_()?g_():(0<ji.length&&qc.Main_Go!==Oc?qc.Main_Go=qc.Main_Before:qc.Main_Go=wc,$i(),I_());break;case za:cc.value="";break;case Ha:case Va:""!==cc.value&&null!==cc.value?po(Wi=cc.value)?(t_(),u_(u+Wi+ae),window.setTimeout(function(){__(),to()},1500)):(Yi=3500,Qi=!(zi=0),Xu("add_user_scroll"),e_(),oo()):to();break;case Fa:cc.value=cc.value.slice(0,-1);break;case qa:cc.value+=" "}}function oo(){Yf("https://api.twitch.tv/kraken/users?login="+encodeURIComponent(Wi),Yi,2,null,so,lo)}function so(e){JSON.parse(e)._total?(cc.value="",document.body.removeEventListener("keydown",eo),_o(e)):ro()}function lo(){++zi<Xi?(Yi+=500,oo()):ro()}function ro(){Wi=null,t_(),u_(te),window.setTimeout(function(){Ki()},1e3),Qi=!1}function co(){if(0<(ji=Hf("AddUser_UsernameArray",[])).length)for(var e=0;e<ji.length;e++)ji[e].access_token&&Ti(e)}function uo(){return 0<ji.length}function _o(e){Wi=JSON.parse(e).users[0],ji.push({name:Wi.name,id:Wi._id,access_token:0,refresh_token:0}),mo(),nI=!1,$i(),iI(),Qi=!1}function fo(e){var t=ji.indexOf(ji[e]);-1<t&&ji.splice(t,1),0<ji.length?(nI=!1,iI()):Ki(),mo()}function mo(){Jf("AddUser_UsernameArray",JSON.stringify(ji))}function ho(e){Wi=ji[0],ji[0]=ji[e],ji[e]=Wi,nI=!1,iI(),mo()}function po(e){return-1!==ji.indexOf(e)}function vo(){return 0<ji.length}var go=0,yo=0,bo=!1,wo=0,ko={},Co=[],Ao=!1,Eo=0,Mo=5,Io=3500,So=0,xo=0,Po=!1,Lo=["ag_thumbdiv","ag_img","ag_infodiv","ag_displayname","ag_streamtitle","ag_streamgame","ag_viwers","ag_quality","ag_cell","agempty_","a_games_scroll"],To=!1,Bo=!1,Oo=!1,Go=!1,Uo=!1;function Ro(){qc.Main_CenterLablesVectorPos=3,qc.Main_Go=Ac,document.body.addEventListener("keydown",as,!1),Wu("top_bar_game","icon_center_focus"),zu("label_side_panel","icon-arrow-circle-left",I),qc.Search_isSearching&&(B_(),Zu("top_bar_user",n+O_(f+" '"+qc.Search_data+"'"))),Zu("top_bar_game",b+O_(_+": "+qc.Main_gameSelected)),qc.Main_OldgameSelected===qc.Main_gameSelected&&To?(F_(go),Yu(Lo[10]),$o(),x_()):Vo()}function No(){To&&-1===go&&(ns(),yo=go=0,Wu(Lo[0]+"0_"+yo,Iu)),zu("label_side_panel","icon-ellipsis",Rn),Zu("top_bar_game",f),document.body.removeEventListener("keydown",as),Qu("top_bar_game","icon_center_focus"),Xu(Lo[10])}function Vo(){null===qc.Main_OldgameSelected&&(qc.Main_OldgameSelected=qc.Main_gameSelected),N_("stream_table_a_game"),Xu(Lo[10]),e_(),__(),Uo=To=!1,ko={},Bf=!(wo=xo=So=0),go=yo=0,bo=Bo=!(Co=[]),d_(),Do(),Jo()}function Do(){D_(),Ao=!0,Eo=0,Io=3500}function Jo(){var e=wo+So;e&&xo-1<e&&(e=xo-ru,bo=!0);var t="https://api.twitch.tv/kraken/streams?game="+encodeURIComponent(qc.Main_gameSelected)+"&limit="+ru+"&offset="+e+(""!==tu?"&broadcaster_language="+tu:"");Gu&&!wo?Wf(t,Io,2,null,Ho,Fo):Qf(t,Io,2,null,Ho,Fo,!1)}function Fo(){++Eo<Mo?(Io+=500,Jo()):(Ao=!1,wo?(bo=!0,qo()):(Bf=!1,t_(),u_(P)))}function Ho(e){var t=JSON.parse(e),n=t.streams.length;xo=parseInt(t._total),n<ru&&(bo=!0);var a=wo;Po=!(wo+=n);var i=n/cu;0<n%cu&&i++;var o,s,d,l,r,c,u=0,_=document.getElementById("stream_table_a_game");if(!Uo){var f;for(Uo=!0,d=document.createElement("tr"),l=0;l<3;l++)f=l?1===l?'<i class="icon-movie stream_channel_fallow_icon"></i>'+Ma+U:"":'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+Ma+Ma+Kt,($c=document.createElement("td")).setAttribute("id",Lo[8]+"y_"+l),$c.className="stream_cell",$c.innerHTML='<div id="'+Lo[0]+"y_"+l+'" class="stream_thumbnail_fallow_game" ><div id="'+Lo[3]+"y_"+l+'" class="stream_channel_fallow_game">'+f+"</div></div>",d.appendChild($c);_.appendChild(d)}for(l=0;l<i;l++){for(s=a/cu+l,d=document.createElement("tr"),o=0;o<cu&&u<n;o++,u++)c=(r=t.streams[u]).channel._id,ko[c]?o--:(ko[c]=1,d.appendChild(W_(s,s+"_"+o,[r.channel.name,c],Lo,[r.preview.template.replace("{width}x{height}",Eu),k_(JSON.stringify(r.stream_type))+r.channel.display_name,r.channel.status,r.game,y+gv(r.created_at)+" "+h+b_(r.viewers)+J,w_(r.video_height,r.average_fps,r.channel.broadcaster_language)])));for(;o<cu;o++)bo&&!Bo&&(Bo=!0,wo=s*cu+o),d.appendChild(z_(Lo[9]+s+"_"+o)),Co.push(Lo[9]+s+"_"+o);_.appendChild(d)}qo()}function qo(){if(To){if(V_(La),0<Co.length&&!bo)return Do(),void Qo();$o(!0),Co=[]}else zo(),Po?(u_(L+Z),go=-1,ts()):(To=!0,V_(La),$o(),x_()),Yu(Lo[10]),Bf=!1,t_();Ao=!1}function zo(){Go?(Oo=!0,Xo()):uo()?Fi():(Oo=!1,Xo())}function Xo(){Zu(Lo[3]+"y_2",Oo?'<i class="icon-heart" style="color: #00b300; font-size: 100%;"></i>'+Ma+Ma+Mt:'<i class="icon-heart-o" style="color: #FFFFFF; font-size: 100%; "></i>'+Ma+Ma+(uo()?It:Tt))}function Yo(){uo()&&ji[qc.Users_Position].access_token?Oo?Vi():Ui():(u_(Bt),window.setTimeout(function(){Po&&qc.Main_Go===Ac?u_(L+Z):__()},2e3))}function jo(){yo?1===yo?(qc.Main_Go=Dc,qc.Main_OldgameSelected=qc.Main_gameSelected,Wo(),S_()):Yo():(qc.Main_Go=Vc,qc.Main_OldgameSelected=qc.Main_gameSelected,Wo(),S_())}function Wo(){To&&-1===go&&(ns(),yo=go=0,Wu(Lo[0]+"0_"+yo,Iu)),document.body.removeEventListener("keydown",as),Xu(Lo[10])}function Qo(){c_(Co.length);var e=wo+So;e&&xo-1<e&&(e=xo-gu,bo=!0),Yf("https://api.twitch.tv/kraken/streams?game="+encodeURIComponent(qc.Main_gameSelected)+"&limit="+gu+"&offset="+e+(""!==tu?"&broadcaster_language="+tu:""),Io,2,null,Ko,Zo)}function Zo(){++Eo<Mo?(Io+=500,Qo()):(bo=!0,wo-=Co.length,Co=[],qo())}function Ko(e){var t,n,a=JSON.parse(e),i=a.streams.length,o=0,s=0,d=[];for(xo=parseInt(a._total),i<gu&&(bo=!0);o<Co.length&&s<i;o++,s++)n=(t=a.streams[s]).channel._id,ko[n]?o--:(ko[n]=1,Q_(Co[o],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",Eu),k_(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+gv(t.created_at)+" "+h+b_(t.viewers)+J,w_(t.video_height,t.average_fps,t.channel.broadcaster_language)],Lo),d.push(o));for(o=d.length-1;-1<o;o--)Co.splice(d[o],1);So+=s,bo&&(wo-=Co.length,Co=[]),qo()}function $o(e){go<0?ts():(sf(go,yo,Lo,cu,wo,e),wo/cu<go+uu&&!bo&&!Ao&&(Do(),Jo()),Yc&&es())}function es(){-1<go&&wo?hf(go+"_"+yo,Lo):ns()}function ts(){Wu(Lo[0]+"y_"+yo,Iu)}function ns(){Qu(Lo[0]+"y_"+yo,Iu)}function as(e){var t;if(!Bf&&!af())switch(nf(),e.keyCode){case Ja:y_()?g_():h_()?m_():(qc.Main_OldgameSelected=qc.Main_gameSelected,es(),ns(),Gf(as));break;case Ua:if(-1===go)ns(),--yo<0&&(yo=2),ts();else if(go||yo){if(C_(go,yo-1,Lo[0]))es(),yo--,$o();else for(t=cu-1;-1<t;t--)if(C_(go-1,t,Lo[0])){es(),go--,yo=t,$o();break}}else es(),ns(),go=-1,yo=2,ts();break;case Na:-1===go?(ns(),2<++yo?(yo=0,Po?ts():(go=0,$o())):ts()):C_(go,yo+1,Lo[0])?(es(),yo++,$o()):C_(go+1,0,Lo[0])&&(es(),go++,yo=0,$o());break;case Ra:if(-1!==go||Po)if(go){for(t=0;t<cu;t++)if(C_(go-1,yo-t,Lo[0])){es(),go--,yo-=t,$o();break}}else es(),go=-1,ts();else go=0,ns(),$o();break;case Va:if(-1!==go||Po){for(t=0;t<cu;t++)if(C_(go+1,yo-t,Lo[0])){es(),go++,yo-=t,$o();break}}else go=0,ns(),$o();break;case Oa:case Ba:case Ga:case Da:-1!==go?rf(go+"_"+yo,Lo,as):jo()}}var is=0,os=0,ss=!1,ds=0,ls={},rs=[],cs=!1,us=0,_s=5,fs=3500,ms=0,hs=0,ps=!1,vs=!1,gs="week",ys=2,bs=!1,ws=["agv_thumbdiv","agv_img","agv_infodiv","agv_title","agv_streamon","agv_duration","agv_viwers","agv_quality","agv_cell","gvempty_","a_games_vod_scroll","agv_game"],ks=!1,Cs=!1,As="";function Es(){qc.Main_CenterLablesVectorPos=3,qc.Main_Go=Vc,Wu("top_bar_game","icon_center_focus"),document.body.addEventListener("keydown",Ds,!1),zu("label_side_panel","icon-arrow-circle-left",I),As===qc.Main_gameSelected&&ks?(F_(is),Yu(ws[10]),Js(),Us(),x_()):Is()}function Ms(){ks&&Rs(),document.body.removeEventListener("keydown",Ds),Qu("top_bar_game","icon_center_focus"),Zu("top_bar_game",f),zu("label_side_panel","icon-ellipsis",Rn),Xu(ws[10])}function Is(){ks&&Rs(),N_("stream_table_a_game_vod"),Xu(ws[10]),e_(),Js(),As=qc.Main_gameSelected,__(),bs=ks=!1,Bf=!(vs=!(rs=[])),is=os=ds=hs=ms=0,ss=!(ls={}),d_(),Ss(),xs()}function Ss(){D_(),cs=!0,us=0,fs=3500}function xs(){var e=ds+ms;e&&hs-1<e&&(e=hs-ru,ss=!0);var t="https://api.twitch.tv/kraken/videos/top?game="+encodeURIComponent(qc.Main_gameSelected)+"&limit="+ru+"&broadcast_type="+(Cs?"highlight":"archive")+"&sort=views&offset="+e+"&period="+gs+(""!==tu?"&language="+tu:"");Gu&&!ds?Wf(t,fs,2,null,Ls,Ps):Qf(t,fs,2,null,Ls,Ps,!1)}function Ps(){++us<_s?(fs+=500,xs()):(cs=!1,ds?(ss=!0,Ts()):(Bf=!1,t_(),u_(P)))}function Ls(e){var t=JSON.parse(e),n=t.vods.length;hs=parseInt(t._total),n<ru&&(ss=!0);var a=ds;ps=!(ds+=n);var i=n/cu;0<n%cu&&i++;var o,s,d,l,r,c=0,u=document.getElementById("stream_table_a_game_vod");if(!bs){var _;for(bs=!0,d=document.createElement("tr"),f=0;f<2;f++)_=f?'<i class="icon-history stream_channel_fallow_icon"></i>'+Ma+Ma+m:'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+Ma+Ma+p,($c=document.createElement("td")).setAttribute("id",ws[8]+"y_"+f),$c.className="stream_cell",$c.innerHTML='<div id="'+ws[0]+"y_"+f+'" class="stream_thumbnail_channel_vod" ><div id="'+ws[3]+"y_"+f+'" class="stream_channel_fallow_game">'+_+"</div></div>",d.appendChild($c);u.appendChild(d)}for(var f=0;f<i;f++){for(s=a/cu+f,d=document.createElement("tr"),o=0;o<cu&&c<n;o++,c++)r=(l=t.vods[c])._id,-1!==(l.preview.template+"").indexOf("404_processing")||ls[r]?o--:(ls[r]=1,d.appendChild(RS(s,s+"_"+o,[r,l.length,l.channel.broadcaster_language,l.game,l.channel.name,l.increment_view_count_url],[l.preview.template.replace("{width}x{height}",Eu),l.channel.display_name,N+G_(l.created_at),sx.parse(l.title)+_a+Qt+v+l.game,b_(l.views)+D,w_(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.channel.broadcaster_language),V+pv(l.length),l.animated_preview_url],ws)));for(;o<cu;o++)ss&&!vs&&(vs=!0,ds=s*cu+o),d.appendChild(z_(ws[9]+s+"_"+o)),rs.push(ws[9]+s+"_"+o);u.appendChild(d)}Ts()}function Ts(){if(ks?V_(La):(ps?u_(L+(Cs?G:O)+T+M):(ks=!0,V_(La),Us(),x_()),Yu(ws[10]),Bf=!1,t_()),0<rs.length&&!ss)return Ss(),void Bs();Us(!0),cs=!(rs=[])}function Bs(){c_(rs.length);var e=ds+ms;e&&hs-1<e&&(e=hs-gu,ss=!0),Yf("https://api.twitch.tv/kraken/videos/top?game="+encodeURIComponent(qc.Main_gameSelected)+"&limit="+gu+"&broadcast_type="+(Cs?"highlight":"archive")+"&sort=views&offset="+e+"&period="+gs+(""!==tu?"&language="+tu:""),fs,2,null,Gs,Os)}function Os(){++us<_s?(fs+=500,Bs()):(ss=!0,rs=[],Ts())}function Gs(e){var t,n,a=JSON.parse(e),i=a.vods.length,o=0,s=0,d=[];for(hs=parseInt(a._total);o<rs.length&&s<i;o++,s++)n=(t=a.vods[s])._id,-1!==(t.preview.template+"").indexOf("404_processing")||ls[n]?o--:(ls[n]=1,VS(rs[o],[n,t.length,t.channel.broadcaster_language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",Eu),t.channel.display_name,N+G_(t.created_at),sx.parse(t.title)+_a+Qt+v+t.game,b_(t.views)+D,w_(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.channel.broadcaster_language),V+pv(t.length),t.animated_preview_url],ws),d.push(o));for(o=d.length-1;-1<o;o--)rs.splice(d[o],1);ms+=s,ss&&(ds-=rs.length,rs=[]),Ts()}function Us(e){is<0?Ns():(sf(is,os,ws,cu,ds,e),WS(ws,is+"_"+os),ds/cu<is+uu&&!ss&&!cs&&(Ss(),xs()),Yc&&Rs())}function Rs(){window.clearInterval(dS),-1<is&&ds?(Yu(ws[1]+is+"_"+os),hf(is+"_"+os,ws)):Vs()}function Ns(){var e=1<os?1:os;Wu(ws[0]+"y_"+e,Iu)}function Vs(){var e=1<os?1:os;Qu(ws[0]+"y_"+e,Iu)}function Ds(e){var t;if(!Bf&&!af())switch(nf(),e.keyCode){case Ja:y_()?g_():h_()?m_():(Rs(),Gf(Ds));break;case Ua:if(-1===is)Vs(),--os<0&&(os=1),Ns();else if(is||os){if(C_(is,os-1,ws[0]))Rs(),os--,Us();else for(t=cu-1;-1<t;t--)if(C_(is-1,t,ws[0])){Rs(),is--,os=t,Us();break}}else Rs(),Vs(),is=-1,os=1,Ns();break;case Na:-1===is?(Vs(),1<++os?(os=0,ps?Ns():(is=0,Us())):Ns()):C_(is,os+1,ws[0])?(Rs(),os++,Us()):C_(is+1,0,ws[0])&&(Rs(),is++,os=0,Us());break;case Ra:if(-1!==is||ps)if(is){for(t=0;t<cu;t++)if(C_(is-1,os-t,ws[0])){Rs(),is--,os-=t,Us();break}}else Rs(),is=-1,Ns();else is=0,Vs(),Us();break;case Va:if(-1!==is||ps){for(t=0;t<cu;t++)if(C_(is+1,os-t,ws[0])){Rs(),is++,os-=t,Us();break}}else is=0,Vs(),Us();break;case Oa:case Ba:case Ga:case Da:-1===is?(0===os?Jf("AGameVod_highlight",(Cs=!Cs)?"true":"false"):4<++ys&&(ys=1),Is()):_f(is+"_"+os,ws,Ds)}}function Js(){1===ys?(Zu("top_bar_game",b+O_((Cs?G:O)+de+": "+qc.Main_gameSelected)),gs="day"):2===ys?(Zu("top_bar_game",b+O_((Cs?G:O)+le+": "+qc.Main_gameSelected)),gs="week"):3===ys?(Zu("top_bar_game",b+O_((Cs?G:O)+re+": "+qc.Main_gameSelected)),gs="month"):4===ys&&(Zu("top_bar_game",b+O_((Cs?G:O)+ce+": "+qc.Main_gameSelected)),gs="all"),Jf("AGameVod_periodNumber",ys)}var Fs,Hs=0,qs=0,zs=!1,Xs=0,Ys=0,js=5,Ws=3500,Qs=0,Zs=!1,Ks=!1,$s=["cc_thumbdiv","cc_img","cc_infodiv","cc_name","cc_createdon","cc_game","cc_viwers","cc_duration","cc_cell","sccempty_","channel_content_scroll"],ed=!1,td="",nd=null,ad="",id="",od="",sd="",dd="",ld={},rd=!1,cd=null,ud="";function _d(){qc.Main_CenterLablesVectorPos=1,qc.Main_Go=Lc,rd&&!qc.Search_isSearching&&qc.Main_selectedChannel_id&&Ud(),td!==qc.Main_selectedChannel&&(ed=!1),B_(),qc.Main_selectedChannelDisplayname=qc.Main_selectedChannelDisplayname.replace(j,""),Ku("top_bar_user",qc.Main_selectedChannelDisplayname),Ku("top_bar_game",Ut),document.body.addEventListener("keydown",Rd,!1),Ka=!1,ed?(F_(Hs),Yu($s[10]),Ld(),Td(),x_()):md()}function fd(){T_(),document.body.removeEventListener("keydown",Rd),Xu($s[10])}function md(){N_("stream_table_channel_content"),Xu($s[10]),cd=null,e_(),__(),td=qc.Main_selectedChannel,sd="",zs=Zs=ed=!1,Fs=void(Hs=qs=Xs=Qs=0),hd(),pd()}function hd(){Bf=!0,Ys=0,Ws=3500}function pd(){Yf("https://api.twitch.tv/kraken/streams/"+encodeURIComponent(void 0!==Fs?Fs:qc.Main_selectedChannel_id),Ws,2,null,vd,gd)}function vd(e){null!==JSON.parse(e).stream?(nd=e,hd(),kd()):Fs?(nd=null,hd(),kd()):(hd(),yd())}function gd(){++Ys<js?(Ws+=500,pd()):(nd=null,hd(),kd())}function yd(){Yf("https://tmi.twitch.tv/hosts?include_logins=1&host="+encodeURIComponent(qc.Main_selectedChannel_id),Ws,1,null,wd,bd,!0)}function bd(){++Ys<js?(Ws+=500,yd()):(nd=null,hd(),kd())}function wd(e){var t=JSON.parse(e);void 0!==(Fs=t.hosts[0].target_id)?(hd(),pd()):(nd=null,hd(),kd())}function kd(){Yf("https://api.twitch.tv/kraken/channels/"+qc.Main_selectedChannel_id,$g,2,null,Cd,Ad)}function Cd(e){var t=JSON.parse(e);cd=(cd=t.video_banner)?cd.replace("1920x1080",Eu):cd,ud=t.profile_banner,ad=t.views,id=t.followers,od=t.description,qc.Main_selectedChannelLogo=t.logo,Ed()}function Ad(){++Ys<js?(Ws+=500,kd()):(cd=null,ud=Ta,od=id=ad="",qc.Main_selectedChannelLogo=Pa,Ed())}function Ed(){var e=document.createElement("tr"),t=0,n=document.getElementById("stream_table_channel_content");if(($c=document.createElement("tr")).className="follower_banner",$c.innerHTML='<div id="'+$s[0]+'x_0" class="follower_banner"><img id="'+$s[1]+'x_0" class="stream_img_banner"></div>',n.appendChild($c),null!==nd){var a=JSON.parse(nd);if(null!==a.stream){var i=void 0!==Fs?qc.Main_selectedChannelDisplayname+ne:"",o=a.stream;e.appendChild(Md("0_"+t,o.channel.name,o.preview.template,sx.parse(o.channel.status),o.game,k_(JSON.stringify(o.stream_type))+i+o.channel.display_name,y+gv(o.created_at)+" "+h+b_(o.viewers)+J,w_(o.video_height,o.average_fps,o.channel.broadcaster_language))),t++}else Zs=!0}else Zs=!0;e.appendChild(Id("0_"+t,qc.Main_selectedChannelDisplayname,qc.Main_selectedChannelDisplayname+O,"movie-play")),t++,e.appendChild(Id("0_"+t,qc.Main_selectedChannelDisplayname,qc.Main_selectedChannelDisplayname+U,"movie")),t<2&&(t++,e.appendChild(z_($s[9]+"0_"+t))),n.appendChild(e),(e=document.createElement("tr")).appendChild(Sd("1_0",qc.Main_selectedChannelDisplayname,qc.Main_selectedChannelDisplayname,qc.Main_selectedChannelLogo)),($c=document.createElement("td")).setAttribute("id",$s[8]+"x_x"),$c.className="stream_cell",$c.innerHTML='<div id="'+$s[0]+'x_x" class="stream_thumbnail_video" ><div id="'+$s[4]+'x_x" class="stream_channel_info">'+sx.parse(od)+"</div></div>",e.appendChild($c),n.appendChild(e),Pd()}function Md(e,t,n,a,i,o,s,d){return sd=n.replace("{width}x{height}",Eu),($c=document.createElement("td")).setAttribute("id",$s[8]+e),$c.setAttribute(Su,t),$c.className="stream_cell",$c.innerHTML='<div id="'+$s[0]+e+'" class="stream_thumbnail_video" ><img id="'+$s[1]+e+'" class="stream_img"></div><div id="'+$s[2]+e+'" class="stream_text"><div id="'+$s[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;"><i class="icon-circle" style="color: '+(void 0!==Fs?"#FED000":"red")+'; font-size: 90%; aria-hidden="true"></i> '+Ma+o+'</div><div id="'+$s[7]+e+'"class="stream_info" style="width:33%; float: right; text-align: right; display: inline-block;">'+d+'</div><div id="'+$s[4]+e+'"class="stream_info">'+a+'</div><div id="'+$s[5]+e+'"class="stream_info">'+v+i+'</div><div id="'+$s[6]+e+'"class="stream_info">'+s+"</div></div>",$c}function Id(e,t,n,a){return($c=document.createElement("td")).setAttribute("id",$s[8]+e),$c.setAttribute(Su,t),$c.className="stream_cell",$c.innerHTML='<div id="'+$s[0]+e+'" class="stream_thumbnail_video" ><div id="'+$s[1]+e+'" class="stream_channel_content_icon"><i class="icon-'+a+'"></i></div></div><div id="'+$s[2]+e+'" class="stream_text"><div id="'+$s[3]+e+'" class="stream_channel" style="text-align: center">'+n+"</div></div>",$c}function Sd(e,t,n,a){return dd=a,($c=document.createElement("td")).setAttribute("id",$s[8]+e),$c.setAttribute(Su,t),$c.className="stream_cell",$c.innerHTML='<div id="'+$s[0]+e+'" class="stream_thumbnail_video" ><div id="schannel_cont_heart" style="position: absolute; top: 5%; left: 6%;"></div><img id="'+$s[1]+e+'" class="stream_img_fallow"></div><div id="'+$s[2]+e+'" class="stream_text_channel"><div id="'+$s[3]+e+'" class="stream_channel">'+n+'</div><div id="'+$s[5]+e+'"class="stream_info">'+b_(ad)+D+'</div><div id="'+$s[6]+e+'"class="stream_info" >'+b_(id)+Vt+"</div></div>",$c}function xd(){Qa?(Zu("schannel_cont_heart",'<i class="icon-heart" style="color: #00b300; font-size: 600%; text-shadow: #FFFFFF 0 0 10px, #FFFFFF 0 0 10px, #FFFFFF 0 0 8px;"></i>'),Ku($s[3]+"1_0",qc.Main_selectedChannelDisplayname+Mt)):(Zu("schannel_cont_heart",'<i class="icon-heart-o" style="color: #FFFFFF; font-size: 600%; text-shadow: #000000 0 0 10px, #000000 0 0 10px, #000000 0 0 8px;"></i>'),uo()?Ku($s[3]+"1_0",qc.Main_selectedChannelDisplayname+It):Ku($s[3]+"1_0",qc.Main_selectedChannelDisplayname+Dt))}function Pd(){ed||(ed=!0,""!==sd&&Nu(document.getElementById($s[1]+"0_0"),sd,La),Nu(document.getElementById($s[1]+"x_0"),ud,Ta),Nu(document.getElementById($s[1]+"1_0"),dd,Pa),Td(),x_(),Yu($s[10]),t_()),Ld(),Bf=!1}function Ld(){Ks?xd():uo()?($a=qc.Main_selectedChannel_id,Ka=!1,pi()):(Qa=!1,xd())}function Td(){Wu($s[0]+Hs+"_"+(Hs?0:qs),Iu),Yc&&Bd(),ef()}function Bd(){hf(Hs+"_"+(Hs?0:qs),$s)}function Od(){if(Hs)uo()&&ji[qc.Users_Position].access_token?(Ka=!1,$a=qc.Main_selectedChannel_id,Qa?Ai():wi()):(u_(Bt),window.setTimeout(__,2e3));else{document.body.removeEventListener("keydown",Rd),Xu($s[10]);var e=Zs?1:0;qs===0-e?(qc.Play_selectedChannel=document.getElementById($s[8]+Hs+"_"+qs).getAttribute(Su),qc.Play_selectedChannelDisplayname=document.getElementById($s[3]+Hs+"_"+qs).textContent,-1!==qc.Play_selectedChannelDisplayname.indexOf(ne)?(qc.Play_isHost=!0,qc.Play_DisplaynameHost=qc.Play_selectedChannelDisplayname,qc.Play_selectedChannelDisplayname=qc.Play_selectedChannelDisplayname.split(ne)[1],qc.Play_selectedChannel_id=Fs):qc.Play_selectedChannel_id=qc.Main_selectedChannel_id,qc.Play_gameSelected=document.getElementById($s[5]+Hs+"_"+qs).textContent.split(v)[1],gf(cf)):qs===1-e?gf(rl):qs===2-e&&(Ab=tw,gf(xb))}}function Gd(){ld={"Main_values.Main_selectedChannel_id":qc.Main_selectedChannel_id,"Main_values.Main_selectedChannelLogo":qc.Main_selectedChannelLogo,"Main_values.Main_selectedChannel":qc.Main_selectedChannel,"Main_values.Main_selectedChannelDisplayname":qc.Main_selectedChannelDisplayname,ChannelContent_UserChannels:Ks,"Main_values.Main_BeforeChannel":qc.Main_BeforeChannel}}function Ud(){qc.Main_selectedChannel_id=qc.Main_selectedChannel_id,qc.Main_selectedChannelLogo=qc.Main_selectedChannelLogo,qc.Main_selectedChannel=qc.Main_selectedChannel,qc.Main_selectedChannelDisplayname=qc.Main_selectedChannelDisplayname,Ks=ld.ChannelContent_UserChannels,qc.Main_BeforeChannel=qc.Main_BeforeChannel,rd=!(ld={})}function Rd(e){if(!Bf&&!af())switch(nf(),e.keyCode){case Ja:y_()?g_():h_()?m_():(Bd(),Gf(Rd));break;case Ua:Hs||(Bd(),--qs<0&&(qs=Zs?1:2),Td());break;case Na:Hs||(Bd(),(Zs?1:2)<++qs&&(qs=0),Td());break;case Ra:case Va:Bd(),Hs=Hs?0:1,Td();break;case Oa:case Ba:case Ga:case Da:Od()}}var Nd=0,Vd=0,Dd=!1,Jd=0,Fd={},Hd=[],qd=!1,zd=0,Xd=5,Yd=3500,jd=0,Wd=0,Qd=0,Zd=!1,Kd=!1,$d="",el=!1,tl=["cv_thumbdiv","cv_img","cv_infodiv","cv_title","cv_streamon","cv_duration","cv_viwers","cv_quality","cv_cell","cvempty_","channel_vod_scroll","cv_game"],nl=!1,al=!1,il="",ol="",sl="",dl="",ll=0;function rl(){qc.Main_CenterLablesVectorPos=1,qc.Main_Go=Tc,!qc.Search_isSearching&&qc.Main_selectedChannel_id&&Ud(),qc.Main_selectedChannel!==il&&(nl=!1),B_(),zu("label_side_panel","icon-arrow-circle-left",I),Ku("top_bar_user",qc.Main_selectedChannelDisplayname),document.body.addEventListener("keydown",Al,!1),nl?(F_(Nd),Ku("top_bar_game",al?G:O),Yu(tl[10]),bl(),x_()):ul()}function cl(){nl&&wl(),T_(),document.body.removeEventListener("keydown",Al),Xu(tl[10]),__()}function ul(){nl&&wl(),N_("stream_table_channel_vod"),Xu(tl[10]),Ku("top_bar_game",al?G:O),e_(),__(),il=qc.Main_selectedChannel,el=nl=!1,Bf=!(Kd=!(Hd=[])),Nd=Vd=Jd=Wd=jd=0,Dd=!(Fd={}),d_(),_l(),fl()}function _l(){D_(),qd=!0,zd=0,Yd=3500}function fl(){var e=Jd+jd;e&&Wd-1<e&&(e=Wd-ru,Dd=!0);var t="https://api.twitch.tv/kraken/channels/"+encodeURIComponent(qc.Main_selectedChannel_id)+"/videos?limit="+ru+"&broadcast_type="+(al?"highlight":"archive")+"&sort=time&offset="+e;Gu&&!Jd?Wf(t,Yd,2,null,hl,ml):Qf(t,Yd,2,null,hl,ml,!1)}function ml(){++zd<Xd?(Yd+=500,fl()):(qd=!1,Jd?(Dd=!0,pl()):(Bf=!1,t_(),u_(P),Gf(Al)))}function hl(e){var t=JSON.parse(e),n=t.videos.length;Wd=parseInt(t._total),n<ru&&(Dd=!0);var a=Jd;Zd=!(Jd+=n);var i=n/cu;0<n%cu&&i++;var o,s,d,l,r,c,u,_=0,f=document.getElementById("stream_table_channel_vod");if(!el){el=!0,d=document.createElement("tr");var m='<i class="icon-movie-play stream_channel_fallow_icon"></i>'+Ma+Ma+p;($c=document.createElement("td")).setAttribute("id",tl[8]+"y_0"),$c.className="stream_cell",$c.innerHTML='<div id="'+tl[0]+'y_0" class="stream_thumbnail_channel_vod" ><div id="'+tl[3]+'y_0" class="stream_channel_fallow_game">'+m+"</div></div>",d.appendChild($c),d.appendChild(document.createElement("tr")),d.appendChild(document.createElement("tr")),f.appendChild(d)}for(var h=0;h<i;h++){for(s=a/cu+h,d=document.createElement("tr"),o=0;o<cu&&_<n;o++,_++)r=(l=t.videos[_])._id,c=-1!==((u=l.preview.template)+"").indexOf("404_processing"),s||o||!c||(c=!1,u=null!==cd?cd:La),c||Fd[r]?o--:(Fd[r]=1,d.appendChild(RS(s,s+"_"+o,[r,l.length,l.channel.broadcaster_language,l.game,l.channel.name,l.increment_view_count_url],[u.replace("{width}x{height}",Eu),l.channel.display_name,N+G_(l.created_at),sx.parse(l.title)+_a+Qt+v+l.game,b_(l.views)+D,w_(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.channel.broadcaster_language),V+pv(l.length),l.animated_preview_url],tl)));for(;o<cu;o++)Dd&&!Kd&&(Kd=!0,Jd=s*cu+o),d.appendChild(z_(tl[9]+s+"_"+o)),Hd.push(tl[9]+s+"_"+o);f.appendChild(d)}pl()}function pl(){if(nl?(bl(!0),V_(null!==cd?cd:La)):(Zd?(Gf(Al),u_(L+(al?G:O)+T+M)):(nl=!0,V_(null!==cd?cd:La),bl(),x_()),Yu(tl[10]),Bf=!1,t_()),0<Hd.length&&!Dd)return _l(),void vl();qd=!(Hd=[])}function vl(){c_(Hd.length);var e=Jd+jd;e&&Wd-1<e&&(e=Wd-gu,Dd=!0),Yf("https://api.twitch.tv/kraken/channels/"+encodeURIComponent(qc.Main_selectedChannel_id)+"/videos?limit="+gu+"&broadcast_type="+(al?"highlight":"archive")+"&sort=time&offset="+e,Yd,2,null,yl,gl)}function gl(){++zd<Xd?(Yd+=500,vl()):(Dd=!0,Jd-=Hd.length,Hd=[],pl())}function yl(e){var t,n,a=JSON.parse(e),i=a.videos.length,o=0,s=0,d=[];for(Wd=parseInt(a._total);o<Hd.length&&s<i;o++,s++)n=(t=a.videos[s])._id,-1!==(t.preview.template+"").indexOf("404_processing")||Fd[n]?o--:(Fd[n]=1,VS(Hd[o],[n,t.length,t.channel.broadcaster_language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",Eu),t.channel.display_name,N+G_(t.created_at),sx.parse(t.title)+_a+Qt+v+t.game,b_(t.views)+D,w_(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.channel.broadcaster_language),V+pv(t.length),t.animated_preview_url],tl),d.push(o));for(o=d.length-1;-1<o;o--)Hd.splice(d[o],1);jd+=s,Dd&&(Jd-=Hd.length,Hd=[]),pl()}function bl(e){Nd<0?kl():(sf(Nd,Vd,tl,cu,Jd,e),WS(tl,Nd+"_"+Vd),Jd/cu<Nd+uu&&!Dd&&!qd&&(_l(),fl()),Yc&&wl())}function wl(){window.clearInterval(dS),-1<Nd&&Jd?(Yu(tl[1]+Nd+"_"+Vd),hf(Nd+"_"+Vd,tl)):Cl()}function kl(){Wu(tl[0]+"y_0",Iu)}function Cl(){Qu(tl[0]+"y_0",Iu)}function Al(e){var t;if(!Bf&&!af())switch(nf(),e.keyCode){case Ja:y_()?g_():h_()?m_():(wl(),Gf(Al));break;case Ua:if(C_(Nd,Vd-1,tl[0]))wl(),Vd--,bl();else for(t=cu-1;-1<t;t--)if(C_(Nd-1,t,tl[0])){wl(),Nd--,Vd=t,bl();break}break;case Na:C_(Nd,Vd+1,tl[0])?(wl(),Vd++,bl()):C_(Nd+1,0,tl[0])&&(wl(),Nd++,Vd=0,bl());break;case Ra:if(-1!==Nd||Zd)if(Nd){for(t=0;t<cu;t++)if(C_(Nd-1,Vd-t,tl[0])){wl(),Nd--,Vd-=t,bl();break}}else wl(),Nd=-1,kl();else Nd=0,Cl(),bl();break;case Va:if(-1!==Nd||Zd){for(t=0;t<cu;t++)if(C_(Nd+1,Vd-t,tl[0])){wl(),Nd++,Vd-=t,bl();break}}else Nd=0,Cl(),bl();break;case Oa:case Ba:case Ga:case Da:-1===Nd?(Jf("ChannelVod_highlight",(al=!al)?"true":"false"),ul()):_f(Nd+"_"+Vd,tl,Al)}}var El,Ml,Il,Sl,xl,Pl,Ll=0,Tl=10,Bl=!1,Ol=0,Gl=null,Ul=!1,Rl=0,Nl={bbtv:{},ffz:{}},Vl={};function Dl(){cr(),qc.Play_ChatForceDisable?(pr||Lr(),Ul=!1,gf(function(){Ol=(new Date).getTime(),xl=qc.Play_selectedChannel_id,Pl=qc.Play_selectedChannel,Jl(Ol,ql)})):oc()}function Jl(e,t){Ll=0,Fl(e,t)}function Fl(e,t){var n="https://badges.twitch.tv/v1/badges/channels/"+xl+"/display",a=new XMLHttpRequest;a.open("GET",n,!0),a.timeout=1e4,a.ontimeout=function(){},a.onreadystatechange=function(){if(4===a.readyState){if(200===a.status)return void t(a.responseText,e);Hl(e,t)}},a.send(null)}function Hl(e,t){++Ll<Tl?Fl(e,t):Ml=window.setTimeout(function(){Fl(e,t)},500)}function ql(e,t){Hr(e),zl(),Wl(),Ol===t&&tr()}function zl(){Nl.bbtv[xl]||(Ll=0,Xl())}function Xl(){var e="https://api.betterttv.net/2/channels/"+encodeURIComponent(Pl),t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=1e4,t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?jl(t.responseText):404===t.status?Nl.bbtv[xl]=1:Yl())},t.send(null)}function Yl(){++Ll<Tl&&Xl()}function jl(e){$l(JSON.parse(e)),Nl.bbtv[xl]=1}function Wl(){Nl.ffz[xl]||(Ll=0,Ql())}function Ql(){var e="https://api.frankerfacez.com/v1/room/"+encodeURIComponent(Pl),t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=1e4,t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?Kl(t.responseText):404===t.status?Nl.ffz[xl]=1:Zl())},t.send(null)}function Zl(){++Ll<Tl&&Ql()}function Kl(e){er(JSON.parse(e)),Nl.ffz[xl]=1}function $l(t){t.emotes.forEach(function(e){Vl[e.code]={code:e.code,id:e.id,"3x":"https:"+t.urlTemplate.replace("{{id}}",e.id).replace("{{image}}","3x")}})}function er(t){Object.keys(t.sets).forEach(function(e){((e=t.sets[e]).emoticons||Array.isArray(e.emoticons))&&e.emoticons.forEach(function(e){e.name&&e.id&&"string"==typeof e.name&&"number"==typeof e.id&&(Vl[e.name]||e.urls&&"object"==typeof e.urls&&"string"==typeof e.urls[1]&&(e.urls[2]&&"string"!=typeof e.urls[2]||(Vl[e.name]={code:e.name,id:e.id,"3x":"https:"+(e.urls[4]||e.urls[2]||e.urls[1].replace(/1$/,"2"))})))})})}function tr(){ir(),nr()}function nr(){(Gl=new ReconnectingWebSocket("wss://irc-ws.chat.twitch.tv","irc",{reconnectInterval:3e3})).onopen=function(){Gl.send("PASS blah\r\n"),Gl.send("NICK justinfan12345\r\n"),Gl.send("CAP REQ :twitch.tv/commands twitch.tv/tags\r\n"),Gl.send("JOIN #"+Pl+"\r\n")},Gl.onclose=function(){Bl=!0},Gl.onmessage=function(e){var t=window.parseIRC(e.data.trim());if(t.command)switch(t.command){case"PING":Gl.send("PONG "+t.params[0]);break;case"JOIN":Ul=!0,dr('&nbsp;<span class="message">'+_a+bn+qc.Play_selectedChannelDisplayname+" "+_+"</span>");break;case"PRIVMSG":or(t)}},Il=window.setTimeout(ar,5e3)}function ar(){Ul?Sl=window.setInterval(lr,1e3):(Gl.close(1e3),tr())}function ir(){window.clearTimeout(Il)}function or(e){var t="",n=e.tags;if(n.hasOwnProperty("badges")&&"string"==typeof n.badges&&n.badges.split(",").forEach(function(e){e=e.split("/"),t+='<span class="'+e[0]+"-"+e[1]+' tag"></span>'}),n.hasOwnProperty("display-name")){var a=n["display-name"];"string"==typeof a&&(t+='<span class="nick" style="color: #'+Ar[a.charCodeAt(0)%Er]+';">'+a+"</span>&#58;&nbsp;")}var i=e.params[1];/^\x01ACTION.*\x01$/.test(i)&&(i=i.replace(/^\x01ACTION/,"").replace(/\x01$/,"").trim());var o={};n.hasOwnProperty("emotes")&&"string"==typeof n.emotes&&(n.emotes=n.emotes.split("/"),n.emotes.forEach(function(t){t=t.split(":"),o[t[0]]||(o[t[0]]=[]),t[1].split(",").forEach(function(e){e=e.split("-"),o[t[0]].push([parseInt(e[0]),parseInt(e[1])])})})),dr(t+='<span class="message">'+sr(ax(i,o))+"</span>")}function sr(e){for(var t=0;t<e.length;t++)"string"==typeof e[t]?e[t]=nx(e[t]):e[t]=e[t][0];return sx.parse(e.join(" "),!0,!0)}function dr(e){var t=document.createElement("div");t.className="chat_line",t.innerHTML=e,mr.appendChild(t),lr(),100<++Rl&&(Rl=0,dc())}function lr(){mr.scrollTop=mr.scrollHeight}function rr(){ir(),window.clearTimeout(Ml),window.clearTimeout(El),window.clearInterval(Sl)}function cr(){rr(),Gl&&Gl.close(1e3),Ol=0,N_("chat_box"),Ul=Bl=!1}var ur,_r,fr,mr,hr,pr=!1,vr=0,gr=[],yr=[],br=10,wr=null,kr=0,Cr="",Ar=["fe2424","fc5a24","ff9020","fEc723","ffff1d","bfff00","c3ff12","56fe1d","1eff1e","16ff51","00ff80","00ffbf","00ffff","1dc6ff","158aff","3367ff","ff4dff","ff4ad2","ff62b1","ff4272"],Er=Ar.length,Mr=0,Ir=!1,Sr=0;function xr(){mr=document.getElementById("chat_box"),Lr()}function Pr(){$r(),Gu&&qc.Play_ChatForceDisable?(pr||Lr(),gf(function(){Sr=(new Date).getTime(),xl=qc.Main_selectedChannel_id,Pl=qc.Main_selectedChannel,Jl(Sr,qr)})):oc()}function Lr(){vr=0,pr=!(Vl={}),Tr()}function Tr(){Qf("https://badges.twitch.tv/v1/badges/global/display",1e4,0,null,Or,Br,!1)}function Br(){++vr<br?Tr():pr=!1}function Or(e){ix(JSON.parse(e).badge_sets).forEach(function(t){t.versions.forEach(function(e){ox(t.type,e.type,e.image_url_4x,null)})}),Gr()}function Gr(){vr=0,Ur()}function Ur(){Qf("https://api.betterttv.net/2/emotes",1e4,0,null,Nr,Rr,!1)}function Rr(){++vr<br?Ur():pr=!1}function Nr(e){$l(JSON.parse(e)),Vr()}function Vr(){vr=0,Dr()}function Dr(){Qf("https://api.frankerfacez.com/v1/set/global",1e4,0,null,Fr,Jr,!1)}function Jr(){++vr<br?Dr():pr=!1}function Fr(e){er(JSON.parse(e)),pr=!0}function Hr(e){ix(JSON.parse(e).badge_sets).forEach(function(t){t.versions.forEach(function(e){ox(t.type,e.type,e.image_url_4x,mr)})})}function qr(e,t){Hr(e),zl(),Wl(),Sr===t&&zr(t)}function zr(e){vr=0,Sr===e&&Xr(e)}function Xr(e){var t="https://api.twitch.tv/v5/videos/"+qc.ChannelVod_vodId+"/comments?client_id="+yu+(kr?"&content_offset_seconds="+parseInt(kr):""),n=new XMLHttpRequest;n.open("GET",t,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){if(4===n.readyState){if(200===n.status)return void(Sr===e&&jr(n.responseText,e));Sr===e&&Yr(e)}},n.send(null)}function Yr(e){vr++,Sr===e&&(vr<br?Xr(e):_r=window.setTimeout(function(){Xr(e)},2500))}function jr(e,t){e=JSON.parse(e);var n,a,i=null===wr;i&&(n="&nbsp;",n+='<span class="message">',n+=_a+bn+qc.Main_selectedChannelDisplayname+" "+Cr,Wr(n+="</span>",0)),kr=0,wr=e._next,e.comments.forEach(function(e){n="",(a=e.message).hasOwnProperty("user_badges")&&a.user_badges.forEach(function(e){n+='<span class="'+e._id+"-"+e.version+' tag"></span>'}),n+='<span class="nick" style="color: #'+Ar[e.commenter.display_name.charCodeAt(0)%Er]+';">'+e.commenter.display_name+"</span>&#58;&nbsp;",n+='<span class="message">',a.fragments.forEach(function(e){e.hasOwnProperty("emoticon")?n+='<img class="emoticon" src="https://static-cdn.jtvnw.net/emoticons/v1/'+e.emoticon.emoticon_id+'/1.0" srcset="https://static-cdn.jtvnw.net/emoticons/v1/'+e.emoticon.emoticon_id+"/2.0 2x, https://static-cdn.jtvnw.net/emoticons/v1/"+e.emoticon.emoticon_id+'/3.0 4x">':n+=sr([e.text])}),n+="</span>",i?Wr(n,e.content_offset_seconds):void 0!==wr&&Qr(n,e.content_offset_seconds)}),i&&Sr===t&&(Zr(t),void 0!==wr&&tc(t))}function Wr(e,t){gr.push({time:t,message:e})}function Qr(e,t){yr.push({time:t,message:e})}function Zr(e){Ir||Sr!==e||(ur=window.setInterval(function(){ec(e),mr.scrollTop=mr.scrollHeight},1e3))}function Kr(){Ir||(window.clearTimeout(hr),window.clearTimeout(_r),window.clearTimeout(fr),window.clearInterval(ur))}function $r(){Kr(),Sr=0,N_("chat_box"),Ir=!1,wr=null,gr=[],yr=[],Mr=0}function ec(e){var t;if(Mr<gr.length-1)for(var n=Mr;n<gr.length&&gr[n].time<ll+Android.gettime()/1e3;n++,Mr++)(t=document.createElement("div")).className="chat_line",t.innerHTML=gr[n].message,mr.appendChild(t);else if(Kr(),void 0!==wr)gr=yr.slice(),Mr=0,Zr(e),yr=[],Sr===e&&tc(e),dc();else{var a="&nbsp;";a+='<span class="message">',a+=_a+_a+An+_a+_a,a+="</span>",(t=document.createElement("div")).className="chat_line",t.innerHTML=a,mr.appendChild(t),Ir=!0,mr.scrollTop=mr.scrollHeight,window.clearInterval(ur),ur=window.setInterval(function(){mr.scrollTop=mr.scrollHeight},1e3)}}function tc(e){vr=0,Ir||Sr!==e||nc(e)}function nc(e){var t="https://api.twitch.tv/v5/videos/"+qc.ChannelVod_vodId+"/comments?client_id="+yu+(null!==wr?"&cursor="+wr:""),n=new XMLHttpRequest;n.open("GET",t,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){if(4===n.readyState){if(200===n.status)return void(Ir||Sr!==e||jr(n.responseText,e));Ir||Sr!==e||ac(e)}},n.send(null)}function ac(e){vr++,Sr===e&&(vr<br?nc(e):fr=window.setTimeout(function(){nc(e)},2500))}function ic(){$r(),sc(ln+_a+rn)}function oc(){$r(),sc($n)}function sc(e){var t="&nbsp;";t+='<span class="message">',t+=_a+_a+_a+_a+_a+_a+_a+_a+_a+_a,t+=e,t+="</span>";var n=document.createElement("div");n.className="chat_line",n.innerHTML=t,mr.appendChild(n)}function dc(){var e=document.getElementsByClassName("chat_line");if(0<e.length-100)for(var t=0;t<e.length-100;t++)e[0].parentNode.removeChild(e[0]);lr()}var lc,rc,cc,uc,_c,fc,mc,hc,pc=!0,vc=!1,gc=!1,yc=-1,bc=new Image,wc=1,kc=2,Cc=3,Ac=4,Ec=5,Mc=6,Ic=7,Sc=8,xc=9,Pc=10,Lc=11,Tc=12,Bc=13,Oc=14,Gc=15,Uc=16,Rc=17,Nc=18,Vc=19,Dc=20,Jc=21,Fc=22,Hc="",qc={Main_Go:1,Main_Before:1,Main_BeforeSearch:1,Main_BeforeChannel:1,Main_BeforeAgame:Cc,Main_BeforeChannelisSet:!1,Main_BeforeAgameisSet:!1,Main_selectedChannel:"",Main_selectedChannelDisplayname:"",Main_selectedChannelLogo:"",Main_selectedChannel_id:"",Main_gameSelected:"",Main_OldgameSelected:null,Play_isHost:!1,Play_DisplaynameHost:"",Play_selectedChannelDisplayname:"",Play_selectedChannel:"",Play_gameSelected:"",Users_Position:0,Users_AddcodePosition:0,Play_WasPlaying:0,ChannelVod_vodId:"",vodOffset:0,Search_data:"",isLastSChannels:!1,gameSelectedOld:"",Games_return:!1,Search_isSearching:!1,Play_ChatForceDisable:!1,Never_run:!0,Main_CenterLablesVectorPos:0},zc=!0,Xc=!0,Yc=!1,jc=[],Wc=0,Qc=0,Zc=null,Kc=!0,$c="",eu=!1,tu="",nu=["label_side_panel","label_refresh","top_bar_live","top_bar_user","top_bar_featured","top_bar_game","top_bar_vod","top_bar_clip"],au=[],iu=0,ou=!0,su=0,du=1.35,lu=1.5,ru=45,cu=3,uu=Math.floor(ru/cu/lu),_u=45,fu=5,mu=Math.floor(_u/fu/du),hu=48,pu=6,vu=Math.floor(hu/pu/lu),gu=6,yu="5seja5ptej058mxqy7gh5tcudjqtm9",bu="Client-ID",wu="Accept",ku="Authorization",Cu="OAuth ",Au="application/vnd.twitchtv.v5+json",Eu="528x297",Mu="340x475",Iu="stream_thumbnail_focused",Su="data_attribute",xu="1.0",Pu=".21",Lu="052119",Tu=xu+Pu+"-"+Lu,Bu="",Ou=0,Gu=0,Uu="?"+Math.random(),Ru="https://cors-anywhere.herokuapp.com/",Nu=function(e,t,n){e.onerror=function(){this.onerror=null,this.src=n},e.src=t};function Vu(){(gc=qf("Main_isDebug",!1))&&pc?Du():"loading"===document.readyState?document.addEventListener("DOMContentLoaded",function(){Ju(window.navigator.userLanguage||window.navigator.language)}):Ju(window.navigator.userLanguage||window.navigator.language)}function Du(){console.log("Debug mod start");var e=document.createElement("script");e.src="https://fgl27.github.io/SmartTwitchTV/release/githubio/js/masterdebug.js",document.head.appendChild(e)}function Ju(e){pf(),gf(function(){try{Gu=Android.getAndroid(),Bu=Android.getversion()}catch(e){Bu="1.0.0",Gu=0,document.body.style.backgroundColor="rgba(0, 0, 0, 1)",vc=gc=!0,console.log("Main_isReleased: "+pc),console.log("Main_isDebug: "+gc),console.log("Main_isBrowser: "+vc)}Gu&&(document.body.addEventListener("keydown",$f,!1),document.body.addEventListener("keyup",em,!1)),PC(),Sa(),eA(),console.log("language is "+e),Ia(),-1!==window.location.href.indexOf("code")&&Xf(window.location.href),Fu()})}function Fu(){Eb(),Hu(!0),lc=document.getElementById("scrollbar"),P_(),Hc=qc.Main_Go,gf(function(){xr(),Up(),co(),uo()&&(hc=window.setInterval(kf,6e5),kf()),document.body.addEventListener("keyup",ef,!1),Mb(),document.getElementById("side_panel").style.marginLeft="",U_(),qu(),IS=qf("Vod_highlight",!1),al=qf("ChannelVod_highlight",!1),Cs=qf("AGameVod_highlight",!1),DI=qf("UserVod_highlight",!1),CS=Ff("vod_periodNumber",2),ys=Ff("AGameVod_periodNumber",2),UI=Ff("UserVod_TypeNumber",1),fb(),rc=document.getElementById("search_input"),cc=document.getElementById("user_input"),q_(La),q_(xa),q_(Pa),document.addEventListener("visibilitychange",bf,!1),_c=window.setInterval(wf,6e4),Ab=ow,xb(),uc=window.setTimeout(E_,5e3),Yu("topbar")})}function Hu(e){wf(),zu("label_refresh","icon-refresh",t+Yt),Zu("label_update",'<div class="strokedextramini" style="vertical-align: middle; display: inline-block;"><i class="icon-arrow-up" style="color: #FF0000; font-size: 115%; "></i></div><div class="strokedextramini" style="vertical-align: middle; display: inline-block; color: #FF0000">'+Ma+_t+"</div>"),zu("label_side_panel","icon-ellipsis",Rn),zu("icon_feed_refresh","icon-refresh",t+" Press up"),Ku("top_bar_live",_),Ku("top_bar_user",e?u:a),Ku("top_bar_featured",an),Ku("top_bar_game",f),Ku("top_bar_vod",Kt),Ku("top_bar_clip",U),Zu("scene2_search_text",Ma+n),Zu("scene2_channel_text",Ma+Ut),Zu("scene2_game_text",Ma+Jt),Ku("dialog_end_next_text",sa),Ku("dialog_end_replay_text",en),Ku("dialog_end_vod_text",sn),Ku("dialog_end_channel_text",Ut),Ku("dialog_end_game_text",Jt),Zu("dialog_about_text",ka+Ca),au=[de,le,re,ce],e?AC():(xC(),U_())}function qu(){Ku("play_dialog_exit_text",F),Ku("side_panel_search",n),Ku("side_panel_settings",a),Ku("side_panel_about",i),Ku("side_panel_controls",e),Ku("side_panel_exit",q),Ku("side_panel_live",_),Ku("side_panel_user",u),Ku("side_panel_featured",an),Ku("side_panel_games",f),Ku("side_panel_videos",Kt),Ku("side_panel_clips",U),Ku("side_panel_hide",o),Ku("chanel_button",E),Ku("game_button",f),Ku("live_button",_),Ku("exit_app_cancel",Y),Ku("exit_app_close",z),Ku("remove_cancel",Y),Ku("remove_yes",Ft),Ku("exit_app_minimize",X),Ku("main_dialog_exit_text",H),Zu("dialog_controls_text",wa),Ku("dialog_vod_text",wn),Zu("dialog_vod_start_text",Cn)}function zu(e,t,n){Zu(e,'<div class="strokedextramini" style="vertical-align: middle; display: inline-block;"><i class="'+t+'" style="color: #FFFFFF; font-size: 115%; "></i></div><div class="strokedextramini" style="vertical-align: middle; display: inline-block">'+Ma+n+"</div>")}function Xu(e){document.getElementById(e).classList.add("hide")}function Yu(e){document.getElementById(e).classList.remove("hide")}function ju(e){return-1===document.getElementById(e).className.indexOf("hide")}function Wu(e,t){document.getElementById(e).classList.add(t)}function Qu(e,t){document.getElementById(e).classList.remove(t)}function Zu(e,t){document.getElementById(e).innerHTML=t}function Ku(e,t){document.getElementById(e).textContent=t}function $u(e){var t=document.getElementById(e).getElementsByClassName("emoji");if(t){for(var n=0;n<t.length;n++)t[n].classList.add("emoticon");for(t=document.getElementById(e).getElementsByClassName("emoticon"),n=0;n<t.length;n++)t[n].classList.remove("emoji")}}function e_(){F_(-1),Gu?Android.mshowLoading(!0):Yu("dialog_loading")}function t_(){Gu?Android.mshowLoading(!1):Xu("dialog_loading")}function n_(){window.clearTimeout(Zc)}function a_(){Zc=window.setTimeout(o_,6e3)}function i_(){a_(),Yu("main_dialog_exit"),document.body.addEventListener("keydown",Pf,!1)}function o_(){document.body.removeEventListener("keydown",Pf,!1),Gf(mc),n_(),Xu("main_dialog_exit"),Qc=0,s_()}function s_(){Qu("exit_app_cancel","button_search_focused"),Qu("exit_app_minimize","button_search_focused"),Qu("exit_app_close","button_search_focused"),Wu(Qc?1===Qc?"exit_app_minimize":"exit_app_close":"exit_app_cancel","button_search_focused")}function d_(){N_("dialog_counter_text"),r_(0,0,0)}function l_(e,t,n,a){0<a?(Ku("dialog_counter_text",t*n+(e+1)+"/"+a),r_(t,n,a)):d_()}function r_(e,t,n){var a=screen.height/100*7;if(3===t&&9<n||5===t&&10<n||6===t&&12<n){var i=qc.Main_Go===Ac||qc.Main_Go===Vc||qc.Main_Go===Dc||qc.Main_Go===Tc||qc.Main_Go===Fc||qc.Main_Go===Rc||qc.Main_Go===Nc||qc.Main_Go===Bc,o=Math.ceil((screen.height-3*a)/(Math.ceil(n/t)-1)*e+a*(i?1.8:1));lc.style.top=o+"px",Kc&&(Kc=!1,lc.style.backgroundColor="#777777")}else lc.style.backgroundColor="#000000",lc.style.top=a+"px",Kc=!0}function c_(e){(gu=12)/3<e&&(gu=3*e),99<gu&&(gu=99)}function u_(e){Ku("dialog_warning_text",e),Yu("dialog_warning")}function __(){Xu("dialog_warning")}function f_(){g_(),Yu("dialog_about")}function m_(){Xu("dialog_about")}function h_(){return ju("dialog_about")}function p_(){g_(),__(),L_(qc.Main_Go),d_(),kC()}function v_(){m_(),Yu("dialog_controls")}function g_(){Xu("dialog_controls")}function y_(){return ju("dialog_controls")}function b_(e){return(e+"").replace(/\B(?=(\d{3})+(?!\d))/g,",")}function w_(e,t,n){return(e+="").indexOf("x")||(e=e.slice(-3)),e+"p"+(t=58<t?60:t<32?30:Math.ceil(t))+(""!==n?" ["+n.toUpperCase()+"]":"")}function k_(e){return-1!==e.indexOf("live")?"":j}function C_(e,t,n){return null!==document.getElementById(n+e+"_"+t)}function A_(){wf(),I_(),document.body.addEventListener("keyup",ef,!1)}function E_(){for(var e,t=0;t<nu.length;t++)t<2?document.getElementById(nu[t]).style.opacity="0.5":-1===(e=document.getElementById(nu[t])).className.indexOf("icon_center_focus")&&(e.style.opacity="0.5");Wu("topbar","topbar_dim")}function M_(){for(var e=0;e<nu.length;e++)document.getElementById(nu[e]).style.opacity="1";Qu("topbar","topbar_dim")}function I_(e){window.clearTimeout(uc),M_(),gf(function(){S_(e)})}function S_(e){__(),qc.Main_Go!==Lc&&(qc.Main_BeforeChannelisSet=!1),qc.Main_Go!==Ac&&(qc.Main_BeforeAgameisSet=!1),d_(),qc.Main_Go===wc?(Ab=ow,xb()):qc.Main_Go===kc?Ki():qc.Main_Go===Cc?(Ab=aw,xb()):qc.Main_Go===Ac?Ro():qc.Main_Go===Sc?Lk():qc.Main_Go===xc?pk():qc.Main_Go===Pc?aC():qc.Main_Go===Lc?_d():qc.Main_Go===Tc?rl():qc.Main_Go===Bc?(Ab=tw,xb()):qc.Main_Go===Oc?iI():qc.Main_Go===Ec?LM():qc.Main_Go===Mc?lE():qc.Main_Go===Ic?(Ab=iw,xb()):qc.Main_Go===Gc?PA():qc.Main_Go===Uc?Fw():qc.Main_Go===Rc?PS():qc.Main_Go===Nc?(Ab=ew,xb()):qc.Main_Go===Vc?Es():qc.Main_Go===Dc?(Ab=nw,xb()):qc.Main_Go===Jc?(Ab=sw,xb()):qc.Main_Go===Fc&&JI(),uc=window.setTimeout(E_,3e3),e&&Vf()}function x_(){Jf("Main_values",JSON.stringify(qc))}function P_(){qc=Sb(qc,Hf("Main_values",{}))}function L_(e){e===wc?Pb():e===kc?$i():e===Cc?Pb():e===Ac?No():e===Sc?Tk():e===xc?vk():e===Pc?iC():e===Lc?fd():e===Tc?cl():e===Bc?Pb():e===Oc?oI():e===Ec?TM():e===Mc?rE():e===Ic?Pb():e===Gc?LA():e===Uc?Hw():e===Rc?LS():e===Nc?Pb():e===Vc?Ms():e===Dc?Pb():e===Jc?Pb():e===Fc&&FI(),ju("settings_scroll")&&CC()}function T_(){zu("label_refresh","icon-refresh",t+Yt),zu("label_side_panel","icon-ellipsis",Rn),Qu("top_bar_user","icon_center_focus"),Ku("top_bar_live",_),Ku("top_bar_user",u),Ku("top_bar_featured",an),Ku("top_bar_game",f),Ku("top_bar_vod",Kt),Ku("top_bar_clip",U)}function B_(){zu("label_side_panel","icon-arrow-circle-left",I),N_("top_bar_live"),N_("top_bar_game"),N_("top_bar_vod"),N_("top_bar_clip"),N_("top_bar_featured"),Wu("top_bar_user","icon_center_focus")}function O_(e){return'<div style="font-size: 30%; position: fixed; line-height: 0; text-shadow: #000000 0 0 5.7px, #000000 0 0 5.7px, #000000 0 0 4px">'+e+"</div>"}function G_(e){return e=new Date(e),eu?e.getDate()+" "+jt[e.getMonth()]+" "+e.getFullYear():jt[e.getMonth()]+" "+e.getDate()+" "+e.getFullYear()}function U_(){Gu&&(Tu="Android: "+Bu+" Web: "+Lu,R_(Bu)&&Yu("label_update")),Zu("dialog_about_text",ka+ye+Tu+Ca)}function R_(e){return e=e.split("."),parseFloat(e[0]+"."+e[1])<parseFloat(xu)||parseInt(e[2])<parseInt(Pu.split(".")[1])}function N_(e){for(e=document.getElementById(e);e.firstChild;)e.removeChild(e.firstChild)}function V_(e){for(var t,n=0;n<jc.length;n++)null!==(t=document.getElementById(jc[n].id))&&Nu(t,jc[n].src+Uu,e)}function D_(){jc=[]}function J_(e,t){jc.push({id:e,src:t})}function F_(e){yc=e}function H_(e){var t=0;return yc<e?t=-1:e<yc&&(t=1),yc=e,t}function q_(e){bc.src=e}function z_(e){return($c=document.createElement("td")).setAttribute("id",e),$c.className="stream_cell",$c}function X_(e,t,n){return($c=document.createElement("td")).setAttribute("id",t[4]+e),$c.setAttribute(Su,n[0]),$c.setAttribute("data-id",n[1]),$c.className="stream_cell",$c.innerHTML=j_(e,t,n),$c}function Y_(e,t,n){var a=document.getElementById(e),i=e.split(n[5])[1];a.setAttribute(Su,t[0]),a.setAttribute("data-id",t[1]),a.innerHTML=j_(i,n,t),a.setAttribute("id",n[4]+i)}function j_(e,t,n){return J_(t[1]+e,n[2]),'<div id="'+t[0]+e+'" class="stream_thumbnail_channel" ><img id="'+t[1]+e+'" class="stream_img"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel">'+n[3]+"</div></div>"}function W_(e,t,n,a,i){return e<cu&&q_(i[0]),($c=document.createElement("td")).setAttribute("id",a[8]+t),$c.setAttribute(Su,JSON.stringify(n)),$c.className="stream_cell",$c.innerHTML=Z_(t,a,i),$c}function Q_(e,t,n,a){var i=document.getElementById(e),o=e.split(a[9])[1];i.setAttribute(Su,JSON.stringify(t)),i.innerHTML=Z_(o,a,n),i.setAttribute("id",a[8]+o)}function Z_(e,t,n){return J_(t[1]+e,n[0]),'<div id="'+t[0]+e+'" class="stream_thumbnail_video" ><img id="'+t[1]+e+'" class="stream_img"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;">'+n[1]+'</div><div id="'+t[7]+e+'"class="stream_info" style="width:33%; float: right; text-align: right; display: inline-block;">'+n[5]+'</div><div id="'+t[4]+e+'"class="stream_info">'+sx.parse(n[2])+'</div><div id="'+t[5]+e+'"class="stream_info">'+v+n[3]+'</div><div id="'+t[6]+e+'"class="stream_info">'+n[4]+"</div></div>"}function K_(e,t,n){return($c=document.createElement("td")).setAttribute("id",t[5]+e),$c.setAttribute(Su,n[0]),$c.className="stream_cell",$c.innerHTML=$_(e,t,n),$c}function $_(e,t,n){return J_(t[1]+e,n[1]),'<div id="'+t[0]+e+'" class="stream_thumbnail_game" ><img id="'+t[1]+e+'" class="stream_img"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel">'+n[0]+'</div><div id="'+t[4]+e+'"class="stream_info" style="width: 100%; display: inline-block;">'+n[2]+"</div></div>"}function ef(){Xc=!0}function tf(){zc=!0}function nf(){zc=!1,window.setTimeout(tf)}function af(){return!zc||!Xc}function of(e,t,n,a,i,o){Wu(n[0]+e+"_"+t,Iu),l_(t,e,a,i),H_(e)||o?1<e?C_(e+1,0,n[0])?mf(n[6],-1*document.getElementById(n[4]+e+"_"+t).offsetTop+.42*screen.height):ef():mf(n[6],.07*screen.height):ef()}function sf(e,t,n,a,i,o){Wu(n[0]+e+"_"+t,Iu),l_(t,e,a,i),H_(e)||o?e?C_(e+1,0,n[0])&&mf(n[10],-1*document.getElementById(n[8]+(e-1)+"_"+t).offsetTop):mf(n[10],.07*screen.height):ef()}function df(e,t,n,a,i){Wu(n[0]+e+"_"+t,Iu),l_(t,e,a,i),H_(e)?mf(n[10]?n[10]:n[7],e?-1*document.getElementById(n[5]+(e-1)+"_"+t).offsetTop+.025*screen.height:-1*document.getElementById(n[5]+e+"_"+t).offsetTop+.025*screen.height):ef()}function lf(e,t){return null===document.getElementById(t+e)}function rf(e,t,n){lf(e,t[0])||(document.body.removeEventListener("keydown",n),qc.Play_selectedChannel=JSON.parse(document.getElementById(t[8]+e).getAttribute(Su)),qc.Play_selectedChannel_id=qc.Play_selectedChannel[1],qc.Play_selectedChannel=qc.Play_selectedChannel[0],qc.Play_isHost=qc.Main_Go===Mc&&!xp,qc.Play_isHost?(qc.Play_DisplaynameHost=document.getElementById(t[3]+e).textContent,qc.Play_selectedChannelDisplayname=qc.Play_DisplaynameHost.split(ne)[1]):qc.Play_selectedChannelDisplayname=document.getElementById(t[3]+e).textContent,qc.Play_gameSelected=document.getElementById(t[5]+e).textContent.split(v)[1],qc.Main_Go===Ac&&(qc.Main_OldgameSelected=qc.Main_gameSelected),cf())}function cf(){document.body.addEventListener("keydown",Tg,!1),Xu("scene1"),Yu("scene2"),Vv(),zv(),lg(),uo()&&!CE&&BE&&lM(),gf(Vp)}function uf(e,t,n){lf(e,t[0])||(document.body.removeEventListener("keydown",n),uw=JSON.parse(document.getElementById(t[8]+e).getAttribute(Su)),Sm=parseInt(uw[1]),qc.Play_gameSelected=uw[2],qc.Main_selectedChannel=uw[3],qc.Main_selectedChannelDisplayname=uw[4],qc.Main_selectedChannelLogo=uw[5],qc.Main_selectedChannel_id=uw[6],qc.ChannelVod_vodId=uw[7],ll=parseInt(uw[8]),cw=uw[9],fw=uw[10],lw=uw[11],uw=uw[0],_w=document.getElementById(t[4]+e).textContent,rw=document.getElementById(t[6]+e).textContent,document.body.addEventListener("keydown",uh,!1),Xu("scene1"),Yu("scene2"),zv(),Gv(),Sv(),Lv(),uo()&&!CE&&BE&&lM(),gf(Gm))}function _f(e,t,n){lf(e,t[0])||(document.body.removeEventListener("keydown",n),qc.ChannelVod_vodId=JSON.parse(document.getElementById(t[8]+e).getAttribute(Su)),Qd=parseInt(qc.ChannelVod_vodId[1]),$d=qc.ChannelVod_vodId[2],qc.Play_gameSelected=qc.ChannelVod_vodId[3],qc.Main_selectedChannel=qc.ChannelVod_vodId[4],Ip=qc.ChannelVod_vodId[5],qc.ChannelVod_vodId=qc.ChannelVod_vodId[0].substr(1),qc.Main_selectedChannelDisplayname=document.getElementById(t[3]+e).textContent,sl=document.getElementById(t[4]+e).textContent,dl=document.getElementById(t[5]+e).textContent,ol=document.getElementById(t[11]+e).innerHTML+" "+document.getElementById(t[6]+e).textContent,ff())}function ff(){document.body.addEventListener("keydown",Cb,!1),Xu("scene1"),Yu("scene2"),Zy(),zv(),Gv(),Lv(),py=!1,uo()&&!CE&&BE&&lM(),gf(Cy)}function mf(e,t){document.getElementById(e).style.top=t+"px",window.setTimeout(ef,10)}function hf(e,t){Xc=!1,Qu(t[0]+e,Iu)}function pf(){var e=document.createElement("span");e.className="fa",e.style.display="none",document.body.insertBefore(e,document.body.firstChild),"icons"!==window.getComputedStyle(e,null).getPropertyValue("font-family")?(gc&&console.log("Main_Checktylesheet reloading"),vf("https://fgl27.github.io/SmartTwitchTV/release/githubio/css/icons.min.css")):gc&&console.log("Main_Checktylesheet loaded OK"),document.body.removeChild(e)}function vf(e){var t=document.createElement("link");t.rel="stylesheet",t.href=e,document.getElementsByTagName("head")[0].appendChild(t)}function gf(e){"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?window.setTimeout(e):document.addEventListener("DOMContentLoaded",e)}function yf(){var e=(new Date).getTime()+Ou;return e=new Date(e),(eu?Wt[e.getDay()]+" "+e.getDate()+" "+jt[e.getMonth()]:Wt[e.getDay()]+" "+jt[e.getMonth()]+" "+e.getDate())+" "+hv(e.getHours())+":"+hv(e.getMinutes())}function bf(){document.hidden||(wf(),window.setTimeout(wf,2e4))}function wf(){document.hidden||(Ku("label_clock",yf()),Uu="?"+Math.random())}function kf(){document.hidden||uo()&&window.setTimeout(function(){KE()||CE||(Sh=ji[qc.Users_Position].name,NE())},5e3)}function Cf(){Wu("side_panel_"+su,"side_panel_text_focus")}function Af(){Qu("side_panel_"+su,"side_panel_text_focus")}function Ef(){su?1===su?p_():2===su?(document.body.addEventListener("keydown",mc,!1),f_()):3===su?(document.body.addEventListener("keydown",mc,!1),v_()):4===su?i_(mc):5===su?Mf(wc):6===su?Mf(vo()?Oc:kc):7===su?Mf(Jc):8===su?Mf(Cc):9===su?Mf(Rc):10===su&&Mf(Nc):qc.Main_Go!==Sc?(qc.Search_isSearching||qc.Main_Go!==Lc&&qc.Main_Go!==Bc&&qc.Main_Go!==Tc||Gd(),qc.Main_BeforeSearch=qc.Main_Go,qc.Main_Go=Sc,L_(qc.Main_BeforeSearch),I_()):document.body.addEventListener("keydown",mc,!1),Sf()}function Mf(e){e===qc.Main_Go?document.body.addEventListener("keydown",mc,!1):(qc.Main_Before=qc.Main_Go,qc.Main_Go=e,L_(qc.Main_Before),I_())}function If(e){mc=e,document.body.removeEventListener("keydown",mc),document.body.addEventListener("keydown",xf,!1),Qu("side_panel","side_panel_hide")}function Sf(){document.body.removeEventListener("keydown",xf),Wu("side_panel","side_panel_hide"),Af(),su=0,Cf()}function xf(e){switch(e.keyCode){case Ja:case Ua:document.body.addEventListener("keydown",mc,!1),Sf(),Rf();break;case Ra:su&&(Af(),su--,Cf());break;case Va:su<10&&(Af(),su++,Cf());break;case Da:Ef()}}function Pf(e){switch(e.keyCode){case Ja:o_();break;case Na:2<++Qc&&(Qc=0),s_(),n_(),a_();break;case Ua:--Qc<0&&(Qc=2),s_(),n_(),a_();break;case Da:Qc?Gu&&1===Qc?Android.mclose(!1):Gu&&2===Qc&&Android.mclose(!0):o_()}}Vu();var Lf=["top_bar_live","top_bar_user","top_bar_featured","top_bar_game","top_bar_vod","top_bar_clip"],Tf=[wc,Oc,Jc,Cc,Rc,Nc],Bf=!1;function Of(e){if(!(Bf||Ab.FirstLoad||af()))switch(e.keyCode){case Ja:y_()?(Rf(),g_()):h_()?(Rf(),m_()):qc.Main_Go===Ac?(qc.Main_OldgameSelected=qc.Main_gameSelected,qc.Games_return?(qc.Main_Go=xc,qc.Main_gameSelected=qc.gameSelectedOld):(qc.Main_Go=qc.Main_BeforeAgame,qc.Main_BeforeAgame=wc),No(),Uf(),S_()):qc.Main_Go===Dc?(Qb(Ac),Uf(),S_()):qc.Main_Go===Ic?(Qb(Oc),Uf(),S_()):qc.Main_Go===Bc?(Qb(Lc),Uf(),S_()):qc.Main_Go===Vc?(qc.Main_Go=Ac,Ms(),Uf(),S_()):qc.Main_Go===Ec?(qc.Main_Go=Oc,TM(),Uf(),S_()):qc.Main_Go===Mc?(qc.Main_Go=Oc,rE(),Uf(),S_()):qc.Main_Go===Fc?(qc.Main_Go=Oc,FI(),Uf(),S_()):qc.Main_Go===Gc?(qc.Main_Go=Oc,LA(),Uf(),S_()):qc.Main_Go===Lc?(qc.Main_Go=qc.Main_BeforeChannel,qc.Main_BeforeChannel=wc,fd(),qc.Main_selectedChannel_id="",Uf(),S_()):qc.Main_Go===Tc?(qc.Main_Go=Lc,cl(),Uf(),S_()):qc.Main_Go===Pc?(qc.Main_Go===qc.Main_BeforeSearch?qc.Main_Go=wc:qc.Main_Go=qc.Main_BeforeSearch,iC(),qc.Search_isSearching=!1,Uf(),S_()):qc.Main_Go===xc?(qc.Main_Go===qc.Main_BeforeSearch?qc.Main_Go=wc:qc.Main_Go=qc.Main_BeforeSearch,qc.Search_isSearching=!1,vk(),Uf(),S_()):qc.Main_Go===Uc?(qc.Main_Go===qc.Main_BeforeSearch?qc.Main_Go=wc:qc.Main_Go=qc.Main_BeforeSearch,qc.Main_selectedChannel_id&&Ud(),Hw(),qc.Search_isSearching=!1,Uf(),S_()):(Uf(),If(Of));break;case Na:if(qc.Search_isSearching||qc.Main_Go===Lc||qc.Main_Go===Tc||qc.Main_Go===Bc||qc.Main_Go===Pc||qc.Main_Go===xc||qc.Main_Go===Uc)break;Qu(Lf[qc.Main_CenterLablesVectorPos],"icon_center_line"),qc.Main_CenterLablesVectorPos++,5<qc.Main_CenterLablesVectorPos&&(qc.Main_CenterLablesVectorPos=0),Rf(),Nf();break;case Ua:if(qc.Search_isSearching||qc.Main_Go===Lc||qc.Main_Go===Tc||qc.Main_Go===Bc||qc.Main_Go===Pc||qc.Main_Go===xc||qc.Main_Go===Uc)break;Qu(Lf[qc.Main_CenterLablesVectorPos],"icon_center_line"),qc.Main_CenterLablesVectorPos--,qc.Main_CenterLablesVectorPos<0&&(qc.Main_CenterLablesVectorPos=5),Rf(),Nf();break;case Va:Qu(Lf[qc.Main_CenterLablesVectorPos],"icon_center_line"),document.body.removeEventListener("keydown",Of),Yc=!1,S_();break;case Da:Df()}}function Gf(e){window.clearTimeout(uc),M_(),document.body.removeEventListener("keydown",e),document.body.removeEventListener("keydown",Of),document.body.addEventListener("keydown",Of,!1),Rf()}function Uf(){Qu(Lf[qc.Main_CenterLablesVectorPos],"icon_center_line"),document.body.removeEventListener("keydown",Of),Yc=!1}function Rf(){Yc=!0,Wu(Lf[qc.Main_CenterLablesVectorPos],"icon_center_line")}function Nf(){L_(qc.Main_Go),qc.Main_Go=Tf[qc.Main_CenterLablesVectorPos],qc.Main_Go!==Oc||vo()?I_(!0):(qc.Main_Go=kc,Uf(),I_())}function Vf(){qc.Main_Go===wc?(Ab=ow,document.body.removeEventListener("keydown",$b)):qc.Main_Go===Oc?document.body.removeEventListener("keydown",bI):qc.Main_Go===Ac?document.body.removeEventListener("keydown",as):qc.Main_Go===Jc?(Ab=sw,document.body.removeEventListener("keydown",$b)):qc.Main_Go===Pc?document.body.removeEventListener("keydown",pC):qc.Main_Go===xc?document.body.removeEventListener("keydown",Ik):qc.Main_Go===Uc?document.body.removeEventListener("keydown",nk):qc.Main_Go===Tc?document.body.removeEventListener("keydown",Al):qc.Main_Go===Lc?document.body.removeEventListener("keydown",Rd):qc.Main_Go===Mc?document.body.removeEventListener("keydown",wE):qc.Main_Go===Fc?document.body.removeEventListener("keydown",oS):qc.Main_Go===Gc?document.body.removeEventListener("keydown",qA):qc.Main_Go===Cc?(Ab=aw,document.body.removeEventListener("keydown",$b)):qc.Main_Go===Bc?(Ab=tw,document.body.removeEventListener("keydown",$b)):qc.Main_Go===Rc?document.body.removeEventListener("keydown",QS):qc.Main_Go===Nc?(Ab=ew,document.body.removeEventListener("keydown",$b)):qc.Main_Go===Dc?(Ab=nw,document.body.removeEventListener("keydown",$b)):qc.Main_Go===Ic?(Ab=iw,document.body.removeEventListener("keydown",$b)):qc.Main_Go===Vc?document.body.removeEventListener("keydown",Ds):qc.Main_Go===Ec&&document.body.removeEventListener("keydown",WM)}function Df(){window.clearTimeout(uc),M_(),qc.Main_Go!==Lc&&(qc.Main_BeforeChannelisSet=!1),qc.Main_Go!==Ac&&(qc.Main_BeforeAgameisSet=!1),d_(),qc.Main_Go===wc?(Ab=ow,Lb()):qc.Main_Go===Oc?sI():qc.Main_Go===Jc?(Ab=sw,Lb()):qc.Main_Go===Ac?Vo():qc.Main_Go===Gc?TA():qc.Main_Go===Lc?md():qc.Main_Go===Tc?ul():qc.Main_Go===Pc?oC():qc.Main_Go===xc?gk():qc.Main_Go===Uc?qw():qc.Main_Go===Cc?(Ab=aw,Lb()):qc.Main_Go===Ic?(Ab=iw).loadingData||Ab.key_refresh():qc.Main_Go===Rc?TS():qc.Main_Go===Nc?(Ab=ew,Lb()):qc.Main_Go===Dc?(Ab=nw,Lb()):qc.Main_Go===Bc?(Ab=tw,Lb()):qc.Main_Go===Vc?Is():qc.Main_Go===Ec?BM():qc.Main_Go===Mc?cE():qc.Main_Go===Fc&&HI(),uc=window.setTimeout(E_,3e3)}function Jf(e,t){localStorage.setItem(e,t)}function Ff(e,t){return parseInt(localStorage.getItem(e))||t}function Hf(e,t){return JSON.parse(localStorage.getItem(e))||t}function qf(e,t){var n=t.toString();return(localStorage.getItem(e)||n)===n?t:!t}function zf(e){console.log(e);for(var t=0;t<e.length;t++)console.log("Character is: "+e.charAt(t)+" it's Unicode is: \\u"+e.charCodeAt(t).toString(16).toUpperCase())}function Xf(e){console.log("processCode");var t="";t=e.match(/code=(\w+)/),Wc=t?(t=t[1],console.log("if code "+t),t):(console.log("else code "+t),0)}function Yf(e,t,n,a,i,o,s){Gu?Wf(e,t,n,a,i,o):Qf(e,t,n,a,i,o,s)}function jf(e,t,n,a,i,o,s,d){Gu&&d?Wf(e,t,n,a,i,o):Qf(e,t,n,a,i,o,s)}function Wf(e,t,n,a,i,o){var s=Android.mreadUrl(e,t,n,a);s&&200===(s=JSON.parse(s)).status?i(s.responseText):o()}function Qf(e,t,n,a,i,o,s){var d=new XMLHttpRequest;d.open("GET",(s?Ru:"")+e,!0),d.timeout=t,0<n&&d.setRequestHeader(bu,yu),1<n&&d.setRequestHeader(wu,Au),2<n&&d.setRequestHeader(ku,a),d.ontimeout=function(){},d.onreadystatechange=function(){if(4===d.readyState){if(200===d.status)return void i(d.responseText);o()}},d.send(null)}function Zf(e,t,n,a,i,o,s){Gu?Kf(e,t,n,a,i,o):Qf(e,t,n,a,i,o,s)}function Kf(e,t,n,a,i,o){var s=Android.mreadUrl(e,t,n,a,!0);s&&200===(s=JSON.parse(s)).status?i(s.responseText):o()}function Kf(e,t,n,a,i,o,s){var d=new XMLHttpRequest;d.open("POST",(s?Ru:"")+e,!0),d.timeout=t,0<n&&d.setRequestHeader(bu,yu),1<n&&d.setRequestHeader(wu,Au),2<n&&d.setRequestHeader(ku,a),d.ontimeout=function(){},d.onreadystatechange=function(){if(4===d.readyState){if(200===d.status)return void i(d.responseText);o()}},d.send(null)}function $f(e){e.keyCode===Ja&&tm()}function em(e){e.keyCode===Ja&&nm()}function tm(){fc=window.setTimeout(function(){Android.mclose(!0)},5e3)}function nm(){window.clearTimeout(fc)}var am=0,im=null,om=0,sm=!1,dm=0,lm=0,rm=!1,cm=0,um=2e3,_m=5,fm="source",mm=fm,hm=0,pm=[],vm="",gm=!1,ym=0,bm=0,wm=1,km=!1,Cm=0,Am=!1,Em=!1,Mm=2e3,Im=[0,5],Sm=0,xm=!1,Pm=!1,Lm=["next_button","back_button"],Tm=0,Bm=!1,Om=!0;function Gm(){Ev(),lg(),Wp(document.getElementById("stream_info_icon"),qc.Main_selectedChannelLogo),Ku("stream_info_name",qc.Main_selectedChannelDisplayname),Zu("stream_info_title",cw),Zu("stream_info_game",lw+" "+rw+" "+fw),Ku("stream_live_icon",_w),Ku("progress_bar_duration",pv(Sm)),rb((Sp=Im)[1]),$u("stream_info_title"),qc.Play_isHost=!1,Ku("progress_bar_current_time",pv(0)),Ku("stream_live_time",""),Ku("stream_watching_time",""),km=null!==qc.ChannelVod_vodId,Cr=Gt+".",km?(kr=ll,Pr()):ic(),Zu("pause_button",'<i class="pause_button3d icon-pause"></i>'),Yu("progress_pause_holder"),rh(),Yu("scene_channel_panel_bottom"),om=Cm=0,window.clearInterval(im),Em=!1,bh=-13,ym=bm=0,hm=2,Wm(),pg(3),rp=!1,ag(),uo()?(Ka=!0,$a=qc.Main_selectedChannel_id,pi()):Av(),document.addEventListener("visibilitychange",qm,!1),sm=!1,rm=!(lm=dm=0),Um(),document.body.removeEventListener("keyup",ef)}function Um(){cm=0,um=2e3,Rm()}function Rm(){Yf("https://clips.twitch.tv/api/v2/clips/"+uw+"/status",um,1,null,Vm,Nm,!0)}function Nm(){++cm<_m?(um+=250,Rm()):(Mv(),kg(3))}function Vm(e){pm=[],e=JSON.parse(e).quality_options;for(var t=0;t<e.length;t++)pm.length?pm.push({id:e[t].quality+"p"+Dm(e[t].frame_rate),url:e[t].source}):pm.push({id:e[t].quality+"p"+Dm(e[t].frame_rate)+" (source)",url:e[t].source});bm=wm,Jm()}function Dm(e){return 40<e?60:""}function Jm(){window.clearInterval(im),vm=pm[hm=0].url,-1!==fm.indexOf("source")&&(fm="source");for(var e=0;e<sh();e++){if(pm[e].id===fm){vm=pm[hm=e].url;break}-1!==pm[e].id.indexOf(fm)&&(vm=pm[hm=e].url)}mm=fm,gc&&console.log("PlayClip_onPlayer:",'\n\n"'+vm+'"\n'),bm=wm,Gu&&rm&&Android.startVideoOffset(vm,3,gm?-1:Android.gettime()),gm=!1,Fm()}function Fm(){Fh&&!Xv()&&qv(),Gu&&(om=0,Ap=1+Mm/1e3,Am=!1,window.clearInterval(im),im=window.setInterval(zm,Ep))}function Hm(e){Ku("progress_bar_duration",pv(Sm=e/1e3)),ih()}function qm(){document.hidden&&Ym()}function zm(){Gu&&(ym=Android.gettime()),Sm<ym/1e3&&(Gu&&Android.play(!1),Play_PannelEndStart(3)),rm&&am===ym&&!fv()?++om>Ap&&(Am&&Em&&hm<sh()-1?hm++:!Am&&Em&&Cm++,navigator.onLine?1<Cm?_v(Cm,3,Xm):(dh(),Jm(),Em=!0):uv(!1,3)):(om=Cm=0,Em=!1),am=ym}function Xm(e){if(!e){if(!(hm<sh()-1))return void uv(!1,3);hm++}Cm=0,dh(),Jm(),Em=!0}function Ym(){rm&&(Bm=!1,jm(),Lv(),wv())}function jm(){nh(),pm=[],window.clearInterval(im),Gu&&Android.stopVideo(3),rm=!1,$r(),kv(),eM(),document.body.removeEventListener("keydown",uh),document.removeEventListener("visibilitychange",qm),document.getElementById("scene2_pannel_0").style.display="none",document.getElementById("quality_name").style.width="25ch",ll=0}function Wm(){var e,t=Qm(1,0),n=Qm(-1,Ab.ColoumnsCount-1);Pm=xm=!1,t?(xm=!0,Ku("next_button_text_name",(e=JSON.parse(document.getElementById(Ab.ids[8]+t).getAttribute(Su)))[4]),Zu("next_button_text_title",e[9]),Ku("end_next_button_text_name",e[4]),Zu("end_next_button_text_title",e[9]),Zm(0,1)):Zm(0,0),n?(Pm=!0,Ku("back_button_text_name",(e=JSON.parse(document.getElementById(Ab.ids[8]+n).getAttribute(Su)))[4]),Zu("back_button_text_title",e[9]),Zm(1,1)):Zm(1,0)}function Qm(e,t){return C_(Ab.posY,Ab.posX+e,Ab.ids[0])?Ab.posY+"_"+(Ab.posX+e):C_(Ab.posY+e,t,Ab.ids[0])?Ab.posY+e+"_"+t:null}function Zm(e,t){document.getElementById(Lm[e]).style.opacity=t}function Km(){Tm?1===Tm?$m():-1===Tm&&eh():(km&&qc.Play_ChatForceDisable&&(fv()?Zr(Sr):Kr()),rg()||ng(3))}function $m(){Kb(1,0),th()}function eh(){Kb(-1,Ab.ColoumnsCount-1),th()}function th(){var e=document.getElementById("scene_channel_panel");e.style.transition="none",e.style.opacity="0",gf(function(){jm(),uf(Ab.posY+"_"+Ab.posX,Ab.ids,$b),e.style.transition=""})}function nh(){ly=!1,dy=ry=0,Fv(),fm=mm,document.getElementById("scene_channel_panel").style.opacity="0",Gu&&sb(Android.gettime()/1e3,Sm,!0),Zu("progress_bar_jump_to",Ma),document.getElementById("progress_bar_steps").style.display="none",window.clearInterval(Gg)}function ah(){ih(),mv(),Gg=window.setInterval(ih,1e3),Lv(),eb(),oh(),dh(),document.getElementById("scene_channel_panel").style.opacity="1",lh()}function ih(){Gu&&sb(Android.gettime()/1e3,Sm,!ly)}function oh(){for(var e=hm=0;e<sh();e++){if(pm[e].id===fm){hm=e;break}-1!==pm[e].id.indexOf(fm)&&(hm=e)}}function sh(){return pm.length}function dh(){1===sh()?(document.getElementById("quality_arrow_up").style.opacity="0",document.getElementById("quality_arrow_down").style.opacity="0"):hm?hm===sh()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(fm=pm[hm].id).indexOf("source")?Ku("quality_name",fm.replace("source",ge)):Ku("quality_name",fm)}function lh(){Ch=window.setTimeout(nh,5e3+vy)}function rh(){document.getElementById("quality_name").style.width="16ch",Ku("open_vod_text",km?sn:dn),document.getElementById("scene2_pannel_0").style.display="inline-block"}function ch(){km?(qc.vodOffset=ll,jm(),document.body.addEventListener("keydown",Cb,!1),ag(),gf(Cy)):(rp=!0,Iv(ln),window.setTimeout(function(){rp=!1,Sv()},2e3))}function uh(e){if(bm!==wm)switch(e.keyCode){case Ja:Tv()?(Lv(),Ym()):Pv()}else switch(e.keyCode){case Ua:KE()?xh&&!CE&&(cM(),xh--,oM()):Mh&&!Nv()&&Xv()?(gh++,$v()):Nv()?(Fv(),2===hy?(og(),5<++lp&&(lp=0),ig()):hy?1===hy&&-1<Tm&&(Tm--,Pm||!Tm?tb():Tm++):(ub(-1,Sm),vy=2500),lh()):rg()?(mg(),_g(),--mp<(xm?-1:0)&&(mp=3),ug()):ah();break;case Na:KE()?xh<SE-1&&!CE&&(cM(),xh++,oM()):!Mh||Nv()||rg()?Nv()?(Fv(),2===hy?(og(),--lp<0&&(lp=5),ig()):hy?1===hy&&Tm<1&&(Tm++,xm||!Tm?tb():Tm--):(ub(1,Sm),vy=2500),lh()):rg()?(mg(),_g(),3<++mp&&(mp=xm?-1:0),ug()):ah():Jf("ChatEnable",(Fh=Xv()||rg()?(zv(),!1):(qv(),!0))?"true":"false");break;case Ra:rg()?mg():Nv()?(2===hy&&1!==lp?(hy--,tb()):1===hy?(hy--,tb()):0<hm&&1===lp&&(hm--,dh()),Fv(),lh()):KE()?KE()?iM():ah():$E();break;case Va:rg()?mg():Nv()?(hy?1===hy?(hy++,tb()):hm<sh()-1&&1===lp&&(hm++,dh()):(hy++,tb()),Fv(),lh()):KE()?eM():Mh&&Xv()?(4<++kh?Kv(!(kh=1)):4===kh&&Kv(!0),Qv(!0)):ah();break;case Da:rg()?hg(3):Nv()?hy?1===hy?Km():wg(3):(Fv(),lh(),dy&&db()):KE()?(jm(),rf(xh,RE,Tg)):ah();break;case Ja:Nv()?nh():KE()?eM():Tv()?(Lv(),Ym()):Pv();break;case Oa:case Ba:case Ga:km&&!qc.Play_ChatForceDisable&&(fv()?Zr(Sr):Kr()),rg()||ng(3)}}var _h,fh,mh,hh,ph,vh,gh=0,yh=gh,bh=-5,wh=.55,kh=3,Ch=null,Ah="source",Eh=Ah,Mh=!0,Ih=!1,Sh="",xh=0,Ph=2e3,Lh=0,Th=1,Bh=2,Oh=0,Gh=null,Uh=0,Rh=0,Nh=0,Vh="",Dh=[],Jh=0,Fh=!1,Hh=null,qh=null,zh=null,Xh="",Yh=0,jh=5,Wh=0,Qh=5,Zh=0,Kh=!1,$h=null,ep=!1,tp=0,np=null,ap=0,ip=0,op=!1,sp=!1,dp=!1,lp=1,rp=!1,cp=!1,up=1e4,_p=2e3,fp="",mp=0,hp=3,pp=null,vp="",gp=0,yp=0,bp="",wp=!0,kp=!1,Cp=!1,Ap=7,Ep=1e3,Mp=0,Ip="",Sp=[],xp=!1,Pp=[{top:51.8,left:75.1,sizeOffset:[31,16,0,0]},{top:33,left:75.1,sizeOffset:[12.5,0,-6.25,0]},{top:.2,left:75.1,sizeOffset:[0,0,0,0]},{top:.2,left:38.3,sizeOffset:[0,0,0,0]},{top:.2,left:.2,sizeOffset:[0,0,0,0]},{top:33,left:.2,sizeOffset:[12.5,0,-6.25,0]},{top:51.8,left:.2,sizeOffset:[31,16,0,0]},{top:51.8,left:38.3,sizeOffset:[31,16,0,0]}],Lp=[0,0,0,1,2,2,2,1],Tp=[[0,1,2,2,2,1,0,0],[7,3,3,3,3,3,7,7],[6,5,4,4,4,5,6,6]],Bp=[{containerHeight:17,percentage:"12.5%",dialogTop:15},{containerHeight:32,percentage:"25%",dialogTop:30},{containerHeight:48,percentage:"50%",dialogTop:50},{containerHeight:99.6,percentage:"100%",dialogTop:115}],Op=1,Gp=["chat_extra_small","chat_size_small","chat_size_default","chat_size_biger","chat_size_bigest"];function Up(){ph=document.getElementById("chat_container"),vh=document.getElementById("inner_progress_bar"),gh=Ff("ChatPositionsValue",0),kh=Ff("ChatSizeValue",3),Fh=qf("ChatEnable",!1),Mh=qf("Play_isFullScreen",!0),Qv(!1),Zv(!1),Np()}function Rp(e){e?void 0!==_h&&(gh=_h,kh=mh,(Fh=fh)||zv(),Qv(!1)):(_h=gh,fh=Fh,mh=kh,gh=0,qv(),kh=4,Kv(Fh=!0),Qv(!1),mr&&(mr.scrollTop=mr.scrollHeight)),Jf("Play_isFullScreen",Mh)}function Np(){Op=TC("chat_font_size");for(var e=0;e<Gp.length;e++)Qu("chat_inner_container",Gp[e]);Wu("chat_inner_container",Gp[Op])}function Vp(){Ev(),Zu("stream_live_icon",'<div style="vertical-align: middle; display: inline-block"><i class="icon-circle" style="color: red; font-size: 105%; "></i></div><div style="display: inline-block">'+Ma+_.toUpperCase()+"</div>"),N_("stream_info_title"),km=!(cp=!1),Wp(document.getElementById("stream_info_icon"),Pa),qc.Play_isHost?Ku("stream_info_name",qc.Play_DisplaynameHost):Ku("stream_info_name",qc.Play_selectedChannelDisplayname),Zm(0,0),Zm(1,0),qc.Play_WasPlaying=1,x_(),Ih=qc.Play_isHost,qc.Play_isHost=!1,kp=!1,Yu("scene_channel_panel_bottom"),yp=gp=0,Ku("stream_watching_time",g+pv(0)),Xh=vv(0),Ku("stream_live_time",y+Xh),Xu("progress_pause_holder"),xp=!1,pg(1),bh=-5,ap=ip=Mp=0,window.clearInterval(np),sp=!1,up=3e3,wp=!(Wh=0),Oh=Lh,dp=!(Kh=!(Nh=Rh=Uh=ep=0)),document.addEventListener("visibilitychange",Jp,!1),Hp(),Qp(),document.body.removeEventListener("keyup",ef),Gh=window.setInterval(Xp,6e4)}function Dp(e){Iv(e)}function Play_CheckResume(){Kh&&Jp(),Wg&&Ty(),rm&&(Ym(),window.clearInterval(im))}function Jp(){document.hidden?rg()?(Lv(),zv(),yv()):(kv(),dp=!1,cr(),window.clearInterval(Gh)):(Kh=!0,Gv(),Kh&&(Ev(),up=3e3,kp=!(Wh=0),cp?Xp():Hp(),Oh=Lh,Zh=0,navigator.onLine?Qp():hh=window.setInterval(Fp,100),Gh=window.setInterval(Xp,6e4)))}function Fp(){(navigator.onLine||200<Zh)&&(window.clearInterval(hh),Qp()),Zh++}function Hp(){Qf("https://api.twitch.tv/kraken/streams/"+qc.Play_selectedChannel_id,up,2,null,qp,zp,!1)}function qp(e){null!==(e=JSON.parse(e)).stream&&(Ku("stream_info_name",Ih?qc.Play_DisplaynameHost:qc.Play_selectedChannelDisplayname),qc.Play_selectedChannel_id=e.stream.channel._id,Zu("stream_info_title",sx.parse(e.stream.channel.status,!1,!0)),qc.Play_gameSelected=e.stream.game,fp=" ["+e.stream.channel.broadcaster_language.toUpperCase()+"]",Ku("stream_info_game",v+qc.Play_gameSelected+h+b_(e.stream.viewers)+" "+J+fp),qc.Play_selectedChannelLogo=e.stream.channel.logo,cp=!0,Wp(document.getElementById("stream_info_icon"),qc.Play_selectedChannelLogo),Xh=e.stream.created_at,uo()?(Ka=!0,$a=qc.Play_selectedChannel_id,pi()):Av())}function zp(){Wh<Qh&&(up+=500,window.setTimeout(function(){Kh&&Hp()},750)),Wh++}function Xp(){Qf("https://api.twitch.tv/kraken/streams/"+qc.Play_selectedChannel_id,3e3,2,null,Yp,jp,!1)}function Yp(e){null!==(e=JSON.parse(e)).stream&&(Zu("stream_info_title",sx.parse(e.stream.channel.status,!1,!0)),qc.Play_gameSelected=e.stream.game,Ku("stream_info_game",v+qc.Play_gameSelected+h+b_(e.stream.viewers)+" "+J+fp),cp||Wp(document.getElementById("stream_info_icon"),e.stream.channel.logo))}function jp(){Mp<Qh?(window.setTimeout(function(){Kh&&Xp()},2500),Mp++):Mp=0}function Wp(e,t){e.onerror=function(){this.src=Pa,cp=!1},e.src=t}function Qp(){Yh=0,_p=2e3+(kp?3e3:0),Zp()}function Zp(){var e,t;if(e=Oh===Lh?"https://api.twitch.tv/api/channels/"+qc.Play_selectedChannel+"/access_token"+(uo()&&ji[qc.Users_Position].access_token?"?oauth_token="+ji[qc.Users_Position].access_token:""):"https://usher.ttvnw.net/api/channel/hls/"+qc.Play_selectedChannel+".m3u8?&token="+encodeURIComponent(Uh.token)+"&sig="+Uh.sig+"&allow_source=true&allow_audi_only=true&fast_bread=true&allow_spectre=false",Gu){if(!(t=Android.mreadUrl(e,_p,1,null)))return void $p();200===(t=JSON.parse(t)).status?(Yh=0,Kh&&nv(t.responseText)):403===t.status?ev():404===t.status?Cg():$p()}else(t=new XMLHttpRequest).open("GET",Ru+e,!0),t.timeout=_p,t.setRequestHeader(bu,yu),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?(Yh=0,Kh&&nv(t.responseText)):403===t.status?(Kp(t),vc?tv():ev()):404===t.status?(Kp(t),vc?tv():Cg()):(Kp(t),$p()))},t.send(null)}function Kp(e){gc&&(console.log(e.status),console.log(e.responseText))}function $p(){Kh&&wp&&(++Yh<jh+(kp?7:0)?(_p+=250,kp?window.setTimeout(Zp,500):Zp()):vc?tv():Cg())}function ev(){Mv(),Iv(Dn),window.setTimeout(function(){Kh&&Cg()},4e3)}function tv(){Dh=[{id:"1080p60(Source)",band:"(10.00Mbps)",url:"http://fake"}],Oh=Bh,Kh&&sv()}function nv(e){Oh===Lh?(Uh=JSON.parse(e),Oh=Th,Qp()):Oh===Th&&(Dh=av(Rh=e),Oh=Bh,Kh&&sv())}function av(e){for(var t,n=[],a="",i=1,o=ov(e),s=0;s<o.length;s++)a=o[s].split('NAME="')[1].split('"')[0],t=iv(o[s].split("BANDWIDTH=")[1].split(",")[0]),n.length?n[s-i].id!==a&&n[s-i].id!==a+" (source)"?n.push({id:a,band:t,url:o[s].split("\n")[2]}):i++:(-1===a.indexOf("ource")&&(a+=" (source)"),n.push({id:a,band:t,url:o[s].split("\n")[2]}));return n}function iv(e){return 0<(e=parseInt(e))?" ("+parseFloat(e/1e6).toFixed(2)+"Mbps)":""}function ov(e){for(var t,n=[],a=/#EXT-X-MEDIA:(.)*\n#EXT-X-STREAM-INF:(.)*\n(.)*/g;t=a.exec(e);)n.push(t[0]);return n}function sv(){window.clearInterval(np),Vh=Dh[Jh=0].url,-1!==Ah.indexOf("source")&&(Ah="source");for(var e=0;e<Wv();e++){if(Dh[e].id===Ah){Vh=Dh[Jh=e].url;break}-1!==Dh[e].id.indexOf(Ah)&&(Vh=Dh[Jh=e].url)}Eh=Ah,Oh=Bh,gc&&console.log("Play_onPlayer:",'\n\n"'+Vh+'"\n'),Gu&&Kh&&Android.startVideo(Vh,1),dv()}function dv(){Cp=!1,Fh&&!Xv()&&qv(),dp=!0,lv(),Gu&&(ap=0,Ap=1+Ph/1e3,op=!1,window.clearInterval(np),np=window.setInterval(rv,Ep))}function lv(){qc.Play_ChatForceDisable?Dl():oc()}function rv(){var e=!fv();Gu&&(gp=Android.gettime()),Kh&&tp===gp&&e?Ap<++ap&&(op&&sp&&Jh<Wv()-1?Jh++:!op&&sp&&ip++,navigator.onLine?1<ip?_v(ip,1,cv):(jv(),sv(),sp=!0):uv(!1,1)):(ap=ip=0,sp=!1),tp=gp,e&&yp++}function cv(e){if(!e){if(!(Jh<Wv()-1))return void Cg();Jh++}ip=0,jv(),sv(),sp=!0}function uv(e,t){qc.Play_isHost=e,pg(t),kg(t)}function _v(e,t,n){var a=new XMLHttpRequest;a.timeout=1e3,a.open("GET","https://static-cdn.jtvnw.net/jtv-static/404_preview-10x10.png?"+Math.random(),!0),a.onreadystatechange=function(){4===a.readyState&&(200===a.status?n(2<e):12<e&&uv(!1,t))},a.send(null)}function fv(){return!!Gu&&!Android.getPlaybackState()}function mv(){var e=yf();Ku("stream_clock",e),Ku("label_clock",e)}function hv(e){return e<10?"0"+e:e}function pv(e){var t,n,a;return t=hv(parseInt(e)%60),n=hv((e=Math.floor(e/60))%60),a=hv(e=Math.floor(e/60)),e?a+":"+n+":"+t:n+":"+t}function vv(e){return pv(parseInt(e/1e3))}function gv(e){return vv((new Date).getTime()-new Date(e).getTime())}function yv(){Kh&&(bv(),qc.Play_WasPlaying=0,wv())}function bv(){Gu&&Android.stopVideo(1),Kh=!1,eM(),$r(),kv(),Cv(),qc.Play_selectedChannel_id=""}function wv(){sb(0,0),Yu("scene1"),Xu("scene2"),A_()}function kv(){Vv(),Gv(),Sv(),lg(),Ip="",Jh===Wv()-1&&(Eh=Dh[0].id),Xg===ob()-1&&(Ng=zg[0].id),hm===sh()-1&&(mm=pm[0].id)}function Cv(){dp=!1,document.body.removeEventListener("keydown",Tg),document.removeEventListener("visibilitychange",Jp),cr(),window.clearInterval(Gh),window.clearInterval(np),rp=!1}function Av(){Zu("fallow_text",Ma+Tt),Qa=!1}function Ev(){Gu?Android.mshowLoading(!0):Yu("dialog_loading_play")}function Mv(){Gu?Android.mshowLoading(!1):Xu("dialog_loading_play")}function Iv(e){Ku("dialog_warning_play_text",e),Yu("dialog_warning_play")}function Sv(){Xu("dialog_warning_play")}function xv(){return ju("dialog_warning_play")}function Pv(){Tv()?Lv():(Yu("play_dialog_exit"),Hh=window.setTimeout(Pv,3e3))}function Lv(){window.clearTimeout(Hh),Xu("play_dialog_exit")}function Tv(){return ju("play_dialog_exit")}function Bv(){window.clearTimeout(qh)}function Ov(){window.clearTimeout(zh)}function Gv(){Bv(),Ov(),Xu("play_dialog_simple_pause")}function Uv(){Mv(),fv()?Rv()?(Xu("play_dialog_simple_pause"),zh=window.setTimeout(Uv,8e3)):(Yu("play_dialog_simple_pause"),qh=window.setTimeout(Uv,1500)):Gv()}function Rv(){return ju("play_dialog_simple_pause")}function Nv(){return"1"===document.getElementById("scene_channel_panel").style.opacity}function Vv(){Fv(),document.getElementById("scene_channel_panel").style.opacity="0",Ah=Eh,window.clearInterval(Gg)}function Dv(){ag(),Yv(),jv(),Jv(),Gg=window.setInterval(Jv,1e3),mv(),Lv(),document.getElementById("scene_channel_panel").style.opacity="1",Hv()}function Jv(){Ku("stream_watching_time",g+pv(yp)),Ku("stream_live_time",y+(-1===Xh.indexOf("00:00")?gv(Xh):"00:00"))}function Fv(){window.clearTimeout(Ch),vy=0}function Hv(){Ch=window.setTimeout(Vv,5e3)}function qv(){$v(),Yu("chat_container")}function zv(){Xu("chat_container")}function Xv(){return ju("chat_container")}function Yv(){for(var e=Jh=0;e<Wv();e++){if(Dh[e].id===Ah){Jh=e;break}-1!==Dh[e].id.indexOf(Ah)&&(Jh=e)}}function jv(){1===Wv()?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):Jh?Jh===Wv()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(Ah=Dh[Jh].id).indexOf("source")?Ku("quality_name",Ah.replace("source",ge)+Dh[Jh].band):Ku("quality_name",Ah+Dh[Jh].band)}function Wv(){return Dh.length}function Qv(e){ph.style.height=Bp[kh-1].containerHeight+"%",document.getElementById("play_chat_dialog").style.marginTop=Bp[kh-1].dialogTop+"%",$v(),lr(),e&&eg(Nn+Bp[kh-1].percentage),window.setTimeout(function(){mr&&(mr.scrollTop=mr.scrollHeight)},500),Jf("ChatSizeValue",kh)}function Zv(e){ph.style.backgroundColor="rgba(0, 0, 0, "+wh+")",e&&eg(Vn+(100*wh).toFixed(0)+"%")}function Kv(e){gh=e?Lp[yh=gh]:Tp[gh][yh]}function $v(){var e=4===kh;gh<0?gh=e?2:7:(e?2:7)<gh&&(gh=0),ph.style.top=(e?.2:Pp[gh].top+Pp[gh].sizeOffset[kh-1])+"%",ph.style.left=Pp[gh+(e?2:0)].left+"%",Jf("ChatPositionsValue",gh)}function eg(e){window.clearTimeout($h),Ku("play_chat_dialog_text",e),Yu("play_chat_dialog"),$h=window.setTimeout(tg,1e3)}function tg(){Xu("play_chat_dialog")}function ng(e){fv()?(Gv(),Zu("pause_button",'<i class="pause_button3d icon-pause"></i>'),1===e?(Nv()&&Vv(),window.clearInterval(np),np=window.setInterval(rv,Ep)):2===e?(Nv()&&Zy(),window.clearInterval(ty),ty=window.setInterval(Xy,Ep)):3===e&&(Nv()&&nh(),window.clearInterval(im),im=window.setInterval(zm,Ep)),Gu&&Android.play(!0)):(window.clearInterval(np),window.clearInterval(ty),window.clearInterval(im),Zu("pause_button",'<i class="pause_button3d icon-play-1"></i>'),Uv(),Gu&&Android.play(!1))}function ag(){og(),lp=1,ig()}function ig(){Wu("scene2_pannel_"+lp,"playbotton_focus")}function og(){Qu("scene2_pannel_"+lp,"playbotton_focus")}function sg(e){Vg=Oh=-1,bm=-1,zv(),Vv(),nh(),Zy(),rp||Sv(),Mv(),Lv(),3===e&&xm&&(Bm||Om)&&(_g(),mp=-1),ug()}function dg(){Yu("dialog_end_stream")}function lg(){Xu("dialog_end_stream"),mg(),cg()}function rg(){return ju("dialog_end_stream")}function cg(){_g(),mp=0,ug()}function ug(){Wu("dialog_end_"+mp,"dialog_end_icons_focus")}function _g(){Qu("dialog_end_"+mp,"dialog_end_icons_focus")}function fg(e){1===e?vp=qc.Play_selectedChannelDisplayname+" "+_:2===e?vp=qc.Main_selectedChannelDisplayname+$t:3===e&&(vp=qc.Main_selectedChannelDisplayname+Gt),Zu("dialog_end_stream_text",vp+S+_a+(3===e&&xm&&(Bm||Om)?la:tn)+hp+"..."),rg()?(Vg=Oh=Bh,bm=wm,-1===--hp?(Zu("dialog_end_stream_text",vp+S+_a+tn+"0..."),Lv(),zv(),1===e?yv():2===e?jy():3===e&&(xm&&(Bm||Om)?$m():Ym())):pp=window.setTimeout(function(){fg(e)},1e3)):pp=window.setTimeout(function(){fg(e)},50)}function mg(){window.clearTimeout(pp),Zu("dialog_end_stream_text",vp+S+_a+nn)}function hg(e){var t=!0;-1===mp&&xm?$m():mp?1===mp?qc.Play_isHost?(qc.Play_DisplaynameHost=qc.Play_selectedChannelDisplayname+ne,qc.Play_selectedChannel=bp.target_login,qc.Play_selectedChannelDisplayname=bp.target_display_name,qc.Play_DisplaynameHost=qc.Play_DisplaynameHost+qc.Play_selectedChannelDisplayname,bv(),document.body.addEventListener("keydown",Tg,!1),qc.Play_selectedChannel_id=bp.target_id,gf(Vp)):ch():2===mp?vg(e):3===mp&&yg(e):2===e?zg.length?(ay=!(by=!0),Hy(),Gv(),kr=_y=0,Pr()):(t=!1,Iv(ea),window.setTimeout(function(){Sv()},2e3)):3===e&&(pm.length?(Am=!(gm=!0),Jm(),Gv(),km?(_y=0,kr=ll,Pr()):ic()):(t=!1,Iv(ea),window.setTimeout(function(){Sv()},2e3))),1!==mp&&3===mp&&""===qc.Play_gameSelected&&(t=!1),t&&lg()}function pg(e){e?1===e?(_g(),mp=2,ug(),document.getElementById("dialog_end_-1").style.display="none",document.getElementById("dialog_end_0").style.display="none",document.getElementById("dialog_end_1").style.display="none"):2===e?(cg(),document.getElementById("dialog_end_-1").style.display="none",document.getElementById("dialog_end_0").style.display="inline-block",document.getElementById("dialog_end_1").style.display="none"):3===e&&(cg(),document.getElementById("dialog_end_-1").style.display=xm?"inline-block":"none",document.getElementById("dialog_end_0").style.display="inline-block",document.getElementById("dialog_end_1").style.display="inline-block",Ku("dialog_end_vod_text",km?sn:dn)):(_g(),mp=1,ug(),document.getElementById("dialog_end_-1").style.display="none",document.getElementById("dialog_end_0").style.display="none",document.getElementById("dialog_end_1").style.display="inline-block",Ku("dialog_end_vod_text",un))}function vg(e){qc.Main_BeforeChannelisSet||qc.Main_Go===Tc||qc.Main_Go===Bc||(qc.Main_BeforeChannel=qc.Main_BeforeAgameisSet&&qc.Main_Go!==Ac?qc.Main_BeforeAgame:qc.Main_Go,qc.Main_BeforeChannelisSet=!0),L_(qc.Main_Go),qc.Main_Go=Lc,1===e?(qc.Main_selectedChannel_id=qc.Play_selectedChannel_id,qc.Main_selectedChannel=qc.Play_selectedChannel,qc.Main_selectedChannelDisplayname=qc.Play_selectedChannelDisplayname,Ks=Qa,zv(),yv()):2===e?jy():3===e&&Ym()}function gg(e){qc.Search_isSearching||(qc.Main_BeforeSearch=qc.Main_Go),L_(qc.Main_Go),qc.Main_Go=Sc,1===e?(zv(),yv()):2===e?jy():3===e&&Ym()}function yg(e){if(""===qc.Play_gameSelected)return rp=!0,Iv(Qn),void window.setTimeout(function(){rp=!1,Sv()},2e3);qc.Main_BeforeAgameisSet||qc.Main_Go===Vc||qc.Main_Go===Dc||(qc.Main_BeforeAgame=qc.Main_BeforeChannelisSet&&qc.Main_Go!==Lc&&qc.Main_Go!==Tc&&qc.Main_Go!==Bc?qc.Main_BeforeChannel:qc.Main_Go,qc.Main_BeforeAgameisSet=!0),L_(qc.Main_Go),qc.Main_Go=Ac,Go=!1,qc.Main_gameSelected=qc.Play_gameSelected,zv(),1===e?yv():2===e?jy():3===e&&Ym()}function bg(){uo()&&ji[qc.Users_Position].access_token?Qa?Ai():wi():(Iv(Bt),rp=!0,window.setTimeout(function(){Sv(),rp=!1},2e3))}function wg(e){var t=document.getElementById("scene_channel_panel");2!==lp&&(t.style.transition="none",t.style.opacity="0"),gf(function(){lp?1===lp?(1===e?(sv(),Vv()):2===e?(ay=!1,Hy(),Zy()):3===e&&(Am=!1,Jm(),nh()),Gv()):2===lp?($a=1===e?qc.Play_selectedChannel_id:qc.Main_selectedChannel_id,bg(),Fv(),1===e?Hv():2===e?nb():3===e&&lh()):3===lp?yg(e):4===lp?vg(e):5===lp&&gg(e):ch(),t.style.transition=""})}function Play_PannelEndStart(e){1===e?(window.clearInterval(np),Cg()):kg(e)}function kg(e){window.clearInterval(np),window.clearInterval(im),window.clearInterval(ty),sg(e),hp=3,fg(e),dg()}function Cg(){Ev(),Oh=-1,Yh=0,_p=2e3,cr(),window.clearInterval(Gh),window.clearInterval(np),""!==qc.Play_selectedChannel_id?Ig():Ag()}function Ag(){Qf("https://api.twitch.tv/kraken/users?login="+qc.Play_selectedChannel,_p,2,null,Eg,Mg,!1)}function Eg(e){void 0!==(e=JSON.parse(e).users[0])?(qc.Play_selectedChannel_id=e._id,Yh=0,_p=2e3,Ig()):kg(1)}function Mg(){++Yh<jh?(_p+=250,Ag()):uv(!1,1)}function Ig(){Yf("https://tmi.twitch.tv/hosts?include_logins=1&host="+encodeURIComponent(qc.Play_selectedChannel_id),_p,1,null,xg,Sg,!0)}function Sg(){++Yh<jh?(_p+=250,Ig()):uv(!1,1)}function xg(e){void 0!==(bp=JSON.parse(e).hosts[0]).target_login?(rp=!0,Iv(qc.Play_selectedChannelDisplayname+cn+ne+bp.target_display_name),window.setTimeout(function(){rp=!1},4e3),pg(0),qc.Play_isHost=!0):(pg(1),qc.Play_isHost=!1),kg(1)}function Play_UpdateDuration(e,t){0<t&&(2===e?zy(t):3===e&&Hm(t))}function Pg(){Qa?(Zu("fallow_heart",'<i class="icon-heart strokicon" style="color: #00b300;"></i>'),Zu("fallow_text",Ma+Mt)):(Zu("fallow_heart",'<i class="icon-heart-o strokicon" style="color: #FFFFFF;"></i>'),Zu("fallow_text",Ma+It))}function Lg(e){rg()&&!Tv()?(mg(),Pv()):KE()?eM():Nv()&&!gb()?e?Zy():Vv():gb()&&Tv()?(vb(),Wy(!1),wv()):Tv()?(Lv(),zv(),e?jy():yv()):(xv()&&Sv(),Pv())}function Tg(e){if(Oh!==Bh)switch(e.keyCode){case Ja:Tv()?(Lv(),zv(),yv()):Pv()}else switch(e.keyCode){case Ua:KE()?xh&&!CE&&(cM(),xh--,oM()):Mh&&!Nv()&&Xv()?(gh++,$v()):Nv()?(og(),5<++lp&&(lp=1),ig(),Fv(),Hv()):rg()?(mg(),_g(),--mp<(qc.Play_isHost?1:2)&&(mp=3),ug()):Dv();break;case Na:KE()?xh<SE-1&&!CE&&(cM(),xh++,oM()):!Mh||Nv()||rg()?Nv()?(og(),--lp<1&&(lp=5),ig(),Fv(),Hv()):rg()?(mg(),_g(),3<++mp&&(mp=qc.Play_isHost?1:2),ug()):Dv():Jf("ChatEnable",(Fh=Xv()||rg()?(zv(),!1):(qv(),!0))?"true":"false");break;case Ra:Nv()?(0<Jh&&1===lp&&(Jh--,jv()),Fv(),Hv()):!KE()&&uo()?$E():rg()?mg():KE()&&iM();break;case Va:Nv()?(Jh<Wv()-1&&1===lp&&(Jh++,jv()),Fv(),Hv()):KE()?eM():Mh&&Xv()?(4<++kh?Kv(!(kh=1)):4===kh&&Kv(!0),Qv(!0)):rg()?mg():Dv();break;case Da:if(rg())hg(1);else if(Nv())wg(1);else if(KE()){var t=document.getElementById(RE[8]+xh);null===t?tM():qc.Play_selectedChannel!==JSON.parse(t.getAttribute(Su))[0]?(bv(),qc.Play_isHost=!1,xp=!0,rf(xh,RE,Tg)):tM()}else Dv();break;case Ja:Lg(!1);break;case Oa:case Ba:case Ga:rg()||ng(1)}}var Bg,Og,Gg,Ug,Rg="source",Ng=Rg,Vg=0,Dg=null,Jg=0,Fg=0,Hg=0,qg="",zg=[],Xg=0,Yg=0,jg=5,Wg=!1,Qg=2e3,Zg=0,Kg=5,$g=1e4,ey=0,ty=null,ny=0,ay=!1,iy=0,oy=!1,sy=!1,dy=0,ly=!1,ry=0,cy=2e3,uy=!1,_y=0,fy={},my=0,hy=0,py=!0,vy=0,gy=0,yy=0,by=!1,wy=[0,10,30,60,120,300,600,900,1200,1800],ky=!1;function Cy(){Ev(),lg(),_y=0,Ku("stream_live_time",""),Ku("stream_watching_time",""),Ku("progress_bar_current_time",pv(0)),Cr=O+".",Zu("pause_button",'<i class="pause_button3d icon-pause"></i>'),Xu("progress_pause_holder"),gy=0,rb((Sp=wy)[1]),Vg=Lh,km=!0,ll=0,qc.Play_isHost=!1,Zm(0,0),Zm(1,0),qc.vodOffset?(Ey(),xy()):(py&&""!==qc.Main_selectedChannel_id?(Wp(document.getElementById("stream_info_icon"),qc.Main_selectedChannelLogo),fy["#"+qc.ChannelVod_vodId]||Pr(),uo()?($a=qc.Main_selectedChannel_id,Ka=!0,pi()):Av()):(Ey(),My()),Ku("stream_info_name",qc.Main_selectedChannelDisplayname),Zu("stream_info_title",""),Zu("stream_info_game",ol+" ["+$d.toUpperCase()+"]"),Ku("stream_live_icon",sl),$u("stream_info_game")),fy["#"+qc.ChannelVod_vodId]&&!qc.vodOffset?(Mv(),pb()):Ay()}function Ay(){window.setTimeout(function(){Yu("scene_channel_panel_bottom"),Yu("progress_pause_holder")},1e3),Ku("progress_bar_duration",pv(Qd)),qc.Play_WasPlaying=2,x_(),Ug=window.setInterval(Oy,6e4),q_(Ip),ny=iy=0,window.clearInterval(ty),rp=uy=oy=!(bh=-13),ly=!1,Hg=Fg=Jg=ry=0,document.addEventListener("visibilitychange",Ty,!1),ky=!(Wg=!(sy=!1)),Gy(),pg(2),document.body.removeEventListener("keyup",ef)}function Ey(){Zg=0,Kg=5,$g=1e4}function My(){Qf("https://api.twitch.tv/kraken/users?login="+encodeURIComponent(qc.Main_selectedChannel),$g,2,null,Iy,Sy,!1)}function Iy(e){void 0!==(e=JSON.parse(e).users[0])?(qc.Main_selectedChannelLogo=e.logo,qc.Main_selectedChannel_id=e._id,fy["#"+qc.ChannelVod_vodId]||Pr(),uo()?($a=qc.Main_selectedChannel_id,Ka=!0,pi()):Av()):(qc.Main_selectedChannelLogo=Pa,qc.Main_selectedChannel_id=""),Wp(document.getElementById("stream_info_icon"),qc.Main_selectedChannelLogo)}function Sy(){++Zg<Kg?($g+=500,window.setTimeout(function(){Wg&&My()},750)):Og=window.setTimeout(My,2500)}function xy(){Qf("https://api.twitch.tv/kraken/videos/"+qc.ChannelVod_vodId,$g,2,null,Ly,Py,!1)}function Py(){++Zg<Kg&&($g+=2e3,xy())}function Ly(e){e=JSON.parse(e),Zu("stream_info_title",sx.parse(e.title,!1,!0)),Zu("stream_info_game",Qt+v+e.game+" "+b_(e.views)+D+" ["+e.channel.broadcaster_language.toUpperCase()+"]"),Ku("stream_live_icon",N+G_(e.created_at)),Ku("progress_bar_duration",pv(Qd=parseInt(e.length))),_y=1e3*qc.vodOffset,sb(qc.vodOffset,Qd,!0),qc.Main_selectedChannelDisplayname=e.channel.display_name,Ku("stream_info_name",qc.Main_selectedChannelDisplayname),qc.Main_selectedChannelLogo=e.channel.logo,Wp(document.getElementById("stream_info_icon"),qc.Main_selectedChannelLogo),qc.Main_selectedChannel_id=e.channel._id,qc.Main_selectedChannel=e.channel.name,uo()?(Ka=!0,$a=qc.Main_selectedChannel_id,pi()):Av(),q_(e.increment_view_count_url)}function Ty(){document.hidden?rg()?(Lv(),zv(),jy()):(Oy(),_b(),Kr(),kv(),window.clearInterval(ty),window.clearInterval(Ug)):(Wg=!0,Gv(),Wg&&(Ev(),Zh=Zh=0,navigator.onLine?qy():hh=window.setInterval(By,100),Zr(Sr),pg(2),Ug=window.setInterval(Oy,6e4)))}function By(){(navigator.onLine||200<Zh)&&(window.clearInterval(hh),Vg=Lh,Gy()),Zh++}function Oy(){qc.vodOffset=Gu?parseInt(Android.gettime()/1e3):0,x_(),qc.vodOffset=0}function Gy(){Yg=0,cy=2e3,Uy()}function Uy(){Yf(Vg===Lh?"https://api.twitch.tv/api/vods/"+qc.ChannelVod_vodId+"/access_token"+(uo()&&ji[qc.Users_Position].access_token?"?oauth_token="+ji[qc.Users_Position].access_token:""):"https://usher.ttvnw.net/vod/"+qc.ChannelVod_vodId+".m3u8?&nauth="+encodeURIComponent(Jg.token)+"&nauthsig="+Jg.sig+"&allow_source=true&allow_audi_only=true&allow_spectre=false",_p,1,null,Vy,Ry,!0)}function Ry(){if(Wg){var e;if(Jg.token&&(e=JSON.parse(Jg.token)),e&&0!==JSON.parse(Jg.token).chansub.restricted_bitrates.length)return void Dy();++Yg<jg?(cy+=250,Uy()):vc?Ny():(Mv(),kg(2))}}function Ny(){zg=[{id:"1080p60(Source)",band:"(10.00Mbps)",url:"http://fake"}],Vg=Bh,Wg&&Hy()}function Vy(e){Vg===Lh?(Jg=JSON.parse(e),Vg=Th,Gy()):Vg===Th&&(zg=av(Fg=e),Vg=Bh,Wg&&Hy())}function Dy(){uo()&&ji[qc.Users_Position].access_token?($a=qc.Main_selectedChannel_id,Ii()):(Mv(),Iv(x+St),window.setTimeout(function(){Wg&&jy()},4e3))}function Jy(){Mv(),Iv(x+xt),window.setTimeout(function(){Wg&&jy()},4e3)}function Fy(){ky?(Mv(),Iv(x+Pt),window.setTimeout(function(){Wg&&jy()},4e3)):(ky=!0,Vg=Lh,Gy())}function Hy(){window.clearInterval(ty),qg=zg[Xg=0].url,-1!==Rg.indexOf("source")&&(Rg="source");for(var e=0;e<ob();e++){if(zg[e].id===Rg){qg=zg[Xg=e].url;break}-1!==zg[e].id.indexOf(Rg)&&(qg=zg[Xg=e].url)}Ng=Rg,qy()}function qy(){gc&&console.log("PlayVod_onPlayer:",'\n\n"'+qg+'"\n'),qc.vodOffset?(kr=qc.vodOffset,Pr(),Gu&&Wg&&Android.startVideoOffset(qg,2,by?-1:1e3*qc.vodOffset),qc.vodOffset=0):Gu&&Wg&&Android.startVideoOffset(qg,2,by?-1:Android.gettime()),by=!1,Fh&&!Xv()&&qv(),Gu&&(ny=0,Ap=3+Qg/1e3,ay=!1,window.clearInterval(ty),ty=window.setInterval(Xy,Ep))}function zy(e){Ku("progress_bar_duration",pv(Qd=e/1e3)),$y()}function Xy(){Gu&&(_y=Android.gettime()),Qd<_y/1e3&&(Gu&&Android.play(!1),Play_PannelEndStart(2)),Wg&&ey===_y&&!fv()?++ny>Ap&&(ay&&oy&&Xg<ob()-1?Xg++:!ay&&oy&&iy++,navigator.onLine?1<iy?_v(iy,2,Yy):(ib(),Hy(),oy=!0):uv(!1,2)):(ny=iy=0,oy=!1),ey=_y}function Yy(e){if(!e){if(!(Xg<ob()-1))return void uv(!1,2);Xg++}iy=0,ib(),Hy(),oy=!0}function jy(){Wg&&(zg=[],Wy(!0),wv())}function Wy(e){e&&_b(),Gu&&Android.stopVideo(2),Wg=!1,window.clearInterval(Ug),window.clearInterval(Og),qc.Play_WasPlaying=0,py=!0,$r(),eM(),kv(),Qy()}function Qy(){document.body.removeEventListener("keydown",Cb),document.removeEventListener("visibilitychange",Ty),qc.vodOffset=0,window.clearInterval(Dg),window.clearInterval(ty),Qd=0}function Zy(){ly=!1,dy=ry=0,Fv(),document.getElementById("scene_channel_panel").style.opacity="0",Gu&&sb(Android.gettime()/1e3,Qd,!0),Zu("progress_bar_jump_to",Ma),document.getElementById("progress_bar_steps").style.display="none",Rg=Ng,window.clearInterval(Gg)}function Ky(e){$y(),mv(),Lv(),Gg=window.setInterval($y,1e3),e&&(eb(),ab(),ib(),nb()),document.getElementById("scene_channel_panel").style.opacity="1"}function $y(){Gu&&sb(Android.gettime()/1e3,Qd,!ly)}function eb(){hy=1,Tm=0,tb()}function tb(){Qu("pause_button","progress_bar_div_focus"),Qu("next_button","progress_bar_div_focus"),Qu("back_button","progress_bar_div_focus"),Qu("progress_bar_div","progress_bar_div_focus"),hy?1===hy?(Tm?1===Tm?Wu("next_button","progress_bar_div_focus"):-1===Tm&&Wu("back_button","progress_bar_div_focus"):Wu("pause_button","progress_bar_div_focus"),og(),Zu("progress_bar_jump_to",Ma),document.getElementById("progress_bar_steps").style.display="none"):2===hy&&(ig(),Zu("progress_bar_jump_to",Ma),document.getElementById("progress_bar_steps").style.display="none"):(Wu("progress_bar_div","progress_bar_div_focus"),og(),dy&&(cb(),document.getElementById("progress_bar_steps").style.display="inline-block"))}function nb(){Ch=window.setTimeout(Zy,5e3+vy)}function ab(){for(var e=Xg=0;e<ob();e++){if(zg[e].id===Rg){Xg=e;break}-1!==zg[e].id.indexOf(Rg)&&(Xg=e)}}function ib(){1===ob()?(document.getElementById("quality_arrow_up").style.opacity="0",document.getElementById("quality_arrow_down").style.opacity="0"):Xg?Xg===ob()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(Rg=zg[Xg].id).indexOf("source")?Ku("quality_name",Rg.replace("source",ge)+zg[Xg].band):Ku("quality_name",Rg+zg[Xg].band)}function ob(){return zg.length}function sb(e,t,n){Ku("progress_bar_current_time",pv(e)),n&&(vh.style.width=e/t*100+"%")}function db(){Gv(),rg()||(Am=ay=!1,Wg?(Gu&&Android.startVideoOffset(qg,2,0<yy?1e3*yy:-1),kr=yy):(kr=ll,Gu&&Android.startVideoOffset(vm,3,0<yy?1e3*yy:-1)),km&&Pr()),Zu("progress_bar_jump_to",Ma),document.getElementById("progress_bar_steps").style.display="none",ly=!1,yy=dy=ry=0}function lb(){gy=ry=0,rb(Sp[1])}function rb(e){dy&&!hy&&(document.getElementById("progress_bar_steps").style.display="inline-block"),60<Math.abs(e)?Ku("progress_bar_steps",Jn+e/60+Hn):Ku("progress_bar_steps",e?Jn+e+Fn:Jn+Sp[1]+Fn)}function cb(){Ku("progress_bar_jump_to",ue+" ("+(dy<0?"-":"")+pv(Math.abs(dy))+")"+_e+pv(yy))}function ub(e,t){var n=Gu?Android.gettime()/1e3:0;window.clearTimeout(Bg),ly=!0,ry<Sp.length-1&&gy++%6==0&&ry++,dy+=Sp[ry]*e,yy=n+dy,Wg&&(yy=10*Math.floor(yy/10)),t<yy?(dy=t-n-Sp[1],yy=n+dy,gy=ry=0):yy<0&&(dy=0-n,yy=gy=ry=0),cb(),vh.style.width=yy/t*100+"%",rb(Sp[ry]*e),Bg=window.setTimeout(lb,1e3)}function _b(){var e=Gu?parseInt(Android.gettime()/1e3):0,t="#"+qc.ChannelVod_vodId;300<e&&e<Qd-300?(fy[t]&&delete fy[t],fy[t]=e,Jf("PlayVod_VodIds",JSON.stringify(fy))):Qd-300<e&&fy[t]&&(delete fy[t],Jf("PlayVod_VodIds",JSON.stringify(fy)))}function fb(){fy=Hf("PlayVod_VodIds",{});var e=mb();250<e&&hb(e-250)}function mb(){var e=0;for(var t in fy)fy.hasOwnProperty(t)&&e++;return e}function hb(e){var t=0;for(var n in fy){if(!(t<e))break;delete fy[n],t++}Jf("PlayVod_VodIds",JSON.stringify(fy))}function pb(){Xu("scene_channel_panel_bottom"),Ky(!1),Zu("dialog_vod_saved_text",kn+vv(1e3*fy["#"+qc.ChannelVod_vodId])),Yu("dialog_vod_start")}function vb(){Zy(),Xu("dialog_vod_start"),yb(),window.setTimeout(function(){Yu("scene_channel_panel_bottom")},1e3)}function gb(){return ju("dialog_vod_start")}function yb(){wb(),my=0,bb()}function bb(){Wu("dialog_vod_"+my,"dialog_end_icons_focus")}function wb(){Qu("dialog_vod_"+my,"dialog_end_icons_focus")}function kb(e){vb(),e?(delete fy["#"+qc.ChannelVod_vodId],qc.vodOffset=0,Cy()):(qc.vodOffset=fy["#"+qc.ChannelVod_vodId],_y=1e3*qc.vodOffset,sb(qc.vodOffset,Qd,!0),Ay())}function Cb(e){if(Vg===Bh||gb())switch(e.keyCode){case Ua:KE()?xh&&!CE&&(cM(),xh--,oM()):Mh&&!Nv()&&Xv()?(gh++,$v()):Nv()&&!gb()?(Fv(),2===hy?(og(),5<++lp&&(lp=1),ig()):hy||(ub(-1,Qd),vy=2500),nb()):gb()?(wb(),my?my--:my++,bb()):rg()?(mg(),_g(),--mp<0&&(mp=3),1===mp&&(mp=0),ug()):gb()||Ky(!0);break;case Na:console.log(hy),KE()?xh<SE-1&&!CE&&(cM(),xh++,oM()):!Mh||Nv()||rg()?Nv()&&!gb()?(Fv(),2===hy?(og(),--lp<1&&(lp=5),ig()):hy||(ub(1,Qd),vy=2500),nb()):gb()?(wb(),my?my--:my++,bb()):rg()?(mg(),_g(),3<++mp&&(mp=0),1===mp&&(mp=2),ug()):gb()||Ky(!0):Jf("ChatEnable",(Fh=Xv()||rg()?(zv(),!1):(qv(),!0))?"true":"false");break;case Ra:rg()?mg():Nv()&&!gb()?(2===hy&&1!==lp?(hy--,tb()):1===hy?(hy--,tb()):0<Xg&&1===lp&&(Xg--,ib()),Fv(),nb()):KE()?KE()?iM():gb()||Ky(!0):$E();break;case Va:rg()?mg():Nv()&&!gb()?(hy?1===hy?(hy++,tb()):Xg<ob()-1&&1===lp&&(Xg++,ib()):(hy++,tb()),Fv(),nb()):KE()?eM():Mh&&Xv()?(4<++kh?Kv(!(kh=1)):4===kh&&Kv(!0),Qv(!0)):gb()||Ky(!0);break;case Da:gb()?kb(my):rg()?hg(2):Nv()?hy?1===hy?(qc.Play_ChatForceDisable&&(fv()?Zr(Sr):Kr()),rg()||ng(2)):wg(2):(Fv(),nb(),dy&&db()):KE()?(Wy(!0),rf(xh,RE,Tg)):Ky(!0);break;case Ja:Lg(!0);break;case Oa:case Ba:case Ga:qc.Play_ChatForceDisable&&(fv()?Zr(Sr):Kr()),rg()||ng(2)}else switch(e.keyCode){case Ja:Tv()?(Lv(),jy()):Pv()}}var Ab={};function Eb(){console.log("InitScreens place holder")}function Mb(){pw(),vw(),yw(),bw(),ww(),Cw(),Aw()}function Ib(e){return[e+"_thumbdiv",e+"_img",e+"_infodiv",e+"_title",e+"_createdon",e+"_game",e+"_viwers",e+"_duration",e+"_cell","cpempty_",e+"_scroll",e+"_lang",e+"_row"]}function Sb(){for(var e,t={},n=0;n<arguments.length;n+=1){var a=arguments[n],i=Object.keys(a);for(e=0;e<i.length;e+=1)t[i[e]]=a[i[e]]}return t}function xb(){iu=-1,qc.Main_Go=Ab.screen,Ab.label_init(),document.body.addEventListener("keydown",$b,!1),Yu(Ab.ids[10]),Ab.status?(F_(Ab.posY),Fb(!0),x_()):Lb()}function Pb(){iu=0,Ab.label_exit(),document.body.removeEventListener("keydown",$b),Xu(Ab.ids[10]),__()}function Lb(){e_(),N_(Ab.table),__(),Ab.cursor=null,Ab.status=!1,Ab.row=document.createElement("div"),Ab.MaxOffset=0,Ab.TopRowCreated=!1,Ab.offset=0,Ab.idObject={},Ab.Cells=[],Ab.FirstLoad=!0,Ab.itemsCount=0,Ab.posX=0,Ab.posY=0,Ab.row_id=0,Ab.currY=0,Ab.coloumn_id=0,Ab.data=null,Ab.data_cursor=0,Ab.dataEnded=!1,d_(),Tb(),Bb()}function Tb(){Ab.loadingData=!0,Ab.loadingDataTry=0,Ab.loadingDataTimeout=3500}function Bb(){Ab.set_url(),Gu&&!Ab.itemsCount?Wf(Ab.url,Ab.loadingDataTimeout,2,null,Gb,Ob):Qf(Ab.url,Ab.loadingDataTimeout,2,null,Gb,Ob,!1)}function Ob(){Ab.loadingDataTry++,Ab.loadingDataTry<Ab.loadingDataTryMax?(Ab.loadingDataTimeout+=500,Bb()):(Ab.loadingData=!1,Ab.itemsCount?Ab.dataEnded=!0:(Ab.FirstLoad=!1,t_(),u_(P),Ab.key_exit()))}function Gb(e){Ab.concatenate(e)}function Ub(){var e=Ab.data.length-Ab.data_cursor;if(e>Ab.ItemsLimit?e=Ab.ItemsLimit:Ab.loadingData||(Ab.dataEnded=!0),Ab.HasSwitches&&!Ab.TopRowCreated&&Ab.addSwitches(),e){Ab.row_id||(Ab.row=document.createElement("div"),Ab.row.id=this.ids[12]+Ab.row_id);var t=Math.ceil(e/Ab.ColoumnsCount),n=Ab.row_id+t;for(Ab.row_id;Ab.row_id<n;){for(Ab.coloumn_id===Ab.ColoumnsCount&&(Ab.row=document.createElement("div"),Ab.row.id=this.ids[12]+Ab.row_id,Ab.coloumn_id=0),Ab.coloumn_id;Ab.coloumn_id<Ab.ColoumnsCount&&Ab.data_cursor<Ab.data.length;Ab.data_cursor++)Ab.data[Ab.data_cursor]&&Ab.addCell(Ab.data[Ab.data_cursor]);if(Ab.coloumn_id===Ab.ColoumnsCount)Ab.Cells[Ab.row_id]=Ab.row,Ab.row_id++;else if(Ab.data_cursor>=Ab.data.length){this.dataEnded&&(Ab.Cells[Ab.row_id]=Ab.row);break}}}Ab.emptyContent=!e&&!Ab.status,Jb()}function Rb(e,t){var n=e+"_"+t;return($c=document.createElement("div")).style.cssText=Ab.ThumbCssText,n}function Nb(e,t,n,a,i,o){var s=Rb(e,t);return $c.setAttribute("id",n[5]+s),$c.setAttribute(Su,i),$c.innerHTML='<div id="'+n[0]+s+'" class="stream_thumbnail_game"><div><img id="'+n[1]+s+'" class="stream_img" src="'+a+'" onerror="this.onerror=null;this.src=\''+Ab.img_404+'\'"></div><div id="'+n[2]+s+'" class="stream_text2"><div id="<div id="'+n[3]+s+'" class="stream_channel">'+i+"</div>"+(""!==o?'<div id="'+n[4]+s+'"class="stream_info" style="width: 100%; display: inline-block;">'+o+"</div>":"")+"</div></div>",$c}function Vb(e,t,n,a,i,o,s,d,l,r,c,u,_,f,m,h){var p=Rb(e,t);return $c.setAttribute("id",n[8]+p),$c.setAttribute(Su,JSON.stringify([c,r,s[2],u,i,_,f,m,h,s[0],l,s[1]+s[2]])),$c.innerHTML='<div id="'+n[0]+p+'" class="stream_thumbnail_clip"><div><img id="'+n[1]+p+'" class="stream_img" src="'+a+'" onerror="this.onerror=null;this.src=\''+Ab.img_404+'\'"></div><div id="'+n[2]+p+'" class="stream_text2"><div style="line-height: 14px;"><div id="'+n[3]+p+'" class="stream_channel" style="width: 72%; display: inline-block; font-size: 85%;">'+i+'</div><div id="'+n[7]+p+'"class="stream_info" style="width:27%; float: right; text-align: right; display: inline-block;">'+l+'</div></div><div id="'+n[11]+p+'"class="stream_info">'+s[0]+_a+s[1]+s[2]+'</div><div id="'+n[6]+p+'"class="stream_info">'+d+D+'</div><div  style="line-height: 12px;"><div id="'+n[4]+p+'"class="stream_info" style="width: 59%; display: inline-block;">'+o[0]+o[1]+'</div><div id="'+n[5]+p+'"class="stream_info" style="width: 39%; display: inline-block; float: right; text-align: right;">'+V+pv(r)+"</div></div></div></div>",$c}function Db(e,t,n,a,i){var o=Rb(e,t);return $c.setAttribute("id",a[8]+o),$c.setAttribute(Su,JSON.stringify(n)),$c.innerHTML='<div id="'+a[0]+o+'" class="stream_thumbnail_clip"><div><img id="'+a[1]+o+'" class="stream_img" src="'+i[0]+'" onerror="this.onerror=null;this.src=\''+Ab.img_404+'\'"></div><div id="'+a[2]+o+'" class="stream_text2"><div style="line-height: 14px;"><div id="'+a[3]+o+'" class="stream_channel" style="width: 66%; display: inline-block;">'+i[1]+'</div><div id="'+a[7]+o+'"class="stream_info" style="width:33%; float: right; text-align: right; display: inline-block;">'+i[5]+'</div></div><div id="'+a[4]+o+'"class="stream_info">'+sx.parse(i[2])+'</div><div id="'+a[5]+o+'"class="stream_info">'+v+i[3]+'</div><div id="'+a[6]+o+'"class="stream_info">'+i[4]+"</div></div></div>",$c}function Jb(){if(Ab.status)l_(Ab.posX,Ab.posY,Ab.ColoumnsCount,Ab.itemsCount);else{if(Ab.emptyContent)u_(Ab.empty_str());else{Ab.status=!0;for(var e=document.getElementById(Ab.table),t=0;t<(Ab.Cells.length<Ab.visiblerows?Ab.Cells.length:Ab.visiblerows);t++)e.appendChild(Ab.Cells[t])}ou&&Ab.status&&gC.restor_playback.defaultValue?qc.Play_WasPlaying?(L_(qc.Main_Go),qc.Main_Go=Hc,qc.vodOffset||(qc.vodOffset=1),Qd=qc.vodOffset+1,Iv(qn),1===qc.Play_WasPlaying?cf():ff(),I_(!0),window.setTimeout(function(){rp||Sv()},2e3)):1!==Hc?(L_(qc.Main_Go),qc.Main_Go=Hc,hf(Ab.posY+"_"+Ab.posX,Ab.ids),I_()):(qc.Never_run&&v_(),qc.Never_run=!1,Fb(),x_()):(Fb(),x_()),ou=!1,Ab.FirstLoad=!1,t_()}}function Fb(e){if(Ab.emptyContent){if(!Ab.HasSwitches)return void Ab.key_exit();Ab.posY=-1}if(Ab.posY<0)return jb(),void(Ab.emptyContent||l_(Ab.posX,Ab.posY+1,Ab.ColoumnsCount,Ab.itemsCount));qb(e),2<Ab.posY&&Ab.data_cursor+dw>Ab.data.length&&!Ab.dataEnded&&!Ab.loadingData?(Tb(),Bb()):Ab.posY+Ab.ItemsReloadLimit>Ab.itemsCount/Ab.ColoumnsCount&&Ab.data_cursor<Ab.data.length&&gf(function(){Ab.loadDataSuccess()}),Yc&&hf(Ab.posY+"_"+Ab.posX,Ab.ids)}function Hb(e){return null!==document.getElementById(e)}function qb(e){if(Ab.currY<Ab.posY)1<Ab.posY&&Ab.Cells.length-1>=Ab.posY+1&&(document.getElementById(Ab.table).appendChild(Ab.Cells[Ab.posY+1]),Hb(Ab.ids[12]+(Ab.posY-2))&&document.getElementById(Ab.ids[12]+(Ab.posY-2)).remove());else if(Ab.currY>Ab.posY&&Ab.posY){var t=document.getElementById(Ab.table);t.insertBefore(Ab.Cells[Ab.posY-1],t.childNodes[Ab.HasSwitches?1:0]),Hb(Ab.ids[12]+(Ab.posY+2))&&document.getElementById(Ab.ids[12]+(Ab.posY+2)).remove()}Ab.currY=Ab.posY,Wu(Ab.ids[0]+Ab.posY+"_"+Ab.posX,Iu),l_(Ab.posX,Ab.posY,Ab.ColoumnsCount,Ab.itemsCount),Ab.addFocus(Ab.posY,Ab.posX,Ab.ids,e)}function zb(e,t,n,a){e<2&&H_(e)||a?e?C_(e+1,0,n[0])&&mf(n[10],-1*document.getElementById(n[8]+(e-1)+"_"+t).offsetTop-10):mf(n[10],.07*screen.height):ef()}function Xb(e,t,n,a){H_(e)||a?Ab.posY<Ab.Cells.length-1&&mf(n[10]?n[10]:n[7],-1*document.getElementById(n[5]+e+"_"+t).offsetTop+.025*screen.height):Ab.Cells.length-1===e&&C_(e-1,t,n[0])?mf(n[10]?n[10]:n[7],-1*document.getElementById(n[5]+(e-1)+"_"+t).offsetTop+.025*screen.height):ef()}function Yb(e,t){hf(Ab.posY+"_"+Ab.posX,Ab.ids),Ab.posY+=e,Ab.posX=t,Fb()}function jb(){1<Ab.posX?Ab.posX=0:Ab.posX<0&&(Ab.posX=1),Wu(Ab.ids[0]+"y_"+Ab.posX,Iu)}function Wb(){1<Ab.posX?Ab.posX=0:Ab.posX<0&&(Ab.posX=1),Qu(Ab.ids[0]+"y_"+Ab.posX,Iu)}function Qb(e){y_()?g_():h_()?m_():(e===Ab.screen?qc.Main_Go=wc:qc.Main_Go=e,Pb())}function Zb(e){if(!Ab.HasSwitches||Ab.posY||-1!==e||Ab.emptyContent){if(Ab.HasSwitches&&-1===Ab.posY&&C_(0,Ab.posX,Ab.ids[0]))Ab.posY=0,Fb(),Wb();else for(var t=0;t<Ab.ColoumnsCount;t++)if(C_(Ab.posY+e,Ab.posX-t,Ab.ids[0]))return void Yb(e,Ab.posX-t)}else hf(Ab.posY+"_"+Ab.posX,Ab.ids),Ab.posY=-1,1<Ab.posX&&(Ab.posX=1),jb()}function Kb(e,t){Ab.HasSwitches&&-1===Ab.posY?(Ab.posY=-1,Wb(),Ab.posX++,jb()):C_(Ab.posY,Ab.posX+e,Ab.ids[0])?Yb(0,Ab.posX+e):C_(Ab.posY+e,t,Ab.ids[0])&&Yb(e,t)}function $b(e){if(!Ab.FirstLoad&&!af())switch(nf(),e.keyCode){case Ja:Ab.key_exit();break;case Ua:Kb(-1,Ab.ColoumnsCount-1);break;case Na:Ab.dataEnded||Ab.posX<Ab.ColoumnsCount-1||Ab.Cells.length-1>=Ab.posY+2?Kb(1,0):Fb(!0);break;case Ra:Zb(-1);break;case Va:Ab.dataEnded||Ab.Cells.length-1>=Ab.posY+2?Zb(1):Fb(!0);break;case Oa:case Ba:case Ga:case Da:Ab.key_play()}}Ab.FirstLoad=!1;var ew,tw,nw,aw,iw,ow,sw,dw=100,lw="",rw="",cw="",uw="",_w="",fw="",mw={posX:0,posY:0,currY:0,row_id:0,coloumn_id:0,dataEnded:!1,idObject:{},loadingData:!1,itemsCount:0,loadingDataTryMax:5,loadingDataTimeout:3500,MaxOffset:0,offset:0,status:!1,emptyContent:!1,itemsCountCheck:!1,FirstLoad:!1,row:0,data:null,data_cursor:0,loadDataSuccess:Ub,set_ThumbSize:function(){this.ThumbCssText="width: "+this.ThumbSize+"%; display: inline-block; padding: 3px;"},key_exit:function(){y_()?g_():h_()?m_():(C_(this.posY,this.posX,this.ids[0])?hf(this.posY+"_"+this.posX,this.ids):this.posY<0&&(Wb(),this.posY=0),Gf($b))}},hw={ThumbSize:32.65,visiblerows:3,ItemsLimit:ru,ItemsReloadLimit:uu,ColoumnsCount:cu,addFocus:zb,img_404:La,empty_str:function(){return L+W},key_play:function(){rf(this.posY+"_"+this.posX,this.ids,$b)}};function pw(){(ow=Sb(ow=Sb({ids:Ib("Live"),table:"stream_table_live",screen:wc,base_url:"https://api.twitch.tv/kraken/streams?limit="+dw,set_url:function(){this.offset&&this.offset+dw>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+"&offset="+this.offset+(""!==tu?"&broadcaster_language="+tu:"")},label_init:function(){qc.Main_CenterLablesVectorPos=0,Wu("top_bar_live","icon_center_focus")},label_exit:function(){Qu("top_bar_live","icon_center_focus")},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.MaxOffset=t._total,this.data=this.data.concat(t.streams),this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadingData=!1}else this.data=JSON.parse(e),this.MaxOffset=this.data._total,this.data=this.data.streams,this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadDataSuccess(),this.loadingData=!1},addCell:function(e){this.idObject[e.channel._id]||(this.itemsCount++,this.idObject[e.channel._id]=1,this.row.appendChild(Db(this.row_id,this.coloumn_id,[e.channel.name,e.channel._id,e.channel.status],this.ids,[e.preview.template.replace("{width}x{height}",Eu),k_(JSON.stringify(e.stream_type))+e.channel.display_name,e.channel.status,e.game,y+gv(e.created_at)+" "+h+b_(e.viewers)+J,w_(e.video_height,e.average_fps,e.channel.broadcaster_language)])),this.coloumn_id++)}},mw),hw)).set_ThumbSize()}function vw(){(sw=Sb(sw=Sb({ids:Ib("Featured"),table:"stream_table_featured",screen:Jc,base_url:"https://api.twitch.tv/kraken/streams/featured?limit="+dw,set_url:function(){this.url=this.base_url+"&offset="+this.offset+(uo()&&ji[qc.Users_Position].access_token?"&oauth_token="+ji[qc.Users_Position].access_token:"")},label_init:function(){qc.Main_CenterLablesVectorPos=2,Wu("top_bar_featured","icon_center_focus")},label_exit:function(){Qu("top_bar_featured","icon_center_focus")},concatenate:function(e){this.data=JSON.parse(e),this.data=this.data.featured,this.dataEnded=!0,this.loadDataSuccess(),this.loadingData=!1},addCell:function(e){e=e.stream,this.idObject[e.channel._id]||(this.itemsCount++,this.idObject[e.channel._id]=1,this.row.appendChild(Db(this.row_id,this.coloumn_id,[e.channel.name,e.channel._id,e.channel.status],this.ids,[e.preview.template.replace("{width}x{height}",Eu),k_(JSON.stringify(e.stream_type))+e.channel.display_name,e.channel.status,e.game,y+gv(e.created_at)+" "+h+b_(e.viewers)+J,w_(e.video_height,e.average_fps,e.channel.broadcaster_language)])),this.coloumn_id++)}},mw),hw)).set_ThumbSize()}var gw={ThumbSize:32.65,ItemsLimit:ru,TopRowCreated:!1,ItemsReloadLimit:uu,ColoumnsCount:cu,addFocus:zb,cursor:null,visiblerows:3,period:["day","week","month","all"],img_404:La,empty_str:function(){return L+U},HasSwitches:!0,SwitchesIcons:["history","play-1"],addSwitches:function(){this.TopRowCreated=!0,this.row=document.createElement("div");for(var e,t,n=[Ma+Ma+m,Ma+Ma+da],a=0;a<n.length;a++)e='<i class="icon-'+this.SwitchesIcons[a]+' stream_channel_fallow_icon"></i>'+n[a],(t=document.createElement("div")).setAttribute("id",this.ids[8]+"y_"+a),t.className="stream_cell_period",t.innerHTML='<div id="'+this.ids[0]+"y_"+a+'" class="stream_thumbnail_channel_vod" ><div id="'+this.ids[3]+"y_"+a+'" class="stream_channel_fallow_game">'+e+"</div></div>",this.row.appendChild(t);document.getElementById(this.table).appendChild(this.row)},key_play:function(){-1===this.posY?this.loadingData||(this.posX?(Bm=!0,Wb(),this.posX=0,this.posY=0,uf(this.posY+"_"+this.posX,this.ids,$b)):(this.periodPos++,4<this.periodPos&&(this.periodPos=1),this.SetPeriod(),Lb())):uf(this.posY+"_"+this.posX,this.ids,$b)},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.cursor=t._cursor,""===this.cursor&&(this.dataEnded=!0),this.data=this.data.concat(t.clips),this.loadingData=!1}else this.data=JSON.parse(e),this.cursor=this.data._cursor,""===this.cursor&&(this.dataEnded=!0),this.data=this.data.clips,this.loadDataSuccess(),this.loadingData=!1},Cells:[],addCell:function(e){this.idObject[e.tracking_id]||(this.itemsCount++,this.idObject[e.tracking_id]=1,this.row.appendChild(Vb(this.row_id,this.coloumn_id,this.ids,e.thumbnails.medium,e.broadcaster.display_name,[on,G_(e.created_at)],[sx.parse(e.title),v,e.game],b_(e.views),"["+e.language.toUpperCase()+"]",e.duration,e.slug,e.broadcaster.name,e.broadcaster.logo.replace("150x150","300x300"),e.broadcaster.id,null!==e.vod?e.vod.id:null,null!==e.vod?e.vod.offset:null)),this.coloumn_id++)}};function yw(){(ew=Sb(ew=Sb({ids:Ib("Clip"),table:"stream_table_clip",screen:Nc,periodPos:Ff("Clip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?limit="+dw,set_url:function(){this.url=this.base_url+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")+(""!==tu?"&language="+tu:"")},SetPeriod:function(){Zu("top_bar_clip",U+O_(au[this.periodPos-1])),Jf("Clip_periodPos",this.periodPos)},label_init:function(){qc.Main_CenterLablesVectorPos=5,this.SetPeriod(),Wu("top_bar_clip","icon_center_focus"),zu("label_refresh","icon-refresh",t+Yt)},label_exit:function(){T_(),Qu("top_bar_clip","icon_center_focus"),zu("label_refresh","icon-refresh",t+Yt)}},mw),gw)).set_ThumbSize()}function bw(){(tw=Sb(tw=Sb({ids:Ib("ChannelClip"),table:"stream_table_channel_clip",screen:Bc,periodPos:Ff("ChannelClip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?channel=",set_url:function(){this.url=this.base_url+encodeURIComponent(qc.Main_selectedChannel)+"&limit="+dw+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")},SetPeriod:function(){Zu("top_bar_game",U+au[this.periodPos-1]),Jf("ChannelClip_periodPos",this.periodPos)},label_init:function(){qc.Main_CenterLablesVectorPos=1,!qc.Search_isSearching&&qc.Main_selectedChannel_id&&Ud(),qc.Main_selectedChannel!==this.lastselectedChannel&&(this.status=!1),B_(),this.SetPeriod(),Ku("top_bar_user",qc.Main_selectedChannelDisplayname),zu("label_side_panel","icon-arrow-circle-left",I),this.lastselectedChannel=qc.Main_selectedChannel},label_exit:T_},mw),gw)).set_ThumbSize()}function ww(){(nw=Sb(nw=Sb({ids:Ib("AGameClip"),table:"stream_table_a_game_clip",screen:Dc,periodPos:Ff("AGameClip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?game=",set_url:function(){this.url=this.base_url+encodeURIComponent(qc.Main_gameSelected)+"&limit="+dw+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")+(""!==tu?"&language="+tu:"")},SetPeriod:function(){Zu("top_bar_game",b+O_(U+au[this.periodPos-1]+": "+qc.Main_gameSelected)),Jf("AGameClip_periodPos",this.periodPos)},label_init:function(){qc.Main_CenterLablesVectorPos=3,this.SetPeriod(),Wu("top_bar_game","icon_center_focus"),zu("label_side_panel","icon-arrow-circle-left",I),this.gameSelected!==qc.Main_gameSelected&&(this.status=!1),this.gameSelected=qc.Main_gameSelected},label_exit:function(){Qu("top_bar_game","icon_center_focus"),Zu("top_bar_game",f),zu("label_side_panel","icon-ellipsis",Rn)}},mw),gw)).set_ThumbSize()}var kw={ThumbSize:19.35,visiblerows:3,ItemsLimit:_u,ItemsReloadLimit:mu,ColoumnsCount:fu,addFocus:Xb,img_404:xa,empty_str:function(){return L+Z},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.MaxOffset=t._total,this.data=this.data.concat(this.screen===Ic?t.follows:t.top),this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadingData=!1}else this.data=JSON.parse(e),this.MaxOffset=this.data._total,this.data=this.screen===Ic?this.data.follows:this.data.top,this.offset=this.data.length,this.isLive?this.dataEnded=!0:this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadDataSuccess(),this.loadingData=!1},key_play:function(){qc.Main_gameSelected=document.getElementById(this.ids[5]+this.posY+"_"+this.posX).getAttribute(Su),document.body.removeEventListener("keydown",$b),qc.Main_BeforeAgame=this.screen,qc.Main_Go=Ac,qc.Main_BeforeAgameisSet=!0,Go=!1,iu=0,document.body.removeEventListener("keydown",$b),Xu(this.ids[10]),S_(),hf(this.posY+"_"+this.posX,this.ids)},addCell:function(e){var t=this.isLive||this.screen===Cc,n=t?e.game:e;this.idObject[n._id]||(this.itemsCount++,this.idObject[n._id]=1,this.row.appendChild(Nb(this.row_id,this.coloumn_id,this.ids,n.box.template.replace("{width}x{height}",Mu),n.name,t?b_(e.channels)+" "+E+h+b_(e.viewers)+J:"")),this.coloumn_id++)}};function Cw(){(aw=Sb(aw=Sb({ids:Ib("Game"),table:"stream_table_games",screen:Cc,base_url:"https://api.twitch.tv/kraken/games/top?limit="+dw,set_url:function(){this.offset&&this.offset+dw>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+"&offset="+this.offset},label_init:function(){qc.Main_CenterLablesVectorPos=3,Wu("top_bar_game","icon_center_focus")},label_exit:function(){Qu("top_bar_game","icon_center_focus")}},mw),kw)).set_ThumbSize()}function Aw(){(iw=Sb(iw=Sb({ids:Ib("UserGames"),table:"stream_table_user_games",screen:Ic,isLive:qf("user_Games_live",!0),OldUserName:"",base_url:"https://api.twitch.tv/api/users/",set_url:function(){this.offset&&this.offset+dw>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+encodeURIComponent(ji[qc.Users_Position].name)+"/follows/games",this.isLive?this.url+="/live?limit=750":this.url+="?limit="+dw+"&offset="+this.offset},key_refresh:function(){this.isLive=!this.isLive,Zu("top_bar_user",u+O_(ji[qc.Users_Position].name+" "+(this.isLive?Z:zt))),Lb(),Jf("user_Games_live",this.isLive?"true":"false"),nI&&cI()},label_init:function(){qc.Main_CenterLablesVectorPos=1,zu("label_refresh","icon-refresh",Xt+Z+"/"+zt+":"+Yt),zu("label_side_panel","icon-arrow-circle-left",I),Wu("top_bar_user","icon_center_focus"),this.OldUserName!==ji[qc.Users_Position].name&&(this.status=!1),this.OldUserName=ji[qc.Users_Position].name,Zu("top_bar_user",u+O_(ji[qc.Users_Position].name+" "+(this.isLive?Z:zt)))},label_exit:function(){qc.Users_Position=0,Qu("top_bar_user","icon_center_focus"),zu("label_refresh","icon-refresh",t+Yt),Ku("top_bar_user",u),zu("label_side_panel","icon-ellipsis",Rn)}},mw),kw)).set_ThumbSize()}var Ew=0,Mw=0,Iw=!1,Sw=0,xw={},Pw=[],Lw=!1,Tw=0,Bw=5,Ow=3500,Gw=0,Uw=0,Rw=!1,Nw=!1,Vw="",Dw=!1,Jw=["sc_thumbdiv","sc_img","sc_infodiv","sc_displayname","sc_cell","scempty_","search_channel_scroll"];function Fw(){qc.Main_CenterLablesVectorPos=1,qc.Main_Go=Uc,qc.isLastSChannels=!0,qc.Search_isSearching=!0,Vw!==qc.Search_data&&(Nw=!1),B_(),Zu("top_bar_user",n+O_(E+" '"+qc.Search_data+"'")),document.body.addEventListener("keydown",nk,!1),Nw?(F_(Ew),Yu(Jw[6]),ek(),x_()):qw()}function Hw(){T_(),document.body.removeEventListener("keydown",nk),Xu(Jw[6])}function qw(){N_("stream_table_search_channel"),Xu(Jw[6]),e_(),__(),Vw=qc.Search_data,Nw=!1,xw={},Bf=!(Sw=Uw=Gw=0),Ew=Mw=0,Iw=Dw=!(Pw=[]),d_(),zw(),Xw()}function zw(){D_(),Lw=!0,Tw=0,Ow=3500}function Xw(){var e=Sw+Gw;e&&Uw-1<e&&(e=Uw-hu,Iw=!0);var t="https://api.twitch.tv/kraken/search/channels?query="+encodeURIComponent(qc.Search_data)+"&limit="+hu+"&offset="+e;Gu&&!Sw?Wf(t,Ow,2,null,jw,Yw):Qf(t,Ow,2,null,jw,Yw,!1)}function Yw(){++Tw<Bw?(Ow+=500,Xw()):(Lw=!1,Sw?(Iw=!0,Qw()):(Bf=!1,t_(),u_(P)))}function jw(e){var t=JSON.parse(e),n=t.channels.length;Uw=parseInt(t._total),n<hu&&(Iw=!0);var a=Sw;Rw=!(Sw+=n);var i=n/pu;0<n%pu&&i++;for(var o,s,d,l,r,c=0,u=document.getElementById("stream_table_search_channel"),_=0;_<i;_++){for(s=a/pu+_,d=document.createElement("tr"),o=0;o<pu&&c<n;o++,c++)r=(l=t.channels[c])._id,xw[r]?o--:(xw[r]=1,d.appendChild(Ww(s,s+"_"+o,[l.name,r,l.logo,l.display_name])));for(;o<pu;o++)Iw&&!Dw&&(Dw=!0,Sw=s*pu+o),d.appendChild(z_(Jw[5]+s+"_"+o)),Pw.push(Jw[5]+s+"_"+o);u.appendChild(d)}Qw()}function Ww(e,t,n){return e<4&&q_(n[2]),X_(t,Jw,n)}function Qw(){if(Nw){if(V_(Pa),0<Pw.length&&!Iw)return zw(),void Zw();ek(!0),Pw=[]}else Rw?u_(d):(Nw=!0,V_(Pa),ek(),x_()),Yu(Jw[6]),Bf=!1,t_();Lw=!1}function Zw(){c_(Pw.length);var e=Sw+Gw;e&&Uw-1<e&&(e=Uw-gu,Iw=!0),Yf("https://api.twitch.tv/kraken/search/channels?query="+encodeURIComponent(qc.Search_data)+"&limit="+gu+"&offset="+e,Ow,2,null,$w,Kw)}function Kw(){++Tw<Bw?(Ow+=500,Zw()):(Iw=!0,Sw-=Pw.length,Pw=[],Qw())}function $w(e){var t,n,a=JSON.parse(e),i=a.channels.length,o=0,s=0,d=[];for(Uw=parseInt(a._total),i<gu&&(Iw=!0);o<Pw.length&&s<i;o++,s++)n=(t=a.channels[s])._id,xw[n]?o--:(xw[n]=1,Y_(Pw[o],[t.name,n,t.logo,t.display_name],Jw),d.push(o));for(o=d.length-1;-1<o;o--)Pw.splice(d[o],1);Gw+=s,Iw&&(Sw-=Pw.length,Pw=[]),Qw()}function ek(e){of(Ew,Mw,Jw,pu,Sw,e),Sw/pu<Ew+vu&&!Iw&&!Lw&&(zw(),Xw()),Yc&&tk()}function tk(){Sw&&hf(Ew+"_"+Mw,Jw)}function nk(e){var t;if(!Bf&&!af())switch(nf(),e.keyCode){case Ja:y_()?g_():h_()?m_():(tk(),Gf(nk));break;case Ua:if(C_(Ew,Mw-1,Jw[0]))tk(),Mw--,ek();else for(t=pu-1;-1<t;t--)if(C_(Ew-1,t,Jw[0])){tk(),Ew--,Mw=t,ek();break}break;case Na:C_(Ew,Mw+1,Jw[0])?(tk(),Mw++,ek()):C_(Ew+1,0,Jw[0])&&(tk(),Ew++,Mw=0,ek());break;case Ra:for(t=0;t<pu;t++)if(C_(Ew-1,Mw-t,Jw[0])){tk(),Ew--,Mw-=t,ek();break}break;case Va:for(t=0;t<pu;t++)if(C_(Ew+1,Mw-t,Jw[0])){tk(),Ew++,Mw-=t,ek();break}break;case Oa:case Ba:case Ga:case Da:qc.Main_selectedChannel=document.getElementById(Jw[4]+Ew+"_"+Mw).getAttribute(Su),qc.Main_selectedChannel_id=document.getElementById(Jw[4]+Ew+"_"+Mw).getAttribute("data-id"),qc.Main_selectedChannelDisplayname=document.getElementById(Jw[3]+Ew+"_"+Mw).textContent,document.body.removeEventListener("keydown",nk),qc.Main_BeforeChannel=Uc,qc.Main_Go=Lc,qc.Main_BeforeChannelisSet=!0,Ks=Qa=!1,Xu(Jw[6]),I_()}}var ak=!1,ik=0,ok=0,sk=0,dk=0,lk=5,rk=3500,ck=0,uk=0,_k=!1,fk=!1,mk="",hk=["sgthumbdiv","sgimg","sginfodiv","sgdisplayname","sgviwers","sgcell","sgempty_","search_games_scroll"];function pk(){qc.Main_CenterLablesVectorPos=1,qc.Main_Go=xc,qc.Search_isSearching=!0,B_(),mk!==qc.Search_data&&(ak=!1),Zu("top_bar_user",n+O_(f+" '"+qc.Search_data+"'")),document.body.addEventListener("keydown",Ik,!1),ak?(F_(ik),Yu(hk[7]),Ek(),x_()):gk()}function vk(){qc.Search_isSearching||T_(),document.body.removeEventListener("keydown",Ik),qc.Games_return=!1,Xu(hk[7])}function gk(){N_("stream_table_search_game"),Xu(hk[7]),e_(),__(),mk=qc.Search_data,fk=ak=!1,ik=ok=sk=uk=ck=0,d_(),yk(),bk()}function yk(){D_(),Bf=!0,dk=0,rk=3500}function bk(){Yf("https://api.twitch.tv/kraken/search/games?query="+encodeURIComponent(qc.Search_data),rk,2,null,kk,wk)}function wk(){++dk<lk?(rk+=500,bk()):(Bf=!1,sk?Ak():(t_(),u_(P)))}function kk(e){var t=JSON.parse(e),n=0;null!==t.games&&(n=t.games.length);var a=sk;_k=!(sk+=n);var i=n/fu;0<n%fu&&i++;for(var o,s,d,l,r=0,c=document.getElementById("stream_table_search_game"),u=0;u<i;u++){for(s=a/fu+u,d=document.createElement("tr"),o=0;o<fu&&r<n;o++,r++)l=t.games[r],d.appendChild(Ck(s,s+"_"+o,[l.name,l.box.template.replace("{width}x{height}",Mu),""]));for(;o<fu;o++)fk||(fk=!0,sk=s*fu+o),d.appendChild(z_(hk[6]+s+"_"+o));c.appendChild(d)}Ak()}function Ck(e,t,n){return e<2&&q_(n[1]),K_(t,hk,n)}function Ak(){ak||(_k?u_(d):(ak=!0,V_(La),Ek(),x_()),t_()),Yu(hk[7]),Bf=!1,l_(ok,ik,fu,sk)}function Ek(){df(ik,ok,hk,fu,sk),Yc&&Mk()}function Mk(){sk&&hf(ik+"_"+ok,hk)}function Ik(e){var t;if(!Bf&&!af())switch(nf(),e.keyCode){case Ja:y_()?g_():h_()?m_():(Mk(),Gf(Ik));break;case Ua:if(C_(ik,ok-1,hk[0]))Mk(),ok--,Ek();else for(t=fu-1;-1<t;t--)if(C_(ik-1,t,hk[0])){Mk(),ik--,ok=t,Ek();break}break;case Na:C_(ik,ok+1,hk[0])?(Mk(),ok++,Ek()):C_(ik+1,0,hk[0])&&(Mk(),ik++,ok=0,Ek());break;case Ra:for(t=0;t<fu;t++)if(C_(ik-1,ok-t,hk[0])){Mk(),ik--,ok-=t,Ek();break}break;case Va:for(t=0;t<fu;t++)if(C_(ik+1,ok-t,hk[0])){Mk(),ik++,ok-=t,Ek();break}break;case Oa:case Ba:case Ga:case Da:qc.gameSelectedOld=qc.Main_gameSelected,vk(),qc.Main_gameSelected=document.getElementById(hk[5]+ik+"_"+ok).getAttribute(Su),document.body.removeEventListener("keydown",Ik),qc.Main_Go=Ac,qc.Games_return=!0,I_()}}var Sk=0,xk=0,Pk=!1;function Lk(){__(),Xu("label_refresh"),zu("label_side_panel","icon-arrow-circle-left",I),Ku("top_bar_user",n),document.getElementById("top_lables").style.marginLeft="14%",document.getElementById("top_bar_live").style.display="none",document.getElementById("top_bar_featured").style.display="none",document.getElementById("top_bar_game").style.display="none",document.getElementById("top_bar_vod").style.display="none",document.getElementById("top_bar_clip").style.display="none",rc.placeholder=w,Wu("top_bar_user","icon_center_focus"),Yu("search_scroll"),xk=Sk=0,Ok(),Uk()}function Tk(){Rk(!1),document.body.removeEventListener("keydown",Gk),Ok(),qc.Main_Go=qc.Main_BeforeSearch,document.getElementById("top_lables").style.marginLeft="18.5%",Ku("top_bar_user",u),Qu("top_bar_user","icon_center_focus"),zu("label_side_panel","icon-ellipsis",Rn),Yu("label_refresh"),document.getElementById("top_bar_live").style.display="inline-block",document.getElementById("top_bar_featured").style.display="inline-block",document.getElementById("top_bar_game").style.display="inline-block",document.getElementById("top_bar_vod").style.display="inline-block",document.getElementById("top_bar_clip").style.display="inline-block",rc.value="",Xu("search_scroll")}function Bk(){Tk(),gf(function(){xk?1===xk?pk():2===xk&&aC():Fw()})}function Ok(){Qu("chanel_button","button_search_focused"),Qu("game_button","button_search_focused"),Qu("live_button","button_search_focused"),Sk&&(xk?1===xk?Wu("game_button","button_search_focused"):2===xk&&Wu("live_button","button_search_focused"):Wu("chanel_button","button_search_focused"))}function Gk(e){if(!Pk)switch(e.keyCode){case Ja:y_()?g_():h_()?m_():(Tk(),I_());break;case Ua:1===Sk&&(--xk<0&&(xk=2),Ok());break;case Na:1===Sk&&(2<++xk&&(xk=0),Ok());break;case Ra:1===Sk&&(Sk=0,Ok(),Uk());break;case Va:Sk?1===Sk&&(Sk=0,Ok(),Uk()):(Rk(!1),Sk=1,Ok());break;case Oa:case Ba:case Ga:case Da:Sk?""!==rc.value&&null!==rc.value?(qc.Search_data=rc.value,rc.value="",Bk()):(u_(s),window.setTimeout(function(){__()},1e3)):Uk()}}function Uk(){document.body.removeEventListener("keydown",Gk),document.body.addEventListener("keydown",Vk,!1),rc.placeholder=w,rc.focus(),Pk=!0}function Rk(e){rc.blur(),Nk(),document.body.removeEventListener("keydown",Vk),rc.placeholder=A+w,e&&document.body.addEventListener("keydown",Gk,!1),Pk=!1}function Nk(){if(null!==rc){var e=rc.cloneNode(!0);rc.parentNode.replaceChild(e,rc),rc=document.getElementById("search_input")}}function Vk(e){switch(e.keyCode){case Ja:h_()?m_():y_()?g_():(Tk(),I_());break;case za:rc.value="";break;case Ha:case Va:Rk(!0),Sk=1,Ok();break;case Fa:rc.value=rc.value.slice(0,-1);break;case qa:rc.value+=" "}}var Dk=0,Jk=0,Fk=!1,Hk=0,qk={},zk=[],Xk=!1,Yk=0,jk=5,Wk=3500,Qk=0,Zk=0,Kk=!1,$k=!1,eC=!1,tC="",nC=["sl_thumbdiv","sl_img","sl_infodiv","sl_displayname","sl_streamtitle","sl_streamgame","sl_viwers","sl_quality","sl_cell","slempty_","search_live_scroll"];function aC(){qc.Main_CenterLablesVectorPos=1,qc.Main_Go=Pc,qc.Search_isSearching=!0,B_(),tC!==qc.Search_data&&($k=!1),Zu("top_bar_user",n+O_(_+" '"+qc.Search_data+"'")),document.body.addEventListener("keydown",pC,!1),$k?(F_(Dk),Yu(nC[10]),mC(),x_()):oC()}function iC(){T_(),document.body.removeEventListener("keydown",pC),Xu(nC[10])}function oC(){N_("stream_table_search_live"),Xu(nC[10]),e_(),__(),tC=qc.Search_data,$k=!1,Bf=!(eC=!(zk=[])),Dk=Jk=Hk=Zk=Qk=0,Fk=!(qk={}),d_(),sC(),dC()}function sC(){D_(),Xk=!0,Yk=0,Wk=3500}function dC(){var e=Hk+Qk;e&&Zk-1<e&&(e=Zk-ru,Fk=!0);var t="https://api.twitch.tv/kraken/search/streams?query="+encodeURIComponent(qc.Search_data)+"&limit="+ru+"&offset="+e;Gu&&!Hk?Wf(t,Wk,2,null,rC,lC):Qf(t,Wk,2,null,rC,lC,!1)}function lC(){++Yk<jk?(Wk+=500,dC()):(Xk=!1,Hk?(Fk=!0,cC()):(Bf=!1,t_(),u_(P)))}function rC(e){var t=JSON.parse(e),n=t.streams.length;Zk=parseInt(t._total),n<ru&&(Fk=!0);var a=Hk;Kk=!(Hk+=n);var i=n/cu;0<n%cu&&i++;for(var o,s,d,l,r,c=0,u=document.getElementById("stream_table_search_live"),_=0;_<i;_++){for(s=a/cu+_,d=document.createElement("tr"),o=0;o<cu&&c<n;o++,c++)r=(l=t.streams[c]).channel._id,qk[r]?o--:(qk[r]=1,d.appendChild(W_(s,s+"_"+o,[l.channel.name,r],nC,[l.preview.template.replace("{width}x{height}",Eu),k_(JSON.stringify(l.stream_type))+l.channel.display_name,l.channel.status,l.game,y+gv(l.created_at)+" "+h+b_(l.viewers)+J,w_(l.video_height,l.average_fps,l.channel.broadcaster_language)])));for(;o<cu;o++)Fk&&!eC&&(eC=!0,Hk=s*cu+o),d.appendChild(z_(nC[9]+s+"_"+o)),zk.push(nC[9]+s+"_"+o);u.appendChild(d)}cC()}function cC(){if($k){if(V_(La),0<zk.length&&!Fk)return sC(),void uC();mC(!0),zk=[]}else Kk?u_(d):($k=!0,V_(La),mC(),x_()),Yu(nC[10]),Bf=!1,t_();Xk=!1}function uC(){c_(zk.length);var e=Hk+Qk;e&&Zk-1<e&&(e=Zk-gu,Fk=!0),Yf("https://api.twitch.tv/kraken/search/streams?query="+encodeURIComponent(qc.Search_data)+"&limit="+gu+"&offset="+e,Wk,2,null,fC,_C)}function _C(){++Yk<jk?(Wk+=500,uC()):(Fk=!0,Hk-=zk.length,zk=[],cC())}function fC(e){var t,n,a=JSON.parse(e),i=a.streams.length,o=0,s=0,d=[];for(Zk=parseInt(a._total),i<gu&&(Fk=!0);o<zk.length&&s<i;o++,s++)n=(t=a.streams[s]).channel._id,qk[n]?o--:(qk[n]=1,Q_(zk[o],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",Eu),k_(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+gv(t.created_at)+" "+h+b_(t.viewers)+J,w_(t.video_height,t.average_fps,t.channel.broadcaster_language)],nC),d.push(o));for(o=d.length-1;-1<o;o--)zk.splice(d[o],1);Qk+=s,Fk&&(Hk-=zk.length,zk=[]),cC()}function mC(e){sf(Dk,Jk,nC,cu,Hk,e),Hk/cu<Dk+uu&&!Fk&&!Xk&&(sC(),dC()),Yc&&hC()}function hC(){Hk&&hf(Dk+"_"+Jk,nC)}function pC(e){var t;if(!Bf&&!af())switch(nf(),e.keyCode){case Ja:y_()?g_():h_()?m_():(hC(),Gf(pC));break;case Ua:if(C_(Dk,Jk-1,nC[0]))hC(),Jk--,mC();else for(t=cu-1;-1<t;t--)if(C_(Dk-1,t,nC[0])){hC(),Dk--,Jk=t,mC();break}break;case Na:C_(Dk,Jk+1,nC[0])?(hC(),Jk++,mC()):C_(Dk+1,0,nC[0])&&(hC(),Dk++,Jk=0,mC());break;case Ra:for(t=0;t<cu;t++)if(C_(Dk-1,Jk-t,nC[0])){hC(),Dk--,Jk-=t,mC();break}break;case Va:for(t=0;t<cu;t++)if(C_(Dk+1,Jk-t,nC[0])){hC(),Dk++,Jk-=t,mC();break}break;case Oa:case Ba:case Ga:case Da:rf(Dk+"_"+Jk,nC,pC)}}var vC=0,gC={restor_playback:{values:["no","yes"],defaultValue:2},chat_font_size:{values:["60%","80%","100%","120%","140%"],defaultValue:3},chat_brightness:{values:["0%","5%","10%","15%","20%","25%","30%","35%","40%","45%","50%","55%","60%","65%","70%","75%","80%","85%","90%","95%","100%"],defaultValue:11},force_disable_chat:{values:["no","yes"],defaultValue:2},clip_auto_play_next:{values:["no","yes"],defaultValue:2},buffer_live:{values:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],defaultValue:4},buffer_vod:{values:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],defaultValue:4},buffer_clip:{values:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],defaultValue:3},videos_animation:{values:["no","yes"],defaultValue:2},clock_offset:{values:yC(),defaultValue:49},content_lang:{values:["All"],set_values:[""],defaultValue:1}};function yC(){for(var e=[],t=43200,n=0;n<48;n++)e.push("-"+pv(t)),t-=900;for(e.push(pv(0)),t=900,n=0;n<48;n++)e.push(pv(t)),t+=900;return e}var bC=[],wC=0;function kC(){M_(),Xu("label_side_panel"),zu("label_refresh","icon-arrow-circle-left",ia),document.body.addEventListener("keydown",FC,!1),Ku("top_bar_user",a),document.getElementById("top_lables").style.marginLeft="14%",document.getElementById("top_bar_live").style.display="none",document.getElementById("top_bar_featured").style.display="none",document.getElementById("top_bar_game").style.display="none",document.getElementById("top_bar_vod").style.display="none",document.getElementById("top_bar_clip").style.display="none",Wu("top_bar_user","icon_center_focus"),Yu("settings_scroll"),OC(vC=0),SC("content_lang",Yn,qC)}function CC(){document.body.removeEventListener("keydown",FC),Yu("label_side_panel"),GC(),Ku("top_bar_user",u),document.getElementById("top_lables").style.marginLeft="18.5%",document.getElementById("top_bar_live").style.display="inline-block",document.getElementById("top_bar_featured").style.display="inline-block",document.getElementById("top_bar_game").style.display="inline-block",document.getElementById("top_bar_vod").style.display="inline-block",document.getElementById("top_bar_clip").style.display="inline-block",Qu("top_bar_user","icon_center_focus"),zu("label_refresh","icon-refresh",t+Yt),Xu("settings_scroll")}function AC(){var e,t="";t+=EC("general",gn),e="content_lang",bC.push(e),gC[e].values=[jn],t+=IC(e,Yn,""),e="clock_offset",bC.push(e),t+=MC(e,zn),e="restor_playback",bC.push(e),gC[e].values=[L,Ft],t+=IC(e,Ln,Tn),e="videos_animation",bC.push(e),gC[e].values=[L,Ft],t+=MC(e,Un),e="clip_auto_play_next",bC.push(e),gC[e].values=[L,Ft],t+=MC(e,ra),t+=EC("play",_n),e="chat_font_size",bC.push(e),t+=IC(e,Bn,On),e="chat_brightness",bC.push(e),t+=MC(e,aa),e="force_disable_chat",bC.push(e),gC[e].values=[Ft,L],t+=IC(e,ta,na),t+='<div id="setting_title_buffers" class="settings_title">'+fn+'</div><div id="setting_title_buffers_summary" class="settings_summary">'+mn+"</div>",e="buffer_live",bC.push(e),t+=MC(e,hn),e="buffer_vod",bC.push(e),t+=MC(e,pn),e="buffer_clip",bC.push(e),Zu("settings_main",t+=MC(e,vn)),wC=bC.length,KC()}function EC(e,t){return'<div id="setting_title_'+e+'" class="settings_section">'+t+"</div>"}function MC(e,t){return'<div id="'+e+'_div" class="settings_div"><div id="'+e+'_name" class="settings_name">'+t+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_left" class="left"></div></div><div id="'+e+'" class="strokedextramini settings_value">'+LC(e)+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_right" class="right"></div></div></div>'}function IC(e,t,n){return'<div id="'+e+'_div" class="settings_div"><div id="'+e+'_name" class="settings_name">'+t+'<div id="'+e+'_summary" class="settings_summary" style="font-size: 65%;">'+n+'</div></div><div class="settings_arraw_div"><div id="'+e+'arrow_left" class="left"></div></div><div id="'+e+'" class="strokedextramini settings_value">'+LC(e)+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_right" class="right"></div></div></div>'}function SC(e,t,n){Zu(e+"_name",t+'<div id="'+e+'_summary" class="settings_summary" style="font-size: 65%;">'+n+"</div>")}function xC(){var e="";for(e in Ku("setting_title_general",gn),Ku((e="clock_offset")+"_name",zn),Ku((e="content_lang")+"_name",Yn),Ku(e,LC(e)),gC[e].values=[jn],Ku("setting_title_play",_n),Ku("setting_title_buffers",fn),Ku("setting_title_buffers_summary",mn),Ku((e="buffer_live")+"_name",hn),Ku((e="buffer_vod")+"_name",pn),Ku((e="buffer_clip")+"_name",vn),SC(e="restor_playback",Ln,Tn),gC[e].values=[Ft,L],SC(e="chat_font_size",Bn,On),SC(e="force_disable_chat",ta,na),gC[e].values=[Ft,L],Ku((e="videos_animation")+"_name",Un),gC[e].values=[Ft,L],Ku((e="clip_auto_play_next")+"_name",ra),gC[e].values=[L,Ft],Ku((e="chat_brightness")+"_name",aa),gC)gC.hasOwnProperty(e)&&Ku(e,LC(e));ZC()}function PC(){for(var e in gC)gC[e].defaultValue=Ff(e,gC[e].defaultValue),gC[e].defaultValue-=1,gC[e].defaultValue>BC(e)&&(gC[e].defaultValue=0);VC(0),DC(),wh=(.05*TC("chat_brightness")).toFixed(2),SS=TC("videos_animation"),Om=TC("clip_auto_play_next"),qc.Play_ChatForceDisable=TC("force_disable_chat")}function LC(e){return gC[e].values[TC(e)]}function TC(e){return gC[e].defaultValue}function BC(e){return gC[e].values.length-1}function OC(e){var t=bC[vC];Wu(t,"settings_value_focus"),Wu(t+"_div","settings_div_focus"),RC(e),JC()}function GC(){var e=bC[vC];document.getElementById(e+"arrow_left").style.opacity="0",document.getElementById(e+"arrow_right").style.opacity="0",Qu(e,"settings_value_focus"),Qu(e+"_div","settings_div_focus")}function UC(e){var t=bC[e];Jf(t,TC(t)+1),Ku(t,LC(t)),RC(e),NC(e)}function RC(e){var t=bC[e];if(BC(t)){var n=TC(t),a=BC(t);0<n&&n<a?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="1"):n===a?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="0.2"):(document.getElementById(t+"arrow_left").style.opacity="0.2",document.getElementById(t+"arrow_right").style.opacity="1")}}function NC(e){"videos_animation"===(e=bC[e])?SS=TC("videos_animation"):"clip_auto_play_next"===e?Om=TC("clip_auto_play_next"):"buffer_live"===e?VC(1):"buffer_vod"===e?VC(2):"buffer_clip"===e?VC(3):"chat_brightness"===e?(wh=(.05*TC("chat_brightness")).toFixed(2),Zv(!1)):"force_disable_chat"===e?qc.Play_ChatForceDisable=TC("force_disable_chat"):"chat_font_size"===e?Np():"clock_offset"===e&&(DC(),wf())}function VC(e){try{e?1===e?(Ph=1e3*LC("buffer_live"),Gu&&Android.SetBuffer(1,Ph)):2===e?(Qg=1e3*LC("buffer_vod"),Gu&&Android.SetBuffer(2,Qg)):3===e&&(Mm=1e3*LC("buffer_clip"),Gu&&Android.SetBuffer(3,Mm)):(Ph=1e3*LC("buffer_live"),Qg=1e3*LC("buffer_vod"),Mm=1e3*LC("buffer_clip"),Gu&&(Android.SetBuffer(1,Ph),Android.SetBuffer(2,Qg),Android.SetBuffer(3,Mm)))}catch(e){}}function DC(){var e=TC("clock_offset");Ou=e<48?-9e5*(48-e):9e5*(e-48)}function JC(){var e=screen.height;4<vC?(e*=.09,e+=-1*document.getElementById(bC[0]).offsetTop,document.getElementById("settings_scroll").style.top=e+"px"):e*=.077,document.getElementById("settings_scroll").style.top=e+"px"}function FC(e){var t;switch(e.keyCode){case Ja:h_()?m_():y_()?g_():(CC(),I_());break;case Ua:0<TC(t=bC[vC])&&(gC[t].defaultValue-=1,UC(vC));break;case Na:TC(t=bC[vC])<BC(t)&&(gC[t].defaultValue+=1,UC(vC));break;case Ra:0<vC&&(GC(),OC(--vC));break;case Va:vC<wC-1&&(GC(),OC(++vC));break;case Da:vC||jC()}}var HC=0,qC="",zC={All:{values:["off","on"],defaultValue:2,set_values:""},"Dansk [DA]":{values:["off","on"],defaultValue:1,set_values:"da"},"Deutsch [DE]":{values:["off","on"],defaultValue:1,set_values:"de"},"English [EN]":{values:["off","on"],defaultValue:1,set_values:"en,en-gb"},"Espaol [ES]":{values:["off","on"],defaultValue:1,set_values:"es,es-mx"},"Franais [FR]":{values:["off","on"],defaultValue:1,set_values:"fr"},"Italiano [IT]":{values:["off","on"],defaultValue:1,set_values:"it"},"Magyar [HU]":{values:["off","on"],defaultValue:1,set_values:"hu"},"Nederlands [NL]":{values:["off","on"],defaultValue:1,set_values:"nl"},"Norsk [NO]":{values:["off","on"],defaultValue:1,set_values:"no"},"Polski [PL]":{values:["off","on"],defaultValue:1,set_values:"pl"},"Portugus [PT]":{values:["off","on"],defaultValue:1,set_values:"pt,pt-br"},"Slovenina [SK]":{values:["off","on"],defaultValue:1,set_values:"sk"},"Suomi [FI]":{values:["off","on"],defaultValue:1,set_values:"fi"},"Svenska [SV]":{values:["off","on"],defaultValue:1,set_values:"sv"},"Ting Vit [VI]":{values:["off","on"],defaultValue:1,set_values:"vi"},"Trke [TR]":{values:["off","on"],defaultValue:1,set_values:"tr"},"etina [CS]":{values:["off","on"],defaultValue:1,set_values:"cs"}," [EL]":{values:["off","on"],defaultValue:1,set_values:"el"}," [RU]":{values:["off","on"],defaultValue:1,set_values:"ru"}," [TH]":{values:["off","on"],defaultValue:1,set_values:"th"}," [ZH]":{values:["off","on"],defaultValue:1,set_values:"zh-cn,zh-tw"}," [JA]":{values:["off","on"],defaultValue:1,set_values:"ja"}," [KO]":{values:["off","on"],defaultValue:1,set_values:"ko"},"Romn [RO]":{values:["off","on"],defaultValue:1,set_values:"ro"}},XC=[],YC=0;function jC(){M_(),document.body.removeEventListener("keydown",FC),Xu("settings_main"),Yu("settings_lang"),rA(),Ku("top_bar_featured",yn),document.getElementById("top_bar_featured").style.display="inline-block",document.body.addEventListener("keydown",cA,!1),iA(HC=0),QC()}function WC(){document.body.removeEventListener("keydown",cA),document.body.addEventListener("keydown",FC,!1),JC(),Yu("settings_main"),Xu("settings_lang"),Ku("top_bar_featured",an),document.getElementById("top_bar_featured").style.display="none",oA(),ZC(),QC()}function QC(){""===tu&&(qC=Wn,zC.All.defaultValue=1,dA(0),Wu(XC[0],"strokedextraminired"),rA()),SC("content_lang",Yn,qC)}function ZC(){if(tu="",!nA("All")){for(var e in zC)nA(e)&&(tu+=","+zC[e].set_values);tu=tu.slice(1)}qC=""===tu?Wn:tu.toUpperCase()}function KC(){var e="";for(var t in zC)XC.push(t),zC[t].values=[L,Ft],e+=$C(t,t);Zu("settings_lang",e),YC=XC.length}function $C(e,t){return'<div id="'+e+'_div" class="settings_div"><div id="'+e+'_name" class="settings_name">'+t+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_left" class="left"></div></div><div id="'+e+'" class="'+(nA(e)?"strokedextraminired ":"")+'strokedextramini settings_value">'+tA(e)+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_right" class="right"></div></div></div>'}function eA(){for(var e in zC)zC[e].defaultValue=Ff(e,zC[e].defaultValue),zC[e].defaultValue-=1;ZC()}function tA(e){return zC[e].values[nA(e)]}function nA(e){return zC[e].defaultValue}function aA(e){return zC[e].values.length-1}function iA(e){var t=XC[HC];Wu(t,"settings_value_focus"),Wu(t+"_div","settings_div_focus"),lA(e),sA(t)}function oA(){var e=XC[HC];document.getElementById(e+"arrow_left").style.opacity="0",document.getElementById(e+"arrow_right").style.opacity="0",Qu(e,"settings_value_focus"),Qu(e+"_div","settings_div_focus")}function sA(){var e=screen.height;7<HC?(e*=.093,e+=-1*document.getElementById(XC[HC-7]).offsetTop):e*=.077,HC<18&&(document.getElementById("settings_scroll").style.top=e+"px")}function dA(e){var t=XC[e];Jf(t,nA(t)+1),Ku(t,tA(t)),lA(e)}function lA(e){var t=XC[e],n=nA(t),a=aA(t);0<n&&n<a?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="1"):n===a?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="0.2"):(document.getElementById(t+"arrow_left").style.opacity="0.2",document.getElementById(t+"arrow_right").style.opacity="1")}function rA(){for(var e in zC)-1===e.indexOf("All")&&(document.getElementById(e+"_div").style.display=nA("All")?"none":"inline-block")}function cA(e){var t;switch(e.keyCode){case Ja:WC();break;case Ua:0<nA(t=XC[HC])&&(zC[t].defaultValue-=1,dA(HC),Qu(XC[HC],"strokedextraminired"),-1!==t.indexOf("All")&&rA());break;case Na:nA(t=XC[HC])<aA(t)&&(zC[t].defaultValue+=1,dA(HC),Wu(XC[HC],"strokedextraminired"),-1!==t.indexOf("All")&&rA());break;case Ra:0<HC&&(oA(),iA(--HC));break;case Va:!nA("All")&&HC<YC-1&&(oA(),iA(++HC))}}var uA=0,_A=0,fA=!1,mA=0,hA=!1,pA=0,vA=5,gA=3500,yA=[],bA=0,wA=0,kA=!1,CA=!1,AA="",EA=!1,MA={},IA=[],SA=0,xA=["uc_thumbdiv","uc_img","uc_infodiv","uc_displayname","uc_cell","ucempty_","user_channels_scroll"];function PA(){qc.Main_CenterLablesVectorPos=1,qc.Main_Go=Gc,qc.isLastSChannels=!1,zu("label_side_panel","icon-arrow-circle-left",I),Wu("top_bar_user","icon_center_focus"),Zu("top_bar_user",u+O_(ji[qc.Users_Position].name+K)),document.body.addEventListener("keydown",qA,!1),AA!==ji[qc.Users_Position].name&&(CA=!1),CA?(F_(uA),Yu(xA[6]),FA(),x_()):TA()}function LA(){qc.Users_Position=0,Qu("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",qA),Ku("top_bar_user",u),zu("label_side_panel","icon-ellipsis",Rn),Xu(xA[6])}function TA(){N_("stream_table_user_channels"),Xu(xA[6]),e_(),__(),AA=ji[qc.Users_Position].name,CA=!1,MA={},uA=_A=mA=SA=bA=wA=0,Bf=!(EA=fA=!(IA=[])),d_(),yA=[],BA(),OA()}function BA(){D_(),hA=!0,pA=0,gA=3500}function OA(){var e=mA+wA;e&&SA-1<e&&(e=SA-hu,fA=!0);var t="https://api.twitch.tv/kraken/users/"+encodeURIComponent(ji[qc.Users_Position].id)+"/follows/channels?limit="+hu+"&offset="+e+"&sortby=login&direction=asc";Gu&&!mA?Wf(t,gA,2,null,UA,GA):Qf(t,gA,2,null,UA,GA,!1)}function GA(){++pA<vA?(gA+=500,OA()):(hA=!1,mA?(fA=!0,NA()):(Bf=!1,t_(),u_(P),Gf(qA)))}function UA(e){var t=JSON.parse(e),n=t.follows.length;SA=parseInt(t._total),n<hu&&(fA=!0);var a=mA;kA=!(mA+=n);var i=n/pu;0<n%pu&&i++;for(var o,s,d,l,r,c=0,u=document.getElementById("stream_table_user_channels"),_=0;_<i;_++){for(s=a/pu+_,d=document.createElement("tr"),o=0;o<pu&&c<n;o++,c++)r=(l=t.follows[c].channel)._id,MA[r]?o--:(MA[r]=1,d.appendChild(RA(s,s+"_"+o,[l.name,r,l.logo,l.display_name])));for(;o<pu;o++)fA&&!EA&&(EA=!0,mA=s*pu+o),d.appendChild(z_(xA[5]+s+"_"+o)),IA.push(xA[5]+s+"_"+o);u.appendChild(d)}NA()}function RA(e,t,n){return e<4&&q_(n[2]),X_(t,xA,n)}function NA(){if(CA){if(V_(Pa),0<IA.length&&!fA)return BA(),void VA();FA(!0),IA=[]}else kA?(u_(L+K),Gf(qA)):(CA=!0,V_(Pa),FA(),x_()),Yu(xA[6]),Bf=!1,t_();hA=!1}function VA(){c_(IA.length);var e=mA+wA;e&&SA-1<e&&(e=SA-gu,fA=!0),Yf("https://api.twitch.tv/kraken/users/"+encodeURIComponent(ji[qc.Users_Position].id)+"/follows/channels?limit="+gu+"&offset="+bA+"&sortby=login&direction=asc",gA,2,null,JA,DA)}function DA(){++pA<vA?(gA+=500,VA()):(fA=!0,mA-=IA.length,IA=[],NA())}function JA(e){var t,n,a=JSON.parse(e),i=a.follows.length,o=0,s=0,d=[];for(SA=parseInt(a._total),i<gu&&(fA=!0);o<IA.length&&s<i;o++,s++)n=(t=a.follows[s].channel)._id,MA[n]?o--:(MA[n]=1,Y_(IA[o],[t.name,n,t.logo,t.display_name],xA),d.push(o));for(o=d.length-1;-1<o;o--)IA.splice(d[o],1);wA+=s,fA&&(mA-=IA.length,IA=[]),NA()}function FA(e){of(uA,_A,xA,pu,mA,e),mA/pu<uA+vu&&!fA&&!hA&&(BA(),OA()),Yc&&HA()}function HA(){mA&&hf(uA+"_"+_A,xA)}function qA(e){var t;if(!Bf&&!af())switch(nf(),e.keyCode){case Ja:y_()?g_():h_()?m_():(HA(),Gf(qA));break;case Ua:if(C_(uA,_A-1,xA[0]))HA(),_A--,FA();else for(t=pu-1;-1<t;t--)if(C_(uA-1,t,xA[0])){HA(),uA--,_A=t,FA();break}break;case Na:C_(uA,_A+1,xA[0])?(HA(),_A++,FA()):C_(uA+1,0,xA[0])&&(HA(),uA++,_A=0,FA());break;case Ra:for(t=0;t<pu;t++)if(C_(uA-1,_A-t,xA[0])){HA(),uA--,_A-=t,FA();break}break;case Va:for(t=0;t<pu;t++)if(C_(uA+1,_A-t,xA[0])){HA(),uA++,_A-=t,FA();break}break;case Oa:case Ba:case Ga:case Da:if(lf(uA+"_"+_A,xA[0]))return;qc.Main_selectedChannel=document.getElementById(xA[4]+uA+"_"+_A).getAttribute(Su),qc.Main_selectedChannel_id=document.getElementById(xA[4]+uA+"_"+_A).getAttribute("data-id"),qc.Main_selectedChannelDisplayname=document.getElementById(xA[3]+uA+"_"+_A).textContent,qc.Main_selectedChannelLogo=document.getElementById(xA[1]+uA+"_"+_A).src,document.body.removeEventListener("keydown",qA),qc.Main_BeforeChannel=Gc,qc.Main_Go=Lc,qc.Main_BeforeChannelisSet=!0,Ks=Qa=!0,Xu(xA[6]),I_()}}var zA=0,XA=0,YA=!1,jA=0,WA={},QA=[],ZA=!1,KA=0,$A=5,eE=3500,tE=0,nE=0,aE=!1,iE=["uh_thumbdiv","uh_img","uh_infodiv","uh_displayname","uh_hosttitle","uh_hostgame","uh_viwers","uh_quality","uh_cell","uhempty_","user_host_scroll"],oE=!1,sE="",dE=!1;function lE(){qc.Main_CenterLablesVectorPos=1,qc.Main_Go=Mc,zu("label_side_panel","icon-arrow-circle-left",I),Wu("top_bar_user","icon_center_focus"),Zu("top_bar_user",u+O_(ji[qc.Users_Position].name+Q)),document.body.addEventListener("keydown",wE,!1),sE!==ji[qc.Users_Position].name&&(oE=!1),oE?(F_(zA),Yu(iE[10]),yE(),x_()):cE()}function rE(){qc.Users_Position=0,Qu("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",wE),Ku("top_bar_user",u),zu("label_side_panel","icon-ellipsis",Rn),Xu(iE[10])}function cE(){N_("stream_table_user_host"),Xu(iE[10]),e_(),__(),sE=ji[qc.Users_Position].name,oE=!1,WA={},Bf=!(jA=nE=tE=0),zA=XA=0,YA=dE=!(QA=[]),d_(),uE(),_E()}function uE(){D_(),ZA=!0,KA=0,eE=3500}function _E(){var e=jA+tE;e&&nE-1<e&&(e=nE-ru,YA=!0),jf("https://api.twitch.tv/api/users/"+encodeURIComponent(ji[qc.Users_Position].name)+"/followed/hosting?limit="+ru+"&offset="+e,eE,2,null,mE,fE,!1,!jA)}function fE(){++KA<$A?(eE+=500,_E()):(ZA=!1,jA?(YA=!0,hE()):(Bf=!1,t_(),u_(P),Gf(wE)))}function mE(e){var t=JSON.parse(e),n=t.hosts.length;nE=parseInt(t._total),n<ru&&(YA=!0);var a=jA;aE=!(jA+=n);var i=n/cu;0<n%cu&&i++;for(var o,s,d,l,r,c=0,u=document.getElementById("stream_table_user_host"),_=0;_<i;_++){for(s=a/cu+_,d=document.createElement("tr"),o=0;o<cu&&c<n;o++,c++)r=(l=t.hosts[c]).target._id+""+l._id,WA[r]?o--:(WA[r]=1,d.appendChild(W_(s,s+"_"+o,[l.target.channel.name,l.target._id],iE,[l.target.preview_urls.template.replace("{width}x{height}",Eu),l.display_name+ne+l.target.channel.display_name,l.target.title,l.target.meta_game,h.charAt(1).toUpperCase()+h.slice(2)+b_(l.target.viewers)+J,""])));for(;o<cu;o++)YA&&!dE&&(dE=!0,jA=s*cu+o),d.appendChild(z_(iE[9]+s+"_"+o)),QA.push(iE[9]+s+"_"+o);u.appendChild(d)}hE()}function hE(){if(oE){if(V_(La),0<QA.length&&!YA)return uE(),void pE();yE(!0),QA=[]}else aE?(u_(L+Q),Gf(wE)):(oE=!0,yE(),V_(La),x_()),Yu(iE[10]),Bf=!1,t_();ZA=!1}function pE(){c_(QA.length);var e=jA+tE;e&&nE-1<e&&(e=nE-gu,YA=!0),Yf("https://api.twitch.tv/api/users/"+encodeURIComponent(ji[qc.Users_Position].name)+"/followed/hosting?limit="+gu+"&offset="+e,eE,2,null,gE,vE)}function vE(){++KA<$A?(eE+=500,pE()):(YA=!0,jA-=QA.length,QA=[],hE())}function gE(e){var t,n,a=JSON.parse(e),i=a.streams.length,o=0,s=0,d=[];for(nE=parseInt(a._total),i<gu&&(YA=!0);o<QA.length&&s<i;o++,s++)n=(t=a.hosts[s]).target._id+""+t._id,WA[n]?o--:(WA[n]=1,Q_(QA[o],[t.target.channel.name,t.target._id],[t.target.preview_urls.template.replace("{width}x{height}",Eu),t.display_name+ne+t.target.channel.display_name,t.target.title,t.target.meta_game,h.charAt(1).toUpperCase()+h.slice(2)+b_(t.target.viewers)+J,""],iE),d.push(o));for(o=d.length-1;-1<o;o--)QA.splice(d[o],1);tE+=s,YA&&(jA-=QA.length,QA=[]),hE()}function yE(e){sf(zA,XA,iE,cu,jA,e),jA/cu<zA+uu&&!YA&&!ZA&&(uE(),_E()),Yc&&bE()}function bE(){jA&&hf(zA+"_"+XA,iE)}function wE(e){var t;if(!Bf&&!af())switch(nf(),e.keyCode){case Ja:y_()?g_():h_()?m_():(bE(),Gf(wE));break;case Ua:if(C_(zA,XA-1,iE[0]))bE(),XA--,yE();else for(t=cu-1;-1<t;t--)if(C_(zA-1,t,iE[0])){bE(),zA--,XA=t,yE();break}break;case Na:C_(zA,XA+1,iE[0])?(bE(),XA++,yE()):C_(zA+1,0,iE[0])&&(bE(),zA++,XA=0,yE());break;case Ra:for(t=0;t<cu;t++)if(C_(zA-1,XA-t,iE[0])){bE(),zA--,XA-=t,yE();break}break;case Va:for(t=0;t<cu;t++)if(C_(zA+1,XA-t,iE[0])){bE(),zA++,XA-=t,yE();break}break;case Oa:case Ba:case Ga:case Da:rf(zA+"_"+XA,iE,wE)}}var kE,CE=!1,AE=0,EE=3500,ME=0,IE=5,SE=0,xE=!1,PE="",LE=0,TE={},BE=!1,OE=[],GE=null,UE=null,RE=["ulf_thumbdiv","ulf_img","ulf_infodiv","ulf_displayname","ulf_streamtitle","ulf_streamgame","ulf_viwers","ulf_quality","ulf_cell","ulempty_","user_live_scroll"];function NE(){uo()&&(nM(),BE?rM(xh,RE[0])&&(GE=JSON.parse(document.getElementById(RE[8]+xh).getAttribute(Su))[0]):GE=null,N_("user_feed_scroll"),BE=!1,document.getElementById("user_feed_scroll").style.left="2.5px",document.getElementById("user_feed").style.bottom="0.1%",Yu("dialog_loading_feed"),PE="",xh=LE=SE=ME=0,TE={},OE=[],gf(function(){FE(),VE()}))}function VE(){(UE=ji[qc.Users_Position].access_token)?(UE=Cu+UE,XE()):(FE(),UE=null,HE())}function DE(e){for(var t,n=0;n<OE.length;n++)null!==(t=document.getElementById(OE[n].id))&&Nu(t,OE[n].src+Uu,e)}function JE(e,t){OE.push({id:e,src:t})}function FE(){CE=!0,AE=0,EE=3500}function HE(){Qf("https://api.twitch.tv/kraken/users/"+encodeURIComponent(ji[qc.Users_Position].id)+"/follows/channels?limit=100&offset="+ME+"&sortby=created_at",EE,2,null,zE,qE,!1)}function qE(){++AE<IE?(EE+=500,HE()):(CE=!1,SE?(xE=!0,QE()):(Xu("dialog_loading_feed"),KE()&&(Iv(P),window.setTimeout(function(){Sv()},2e3))))}function zE(e){var t=JSON.parse(e).follows,n=t.length;if(n){for(var a="",i=0;i<n;i++)a=t[i].channel._id+",",-1===PE.indexOf(a)&&(PE+=a);ME+=n,FE(),HE()}else PE=PE.slice(0,-1),FE(),gf(XE)}function XE(){var e="https://api.twitch.tv/kraken/streams/";e+=UE?"followed?":"?channel="+encodeURIComponent(PE)+"&",YE(e+="limit=100&offset=0&stream_type=all")}function YE(e){var t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=EE,t.setRequestHeader(bu,yu),t.setRequestHeader(wu,Au),UE&&t.setRequestHeader(ku,UE),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?WE(t.responseText):!UE||401!==t.status&&403!==t.status?jE():ii(qc.Users_Position,0,VE,VE))},t.send(null)}function jE(){++AE<IE?(EE+=500,XE()):(CE=!1,Xu("dialog_loading_feed"),KE()&&(Iv(P),window.setTimeout(function(){Sv()},2e3)))}function WE(e){var t=JSON.parse(e),n=t.streams.length;n<ru&&(xE=!0),SE+=n;for(var a,i,o=document.getElementById("user_feed_scroll"),s=0;s<n;s++)i=(a=t.streams[s]).channel._id,TE[i]||(TE[i]=1,null!==GE&&GE===a.channel.name&&(xh=s),o.appendChild(ZE(s,[a.channel.name,i],RE,[a.preview.template.replace("{width}x{height}",Eu),k_(JSON.stringify(a.stream_type))+a.channel.display_name,a.channel.status,a.game,y+gv(a.created_at)+" "+h+b_(a.viewers)+J,w_(a.video_height,a.average_fps,a.channel.broadcaster_language)])));QE()}function QE(){BE=!(CE=!1),DE(La),gf(function(){Xu("dialog_loading_feed"),oM()})}function ZE(e,t,n,a){return JE(n[1]+e,a[0]),($c=document.createElement("div")).setAttribute("id",n[8]+e),$c.setAttribute(Su,JSON.stringify(t)),$c.className="user_feed_thumb",$c.innerHTML='<div id="'+n[0]+e+'" class="stream_thumbnail_clip" ><div><img id="'+n[1]+e+'" class="stream_img"></div><div id="'+n[2]+e+'" class="stream_text2"><div id="'+n[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;">'+a[1]+'</div><div id="'+n[5]+e+'"class="stream_info">'+v+a[3]+"</div></div></div>",$c}function KE(){return ju("user_feed")}function $E(){var e=uo();e&&(Sh!==ji[qc.Users_Position].name&&(BE=!1),Sh=ji[qc.Users_Position].name),e&&rM(0,RE[0])||(BE=!1),BE||CE||NE(),e&&(document.getElementById("user_feed").style.bottom="0.1%",Yu("user_feed"),oM())}function eM(){Xu("user_feed")}function tM(){nM(),aM()}function nM(){window.clearTimeout(kE)}function aM(){KE()&&(kE=window.setTimeout(eM,5500))}function iM(){nM(),CE?window.setTimeout(function(){CE=!1},15e3):NE()}function oM(){tM(),rM(xh,RE[0])&&(Wu(RE[0]+xh,"feed_thumbnail_focused"),KE()?dM():ju("scene2")&&lM())}function sM(){return xh<3?2.5:rM(xh+2,RE[0])?-1*document.getElementById(RE[8]+(xh-2)).offsetLeft:rM(xh+1,RE[0])?-1*document.getElementById(RE[8]+(xh-3)).offsetLeft:-1*document.getElementById(RE[8]+(xh-(3<xh?4:3))).offsetLeft}function dM(){var e=sM();e&&(document.getElementById("user_feed_scroll").style.left=e+"px")}function lM(){document.getElementById("user_feed").style.bottom="-1000%",Yu("user_feed");var e=dM();e&&(document.getElementById("user_feed_scroll").style.left=e+"px"),document.getElementById("user_feed").style.bottom="0.1%",Xu("user_feed")}function rM(e,t){return null!==document.getElementById(t+e)}function cM(){rM(xh,RE[0])&&Qu(RE[0]+xh,"feed_thumbnail_focused")}var uM=0,_M=0,fM=!1,mM=0,hM={},pM=[],vM=!1,gM=0,yM=5,bM=3500,wM=0,kM=0,CM=0,AM=!1,EM=["ul_thumbdiv","ul_img","ul_infodiv","ul_displayname","ul_streamtitle","ul_streamgame","ul_viwers","ul_quality","ul_cell","ulempty_","user_live_scroll"],MM=!1,IM="",SM="",xM=!1,PM=null;function LM(){qc.Main_CenterLablesVectorPos=1,qc.Main_Go=Ec,zu("label_side_panel","icon-arrow-circle-left",I),Wu("top_bar_user","icon_center_focus"),Zu("top_bar_user",u+O_(ji[qc.Users_Position].name+W)),document.body.addEventListener("keydown",WM,!1),SM!==ji[qc.Users_Position].name&&(MM=!1),MM?(F_(uM),Yu(EM[10]),YM(),x_()):BM()}function TM(){qc.Users_Position=0,Qu("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",WM),Ku("top_bar_user",u),zu("label_side_panel","icon-ellipsis",Rn),Xu(EM[10])}function BM(){N_("stream_table_user_live"),Xu(EM[10]),e_(),__(),MM=!1,SM=ji[qc.Users_Position].name,Bf=!(xM=!(pM=[])),uM=_M=mM=kM=wM=CM=0,fM=!(hM={}),IM="",d_(),GM(),OM()}function OM(){(PM=ji[qc.Users_Position].access_token)?(PM=Cu+PM,VM()):(PM=null,GM(),UM())}function GM(){D_(),vM=!0,gM=0,bM=3500}function UM(){Yf("https://api.twitch.tv/kraken/users/"+encodeURIComponent(ji[qc.Users_Position].id)+"/follows/channels?limit=100&offset="+CM+"&sortby=created_at",bM,2,null,NM,RM)}function RM(){++gM<yM?(bM+=500,UM()):(vM=!1,mM?(fM=!0,HM()):(Bf=!1,t_(),u_(P),Gf(WM)))}function NM(e){var t=JSON.parse(e).follows,n=t.length;if(n){for(var a="",i=0;i<n;i++)a=t[i].channel._id+",",-1===IM.indexOf(a)&&(IM+=a);CM+=n,GM(),UM()}else IM=IM.slice(0,-1),GM(),VM()}function VM(){var e=mM+wM;e&&kM-1<e&&(e=kM-ru,fM=!0);var t="https://api.twitch.tv/kraken/streams/";t+=PM?"followed?":"?channel="+encodeURIComponent(IM)+"&",DM(t+="limit="+ru+"&offset="+e+"&stream_type=all",FM,JM,OM)}function DM(e,t,n,a){var i;if(Gu&&!mM){if(!(i=Android.mreadUrl(e,bM,PM?3:2,PM)))return void YI();200===(i=JSON.parse(i)).status?t(i.responseText):!PM||401!==i.status&&403!==i.status?n():ii(qc.Users_Position,0,a,a)}else(i=new XMLHttpRequest).open("GET",e,!0),i.timeout=bM,i.setRequestHeader(bu,yu),i.setRequestHeader(wu,Au),PM&&i.setRequestHeader(ku,PM),i.ontimeout=function(){},i.onreadystatechange=function(){4===i.readyState&&(200===i.status?t(i.responseText):!PM||401!==i.status&&403!==i.status?n():ii(qc.Users_Position,0,a,a))},i.send(null)}function JM(){++gM<yM?(bM+=500,VM()):(vM=!1,mM?(fM=!0,HM()):(Bf=!1,t_(),u_(P),Gf(WM)))}function FM(e){var t=JSON.parse(e),n=t.streams.length;kM=parseInt(t._total),n<ru&&(fM=!0);var a=mM;AM=!(mM+=n);var i=n/cu;0<n%cu&&i++;for(var o,s,d,l,r,c=0,u=document.getElementById("stream_table_user_live"),_=0;_<i;_++){for(s=a/cu+_,d=document.createElement("tr"),o=0;o<cu&&c<n;o++,c++)r=(l=t.streams[c]).channel._id,hM[r]?o--:(hM[r]=1,d.appendChild(W_(s,s+"_"+o,[l.channel.name,r],EM,[l.preview.template.replace("{width}x{height}",Eu),k_(JSON.stringify(l.stream_type))+l.channel.display_name,l.channel.status,l.game,y+gv(l.created_at)+" "+h+b_(l.viewers)+J,w_(l.video_height,l.average_fps,l.channel.broadcaster_language)])));for(;o<cu;o++)fM&&!xM&&(xM=!0,mM=s*cu+o),d.appendChild(z_(EM[9]+s+"_"+o)),pM.push(EM[9]+s+"_"+o);u.appendChild(d)}HM()}function HM(){if(MM){if(V_(La),0<pM.length&&!fM)return GM(),void qM();YM(!0),pM=[]}else AM?(Gf(WM),u_(L+W)):(MM=!0,YM(),V_(La),x_()),Yu(EM[10]),Bf=!1,t_();vM=!1}function qM(){c_(pM.length);var e=mM+wM;e&&kM-1<e&&(e=kM-gu,fM=!0);var t="https://api.twitch.tv/kraken/streams/";t+=PM?"followed?":"?channel="+encodeURIComponent(IM)+"&",DM(t+="followed?limit=limit="+gu+"&offset="+e+"&stream_type=all",XM,zM,qM)}function zM(){++gM<yM?(bM+=500,qM()):(fM=!0,mM-=pM.length,pM=[],HM())}function XM(e){var t,n,a=JSON.parse(e),i=a.streams.length,o=0,s=0,d=[];for(kM=parseInt(a._total),i<gu&&(fM=!0);o<pM.length&&s<i;o++,s++)n=(t=a.streams[s]).channel._id,hM[n]?o--:(hM[n]=1,Q_(pM[o],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",Eu),k_(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+gv(t.created_at)+" "+h+b_(t.viewers)+J,w_(t.video_height,t.average_fps,t.channel.broadcaster_language)],EM),d.push(o));for(o=d.length-1;-1<o;o--)pM.splice(d[o],1);wM+=s,fM&&(mM-=pM.length,pM=[]),HM()}function YM(e){sf(uM,_M,EM,cu,mM,e),mM/cu<uM+uu&&!fM&&!vM&&(GM(),UM()),Yc&&jM()}function jM(){mM&&hf(uM+"_"+_M,EM)}function WM(e){var t;if(!Bf&&!af())switch(nf(),e.keyCode){case Ja:y_()?g_():h_()?m_():(jM(),Gf(WM));break;case Ua:if(C_(uM,_M-1,EM[0]))jM(),_M--,YM();else for(t=cu-1;-1<t;t--)if(C_(uM-1,t,EM[0])){jM(),uM--,_M=t,YM();break}break;case Na:C_(uM,_M+1,EM[0])?(jM(),_M++,YM()):C_(uM+1,0,EM[0])&&(jM(),uM++,_M=0,YM());break;case Ra:for(t=0;t<cu;t++)if(C_(uM-1,_M-t,EM[0])){jM(),uM--,_M-=t,YM();break}break;case Va:for(t=0;t<cu;t++)if(C_(uM+1,_M-t,EM[0])){jM(),uM++,_M-=t,YM();break}break;case Oa:case Ba:case Ga:case Da:rf(uM+"_"+_M,EM,WM)}}var QM=0,ZM=0,KM=8,$M=0,eI=null,tI=["u_thumbdiv","u_img","u_infodiv","u_displayname","u_cell","user_scroll"],nI=!1,aI=!0;function iI(){return Wc?(oI(),void ai(Wc)):vo()?(qc.Main_CenterLablesVectorPos=1,qc.Main_Go=Oc,document.getElementById("screens_holder").style.top=screen.height/100*7+"px",__(),Wu("top_bar_user","icon_center_focus"),document.body.addEventListener("keydown",bI,!1),void(nI?(F_(QM),Yu(tI[5]),uI(),x_()):sI())):(qc.Main_Go=wc,oI(),void I_())}function oI(){qc.Users_Position=0,Qu("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",bI),Xu(tI[5]),document.getElementById("screens_holder").style.top="0"}function sI(){N_("stream_table_user"),Xu(tI[5]),e_(),__(),Bf=!(nI=!1),aI=!(QM=ZM=0),gf(function(){dI()})}function dI(){for(var e,t,n,a=document.createElement("tbody"),i=document.getElementById("stream_table_user"),o=0;o<ji.length;o++)t=0,n=o%2?"B5B5B5":"FFFFFF",($c=document.createElement("tr")).className="follower_header",$c.innerHTML='<div class="follower_header">'+(o?"":oe)+ji[o].name+R+"</div>",i.appendChild(a),i.appendChild($c),(e=document.createElement("tr")).appendChild(lI(o+"_"+t,qc.Main_selectedChannelDisplayname,W,"play",n)),t++,e.appendChild(lI(o+"_"+t,qc.Main_selectedChannelDisplayname,Q,"users",n)),t++,e.appendChild(lI(o+"_"+t,qc.Main_selectedChannelDisplayname,iw.isLive?Z:zt,"gamepad",n)),t++,e.appendChild(lI(o+"_"+t,qc.Main_selectedChannelDisplayname,Kt,"movie-play",n)),t++,e.appendChild(lI(o+"_"+t,qc.Main_selectedChannelDisplayname,K,"filmstrip",n)),t++,o?e.appendChild(lI(o+"_"+t,qc.Main_selectedChannelDisplayname,ie,"arrow-up",n)):e.appendChild(lI(o+"_"+t,qc.Main_selectedChannelDisplayname,$,"user-plus",n)),t++,e.appendChild(lI(o+"_"+t,qc.Main_selectedChannelDisplayname,ee,"user-times",n)),t++,e.appendChild(lI(o+"_"+t,qc.Main_selectedChannelDisplayname,ji[o].access_token?wt:bt,"key",n)),i.appendChild(e);rI()}function lI(e,t,n,a,i){return($c=document.createElement("td")).setAttribute("id",tI[4]+e),$c.setAttribute(Su,t),$c.className="stream_cell",$c.innerHTML='<div id="'+tI[0]+e+'" class="stream_thumbnail_channel" ><div id="'+tI[1]+e+'" class="stream_user_icon" style="color: #'+i+';"><i class="icon-'+a+'"></i></div></div><div id="'+tI[2]+e+'" class="stream_text"><div id="'+tI[3]+e+'" class="stream_channel" style="text-align: center;">'+n+"</div></div>",$c}function rI(){gf(function(){nI||(nI=!0,uI(),t_(),x_()),Yu(tI[5]),aI=Bf=!1})}function cI(){for(var e=0;e<ji.length;e++)Ku(tI[3]+e+"_2",iw.isLive?Z:zt)}function uI(){Wu(tI[0]+QM+"_"+ZM,"stream_thumbnail_focused"),H_(QM)?1<QM?C_(QM+1,0,tI[0])&&mf(tI[5],-1*document.getElementById(tI[4]+QM+"_"+ZM).offsetTop+500):mf(tI[5],screen.height/100*7):ef(),Yc&&_I()}function _I(){Xc=!1,Qu(tI[0]+QM+"_"+ZM,"stream_thumbnail_focused")}function fI(){return qc.Users_Position=QM,3!==ZM||ji[qc.Users_Position].access_token?7===ZM&&ji[qc.Users_Position].access_token?(u_(wt),void window.setTimeout(__,1500)):(6!==ZM&&7!==ZM&&(Xu(tI[5]),document.body.removeEventListener("keydown",bI),document.getElementById("screens_holder").style.top="0"),void gf(function(){ZM?1===ZM?lE():2===ZM?(Ab=iw,xb()):3===ZM?JI():4===ZM?PA():5===ZM?QM?ho(QM):(qc.Main_Before=Oc,Ki()):6===ZM?pI():7!==ZM||ji[qc.Users_Position].access_token||pI():LM()})):(u_(In),void window.setTimeout(__,5e3))}function mI(){window.clearTimeout(eI)}function hI(){eI=window.setTimeout(vI,2e4)}function pI(){hI(),6===ZM?Zu("main_dialog_remove",Ht+_a+ji[qc.Users_Position].name+"?"):7===ZM&&Zu("main_dialog_remove",ft+" "+ji[qc.Users_Position].name+"?"),Yu("main_remove_dialog")}function vI(){mI(),Xu("main_remove_dialog"),$M=0,yI()}function gI(){return ju("main_remove_dialog")}function yI(){$M?(Qu("remove_cancel","button_search_focused"),Wu("remove_yes","button_search_focused")):(Wu("remove_cancel","button_search_focused"),Qu("remove_yes","button_search_focused"))}function bI(e){var t;if(!Bf&&!af())switch(nf(),e.keyCode){case Ja:gI()?vI():h_()?m_():y_()?g_():(_I(),Gf(bI));break;case Ua:if(gI())--$M<0&&($M=1),yI(),mI(),hI();else if(C_(QM,ZM-1,tI[0]))_I(),ZM--,uI();else if(C_(QM-1,0,tI[0])){for(t=KM-1;-1<t;t--)if(C_(QM-1,t,tI[0])){_I(),QM--,ZM=t,uI();break}}else _I(),ZM=KM-1,uI();break;case Na:gI()?(1<++$M&&($M=0),yI(),mI(),hI()):(C_(QM,ZM+1,tI[0])?(_I(),ZM++):(C_(QM+1,0,tI[0])?(_I(),QM++):_I(),ZM=0),uI());break;case Ra:for(t=0;t<KM;t++)if(C_(QM-1,ZM-t,tI[0])){_I(),QM--,ZM-=t,uI();break}break;case Va:for(t=0;t<KM;t++)if(C_(QM+1,ZM-t,tI[0])){_I(),QM++,ZM-=t,uI();break}break;case Oa:case Ba:case Ga:case Da:var n;if(gI()){if(6===ZM)n=$M,vI(),n&&(document.body.removeEventListener("keydown",bI),oI(),fo(QM));else if(n=$M,vI(),n){qc.Users_AddcodePosition=qc.Users_Position,x_();var a=ei,i="https://id.twitch.tv/oauth2/authorize?response_type=code&client_id="+encodeURIComponent(yu)+"&redirect_uri="+a+"&scope=user_read+user_follows_edit+user_subscriptions&force_verify=true";window.location=i}}else fI()}}var wI=0,kI=0,CI=!1,AI=0,EI={},MI=[],II=!1,SI=0,xI=5,PI=3500,LI=0,TI=0,BI=!1,OI=!1,GI="time",UI=2,RI=!1,NI=["uv_thumbdiv","uv_img","uv_infodiv","uv_title","uv_streamon","uv_duration","uv_viwers","uv_quality","uv_cell","uvempty_","user_vod_scroll","uv_game"],VI=!1,DI=!1;function JI(){qc.Main_CenterLablesVectorPos=1,qc.Main_Go=Fc,Wu("top_bar_user","icon_center_focus"),zu("label_side_panel","icon-arrow-circle-left",I),Zu("top_bar_user",u+O_(ji[qc.Users_Position].name+(DI?G:O))),document.body.addEventListener("keydown",oS,!1),VI?(F_(wI),Yu(NI[10]),sS(),tS(),x_()):HI()}function FI(){qc.Users_Position=0,VI&&nS(),Qu("top_bar_user","icon_center_focus"),zu("label_side_panel","icon-ellipsis",Rn),document.body.removeEventListener("keydown",oS),Ku("top_bar_user",u),Xu(NI[10])}function HI(){VI&&nS(),N_("stream_table_user_vod"),Xu(NI[10]),e_(),sS(),__(),RI=VI=!1,Bf=!(OI=!(MI=[])),wI=kI=AI=TI=LI=0,CI=!(EI={}),d_(),zI()}function qI(){D_(),II=!0,SI=0,PI=3500}function zI(){qI(),XI()}function XI(){var e=AI+LI;e&&TI-1<e&&(e=TI-ru,CI=!0);var t,n="https://api.twitch.tv/kraken/videos/followed?limit="+ru+"&broadcast_type="+(DI?"highlight":"archive")+"&sort="+GI+"&offset="+e;if(Gu&&!AI){if(!(t=Android.mreadUrl(n,PI,3,Cu+ji[qc.Users_Position].access_token)))return void YI();200===(t=JSON.parse(t)).status?WI(t.responseText):401===t.status||403===t.status?ii(qc.Users_Position,0,zI,jI):YI()}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=PI,t.setRequestHeader(wu,Au),t.setRequestHeader(bu,yu),t.setRequestHeader(ku,Cu+ji[qc.Users_Position].access_token),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?WI(t.responseText):401===t.status||403===t.status?ii(qc.Users_Position,0,zI,jI):YI())},t.send(null)}function YI(){++SI<xI?(PI+=500,XI()):jI()}function jI(){II=!1,AI?(CI=!0,QI()):(Bf=!1,t_(),u_(P),Gf(wE),ji[qc.Users_Position].access_token||(FI(),qc.Main_Go=Oc,FI(),Uf(),S_()))}function WI(e){var t=JSON.parse(e),n=t.videos.length;TI=parseInt(t._total),n<ru&&(CI=!0);var a=AI;BI=!(AI+=n);var i=n/cu;0<n%cu&&i++;var o,s,d,l,r,c=0,u=document.getElementById("stream_table_user_vod");if(!RI){var _;for(RI=!0,d=document.createElement("tr"),f=0;f<2;f++)_=f?'<i class="icon-history stream_channel_fallow_icon"></i>'+Ma+Ma+Sn:'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+Ma+Ma+p,($c=document.createElement("td")).setAttribute("id",NI[8]+"y_"+f),$c.className="stream_cell",$c.innerHTML='<div id="'+NI[0]+"y_"+f+'" class="stream_thumbnail_channel_vod" ><div id="'+NI[3]+"y_"+f+'" class="stream_channel_fallow_game">'+_+"</div></div>",d.appendChild($c);d.appendChild(document.createElement("tr")),u.appendChild(d)}for(var f=0;f<i;f++){for(s=a/cu+f,d=document.createElement("tr"),o=0;o<cu&&c<n;o++,c++)r=(l=t.videos[c])._id,-1!==(l.preview.template+"").indexOf("404_processing")||EI[r]?o--:(EI[r]=1,d.appendChild(RS(s,s+"_"+o,[r,l.length,l.channel.broadcaster_language,l.game,l.channel.name,l.increment_view_count_url],[l.preview.template.replace("{width}x{height}",Eu),l.channel.display_name,N+G_(l.created_at),sx.parse(l.title)+_a+Qt+v+l.game,b_(l.views)+D,w_(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.channel.broadcaster_language),V+pv(l.length),l.animated_preview_url],NI)));for(;o<cu;o++)CI&&!OI&&(OI=!0,AI=s*cu+o),d.appendChild(z_(NI[9]+s+"_"+o)),MI.push(NI[9]+s+"_"+o);u.appendChild(d)}QI()}function QI(){VI?(V_(La),tS(!0)):(BI?(u_(L+(DI?G:O)+T+M),Gf(oS)):(VI=!0,tS(),V_(La),x_()),Yu(NI[10]),Bf=!1,t_()),0<MI.length&&!CI?ZI():II=!(MI=[])}function ZI(){qI(),KI()}function KI(){c_(MI.length);var e=AI+LI;e&&TI-1<e&&(e=TI-gu,CI=!0);var t,n="https://api.twitch.tv/kraken/videos/followed?limit="+gu+"&broadcast_type="+(DI?"highlight":"archive")+"&sort="+GI+"&offset="+e;if(Gu){if(!(t=Android.mreadUrl(n,PI,3,Cu+ji[qc.Users_Position].access_token)))return void $I();if(200===(t=JSON.parse(t)).status)return void eS(t.responseText);401===t.status||403===t.status?ii(qc.Users_Position,0,zI,jI):$I()}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=PI,t.setRequestHeader(wu,Au),t.setRequestHeader(bu,yu),t.setRequestHeader(ku,Cu+ji[qc.Users_Position].access_token),t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void eS(t.responseText);401===t.status||403===t.status?ii(qc.Users_Position,0,zI,jI):$I()}},t.send(null)}function $I(){++SI<xI?(PI+=500,KI()):(CI=!0,AI-=MI.length,MI=[],QI())}function eS(e){var t,n,a=JSON.parse(e),i=a.videos.length,o=0,s=0,d=[];for(TI=parseInt(a._total);o<MI.length&&s<i;o++,s++)n=(t=a.videos[s])._id,-1!==(t.preview.template+"").indexOf("404_processing")||EI[n]?o--:(EI[n]=1,VS(MI[o],[n,t.length,t.channel.broadcaster_language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",Eu),t.channel.display_name,N+G_(t.created_at),sx.parse(t.title)+_a+Qt+v+t.game,b_(t.views)+D,w_(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.channel.broadcaster_language),V+pv(t.length),t.animated_preview_url],NI),d.push(o));for(o=d.length-1;-1<o;o--)MI.splice(d[o],1);LI+=s,CI&&(AI-=MI.length,MI=[]),QI()}function tS(e){wI<0?aS():(sf(wI,kI,NI,cu,AI,e),WS(NI,wI+"_"+kI),AI/cu<wI+uu&&!CI&&!II&&zI(),Yc&&nS())}function nS(){window.clearInterval(dS),-1<wI&&AI?(Yu(NI[1]+wI+"_"+kI),hf(wI+"_"+kI,NI)):iS()}function aS(){var e=1<kI?1:kI;Wu(NI[0]+"y_"+e,Iu)}function iS(){var e=1<kI?1:kI;Qu(NI[0]+"y_"+e,Iu)}function oS(e){var t;if(!Bf&&!af())switch(nf(),e.keyCode){case Ja:h_()?m_():h_()?m_():y_()?g_():(nS(),Gf(oS));break;case Ua:if(-1===wI)iS(),--kI<0&&(kI=1),aS();else if(wI||kI){if(C_(wI,kI-1,NI[0]))nS(),kI--,tS();else for(t=cu-1;-1<t;t--)if(C_(wI-1,t,NI[0])){nS(),wI--,kI=t,tS();break}}else nS(),iS(),wI=-1,kI=1,aS();break;case Na:-1===wI?(iS(),1<++kI?(kI=0,BI?aS():(wI=0,tS())):aS()):C_(wI,kI+1,NI[0])?(nS(),kI++,tS()):C_(wI+1,0,NI[0])&&(nS(),wI++,kI=0,tS());break;case Ra:if(-1!==wI||BI)if(wI){for(t=0;t<cu;t++)if(C_(wI-1,kI-t,NI[0])){nS(),wI--,kI-=t,tS();break}}else nS(),wI=-1,aS();else wI=0,iS(),tS();break;case Va:if(-1!==wI||BI){for(t=0;t<cu;t++)if(C_(wI+1,kI-t,NI[0])){nS(),wI++,kI-=t,tS();break}}else wI=0,iS(),tS();break;case Oa:case Ba:case Ga:case Da:-1===wI?(0===kI?Jf("UserVod_highlight",(DI=!DI)?"true":"false"):1===UI?UI++:UI--,HI()):_f(wI+"_"+kI,NI,oS)}}function sS(){1===UI?(Zu("top_bar_user",u+O_(ji[qc.Users_Position].name+" "+(DI?G:O)+En)),GI="time"):2===UI&&(Zu("top_bar_user",u+O_(ji[qc.Users_Position].name+" "+(DI?G:O)+Mn)),GI="views"),Jf("UserVod_TypeNumber",UI)}var dS,lS=0,rS=0,cS=!1,uS=0,_S={},fS=[],mS=!1,hS=0,pS=5,vS=3500,gS=0,yS=0,bS=!1,wS=!1,kS="week",CS=2,AS=!1,ES=["v_thumbdiv","v_img","v_infodiv","v_title","v_streamon","v_duration","v_viwers","v_quality","v_cell","vempty_","vod_scroll","v_game"],MS=!1,IS=!1,SS=1,xS=new Image;function PS(){qc.Main_CenterLablesVectorPos=4,qc.Main_Go=Rc,Wu("top_bar_vod","icon_center_focus"),document.body.addEventListener("keydown",QS,!1),MS?(F_(lS),Yu(ES[10]),ZS(),zS(),x_()):TS()}function LS(){MS&&XS(),T_(),document.body.removeEventListener("keydown",QS),Qu("top_bar_vod","icon_center_focus"),Ku("top_bar_vod",Kt),Xu(ES[10])}function TS(){MS&&XS(),N_("stream_table_vod"),Xu(ES[10]),e_(),ZS(),__(),AS=MS=!1,Bf=!(wS=!(fS=[])),lS=rS=uS=yS=gS=0,cS=!(_S={}),d_(),BS(),OS()}function BS(){D_(),mS=!0,hS=0,vS=3500}function OS(){var e=uS+gS;e&&yS-1<e&&(e=yS-ru,cS=!0);var t="https://api.twitch.tv/kraken/videos/top?limit="+ru+"&broadcast_type="+(IS?"highlight":"archive")+"&sort=views&offset="+e+"&period="+kS+(""!==tu?"&language="+tu:"");Gu&&!uS?Wf(t,vS,2,null,US,GS):Qf(t,vS,2,null,US,GS,!1)}function GS(){++hS<pS?(vS+=500,OS()):(mS=!1,uS?(cS=!0,JS()):(Bf=!1,t_(),u_(P)))}function US(e){var t=JSON.parse(e),n=t.vods.length;yS=parseInt(t._total),n<ru&&(cS=!0);var a=uS;bS=!(uS+=n);var i=n/cu;0<n%cu&&i++;var o,s,d,l,r,c=0,u=document.getElementById("stream_table_vod");if(!AS){var _;for(AS=!0,d=document.createElement("tr"),f=0;f<2;f++)_=f?'<i class="icon-history stream_channel_fallow_icon"></i>'+Ma+Ma+m:'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+Ma+Ma+p,($c=document.createElement("td")).setAttribute("id",ES[8]+"y_"+f),$c.className="stream_cell",$c.innerHTML='<div id="'+ES[0]+"y_"+f+'" class="stream_thumbnail_channel_vod" ><div id="'+ES[3]+"y_"+f+'" class="stream_channel_fallow_game">'+_+"</div></div>",d.appendChild($c);d.appendChild(document.createElement("tr")),u.appendChild(d)}for(var f=0;f<i;f++){for(s=a/cu+f,d=document.createElement("tr"),o=0;o<cu&&c<n;o++,c++)r=(l=t.vods[c])._id,-1!==(l.preview.template+"").indexOf("404_processing")||_S[r]?o--:(_S[r]=1,d.appendChild(RS(s,s+"_"+o,[r,l.length,l.channel.broadcaster_language,l.game,l.channel.name,l.increment_view_count_url],[l.preview.template.replace("{width}x{height}",Eu),l.channel.display_name,N+G_(l.created_at),sx.parse(l.title)+_a+Qt+v+l.game,b_(l.views)+D,w_(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.channel.broadcaster_language),V+pv(l.length),l.animated_preview_url],ES)));for(;o<cu;o++)cS&&!wS&&(wS=!0,uS=s*cu+o),d.appendChild(z_(ES[9]+s+"_"+o)),fS.push(ES[9]+s+"_"+o);u.appendChild(d)}JS()}function RS(e,t,n,a,i){return e<cu&&q_(a[0]),NS(n,t,a,i)}function NS(e,t,n,a){return($c=document.createElement("td")).setAttribute("id",a[8]+t),$c.setAttribute(Su,JSON.stringify(e)),$c.className="stream_cell",$c.innerHTML=DS(t,n,a),$c}function VS(e,t,n,a){var i=document.getElementById(e),o=e.split(a[9])[1];i.setAttribute(Su,JSON.stringify(t)),i.innerHTML=DS(o,n,a),i.setAttribute("id",a[8]+o)}function DS(e,t,n){return J_(n[1]+e,t[0]),'<div id="'+n[0]+e+'" class="stream_thumbnail_clip"'+(t[7]?' style="background-size: 0 0; background-image: url('+t[7]+');"':"")+'><div><img id="'+n[1]+e+'" class="stream_img"></div><div id="'+n[2]+e+'" class="stream_text2"><div style="line-height: 14px;"><div id="'+n[3]+e+'" class="stream_channel" style="width: 72%; display: inline-block; font-size: 85%;">'+t[1]+'</div><div id="'+n[7]+e+'"class="stream_info" style="width:27%; float: right; text-align: right; display: inline-block;">'+t[5]+'</div></div><div id="'+n[11]+e+'"class="stream_info">'+t[3]+'</div><div id="'+n[6]+e+'"class="stream_info">'+t[4]+'</div><div style="line-height: 12px;"><div id="'+n[4]+e+'"class="stream_info" style="width: 59%; display: inline-block;">'+t[2]+'</div><div id="'+n[5]+e+'"class="stream_info" style="width: 39%; display: inline-block; float: right; text-align: right;">'+t[6]+"</div></div></div></div>"}function JS(){if(MS?(V_(La),zS(!0)):(bS?u_(L+(IS?G:O)+T+M):(MS=!0,zS(),V_(La),x_()),Yu(ES[10]),Bf=!1,t_()),0<fS.length&&!cS)return BS(),void FS();mS=!(fS=[])}function FS(){c_(fS.length);var e=uS+gS;e&&yS-1<e&&(e=yS-gu,cS=!0),Yf("https://api.twitch.tv/kraken/videos/top?limit="+gu+"&broadcast_type="+(IS?"highlight":"archive")+"&sort=views&offset="+e+"&period="+kS+(""!==tu?"&language="+tu:""),vS,2,null,qS,HS)}function HS(){++hS<pS?(vS+=500,FS()):(cS=!0,uS-=fS.length,fS=[],JS())}function qS(e){var t,n,a=JSON.parse(e),i=a.vods.length,o=0,s=0,d=[];for(yS=parseInt(a._total);o<fS.length&&s<i;o++,s++)n=(t=a.vods[s])._id,-1!==(t.preview.template+"").indexOf("404_processing")||_S[n]?o--:(_S[n]=1,VS(fS[o],[n,t.length,t.channel.broadcaster_language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",Eu),t.channel.display_name,N+G_(t.created_at),sx.parse(t.title)+_a+Qt+v+t.game,b_(t.views)+D,w_(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.channel.broadcaster_language),V+pv(t.length),t.animated_preview_url],ES),d.push(o));for(o=d.length-1;-1<o;o--)fS.splice(d[o],1);gS+=s,cS&&(uS-=fS.length,fS=[]),JS()}function zS(e){lS<0?YS():(sf(lS,rS,ES,cu,uS,e),WS(ES,lS+"_"+rS),uS/cu<lS+uu&&!cS&&!mS&&(BS(),OS()),Yc&&XS())}function XS(){window.clearInterval(dS),-1<lS&&uS?(Yu(ES[1]+lS+"_"+rS),hf(lS+"_"+rS,ES)):jS()}function YS(){var e=1<rS?1:rS;Wu(ES[0]+"y_"+e,Iu)}function jS(){var e=1<rS?1:rS;Qu(ES[0]+"y_"+e,Iu)}function WS(t,n){if(SS){var a=document.getElementById(t[0]+n);xS.onload=function(){Xu(t[1]+n),a.style.backgroundSize="612px";var e=0;dS=window.setInterval(function(){a.style.backgroundPosition="0px "+ ++e%10*-344+"px"},650)},xS.src=a.style.backgroundImage.replace(/url\(['"]?(.*?)['"]?\)/i,"$1")}}function QS(e){var t;if(!Bf&&!af())switch(nf(),e.keyCode){case Ja:y_()?g_():h_()?m_():(XS(),Gf(QS));break;case Ua:if(-1===lS)jS(),--rS<0&&(rS=1),YS();else if(lS||rS){if(C_(lS,rS-1,ES[0]))XS(),rS--,zS();else for(t=cu-1;-1<t;t--)if(C_(lS-1,t,ES[0])){XS(),lS--,rS=t,zS();break}}else XS(),jS(),lS=-1,rS=1,YS();break;case Na:-1===lS?(jS(),1<++rS?(rS=0,bS?YS():(lS=0,zS())):YS()):C_(lS,rS+1,ES[0])?(XS(),rS++,zS()):C_(lS+1,0,ES[0])&&(XS(),lS++,rS=0,zS());break;case Ra:if(-1!==lS||bS)if(lS){for(t=0;t<cu;t++)if(C_(lS-1,rS-t,ES[0])){XS(),lS--,rS-=t,zS();break}}else XS(),lS=-1,YS();else lS=0,jS(),zS();break;case Va:if(-1!==lS||bS){for(t=0;t<cu;t++)if(C_(lS+1,rS-t,ES[0])){XS(),lS++,rS-=t,zS();break}}else lS=0,jS(),zS();break;case Oa:case Ba:case Ga:case Da:-1===lS?(0===rS?Jf("Vod_highlight",(IS=!IS)?"true":"false"):4<++CS&&(CS=1),TS()):_f(lS+"_"+rS,ES,QS)}}function ZS(){1===CS?(Zu("top_bar_vod",Kt+O_((IS?G:O)+de)),kS="day"):2===CS?(Zu("top_bar_vod",Kt+O_((IS?G:O)+le)),kS="week"):3===CS?(Zu("top_bar_vod",Kt+O_((IS?G:O)+re)),kS="month"):4===CS&&(Zu("top_bar_vod",Kt+O_((IS?G:O)+ce)),kS="all"),Jf("vod_periodNumber",CS)}function KS(e,t){return e.replace(t.code,$S(t))}function $S(e){return'<img class="emoticon" src="'+e["3x"]+'"/>'}function ex(e){return'<img class="emoticon" src="https://static-cdn.jtvnw.net/emoticons/v1/'+e+'/3.0"/>'}function tx(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;")}function nx(e){for(var t=e.split(" "),n=0;n<t.length;n++){var a=(e=t[n]).replace(/(^[~!@#$%\^&\*\(\)]+|[~!@#$%\^&\*\(\)]+$)/g,""),i=Vl[a]||Vl[e];e=i?KS(e,i):tx(e),t[n]=e}return t.join(" ")}function ax(t,a){if(!a)return[t];var n=[],e=Object.keys(a),i=[];return e.forEach(function(e){for(var t=a[e],n=t.length-1;0<=n;n--)i.push({id:e,first:t[n][0],last:t[n][1]})}),i.sort(function(e,t){return t.first-e.first}),t=punycode.ucs2.decode(t),i.forEach(function(e){n.unshift(punycode.ucs2.encode(t.slice(e.last+1))),n.unshift([ex(e.id)]),t=t.slice(0,e.first)}),n.unshift(punycode.ucs2.encode(t)),n}function ix(a){return Object.keys(a).map(function(n){var e=a[n];return e.type=n,e.versions=Object.keys(a[n].versions).map(function(e){var t=a[n].versions[e];return t.type=e,t}),e})}function ox(e,t,n,a){var i=document.createElement("style");i.type="text/css",i.innerHTML="."+e+"-"+t+' { background-image: url("'+n.replace("http:","https:")+'"); }',a?a.appendChild(i):document.head.appendChild(i)}window.parseIRC=function(e){var t={raw:e,tags:{},prefix:null,command:null,params:[]},n=0,a=0;if(64===e.charCodeAt(0)){if(-1===(a=e.indexOf(" ")))return null;for(var i=e.slice(1,a).split(";"),o=0;o<i.length;o++){var s=i[o].split("=");t.tags[s[0]]=s[1]||!0}n=a+1}for(;32===e.charCodeAt(n);)n++;if(58===e.charCodeAt(n)){if(-1===(a=e.indexOf(" ",n)))return null;for(t.prefix=e.slice(n+1,a),n=a+1;32===e.charCodeAt(n);)n++}if(-1===(a=e.indexOf(" ",n)))return e.length>n?(t.command=e.slice(n),t):null;for(t.command=e.slice(n,a),n=a+1;32===e.charCodeAt(n);)n++;for(;n<e.length;){if(a=e.indexOf(" ",n),58===e.charCodeAt(n)){t.params.push(e.slice(n+1));break}if(-1===a){if(-1===a){t.params.push(e.slice(n));break}}else for(t.params.push(e.slice(n,a)),n=a+1;32===e.charCodeAt(n);)n++}return t},function(e){var t="object"==typeof global&&global;t.global!==t&&t.window!==t&&t.self!==t||(e=t);var n,v=2147483647,g=36,y=26,i=38,o=700,a=/^xn--/,s=/[^\x20-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,l={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},r=g-1,b=Math.floor,w=String.fromCharCode;function k(e){throw new RangeError(l[e])}function c(e,t){for(var n=e.length,a=[];n--;)a[n]=t(e[n]);return a}function u(e,t){var n=e.split("@"),a="";return 1<n.length&&(a=n[0]+"@",e=n[1]),a+c((e=e.replace(d,".")).split("."),t).join(".")}function C(e){for(var t,n,a=[],i=0,o=e.length;i<o;)55296<=(t=e.charCodeAt(i++))&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?a.push(((1023&t)<<10)+(1023&n)+65536):(a.push(t),i--):a.push(t);return a}function A(e){return c(e,function(e){var t="";return 65535<e&&(t+=w((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+w(e)}).join("")}function E(e,t){return e+22+75*(e<26)-((0!==t)<<5)}function M(e,t,n){var a=0;for(e=n?b(e/o):e>>1,e+=b(e/t);r*y>>1<e;a+=g)e=b(e/r);return b(a+(r+1)*e/(e+i))}function _(e){var t,n,a,i,o,s,d,l,r,c,u,_=[],f=e.length,m=0,h=128,p=72;for((n=e.lastIndexOf("-"))<0&&(n=0),a=0;a<n;++a)128<=e.charCodeAt(a)&&k("not-basic"),_.push(e.charCodeAt(a));for(i=0<n?n+1:0;i<f;){for(o=m,s=1,d=g;f<=i&&k("invalid-input"),u=e.charCodeAt(i++),(g<=(l=u-48<10?u-22:u-65<26?u-65:u-97<26?u-97:g)||l>b((v-m)/s))&&k("overflow"),m+=l*s,!(l<(r=d<=p?1:p+y<=d?y:d-p));d+=g)s>b(v/(c=g-r))&&k("overflow"),s*=c;p=M(m-o,t=_.length+1,0===o),b(m/t)>v-h&&k("overflow"),h+=b(m/t),m%=t,_.splice(m++,0,h)}return A(_)}function f(e){var t,n,a,i,o,s,d,l,r,c,u,_,f,m,h,p=[];for(_=(e=C(e)).length,t=128,o=72,s=n=0;s<_;++s)(u=e[s])<128&&p.push(w(u));for(a=i=p.length,i&&p.push("-");a<_;){for(d=v,s=0;s<_;++s)t<=(u=e[s])&&u<d&&(d=u);for(d-t>b((v-n)/(f=a+1))&&k("overflow"),n+=(d-t)*f,t=d,s=0;s<_;++s)if((u=e[s])<t&&++n>v&&k("overflow"),u===t){for(l=n,r=g;!(l<(c=r<=o?1:o+y<=r?y:r-o));r+=g)h=l-c,m=g-c,p.push(w(E(c+h%m,0))),l=b(h/m);p.push(w(E(l,0))),o=M(n,f,a===i),n=0,++a}++n,++t}return p.join("")}n={version:"1.4.1",ucs2:{decode:C,encode:A},decode:_,encode:f,toASCII:function(e){return u(e,function(e){return s.test(e)?"xn--"+f(e):e})},toUnicode:function(e){return u(e,function(e){return a.test(e)?_(e.slice(4).toLowerCase()):e})}},e.punycode=n}(this),function(e){e.ReconnectingWebSocket=function(){if("WebSocket"in window)return u.prototype.onopen=function(){},u.prototype.onclose=function(){},u.prototype.onconnecting=function(){},u.prototype.onmessage=function(){},u.prototype.onerror=function(){},u.debugAll=!1,u.CONNECTING=WebSocket.CONNECTING,u.OPEN=WebSocket.OPEN,u.CLOSING=WebSocket.CLOSING,u.CLOSED=WebSocket.CLOSED,u;function u(e,t,n){var a={debug:!1,automaticOpen:!0,reconnectInterval:1e3,maxReconnectInterval:3e4,reconnectDecay:1.5,timeoutInterval:3e3,maxReconnectAttempts:null,binaryType:"blob"};for(var i in n||(n={}),a)void 0!==n[i]?this[i]=n[i]:this[i]=a[i];this.url=e,this.reconnectAttempts=0,this.readyState=WebSocket.CONNECTING,this.protocol=null;var o,s=this,d=!1,l=!1,r=document.createElement("div");function c(e,t){var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}r.addEventListener("open",function(e){s.onopen(e)}),r.addEventListener("close",function(e){s.onclose(e)}),r.addEventListener("connecting",function(e){s.onconnecting(e)}),r.addEventListener("message",function(e){s.onmessage(e)}),r.addEventListener("error",function(e){s.onerror(e)}),this.addEventListener=r.addEventListener.bind(r),this.removeEventListener=r.removeEventListener.bind(r),this.dispatchEvent=r.dispatchEvent.bind(r),this.open=function(a){if((o=new WebSocket(s.url,t||[])).binaryType=this.binaryType,a){if(this.maxReconnectAttempts&&this.reconnectAttempts>this.maxReconnectAttempts)return}else r.dispatchEvent(c("connecting")),this.reconnectAttempts=0;(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","attempt-connect",s.url);var e=o,i=setTimeout(function(){(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","connection-timeout",s.url),l=!0,e.close(),l=!1},s.timeoutInterval);o.onopen=function(){clearTimeout(i),(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","onopen",s.url),s.protocol=o.protocol,s.readyState=WebSocket.OPEN,s.reconnectAttempts=0;var e=c("open");e.isReconnect=a,a=!1,r.dispatchEvent(e)},o.onclose=function(e){if(clearTimeout(i),o=null,d)s.readyState=WebSocket.CLOSED,r.dispatchEvent(c("close"));else{s.readyState=WebSocket.CONNECTING;var t=c("connecting");t.code=e.code,t.reason=e.reason,t.wasClean=e.wasClean,r.dispatchEvent(t),a||l||((s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","onclose",s.url),r.dispatchEvent(c("close")));var n=s.reconnectInterval*Math.pow(s.reconnectDecay,s.reconnectAttempts);setTimeout(function(){s.reconnectAttempts++,s.open(!0)},n>s.maxReconnectInterval?s.maxReconnectInterval:n)}},o.onmessage=function(e){(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","onmessage",s.url,e.data);var t=c("message");t.data=e.data,r.dispatchEvent(t)},o.onerror=function(e){(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","onerror",s.url,e),r.dispatchEvent(c("error"))}},!0===this.automaticOpen&&this.open(!1),this.send=function(e){if(o)return(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","send",s.url,e),o.send(e);throw"INVALID_STATE_ERR : Pausing to reconnect websocket"},this.close=function(e,t){void 0===e&&(e=1e3),d=!0,o&&o.close(e,t)},this.refresh=function(){o&&o.close()}}}()}(this);var sx=function(){var e={parse:function(e,t,n){return t||(e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;")),a(e,function(e){var t=function(e){for(var t=e.indexOf(d)<0?e.replace(s,""):e,n=[],a=0,i=0,o=0;o<t.length;)a=t.charCodeAt(o++),i?(n.push((65536+(i-55296<<10)+(a-56320)).toString(16)),i=0):55296<=a&&a<=56319?i=a:n.push(a.toString(16));return n.join("-")}(e);return t?'<img class="'+(n?"emoticon":"emoji")+'" src="https://twemoji.maxcdn.com/2/72x72/'+t+'.png"/>':e})},replace:a},n=/(?:\ud83d[\udc68\udc69])(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddb0-\uddb3])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f)|[\u0023\u002a\u0030-\u0039]\ufe0f?\u20e3|(?:[\u00a9\u00ae\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\uddb5\uddb6\uddb8\uddb9\uddd1-\udddd]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a-\udc6d\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\udeeb\udeec\udef4-\udef9]|\ud83e[\udd10-\udd17\udd1d\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd40-\udd45\udd47-\udd70\udd73-\udd76\udd7a\udd7c-\udda2\uddb4\uddb7\uddc0-\uddc2\uddd0\uddde-\uddff]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g,s=/\uFE0F/g,d=String.fromCharCode(8205);return e;function a(e,t){return String(e).replace(n,t)}}();