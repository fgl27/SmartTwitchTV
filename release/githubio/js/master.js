var STR_REFRESH,STR_SEARCH,STR_SETTINGS,STR_CONTROLS,STR_ABOUT,STR_HIDE,STR_SEARCH_EMPTY,STR_SEARCH_RESULT_EMPTY,STR_SWITCH,STR_SWITCH_USER,STR_SWITCH_VOD,STR_SWITCH_CLIP,STR_GO_TO,STR_USER,STR_LIVE,STR_GAMES,STR_PLAYING,STR_FOR,STR_WATCHING,STR_SINCE,STR_AGAME,STR_PLACEHOLDER_SEARCH,STR_PLACEHOLDER_OAUTH,STR_PLACEHOLDER_USER,STR_PLACEHOLDER_PRESS,STR_CHANNELS,STR_CHANNEL,STR_GOBACK,STR_IS_OFFLINE,STR_IS_SUB_ONLY,STR_REFRESH_PROBLEM,STR_NO,STR_FOR_THIS,STR_PLAYER_PROBLEM,STR_PAST_BROA,STR_PAST_HIGHL,STR_CLIPS,STR_CONTENT,STR_STREAM_ON,STR_DURATION,STR_VIEWS,STR_VIEWER,STR_EXIT_AGAIN,STR_EXIT_MESSAGE,STR_EXIT,STR_CLOSE,STR_MINIMIZE,STR_CANCEL,STR_NOT_LIVE,STR_LIVE_CHANNELS,STR_LIVE_HOSTS,STR_LIVE_GAMES,STR_USER_CHANNEL,STR_USER_ADD,STR_USER_REMOVE,STR_USER_ERROR,STR_USER_HOSTING,STR_USER_SET,STR_USER_MAKE_ONE,STR_USER_NUMBER_ONE,STR_ADD_USER_SH,STR_CLIP_DAY,STR_CLIP_WEEK,STR_CLIP_MONTH,STR_CLIP_ALL,STR_JUMP_TIME,STR_JUMP_T0,STR_JUMP_CANCEL,STR_JUMP_TIME_BIG,STR_SEC,STR_MIN,STR_HR,STR_SOURCE,STR_VERSION,STR_TWITCH_TV,STR_CLOSE_THIS,STR_PLAYER,STR_GENERAL,STR_UPDATE,STR_CURRENT_VERSION,STR_LATEST_VERSION,STR_CONTROLS_MAIN_2,STR_CONTROLS_MAIN_3,STR_CONTROLS_MAIN_4,STR_CONTROLS_MAIN_6,STR_CONTROLS_MAIN_10,STR_CONTROLS_MAIN_14,STR_ABOUT_INFO_1,STR_ABOUT_INFO_3,STR_ABOUT_INFO_4,STR_ABOUT_INFO_5,STR_ABOUT_INFO_6,STR_ABOUT_INFO_7,STR_ABOUT_INFO_8,STR_ABOUT_INFO_9,STR_ABOUT_INFO_10,STR_ABOUT_INFO_11,STR_ABOUT_INFO_12,STR_ABOUT_INFO_13,STR_ABOUT_INFO_14,STR_ABOUT_INFO_15,STR_ABOUT_INFO_16,STR_ABOUT_INFO_17,STR_CONTROLS_PLAY_1,STR_CONTROLS_PLAY_2,STR_CONTROLS_PLAY_3,STR_CONTROLS_PLAY_4,STR_CONTROLS_PLAY_5,STR_CONTROLS_PLAY_6,STR_CONTROLS_PLAY_7,STR_CONTROLS_PLAY_8,STR_CONTROLS_PLAY_9,STR_CONTROLS_PLAY_10,STR_CONTROLS_PLAY_11,STR_CONTROLS_PLAY_12,STR_CONTROLS_PLAY_14,STR_UPDATE_AVAILABLE,STR_OAUTH_IN,STR_OAUTH_EXPLAIN1,STR_OAUTH_EXPLAIN2,STR_OAUTH_EXPLAIN3,STR_OAUTH_EXPLAIN4,STR_OAUTH_EXPLAIN5,STR_OAUTH_EXPLAIN6,STR_USER_CODE,STR_USER_CODE_OK,STR_KEY_BAD,STR_KEY_OK,STR_OAUTH_WRONG,STR_OAUTH_WRONG2,STR_FALLOWING,STR_FALLOW,STR_IS_SUB_NOOAUTH,STR_IS_SUB_NOT_SUB,STR_IS_SUB_IS_SUB,STR_OAUTH_FAIL,STR_NOKEY,STR_NOKEY_WARN,STR_RESET,STR_CLIP,STR_CHANNEL_CONT,STR_NET_DOWN,STR_NET_UP,STR_FALLOWERS,STR_CANT_FALLOW,STR_GAME_CONT,STR_YES,STR_REMOVE_USER,STR_PLACEHOLDER_PRESS_UP,STR_FALLOW_GAMES,STR_USER_GAMES_CHANGE,STR_GUIDE,STR_MONTHS,STR_DAYS,STR_STARTED,STR_KEY_UP_DOWN,STR_VIDEOS,STR_VIDEO,STR_REPLAY,STR_STREAM_END,STR_STREAM_END_EXIT,STR_FEATURED,STR_CREATED_AT,STR_OPEN_BROADCAST,STR_NO_BROADCAST,STR_NO_BROADCAST_WARNING,STR_NO_CHAT,STR_IS_NOW,STR_OPEN_HOST,STR_SETTINGS_PLAYER,STR_SETTINGS_BUFFER_SIZE,STR_SETTINGS_BUFFER_SIZE_SUMMARY,STR_SETTINGS_BUFFER_LIVE,STR_SETTINGS_BUFFER_VOD,STR_SETTINGS_BUFFER_CLIP,STR_SETTINGS_GENERAL,STR_SETTINGS_LANG,STR_LOADING_CHAT,STR_VOD_HISTORY,STR_FROM,STR_FROM_START,STR_CHAT_END,STR_TIME,STR_VIWES,STR_NOKEY_VIDEO_WARN,STR_SWITCH_TYPE,STR_ENABLE,STR_DISABLE,STR_RESTORE_PLAYBACK,STR_RESTORE_PLAYBACK_SUMARRY,STR_CHAT_FONT,STR_OAUTH_FAIL_USER,STR_VIDEOS_ANIMATION,STR_SIDE_PANEL,STR_SIZE,STR_BRIGHTNESS,STR_JUMPING_STEP,STR_SECONDS,STR_MINUTES,STR_RESTORE_PLAYBACK_WARN,STR_CLOCK_OFFSET,STR_APP_LANG,STR_CONTENT_LANG,STR_CONTENT_LANG_SUMARRY,STR_LANG_ALL,STR_NO_GAME,STR_ABOUT_INFO_2_SOURCE,STR_JUMP_BUFFER_WARNING,STR_CHAT_DISABLE,STR_CLIP_FAIL,STR_F_DISABLE_CHAT,STR_CHAT_BRIGHTNESS,STR_GOBACK_START,STR_PLAY_NEXT,STR_PLAY_ALL,STR_PLAY_NEXT_IN,STR_AUTO_PLAY_NEXT,STR_CONTROLS_MAIN_5,STR_SIDE_PANEL_SETTINGS,STR_UP,STR_LIVE_FEED,STR_NOKUSER_WARN,STR_END_DIALOG_SETTINGS,STR_END_DIALOG_SETTINGS_SUMMARY,STR_END_DIALOG_DISABLE,STR_CHAT_SIZE,STR_CHAT_POS,STR_CHAT,STR_CHAT_SIDE_FULL,STR_CHAT_SIDE,STR_SPEED,STR_QUALITY,STR_CHAT_VIDEO_MODE,STR_NORMAL,STR_AUTO,STR_DEF_QUALITY,STR_DEF_QUALITY_SUMARRY,STR_VERY_LOW,STR_LOW,STR_HIGH,STR_VERY_HIGH,STR_THUMB_RESOLUTION,STR_THUMB_RESOLUTION_SUMARRY,STR_PAYPAL_SUMMARY,STR_CHAT_DELAY,STR_SECOND,STR_GUIDE_EXTRA,STR_PLAYER_PROBLEM_2,STR_EXIT_AGAIN_PICTURE,STR_PLAYER_AUTO_BIG,STR_PLAYER_AUTO_SMALLS,STR_PLAYER_RESYNC,STR_PLAYER_AUTO_ALL,STR_PLAYER_BITRATE,STR_PLAYER_BITRATE_SUMARRY,STR_PLAYER_BITRATE_MAIN,STR_PLAYER_BITRATE_SMALL,STR_PLAYER_BITRATE_SMALL_SUMARRY,STR_PLAYER_BITRATE_UNLIMITED,STR_PICTURE_LIVE_FEED,STR_AUDIO_SOURCE,STR_PICTURE_PICTURE,STR_PICTURE_CONTROLS1,STR_PICTURE_CONTROLS2,STR_PICTURE_CONTROLS3,STR_PICTURE_CONTROLS4,STR_PICTURE_CONTROLS5,STR_PICTURE_CONTROLS6,STR_PICTURE_CONTROLS7,STR_PICTURE_CONTROLS8,STR_PICTURE_CONTROLS9,STR_PICTURE_CONTROLS10,STR_KEEP_INFO_VISIBLE,STR_PICTURE_CONTROLS11,STR_CHAT_5050,STR_CHAT_PP_SIDE_FULL,STR_PICTURE_CONTROLS12,STR_SINGLE_EXIT,STR_SINGLE_EXIT_SUMMARY,STR_USER_MY_CHANNEL,STR_NOW_LIVE,STR_NOW_LIVE_SHOW,STR_NOW_DURATION,STR_GLOBAL_FONT,STR_GLOBAL_FONT_SUMMARY,STR_MAIN_MENU,STR_USER_MENU,STR_CH_IS_OFFLINE,STR_SCREEN_COUNTER,STR_SWITCH_POS,STR_SWITCH_POS_SUMMARY,STR_MAIN_USER,STR_USER_OPTION,STR_USER_TOP_LABLE,STR_USER_EXTRAS,STR_LOW_LATENCY,STR_FORBIDDEN,STR_LIVE_FEED_SORT,STR_LIVE_FEED_SORT_SUMMARY,STR_A_Z,STR_Z_A,STR_PAYPAL,STR_ABOUT_EMAIL="fglfgl27@gmail.com",STR_BR="<br>",STR_DOT='<i  class="icon-circle class_bold" style="font-size: 50%; vertical-align: middle;"></i>  ',STR_DIV_TITLE='<div class="about_text_title">',STR_DIV_TITLE_LEFT='<div class="about_text_title" style="text-align: left;">',STR_DIV_MIDLE_LEFT='<div style="text-align: left;">',STR_CONTROL_KEY="",STR_SEARCH_KEY="",STR_ABOUT_KEY="",STR_SETTINGS_KEY="",STR_CONTROLS_MAIN_0="",STR_ABOUT_INFO_HEADER="",STR_ABOUT_INFO_0="",STR_CONTROLS_PLAY_0="",STR_OAUTH_EXPLAIN="",STR_SPACE="&nbsp;";function DefaultLang(){STR_CONTROL_KEY=STR_CONTROLS+" (C)",STR_SEARCH_KEY=STR_SEARCH+" (D)",STR_SETTINGS_KEY=STR_SETTINGS+" (A)",STR_ABOUT_KEY=STR_ABOUT+" (A)",STR_SWITCH+=STR_KEY_UP_DOWN,STR_SWITCH_USER+=STR_KEY_UP_DOWN,STR_GOBACK=STR_GOBACK_START,STR_CONTROLS_MAIN_0=STR_DIV_TITLE+STR_CONTROLS+"</div>"+STR_DIV_TITLE+STR_GENERAL+"</div>"+STR_DIV_MIDLE_LEFT+STR_DOT+STR_SIDE_PANEL+STR_BR+STR_DOT+STR_CONTROLS_MAIN_2+STR_BR+STR_DOT+(STR_CONTROLS_MAIN_3=STR_CONTROLS_MAIN_3+STR_GUIDE+STR_GUIDE_EXTRA)+STR_BR+STR_DOT+STR_CONTROLS_MAIN_4+STR_BR+STR_DOT+STR_CONTROLS_MAIN_5+STR_BR+STR_DOT+STR_CONTROLS_MAIN_6+STR_BR+STR_DOT+STR_CONTROLS_MAIN_10+STR_BR+STR_DOT+STR_CONTROLS_MAIN_14+STR_BR+"</div>"+(STR_CONTROLS_PLAY_0=STR_DIV_TITLE+STR_PLAYER+"</div>"+STR_DIV_MIDLE_LEFT+STR_DOT+STR_CONTROLS_PLAY_4+STR_BR+STR_DOT+STR_CONTROLS_PLAY_1+STR_BR+STR_DOT+STR_CONTROLS_PLAY_2+STR_BR+"</div>"+STR_DIV_MIDLE_LEFT+STR_DOT+STR_CONTROLS_PLAY_3+STR_BR+STR_DOT+STR_CONTROLS_PLAY_5+STR_BR+STR_DOT+STR_CONTROLS_PLAY_6+STR_BR+STR_BR+STR_DIV_TITLE+STR_PICTURE_PICTURE+"</div>"+STR_DIV_MIDLE_LEFT+STR_DOT+STR_PICTURE_CONTROLS1+STR_BR+STR_DOT+STR_PICTURE_CONTROLS12+STR_BR+STR_DOT+STR_PICTURE_CONTROLS2+STR_BR+STR_DOT+STR_PICTURE_CONTROLS3+STR_BR+STR_DOT+STR_PICTURE_CONTROLS4+STR_BR+STR_DOT+STR_PICTURE_CONTROLS5+STR_BR+STR_DOT+STR_PICTURE_CONTROLS6+STR_BR+STR_DOT+STR_PICTURE_CONTROLS7+STR_BR+STR_DOT+STR_PICTURE_CONTROLS8+STR_BR+STR_DOT+STR_PICTURE_CONTROLS9+STR_BR+STR_DOT+STR_PICTURE_CONTROLS10+STR_BR+STR_DOT+STR_PICTURE_CONTROLS11+STR_BR+STR_DIV_TITLE+STR_CHAT+":</div>"+STR_DIV_MIDLE_LEFT+STR_DOT+STR_CONTROLS_PLAY_7+STR_BR+STR_DOT+STR_CONTROLS_PLAY_8+STR_BR+STR_DOT+STR_CONTROLS_PLAY_9+STR_BR+STR_DOT+STR_CONTROLS_PLAY_10+STR_BR+STR_DOT+STR_CONTROLS_PLAY_11)+STR_BR+STR_DIV_TITLE+STR_CLOSE_THIS+"</div>",STR_ABOUT_INFO_HEADER=STR_DIV_TITLE+STR_TWITCH_TV+"</div></div>",STR_ABOUT_INFO_0=STR_DIV_MIDLE_LEFT+STR_BR+STR_ABOUT_INFO_1+STR_BR+(Main_IsNotBrowser?"":STR_BR+'<div class="class_bold" style="display: inline-block; color: #FF0000; font-size: 110%;">'+STR_ABOUT_INFO_2_SOURCE+"</div>")+"</div>"+STR_BR+STR_DIV_TITLE+STR_ABOUT_INFO_3+"</div>"+STR_ABOUT_EMAIL+STR_BR+(STR_PAYPAL='<div style="vertical-align: middle;"><img style="vertical-align: middle; display: inline-block; width: 4%;" alt="" src="https://fgl27.github.io/SmartTwitchTV/release/githubio/images/paypal.png"><div style="vertical-align: middle; display: inline-block;">'+STR_PAYPAL_SUMMARY+"</div></div>")+STR_ABOUT_INFO_4+STR_BR+STR_ABOUT_INFO_5+STR_BR+STR_BR+STR_DIV_TITLE_LEFT+STR_ABOUT_INFO_6+"</div>"+STR_DIV_MIDLE_LEFT+STR_ABOUT_INFO_14+STR_BR+STR_DOT+STR_ABOUT_INFO_7+STR_BR+STR_DOT+STR_ABOUT_INFO_8+STR_BR+STR_DOT+STR_ABOUT_INFO_9+STR_BR+STR_DOT+STR_ABOUT_INFO_10+STR_BR+STR_DOT+STR_ABOUT_INFO_11+STR_BR+STR_DOT+STR_ABOUT_INFO_12+STR_BR+STR_DOT+STR_ABOUT_INFO_13+STR_BR+STR_ABOUT_INFO_15+STR_BR+STR_DOT+STR_ABOUT_INFO_16+STR_BR+STR_DOT+STR_ABOUT_INFO_17+STR_BR+STR_DIV_TITLE+STR_CLOSE_THIS+"</div></div>",STR_OAUTH_EXPLAIN=STR_OAUTH_EXPLAIN1+STR_BR+STR_DOT+STR_OAUTH_EXPLAIN2.replace("link_link",'<div class="class_bold" style="display: inline-block; color: #FF0000; font-size: 110%;">http://tiny.cc/twitchkeycode</div>')+STR_BR+STR_DOT+STR_OAUTH_EXPLAIN3+STR_BR+STR_DOT+STR_OAUTH_EXPLAIN4+STR_BR+STR_DOT+STR_OAUTH_EXPLAIN5+STR_BR+STR_DOT+STR_OAUTH_EXPLAIN6}function en_USLang(){Main_IsDayFirst=!1,STR_REFRESH="Refresh",STR_SEARCH="Search",STR_SETTINGS="Settings",STR_CONTROLS="Controls",STR_ABOUT="About",STR_HIDE="Hide",STR_SEARCH_EMPTY="The text you entered is empty.",STR_SEARCH_RESULT_EMPTY="The search result is empty.",STR_SWITCH="Switch screen",STR_SWITCH_USER="Switch user screen",STR_SWITCH_VOD="Switch: Past Broadcasts or Highlights",STR_SWITCH_CLIP="Switch: Period (24h, 7d, 30d, all)",STR_GO_TO="Go to ",STR_USER="User",STR_LIVE="Live",STR_GAMES="Games",STR_PLAYING="Playing ",STR_FOR="for ",STR_WATCHING="Watch time ",STR_SINCE="Since ",STR_AGAME="A Game",STR_PLACEHOLDER_SEARCH="Type your search...",STR_PLACEHOLDER_OAUTH="Type your authentication key...",STR_PLACEHOLDER_USER="Type your username...",STR_PLACEHOLDER_PRESS="Press Enter or Select key to, ",STR_CHANNELS="Channels",STR_CHANNEL="Channel",STR_GOBACK_START="Back to previous screen: Back key",STR_IS_OFFLINE=" has ended",STR_IS_SUB_ONLY="This video is only available to subscribers.",STR_REFRESH_PROBLEM="Connection failed, unable to load content. Hit refresh to try again",STR_NO="No",STR_FOR_THIS=" for this ",STR_PLAYER_PROBLEM="Connection failed, unable to load video content exiting...",STR_PAST_BROA=" Past Broadcasts",STR_PAST_HIGHL=" Highlights",STR_CLIPS="Clips",STR_CONTENT=" Content",STR_STREAM_ON="Streamed ",STR_DURATION="Duration ",STR_VIEWS=" Views",STR_VIEWER="Viewers",STR_EXIT_AGAIN="Click again to exit!",STR_EXIT_AGAIN_PICTURE="Click again to exit Picture in Picture!",STR_EXIT_MESSAGE="Do you want to exit SmartTV Twitch?",STR_EXIT="Exit",STR_CLOSE="Close",STR_MINIMIZE="Minimize",STR_CANCEL="Cancel",STR_NOT_LIVE="Rerun",STR_LIVE_CHANNELS=" Channels Live",STR_LIVE_HOSTS="Hosts",STR_LIVE_GAMES=" Games Live",STR_USER_CHANNEL=" Followed Channels",STR_USER_MY_CHANNEL="My Channel",STR_USER_ADD="Add User",STR_USER_REMOVE=" Remove User",STR_USER_ERROR="User doesn't exist",STR_USER_HOSTING=" hosting ",STR_USER_SET=" already set",STR_USER_MAKE_ONE="Switch to",STR_USER_NUMBER_ONE="First user can follow (when providing a key) and see live channels feed outside of the user screen<br>",STR_ADD_USER_SH="Add a Twitch user to display it's Followed Channels content here",STR_CLIP_DAY="24h",STR_CLIP_WEEK="7d",STR_CLIP_MONTH="30d",STR_CLIP_ALL="all",STR_JUMP_TIME="Jumping",STR_JUMP_T0=" to ",STR_JUMP_CANCEL="Jump Canceled",STR_JUMP_TIME_BIG=" , jump time bigger then duration",STR_SEC=" Sec",STR_MIN=" Min",STR_HR=" Hr",STR_SOURCE="Source",STR_VERSION="Version: ",STR_TWITCH_TV="SmartTV Twitch",STR_CLOSE_THIS="Press back or enter key to close this.",STR_PLAYER="Player Related:",STR_CHAT="Chat Related:",STR_GENERAL="General Related:",STR_UPDATE="Update",STR_CURRENT_VERSION="Current installed version ",STR_LATEST_VERSION=" latest available version ",STR_CONTROLS_MAIN_2="Play a video: Navigate using Directional pad (up/down/left/right), press enter to start playing",STR_CONTROLS_MAIN_3="Refresh screen content: ",STR_CONTROLS_MAIN_4="Exit the application: from side panel click exit",STR_CONTROLS_MAIN_5="Force close the application: Hold the back key until it auto force close",STR_CONTROLS_MAIN_6=" Switch screen: Back key then D-Pad left or right or"+(STR_KEY_UP_DOWN=" (PG Up/Down)"),STR_CONTROLS_MAIN_10="Start a search: from side panel click search, writing the search press the Enter key on the virtual keyboard and choose a search option",STR_CONTROLS_MAIN_14="About this application: from side panel click about",STR_ABOUT_INFO_1="This is a SmartTV Twitch client developed by a individual on his free time, for TVs that don't have access to a good official application, released for free to anyone who wants to use it.",STR_ABOUT_INFO_2_SOURCE="This version of the app is for test in browser only!",STR_ABOUT_INFO_3="Developer information:",STR_ABOUT_INFO_4="This is an open source application licensed under the GNU General Public License v3.0, check it on github",STR_ABOUT_INFO_5="github.com/fgl27/SmartTwitchTV",STR_ABOUT_INFO_6="This application uses following dependencies:",STR_ABOUT_INFO_7="Nightdev KapChat - KapChat captures Twitch chat directly into OBS or XSplit (https://www.nightdev.com/kapchat/)",STR_ABOUT_INFO_8="Fontastic - Create your customized icon fonts in seconds (http://app.fontastic.me)",STR_ABOUT_INFO_9="Twemoji - A simple library that provides standard Unicode emoji support across all platforms (https://github.com/twitter/twemoji)",STR_ABOUT_INFO_10="UglifyJS - is a JavaScript parser, minifier, compressor and beautifier toolkit (https://github.com/mishoo/UglifyJS2)",STR_ABOUT_INFO_11="JS Beautifier - Beautify, unpack or deobfuscate JavaScript and HTML, make JSON/JSONP readable, etc. (https://github.com/beautify-web/js-beautify)",STR_ABOUT_INFO_12="HTMLMinifier - A highly configurable, well-tested, JavaScript-based HTML minifier (https://github.com/kangax/html-minifier)",STR_ABOUT_INFO_13="JSHint - A Static Code Analysis Tool for JavaScript (https://github.com/jshint/jshint)",STR_ABOUT_INFO_14="Web:",STR_ABOUT_INFO_15="Android:",STR_ABOUT_INFO_16="Google: Leanback v17 (https://developer.android.com/reference/android/support/v17/leanback/package-summary)",STR_ABOUT_INFO_17="Google: ExoPlayer (https://github.com/google/ExoPlayer)",STR_CONTROLS_PLAY_1="Show information panel: Press enter key or D-pad keys if chat and live channel feed is not showing",STR_CONTROLS_PLAY_2="Close the video: press back key twice",STR_CONTROLS_PLAY_3="Play/Pause a video: open information panel and click on pause symbol",STR_CONTROLS_PLAY_4="Show user live channels feed: D-pad up",STR_CONTROLS_PLAY_5="Change video quality: use the player bottom controls Quality",STR_CONTROLS_PLAY_6="Force refresh a video (in case it freezes): Change video quality to the same",STR_CONTROLS_PLAY_7="Show or hide the Chat : D-pad right"+(STR_GUIDE_EXTRA=STR_SPACE+"or key 2")+(STR_CONTROLS_PLAY_0=STR_SPACE+"or in player bottom controls"),STR_CONTROLS_PLAY_8="Change Chat position : D-pad left or "+STR_KEY_UP_DOWN+STR_CONTROLS_PLAY_0,STR_CONTROLS_PLAY_9="Change Chat size : D-pad down"+STR_CONTROLS_PLAY_0,STR_CONTROLS_PLAY_10="Change Chat background brightness: change in player bottom controls",STR_CONTROLS_PLAY_11="Force refresh the Chat in Live streams (in case it freezes or doesn't load): use the player bottom controls Chat force disable (click twice)",STR_CONTROLS_PLAY_12='Start a search: open information panel, navigate using use Directional pad (left/right) to "Search" and press enter',STR_CONTROLS_PLAY_14="Chat and video (Side by side): Color button red (A)",STR_F_DISABLE_CHAT="Chat force disable",STR_UPDATE_AVAILABLE="Update available, check google play store",STR_OAUTH_IN="Adding a key allows the app to access live user content faster, follow/unfollow channels/games and access subscribed only past broadcast (for channel you are Sub to and block VOD access to none subscribers) <br> <br> Add a key is not demanding and can be done at any point later <br> <br> In doubt read this link <br> <br> https://github.com/fgl27/SmartTwitchTV#authentication <br> <br> add key for",STR_OAUTH_EXPLAIN1=" below, fallowing this steps:",STR_OAUTH_EXPLAIN2="Access the site link_link (using a computer or a smart phone)",STR_OAUTH_EXPLAIN3='Click the "Authorize" button which will take you to main Twitch.TV authentication site',STR_OAUTH_EXPLAIN4="Login to Twitch.TV using the username you are trying to add a key for",STR_OAUTH_EXPLAIN5="Click on Authorize button of Twitch.TV site if you agree with the requested permissions",STR_OAUTH_EXPLAIN6="The web page will update and show a key code, the key only has lowercase letters and nubers.",STR_USER_CODE="Add Authentication key",STR_USER_CODE_OK="Key added OK",STR_KEY_BAD="Key test failed, new one needs to be added",STR_KEY_OK="Key test return OK",STR_OAUTH_WRONG="You try to add a key for user ",STR_OAUTH_WRONG2=" but this key is for user ",STR_FALLOWING=" Following",STR_FALLOW=" Follow",STR_IS_SUB_NOOAUTH=" And you have not set a authentication key the app can't check yours sub status.",STR_IS_SUB_NOT_SUB=" And you are not a sub of this channel",STR_IS_SUB_IS_SUB=" You are a sub of this channel but the app failed to authenticate contact the developer's email in About",STR_OAUTH_FAIL="Fail authentication check with the provider key, please check and try again",STR_OAUTH_FAIL_USER="The added key doesn't belong to the user ",STR_NOKEY="No user",STR_NOKEY_WARN="Set user and an authentication key to be able to follow/unfollow",STR_NOKUSER_WARN="Set a user first",STR_RESET="Restart the",STR_CLIP=" Clip",STR_CHANNEL_CONT="Channel content",STR_NET_DOWN="Network is disconnected, the application can't work without INTERNET",STR_NET_UP="Network connection reestablished",STR_FALLOWERS=" Followers",STR_CANT_FALLOW=", Can't fallow or unfallow ",STR_GAME_CONT="Game content",STR_YES="Yes",STR_REMOVE_USER="Are you sure you want to remove the user ",STR_PLACEHOLDER_PRESS_UP="Press Up to ",STR_FALLOW_GAMES="Followed Games",STR_USER_GAMES_CHANGE="Change between",STR_GUIDE=" Hold enter",STR_MONTHS=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"],STR_DAYS=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],STR_STARTED="Started ",STR_VIDEOS="Videos",STR_VIDEO=" Video",STR_REPLAY="Replay",STR_STREAM_END="exiting in ",STR_STREAM_END_EXIT='press "Return" to exit',STR_FEATURED="Featured",STR_CREATED_AT="Created ",STR_OPEN_BROADCAST="Open the Broadcast",STR_NO_BROADCAST="No Broadcast",STR_NO_BROADCAST_WARNING="There are no Past Broadcasts for this clip",STR_NO_CHAT="And because of that no chat",STR_IS_NOW=" is now",STR_OPEN_HOST="Open the Hosting",STR_SETTINGS_PLAYER="Player related",STR_SETTINGS_BUFFER_SIZE="Start Buffer size:",STR_SETTINGS_BUFFER_SIZE_SUMMARY="How much is needed to buffer before starting the playback, this is not related to maximum size the buffer can be, a lower value here will make the player start playing sooner, but it may cause re-buffering which will cause the player to pause to buffer.",STR_SETTINGS_BUFFER_VOD="Videos (Past Broadcast and Highlight) Start buffer",STR_SETTINGS_BUFFER_CLIP="Clips Start buffer",STR_SETTINGS_GENERAL="General",STR_SETTINGS_LANG="Language",STR_LOADING_CHAT="Chat: Connecting to chat server..."+STR_BR+"Chat: Connected."+STR_BR+"Chat: Joined channel ",STR_VOD_HISTORY="Play from the start or from where you stopped watching last time?",STR_FROM_START=(STR_FROM="From:"+STR_BR)+"Start",STR_CHAT_END="Chat: The Chat has ended!",STR_TIME=", Most recent",STR_VIWES=", Most views",STR_NOKEY_VIDEO_WARN="Set an user authentication key to be able to see followed videos",STR_SWITCH_TYPE="Switch: Most recent or views",STR_ENABLE="Enable",STR_DISABLE="Disable",STR_RESTORE_PLAYBACK_WARN="The app was closed while playing, restoring playback",STR_RESTORE_PLAYBACK="Restore playback",STR_RESTORE_PLAYBACK_SUMARRY="The app saves what was playing in case it gets close unintentionally (changing apps the system may run out of memory and close it) or force closed by the user, the app then can restore what was previously playing on next start",STR_CHAT_FONT="Chat font size",STR_VIDEOS_ANIMATION="Video's animated thumbnails",STR_SIDE_PANEL="Side panel: D-pad left or Back key",STR_SIZE="Size ",STR_BRIGHTNESS="Brightness ",STR_FORBIDDEN="Forbidden content, this Live content must be for Prime only subscribers or restrained to the official Twitch app",STR_JUMPING_STEP="Jump step ",STR_SECONDS=(STR_SECOND=" second")+"s",STR_MINUTES=" minutes",STR_CLOCK_OFFSET="Clock offset",STR_APP_LANG="Application language",STR_CONTENT_LANG="Content language",STR_CONTENT_LANG_SUMARRY="Press enter to change",STR_LANG_ALL="All",STR_NO_GAME="No game from this",STR_JUMP_BUFFER_WARNING="Isn't possible to jump during buffering",STR_CHAT_DISABLE="Chat is force disabled, enable it in player bottom controls Chat force disable",STR_CLIP_FAIL="This clip/video failed to load. Can't replay",STR_CHAT_BRIGHTNESS="Chat background brightness",STR_PLAY_NEXT="Play Next",STR_PLAY_NEXT_IN="Playing next in ",STR_PLAY_ALL="Play All",STR_AUTO_PLAY_NEXT="Auto Play next clip",STR_SIDE_PANEL_SETTINGS="Back to Main menu",STR_UP=" Press up",STR_LIVE_FEED="Live Feed",STR_END_DIALOG_SETTINGS="End dialog",STR_END_DIALOG_SETTINGS_SUMMARY="Set the time that it will take for the stream/video/clip to end dialog taking action",STR_END_DIALOG_DISABLE="Disable the timer",STR_CHAT="Chat Show",STR_CHAT_SIZE="Chat size",STR_CHAT_POS="Chat position",STR_CHAT_VIDEO_MODE="Video mode",STR_CHAT_SIDE_FULL="Full screen",STR_CHAT_PP_SIDE_FULL="Big plus small screen",STR_CHAT_SIDE="Smaller screen and chat",STR_CHAT_5050="50/50 and chats",STR_CHAT_DELAY="Chat delay",STR_SPEED="Speed",STR_QUALITY="Quality",STR_NORMAL="Normal",STR_AUTO="Auto",STR_DEF_QUALITY="Default player start quality",STR_DEF_QUALITY_SUMARRY="Used when the app is first opened, after the user change the quality that becomes default for that section, a section ends when the apps is closed",STR_VERY_LOW="Very low",STR_LOW="Low",STR_HIGH="High",STR_VERY_HIGH="Very high",STR_THUMB_RESOLUTION="Thumbnails quality",STR_THUMB_RESOLUTION_SUMARRY="Default thumbnails resolution for live, videos and games (can't be applied for clips) a lower value will help the app load faster but the thumbnail may look blurry",STR_PAYPAL_SUMMARY="Donations use above Email.",STR_PLAYER_PROBLEM_2="Connection failed, unable to load second stream info",STR_PLAYER_RESYNC="Player Auto Sync",STR_PLAYER_AUTO_BIG="Main window",STR_PLAYER_AUTO_SMALLS="Small window",STR_PLAYER_AUTO_ALL="Both windows",STR_PLAYER_BITRATE_UNLIMITED="Unlimited",STR_PLAYER_BITRATE="Auto quality Bitrate limit:",STR_PLAYER_BITRATE_SUMARRY="The maximum video allowed bitrate for the auto quality, this is most to prevent lag or slowdowns when playing in picture and picture mode as that mode used Auto quality only, but also can be used to limit the Main window bitrate when using Auto quality and prevent the player from trying bitrate bigger then what yours internet supports, some devices will slowdown too much if the main and small window bitrate is too high, the recommended is 3Mbps for small and unlimited for main.",STR_PLAYER_BITRATE_MAIN="Main player bitrate",STR_PLAYER_BITRATE_SMALL="Small player bitrate (for Picture in Picture mode)",STR_PLAYER_BITRATE_SMALL_SUMARRY="Different values for Main and small player bitrate may cause a short loading call when changing video source, to prevent this set both values the same at the cost of possible app slowdowns if the bitrate values are too high, the best indicative for detecting too high bitrate for picture in picture is the player Drooped frames value if you are constantly drooping the bitrate is too high, other indicative is the constantly buffering of the stream.",STR_PICTURE_LIVE_FEED='Hold enter to start "Picture in Picture Mode" then use D-Pad to move, resize or change videos',STR_AUDIO_SOURCE="Audio source",STR_PICTURE_PICTURE="Picture in Picture or 50/50 (For Live streams only, add a user to use it):",STR_PICTURE_CONTROLS1="Enable picture in Picture mode: Playing a video press up to show live feed choose a stream then hold key enter to start",STR_PICTURE_CONTROLS2="Change small window content: Same as before, hold key enter above a stream in live feed",STR_PICTURE_CONTROLS3="Change big window content: simple click above a stream in live feed",STR_PICTURE_CONTROLS4="Change content between windows: D-pad down big becomes small and vice versa",STR_PICTURE_CONTROLS5="Change small window position: D-pad left",STR_PICTURE_CONTROLS6="Change small window size: D-pad right",STR_PICTURE_CONTROLS7="Change audio source: use the player bottom controls Audio source, if in 50/50 mode use d-pad down",STR_PICTURE_CONTROLS8="Auto Sync playback: use the player bottom controls Player Sync",STR_PICTURE_CONTROLS9="Manually Sync playback: Is a workaround use the player bottom control Speed to slowdown the stream that is in front or vice versa",STR_PICTURE_CONTROLS10="Picture in Picture video quality: Check in app settings Auto quality Bitrate limit",STR_PICTURE_CONTROLS11="Close small window: back key twice",STR_PICTURE_CONTROLS12="Enable 50/50 mode (Two stream two chats): If already in picture in picture mode use bottom controls Video Mode or when in video mode smaller screen plus chat hold key enter to start from live feed",STR_KEEP_INFO_VISIBLE="Keep player status always visible",STR_SINGLE_EXIT="Single return key press",STR_SINGLE_EXIT_SUMMARY="Exit the player or exit picture in picture or exit 50/50 mode with a single key return click",STR_NOW_LIVE="Now Live",STR_NOW_LIVE_SHOW="Show Now Live notification",STR_NOW_DURATION="Now Live notification duration in seconds",STR_GLOBAL_FONT="Global app font size offset",STR_GLOBAL_FONT_SUMMARY="This will change the size of all text and most icons in the app (minus chat font size, because it has its own control), too small value may not be visible too big value will overflow the text box holder, that is way this value is limited",STR_MAIN_MENU="Main Menu",STR_USER_MENU="User Menu",STR_CH_IS_OFFLINE="Is offline",STR_SCREEN_COUNTER="Show screen position counter",STR_SWITCH_POS="Switch: Starting Position offset",STR_SWITCH_POS_SUMMARY="Instead of starting on the first possible video, start a a lower position on the list, prevents having to go down and down to find a older video",STR_USER_OPTION="Choose a option for user",STR_MAIN_USER="Main user",STR_USER_TOP_LABLE="Click on a user to see options",STR_USER_EXTRAS="User: Switch, add, key",STR_FORBIDDEN="If start getting buffers issue disable "+(STR_LOW_LATENCY="Low Latency")+"<br>Use "+(STR_SETTINGS_BUFFER_LIVE="Live streams Start buffer")+" equal or bellow to 1 for this to have effect",STR_LIVE_FEED_SORT="Live feed sort",STR_LIVE_FEED_SORT_SUMMARY="Sorts side panel live feed and player live feed",STR_A_Z="Alphabetical A - Z",STR_Z_A="Alphabetical Z - A"}var BodyfontSize,IMG_404_GAME="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAeEAAAKgCAMAAACbeDVoAAAAM1BMVEU3NTZoZ2eura6enp4+PD1MS0vq6en09PQ0MjPy8vJ9fX1YV1jT09O7u7vf3t+NjY3GxsZnLAeWAAAI3UlEQVR4Ae3d7XabOrcGUPEBWguMzf1f7dltd3u6Q1rHNk5I3jn/NmPYo48lJC1JFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgf0+UoenatpuGEuUdRD8009S806cR/eWU9bs8d0M8/eOmZazfjcvUR3kuYmiz/m6Z46n5dmP9zdjJ+Ln6NusLuQ7labqxvpBdX3iaaayv6cpTxJT1FTlF4Sn6Jeur8vSErjqGP37c0hf2F/Op/tHY7d+Az/WPznMUdhbNWP8iT0M8rb/YGvXUT34Eb2VO8ayf01bmJQo7ikvWq9a+7KStV2UX5X0JuOZOfed8zvoGIn72tGUrs91xDizijx9kbWQ9NVEeMpzq1nOf/Mxjfbts+/KALuuWEfVz9ed6ixzvb8bzueZNHzUXHneut7pvbhzDmvVG2RceFEvWm41dH/dUkW6VeSo8Ji51a/+Mo+/O9S5tFB4xZ73TeMPugG37NaA+4ChrI5emRLkmytxmzXovo61HxFIfktldqwIN3Vgfcyrc7ZL1UTkuTf+Hptw3y5h1490exQxj3cV4Wi7N0JcSP5TSD81lOY1Zsz4ssyncJc51T3k+reuyLOt6OmfdUY594R6Xenz66QcMWT+NptyMONWjOa/rWF917gt3FP0P5dSU+Ec/nfXTu+jHeiCZXfkhonRp3eNx0dYjyUtc6V5OhZs0WQ8k27i2Uy8vhR2KwvPwU31Hm4FUPz5WKia6+rooP9V3tN0529WNXKLwVn0eKuE6lxeaupVD4a26eqyE+/JCX1+hEb/ZkMdKOMvGIytbxFIP1obLS/0jlWLmerSEh/LCUF81Fd5iPVzC09vKXnkuvEGTh0t4jfJfp7px/7KHmtLHJ5xTbE7K3VtjosnjJVzHeXOQ6s5GTJzrARPOcX7bSbksV9DkEROuWf89RBF9d9ugbMtT+BAJ5zLN8zytWX8a10vTXNYx679y/f4nS9bfjIW/mushEs5liJ8HEutPmfV3668/WVIjfqtYDpHw+HvBv71ab4ou6095KvzFkEdI+L9XKcWa1/YERJdWp9+mqx+e8HaBoz9fX71alZjepB/vr9UMzysHT3Wj+fP4IefyNrZ25AclfIrNGdfrC9CnO3bW2p01f0zCXVwd/7Xxlx/n2BfettrxQW14ur61tysvTfX/Xcp1VjuOlHC5MeExypuYKs3l7fqh7uUS19vwJsOLA8XXtXmMNryd7pyuFoxj2f4zL0TWeoix9Nhf61wyh7/u/82+bNHUbz5+LL3ppmO5etYwLvdUmCxJN/FS+SVemutuxuFaQTPHpvwm5nE7peb6BtWPWLXcbsYZ8uqvYDhf3Z1ZmI6TcNZxjmtbErKJ8kM0eX08TqwfmPBWLnOJiL5Zs/4ynk5j/SXX739S5iWvr3wSQx4q4Zp5/nEtU9YfzlMf/xgu5/pDfr/YYz1n3VJ+2Jrqxye8kb9fPR/lu+iXvH1xm1iPk/CVwCLadNvlzYbcM+Fc2hfW+kKu2z/4syVu+jluTxMz1V0Tvj4Xy/6GBZOxv/3Cza6waRX7JRx7Jrx9qEZ74z4C+nHPhHOTcDyW8PaWhxsXxmjy0G24Ly/0N5aZWeqR2/D1Wx6uHCYmxnroNnzXInoWfhny2G346i0PV5a1mPLYbXgqL0w3nZwg1vrMNvx4wpt9PetN+66JrDu34aF/Yd72of1/NPUvsrlr6F/4IYb6Vs0v9V2dh/983/G20zE09e3yu5r1fY3DHS8JuhR+6Orh5TiV76JMY972ChfiXD+DU9cMQ9Odsr7VGIVv+vo55J132jLXr2oufDPVr+pS2J4L//QMtTbW+lWdCt+M9avKvhRiqF/XUEphrl9XU9gczDSY/nLa+nW1UYilfl1rFGKt9UtPlzjXr+tcCv1Yv66xL1sODu8sx7W7TM089P8opfT/GOZmmrr1/PTPHgpzfZpx7aa5j3+UiPJClBIR/Tx161ifZi409Rny1E7Dt1yv+pb/MLWntOTxaRLO8/It3XKDiOib5Qmd9lSY6q5yXOYSJcqt+hJlbsfcO2EudUfZzVEeEXOXdUddoat7ybUpUR4TJUqz5AETlvDYDVH2EUM31n20hbbu4dz1UfYSEf3lvFPCtHu+4mxHfZsS3kO09WFjE2V/0YyHSFgbzqU8y5Ifn7C9tOMU5VliGo2lP3o+fJ6jPNF8so3nY9e01r48U5R+sab1gQnnUp5vyY9KWPUw2yhPF9FmvVc2haHeK7so7yEuWe81FPp8/EXfTxZT1rtk9qVwrnfJKUo5esTnUojT429yf747Iz5FIZYjBrxxyXtfoUh3xEHWRnR555IWzSED3ojORrw7DZ/kwFe0d06WGOuNloPec74xFu4Zap368iGiPxlovcMR8Rz78lH6MVWWbhfz5zkKNIzPPtPiQTw25SM1o8fwkwepl/jgR0rePuSn+UT/adGaDT/xLQB5+kzr6Fn4qf1MR+r7USf9rPct5fClv60KYk6f6vVQ5yj80uRn6vWiS1u0bhTr57qbalX8378Rj0M5jmHUhHcvPzRRDqRRdLhRXGsVXXym41bbHoeYPtkFkaf6N1MUXloP1yTufxSvha1+PPRMeGMa9dG36efxjjP+B6wkZjblVczn+pq2L8fUt/U157lEeQ1Rpk3GYztEOaoY2nGT7+Wv+dK056z/ynPb9FGOLPqXX/h6vgzNpW3b7tIMJcrxRRmaqWvb9sYvTET5JKIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAF/F/wGK2iVvT89ySQAAAABJRU5ErkJggg==",IMG_404_LOGO="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAMAAABrrFhUAAAASFBMVEVHcEw1NTXb29swMDB9fX1DQ0NeXl5RUVFtbW3m5ubT09Pg4ODKyso7Ozufn5+9vb2urq62traQkJClpaWJiYmYmJjCwsLq6uo9xg8yAAAAF3RSTlMACeoDbBxBLlX54PHUEZnCrbiFonuQyd/Z9QoAAAhdSURBVHgB7MGBAAAAAICg/akXqQIAAAAAYO7qJdtSEIbC8AKREB4icI57/jOtzm1Ur1ZdFRO/GfxxqzdbTFnJex9+eO9pLWZ5fbgpFFwf7cg2MeNvnGw+2uguUDFvfOaFQt+zZfwT27z3QOU9ezDkvtUy/gvb4+vIvCF+RMYvcRyqj7CGLTNO4ryFVWM9uZZwkdQcqatnXIqrnhusP/VX4+YUvAuL3yxuYze/CH/4FTergmdAPWKC2Enk9mkkTJKGF9fvd8ZEvHth+ZhO0AloQr7gE9BgPIQHPZ5fPhYPsp/ybH/IeFgOT66/QYBGD+UvLkEE+1me6PcVYlQ/Pd90hiDczdx+qhCm0sx+lyBOctPy1x0i7eucfh8hVPRT5s8Qi93t+WWDaFu5t58OCHeQ3Ndf/4cgJCiQwl39Dkp8bslfvlDju1zfbwYUGeby/h2q7BdfoDQo08ql/RXq1CK6f4Kj6N+/jA2YBqWa0f/9F/AvGFBsnO/vUK2f7XdQzp3rDwzlOJzpJwv1Ev2+f424EScb83HkaNOf9u5Ex3EQCQPwjznA+D7sev83XWnVGu1oZ9Jp8pcTNP4eIN2xOaqgCK0oyh6F7CJKunPbU/SDMdYaM/iY9u3sPi4cOERFHpO3ACx+Y30as6g4UCSJgnwEg78y4ciiIKFA7IRucgO+MbjpIwZCa3phW8Lbas76AT81CtmU8LQ0Cdn47gEgpzcXH6X3RgCbxw/5Tagajx+wM/v1F0hZmJb3pUCLRxG/vCktsr75jF0Ke7ypE8wfs2XvWuGZ+TOA/k5laq6fCYYsNF3Ai0J3eV44ftL3hw3dxeFQbLXa//urEtqI7y3vX43SW5dbLh0BHUjcheMgMQncQLMJS28ue9inAY2ZriqfGZrr465rY9NmwCM7v7NxpGv2ingPegbZfEnTXN/fAfTfzXrFH0mgS0LSef0GMEHBJCSrfhYUoCCoTwSOPAJ+7DjolIPANkJFbHXDwcSPgclG3TF6+vAGQGwCk8X/i0KyQM0iJEG/fWmwSUhGxTSoN1Bjer2Z0AnJDkW7kLjKhkD+MKj2ySdUTUIStdKAHap2pYTAfnoUyI8GrU6icVqosqeQBJ0ecEDZISSrSg+QBGVJZYE86O89scRWow+s7MdaQTAoq8bsukHdprBu5zshcVDnFBZHk7AkaLMa/+wmLBHqYkvvrybzWxUfv79mw14LkmygzmR6e3XCMuECi7A4elXUjAvM7Jopyy4K0Q8EuBmhb9mPVNcoLK1nl0UduMAhNIl9OniFPv7/OwvNjgvs5PJp29f3AKjJq+/q6wLUyDXIvzsISiAfjxlrewCO/HnXBELkJjuLVJwLEKaBU8ijqjLbC88J2Cw8zQBt1jTCkw11FpT2ohUhZjYQhSlBXRKmiCBMDuqcMCXyAz2g7hCmRH6gE9RN5Ca7C1PnocsOjTDtOIQqQFkQqgOzUO1QtgvVjEnqGgQW9v97ClUb1feFqHr0UlUfSMLVI0tVfWATroxGauoDvhGuBo2QOShyQtaglZr6wCRkLYStDaqpMBtaYZuhZhS2Fp2wtVExCGDr0AjdBiWr0DXIUk0T8I3QZWThG6tpAJLRC1/nwWd9J3w9JlGwKUXBfBNm0ZBAl0TDjFE05AFkQxYNI1ZRMYJsFBUrnOgIGh2Az6l9cj8odAA+hyBKNoUOwJcQW1Gy1nDPXcTQiRYHktCKktZz6wN0VgZiI1oaAyyipokg8FnU9BYYRU/v8TLfi54FwC6K+sj8/nwjf4Ql3wEbe/VbiIKo6tIn3/ObHqy0srSOess9f+3KZFG2WhSxqyjLBgBm0TZFFIiLaFsKSg6KNA4/5hpRdxRkmoWWSHj9dKlgu6FUe3g8zR+tFChdvz/lEt0R8ZR4NHKJbIqS7XLdGPGtOHZykfn6WyXbxXk84N3cymV2pU3ndhoffGIzJ2/xB9a7uZErBf6BdJFucfG7SxG6c3TBG4sv1vjgxrOTB9p979XW7md+C49ZvtH05zKP6zpuy9Q3zyRVJqy9TiGDE4pzj/hirT+F6Pz6ZBPGRlgctfKkGYPF/xpGodkG/DK4paX/4MkpLzqd17sjqHMqgUJvaBXISzJF8Wx5KuX3TD3cEeUFc8Df2L2TF7W7xZ8M7iTuYNue/vW/xFntmk6bet4G9qp3jWg6pVif8HcWxvWsrbsgJc6EJxiXpUh2Bt8Y9obQAwqDwewsnjOUvKneeTwhboQeUJQRjh7PM2n6aeMyeFI4GRUcidL6H7BhzD+4nNvieaZkrgmv/VDjOuDnhrQ18q1mTgN+KE4lm4K/c5ds9/i0Tg9eVzcdyaOA2dtXixd8V3CJcOlD2Kbcym/a5tzW5C1Khf7Vat6xYKenmB1icm5fj3E81t25FAeL1/j5xZL+oNz89e3ytFR8HOX0+Fg2dT9LBAuGwc1An/5m8l5aizfiw8X+lavgDvXCN33+lO8dhWeydnw+O5zynS6W1WOuqII/y2tYY/e43dTB9+VHmo4Hj82iFj7LI3PRsZzFoB6hK2gAj5tA9qiJK65i941q1e9ljoIp4NHqqENl7FQ6lv+xCSyoTuxK7wPeH7ea2oeBveR0jkOF7FL6i4/pwf2UFXgc2KeSI6oBdRpLBzPfPA6cauGb0sHMPQ6camH30nTWTg8Cp4qbwGlKxo+Aeo3F4eyqf3/g9RPBUXSjmUPNluLDzKG94JeS9bnyfG6vcg58sN+3l93m41C3pTyc9VkvCLi+DzSx7Mj2icpF+a82FT69EZUbmld2NGZxqN3ySjTrc0Ltjq8QuEz0qJ17aUXbonY2SRvwL0vi8E8LB/5txuKX2+12u91ut9vtdrvdbrfb7Xa7/Qf0wSAxhEqDGQAAAABJRU5ErkJggg==",IMG_404_VIDEO="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAhAAAAEpBAMAAAAwswZCAAAAJ1BMVEU3NTbV1dU2NDXU1NTDwsOrq6t9fX1IR0dwb3DNzc2cm5xbWlqPj4+TNW2cAAAFhElEQVQYGe3AQYud5R0F8MPhzoxSN4d/buoUgcODtIFs+jCmaUqAuQ1RJJuZFAR3mUHE5TBqQFc3iUHcdVpQoZsE0GxjAcFdRPRz9b2ZmbTfoHKf80NERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERExK8VCRj4/pu3+7Wb3z4FTDQSoyGAhrvvSjt9p/ftd45oA8ZobBgPS6UuqaT5kmgwhtOI99Sl0pkLd4hGjIbAZ+ol9dJKV7+wJInRGB9rRypJpZUuzY9gjIaXTkqnuiZVkr4GMZyf9F9dz9XOM2MoBDa6ulZu/vLB+z8v9Fyfw8Q4GoC/qST1K5/DNLce7qg02SOMcTRuaKXePCZt2r57QyVpDsMYhYl9TepLwM1strl5opK0RwzEr0hd/S/HaECzG0x/qkm9ZoyDuKdS3z60TRiECeILqaT7GEf7w4mk+pdJ2IRNE758Q5OvQAxjo0r9wpEJm2ggCAMfdUlzGCOwDdxTL71lGyvGma2FpL4kRkCCXnRp+ylIwAZxhj9Iql0MwSQ2u6Q/22g0YOLcpa7SRWIINmaaPCII04Zxhnws6Q0MoQF+oNL2MWgQ/8v4pKtriSE0cl/Sn2DDvnzjiXGO/r2kuo0REG2rS9q1TWBD20vjDImF1K9iBCY2u6RDkEB7vff5Mc4RB5IuYgQkNiTVkU0AM0nXQRIGYH8o6YqNARgvl3SFhAHMJO3csk2CJje6+jZpY/35u6561Q0EMCup9ASECRgvSb0/bVh/BA4kXaWJyUxV0rUlCJPwliaHILH27MeSdg0YwEwrNT8GSQNcqPSIJtadwX1V7YEwgJl6SerXYRgE96W6DRprz15U6RnRDGBWmpR2bsEkgB8l/RUmBrBQ1aGNlZm6VFLVIzYYOOhVu2DD2iNOJN3BqZnOzWE24KCkfxAjsEq6j1MznSkBBvBA0h8NY92RPJF0B6dmWilJc9hoOJD0d2L9uXEh6RCnZnqudz1qNMGDLu0SxAAWJT3DqZkmXTt1iyQM/yj1XWP9kdyXdBunZpqU6jpgw8C+pD0YA/Bjde3i1EzPzY9IA7AXkh4Zxrpj44Gk3+LUTCvbSxgAiS1NDgli/fE7Sa8CNoGZ1KUnMCYNfklS/dvG2qPxclefG4DJmaR+iyBW3DZK/RpIjGCjtLNzZJjNr6t0HTZWTHyoXnOYWHsENlXSIQnbs9L8CMZzpA+qdLEBxtqzt3ov7ZpoxIa2lyBNrBgLSVdBE2uPwL56vwibxuUbTwgYxoTc7JL2CBLrjjDuSbV9BBiTRtAwJsQnpd6XJIy1Z2AmqT8iCJuwQeLUY0kXYDRiBJuavArAJs4QJF7S5CKG4UXv2n7KCc6ZJn+Q1HeJYTyQVG95ghdMby2kqiXGsdGl/sYRDeMMQX7UJc3RMApvnah33QKIF+zf3ChJX9kYBXFPKm0vDeJMg79QV+/3QYzCeEUrvzu2ca59Kqn0mhuGwYb9Lqm+hHGmbZ5IJe3BxjCIDUldevOoGbaBu4veJc0BG6MgiH2VVHXlczebWw+7ulTaA2yMZENSL/W6+csH7/+86L2rSnOCGIhN/KRJl0qTLqmkemYY4zAml/6pF7omvfQ12TAQT+CPpR1JvdQ1qdL8mMRISNjAZ12lKvWSVOoXljAaBmIQJP2epNK5C3cAYkwPe5WkrpKuLI1RkXff7ZJK2n7nyMawDHz/zdv92s1vn8LEsIyJG2iCjRiXbYBAA0xjWAZhAAZAgxiX2QgbhpuNcRGACcAgIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiLi/+Y/XKfZaw0ONrwAAAAASUVORK5CYII=",IMG_404_BANNER="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",IMG_404_LOGO_TEMP="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAYAAAB5fY51AAAABHNCSVQICAgIfAhkiAAAAXRJREFUeJztwTEBAAAAwqD1T20MH6AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/gZ/twABJJA/XAAAAABJRU5ErkJggg==",IMG_PARTNER="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMkAAADJCAYAAACJxhYFAAAOyUlEQVR42uydX4hcZxnG3+/bnYU2yia21F60ZBtLLUJJtqLEWpyuBtoI2qG5UFzqzCbVm1w4BWOuGpf2xkQh48WCmCYzQ1lJLwq7elEDLckUjQslmqVeaElilhXUQt1dadowszlHzuxsmJ3Mn/PnO9/f57lMk92ZM++v7/eced73cIIgqK8ACQQBErN0KPvaU7gKeonhEqhXPlseG6aRAuNUIKKdRLTke1RZp3qlWpu6jisESBzvGqzAOMv3+ju+51eJ/Mrp2vMXcMUAiStdY/sQjeQ4p+lW1wirJfL8UoMaQXdZxZUEJBbCMbtnmPwi4yxHRKMJftSa7/lz68RK1drkZVxZQGK8DmZnm16DEWVF/2yfqBZ4lzO1yQquNCAx1YgXE3aNCN2FSjD6gMQII844D8B4VuHLmPc9LzD6c/hEAIk2RjxDmQJxVoxoxNMWjD4g0caI53V/rb7nV2H0AYlkI86KjPzdpr12n9ii7/mlW1SfQ3cBJGkY8WLrG/FRC97SWusb/RKMPiBJasRzxHkxjdu3+nQXqpHnlWD0AUkkI97WNXY69NaRFwMkA7vGwByVK0JeDJBs6RpDNJIz1YjL6C6eR9OuG33mrhHPTAvIUbmiVl6sMe3iUcwpSNLMUTlzFHMwL8bc6BpbBpogYd3FjbwYs9mIa5CjckXz/sZt5AuAxAAjrmmOyhmjb2NejNkBh7CBJkiUd7EoL8bMN+K4fau30d/Ii5ls9JmhRtymHJVLRt/IvBgzyIjnGOcFGHFrjL4xg2EMRhxSafTbussqIInWNZCjctDo65oXYzp1DeSoIB0HwxiMOKSv0dcjL8bUHqtmS4zTj1APUP+jGP3ydG2y6BwkTVPOR66je0Bh1PDqO1Qdv5Q9eiHwHwAECqvmXU5FUgZJa2E0BIUsGFZ0CpLWg2rwvQcURTtVPeBIUSdhBXzmUOSq2Rh9sN+457PlsQwf+Qc+ciimgX9I9i1h6Z1kmEbQRSCj6ofLb5kESKAk9VO0GpKD2VnMmUNJNdqqIzshQReBTKwjBsMOmWngaVzWaDCXaLiK+GghcfXkF63qJMhpQSloreHVx2TkuaR0EuS0oDQMfKuu7DhuMYW5G8heycr/pQ5Jc5MiJg2hdCQlzyWhkyCnBZldX0yCYV/BBwmlqbTzXKl2EpWDMpA7SjvPle5xC4YdknHgSvkbeJ6iYc8hpwVJNPA54yBprSSFIDlKcSCLpWTYkdOCrDHwPCUjBS8CqTDwRWOOW4jEQ6oMfD5b3q49JK2BGOS0IBVKJc/FxdOM276Qym4ivv64WMM+uwc5LUgpJOTvFp3n4mKNk48uYrgefHgHfffwF01HpSAWPGFdBINVNgBy5OQ+umtbhi6eu0bl4wvGvheRC7aFdZJWTguAWABIoCee3kXHTu2nuz81YuT7EZkbFHfcgmE3VgEIh1/52m1AboPzuR3045PfMBMUgfUoBBIswDYbkACEez67rXuHMRcUYXkuIZCoWmQMiQEkAKHvUcxQUETlB5kAw46clsWAtGv56grNvPQOffjvGyYZ+MR5rsSdBAuw3QBks6P89NQ3mybfFInIc/HkLQ05LdP0ncOPRwZkU4G5P3JynzGgiKjPRJBgAbZ5mjq6t3l7N4kMAyXxgm2OLgJAbAclaZ0yGHYAkkSf3GjQ2ZlLdPH31zQ38PEXbPP4hiiDp+c6DshmR5n6yV564pldmhv4+LlCHrOLbGec5VB++iso3rQA2QKi5qAE9Rp3ICsWJFiAbQ4gQfFK61h6gzIaN88VCxJZi4ohcwDZ1L4Dn9f3osTMc0WGBDktANLPxM+89I7OlybWgu0YnQQLsHXW+JMPKAPk5y++ZUBkJXr9sqiGHQuw9VXnTIhsQJavmFEaUfNckToJ9mkBENMBoRh5w0iQ4Bt2AGI6IHHqmEcw7FiADUC26OzMJeMA2TTwUfJc4TsJBqu00z33b1MGSPnEgvZRFFHdhIc07GOMKIuy1Ee95tIBSEhIiLJBXQuDBIZdP0DiDE0BkM66Dpc/5DDsAMRFQChCnmsgJFiADUACXTx3zSpAWgq1YJuHoA1HLU0UeBBVgJi8zTFpffP+hh0LsHXR1NG99Mju+wCIcAM/eME2729ssABbF0BkzIS4BkgbKoX+IPXsIshpAZAFZ65zvwXbPTuJyIXDkFmALF9doddn/uzUte73NUfv4xYMu1J9O/+YMkB+8eLb9PFHdaeud7+vObpCgsEqtXrimV30rfxjAESuei7Y5t2pQk5LJSAqhqYcB2Sz7guhjDv2abkHyIf/uUEv/+BNpwFpM/B3DGTxLgYGht0hQDbn0gFIbwPPuxgYp45aOqzpDF6Dyrl0Q2dCpBn4LZC4ltMaf/IBOvbr/c1brSoBOXJyHwDRR3cs2OaDKLK5g0wd/crGUefpXUpAwditrt1k69cfvMPF73EFkM7iDEAJ/kzWI89Ujt0CkAGQkD/WExLf8+dcBGRTj+y+T8qzAVUCUj6xAEAGqJODLZCsU2PaVUBu/52UH6KJsVv9tU6s1BOSam3quk9Us/GNB8UZ+I4wxZkWKIMeBw1ANOgiRLXO55jwO1sNVWwEJOpEX/B3j53aL+wWMcZuTTlq3Vn/XaPyL0zMXrclu5W0OEXcCVIJyO+q79Fvq++h+sNp7dXzk3fMvPOwNLkICAl4NqDquXQAEqmLlLr9Oe9uXOpWQBJ4EBHFmQSUJI+DTgqIS0NTYgx797of6vaHi0vzq48/dGCciB41GZAvTYg7MWZGhujLXx+jtZWboY9emCo0SvPlC9//VehOstF6vJLJgKRRnFEeoglATDtqeT1PT32fT2KigZdVnP3uGKkC5P3FD5o3GaDIWnr1/GTPlaf99255vlHdRObIa6+OonIuXfNHsemrAXXeF5IGNYIWtGbC+1Qx8hqA0h6MlPU46G6AuD5VmEStOu+poX7/cXFp/ub4zuceZYxpHXx88OEdVPzZhLLffe/92+juT49g7NZIL+JXy7X82didhLrkWHTU8pWVpkdQ1sWexly6qQpT3wMhqdYmL5uQ5wpMtEpQZOuTGw0AkrSLEFvszGnFgoQM+gbeFVA2ozIAJPFRK9QpKRQkZ2qTxhh420HBVKEwrd2i+pwwSMiwPFcAyss/fLNZUAAE6lXPvXb/xoZknepGfWcSFFJQULaAAkBEG/bw9RwaktbCrnmAokbl438CIMIMO9U6F9AJgYQG5FsASoqAnFigv/zhn6huUYqYS2RRf76pA1kq5zqSAoKpQqHqm9NK3Ek2KPSNTAd//FG9+b3C8tUVAOK4YY/6byJDMijnAlAAiC2GPTYk1drUqu/5VdNBeX/xA21f49tv/B2ApNJF/GrY277Jjlsbv87o8d4AlMDMXzynXyEGr+nszCVUdDqYxKpbFvfXHZr4zWUbHl+tav6jFyCYKtTHsCfsJOFzL9qf/Y8vaNFRAEi68jyKvZ00NiSt3MuaLaAEPgCAWKvQOa1uGor7DzcGsg7czxjtteEq/vXdfzUfizb+1Qek/t7lqyt06pWL1KjfQimnZ9hfHzRYlUonIQPzXAP/jy45QYyhKTlKugg+ESQ2LtiWBQoAkdRFIua0hEPSckQl2y7sJihp5b0AiMyjVvIRDybihdi0YLtdaTxsB4DINezdFmDL7ySWPq6BUkgQBz+nfHwBgMjrIkJOOVyMMapXbL3QokDB0JQKwy6mLodE/JDFpfnV8Z3PPaT7fq64+t9/bzZvEe/6wr00+pm7AIgZ6rkAW0knaTW3is1XPCjwOAliAKLqqCXuhhIT+cJsNfDtijK8BUCUKXZOK+VOkiwfY4qizKScnbkEQFRIcK5QKCQ25bnCgHL5j73nzjE0pU6iBwOHRP4wUxZsC/kg6rfo3fNLzWXZnY+JAyAqvcjgBdhKOwkZsmBbpDqj9gBErdKoP5bGCz00MXuBEWVd+nCmju6l5Sur9NYbf0OlquoixBZPn/+e8FPMcDotjyqMuwUJ5kG0OGqlcophab3gFyZmV4loFB8dJElCclpSPElbNynhc4PkdZH08oM8PQNVr+Cjg+QZ9vQGAFODxMQF25Cxmk86WKUEEhKcn4GgPnWW6qmFpf0GXMhzQUolNKclvZM0Zcl+Lsg9wy4NEpMXbENuG3ZpkJi+YBvSuYvEW4Ct33HLwTwXJA0TKacUJuvt2LJgG9IEj5RyWso6CVm0YBvS5qglrZ6kQXKmNllxYSALkqJEC7C1hYQs3s8FSe8iczIMuxJIbFuwDalR0gXYWkNi44JtSLZhT74AW2tImkKeCzLsyM5UvFHkuaCYSj2npUcngYGHDKsbrsZ4wcBDserGHUiQ54Kid5FmTuu6M5C03jaOXJAR9cJUvm3kuSCdDbsGnYRo3fMLmIOHBmi+4VFO5QtgOlyFfLY8NkwjBcapiF1dEBGt+R5V1qleUuVDtIOkXQezswEsBdfWpEIb36YHcLTCsNqI6XrB8tnZPcPkFxlnOXQX27uGP7dOrFStTV7W8QUy3a9gPlvePkQjOc6bDwjCt/QWmXHy/FKDGhWZiV4rIWnXoexrTxGxAuMsjxoz14j7nlc6XXv+gikvmJl4lduMfgHdxYyu0TLiFR2MuBOQwOjDiAOS+N2l2OouMPrKjXhj2sSuYTUknUafcVbEt/kyuwZb9D2/dIvqc7obcechgdGXDEczqOpXTDLigKRHd8lQpkCcFWH0hRrxkm1dw1lIOrpLjnEe+JZnUevRjTht3L6dc+l9M1c/cBj9KEZcnxwVIFGkjdvIMPrdjLjpt28BifDugrxYYMR1zlEBEhh9ZUbclBwVINHT6D/FOC9aavSNy1EBEv2Nvg15scCIl0zNUQESo4y+WXkxW3JUgMTI7pKZ1tjoW5ejAiQGG33NBsOWPI+mbcxRARJLjL6qvJgLOSpAYll3aftGP83uYvRAEyCBNrtLjjgvijT6ruaoAIkTRj9RXsz5HBUgcUhR8mI2DzQBEihEd7mdF8t3M+LIUQESqM3oZyhT8DnLMc+fQ44KgiBjxHEJIAiQQFAi/T8AAP//NojMSb2rf6kAAAAASUVORK5CYII=";function calculateFontSize(){var e,a,n,t=29+Settings_value.global_font_offset.values[Main_getItemInt("global_font_offset",Settings_value.global_font_offset.defaultValue)-1],i=["screen_holder","screen_size","screen_holder_games","dialogs","screen_holder_switch","screen_holder_channel","screen_holder_user"];e=window.innerHeight,BodyfontSize=t*(a=e/1080),n=1920*a,document.body.style.width=n+"px",document.body.style.height=e+"px",document.body.style.fontSize=BodyfontSize+"px";for(var l=0;l<i.length;l++)setWidthHeight(document.getElementsByClassName(i[l]),n,e);document.getElementById("dialog_warning").style.width=.6*n+"px",document.getElementById("topbar").style.width=.945*n+"px",document.getElementById("settings_holder").style.width=n+"px"}function setWidthHeight(e,a,n){for(var t=0;t<e.length;t++)e[t].style.width=a+"px",e[t].style.height=n+"px"}window.addEventListener("resize",calculateFontSize,!1),window.addEventListener("load",calculateFontSize,!1);var KEY_PAUSE=83,KEY_PLAY=80,KEY_PLAYPAUSE=179,KEY_LEFT=37,KEY_UP=38,KEY_RIGHT=39,KEY_DOWN=40,KEY_ENTER=13,KEY_PG_DOWN=34,KEY_PG_UP=33,KEY_REFRESH=50,KEY_RETURN=49,KEY_KEYBOARD_BACKSPACE=8,KEY_KEYBOARD_DONE=13,KEY_KEYBOARD_SPACE=32,KEY_KEYBOARD_DELETE_ALL=46,AddCode_loadingDataTry=0,AddCode_loadingDataTryMax=5,AddCode_loadingDataTimeout=1e4,AddCode_Code=0,AddCode_IsFallowing=!1,AddCode_IsSub=!1,AddCode_PlayRequest=!1,AddCode_Channel_id="",AddCode_redirect_uri="https://fgl27.github.io/SmartTwitchTV/release/index.min.html",AddCode_client_secret="elsu5d09k0xomu7cggx3qg5ybdwu7g",AddCode_UrlToken="https://id.twitch.tv/oauth2/token?";function AddCode_CheckNewCode(e){AddCode_Code=e,AddCode_TimeoutReset10(),Main_showLoadDialog(),AddCode_requestTokens()}function AddCode_refreshTokens(a,n,t,i){var l=new XMLHttpRequest,e=AddCode_UrlToken+"grant_type=refresh_token&client_id="+encodeURIComponent(Main_clientId)+"&client_secret="+encodeURIComponent(AddCode_client_secret)+"&refresh_token="+encodeURIComponent(AddUser_UsernameArray[a].refresh_token)+"&redirect_uri="+AddCode_redirect_uri;l.open("POST",e,!0),l.timeout=AddCode_loadingDataTimeout,l.ontimeout=function(){},l.onreadystatechange=function(){if(4===l.readyState)if(200===l.status)AddCode_refreshTokensSucess(l.responseText,a,t);else{var e=JSON.parse(l.responseText);e.message&&-1!==e.message.indexOf("Invalid refresh token")?(AddCode_requestTokensFailRunning(a),i&&i()):AddCode_refreshTokensError(a,n,t,i)}},l.send(null)}function AddCode_refreshTokensError(e,a,n,t){++a<5?AddCode_refreshTokens(e,a,n,t):t&&t()}function AddCode_refreshTokensSucess(e,a,n){var t=JSON.parse(e);AddCode_TokensCheckScope(t.scope)?(AddUser_UsernameArray[a].access_token=t.access_token,AddUser_UsernameArray[a].refresh_token=t.refresh_token,AddUser_SaveUserArray()):AddCode_requestTokensFailRunning(a),n&&n()}function AddCode_TokensCheckScope(e){return-1!==e.indexOf("user_read")&&-1!==e.indexOf("user_follows_edit")&&-1!==e.indexOf("user_subscriptions")}function AddCode_requestTokens(){var e=AddCode_UrlToken+"grant_type=authorization_code&client_id="+encodeURIComponent(Main_clientId)+"&client_secret="+encodeURIComponent(AddCode_client_secret)+"&code="+encodeURIComponent(AddCode_Code)+"&redirect_uri="+AddCode_redirect_uri,a=new XMLHttpRequest;a.open("POST",e,!0),a.timeout=AddCode_loadingDataTimeout,a.ontimeout=function(){},a.onreadystatechange=function(){4!==a.readyState||(200===a.status?AddCode_requestTokensSucess(a.responseText):AddCode_requestTokensError())},a.send(null)}function AddCode_requestTokensError(){++AddCode_loadingDataTry<AddCode_loadingDataTryMax?AddCode_requestTokens():AddCode_requestTokensFail()}function AddCode_requestTokensFail(){Main_HideLoadDialog(),Main_showWarningDialog(STR_OAUTH_FAIL),window.setTimeout(function(){Main_HideWarningDialog(),Main_newUsercode=0,Main_SaveValues(),Main_values.Main_Go=Main_Users,window.location=AddCode_redirect_uri},4e3),AddUser_UsernameArray[Main_values.Users_AddcodePosition].access_token=0,AddUser_UsernameArray[Main_values.Users_AddcodePosition].refresh_token=0,AddUser_SaveUserArray()}function AddCode_requestTokensFailRunning(e){Users_status=!1,Main_HideLoadDialog(),Main_showWarningDialog(STR_OAUTH_FAIL),AddUser_UsernameArray[e].access_token=0,AddUser_UsernameArray[e].refresh_token=0,AddUser_SaveUserArray(),Main_SaveValues(),window.setTimeout(Main_HideWarningDialog,4e3)}function AddCode_requestTokensSucess(e){var a=JSON.parse(e);AddUser_UsernameArray[Main_values.Users_AddcodePosition].access_token=a.access_token,AddUser_UsernameArray[Main_values.Users_AddcodePosition].refresh_token=a.refresh_token,AddCode_TimeoutReset10(),AddCode_CheckOauthToken()}function AddCode_CheckOauthToken(){BasehttpGet("https://api.twitch.tv/kraken?oauth_token="+AddUser_UsernameArray[Main_values.Users_AddcodePosition].access_token,AddCode_loadingDataTimeout,2,null,AddCode_CheckOauthTokenSucess,AddCode_CheckOauthTokenError,!0)}function AddCode_CheckOauthTokenSucess(e){var a=JSON.parse(e).token;a.user_name&&-1!==a.user_name.indexOf(AddUser_UsernameArray[Main_values.Users_AddcodePosition].name)?(AddUser_SaveUserArray(),Main_newUsercode=0,Main_HideLoadDialog(),Users_status=!1,Main_values.Main_Go=Main_Users,Main_SaveValues(),Main_showWarningDialog(STR_USER_CODE_OK),Main_IsNotBrowser&&Android.clearCookie(),window.setTimeout(function(){window.location=AddCode_redirect_uri},3e3)):(AddUser_UsernameArray[Main_values.Users_AddcodePosition].access_token=0,AddUser_UsernameArray[Main_values.Users_AddcodePosition].refresh_token=0,Main_showWarningDialog(STR_OAUTH_FAIL_USER+AddUser_UsernameArray[Main_values.Users_AddcodePosition].name),window.setTimeout(function(){Main_HideWarningDialog(),Main_newUsercode=0,Main_SaveValues(),Main_values.Main_Go=Main_Users,window.location=AddCode_redirect_uri},4e3))}function AddCode_CheckOauthTokenError(){++AddCode_loadingDataTry<AddCode_loadingDataTryMax?(AddCode_loadingDataTimeout+=500,AddCode_CheckOauthToken()):AddCode_requestTokensFail()}function AddCode_CheckFallow(){AddCode_TimeoutReset10(),AddCode_IsFallowing=!1,AddCode_RequestCheckFallow()}function AddCode_RequestCheckFallow(){var e="https://api.twitch.tv/kraken/users/"+AddUser_UsernameArray[0].id+"/follows/channels/"+AddCode_Channel_id,a=new XMLHttpRequest;a.open("GET",e,!0),a.timeout=AddCode_loadingDataTimeout,a.setRequestHeader(Main_clientIdHeader,Main_clientId),a.setRequestHeader(Main_AcceptHeader,Main_TwithcV5Json),a.ontimeout=function(){},a.onreadystatechange=function(){4===a.readyState&&(200===a.status?AddCode_RequestCheckFallowOK():404===a.status?AddCode_RequestCheckFallowNOK(a.responseText):AddCode_RequestCheckFallowError())},a.send(null)}function AddCode_RequestCheckFallowOK(){AddCode_IsFallowing=!0,AddCode_PlayRequest?Play_setFallow():ChannelContent_setFallow()}function AddCode_RequestCheckFallowNOK(e){(e=JSON.parse(e)).error&&-1!==(e.error+"").indexOf("Not Found")?(AddCode_IsFallowing=!1,AddCode_PlayRequest?Play_setFallow():ChannelContent_setFallow()):AddCode_RequestCheckFallowError()}function AddCode_RequestCheckFallowError(){++AddCode_loadingDataTry<AddCode_loadingDataTryMax?(AddCode_loadingDataTimeout+=500,AddCode_RequestCheckFallow()):AddCode_PlayRequest?Play_setFallow():ChannelContent_setFallow()}function AddCode_Fallow(){AddCode_TimeoutReset10(),AddCode_FallowRequest()}function AddCode_FallowRequest(){var e=new XMLHttpRequest;e.open("PUT","https://api.twitch.tv/kraken/users/"+AddUser_UsernameArray[0].id+"/follows/channels/"+AddCode_Channel_id,!0),e.timeout=AddCode_loadingDataTimeout,e.setRequestHeader(Main_clientIdHeader,Main_clientId),e.setRequestHeader(Main_AcceptHeader,Main_TwithcV5Json),e.setRequestHeader("Authorization","OAuth "+AddUser_UsernameArray[0].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return AddCode_IsFallowing=!0,void(AddCode_PlayRequest?Play_setFallow():ChannelContent_setFallow());401===e.status||403===e.status?AddCode_refreshTokens(0,0,AddCode_Fallow,null):AddCode_FallowRequestError()}},e.send(null)}function AddCode_FallowRequestError(){++AddCode_loadingDataTry<AddCode_loadingDataTryMax&&(AddCode_loadingDataTimeout+=500,AddCode_FallowRequest())}function AddCode_UnFallow(){AddCode_TimeoutReset10(),AddCode_UnFallowRequest()}function AddCode_UnFallowRequest(){var e=new XMLHttpRequest;e.open("DELETE","https://api.twitch.tv/kraken/users/"+AddUser_UsernameArray[0].id+"/follows/channels/"+AddCode_Channel_id,!0),e.timeout=AddCode_loadingDataTimeout,e.setRequestHeader(Main_clientIdHeader,Main_clientId),e.setRequestHeader(Main_AcceptHeader,Main_TwithcV5Json),e.setRequestHeader("Authorization","OAuth "+AddUser_UsernameArray[0].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(204===e.status)return AddCode_IsFallowing=!1,void(AddCode_PlayRequest?Play_setFallow():ChannelContent_setFallow());401===e.status||403===e.status?AddCode_refreshTokens(0,0,AddCode_UnFallow,null):AddCode_UnFallowRequestError()}},e.send(null)}function AddCode_UnFallowRequestError(){++AddCode_loadingDataTry<AddCode_loadingDataTryMax&&(AddCode_loadingDataTimeout+=500,AddCode_UnFallowRequest())}function AddCode_CheckSub(){AddCode_TimeoutReset10(),AddCode_IsSub=!1,AddCode_RequestCheckSub()}function AddCode_TimeoutReset10(){AddCode_loadingDataTry=0,AddCode_loadingDataTimeout=1e4}function AddCode_RequestCheckSub(){var e,a="https://api.twitch.tv/kraken/users/"+AddUser_UsernameArray[0].id+"/subscriptions/"+AddCode_Channel_id;if(Main_IsNotBrowser){if(!(e=Android.mreadUrl(a,AddCode_loadingDataTimeout,3,"OAuth "+AddUser_UsernameArray[0].access_token)))return void AddCode_RequestCheckSubError();AddCode_RequestCheckSubreadyState(e=JSON.parse(e))}else(e=new XMLHttpRequest).open("GET",a,!0),e.timeout=AddCode_loadingDataTimeout,e.setRequestHeader(Main_clientIdHeader,Main_clientId),e.setRequestHeader(Main_AcceptHeader,Main_TwithcV5Json),e.setRequestHeader("Authorization","OAuth "+AddUser_UsernameArray[0].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){4===e.readyState&&AddCode_RequestCheckSubreadyState(e)},e.send(null)}function AddCode_RequestCheckSubreadyState(e){if(200===e.status)AddCode_IsSub=!0,PlayVod_isSub();else if(422===e.status)AddCode_RequestCheckSubfail();else if(404===e.status){var a=JSON.parse(e.responseText);a.error&&-1!==(a.error+"").indexOf("Not Found")?AddCode_RequestCheckSubfail():AddCode_RequestCheckSubError()}else 401===e.status||403===e.status?AddCode_refreshTokens(0,0,AddCode_CheckSub,AddCode_RequestCheckSubfail):AddCode_RequestCheckSubError()}function AddCode_RequestCheckSubError(){++AddCode_loadingDataTry<AddCode_loadingDataTryMax?(AddCode_loadingDataTimeout+=500,AddCode_RequestCheckSub()):AddCode_RequestCheckSubfail()}function AddCode_RequestCheckSubfail(){AddCode_IsSub=!1,PlayVod_NotSub()}function AddCode_CheckTokenStart(e){AddCode_TimeoutReset10(),AddCode_CheckToken(e,0)}function AddCode_CheckToken(e,a){var n,t="https://api.twitch.tv/kraken?oauth_token="+AddUser_UsernameArray[e].access_token;if(Main_IsNotBrowser){if(!(n=Android.mreadUrl(t,3500,2,null)))return void AddCode_CheckTokenError(e,a);200===(n=JSON.parse(n)).status?AddCode_CheckTokenSuccess(n.responseText,e):400===n.status?(AddCode_TimeoutReset10(),AddCode_refreshTokens(e,0,null,null)):AddCode_CheckTokenError(e,a)}else(n=new XMLHttpRequest).open("GET",t,!0),n.setRequestHeader(Main_clientIdHeader,Main_clientId),n.setRequestHeader(Main_AcceptHeader,Main_TwithcV5Json),n.open("GET",proxyurl+t,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){4===n.readyState&&(200===n.status?AddCode_CheckTokenSuccess(n.responseText,e):400===n.status?(AddCode_TimeoutReset10(),AddCode_refreshTokens(e,0,null,null)):AddCode_CheckTokenError(e,a))},n.send(null)}function AddCode_CheckTokenSuccess(e,a){var n=JSON.parse(e);n.token.valid?AddCode_TokensCheckScope(n.token.authorization.scopes)||AddCode_requestTokensFailRunning(a):(AddCode_TimeoutReset10(),AddCode_refreshTokens(a,0,null,null))}function AddCode_CheckTokenError(e,a){++a<AddCode_loadingDataTryMax&&AddCode_CheckToken(e,a)}function AddCode_FallowGame(){AddCode_TimeoutReset10(),AddCode_RequestFallowGame()}function AddCode_RequestFallowGame(){var e=new XMLHttpRequest;e.open("PUT","https://api.twitch.tv/api/users/"+AddUser_UsernameArray[0].name+"/follows/games/"+encodeURIComponent(Main_values.Main_gameSelected)+"?oauth_token="+AddUser_UsernameArray[0].access_token,!0),e.timeout=1e4,e.setRequestHeader(Main_clientIdHeader,Main_clientId),e.setRequestHeader(Main_AcceptHeader,Main_TwithcV5Json),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return AGame_fallowing=!0,void AGame_setFallow();401===e.status||403===e.status?AddCode_refreshTokens(0,0,AddCode_FallowGame,null):AddCode_FallowGameRequestError()}},e.send(null)}function AddCode_FallowGameRequestError(){++AddCode_loadingDataTry<AddCode_loadingDataTryMax&&(AddCode_loadingDataTimeout+=500,AddCode_RequestFallowGame())}function AddCode_UnFallowGame(){AddCode_TimeoutReset10(),AddCode_RequestUnFallowGame()}function AddCode_RequestUnFallowGame(){var e=new XMLHttpRequest;e.open("DELETE","https://api.twitch.tv/api/users/"+AddUser_UsernameArray[0].name+"/follows/games/"+encodeURIComponent(Main_values.Main_gameSelected)+"?oauth_token="+AddUser_UsernameArray[0].access_token,!0),e.timeout=1e4,e.setRequestHeader(Main_clientIdHeader,Main_clientId),e.setRequestHeader(Main_AcceptHeader,Main_TwithcV5Json),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(204===e.status)return AGame_fallowing=!1,void AGame_setFallow();401===e.status||403===e.status?AddCode_refreshTokens(0,0,AddCode_UnFallowGame,null):AddCode_UnFallowGameRequestError()}},e.send(null)}function AddCode_UnFallowGameRequestError(){++AddCode_loadingDataTry<AddCode_loadingDataTryMax&&(AddCode_loadingDataTimeout+=500,AddCode_RequestUnFallowGame())}function AddCode_CheckFallowGame(){AddCode_TimeoutReset10(),AddCode_RequestCheckFallowGame()}function AddCode_RequestCheckFallowGame(){var e,a="https://api.twitch.tv/api/users/"+AddUser_UsernameArray[0].name+"/follows/games/"+encodeURIComponent(Main_values.Main_gameSelected);(e=new XMLHttpRequest).open("GET",a,!0),e.timeout=1e4,e.setRequestHeader(Main_clientIdHeader,Main_clientId),e.setRequestHeader(Main_AcceptHeader,Main_TwithcV5Json),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState)return 200===e.status?(AGame_fallowing=!0,void AGame_setFallow()):404===e.status?(AGame_fallowing=!1,void AGame_setFallow()):void AddCode_CheckFallowGameError()},e.send(null)}function AddCode_CheckFallowGameError(){++AddCode_loadingDataTry<AddCode_loadingDataTryMax?(AddCode_loadingDataTimeout+=500,AddCode_RequestCheckFallowGame()):(AGame_fallowing=!1,AGame_setFallow())}var AddUser_loadingDataTry=0,AddUser_loadingDataTryMax=5,AddUser_loadingDataTimeout=3500,AddUser_UsernameArray=[],AddUser_Username=null,AddUser_loadingData=!1,AddUser_keyBoardOn=!1;function AddUser_init(){Main_values.Main_Go=Main_addUser,ScreensObj_SetTopLable(STR_USER_ADD),Main_HideWarningDialog(),Main_AddUserInput.placeholder=STR_PLACEHOLDER_USER,Main_ShowElement("add_user_scroll"),AddUser_inputFocus()}function AddUser_exit(){AddUser_RemoveinputFocus(!1),document.body.removeEventListener("keydown",AddUser_handleKeyDown),document.body.removeEventListener("keydown",AddUser_KeyboardEvent),Main_HideElement("add_user_scroll")}function AddUser_handleKeyDown(e){if(!AddUser_loadingData&&!AddUser_keyBoardOn&&Main_values.Main_Go===Main_addUser)switch(e.keyCode){case KEY_RETURN:Main_isAboutDialogShown()?Main_HideAboutDialog():Main_isControlsDialogShown()?Main_HideControlsDialog():(0<AddUser_UsernameArray.length&&Main_values.Main_Go!==Main_Users?Main_values.Main_Go=Main_values.Main_Before:Main_values.Main_Go=Main_Live,AddUser_exit(),Main_SwitchScreen());break;case KEY_PLAY:case KEY_PAUSE:case KEY_PLAYPAUSE:case KEY_ENTER:AddUser_inputFocus()}}function AddUser_inputFocus(){document.body.removeEventListener("keydown",AddUser_handleKeyDown),document.body.addEventListener("keydown",AddUser_KeyboardEvent,!1),Main_AddUserInput.placeholder=STR_PLACEHOLDER_USER,Main_AddUserInput.focus(),AddUser_keyBoardOn=!0}function AddUser_removeEventListener(){if(null!==Main_AddUserInput){var e=Main_AddUserInput.cloneNode(!0);Main_AddUserInput.parentNode.replaceChild(e,Main_AddUserInput),Main_AddUserInput=document.getElementById("user_input")}}function AddUser_RemoveinputFocus(e){Main_AddUserInput.blur(),AddUser_removeEventListener(),document.body.removeEventListener("keydown",AddUser_KeyboardEvent),Main_AddUserInput.placeholder=STR_PLACEHOLDER_PRESS+STR_PLACEHOLDER_USER,e&&document.body.addEventListener("keydown",AddUser_handleKeyDown,!1),AddUser_keyBoardOn=!1}function AddUser_KeyboardEvent(e){if(!AddUser_loadingData&&Main_values.Main_Go===Main_addUser)switch(e.keyCode){case KEY_RETURN:Main_isAboutDialogShown()?Main_HideAboutDialog():Main_isControlsDialogShown()?Main_HideControlsDialog():(0<AddUser_UsernameArray.length&&Main_values.Main_Go!==Main_Users?Main_values.Main_Go=Main_values.Main_Before:Main_values.Main_Go=Main_Live,AddUser_exit(),Main_SwitchScreen());break;case KEY_KEYBOARD_DELETE_ALL:Main_AddUserInput.value="";break;case KEY_KEYBOARD_DONE:case KEY_DOWN:""!==Main_AddUserInput.value&&null!==Main_AddUserInput.value?AddUser_UserCodeExist(AddUser_Username=Main_AddUserInput.value)?(Main_HideLoadDialog(),Main_showWarningDialog(STR_USER+" "+AddUser_Username+STR_USER_SET),window.setTimeout(function(){Main_HideWarningDialog(),AddUser_inputFocus()},1500)):(AddUser_loadingDataTimeout=3500,AddUser_loadingData=!(AddUser_loadingDataTry=0),Main_HideElement("add_user_scroll"),Main_showLoadDialog(),AddUser_loadDataRequest()):AddUser_inputFocus();break;case KEY_KEYBOARD_BACKSPACE:Main_AddUserInput.value=Main_AddUserInput.value.slice(0,-1);break;case KEY_KEYBOARD_SPACE:Main_AddUserInput.value+=" "}}function AddUser_loadDataRequest(){BasehttpGet("https://api.twitch.tv/kraken/users?login="+encodeURIComponent(AddUser_Username),AddUser_loadingDataTimeout,2,null,AddUser_loadDataRequestSuccess,AddUser_loadDataError)}function AddUser_loadDataRequestSuccess(e){JSON.parse(e)._total?(Main_AddUserInput.value="",document.body.removeEventListener("keydown",AddUser_handleKeyDown),AddUser_SaveNewUser(e)):AddUser_loadDataNoUser()}function AddUser_loadDataError(){++AddUser_loadingDataTry<AddUser_loadingDataTryMax?(AddUser_loadingDataTimeout+=500,AddUser_loadDataRequest()):AddUser_loadDataNoUser()}function AddUser_loadDataNoUser(){AddUser_Username=null,Main_HideLoadDialog(),Main_showWarningDialog(STR_USER_ERROR),window.setTimeout(function(){AddUser_init()},1e3),AddUser_loadingData=!1}function AddUser_RestoreUsers(){if(0<(AddUser_UsernameArray=Main_getItemJson("AddUser_UsernameArray",[])).length)for(var e=0;e<AddUser_UsernameArray.length;e++)AddUser_UsernameArray[e].access_token&&AddCode_CheckTokenStart(e),AddUser_UsernameArray[e].logo?e||AddUser_UpdateSidepanel():AddUser_UpdateUser(e,0);else AddUser_UpdateSidepanelDefault()}function AddUser_UpdateSidepanel(){AddUser_UpdateSidepanelSize(AddUser_UsernameArray[0].logo,AddUser_UsernameArray[0].display_name)}function AddUser_UpdateSidepanelDefault(){AddUser_UpdateSidepanelSize(IMG_404_LOGO,STR_USER_ADD)}function AddUser_UpdateSidepanelSize(e,a){Main_innerHTML("side_panel_new_0_img",'<img id="side_panel_new_0_img" class="side_panel_new_img" alt="" src="'+e+'" onerror="this.onerror=null;this.src=\''+IMG_404_LOGO+"'\">"),Sidepannel_SetUserlable(a);var n=a.length,t=document.getElementById("side_panel_movel");n=11<n?n-11:0,t.style.marginLeft="calc(-"+Sidepannel_MoveldefaultMargin+"% - "+n+"ch)",t.style.width="calc("+Sidepannel_MoveldefaultWidth+"% + "+n+"ch)"}function AddUser_UserIsSet(){return 0<AddUser_UsernameArray.length}function AddUser_UpdateUser(e,a){var n="https://api.twitch.tv/kraken/users?login="+encodeURIComponent(AddUser_UsernameArray[e].name),t=new XMLHttpRequest;t.open("GET",n,!0),t.timeout=1e4;for(var i=0;i<2;i++)t.setRequestHeader(Main_Headers[i][0],Main_Headers[i][1]);t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?AddUser_UpdateUsertSuccess(t.responseText,e):AddUser_UpdateUserError(e,a))},t.send(null)}function AddUser_UpdateUsertSuccess(e,a){var n=JSON.parse(e);n._total&&(Main_AddUserInput.value="",document.body.removeEventListener("keydown",AddUser_handleKeyDown),n=n.users[0],AddUser_UsernameArray[a].display_name=n.display_name,AddUser_UsernameArray[a].logo=n.logo,a||AddUser_UpdateSidepanel()),AddUser_SaveUserArray()}function AddUser_UpdateUserError(e,a){++a<AddUser_loadingDataTryMax&&AddUser_UpdateUser(e,a)}function AddUser_SaveNewUser(e){AddUser_Username=JSON.parse(e).users[0],AddUser_UsernameArray.push({name:AddUser_Username.name,id:AddUser_Username._id,display_name:AddUser_Username.display_name,logo:AddUser_Username.logo,access_token:0,refresh_token:0}),AddUser_SaveUserArray(),Users_status=!1,Users_Userlastadded=AddUser_Username.name,Users_ShowAutetication=!0,AddUser_exit(),Main_values.Main_Go=Main_Users,Main_HideLoadDialog(),1===AddUser_UsernameArray.length&&AddUser_UpdateSidepanel(),Main_SwitchScreenAction(),AddUser_loadingData=!1}function AddUser_removeUser(e){var a=AddUser_UsernameArray.indexOf(AddUser_UsernameArray[e]);-1<a&&AddUser_UsernameArray.splice(a,1),AddUser_SaveUserArray(),0<AddUser_UsernameArray.length?(e||AddUser_UpdateSidepanel(),Users_status=!1,Users_init()):(AddUser_UpdateSidepanelDefault(),AddUser_init())}function AddUser_SaveUserArray(){if(0<AddUser_UsernameArray.length){var e=AddUser_UsernameArray.splice(0,1);AddUser_UsernameArray.sort(function(e,a){return e.display_name.toLowerCase().localeCompare(a.display_name.toLowerCase())}),AddUser_UsernameArray.splice(0,0,e[0])}Main_setItem("AddUser_UsernameArray",JSON.stringify(AddUser_UsernameArray))}function AddUser_UserMakeOne(e){AddUser_Username=AddUser_UsernameArray[0],AddUser_UsernameArray[0]=AddUser_UsernameArray[e],AddUser_UsernameArray[e]=AddUser_Username,AddUser_SaveUserArray(),Users_status=!1,AddUser_UpdateSidepanel(),Users_init(),Main_values.Users_Position=0}function AddUser_UserCodeExist(a){return 0<AddUser_UsernameArray.filter(function(e){return e.name===a}).length}function AddUser_UserFindpos(e){return AddUser_UsernameArray.map(function(e){return e.name}).indexOf(e)}function AddUser_IsUserSet(){return 0<AddUser_UsernameArray.length}var ChannelContent_TargetId,ChannelContent_KeyEnterID,ChannelContent_cursorY=0,ChannelContent_cursorX=0,ChannelContent_dataEnded=!1,ChannelContent_itemsCount=0,ChannelContent_loadingDataTry=0,ChannelContent_loadingDataTryMax=5,ChannelContent_loadingDataTimeout=3500,ChannelContent_itemsCountOffset=0,ChannelContent_isoffline=!1,ChannelContent_UserChannels=!1,ChannelContent_ids=["cc_thumbdiv","cc_img","cc_infodiv","cc_name","cc_createdon","cc_game","cc_viwers","cc_duration","cc_cell","sccempty_","channel_content_scroll"],ChannelContent_status=!1,ChannelContent_lastselectedChannel="",ChannelContent_responseText=null,ChannelContent_selectedChannelViews="",ChannelContent_selectedChannelFallower="",ChannelContent_description="",ChannelContent_ChannelValue={},ChannelContent_ChannelValueIsset=!1,ChannelContent_offline_image=null,ChannelContent_profile_banner="",ChannelContent_clear=!1;function ChannelContent_init(){Main_values.Main_CenterLablesVectorPos=1,Main_values.Main_Go=Main_ChannelContent,ChannelContent_ChannelValueIsset&&!Main_values.Search_isSearching&&Main_values.Main_selectedChannel_id&&ChannelContent_RestoreChannelValue(),ChannelContent_lastselectedChannel!==Main_values.Main_selectedChannel&&(ChannelContent_status=!1),Main_cleanTopLabel(),document.body.addEventListener("keydown",ChannelContent_handleKeyDown,!1),AddCode_PlayRequest=!1,Main_innerHTML("top_lable",Main_values.Main_selectedChannelDisplayname),Main_values.Main_BeforeChannel!==Main_UserChannels&&!Main_values.My_channel||(Main_values.Sidepannel_Pos=Main_values.My_channel?8:7,Sidepannel_SetUserLables(),Sidepannel_SetTopOpacity(Main_values.Main_Go)),ChannelContent_status?(Main_YRst(ChannelContent_cursorY),Main_ShowElement(ChannelContent_ids[10]),ChannelContent_checkUser(),ChannelContent_removeAllFallowFocus(),ChannelContent_addFocus(),Main_SaveValues()):ChannelContent_StartLoad()}function ChannelContent_exit(){Main_RestoreTopLabel(),document.body.removeEventListener("keydown",ChannelContent_handleKeyDown),Main_HideElement(ChannelContent_ids[10]),Main_values.My_channel=!1}function ChannelContent_StartLoad(){ScreensObj_SetTopLable(Main_values.Main_selectedChannelDisplayname),ChannelContent_isoffline=!1,Main_HideElement(ChannelContent_ids[10]),ChannelContent_offline_image=null,Main_showLoadDialog(),Main_HideWarningDialog(),ChannelContent_lastselectedChannel=Main_values.Main_selectedChannel,ChannelContent_dataEnded=ChannelContent_isoffline=ChannelContent_status=!1,ChannelContent_TargetId=void(ChannelContent_cursorY=ChannelContent_cursorX=ChannelContent_itemsCount=ChannelContent_itemsCountOffset=0),ChannelContent_loadDataPrepare(),ChannelContent_loadDataRequest()}function ChannelContent_loadDataPrepare(){Main_FirstLoad=!0,ChannelContent_loadingDataTry=0,ChannelContent_loadingDataTimeout=3500}function ChannelContent_loadDataRequest(){BasehttpGet("https://api.twitch.tv/kraken/streams/"+encodeURIComponent(void 0!==ChannelContent_TargetId?ChannelContent_TargetId:Main_values.Main_selectedChannel_id),ChannelContent_loadingDataTimeout,2,null,ChannelContent_loadDataRequestSuccess,ChannelContent_loadDataError)}function ChannelContent_loadDataRequestSuccess(e){null!==JSON.parse(e).stream?(ChannelContent_responseText=e,ChannelContent_loadDataPrepare(),ChannelContent_GetStreamerInfo()):ChannelContent_TargetId?(ChannelContent_responseText=null,ChannelContent_loadDataPrepare(),ChannelContent_GetStreamerInfo()):(ChannelContent_loadDataPrepare(),ChannelContent_loadDataCheckHost())}function ChannelContent_loadDataError(){++ChannelContent_loadingDataTry<ChannelContent_loadingDataTryMax?(ChannelContent_loadingDataTimeout+=500,ChannelContent_loadDataRequest()):(ChannelContent_responseText=null,ChannelContent_loadDataPrepare(),ChannelContent_GetStreamerInfo())}function ChannelContent_loadDataCheckHost(){BasehttpGet("https://tmi.twitch.tv/hosts?include_logins=1&host="+encodeURIComponent(Main_values.Main_selectedChannel_id),ChannelContent_loadingDataTimeout,1,null,ChannelContent_CheckHost,ChannelContent_loadDataCheckHostError,!0)}function ChannelContent_loadDataCheckHostError(){++ChannelContent_loadingDataTry<ChannelContent_loadingDataTryMax?(ChannelContent_loadingDataTimeout+=500,ChannelContent_loadDataCheckHost()):(ChannelContent_responseText=null,ChannelContent_loadDataPrepare(),ChannelContent_GetStreamerInfo())}function ChannelContent_CheckHost(e){var a=JSON.parse(e);void 0!==(ChannelContent_TargetId=a.hosts[0].target_id)?(ChannelContent_loadDataPrepare(),ChannelContent_loadDataRequest()):(ChannelContent_responseText=null,ChannelContent_loadDataPrepare(),ChannelContent_GetStreamerInfo())}function ChannelContent_GetStreamerInfo(){BasehttpGet("https://api.twitch.tv/kraken/channels/"+Main_values.Main_selectedChannel_id,PlayVod_loadingInfoDataTimeout,2,null,ChannelContent_GetStreamerInfoSuccess,ChannelContent_GetStreamerInfoError)}function ChannelContent_GetStreamerInfoSuccess(e){var a=JSON.parse(e);ChannelContent_offline_image=(ChannelContent_offline_image=a.video_banner)?ChannelContent_offline_image.replace("1920x1080",Main_VideoSize):ChannelContent_offline_image,ChannelContent_profile_banner=a.profile_banner,ChannelContent_selectedChannelViews=a.views,ChannelContent_selectedChannelFallower=a.followers,ChannelContent_description=a.description,Main_values.Main_selectedChannelLogo=a.logo,Main_values.Main_selectedChannelPartner=a.partner,ChannelContent_loadDataSuccess()}function ChannelContent_GetStreamerInfoError(){++ChannelContent_loadingDataTry<ChannelContent_loadingDataTryMax?(ChannelContent_loadingDataTimeout+=500,ChannelContent_GetStreamerInfo()):(ChannelContent_offline_image=null,ChannelContent_profile_banner=IMG_404_BANNER,ChannelContent_description=ChannelContent_selectedChannelFallower=ChannelContent_selectedChannelViews="",Main_values.Main_selectedChannelLogo=IMG_404_LOGO,ChannelContent_loadDataSuccess())}function ChannelContent_setFallow(){Main_innerHTML("channel_content_titley_2",AddCode_IsFallowing?'<i class="icon-heart" style="color: #6441a4; font-size: 100%;"></i>'+STR_SPACE+STR_SPACE+STR_FALLOWING:'<i class="icon-heart-o" style="color: #FFFFFF; font-size: 100%; "></i>'+STR_SPACE+STR_SPACE+(AddUser_UserIsSet()?STR_FALLOW:STR_NOKEY))}function ChannelContent_loadDataSuccess(){Main_innerHTML("channel_content_thumbdiv0_1",'<img class="lazy stream_img_channel_logo" alt="" data-src="'+Main_values.Main_selectedChannelLogo.replace("300x300","600x600")+'" onerror="this.onerror=null;this.src=\''+IMG_404_LOGO+"'\">"),Main_innerHTML("channel_content_img0_1",'<img class="lazy stream_img_channel" alt="" data-src="'+ChannelContent_profile_banner+'" onerror="this.onerror=null;this.src=\''+IMG_404_BANNER+"'\">");var e=Main_values.Main_selectedChannelDisplayname;if(e+=Main_values.Main_selectedChannelPartner?STR_SPACE+STR_SPACE+'<img style="display: inline-block; width: 2ch; vertical-align: middle;" alt="" src="'+IMG_PARTNER+'">':"",e+=""!==ChannelContent_selectedChannelViews?STR_BR+Main_addCommas(ChannelContent_selectedChannelViews)+STR_VIEWS:"",e+=""!==ChannelContent_selectedChannelFallower?STR_BR+Main_addCommas(ChannelContent_selectedChannelFallower)+STR_FALLOWERS:"",Main_innerHTML("channel_content_infodiv0_1",e+=""!==ChannelContent_description?STR_BR+STR_BR+STR_ABOUT+":"+STR_BR+twemoji.parse(ChannelContent_description):""),null!==ChannelContent_responseText){var a=JSON.parse(ChannelContent_responseText);if(null!==a.stream){var n=void 0!==ChannelContent_TargetId?Main_values.Main_selectedChannelDisplayname+STR_USER_HOSTING:"",t=a.stream;ChannelContent_createCell(t.channel.name,t.channel._id,t.preview.template,twemoji.parse(t.channel.status),t.game,n+t.channel.display_name,STR_SINCE+Play_streamLiveAt(t.created_at)+STR_SPACE+STR_FOR+Main_addCommas(t.viewers)+STR_SPACE+STR_VIEWER,Main_videoqualitylang(t.video_height,t.average_fps,t.channel.broadcaster_language),Main_is_rerun(t.stream_type))}else ChannelContent_createCellOffline()}else ChannelContent_createCellOffline();ChannelContent_loadDataSuccessFinish(),lazyLoadInstance.update()}function ChannelContent_createCell(e,a,n,t,i,l,s,_,o){var d=void 0!==ChannelContent_TargetId;document.getElementById("channel_content_cell0_1").setAttribute(Main_DataAttribute,JSON.stringify([e,a,o])),Main_innerHTML("channel_content_thumbdiv0_0",'<div class="stream_thumbnail_live_img"><img class="lazy stream_img" alt="" data-src="'+n.replace("{width}x{height}",Main_VideoSize)+Main_randomimg+'" onerror="this.onerror=null;this.src=\''+IMG_404_VIDEO+'\'"></div><div class="stream_thumbnail_live_text_holder"><div id="channel_content_cell0_3" style="line-height: 1.6ch;"><div class="stream_info_live_name" style="width:'+(d?99:66)+'%; display: inline-block;"><i class="icon-'+(o?"refresh":"circle")+' live_icon strokedeline" style="color: '+(o?"#FFFFFF":d?"#FED000":"red")+';"></i> '+l+'</div><div class="stream_info_live" style="width:'+(d?0:33)+'%; float: right; text-align: right; display: inline-block;">'+(d?"":_)+'</div></div><div class="stream_info_live">'+t+'</div><div id="channel_content_cell0_5" class="stream_info_live">'+(""!==i?STR_PLAYING+i:"")+'</div><div class="stream_info_live">'+s+"</div></div>")}function ChannelContent_createCellOffline(){ChannelContent_isoffline=!0,Main_innerHTML("channel_content_thumbdiv0_0",'<div class="stream_thumbnail_live_img"><img class="lazy stream_img" alt="" data-src="'+ChannelContent_offline_image+Main_randomimg+'" onerror="this.onerror=null;this.src=\''+IMG_404_VIDEO+'\'"></div><div class="stream_thumbnail_live_text_holder"><div style="line-height: 1.6ch;"><div class="stream_info_live_name" style="width:99%; display: inline-block;">'+Main_values.Main_selectedChannelDisplayname+'</div><div class="stream_info_live" style="width:0%; float: right; text-align: right; display: inline-block;"></div></div><div class="stream_info_live">'+STR_CH_IS_OFFLINE+"</div></div>")}function ChannelContent_loadDataSuccessFinish(){ChannelContent_status||(ChannelContent_status=!0,ChannelContent_isoffline||(ChannelContent_cursorY=1),ChannelContent_addFocus(),Main_SaveValues(),Main_ShowElement(ChannelContent_ids[10]),Main_HideLoadDialog()),ChannelContent_checkUser(),Main_FirstLoad=!1}function ChannelContent_checkUser(){ChannelContent_UserChannels?ChannelContent_setFallow():AddUser_UserIsSet()?(AddCode_Channel_id=Main_values.Main_selectedChannel_id,AddCode_PlayRequest=!1,AddCode_CheckFallow()):(AddCode_IsFallowing=!1,ChannelContent_setFallow())}function ChannelContent_addFocus(){ChannelContent_cursorY?Main_AddClass("channel_content_thumbdiv0_0",Main_classThumb):ChannelContent_addFocusFallow(),Main_handleKeyUp()}function ChannelContent_addFocusFallow(){Main_AddClass("channel_content_thumbdivy_"+ChannelContent_cursorX,"stream_switch_focused")}function ChannelContent_removeFocus(){ChannelContent_cursorY?Main_RemoveClass("channel_content_thumbdiv0_0",Main_classThumb):Main_RemoveClass("channel_content_thumbdivy_"+ChannelContent_cursorX,"stream_switch_focused")}function ChannelContent_removeAllFallowFocus(){Main_RemoveClass("channel_content_thumbdivy_0","stream_switch_focused"),Main_RemoveClass("channel_content_thumbdivy_1","stream_switch_focused"),Main_RemoveClass("channel_content_thumbdivy_2","stream_switch_focused")}function ChannelContent_keyEnter(){if(ChannelContent_cursorY){document.body.removeEventListener("keydown",ChannelContent_handleKeyDown),Main_HideElement(ChannelContent_ids[10]),Main_values.Play_selectedChannel=JSON.parse(document.getElementById("channel_content_cell0_1").getAttribute(Main_DataAttribute)),Main_values.IsRerun=Main_values.Play_selectedChannel[2],Main_values.Play_selectedChannel=Main_values.Play_selectedChannel[0],Main_values.Play_selectedChannelDisplayname=document.getElementById("channel_content_cell0_3").textContent,-1!==Main_values.Play_selectedChannelDisplayname.indexOf(STR_USER_HOSTING)?(Main_values.Play_isHost=!0,Main_values.Play_DisplaynameHost=Main_values.Play_selectedChannelDisplayname,Main_values.Play_selectedChannelDisplayname=Main_values.Play_selectedChannelDisplayname.split(STR_USER_HOSTING)[1],Main_values.Play_selectedChannel_id=ChannelContent_TargetId):Main_values.Play_selectedChannel_id=Main_values.Main_selectedChannel_id;var e=document.getElementById("channel_content_cell0_5").textContent;Main_values.Play_gameSelected=-1!==e.indexOf(STR_PLAYING)?e.split(STR_PLAYING)[1]:"",Main_ready(Main_openStream)}else ChannelContent_cursorX?1===ChannelContent_cursorX?(document.body.removeEventListener("keydown",ChannelContent_handleKeyDown),Main_HideElement(ChannelContent_ids[10]),Main_ready(function(){inUseObj=ChannelClip,Screens_init()})):2===ChannelContent_cursorX&&(AddUser_UserIsSet()&&AddUser_UsernameArray[0].access_token?(AddCode_PlayRequest=!1,AddCode_Channel_id=Main_values.Main_selectedChannel_id,AddCode_IsFallowing?AddCode_UnFallow():AddCode_Fallow()):(Main_showWarningDialog(STR_NOKEY_WARN),window.setTimeout(Main_HideWarningDialog,2e3))):(document.body.removeEventListener("keydown",ChannelContent_handleKeyDown),Main_HideElement(ChannelContent_ids[10]),Main_ready(function(){inUseObj=ChannelVod,Screens_init()}))}function ChannelContent_SetChannelValue(){ChannelContent_ChannelValue={"Main_values.Main_selectedChannel_id":Main_values.Main_selectedChannel_id,"Main_values.Main_selectedChannelLogo":Main_values.Main_selectedChannelLogo,"Main_values.Main_selectedChannel":Main_values.Main_selectedChannel,"Main_values.Main_selectedChannelDisplayname":Main_values.Main_selectedChannelDisplayname,ChannelContent_UserChannels:ChannelContent_UserChannels,"Main_values.Main_BeforeChannel":Main_values.Main_BeforeChannel}}function ChannelContent_RestoreChannelValue(){Main_values.Main_selectedChannel_id=Main_values.Main_selectedChannel_id,Main_values.Main_selectedChannelLogo=Main_values.Main_selectedChannelLogo,Main_values.Main_selectedChannel=Main_values.Main_selectedChannel,Main_values.Main_selectedChannelDisplayname=Main_values.Main_selectedChannelDisplayname,ChannelContent_UserChannels=ChannelContent_ChannelValue.ChannelContent_UserChannels,Main_values.Main_BeforeChannel=Main_values.Main_BeforeChannel,ChannelContent_ChannelValueIsset=!(ChannelContent_ChannelValue={})}function ChannelContent_handleKeyUp(e){e.keyCode===KEY_ENTER&&(ChannelContent_handleKeyUpClear(),ChannelContent_clear||ChannelContent_keyEnter())}function ChannelContent_handleKeyUpClear(){window.clearTimeout(ChannelContent_KeyEnterID),document.body.removeEventListener("keyup",ChannelContent_handleKeyUp),document.body.addEventListener("keydown",ChannelContent_handleKeyDown,!1)}function ChannelContent_handleKeyDown(e){if(!Main_FirstLoad&&!Main_CantClick())switch(Main_keyClickDelayStart(),e.keyCode){case KEY_RETURN:Main_isControlsDialogShown()?Main_HideControlsDialog():Main_isAboutDialogShown()?Main_HideAboutDialog():(ChannelContent_removeFocus(),document.body.removeEventListener("keydown",ChannelContent_handleKeyDown),Main_values.Main_Go=Main_values.Main_BeforeChannel,Main_values.Main_BeforeChannel=Main_Live,ChannelContent_exit(),Sidepannel_SetDefaultLables(),Main_values.Main_selectedChannel_id="",Main_SwitchScreenAction());break;case KEY_LEFT:!ChannelContent_cursorY&&ChannelContent_cursorX?(ChannelContent_removeFocus(),--ChannelContent_cursorX<0&&(ChannelContent_cursorX=2),ChannelContent_addFocus()):(document.body.removeEventListener("keydown",ChannelContent_handleKeyDown),Sidepannel_Start(ChannelContent_handleKeyDown));break;case KEY_RIGHT:ChannelContent_cursorY||(ChannelContent_removeFocus(),2<++ChannelContent_cursorX&&(ChannelContent_cursorX=0),ChannelContent_addFocus());break;case KEY_UP:case KEY_DOWN:ChannelContent_cursorY=ChannelContent_cursorY||ChannelContent_isoffline?(ChannelContent_removeFocus(),0):(ChannelContent_removeFocus(),1),ChannelContent_addFocus();break;case KEY_PLAY:case KEY_PAUSE:case KEY_PLAYPAUSE:case KEY_ENTER:document.body.removeEventListener("keydown",ChannelContent_handleKeyDown,!1),document.body.addEventListener("keyup",ChannelContent_handleKeyUp,!1),ChannelContent_clear=!1,ChannelContent_KeyEnterID=window.setTimeout(Main_ReloadScreen,500);break;case KEY_REFRESH:Main_ReloadScreen()}}var ChatLive_loadEmotesChannelId,ChatLive_loadBadgesChannelId,ChatLive_loadingDataTry=0,ChatLive_loadingDataTryMax=10,ChatLive_Id=[],ChatLive_socket=[],ChatLive_loaded=[],ChatLive_CheckId=[],ChatLive_FixId=[],ChatLive_LineAddCounter=[],extraEmotesDone={bbtv:{},ffz:{}},extraEmotes={},ChatLive_selectedChannel_id=[],ChatLive_selectedChannel=[];function ChatLive_Init(e){ChatLive_Clear(e),Main_values.Play_ChatForceDisable?Chat_Disable():(Chat_LoadGlobal||Chat_loadBadgesGlobal(),ChatLive_loaded[e]=!1,Main_ready(function(){ChatLive_Id[e]=(new Date).getTime(),ChatLive_selectedChannel_id[e]=e?PlayExtra_selectedChannel_id:Main_values.Play_selectedChannel_id,ChatLive_selectedChannel[e]=e?PlayExtra_selectedChannel:Main_values.Play_selectedChannel,ChatLive_loadBadgesChannel(ChatLive_Id[e],ChatLive_loadBadgesChannelSuccess,e)}))}function ChatLive_loadBadgesChannel(e,a,n){ChatLive_loadingDataTry=0,ChatLive_loadBadgesChannelRequest(e,a,n)}function ChatLive_loadBadgesChannelRequest(e,a,n){var t="https://badges.twitch.tv/v1/badges/channels/"+ChatLive_selectedChannel_id[n]+"/display",i=new XMLHttpRequest;i.open("GET",t,!0),i.timeout=1e4,i.ontimeout=function(){},i.onreadystatechange=function(){if(4===i.readyState){if(200===i.status)return void a(i.responseText,e,n);ChatLive_loadBadgesChannelError(e,a,n)}},i.send(null)}function ChatLive_loadBadgesChannelError(e,a,n){++ChatLive_loadingDataTry<ChatLive_loadingDataTryMax?ChatLive_loadBadgesChannelRequest(e,a,n):ChatLive_Id[n]===e&&(ChatLive_loadBadgesChannelId=window.setTimeout(function(){ChatLive_loadBadgesChannelRequest(e,a,n)},500))}function ChatLive_loadBadgesChannelSuccess(e,a,n){Chat_loadBadgesTransform(e,n),ChatLive_loadEmotesChannel(n),ChatLive_loadEmotesChannelffz(n),ChatLive_Id[n]===a&&ChatLive_loadChat(n)}function ChatLive_loadEmotesChannel(e){extraEmotesDone.bbtv[ChatLive_selectedChannel_id[e]]||(ChatLive_loadingDataTry=0,ChatLive_loadEmotesChannelRequest(e))}function ChatLive_loadEmotesChannelRequest(e){var a="https://api.betterttv.net/2/channels/"+encodeURIComponent(ChatLive_selectedChannel[e]),n=new XMLHttpRequest;n.open("GET",a,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){4===n.readyState&&(200===n.status?ChatLive_loadEmotesChannelSuccess(n.responseText,e):404===n.status?extraEmotesDone.bbtv[ChatLive_selectedChannel_id[e]]=1:ChatLive_loadEmotesChannelError(e))},n.send(null)}function ChatLive_loadEmotesChannelError(e){++ChatLive_loadingDataTry<ChatLive_loadingDataTryMax&&ChatLive_loadEmotesChannelRequest(e)}function ChatLive_loadEmotesChannelSuccess(e,a){ChatLive_loadEmotesbbtv(JSON.parse(e)),extraEmotesDone.bbtv[ChatLive_selectedChannel_id[a]]=1}function ChatLive_loadEmotesChannelffz(e){extraEmotesDone.ffz[ChatLive_selectedChannel_id[e]]||(ChatLive_loadingDataTry=0,ChatLive_loadEmotesChannelffzRequest(e))}function ChatLive_loadEmotesChannelffzRequest(e){var a="https://api.frankerfacez.com/v1/room/"+encodeURIComponent(ChatLive_selectedChannel[e]),n=new XMLHttpRequest;n.open("GET",a,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){4===n.readyState&&(200===n.status?ChatLive_loadEmotesChannelffzSuccess(n.responseText,e):404===n.status?extraEmotesDone.ffz[ChatLive_selectedChannel_id[e]]=1:ChatLive_loadEmotesChannelffzError(e))},n.send(null)}function ChatLive_loadEmotesChannelffzError(e){++ChatLive_loadingDataTry<ChatLive_loadingDataTryMax&&ChatLive_loadEmotesChannelffzRequest(e)}function ChatLive_loadEmotesChannelffzSuccess(e,a){ChatLive_loadEmotesffz(JSON.parse(e)),extraEmotesDone.ffz[ChatLive_selectedChannel_id[a]]=1}function ChatLive_loadEmotesbbtv(a){a.emotes.forEach(function(e){extraEmotes[e.code]={code:e.code,id:e.id,"2x":"https:"+a.urlTemplate.replace("{{id}}",e.id).replace("{{image}}","2x")}})}function ChatLive_loadEmotesffz(a){Object.keys(a.sets).forEach(function(e){((e=a.sets[e]).emoticons||Array.isArray(e.emoticons))&&e.emoticons.forEach(function(e){e.name&&e.id&&"string"==typeof e.name&&"number"==typeof e.id&&(extraEmotes[e.name]||e.urls&&"object"==typeof e.urls&&"string"==typeof e.urls[1]&&(e.urls[2]&&"string"!=typeof e.urls[2]||(extraEmotes[e.name]={code:e.name,id:e.id,"2x":"https:"+(e.urls[2]||e.urls[1].replace(/1$/,"2"))})))})})}function ChatLive_loadChat(e){ChatLive_CheckClear(e),ChatLive_loadChatRequest(e)}function ChatLive_loadChatRequest(i){ChatLive_socket[i]=new ReconnectingWebSocket("wss://irc-ws.chat.twitch.tv","irc",{reconnectInterval:3e3}),ChatLive_socket[i].onopen=function(){ChatLive_socket[i].send("PASS blah\r\n"),ChatLive_socket[i].send("NICK justinfan12345\r\n"),ChatLive_socket[i].send("CAP REQ :twitch.tv/commands twitch.tv/tags\r\n"),ChatLive_socket[i].send("JOIN #"+ChatLive_selectedChannel[i]+"\r\n")},ChatLive_socket[i].onmessage=function(e){var a=window.parseIRC(e.data.trim());if(a.command)switch(a.command){case"PING":ChatLive_socket[i].send("PONG "+a.params[0]);break;case"JOIN":ChatLive_loaded[i]=!0;var n='&nbsp;<span class="message">'+STR_BR+STR_LOADING_CHAT+(i?PlayExtra_selectedChannelDisplayname:Main_values.Play_selectedChannelDisplayname)+" "+STR_LIVE+"</span>";if(Play_ChatDelayPosition){var t=STR_SECOND;1<Play_controls[Play_controlsChatDelay].defaultValue&&(t=STR_SECONDS),n+='&nbsp;<span class="message">'+STR_BR+STR_BR+STR_CHAT_DELAY+" "+Play_controls[Play_controlsChatDelay].values[Play_controls[Play_controlsChatDelay].defaultValue]+t+"</span>"}ChatLive_LineAdd(n,i);break;case"PRIVMSG":ChatLive_loadChatSuccess(a,i)}},ChatLive_CheckId[i]=window.setTimeout(function(){ChatLive_Check(i)},5e3)}function ChatLive_Check(e){ChatLive_loaded[e]?ChatLive_FixId[e]=window.setInterval(function(){ChatLive_ChatFixPosition(e)},1e3):(ChatLive_socket[e].close(1e3),ChatLive_loadChat(e))}function ChatLive_CheckClear(e){window.clearTimeout(ChatLive_CheckId[e])}function ChatLive_loadChatSuccess(e,a){var n="",t=e.tags;if(t.hasOwnProperty("badges")&&"string"==typeof t.badges&&t.badges.split(",").forEach(function(e){e=e.split("/"),n+='<span class="'+e[0]+(-1!==e[0].indexOf("subscriber")?a:"")+"-"+e[1]+' tag"></span>'}),t.hasOwnProperty("display-name")){var i=t["display-name"];"string"==typeof i&&(n+='<span class="nick" style="color: #'+defaultColors[i.charCodeAt(0)%defaultColorsLength]+';">'+i+"</span>&#58;&nbsp;")}var l=e.params[1];/^\x01ACTION.*\x01$/.test(l)&&(l=l.replace(/^\x01ACTION/,"").replace(/\x01$/,"").trim());var s={};if(t.hasOwnProperty("emotes")&&"string"==typeof t.emotes&&(t.emotes=t.emotes.split("/"),t.emotes.forEach(function(a){a=a.split(":"),s[a[0]]||(s[a[0]]=[]),a[1].split(",").forEach(function(e){e=e.split("-"),s[a[0]].push([parseInt(e[0]),parseInt(e[1])])})})),n+='<span class="message">'+ChatLive_extraMessageTokenize(emoticonize(l,s))+"</span>",Play_ChatDelayPosition){var _=ChatLive_Id[a];window.setTimeout(function(){_===ChatLive_Id[a]&&ChatLive_LineAdd(n,a)},1e3*Play_controls[Play_controlsChatDelay].values[Play_controls[Play_controlsChatDelay].defaultValue])}else ChatLive_LineAdd(n,a)}function ChatLive_extraMessageTokenize(e){for(var a=0;a<e.length;a++)"string"==typeof e[a]?e[a]=extraMessageTokenize(e[a]):e[a]=e[a][0];return twemoji.parse(e.join(" "),!0,!0)}function ChatLive_LineAdd(e,a){var n=document.createElement("div");n.className="chat_line",n.innerHTML=e,Chat_div[a].appendChild(n),ChatLive_ChatFixPosition(a),ChatLive_LineAddCounter[a]++,ChatLive_LineAddCounter[a]>Chat_CleanMax&&(ChatLive_LineAddCounter[a]=0,Chat_Clean(a))}function ChatLive_ChatFixPosition(e){Chat_div[e].scrollTop=Chat_div[e].scrollHeight}function ChatLive_ClearIds(e){ChatLive_CheckClear(e),window.clearTimeout(ChatLive_loadBadgesChannelId),window.clearTimeout(ChatLive_loadEmotesChannelId),window.clearInterval(ChatLive_FixId[e])}function ChatLive_Clear(e){ChatLive_ClearIds(e),ChatLive_socket[e]&&ChatLive_socket[e].close(1e3),ChatLive_Id[e]=0,Main_empty(e?"chat_box2":"chat_box"),ChatLive_loaded[e]=!1}var Chat_addlinesId,Chat_loadChatId,Chat_loadChatNextId,Chat_loadBadgesChannelId,Chat_LoadGlobal=!1,Chat_loadingDataTry=0,Chat_Messages=[],Chat_MessagesNext=[],Chat_loadingDataTryMax=10,Chat_next=null,Chat_offset=0,Chat_title="",defaultColors=["fe2424","fc5a24","ff9020","fEc723","ffff1d","bfff00","c3ff12","56fe1d","1eff1e","16ff51","00ff80","00ffbf","00ffff","1dc6ff","158aff","3367ff","ff4dff","ff4ad2","ff62b1","ff4272"],defaultColorsLength=defaultColors.length,Chat_div=[],Chat_Position=0,Chat_hasEnded=!1,Chat_Id=0,Chat_CleanMax=60;function Chat_Preinit(){Chat_div[0]=document.getElementById("chat_box"),Chat_div[1]=document.getElementById("chat_box2"),ChatLive_LineAddCounter[0]=0,ChatLive_LineAddCounter[1]=0,Chat_loadBadgesGlobal()}function Chat_Init(){Chat_Clear(),Main_IsNotBrowser&&!Main_values.Play_ChatForceDisable?(Chat_LoadGlobal||Chat_loadBadgesGlobal(),Main_ready(function(){Chat_Id=(new Date).getTime(),ChatLive_selectedChannel_id[0]=Main_values.Main_selectedChannel_id,ChatLive_selectedChannel[0]=Main_values.Main_selectedChannel,ChatLive_loadBadgesChannel(Chat_Id,Chat_loadBadgesChannelSuccess,0)})):Chat_Disable()}function Chat_loadBadgesGlobal(){Chat_loadingDataTry=0,Chat_LoadGlobal=!(extraEmotes={}),Chat_loadBadgesGlobalRequest()}function Chat_loadBadgesGlobalRequest(){BasexmlHttpGet("https://badges.twitch.tv/v1/badges/global/display",1e4,0,null,Chat_loadBadgesGlobalSuccess,Chat_loadBadgesGlobalError,!1)}function Chat_loadBadgesGlobalError(){++Chat_loadingDataTry<Chat_loadingDataTryMax?Chat_loadBadgesGlobalRequest():Chat_LoadGlobal=!1}function Chat_loadBadgesGlobalSuccess(e){transformBadges(JSON.parse(e).badge_sets).forEach(function(a){a.versions.forEach(function(e){tagCSS(a.type,e.type,e.image_url_4x,null)})}),Chat_loadEmotes()}function Chat_loadEmotes(){Chat_loadingDataTry=0,Chat_loadEmotesRequest()}function Chat_loadEmotesRequest(){BasexmlHttpGet("https://api.betterttv.net/2/emotes",1e4,0,null,Chat_loadEmotesSuccess,Chat_loadEmotesError,!1)}function Chat_loadEmotesError(){++Chat_loadingDataTry<Chat_loadingDataTryMax?Chat_loadEmotesRequest():Chat_LoadGlobal=!1}function Chat_loadEmotesSuccess(e){ChatLive_loadEmotesbbtv(JSON.parse(e)),Chat_loadEmotesffz()}function Chat_loadEmotesffz(){Chat_loadingDataTry=0,Chat_loadEmotesRequestffz()}function Chat_loadEmotesRequestffz(){BasexmlHttpGet("https://api.frankerfacez.com/v1/set/global",1e4,0,null,Chat_loadEmotesSuccessffz,Chat_loadEmotesErrorffz,!1)}function Chat_loadEmotesErrorffz(){++Chat_loadingDataTry<Chat_loadingDataTryMax?Chat_loadEmotesRequestffz():Chat_LoadGlobal=!1}function Chat_loadEmotesSuccessffz(e){ChatLive_loadEmotesffz(JSON.parse(e)),Chat_LoadGlobal=!0}function Chat_loadBadgesTransform(e,n){transformBadges(JSON.parse(e).badge_sets).forEach(function(a){a.versions.forEach(function(e){tagCSS(a.type+n,e.type,e.image_url_4x,Chat_div[n])})})}function Chat_loadBadgesChannelSuccess(e,a){Chat_loadBadgesTransform(e,0),ChatLive_loadEmotesChannel(0),ChatLive_loadEmotesChannelffz(0),Chat_Id===a&&Chat_loadChat(a)}function Chat_loadChat(e){Chat_loadingDataTry=0,Chat_Id===e&&Chat_loadChatRequest(e)}function Chat_loadChatRequest(e){var a="https://api.twitch.tv/v5/videos/"+Main_values.ChannelVod_vodId+"/comments?client_id="+Main_clientId+(Chat_offset?"&content_offset_seconds="+parseInt(Chat_offset):""),n=new XMLHttpRequest;n.open("GET",a,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){if(4===n.readyState){if(200===n.status)return void(Chat_Id===e&&Chat_loadChatSuccess(n.responseText,e));Chat_Id===e&&Chat_loadChatError(e)}},n.send(null)}function Chat_loadChatError(e){Chat_loadingDataTry++,Chat_Id===e&&(Chat_loadingDataTry<Chat_loadingDataTryMax?Chat_loadChatRequest(e):Chat_loadChatId=window.setTimeout(function(){Chat_loadChatRequest(e)},2500))}function Chat_loadChatSuccess(e,a){e=JSON.parse(e);var n,t,i=null===Chat_next;i&&(n="&nbsp;",n+='<span class="message">',n+=STR_BR+STR_LOADING_CHAT+Main_values.Main_selectedChannelDisplayname+" "+Chat_title,Chat_MessageVector(n+="</span>",0)),Chat_offset=0,Chat_next=e._next,e.comments.forEach(function(e){n="",(t=e.message).hasOwnProperty("user_badges")&&t.user_badges.forEach(function(e){n+='<span class="'+e._id+(-1!==e._id.indexOf("subscriber")?"0-":"-")+e.version+' tag"></span>'}),n+='<span class="nick" style="color: #'+defaultColors[e.commenter.display_name.charCodeAt(0)%defaultColorsLength]+';">'+e.commenter.display_name+"</span>&#58;&nbsp;",n+='<span class="message">',t.fragments.forEach(function(e){e.hasOwnProperty("emoticon")?n+='<img class="emoticon" alt="" src="https://static-cdn.jtvnw.net/emoticons/v1/'+e.emoticon.emoticon_id+'/2.0">':n+=ChatLive_extraMessageTokenize([e.text])}),n+="</span>",i?Chat_MessageVector(n,e.content_offset_seconds):void 0!==Chat_next&&Chat_MessageVectorNext(n,e.content_offset_seconds)}),i&&Chat_Id===a&&(Chat_Play(a),void 0!==Chat_next&&Chat_loadChatNext(a))}function Chat_MessageVector(e,a){Chat_Messages.push({time:a,message:e})}function Chat_MessageVectorNext(e,a){Chat_MessagesNext.push({time:a,message:e})}function Chat_Play(e){Chat_hasEnded||Chat_Id!==e||Main_values.Play_ChatForceDisable||(Chat_addlinesId=window.setInterval(function(){Main_Addline(e),Chat_div[0].scrollTop=Chat_div[0].scrollHeight},1e3))}function Chat_Pause(){Chat_hasEnded||(window.clearTimeout(Chat_loadBadgesChannelId),window.clearTimeout(Chat_loadChatId),window.clearTimeout(Chat_loadChatNextId),window.clearInterval(Chat_addlinesId))}function Chat_Clear(){Chat_Pause(),Chat_Id=0,Main_empty("chat_box"),Main_empty("chat_box2"),Chat_hasEnded=!1,Chat_next=null,Chat_Messages=[],Chat_MessagesNext=[],Chat_Position=0}function Main_Addline(e){var a;if(Chat_Position<Chat_Messages.length-1)for(var n=Chat_Position;n<Chat_Messages.length&&Chat_Messages[n].time<ChannelVod_vodOffset+Android.gettime()/1e3;n++,Chat_Position++)(a=document.createElement("div")).className="chat_line",a.innerHTML=Chat_Messages[n].message,Chat_div[0].appendChild(a);else if(Chat_Pause(),void 0!==Chat_next)Chat_Messages=Chat_MessagesNext.slice(),Chat_Position=0,Chat_Play(e),Chat_MessagesNext=[],Chat_Id===e&&Chat_loadChatNext(e),Chat_Clean(0);else{var t="&nbsp;";t+='<span class="message">',t+=STR_BR+STR_BR+STR_CHAT_END+STR_BR+STR_BR,t+="</span>",(a=document.createElement("div")).className="chat_line",a.innerHTML=t,Chat_div[0].appendChild(a),Chat_hasEnded=!0,Chat_div[0].scrollTop=Chat_div[0].scrollHeight,window.clearInterval(Chat_addlinesId),Chat_addlinesId=window.setInterval(function(){Chat_div[0].scrollTop=Chat_div[0].scrollHeight},1e3)}}function Chat_loadChatNext(e){Chat_loadingDataTry=0,Chat_hasEnded||Chat_Id!==e||Chat_loadChatNextRequest(e)}function Chat_loadChatNextRequest(e){var a="https://api.twitch.tv/v5/videos/"+Main_values.ChannelVod_vodId+"/comments?client_id="+Main_clientId+(null!==Chat_next?"&cursor="+Chat_next:""),n=new XMLHttpRequest;n.open("GET",a,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){if(4===n.readyState){if(200===n.status)return void(Chat_hasEnded||Chat_Id!==e||Chat_loadChatSuccess(n.responseText,e));Chat_hasEnded||Chat_Id!==e||Chat_loadChatNextError(e)}},n.send(null)}function Chat_loadChatNextError(e){Chat_loadingDataTry++,Chat_Id===e&&(Chat_loadingDataTry<Chat_loadingDataTryMax?Chat_loadChatNextRequest(e):Chat_loadChatNextId=window.setTimeout(function(){Chat_loadChatNextRequest(e)},2500))}function Chat_NoVod(){Chat_Clear(),Chat_SingleLine(STR_NO_BROADCAST_WARNING+STR_BR+STR_NO_CHAT)}function Chat_Disable(){Chat_Clear(),Chat_SingleLine(STR_CHAT_DISABLE),Main_ready(function(){Chat_div[0].scrollTop=Chat_div[0].scrollHeight,Chat_div[1].scrollTop=Chat_div[1].scrollHeight})}function Chat_SingleLine(e){var a="&nbsp;";a+='<span class="message">',a+=STR_BR+STR_BR+STR_BR+STR_BR+STR_BR+STR_BR,a+=e,a+="</span>";var n=document.createElement("div");n.className="chat_line",n.innerHTML=a,Chat_div[0].appendChild(n),Chat_div[1].appendChild(n.cloneNode(!0))}function Chat_Clean(e){var a=Chat_div[e].getElementsByClassName("chat_line");if(0<a.length-Chat_CleanMax)for(var n=0;n<a.length-Chat_CleanMax;n++)Chat_div[e].removeChild(a[0]);ChatLive_ChatFixPosition(e)}var Main_SearchInput,Main_AddUserInput,Main_updateclockId,Main_updateUserFeedId,lazyLoadInstance,Main_isReleased=!0,Main_isDebug=!1,Main_cursorYAddFocus=-1,Main_Search=0,Main_Live=1,Main_Users=2,Main_Featured=3,Main_games=4,Main_Vod=5,Main_Clip=6,Main_UserLive=7,Main_UserHost=8,Main_usergames=9,Main_UserVod=10,Main_UserChannels=11,Main_SearchGames=12,Main_SearchLive=13,Main_SearchChannels=14,Main_ChannelContent=15,Main_ChannelVod=16,Main_ChannelClip=17,Main_addUser=18,Main_aGame=19,Main_AGameVod=20,Main_AGameClip=21,Main_GoBefore="",Main_values={Main_Go:1,Main_Before:1,Main_BeforeSearch:1,Main_BeforeChannel:1,Main_BeforeAgame:Main_games,Main_BeforeChannelisSet:!1,Main_BeforeAgameisSet:!1,Main_selectedChannel:"",Main_selectedChannelDisplayname:"",Main_selectedChannelLogo:"",Main_selectedChannel_id:"",Main_gameSelected:"",Main_OldgameSelected:null,Play_isHost:!1,Play_DisplaynameHost:"",Play_selectedChannelDisplayname:"",Play_selectedChannel:"",Play_gameSelected:"",Users_AddcodePosition:0,Play_WasPlaying:0,ChannelVod_vodId:"",vodOffset:0,Search_data:"",gameSelectedOld:null,Games_return:!1,Search_isSearching:!1,Play_ChatForceDisable:!1,Never_run_new:!0,Chat_font_size:3,ChatBackground:10,IsRerun:!1,Main_selectedChannelPartner:!1,Sidepannel_Pos:2,Sidepannel_IsUser:!1,My_channel:!1,DeviceBitrateCheck:!1},Main_LastClickFinish=!0,Main_addFocusFinish=!0,Main_newUsercode=0,Main_ExitCursor=0,Main_ExitDialogID=null,Main_IsDayFirst=!1,Main_ContentLang="",Main_Periods=[],Main_addFocusVideoOffset=0,Main_FirstRun=!0,Main_FirstLoad=!1,Main_ReloadLimitOffsetGames=1.35,Main_ReloadLimitOffsetVideos=1.5,Main_ItemsLimitVideo=45,Main_ColoumnsCountVideo=3,Main_ItemsReloadLimitVideo=Math.floor(Main_ItemsLimitVideo/Main_ColoumnsCountVideo/Main_ReloadLimitOffsetVideos),Main_ItemsLimitGame=45,Main_ColoumnsCountGame=5,Main_ItemsReloadLimitGame=Math.floor(Main_ItemsLimitGame/Main_ColoumnsCountGame/Main_ReloadLimitOffsetGames),Main_ItemsLimitChannel=48,Main_ColoumnsCountChannel=6,Main_ItemsReloadLimitChannel=Math.floor(Main_ItemsLimitChannel/Main_ColoumnsCountChannel/Main_ReloadLimitOffsetVideos),Main_clientId="5seja5ptej058mxqy7gh5tcudjqtm9",Main_clientIdHeader="Client-ID",Main_AcceptHeader="Accept",Main_Authorization="Authorization",Main_OAuth="OAuth ",Main_TwithcV5Json="application/vnd.twitchtv.v5+json",Main_classThumb="stream_thumbnail_focused",Main_DataAttribute="data_attribute",Main_stringVersion="2.0",Main_stringVersion_Min=".67",Main_minversion="091119",Main_versionTag=Main_stringVersion+Main_stringVersion_Min+"-"+Main_minversion,Main_IsNotBrowserVersion="",Main_ClockOffset=0,Main_IsNotBrowser=0,Main_randomimg="?"+Math.random(),proxyurl="https://cors-anywhere.herokuapp.com/",Main_vp9supported=!1,Main_SupportsAvc1High=!1;function Main_Start(){"loading"===document.readyState?document.addEventListener("DOMContentLoaded",function(){Main_loadTranslations(window.navigator.userLanguage||window.navigator.language)}):Main_loadTranslations(window.navigator.userLanguage||window.navigator.language)}function Main_loadTranslations(e){Main_Checktylesheet(),Main_ready(function(){try{Main_IsNotBrowser=Android.getAndroid(),Main_IsNotBrowserVersion=Android.getversion()}catch(e){Main_IsNotBrowserVersion="1.0.0",Main_IsNotBrowser=0,document.body.style.backgroundColor="rgba(0, 0, 0, 1)",Main_isDebug=!0,console.log("Main_isReleased: "+Main_isReleased),console.log("Main_isDebug: "+Main_isDebug),console.log("Main_isBrowser: "+!Main_IsNotBrowser)}Main_showLoadDialog(),Main_IsNotBrowser&&(Main_vp9supported=Android.misCodecSupported()),Settings_SetDefautls(),en_USLang(),Languages_SetDefautls(),console.log("language is "+e),DefaultLang(),-1!==window.location.href.indexOf("code")&&processCode(window.location.href),Main_initWindows()})}function Main_initWindows(){lazyLoadInstance=new LazyLoad,Screens_InitScreens(),Main_RestoreValues();var e=null;try{e=Android.getDevice()}catch(e){}Main_values.DeviceBitrateCheck||null===e||(Main_values.DeviceBitrateCheck=!0,-1!==e.toLowerCase().indexOf("shield android tv")&&(Settings_value.bitrate_min.defaultValue=0,Main_setItem("bitrate_min",1),Android.SetSmallPlayerBandwidth(0)));try{Main_SupportsAvc1High=Android.misAVC52Supported()}catch(e){}Main_SetStringsMain(!0),Main_GoBefore=Main_values.Main_Go,Main_ready(function(){Chat_Preinit(),Play_PreStart(),AddUser_RestoreUsers(),AddUser_UserIsSet()&&(Main_updateUserFeedId=window.setInterval(Main_updateUserFeed,6e5)),document.body.addEventListener("keyup",Main_handleKeyUp,!1),Screens_InitSecondaryScreens(),document.getElementById("side_panel").style.marginLeft="",document.getElementById("user_feed_notify").style.marginTop="",Main_checkVersion(),Main_SetStringsSecondary(),Play_MakeControls(),Play_SetControls(),Play_SetFullScreen(Play_isFullScreen),PlayVod_RestoreVodIds(),Main_SearchInput=document.getElementById("search_input"),Main_AddUserInput=document.getElementById("user_input"),document.addEventListener("visibilitychange",Main_Resume,!1),Main_updateclockId=window.setInterval(Main_updateclock,6e4),inUseObj=Live,window.setTimeout(function(){Main_ready(function(){Screens_init(),Sidepannel_UpdateThumbDoc=document.getElementById("feed_thumb_img")})},Main_IsNotBrowser&&Settings_value.restor_playback.defaultValue&&!Main_values.Play_WasPlaying?850:0)})}function Main_SetStringsMain(e){Main_updateclock(),Main_IconLoad("label_refresh","icon-refresh",STR_REFRESH+":"+STR_GUIDE),Main_innerHTML("label_update",'<div style="vertical-align: middle; display: inline-block;"><i class="icon-arrow-up" style="color: #FF0000;"></i></div><div style="vertical-align: middle; display: inline-block; color: #FF0000">'+STR_SPACE+STR_UPDATE_AVAILABLE+"</div>"),Main_IconLoad("label_side_panel","icon-arrow-left",STR_GOBACK),UserLiveFeed_SetFeedPicText(),Sidepannel_SetDefaultLables(),Main_textContent("dialog_end_next_text",STR_PLAY_NEXT),Main_textContent("dialog_end_replay_text",STR_REPLAY),Main_textContent("dialog_end_vod_text",STR_OPEN_BROADCAST),Main_textContent("dialog_end_channel_text",STR_CHANNEL_CONT),Main_textContent("dialog_end_game_text",STR_GAME_CONT),Main_innerHTML("dialog_about_text",STR_ABOUT_INFO_HEADER+STR_ABOUT_INFO_0),Main_Periods=[STR_CLIP_DAY,STR_CLIP_WEEK,STR_CLIP_MONTH,STR_CLIP_ALL],e?Settings_SetSettings():(Settings_SetStrings(),Main_checkVersion())}function Main_SetStringsSecondary(){Main_textContent("play_dialog_exit_text",STR_EXIT_AGAIN),Main_textContent("side_panel_feed_settings",STR_SIDE_PANEL_SETTINGS),Main_textContent("side_panel_feed_refresh",STR_REFRESH),Main_textContent("user_feed_notify_main",STR_NOW_LIVE),Main_textContent("chanel_button",STR_CHANNELS),Main_textContent("game_button",STR_GAMES),Main_textContent("live_button",STR_LIVE),Main_textContent("exit_app_cancel",STR_CANCEL),Main_textContent("exit_app_close",STR_CLOSE),Main_textContent("remove_cancel",STR_CANCEL),Main_textContent("remove_yes",STR_YES),Main_textContent("exit_app_minimize",STR_MINIMIZE),Main_textContent("main_dialog_exit_text",STR_EXIT_MESSAGE),Main_innerHTML("dialog_controls_text",STR_CONTROLS_MAIN_0),Main_textContent("side_panel_warn_text",STR_NO+STR_LIVE_CHANNELS),Main_textContent("side_panel_movel_top_text",STR_LIVE_FEED),Main_textContent("dialog_period_text",STR_SWITCH_CLIP),Main_innerHTML("dialog_period_1",Main_Periods[0]),Main_innerHTML("dialog_period_2",Main_Periods[1]),Main_innerHTML("dialog_period_3",Main_Periods[2]),Main_innerHTML("dialog_period_4",Main_Periods[3]),Main_innerHTML("main_dialog_user_first",STR_USER_MAKE_ONE),Main_innerHTML("main_dialog_user_remove",STR_USER_REMOVE),Main_innerHTML("dialog_OffSet_text",STR_SWITCH_POS+STR_BR),Main_textContent("dialog_OffSet_text_summary",STR_SWITCH_POS_SUMMARY),Main_textContent("dialog_vod_text",STR_VOD_HISTORY),Main_innerHTML("dialog_vod_start_text",STR_FROM_START),Main_innerHTML("channel_content_titley_0",'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+STR_SPACE+STR_SPACE+STR_VIDEOS),Main_innerHTML("channel_content_titley_1",'<i class="icon-movie stream_channel_fallow_icon"></i>'+STR_SPACE+STR_SPACE+STR_CLIPS),Main_innerHTML("channel_content_titley_2",'<i class="icon-heart-o" style="color: #FFFFFF; font-size: 100%; "></i>'+STR_SPACE+STR_SPACE+STR_FALLOW)}function Main_IconLoad(e,a,n){Main_innerHTML(e,'<div style="vertical-align: middle; display: inline-block; transform: translateY(15%);"><i class="'+a+'" style="color: #FFFFFF;"></i></div><div style="vertical-align: middle; display: inline-block;">'+STR_SPACE+n+"</div>")}function Main_HideElement(e){document.getElementById(e).classList.add("hide")}function Main_ShowElement(e){document.getElementById(e).classList.remove("hide")}function Main_isElementShowing(e){return-1===document.getElementById(e).className.indexOf("hide")}function Main_AddClass(e,a){document.getElementById(e).classList.add(a)}function Main_RemoveClass(e,a){document.getElementById(e).classList.remove(a)}function Main_innerHTML(e,a){document.getElementById(e).innerHTML=a}function Main_textContent(e,a){document.getElementById(e).textContent=a}function Main_replaceClassEmoji(e){var a=document.getElementById(e).getElementsByClassName("emoji");if(a){for(var n=0;n<a.length;n++)a[n].classList.add("emoticon");for(a=document.getElementById(e).getElementsByClassName("emoticon"),n=0;n<a.length;n++)a[n].classList.remove("emoji")}}function Main_showLoadDialog(){Main_YRst(-1),Main_IsNotBrowser?Android.mshowLoading(!0):Main_ShowElement("dialog_loading")}function Main_HideLoadDialog(){Main_IsNotBrowser?Android.mshowLoading(!1):Main_HideElement("dialog_loading")}function Main_clearExitDialog(){window.clearTimeout(Main_ExitDialogID)}function Main_setExitDialog(){Main_ExitDialogID=window.setTimeout(Main_HideExitDialog,6e3)}function Main_showExitDialog(){Main_setExitDialog(),Main_ShowElement("main_dialog_exit"),document.body.addEventListener("keydown",Main_ExitDialog,!1)}function Main_HideExitDialog(){document.body.removeEventListener("keydown",Main_ExitDialog,!1),Main_SwitchScreenAction(),Main_clearExitDialog(),Main_HideElement("main_dialog_exit"),Main_ExitCursor=0,Main_ExitCursorSet()}function Main_ExitCursorSet(){Main_RemoveClass("exit_app_cancel","button_dialog_focused"),Main_RemoveClass("exit_app_minimize","button_dialog_focused"),Main_RemoveClass("exit_app_close","button_dialog_focused"),Main_AddClass(Main_ExitCursor?1===Main_ExitCursor?"exit_app_minimize":"exit_app_close":"exit_app_cancel","button_dialog_focused")}function Main_CounterDialogRst(){Main_empty("dialog_counter_text")}function Main_CounterDialog(e,a,n,t){0<t?Main_textContent("dialog_counter_text",a*n+(e+1)+"/"+t):Main_CounterDialogRst()}function Main_showWarningDialog(e){Main_textContent("dialog_warning_text",e),Main_ShowElement("dialog_warning")}function Main_HideWarningDialog(){Main_HideElement("dialog_warning")}function Main_showAboutDialog(){Main_HideControlsDialog(),Main_ShowElement("dialog_about")}function Main_HideAboutDialog(){Main_HideElement("dialog_about")}function Main_isAboutDialogShown(){return Main_isElementShowing("dialog_about")}function Main_showSettings(){Main_HideControlsDialog(),Main_HideWarningDialog(),Main_ExitCurrent(Main_values.Main_Go),Main_CounterDialogRst(),Settings_init()}function Main_showControlsDialog(){Main_HideAboutDialog(),Main_ShowElement("dialog_controls")}function Main_HideControlsDialog(){Main_HideElement("dialog_controls")}function Main_isControlsDialogShown(){return Main_isElementShowing("dialog_controls")}function Main_addCommas(e){return(e+"").replace(/\B(?=(\d{3})+(?!\d))/g,",")}function Main_videoqualitylang(e,a,n){return(e+="").indexOf("x")||(e=e.slice(-3)),e+"p"+(a=58<a?60:a<32?30:Math.ceil(a))+(""!==n?" ["+n.toUpperCase()+"]":"")}function Main_is_rerun(e){return-1===(e+"").indexOf("live")}function Main_ThumbNull(e,a,n){return null!==document.getElementById(n+e+"_"+a)}function Main_ReStartScreens(){Main_updateclock(),Main_SwitchScreen(),document.body.addEventListener("keyup",Main_handleKeyUp,!1)}function Main_SwitchScreen(e){Main_ready(function(){Main_SwitchScreenAction(e)})}function Main_RemoveKeys(){Main_values.Main_Go===Main_ChannelContent?document.body.removeEventListener("keydown",ChannelContent_handleKeyDown):Main_values.Main_Go===Main_Users?document.body.removeEventListener("keydown",Users_handleKeyDown):(Main_values.Main_Go===Main_Live?inUseObj=Live:Main_values.Main_Go===Main_aGame?inUseObj=AGame:Main_values.Main_Go===Main_Featured?inUseObj=Featured:Main_values.Main_Go===Main_games?inUseObj=Game:Main_values.Main_Go===Main_ChannelClip?inUseObj=ChannelClip:Main_values.Main_Go===Main_Vod?inUseObj=Vod:Main_values.Main_Go===Main_Clip?inUseObj=Clip:Main_values.Main_Go===Main_AGameClip?inUseObj=AGameClip:Main_values.Main_Go===Main_usergames?inUseObj=UserGames:Main_values.Main_Go===Main_AGameVod?inUseObj=AGameVod:Main_values.Main_Go===Main_UserVod?inUseObj=UserVod:Main_values.Main_Go===Main_ChannelVod?inUseObj=ChannelVod:Main_values.Main_Go===Main_UserHost?inUseObj=UserHost:Main_values.Main_Go===Main_UserLive?inUseObj=UserLive:Main_values.Main_Go===Main_UserChannels?inUseObj=UserChannels:Main_values.Main_Go===Main_SearchGames?inUseObj=SearchGames:Main_values.Main_Go===Main_SearchLive?inUseObj=SearchLive:Main_values.Main_Go===Main_SearchChannels&&(inUseObj=SearchChannels),document.body.removeEventListener("keydown",Screens_handleKeyDown))}Main_Start();var Main_Switchobj={};function Main_SwitchScreenAction(e){Main_HideWarningDialog(),Main_values.Main_Go!==Main_ChannelContent&&(Main_values.Main_BeforeChannelisSet=!1),Main_values.Main_Go!==Main_aGame&&(Main_values.Main_BeforeAgameisSet=!1),Main_CounterDialogRst(),Main_Switchobj[Main_values.Main_Go]?Main_Switchobj[Main_values.Main_Go]():Main_Switchobj[1](),e&&Main_RemoveKeys()}function Main_OpenSearch(){Main_values.Search_isSearching||(Main_values.Main_BeforeSearch=Main_values.Main_Go),Main_ExitCurrent(Main_values.Main_Go),Main_values.Main_Go=Main_Search,Main_HideWarningDialog(),Main_CounterDialogRst(),Search_init()}function Main_SaveValues(){Main_setItem("Main_values",JSON.stringify(Main_values))}function Main_RestoreValues(){Main_values=Screens_assign(Main_values,Main_getItemJson("Main_values",{}))}Main_Switchobj[Main_Users]=Users_init,Main_Switchobj[Main_ChannelContent]=ChannelContent_init,Main_Switchobj[Main_SearchChannels]=function(){inUseObj=SearchChannels,Screens_init()},Main_Switchobj[Main_SearchLive]=function(){inUseObj=SearchLive,Screens_init()},Main_Switchobj[Main_SearchGames]=function(){inUseObj=SearchGames,Screens_init()},Main_Switchobj[Main_UserChannels]=function(){inUseObj=UserChannels,Screens_init()},Main_Switchobj[Main_UserLive]=function(){inUseObj=UserLive,Screens_init()},Main_Switchobj[Main_UserHost]=function(){inUseObj=UserHost,Screens_init()},Main_Switchobj[Main_usergames]=function(){inUseObj=UserGames,Screens_init()},Main_Switchobj[Main_ChannelVod]=function(){inUseObj=ChannelVod,Screens_init()},Main_Switchobj[Main_UserVod]=function(){inUseObj=UserVod,Screens_init()},Main_Switchobj[Main_Live]=function(){inUseObj=Live,Screens_init()},Main_Switchobj[Main_Featured]=function(){inUseObj=Featured,Screens_init()},Main_Switchobj[Main_AGameClip]=function(){inUseObj=AGameClip,Screens_init()},Main_Switchobj[Main_AGameVod]=function(){inUseObj=AGameVod,Screens_init()},Main_Switchobj[Main_Clip]=function(){inUseObj=Clip,Screens_init()},Main_Switchobj[Main_Vod]=function(){inUseObj=Vod,Screens_init()},Main_Switchobj[Main_ChannelClip]=function(){inUseObj=ChannelClip,Screens_init()},Main_Switchobj[Main_aGame]=function(){inUseObj=AGame,Screens_init()},Main_Switchobj[Main_games]=function(){inUseObj=Game,Screens_init()};var Main_ExitCurrentobj={};function Main_ExitCurrent(e){Main_ExitCurrentobj[e]&&Main_ExitCurrentobj[e](),Main_isElementShowing("settings_holder")&&Settings_exit()}function Main_RestoreTopLabel(){Main_IconLoad("label_refresh","icon-refresh",STR_REFRESH+":"+STR_GUIDE),Main_HideElement("label_side_panel")}function Main_cleanTopLabel(){Main_ShowElement("label_side_panel")}function Main_videoCreatedAt(e){return e=new Date(e),Main_IsDayFirst?e.getDate()+" "+STR_MONTHS[e.getMonth()]+" "+e.getFullYear():STR_MONTHS[e.getMonth()]+" "+e.getDate()+" "+e.getFullYear()}function Main_checkVersion(){if(Main_IsNotBrowser){var e="";try{e=Android.getDevice()}catch(e){}Main_versionTag="Android: "+Main_IsNotBrowserVersion+" Web: "+Main_minversion+" Device: "+e,Main_needUpdate(Main_IsNotBrowserVersion)&&Main_ShowElement("label_update")}Main_innerHTML("dialog_about_text",STR_ABOUT_INFO_HEADER+STR_VERSION+Main_versionTag+STR_ABOUT_INFO_0)}function Main_needUpdate(e){return e=e.split("."),parseFloat(e[0]+"."+e[1])<parseFloat(Main_stringVersion)||parseInt(e[2])<parseInt(Main_stringVersion_Min.split(".")[1])}function Main_empty(e){for(e=document.getElementById(e);e.firstChild;)e.removeChild(e.firstChild)}function Main_YRst(e){Main_cursorYAddFocus=e}function Main_YchangeAddFocus(e){var a=0;return Main_cursorYAddFocus<e?a=-1:e<Main_cursorYAddFocus&&(a=1),Main_cursorYAddFocus=e,a}function Main_handleKeyUp(){Main_addFocusFinish=!0}function Main_keyClickDelay(){Main_LastClickFinish=!0}function Main_keyClickDelayStart(){Main_LastClickFinish=!1,window.setTimeout(Main_keyClickDelay)}function Main_CantClick(){return!Main_LastClickFinish||!Main_addFocusFinish}function Main_ThumbOpenIsNull(e,a){return null===document.getElementById(a+e)}function Main_OpenLiveStream(e,a,n){if(!Main_ThumbOpenIsNull(e,a[0])){document.body.removeEventListener("keydown",n),Main_values.Play_selectedChannel=JSON.parse(document.getElementById(a[8]+e).getAttribute(Main_DataAttribute)),Main_values.Play_selectedChannel_id=Main_values.Play_selectedChannel[1],Main_values.IsRerun=Main_values.Play_selectedChannel[2],Main_values.Play_selectedChannel=Main_values.Play_selectedChannel[0],Main_values.Play_isHost=Main_values.Main_Go===Main_UserHost&&!Play_UserLiveFeedPressed,Main_values.Play_isHost?(Main_values.Play_DisplaynameHost=document.getElementById(a[3]+e).textContent,Main_values.Play_selectedChannelDisplayname=Main_values.Play_DisplaynameHost.split(STR_USER_HOSTING)[1]):Main_values.Play_selectedChannelDisplayname=document.getElementById(a[3]+e).textContent;var t=document.getElementById(a[5]+e).textContent;Main_values.Play_gameSelected=-1!==t.indexOf(STR_PLAYING)?t.split(STR_PLAYING)[1]:"",Main_values.Main_Go===Main_aGame&&(Main_values.Main_OldgameSelected=Main_values.Main_gameSelected),Main_openStream()}}function Main_openStream(){document.body.removeEventListener("keydown",Play_handleKeyDown),document.body.addEventListener("keydown",Play_handleKeyDown,!1),Main_HideElement("scene1"),Main_ShowElement("scene2"),Play_hidePanel(),Play_HideEndDialog(),Main_ready(Play_Start)}function Main_OpenClip(e,a,n){Main_ThumbOpenIsNull(e,a[0])||(document.body.removeEventListener("keydown",n),ChannelClip_playUrl=JSON.parse(document.getElementById(a[8]+e).getAttribute(Main_DataAttribute)),PlayClip_DurationSeconds=parseInt(ChannelClip_playUrl[1]),Main_values.Play_gameSelected=ChannelClip_playUrl[2],Main_values.Main_selectedChannel=ChannelClip_playUrl[3],Main_values.Main_selectedChannelDisplayname=ChannelClip_playUrl[4],Main_values.Main_selectedChannelLogo=ChannelClip_playUrl[5],Main_values.Main_selectedChannel_id=ChannelClip_playUrl[6],Main_values.ChannelVod_vodId=ChannelClip_playUrl[7],ChannelVod_vodOffset=parseInt(ChannelClip_playUrl[8]),ChannelClip_title=ChannelClip_playUrl[9],ChannelClip_language=ChannelClip_playUrl[10],ChannelClip_game=""!==ChannelClip_playUrl[2]?STR_PLAYING+ChannelClip_playUrl[2]:"",ChannelClip_createdAt=ChannelClip_playUrl[11],ChannelClip_views=ChannelClip_playUrl[12],ChannelClip_playUrl=ChannelClip_playUrl[0],document.body.addEventListener("keydown",PlayClip_handleKeyDown,!1),Main_HideElement("scene1"),Main_ShowElement("scene2"),Play_hideChat(),Play_clearPause(),Play_HideWarningDialog(),Play_CleanHideExit(),Main_ready(PlayClip_Start))}function Main_OpenVod(e,a,n){Main_ThumbOpenIsNull(e,a[0])||(document.body.removeEventListener("keydown",n),Main_values.ChannelVod_vodId=JSON.parse(document.getElementById(a[8]+e).getAttribute(Main_DataAttribute)),ChannelVod_DurationSeconds=parseInt(Main_values.ChannelVod_vodId[6]),ChannelVod_Duration=STR_DURATION+Play_timeS(ChannelVod_DurationSeconds),ChannelVod_language=Main_values.ChannelVod_vodId[9],Main_values.Play_gameSelected=Main_values.ChannelVod_vodId[10],null===Main_values.Play_gameSelected&&(Main_values.Play_gameSelected=""),Main_values.Main_selectedChannelDisplayname=Main_values.ChannelVod_vodId[1],ChannelVod_createdAt=Main_values.ChannelVod_vodId[2],ChannelVod_title=Main_values.ChannelVod_vodId[3],ChannelVod_views=Main_values.ChannelVod_vodId[4],Main_values.Main_selectedChannel_id=Main_values.ChannelVod_vodId[13],Main_values.Main_selectedChannelLogo=Main_values.ChannelVod_vodId[14],Main_values.Main_selectedChannelPartner=Main_values.ChannelVod_vodId[15],Main_values.Main_selectedChannel=Main_values.ChannelVod_vodId[11],Play_IncrementView=Main_values.ChannelVod_vodId[12],Main_values.ChannelVod_vodId=Main_values.ChannelVod_vodId[8].substr(1),Main_openVod())}function Main_openVod(){document.body.addEventListener("keydown",PlayVod_handleKeyDown,!1),Main_HideElement("scene1"),Main_ShowElement("scene2"),PlayVod_hidePanel(),Play_hideChat(),Play_clearPause(),Play_CleanHideExit(),Main_ready(PlayVod_Start)}function Main_ScrollTable(e,a){document.getElementById(e).style.top=a?a/BodyfontSize+"em":"",window.setTimeout(Main_handleKeyUp,10)}function Main_ScrollTableCalc(e,a,n){document.getElementById(e).style.top="calc("+n+"% + "+a/BodyfontSize+"em)",window.setTimeout(Main_handleKeyUp,10)}function Main_removeFocus(e,a){Main_addFocusFinish=!1,Main_RemoveClass(a[0]+e,Main_classThumb)}function Main_Checktylesheet(){var e=document.createElement("span");e.className="fa",e.style.display="none",document.body.insertBefore(e,document.body.firstChild),"icons"!==window.getComputedStyle(e,null).getPropertyValue("font-family")?(Main_isDebug&&console.log("Main_Checktylesheet reloading"),Main_LoadStylesheet("https://fgl27.github.io/SmartTwitchTV/release/githubio/css/icons.min.css")):Main_isDebug&&console.log("Main_Checktylesheet loaded OK"),document.body.removeChild(e)}function Main_LoadStylesheet(e){var a=document.createElement("link");a.rel="stylesheet",a.href=e,document.getElementsByTagName("head")[0].appendChild(a)}function Main_ready(e){"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?window.setTimeout(e):document.addEventListener("DOMContentLoaded",e)}function Main_getclock(){var e=(new Date).getTime()+Main_ClockOffset;return e=new Date(e),(Main_IsDayFirst?STR_DAYS[e.getDay()]+" "+e.getDate()+" "+STR_MONTHS[e.getMonth()]:STR_DAYS[e.getDay()]+" "+STR_MONTHS[e.getMonth()]+" "+e.getDate())+" "+Play_lessthanten(e.getHours())+":"+Play_lessthanten(e.getMinutes())}function Main_Resume(){document.hidden||(Main_updateclock(),window.setTimeout(Main_updateclock,2e4))}function Main_updateclock(){document.hidden||(Main_textContent("label_clock",Main_getclock()),Main_randomimg="?"+Math.random())}function Main_RandomInt(){return parseInt(1e9*Math.random())}function Main_updateUserFeed(){AddUser_UserIsSet()&&window.setTimeout(function(){document.hidden||UserLiveFeed_isFeedShow()||Sidepannel_isShowing()||UserLiveFeed_loadingData||(Play_FeedOldUserName=AddUser_UsernameArray[0].name,UserLiveFeed_StartLoad())},15e3)}function Main_ExitDialog(e){switch(e.keyCode){case KEY_RETURN:Main_HideExitDialog();break;case KEY_RIGHT:2<++Main_ExitCursor&&(Main_ExitCursor=0),Main_ExitCursorSet(),Main_clearExitDialog(),Main_setExitDialog();break;case KEY_LEFT:--Main_ExitCursor<0&&(Main_ExitCursor=2),Main_ExitCursorSet(),Main_clearExitDialog(),Main_setExitDialog();break;case KEY_ENTER:Main_IsNotBrowser&&Main_ExitCursor?1===Main_ExitCursor?(Main_HideExitDialog(),Android.mclose(!1)):2===Main_ExitCursor&&Android.mclose(!0):Main_HideExitDialog()}}function Main_ReloadScreen(){ChannelContent_clear=Screens_clear=!0,Main_values.Main_Go!==Main_ChannelContent&&(Main_values.Main_BeforeChannelisSet=!1),Main_values.Main_Go!==Main_aGame&&(Main_values.Main_BeforeAgameisSet=!1),Main_CounterDialogRst(),Main_values.Main_Go===Main_ChannelContent?ChannelContent_StartLoad():Main_values.Main_Go===Main_Users?Users_StartLoad():Main_values.Main_Go===Main_usergames?(inUseObj=UserGames).loadingData||inUseObj.key_refresh():(Main_values.Main_Go===Main_Live?inUseObj=Live:Main_values.Main_Go===Main_Featured?inUseObj=Featured:Main_values.Main_Go===Main_aGame?inUseObj=AGame:Main_values.Main_Go===Main_games?inUseObj=Game:Main_values.Main_Go===Main_Vod?inUseObj=Vod:Main_values.Main_Go===Main_Clip?inUseObj=Clip:Main_values.Main_Go===Main_AGameClip?inUseObj=AGameClip:Main_values.Main_Go===Main_ChannelClip?inUseObj=ChannelClip:Main_values.Main_Go===Main_AGameVod?inUseObj=AGameVod:Main_values.Main_Go===Main_UserVod?inUseObj=UserVod:Main_values.Main_Go===Main_ChannelVod?inUseObj=ChannelVod:Main_values.Main_Go===Main_UserHost?inUseObj=UserHost:Main_values.Main_Go===Main_UserLive?inUseObj=UserLive:Main_values.Main_Go===Main_UserChannels?inUseObj=UserChannels:Main_values.Main_Go===Main_SearchGames?inUseObj=SearchGames:Main_values.Main_Go===Main_SearchLive?inUseObj=SearchLive:Main_values.Main_Go===Main_SearchChannels&&(inUseObj=SearchChannels),Screens_StartLoad())}function Main_setItem(e,a){localStorage.setItem(e,a)}function Main_getItemInt(e,a){var n=parseInt(localStorage.getItem(e));return n||0===n?n:a}function Main_getItemJson(e,a){return JSON.parse(localStorage.getItem(e))||a}function Main_getItemBool(e,a){var n=a.toString();return(localStorage.getItem(e)||n)===n?a:!a}function Main_PrintUnicode(e){console.log(e);for(var a=0;a<e.length;a++)console.log("Character is: "+e.charAt(a)+" it's Unicode is: \\u"+e.charCodeAt(a).toString(16).toUpperCase())}function processCode(e){console.log("processCode");var a="";a=e.match(/code=(\w+)/),Main_newUsercode=a?(a=a[1],console.log("if code "+a),a):(console.log("else code "+a),0)}function BasehttpGet(e,a,n,t,i,l,s){Main_IsNotBrowser?BaseAndroidhttpGet(e,a,n,t,i,l):BasexmlHttpGet(e,a,n,t,i,l,s)}function BaseAndroidhttpGet(e,a,n,t,i,l){var s=Android.mreadUrl(e,a,n,t);s?200===(s=JSON.parse(s)).status?i(s.responseText):2<n&&(401===s.status||403===s.status)?AddCode_refreshTokens(0,0,Screens_loadDataRequestStart,Screens_loadDatafail):l():l()}Main_ExitCurrentobj[Main_Users]=Users_exit,Main_ExitCurrentobj[Main_ChannelContent]=ChannelContent_exit,Main_ExitCurrentobj[Main_SearchChannels]=Screens_exit,Main_ExitCurrentobj[Main_SearchLive]=Screens_exit,Main_ExitCurrentobj[Main_SearchGames]=Screens_exit,Main_ExitCurrentobj[Main_UserChannels]=Screens_exit,Main_ExitCurrentobj[Main_UserLive]=Screens_exit,Main_ExitCurrentobj[Main_UserHost]=Screens_exit,Main_ExitCurrentobj[Main_usergames]=Screens_exit,Main_ExitCurrentobj[Main_ChannelVod]=Screens_exit,Main_ExitCurrentobj[Main_UserVod]=Screens_exit,Main_ExitCurrentobj[Main_Live]=Screens_exit,Main_ExitCurrentobj[Main_Featured]=Screens_exit,Main_ExitCurrentobj[Main_AGameClip]=Screens_exit,Main_ExitCurrentobj[Main_AGameVod]=Screens_exit,Main_ExitCurrentobj[Main_Clip]=Screens_exit,Main_ExitCurrentobj[Main_Vod]=Screens_exit,Main_ExitCurrentobj[Main_ChannelClip]=Screens_exit,Main_ExitCurrentobj[Main_aGame]=Screens_exit,Main_ExitCurrentobj[Main_games]=Screens_exit;var Main_Headers=[[Main_clientIdHeader,Main_clientId],[Main_AcceptHeader,Main_TwithcV5Json],[Main_Authorization,null]];function BasexmlHttpGet(e,a,n,t,i,l,s){var _=new XMLHttpRequest;_.open("GET",(s?proxyurl:"")+e,!0),_.timeout=a,Main_Headers[2][1]=t;for(var o=0;o<n;o++)_.setRequestHeader(Main_Headers[o][0],Main_Headers[o][1]);_.ontimeout=function(){},_.onreadystatechange=function(){4===_.readyState&&(200===_.status?i(_.responseText):2<n&&(401===_.status||403===_.status)?AddCode_refreshTokens(0,0,Screens_loadDataRequestStart,Screens_loadDatafail):l())},_.send(null)}var Main_VideoSizeAll=["384x216","512x288","640x360","896x504","1280x720"],Main_GameSizeAll=["179x250","272x380","340x475","476x665","773x1080"],Main_SidePannelSizeAll=["640x360","896x504","1280x720","1536x864","1920x1080"],Main_SidePannelSize="1280x720",Main_VideoSize="640x360",Main_GameSize="340x475";function Main_SetThumb(){Main_VideoSize=Main_VideoSizeAll[Settings_value.thumb_quality.defaultValue],Main_GameSize=Main_GameSizeAll[Settings_value.thumb_quality.defaultValue],Main_SidePannelSize=Main_SidePannelSizeAll[Settings_value.thumb_quality.defaultValue]}var PlayClip_IsJumping=!1,PlayClip_jumpCount=0,PlayClip_TimeToJump=0,PlayClip_isOn=!1,PlayClip_loadingDataTry=0,PlayClip_loadingDataTimeout=2e3,PlayClip_loadingDataTryMax=5,PlayClip_quality="source",PlayClip_qualityPlaying=PlayClip_quality,PlayClip_qualityIndex=0,PlayClip_qualities=[],PlayClip_playingUrl="",PlayClip_replayOrNext=!1,PlayClip_currentTime=0,PlayClip_state=0,PlayClip_STATE_PLAYING=1,PlayClip_HasVOD=!1,PlayClip_Buffer=2e3,PlayClip_jumpTimers=[0,5],PlayClip_DurationSeconds=0,PlayClip_HasNext=!1,PlayClip_HasBack=!1,PlayClip_HideShowNextDiv=["next_button","back_button"],PlayClip_EnterPos=0,PlayClip_All=!1,PlayClip_All_Forced=!0,PlayClip_loadingtreamerInfoTry=0;function PlayClip_Start(){Play_showBufferDialog(),Play_HideEndDialog(),PlayClip_HasVOD=null!==Main_values.ChannelVod_vodId,Chat_title=STR_CLIP+".",PlayClip_HasVOD?(Chat_offset=ChannelVod_vodOffset,Chat_Init()):Chat_NoVod(),Play_LoadLogo(document.getElementById("stream_info_icon"),Main_values.Main_selectedChannelLogo),Main_textContent("stream_info_name",Main_values.Main_selectedChannelDisplayname),Main_innerHTML("stream_info_title",ChannelClip_title),Main_innerHTML("stream_info_game",ChannelClip_game),Main_innerHTML("stream_live_time",ChannelClip_createdAt+","+STR_SPACE+ChannelClip_views),Main_textContent("stream_live_viewers",""),Main_textContent("stream_watching_time",""),Main_textContent("progress_bar_duration",Play_timeS(PlayClip_DurationSeconds)),PlayVod_jumpSteps((Play_DefaultjumpTimers=PlayClip_jumpTimers)[1]),Main_replaceClassEmoji("stream_info_title"),Main_values.Play_isHost=!1,PlayClip_SetOpenVod(),document.getElementById("controls_"+Play_controlsChatDelay).style.display="none",document.getElementById("controls_"+Play_controlsLowLatency).style.display="none",PlayExtra_UnSetPanel(),Play_CurrentSpeed=3,Play_IconsResetFocus(),Play_ShowPanelStatus(3),Main_textContent("progress_bar_current_time",Play_timeS(0)),Main_innerHTML("pause_button",'<div ><i class="pause_button3d icon-pause"></i> </div>'),Main_ShowElement("progress_bar_div"),Main_ShowElement("controls_holder"),Play_PlayerPanelOffset=-13,PlayClip_currentTime=PlayClip_state=0,PlayClip_qualityIndex=2,PlayClip_UpdateNext(),Play_EndSet(3),UserLiveFeed_Unset(),Play_IsWarning=!1,AddUser_UserIsSet()?(AddCode_PlayRequest=!0,AddCode_Channel_id=Main_values.Main_selectedChannel_id,AddCode_CheckFallow()):Play_hideFallow(),document.addEventListener("visibilitychange",PlayClip_Resume,!1),PlayClip_IsJumping=!1,PlayClip_isOn=!(PlayClip_TimeToJump=PlayClip_jumpCount=0),PlayClip_loadData(),document.body.removeEventListener("keyup",Main_handleKeyUp),PlayClip_loadingtreamerInfoTry=0,PlayClip_GetStreamerInfo()}function PlayClip_GetStreamerInfo(){BasehttpGet("https://api.twitch.tv/kraken/channels/"+Main_values.Main_selectedChannel_id,1e4,2,null,PlayClip_GetStreamerInfoSuccess,PlayClip_GetStreamerInfoSuccessError)}function PlayClip_GetStreamerInfoSuccessError(){++PlayClip_loadingtreamerInfoTry<PlayClip_loadingDataTryMax&&PlayClip_GetStreamerInfo()}function PlayClip_GetStreamerInfoSuccess(e){Main_values.Main_selectedChannelPartner=JSON.parse(e).partner,Play_partnerIcon(Main_values.Main_selectedChannelDisplayname,Main_values.Main_selectedChannelPartner,!1,ChannelClip_language)}function PlayClip_loadData(){PlayClip_loadingDataTry=0,PlayClip_loadingDataTimeout=2e3,PlayClip_loadDataRequest()}function PlayClip_loadDataRequest(){BasehttpGet("https://clips.twitch.tv/api/v2/clips/"+ChannelClip_playUrl+"/status",PlayClip_loadingDataTimeout,1,null,PlayClip_QualityGenerate,PlayClip_loadDataError,!0)}function PlayClip_loadDataError(){++PlayClip_loadingDataTry<PlayClip_loadingDataTryMax?(PlayClip_loadingDataTimeout+=250,PlayClip_loadDataRequest()):Main_IsNotBrowser?(Play_HideBufferDialog(),Play_PlayEndStart(3)):PlayClip_loadDataSuccessFake()}function PlayClip_loadDataSuccessFake(){PlayClip_qualities=[{id:"Auto",url:""},{id:"1080p60 | source | mp4",url:"https://fake"}],PlayClip_state=PlayClip_STATE_PLAYING,PlayClip_qualityChanged()}function PlayClip_QualityGenerate(e){PlayClip_qualities=[],e=JSON.parse(e).quality_options;for(var a=0;a<e.length;a++)PlayClip_qualities.length?PlayClip_qualities.push({id:e[a].quality+"p"+PlayClip_FrameRate(e[a].frame_rate)+" | mp4",url:e[a].source}):PlayClip_qualities.push({id:e[a].quality+"p"+PlayClip_FrameRate(e[a].frame_rate)+" | source | mp4",url:e[a].source});PlayClip_state=PlayClip_STATE_PLAYING,PlayClip_qualityChanged()}function PlayClip_FrameRate(e){return 40<e?60:""}function PlayClip_qualityChanged(){PlayClip_playingUrl=PlayClip_qualities[PlayClip_qualityIndex=0].url;for(var e=0;e<PlayClip_getQualitiesCount();e++){if(PlayClip_qualities[e].id===PlayClip_quality){PlayClip_playingUrl=PlayClip_qualities[PlayClip_qualityIndex=e].url;break}-1!==PlayClip_qualities[e].id.indexOf(PlayClip_quality)&&(PlayClip_playingUrl=PlayClip_qualities[PlayClip_qualityIndex=e].url)}PlayClip_state=PlayClip_STATE_PLAYING,PlayClip_quality=PlayClip_qualities[PlayClip_qualityIndex].id,PlayClip_qualityPlaying=PlayClip_quality,PlayClip_SetHtmlQuality("stream_quality"),PlayClip_onPlayer()}function PlayClip_onPlayer(){Main_isDebug&&console.log("PlayClip_onPlayer:",'\n\n"'+PlayClip_playingUrl+'"\n'),Main_IsNotBrowser&&PlayClip_isOn&&Android.startVideoOffset(PlayClip_playingUrl,3,PlayClip_replayOrNext?-1:Android.gettime()),PlayClip_replayOrNext=!1,Play_ChatEnable&&!Play_isChatShown()&&Play_showChat(),Play_SetFullScreen(Play_isFullScreen)}function PlayClip_UpdateDuration(e){Main_textContent("progress_bar_duration",Play_timeS(PlayClip_DurationSeconds=e/1e3)),PlayClip_RefreshProgressBarr()}function PlayClip_Resume(){window.clearInterval(Play_ShowPanelStatusId),document.hidden&&PlayClip_shutdownStream()}function PlayClip_shutdownStream(){PlayClip_isOn&&(PlayClip_PreshutdownStream(!(PlayClip_All=!1)),Play_CleanHideExit(),Play_exitMain())}function PlayClip_PreshutdownStream(e){PlayClip_hidePanel(),Main_IsNotBrowser&&(e?Android.stopVideo(3):Android.play(!1)),e&&(PlayClip_isOn=!1),Chat_Clear(),Play_ClearPlayer(),UserLiveFeed_Hide(),PlayClip_qualities=[],document.body.removeEventListener("keydown",PlayClip_handleKeyDown),document.removeEventListener("visibilitychange",PlayClip_Resume),ChannelVod_vodOffset=0}function PlayClip_UpdateNext(){var e,a=PlayClip_getIdNext(1,0),n=PlayClip_getIdNext(-1,inUseObj.ColoumnsCount-1);PlayClip_HasBack=PlayClip_HasNext=!1,a?(PlayClip_HasNext=!0,Main_textContent("next_button_text_name",(e=JSON.parse(document.getElementById(inUseObj.ids[8]+a).getAttribute(Main_DataAttribute)))[4]),Main_innerHTML("next_button_text_title",e[9]),Main_textContent("end_next_button_text_name",e[4]),Main_innerHTML("end_next_button_text_title",e[9]),PlayClip_HideShowNext(0,1)):PlayClip_HideShowNext(0,0),n?(PlayClip_HasBack=!0,Main_textContent("back_button_text_name",(e=JSON.parse(document.getElementById(inUseObj.ids[8]+n).getAttribute(Main_DataAttribute)))[4]),Main_innerHTML("back_button_text_title",e[9]),PlayClip_HideShowNext(1,1)):PlayClip_HideShowNext(1,0)}function PlayClip_getIdNext(e,a){return Main_ThumbNull(inUseObj.posY,inUseObj.posX+e,inUseObj.ids[0])?inUseObj.posY+"_"+(inUseObj.posX+e):Main_ThumbNull(inUseObj.posY+e,a,inUseObj.ids[0])?inUseObj.posY+e+"_"+a:null}function PlayClip_HideShowNext(e,a){document.getElementById(PlayClip_HideShowNextDiv[e]).style.opacity=a}function PlayClip_Enter(){PlayClip_EnterPos?1===PlayClip_EnterPos?PlayClip_PlayNext():-1===PlayClip_EnterPos&&PlayClip_PlayPreviously():(PlayClip_HasVOD&&!Main_values.Play_ChatForceDisable&&(Play_isNotplaying()?Chat_Play(Chat_Id):Chat_Pause()),Play_isEndDialogVisible()||Play_KeyPause(3))}function PlayClip_PlayNext(){Screens_KeyLeftRight(1,0),PlayClip_PlayNextPreviously()}function PlayClip_PlayPreviously(){Screens_KeyLeftRight(-1,inUseObj.ColoumnsCount-1),PlayClip_PlayNextPreviously()}function PlayClip_PlayNextPreviously(){Play_ForceHidePannel(),Main_ready(function(){PlayClip_PreshutdownStream(!(PlayClip_replayOrNext=!0)),Main_OpenClip(inUseObj.posY+"_"+inUseObj.posX,inUseObj.ids,Screens_handleKeyDown)})}function PlayClip_hidePanel(){PlayVod_IsJumping=!1,PlayVod_addToJump=PlayVod_jumpCount=0,Play_clearHidePanel(),PlayClip_quality=PlayClip_qualityPlaying,Play_ForceHidePannel(),Main_IsNotBrowser&&PlayVod_ProgresBarrUpdate(Android.gettime()/1e3,PlayClip_DurationSeconds,!0),Main_innerHTML("progress_bar_jump_to",STR_SPACE),document.getElementById("progress_bar_steps").style.display="none",window.clearInterval(PlayVod_RefreshProgressBarrID)}function PlayClip_showPanel(){PlayClip_RefreshProgressBarr(),Play_clock(),window.clearInterval(PlayVod_RefreshProgressBarrID),PlayVod_RefreshProgressBarrID=window.setInterval(PlayClip_RefreshProgressBarr,1e3),Play_CleanHideExit(),PlayVod_IconsBottonResetFocus(),PlayClip_qualityIndexReset(),PlayExtra_ResetSpeed(),PlayClip_qualityDisplay(),Play_ForceShowPannel(),Play_clearHidePanel(),PlayClip_setHidePanel()}function PlayClip_RefreshProgressBarr(){Main_IsNotBrowser&&PlayVod_ProgresBarrUpdate(Android.gettime()/1e3,PlayClip_DurationSeconds,!PlayVod_IsJumping),Play_Status_Always_On||(Main_IsNotBrowser?Play_Status(Android.getVideoStatus()):Play_StatusFake())}function PlayClip_qualityIndexReset(){for(var e=PlayClip_qualityIndex=0;e<PlayClip_getQualitiesCount();e++){if(PlayClip_qualities[e].id===PlayClip_quality){PlayClip_qualityIndex=e;break}-1!==PlayClip_qualities[e].id.indexOf(PlayClip_quality)&&(PlayClip_qualityIndex=e)}}function PlayClip_getQualitiesCount(){return PlayClip_qualities.length}function PlayClip_qualityDisplay(){1===PlayClip_getQualitiesCount()?(document.getElementById("control_arrow_up_"+Play_controlsQuality).style.opacity="0",document.getElementById("control_arrow_down"+Play_controlsQuality).style.opacity="0"):PlayClip_qualityIndex?PlayClip_qualityIndex===PlayClip_getQualitiesCount()-1?(document.getElementById("control_arrow_up_"+Play_controlsQuality).style.opacity="1",document.getElementById("control_arrow_down"+Play_controlsQuality).style.opacity="0.2"):(document.getElementById("control_arrow_up_"+Play_controlsQuality).style.opacity="1",document.getElementById("control_arrow_down"+Play_controlsQuality).style.opacity="1"):(document.getElementById("control_arrow_up_"+Play_controlsQuality).style.opacity="0.2",document.getElementById("control_arrow_down"+Play_controlsQuality).style.opacity="1"),PlayClip_SetHtmlQuality("controls_name_"+Play_controlsQuality)}function PlayClip_SetHtmlQuality(e){if(PlayClip_qualities[PlayClip_qualityIndex].hasOwnProperty("id")){var a=PlayClip_quality=PlayClip_qualities[PlayClip_qualityIndex].id;-1!==PlayClip_quality.indexOf("source")&&(a=a.replace("source",STR_SOURCE)),Main_textContent(e,PlayClip_quality)}}function PlayClip_setHidePanel(){Play_PanelHideID=window.setTimeout(PlayClip_hidePanel,5e3+PlayVod_ProgressBaroffset)}function PlayClip_SetOpenVod(){document.getElementById("controls_"+Play_controlsOpenVod).style.display=PlayClip_HasVOD?"inline-block":"none"}function PlayClip_OpenVod(){PlayClip_HasVOD?(Main_values.vodOffset=ChannelVod_vodOffset,PlayClip_PreshutdownStream(!0),document.body.addEventListener("keydown",PlayVod_handleKeyDown,!1),Play_IconsResetFocus(),Main_ready(PlayVod_Start)):(Play_clearHidePanel(),Play_IsWarning=!0,Play_showWarningDialog(STR_NO_BROADCAST_WARNING),window.setTimeout(function(){Play_IsWarning=!1,Play_HideWarningDialog()},2e3))}function PlayClip_handleKeyDown(e){if(PlayClip_state!==PlayClip_STATE_PLAYING)switch(e.keyCode){case KEY_RETURN:Play_ExitDialogVisible()||Play_SingleClickExit?(Play_CleanHideExit(),PlayClip_shutdownStream()):Play_showExitDialog()}else switch(e.keyCode){case KEY_LEFT:UserLiveFeed_isFeedShow()?Play_FeedPos&&!UserLiveFeed_loadingData&&(UserLiveFeed_FeedRemoveFocus(),Play_FeedPos--,UserLiveFeed_FeedAddFocus()):Play_isFullScreen&&!Play_isPanelShown()&&Play_isChatShown()?(Play_ChatPositions++,Play_ChatPosition(),Play_controls[Play_controlsChatPos].defaultValue=Play_ChatPositions,Play_controls[Play_controlsChatPos].setLable()):Play_isPanelShown()?(Play_clearHidePanel(),2===PlayVod_PanelY?Play_BottomLeftRigt(3,-1):PlayVod_PanelY?1===PlayVod_PanelY&&-1<PlayClip_EnterPos&&(PlayClip_EnterPos--,PlayClip_HasBack||!PlayClip_EnterPos?PlayVod_IconsBottonFocus():PlayClip_EnterPos++):(PlayVod_jumpStart(-1,PlayClip_DurationSeconds),PlayVod_ProgressBaroffset=2500),PlayClip_setHidePanel()):Play_isEndDialogVisible()?(Play_EndTextClear(),Play_EndIconsRemoveFocus(),--Play_Endcounter<(PlayClip_HasNext?-1:0)&&(Play_Endcounter=3),Play_EndIconsAddFocus()):PlayClip_showPanel();break;case KEY_RIGHT:UserLiveFeed_isFeedShow()?Play_FeedPos<UserLiveFeed_GetSize()-1&&!UserLiveFeed_loadingData&&(UserLiveFeed_FeedRemoveFocus(),Play_FeedPos++,UserLiveFeed_FeedAddFocus()):!Play_isFullScreen||Play_isPanelShown()||Play_isEndDialogVisible()?Play_isPanelShown()?(Play_clearHidePanel(),2===PlayVod_PanelY?Play_BottomLeftRigt(3,1):PlayVod_PanelY?1===PlayVod_PanelY&&PlayClip_EnterPos<1&&(PlayClip_EnterPos++,PlayClip_HasNext||!PlayClip_EnterPos?PlayVod_IconsBottonFocus():PlayClip_EnterPos--):(PlayVod_jumpStart(1,PlayClip_DurationSeconds),PlayVod_ProgressBaroffset=2500),PlayClip_setHidePanel()):Play_isEndDialogVisible()?(Play_EndTextClear(),Play_EndIconsRemoveFocus(),3<++Play_Endcounter&&(Play_Endcounter=PlayClip_HasNext?-1:0),Play_EndIconsAddFocus()):PlayClip_showPanel():Play_controls[Play_controlsChat].enterKey(3);break;case KEY_UP:Play_isEndDialogVisible()?Play_EndTextClear():Play_isPanelShown()?(Play_clearHidePanel(),PlayVod_PanelY<2?(PlayVod_PanelY--,PlayVod_IconsBottonFocus()):Play_BottomUpDown(3,1),PlayClip_setHidePanel()):UserLiveFeed_isFeedShow()?UserLiveFeed_isFeedShow()?UserLiveFeed_FeedRefreshFocus():PlayClip_showPanel():UserLiveFeed_ShowFeed();break;case KEY_DOWN:Play_isEndDialogVisible()?Play_EndTextClear():Play_isPanelShown()?(Play_clearHidePanel(),PlayVod_PanelY<2?(PlayVod_PanelY++,PlayVod_IconsBottonFocus()):Play_BottomUpDown(3,-1),PlayClip_setHidePanel()):UserLiveFeed_isFeedShow()?UserLiveFeed_Hide():Play_isFullScreen&&Play_isChatShown()?Play_KeyChatSizeChage():PlayClip_showPanel();break;case KEY_ENTER:Play_isEndDialogVisible()?Play_EndDialogPressed(3):Play_isPanelShown()?(Play_clearHidePanel(),PlayVod_PanelY?1===PlayVod_PanelY?PlayClip_Enter():Play_BottomOptionsPressed(3):PlayVod_addToJump&&PlayVod_jump(),PlayClip_setHidePanel()):UserLiveFeed_isFeedShow()?(PlayClip_PreshutdownStream(!0),Main_OpenLiveStream(Play_FeedPos,UserLiveFeed_ids,Play_handleKeyDown)):PlayClip_showPanel();break;case KEY_RETURN:Play_isPanelShown()?PlayClip_hidePanel():UserLiveFeed_isFeedShow()?UserLiveFeed_Hide():Play_ExitDialogVisible()||Play_SingleClickExit?(Play_CleanHideExit(),PlayClip_shutdownStream()):Play_showExitDialog();break;case KEY_PLAY:!Play_isEndDialogVisible()&&Play_isNotplaying()&&(Play_KeyPause(2),Main_values.Play_ChatForceDisable||Chat_Play(Chat_Id));break;case KEY_PAUSE:Play_isEndDialogVisible()||Play_isNotplaying()||(Play_KeyPause(2),Main_values.Play_ChatForceDisable||Chat_Pause());break;case KEY_PLAYPAUSE:PlayClip_HasVOD&&!Main_values.Play_ChatForceDisable&&(Play_isNotplaying()?Chat_Play(Chat_Id):Chat_Pause()),Play_isEndDialogVisible()||Play_KeyPause(3);break;case KEY_REFRESH:Play_controls[Play_controlsChat].enterKey(3);break;case KEY_PG_UP:Play_Panelcounter=Play_controlsChatPos,Play_BottomUpDown(3,1),Play_Panelcounter=Play_controlsDefault;break;case KEY_PG_DOWN:Play_Panelcounter=Play_controlsChatPos,Play_BottomUpDown(3,-1),Play_Panelcounter=Play_controlsDefault}}var PlayExtra_KeyEnterID,PlayExtra_qualities,PlayExtra_SupportsSource_Old,PlayExtra_selectedChannel_id_Old,PlayExtra_IsRerun_Old,PlayExtra_selectedChannel_Old,PlayExtra_isHost_Old,PlayExtra_DisplaynameHost_Old,PlayExtra_selectedChannelDisplayname_Old,PlayExtra_gameSelected_Old,PlayExtra_qualities_Old,PlayExtra_qualityPlaying_Old,PlayExtra_quality_Old,PlayExtra_AutoUrl_Old,PlayExtra_clear=!1,PlayExtra_selectedChannel="",PlayExtra_selectedChannelDisplayname="",PlayExtra_loadingDataTry=0,PlayExtra_state=Play_STATE_LOADING_TOKEN,PlayExtra_quality="Auto",PlayExtra_qualityPlaying=PlayExtra_quality,PlayExtra_selectedChannel_id=0,PlayExtra_IsRerun=!1,PlayExtra_gameSelected="",PlayExtra_isHost="",PlayExtra_DisplaynameHost="",PlayExtra_PicturePicture=!1,PlayExtra_SupportsSource=!0,PlayExtra_AutoUrl="",PlayExtra_RefreshAutoTry=0,PlayExtra_Save_selectedChannel_id_Old=null,PlayExtra_Save_IsRerun_Old=null,PlayExtra_Save_selectedChannel_Old=null,PlayExtra_Save_DisplaynameHost_Old=null,PlayExtra_Save_selectedChannelDisplayname_Old=null,PlayExtra_Save_gameSelected_Old=null,PlayExtra_WasPicturePicture=!1;function PlayExtra_ResetSpeed(){Play_controls[Play_controlsSpeed].defaultValue=Play_CurrentSpeed,Play_controls[Play_controlsSpeed].bottomArrows(),Play_controls[Play_controlsSpeed].setLable()}function PlayExtra_ResetAudio(){Play_controls[Play_controlsAudio].defaultValue=Play_controlsAudioPos,Play_controls[Play_controlsAudio].bottomArrows(),Play_controls[Play_controlsAudio].setLable()}function PlayExtra_SavePlayData(){PlayExtra_Save_selectedChannel_id_Old=PlayExtra_selectedChannel_id,PlayExtra_Save_IsRerun_Old=PlayExtra_IsRerun,PlayExtra_Save_selectedChannel_Old=PlayExtra_selectedChannel,PlayExtra_Save_DisplaynameHost_Old=PlayExtra_DisplaynameHost,PlayExtra_Save_selectedChannelDisplayname_Old=PlayExtra_selectedChannelDisplayname,PlayExtra_Save_gameSelected_Old=PlayExtra_gameSelected}function PlayExtra_RestorePlayData(){Play_showWarningDialog(PlayExtra_selectedChannelDisplayname+" "+STR_LIVE+STR_IS_OFFLINE),window.setTimeout(function(){Play_HideWarningDialog()},2e3),PlayExtra_selectedChannel_id=PlayExtra_Save_selectedChannel_id_Old,PlayExtra_Save_selectedChannel_id_Old=null,PlayExtra_IsRerun=PlayExtra_Save_IsRerun_Old,PlayExtra_selectedChannel=PlayExtra_Save_selectedChannel_Old,PlayExtra_DisplaynameHost=PlayExtra_Save_DisplaynameHost_Old,PlayExtra_selectedChannelDisplayname=PlayExtra_Save_selectedChannelDisplayname_Old,PlayExtra_gameSelected=PlayExtra_Save_gameSelected_Old}function PlayExtra_KeyEnter(){PlayExtra_clear=!0;var a=document.getElementById(UserLiveFeed_ids[8]+Play_FeedPos);if(null===a)UserLiveFeed_ResetFeedId();else{var e=JSON.parse(a.getAttribute(Main_DataAttribute))[0];Main_values.Play_selectedChannel!==e&&PlayExtra_selectedChannel!==e?(UserLiveFeed_Hide(),Main_ready(function(){(PlayExtra_WasPicturePicture=PlayExtra_PicturePicture)?PlayExtra_SavePlayData():PlayExtra_Save_selectedChannel_id_Old=null,PlayExtra_PicturePicture=!0,Main_values.Play_isHost=!1,Play_UserLiveFeedPressed=!0,PlayExtra_selectedChannel=JSON.parse(a.getAttribute(Main_DataAttribute)),PlayExtra_selectedChannel_id=PlayExtra_selectedChannel[1],PlayExtra_IsRerun=PlayExtra_selectedChannel[2],PlayExtra_selectedChannel=PlayExtra_selectedChannel[0],PlayExtra_isHost=!1,PlayExtra_selectedChannelDisplayname=document.getElementById(UserLiveFeed_ids[3]+Play_FeedPos).textContent,Main_innerHTML("chat_container2_name_text",STR_SPACE+PlayExtra_selectedChannelDisplayname+STR_SPACE),PlayExtra_DisplaynameHost=Main_values.Play_DisplaynameHost;var e=document.getElementById(UserLiveFeed_ids[5]+Play_FeedPos).textContent;PlayExtra_gameSelected=-1!==e.indexOf(STR_PLAYING)?e.split(STR_PLAYING)[1]:"",Main_IsNotBrowser&&(-1===Play_quality.indexOf("Auto")&&Android.StartAuto(1,0),Play_qualityPlaying=Play_quality="Auto",PlayExtra_qualityPlaying=PlayExtra_quality="Auto"),PlayExtra_Resume()})):UserLiveFeed_ResetFeedId()}}function PlayExtra_Resume(){Main_IsNotBrowser&&Android.mSwitchPlayerAudio(Play_controlsAudioPos),Play_SetAudioIcon(),PlayExtra_state=Play_STATE_LOADING_TOKEN,PlayExtra_loadingDataTry=0,PlayExtra_loadDataRequest()}function PlayExtra_SwitchPlayerStoreOld(){PlayExtra_selectedChannel_id_Old=Main_values.Play_selectedChannel_id,PlayExtra_IsRerun_Old=Main_values.IsRerun,PlayExtra_selectedChannel_Old=Main_values.Play_selectedChannel,PlayExtra_isHost_Old=Play_isHost,PlayExtra_DisplaynameHost_Old=Main_values.Play_DisplaynameHost,PlayExtra_selectedChannelDisplayname_Old=Main_values.Play_selectedChannelDisplayname,PlayExtra_gameSelected_Old=Main_values.Play_gameSelected,PlayExtra_qualities_Old=Play_qualities,PlayExtra_qualityPlaying_Old=Play_qualityPlaying,PlayExtra_quality_Old=Play_quality,PlayExtra_SupportsSource_Old=Play_SupportsSource,PlayExtra_AutoUrl_Old=Play_AutoUrl}function PlayExtra_SwitchPlayerResStoreOld(){PlayExtra_selectedChannel_id=PlayExtra_selectedChannel_id_Old,PlayExtra_IsRerun=PlayExtra_IsRerun_Old,PlayExtra_selectedChannel=PlayExtra_selectedChannel_Old,PlayExtra_isHost=PlayExtra_isHost_Old,PlayExtra_DisplaynameHost=PlayExtra_DisplaynameHost_Old,PlayExtra_selectedChannelDisplayname=PlayExtra_selectedChannelDisplayname_Old,PlayExtra_gameSelected=PlayExtra_gameSelected_Old,PlayExtra_qualities=PlayExtra_qualities_Old,PlayExtra_qualityPlaying=PlayExtra_qualityPlaying_Old,PlayExtra_quality=PlayExtra_quality_Old,PlayExtra_AutoUrl=PlayExtra_AutoUrl_Old,PlayExtra_SupportsSource=PlayExtra_SupportsSource_Old}function PlayExtra_SwitchPlayer(){PlayExtra_SwitchPlayerStoreOld(),Main_values.Play_selectedChannel_id=PlayExtra_selectedChannel_id,Main_values.IsRerun=PlayExtra_IsRerun,Main_values.Play_selectedChannel=PlayExtra_selectedChannel,(Play_isHost=PlayExtra_isHost)?(Main_values.Play_DisplaynameHost=PlayExtra_DisplaynameHost,Main_values.Play_selectedChannelDisplayname=Main_values.Play_DisplaynameHost.split(STR_USER_HOSTING)[1]):Main_values.Play_selectedChannelDisplayname=PlayExtra_selectedChannelDisplayname,Main_values.Play_gameSelected=PlayExtra_gameSelected,Main_values.Main_Go===Main_aGame&&(Main_values.Main_OldgameSelected=Main_values.Main_gameSelected),Play_loadingInfoDataTry=0,Play_updateStreamInfoStart(),Play_loadChat(),Play_qualities=PlayExtra_qualities,Play_qualityPlaying=PlayExtra_qualityPlaying,Play_quality=PlayExtra_quality,Play_SupportsSource=PlayExtra_SupportsSource,Play_AutoUrl=PlayExtra_AutoUrl,PlayExtra_SwitchPlayerResStoreOld(),Main_SaveValues(),Main_innerHTML("chat_container2_name_text",STR_SPACE+PlayExtra_selectedChannelDisplayname+STR_SPACE),Main_innerHTML("chat_container_name_text",STR_SPACE+Main_values.Play_selectedChannelDisplayname+STR_SPACE)}function PlayExtra_ShowChat(){Main_ShowElement("chat_container2"),Main_ShowElement("chat_container_name"),Main_ShowElement("chat_container2_name")}function PlayExtra_HideChat(){Main_HideElement("chat_container2"),Main_HideElement("chat_container_name"),Main_HideElement("chat_container2_name")}function PlayExtra_End(e){e&&PlayExtra_SwitchPlayer(),Play_isFullScreen||Play_SetFullScreen(Play_isFullScreen=!Play_isFullScreen),PlayExtra_PicturePicture=!1,ChatLive_Clear(1),PlayExtra_HideChat(),PlayExtra_UnSetPanel(),Play_showWarningDialog(PlayExtra_selectedChannelDisplayname+" "+STR_LIVE+STR_IS_OFFLINE),window.setTimeout(function(){Play_HideWarningDialog()},2500),PlayExtra_selectedChannel=""}function PlayExtra_loadDataSuccess(e){if(PlayExtra_state===Play_STATE_LOADING_TOKEN)Play_tokenResponse=JSON.parse(e),PlayExtra_state=Play_STATE_LOADING_PLAYLIST,PlayExtra_loadingDataTry=0,PlayExtra_loadDataRequest();else if(PlayExtra_state===Play_STATE_LOADING_PLAYLIST){if(!Main_SupportsAvc1High&&PlayExtra_SupportsSource&&-1!==e.indexOf("avc1.640034"))return PlayExtra_SupportsSource=!1,PlayExtra_loadingDataTry=0,void PlayExtra_loadDataRequest();Android.SetAuto2(PlayExtra_AutoUrl),PlayExtra_qualities=Play_extractQualities(e),PlayExtra_state=Play_STATE_PLAYING,PlayExtra_SetPanel(),Play_isOn&&PlayExtra_qualityChanged(),PlayExtra_Save_selectedChannel_id_Old=null,Play_isFullScreen||(Android.mupdatesizePP(!Play_isFullScreen),ChatLive_Init(1),PlayExtra_ShowChat())}}function PlayExtra_SetPanel(){Play_controls[Play_controlsChatSide].setLable(),Play_controls[Play_controlsChatSide].setIcon(),document.getElementById("controls_"+Play_controlsQuality).style.display="none",document.getElementById("controls_"+Play_controlsAudio).style.display="",document.getElementById("controls_"+Play_controlsQualityMini).style.display="",Play_IconsResetFocus()}function PlayExtra_UnSetPanel(){Play_controls[Play_controlsChatSide].setLable(),Play_controls[Play_controlsChatSide].setIcon(),document.getElementById("controls_"+Play_controlsQuality).style.display="",document.getElementById("controls_"+Play_controlsAudio).style.display="none",document.getElementById("controls_"+Play_controlsQualityMini).style.display="none",Play_IconsResetFocus()}function PlayExtra_qualityChanged(){Main_isDebug&&console.log("PlayExtra_onPlayer: Auto"),Main_IsNotBrowser&&Play_isOn&&Android.initializePlayer2Auto()}function PlayExtra_loadDataRequest(){var e,a;if(PlayExtra_state===Play_STATE_LOADING_TOKEN?e="https://api.twitch.tv/api/channels/"+PlayExtra_selectedChannel+"/access_token?platform=_"+(AddUser_UserIsSet()&&AddUser_UsernameArray[0].access_token?"&oauth_token="+AddUser_UsernameArray[0].access_token:""):(e="https://usher.ttvnw.net/api/channel/hls/"+PlayExtra_selectedChannel+".m3u8?&token="+encodeURIComponent(Play_tokenResponse.token)+"&sig="+Play_tokenResponse.sig+"&reassignments_supported=true&playlist_include_framerate=true&fast_bread=true"+(PlayExtra_SupportsSource?"&allow_source=true":"")+(Main_vp9supported?"&preferred_codecs=vp09":"")+"&p="+Main_RandomInt(),PlayExtra_AutoUrl=e),Main_IsNotBrowser){if(!(a=Android.mreadUrl(e,3e3,1,null)))return void Play_loadDataError();PlayExtra_loadDataSuccessreadyState(a=JSON.parse(a))}else(a=new XMLHttpRequest).open("GET",e,!0),a.timeout=Play_loadingDataTimeout,a.setRequestHeader(Main_clientIdHeader,Main_clientId),a.ontimeout=function(){},a.onreadystatechange=function(){4===a.readyState&&PlayExtra_loadDataSuccessreadyState(a)},a.send(null)}function PlayExtra_loadDataSuccessreadyState(e){200===e.status?(Play_loadingDataTry=0,PlayExtra_loadDataSuccess(e.responseText)):403===e.status?PlayExtra_loadDataFail(STR_FORBIDDEN):404===e.status?PlayExtra_loadDataFail(PlayExtra_selectedChannelDisplayname+" "+STR_LIVE+STR_IS_OFFLINE):PlayExtra_loadDataError()}function PlayExtra_loadDataError(){Play_isOn&&Play_isLive&&(++PlayExtra_loadingDataTry<Play_loadingDataTryMax?PlayExtra_loadDataRequest():PlayExtra_loadDataFail(STR_PLAYER_PROBLEM_2))}function PlayExtra_loadDataFail(e){null===PlayExtra_Save_selectedChannel_id_Old?(PlayExtra_PicturePicture=!1,PlayExtra_selectedChannel="",ChatLive_Clear(1),Main_HideElement("chat_container2"),Main_IsNotBrowser&&!Play_isFullScreen&&Android.mupdatesize(!Play_isFullScreen),Play_HideBufferDialog(),Play_showWarningDialog(e),window.setTimeout(function(){Play_HideWarningDialog()},2500)):PlayExtra_RestorePlayData()}function PlayExtra_RefreshAutoRequest(e){var a,n="https://api.twitch.tv/api/channels/"+PlayExtra_selectedChannel+"/access_token?platform=_"+(AddUser_UserIsSet()&&AddUser_UsernameArray[0].access_token?"&oauth_token="+AddUser_UsernameArray[0].access_token:"");e?(a=Android.mreadUrl(n,3e3,1,null))?PlayExtra_RefreshAutoRequestSucess(JSON.parse(a),e):PlayExtra_RefreshAutoError(e):((a=new XMLHttpRequest).open("GET",n,!0),a.timeout=3e3,a.setRequestHeader(Main_clientIdHeader,Main_clientId),a.ontimeout=function(){},a.onreadystatechange=function(){4===a.readyState&&PlayExtra_RefreshAutoRequestSucess(a,e)},a.send(null))}function PlayExtra_RefreshAutoRequestSucess(e,a){if(200===e.status){PlayExtra_RefreshAutoTry=0,Play_tokenResponse=JSON.parse(e.responseText);var n="https://usher.ttvnw.net/api/channel/hls/"+PlayExtra_selectedChannel+".m3u8?&token="+encodeURIComponent(Play_tokenResponse.token)+"&sig="+Play_tokenResponse.sig+"&reassignments_supported=true&playlist_include_framerate=true&fast_bread=true"+(PlayExtra_SupportsSource?"&allow_source=true":"")+(Main_vp9supported?"&preferred_codecs=vp09":"")+"&p="+Main_RandomInt();PlayExtra_AutoUrl=n,a?Android.ResStartAuto2(n):Android.SetAuto2(n)}else PlayExtra_RefreshAutoError(a)}function PlayExtra_RefreshAutoError(e){Play_isOn&&(++PlayExtra_RefreshAutoTry<5?PlayExtra_RefreshAutoRequest(e):e&&PlayExtra_loadDataFail(STR_PLAYER_PROBLEM_2))}var Play_ChatPositionsBF,Play_ChatEnableBF,Play_ChatSizeValueBF,Play_IsRerun_Old,Play_selectedChannel_Old,Play_isHost_Old,Play_DisplaynameHost_Old,Play_selectedChannelDisplayname_Old,Play_gameSelected_Old,Play_SupportsSource_Old,Play_ResumeAfterOnlineId,Play_chat_container,Play_ProgresBarrElm,Play_ChatPositions=0,Play_ChatPositionConvertBefore=Play_ChatPositions,Play_PlayerPanelOffset=-5,Play_ChatBackground=.55,Play_ChatSizeValue=2,Play_MaxChatSizeValue=4,Play_PanelHideID=null,Play_quality="Auto",Play_qualityPlaying=Play_quality,Play_isFullScreen=!0,Play_isHost=!1,Play_FeedOldUserName="",Play_FeedPos=0,Play_Buffer=2e3,Play_CurrentSpeed=3,Play_PicturePicturePos=4,Play_PicturePictureSize=3,Play_controlsAudioPos=1,Play_STATE_LOADING_TOKEN=0,Play_STATE_LOADING_PLAYLIST=1,Play_STATE_PLAYING=2,Play_state=0,Play_Status_Always_On=!1,Play_RefreshAutoTry=0,Play_SingleClickExit=0,Play_SupportsSource=!0,Play_LowLatency=!1,Play_streamInfoTimerId=null,Play_tokenResponse=0,Play_playingTry=0,Play_playingUrl="",Play_qualities=[],Play_qualityIndex=0,Play_ChatEnable=!1,Play_exitID=null,Play_AutoUrl="",Play_selectedChannel_id_Old=null,Play_pauseEndID=null,Play_pauseStartID=null,Play_created="",Play_loadingDataTry=0,Play_loadingDataTryMax=5,Play_loadingInfoDataTry=0,Play_loadingInfoDataTryMax=5,Play_ResumeAfterOnlineCounter=0,Play_isOn=!1,Play_ChatBackgroundID=null,Play_Playing=!1,Play_IsWarning=!1,Play_LoadLogoSucess=!1,Play_loadingInfoDataTimeout=1e4,Play_loadingDataTimeout=2e3,Play_Lang="",Play_Endcounter=0,Play_EndTextCounter=3,Play_EndSettingsCounter=3,Play_EndTextID=null,Play_DialogEndText="",Play_currentTime=0,Play_watching_time=0,Play_ChatDelayPosition=0,Play_TargetHost="",Play_isLive=!0,Play_RestoreFromResume=!1,Play_updateStreamInfoErrorTry=0,Play_IncrementView="",Play_DefaultjumpTimers=[],Play_UserLiveFeedPressed=!1,Play_ChatPositionVal=[{top:51.8,left:75.1,sizeOffset:[31,16,0,-25.2,0]},{top:33,left:75.1,sizeOffset:[12.5,0,-6.25,-19.5,0]},{top:.2,left:75.1,sizeOffset:[0,0,0,0,0]},{top:.2,left:38.3,sizeOffset:[0,0,0,0,0]},{top:.2,left:.2,sizeOffset:[0,0,0,0,0]},{top:33,left:.2,sizeOffset:[12.5,0,-6.25,-19.5,0]},{top:51.8,left:.2,sizeOffset:[31,16,0,-25.2,0]},{top:51.8,left:38.3,sizeOffset:[31,16,0,-25.2,0]}],Play_ChatPositionsBefore=[0,0,0,1,2,2,2,1],Play_ChatPositionsAfter=[[0,1,2,2,2,1,0,0],[7,3,3,3,3,3,7,7],[6,5,4,4,4,5,6,6]],Play_ChatSizeVal=[{containerHeight:17,percentage:"12.5%",dialogTop:15},{containerHeight:32,percentage:"25%",dialogTop:30},{containerHeight:48,percentage:"50%",dialogTop:50},{containerHeight:73,percentage:"75%",dialogTop:75},{containerHeight:99.6,percentage:"100%",dialogTop:115}],Play_ChatFontObj=["chat_extra_small","chat_size_small","chat_size_default","chat_size_biger","chat_size_bigest"];function Play_PreStart(){if(Play_chat_container=document.getElementById("chat_container"),Play_ProgresBarrElm=document.getElementById("inner_progress_bar"),Play_ChatPositions=Main_getItemInt("ChatPositionsValue",0),Play_ChatSizeValue=Main_getItemInt("ChatSizeValue",2),Play_ChatEnable=Main_getItemBool("ChatEnable",!1),Play_isFullScreen=Main_getItemBool("Play_isFullScreen",!0),Play_ChatBackground=(.05*Main_values.ChatBackground).toFixed(2),Play_ChatDelayPosition=Main_getItemInt("Play_ChatDelayPosition",0),Play_PicturePicturePos=Main_getItemInt("Play_PicturePicturePos",4),Play_PicturePictureSize=Main_getItemInt("Play_PicturePictureSize",3),Play_controlsAudioPos=Main_getItemInt("Play_controlsAudioPos",1),Play_LowLatency=Main_getItemBool("Play_LowLatency",!1),Main_IsNotBrowser){Android.mSetPlayerPosition(Play_PicturePicturePos),Android.mSetPlayerSize(Play_PicturePictureSize);try{Android.mSetlatency(Play_LowLatency)}catch(e){}}Play_SetQuality(),Play_ChatSize(!1),Play_ChatBackgroundChange(!1),Play_SetChatFont(),Play_SetAudioIcon(),Main_innerHTML("user_feed_notify_img_holder",'<img id="user_feed_notify_img" class="notify_img" src="'+IMG_404_LOGO+'" onerror="this.onerror=null;this.src=\''+IMG_404_LOGO+"'\" >")}function Play_SetQuality(){Play_quality=Settings_Obj_values("default_quality").replace(STR_SOURCE,"source"),PlayVod_quality=Play_qualityPlaying=Play_quality,PlayVod_qualityPlaying=Play_quality}var Play_ShowPanelStatusId,Play_isFullScreenold=!0;function Play_SetFullScreen(e){Play_isFullScreenold!==Play_isFullScreen&&(Play_isFullScreenold=Play_isFullScreen,e?void 0!==Play_ChatPositionsBF&&(Play_ChatPositions=Play_ChatPositionsBF,Play_ChatSizeValue=Play_ChatSizeValueBF,(Play_ChatEnable=Play_ChatEnableBF)||Play_hideChat(),Play_ChatSize(!1)):(Play_ChatPositionsBF=Play_ChatPositions,Play_ChatEnableBF=Play_ChatEnable,Play_ChatSizeValueBF=Play_ChatSizeValue,Play_ChatPositions=0,Play_showChat(),Play_ChatSizeValue=Play_MaxChatSizeValue,Play_ChatPositionConvert(Play_ChatEnable=!0),Play_ChatSize(!1),Chat_div[0]&&(Chat_div[0].scrollTop=Chat_div[0].scrollHeight)),PlayExtra_PicturePicture?(Main_IsNotBrowser&&Android.mupdatesizePP(!Play_isFullScreen),Play_isFullScreen?(ChatLive_Clear(1),PlayExtra_HideChat()):(ChatLive_Init(1),PlayExtra_ShowChat())):Main_IsNotBrowser&&Android.mupdatesize(!Play_isFullScreen),Main_setItem("Play_isFullScreen",Play_isFullScreen))}function Play_SetChatFont(){for(var e=0;e<Play_ChatFontObj.length;e++)Main_RemoveClass("chat_inner_container",Play_ChatFontObj[e]),Main_RemoveClass("chat_inner_container2",Play_ChatFontObj[e]);Main_AddClass("chat_inner_container",Play_ChatFontObj[Main_values.Chat_font_size]),Main_AddClass("chat_inner_container2",Play_ChatFontObj[Main_values.Chat_font_size])}function Play_Start(){Play_showBufferDialog(),Play_SupportsSource=!0,Main_empty("stream_info_title"),PlayClip_HasVOD=!(Play_LoadLogoSucess=!1),Play_LoadLogo(document.getElementById("stream_info_icon"),IMG_404_LOGO_TEMP),document.getElementById("controls_"+Play_controlsOpenVod).style.display="none",document.getElementById("controls_"+Play_controlsChatDelay).style.display="",document.getElementById("controls_"+Play_controlsLowLatency).style.display="",PlayExtra_PicturePicture||PlayExtra_UnSetPanel(),Play_CurrentSpeed=3,UserLiveFeed_SetFeedPicText(),Play_RefreshAutoTry=0,Play_ShowPanelStatus(1),Play_IconsResetFocus(),PlayClip_HideShowNext(0,0),PlayClip_HideShowNext(1,0),Main_values.Play_WasPlaying=1,Main_SaveValues(),Play_isHost=Main_values.Play_isHost,Main_values.Play_isHost=!1,Play_RestoreFromResume=!1,Main_ShowElement("controls_holder"),Play_currentTime=0,Play_watching_time=(new Date).getTime(),Main_innerHTML("stream_watching_time",","+STR_SPACE+STR_WATCHING+Play_timeS(0)),Main_innerHTML("chat_container_name_text",STR_SPACE+Main_values.Play_selectedChannelDisplayname+STR_SPACE),Main_textContent("stream_live_time",Play_created=Play_timeMs(0)),Main_HideElement("progress_bar_div"),Play_UserLiveFeedPressed=!1,Play_EndSet(1),Play_PlayerPanelOffset=-5,Play_loadingInfoDataTimeout=3e3,Play_isLive=!(Play_loadingInfoDataTry=Play_updateStreamInfoErrorTry=0),Play_Playing=!(Play_isOn=!(Play_playingTry=Play_tokenResponse=0)),Play_state=Play_STATE_LOADING_TOKEN,document.removeEventListener("visibilitychange",Play_Resume),document.addEventListener("visibilitychange",Play_Resume,!1),Play_updateStreamInfoStart(),Play_loadData(),document.body.removeEventListener("keyup",Main_handleKeyUp),window.clearInterval(Play_streamInfoTimerId),Play_streamInfoTimerId=window.setInterval(Play_updateStreamInfo,3e5)}function Play_Warn(e){Play_showWarningDialog(e)}function Play_CheckResume(){Play_isOn?Play_Resume():PlayVod_isOn?PlayVod_Resume():PlayClip_isOn&&PlayClip_shutdownStream()}function Play_CheckResumeForced(e){PlayExtra_RefreshAutoTry=Play_RefreshAutoTry=0,e?PlayExtra_RefreshAutoRequest(!0):Play_RefreshAutoRequest(!0)}function Play_RefreshAutoRequest(e){var a,n="https://api.twitch.tv/api/channels/"+Main_values.Play_selectedChannel+"/access_token?platform=_"+(AddUser_UserIsSet()&&AddUser_UsernameArray[0].access_token?"&oauth_token="+AddUser_UsernameArray[0].access_token:"");e?(a=Android.mreadUrl(n,3e3,1,null))?Play_RefreshAutoRequestSucess(JSON.parse(a),e):Play_RefreshAutoError(e):((a=new XMLHttpRequest).open("GET",n,!0),a.timeout=3e3,a.setRequestHeader(Main_clientIdHeader,Main_clientId),a.ontimeout=function(){},a.onreadystatechange=function(){4===a.readyState&&Play_RefreshAutoRequestSucess(a,e)},a.send(null))}function Play_RefreshAutoRequestSucess(e,a){if(200===e.status){Play_RefreshAutoTry=0,Play_tokenResponse=JSON.parse(e.responseText);var n="https://usher.ttvnw.net/api/channel/hls/"+Main_values.Play_selectedChannel+".m3u8?&token="+encodeURIComponent(Play_tokenResponse.token)+"&sig="+Play_tokenResponse.sig+"&reassignments_supported=true&playlist_include_framerate=true"+(Play_SupportsSource?"&allow_source=true":"")+"&fast_bread=true"+(Main_vp9supported?"&preferred_codecs=vp09":"")+"&p="+Main_RandomInt();Play_AutoUrl=n,a?Android.ResStartAuto(n,1,0):Android.SetAuto(n)}else Play_RefreshAutoError(a)}function Play_RefreshAutoError(e){Play_isOn&&(++Play_RefreshAutoTry<5?Play_RefreshAutoRequest(e):e&&Play_CheckHostStart())}function Play_Resume(){document.hidden?Play_isEndDialogVisible()?(Play_CleanHideExit(),Play_hideChat(),Play_shutdownStream()):(Play_ClearPlayer(),Play_Playing=!1,ChatLive_Clear(0),ChatLive_Clear(1),window.clearInterval(Play_streamInfoTimerId)):(Play_watching_time=(new Date).getTime(),Play_isOn=!0,Play_clearPause(),Play_isOn&&(Play_showBufferDialog(),Play_loadingInfoDataTimeout=3e3,Play_RestoreFromResume=!(Play_RefreshAutoTry=Play_loadingInfoDataTry=0),Play_LoadLogoSucess?Play_updateStreamInfo():Play_updateStreamInfoStart(),Play_ResumeAfterOnlineCounter=0,navigator.onLine?Play_ResumeAfterOnline():Play_ResumeAfterOnlineId=window.setInterval(Play_ResumeAfterOnline,100),window.clearInterval(Play_streamInfoTimerId),Play_streamInfoTimerId=window.setInterval(Play_updateStreamInfo,3e5),Play_ShowPanelStatus(1)))}function Play_ResumeAfterOnline(e){(e||navigator.onLine||200<Play_ResumeAfterOnlineCounter)&&(window.clearInterval(Play_ResumeAfterOnlineId),Play_state=Play_STATE_LOADING_TOKEN,PlayExtra_PicturePicture&&PlayExtra_Resume(),Play_loadData()),Play_ResumeAfterOnlineCounter++}function Play_updateStreamInfoStart(){BasexmlHttpGet("https://api.twitch.tv/kraken/streams/"+Main_values.Play_selectedChannel_id,Play_loadingInfoDataTimeout,2,null,Play_updateStreamInfoStartValues,Play_updateStreamInfoStartError,!1)}function Play_partnerIcon(e,a,n,t){var i='<div class="partnericon_div"> '+e+STR_SPACE+STR_SPACE+"</div>"+(a?'<img class="partnericon_img" alt="" src="'+IMG_PARTNER+'">':"");n&&(i+=STR_SPACE+STR_SPACE+'<div class="partnericon_text" style="background: #'+(Main_values.IsRerun?"FFFFFF; color: #000000;":"E21212;")+'">'+STR_SPACE+STR_SPACE+(Main_values.IsRerun?STR_NOT_LIVE:STR_LIVE)+STR_SPACE+STR_SPACE+"</div>"),Main_innerHTML("stream_info_name",i+='<div class="lang_text" ">'+STR_SPACE+STR_SPACE+t+"</div>")}function Play_updateStreamInfoStartValues(e){null!==(e=JSON.parse(e)).stream&&(Main_values.IsRerun=Main_is_rerun(e.stream.stream_type),Main_innerHTML("stream_info_title",twemoji.parse(e.stream.channel.status,!1,!0)),Main_values.Play_gameSelected=e.stream.game,Play_Lang=" ["+e.stream.channel.broadcaster_language.toUpperCase()+"]",Play_partnerIcon(Play_isHost?Main_values.Play_DisplaynameHost:Main_values.Play_selectedChannelDisplayname,e.stream.channel.partner,!0,Play_Lang),Main_textContent("stream_info_game",""!==Main_values.Play_gameSelected?STR_PLAYING+Main_values.Play_gameSelected:""),Main_innerHTML("stream_live_viewers",STR_SPACE+STR_FOR+Main_addCommas(e.stream.viewers)+STR_SPACE+STR_VIEWER),Main_values.Play_selectedChannelLogo=e.stream.channel.logo,Play_LoadLogoSucess=!0,Play_LoadLogo(document.getElementById("stream_info_icon"),Main_values.Play_selectedChannelLogo),Play_created=e.stream.created_at,AddUser_UserIsSet()?(AddCode_PlayRequest=!0,AddCode_Channel_id=Main_values.Play_selectedChannel_id,AddCode_CheckFallow()):Play_hideFallow())}function Play_updateStreamInfoStartError(){Play_loadingInfoDataTry<Play_loadingInfoDataTryMax&&(Play_loadingInfoDataTimeout+=500,window.setTimeout(function(){Play_isOn&&Play_updateStreamInfoStart()},750)),Play_loadingInfoDataTry++}function Play_updateStreamInfo(){Play_RefreshAutoTry=0,Play_RefreshAutoRequest(!1),PlayExtra_PicturePicture&&(PlayExtra_RefreshAutoTry=0,PlayExtra_RefreshAutoRequest(!1)),BasexmlHttpGet("https://api.twitch.tv/kraken/streams/"+Main_values.Play_selectedChannel_id,3e3,2,null,Play_updateStreamInfoValues,Play_updateStreamInfoError,!1)}function Play_updateStreamInfoValues(e){null!==(e=JSON.parse(e)).stream&&(Main_innerHTML("stream_info_title",twemoji.parse(e.stream.channel.status,!1,!0)),Main_values.Play_gameSelected=e.stream.game,Main_textContent("stream_info_game",STR_PLAYING+Main_values.Play_gameSelected),Main_innerHTML("stream_live_viewers",STR_SPACE+STR_FOR+Main_addCommas(e.stream.viewers)+STR_SPACE+STR_VIEWER),Play_LoadLogoSucess||Play_LoadLogo(document.getElementById("stream_info_icon"),e.stream.channel.logo))}function Play_updateStreamInfoError(){Play_updateStreamInfoErrorTry<Play_loadingInfoDataTryMax?(window.setTimeout(function(){Play_isOn&&Play_updateStreamInfo()},2500),Play_updateStreamInfoErrorTry++):Play_updateStreamInfoErrorTry=0}function Play_LoadLogo(e,a){e.onerror=function(){this.onerror=null,this.src=IMG_404_LOGO,Play_LoadLogoSucess=!1},e.src=a}function Play_loadData(){Play_loadingDataTry=0,Play_loadingDataTimeout=2e3+(Play_RestoreFromResume?3e3:0),Play_loadDataRequest()}function Play_loadDataRequest(){var e,a;if(Play_state===Play_STATE_LOADING_TOKEN?e="https://api.twitch.tv/api/channels/"+Main_values.Play_selectedChannel+"/access_token?platform=_"+(AddUser_UserIsSet()&&AddUser_UsernameArray[0].access_token?"&oauth_token="+AddUser_UsernameArray[0].access_token:""):(e="https://usher.ttvnw.net/api/channel/hls/"+Main_values.Play_selectedChannel+".m3u8?&token="+encodeURIComponent(Play_tokenResponse.token)+"&sig="+Play_tokenResponse.sig+"&reassignments_supported=true&playlist_include_framerate=true"+(Play_SupportsSource?"&allow_source=true":"")+"&fast_bread=true"+(Main_vp9supported?"&preferred_codecs=vp09":"")+"&p="+Main_RandomInt(),Play_AutoUrl=e),Main_IsNotBrowser){if(!(a=Android.mreadUrl(e,Play_loadingDataTimeout,1,null)))return void Play_loadDataError();200===(a=JSON.parse(a)).status?(Play_loadingDataTry=0,Play_isOn&&Play_loadDataSuccess(a.responseText)):403===a.status?null!==Play_selectedChannel_id_Old?Play_RestorePlayData():PlayExtra_PicturePicture?Play_CloseBigAndSwich():Play_ForbiddenLive():404===a.status?null!==Play_selectedChannel_id_Old?Play_RestorePlayData():PlayExtra_PicturePicture?Play_CloseBigAndSwich():Play_CheckHostStart():Play_loadDataError()}else(a=new XMLHttpRequest).open("GET",e,!0),a.timeout=Play_loadingDataTimeout,a.setRequestHeader(Main_clientIdHeader,Main_clientId),a.ontimeout=function(){},a.onreadystatechange=function(){4===a.readyState&&(200===a.status?(Play_loadingDataTry=0,Play_isOn&&Play_loadDataSuccess(a.responseText)):403===a.status?(Play_loadDataErrorLog(a),Main_IsNotBrowser?Play_ForbiddenLive():Play_loadDataSuccessFake()):404===a.status?(Play_loadDataErrorLog(a),Main_IsNotBrowser?Play_CheckHostStart():Play_loadDataSuccessFake()):(Play_loadDataErrorLog(a),Play_loadDataError()))},a.send(null)}function Play_loadDataErrorLog(e){Main_isDebug&&(console.log(e.status),console.log(e.responseText))}function Play_loadDataError(){Play_isOn&&Play_isLive&&(++Play_loadingDataTry<Play_loadingDataTryMax+(Play_RestoreFromResume?7:0)?(Play_loadingDataTimeout+=250,Play_RestoreFromResume?window.setTimeout(Play_loadDataRequest,500):Play_loadDataRequest()):Main_IsNotBrowser?null!==Play_selectedChannel_id_Old?Play_RestorePlayData():PlayExtra_PicturePicture?Play_CloseBigAndSwich():Play_CheckHostStart():Play_loadDataSuccessFake())}function Play_ForbiddenLive(){Play_HideBufferDialog(),Play_showWarningDialog(STR_FORBIDDEN),window.setTimeout(function(){Play_isOn&&Play_CheckHostStart()},4e3)}function Play_loadDataSuccessFake(){Play_qualities=[{id:"Auto",band:0,codec:"avc",url:"https://auto"},{id:"1080p60 | source ",band:"| 10.00Mbps",codec:" | avc",url:"https://souce"},{id:"720p60",band:" | 5.00Mbps",codec:" | avc",url:"https://720p60"},{id:"720p",band:" | 2.50Mbps",codec:" | avc",url:"https://720"},{id:"480p",band:" | 2.50Mbps",codec:" | avc",url:"https://480"},{id:"320p",band:" | 2.50Mbps",codec:" | avc",url:"https://320"}],Play_state=Play_STATE_PLAYING,Play_isOn&&Play_qualityChanged()}function Play_loadDataSuccess(e){if(Play_state===Play_STATE_LOADING_TOKEN)Play_tokenResponse=JSON.parse(e),Play_state=Play_STATE_LOADING_PLAYLIST,Play_loadData();else if(Play_state===Play_STATE_LOADING_PLAYLIST){if(UserLiveFeed_Hide(),!Main_SupportsAvc1High&&Play_SupportsSource&&-1!==e.indexOf("avc1.640034"))return Play_SupportsSource=!1,void Play_loadData();Play_qualities=Play_extractQualities(e),Play_state=Play_STATE_PLAYING,Main_IsNotBrowser&&Android.SetAuto(Play_AutoUrl),Play_selectedChannel_id_Old=null,Play_isOn&&Play_qualityChanged()}}function Play_extractQualities(e){for(var a,n,t=[],i="",l=1,s=Play_extractStreamDeclarations(e),_=0;_<s.length;_++)i=s[_].split('NAME="')[1].split('"')[0],a=Play_extractBand(s[_].split("BANDWIDTH=")[1].split(",")[0]),n=Play_extractCodec(s[_].split('CODECS="')[1].split(".")[0]),t.length?t[_-l].id!==i&&t[_-l].id!==i+" | source"?t.push({id:i,band:a,codec:n,url:s[_].split("\n")[2]}):l++:(t.push({id:"Auto",band:0,codec:"avc",url:"Auto_url"}),-1===i.indexOf("ource")?i+=" | source":i=i.replace("("," | ").replace(")",""),t.push({id:i,band:a,codec:n,url:s[_].split("\n")[2]}));return t}function Play_extractBand(e){return 0<(e=parseInt(e))?" | "+parseFloat(e/1e6).toFixed(2)+"Mbps":""}function Play_extractCodec(e){return-1!==e.indexOf("avc")?" | avc":-1!==e.indexOf("vp9")?" | vp9":-1!==e.indexOf("mp4")?" | mp4":""}function Play_extractStreamDeclarations(e){for(var a,n=[],t=/#EXT-X-MEDIA:(.)*\n#EXT-X-STREAM-INF:(.)*\n(.)*/g;a=t.exec(e);)n.push(a[0]);return n}function Play_qualityChanged(){Play_playingUrl=Play_qualities[Play_qualityIndex=1].url;for(var e=0;e<Play_getQualitiesCount();e++){if(Play_qualities[e].id===Play_quality){Play_playingUrl=Play_qualities[Play_qualityIndex=e].url;break}-1!==Play_qualities[e].id.indexOf(Play_quality)&&(Play_playingUrl=Play_qualities[Play_qualityIndex=e].url)}Play_quality=Play_qualities[Play_qualityIndex].id,Play_qualityPlaying=Play_quality,Play_SetHtmlQuality("stream_quality"),Play_state=Play_STATE_PLAYING,Play_onPlayer()}function Play_onPlayer(){Main_isDebug&&console.log("Play_onPlayer:",'\n\n"'+Play_playingUrl+'"\n'),Main_IsNotBrowser&&Play_isOn&&(-1!==Play_quality.indexOf("Auto")||PlayExtra_PicturePicture?Android.StartAuto(1,0):Android.startVideo(Play_playingUrl,1)),Play_ChatEnable&&!Play_isChatShown()&&Play_showChat(),Play_SetFullScreen(Play_isFullScreen),Play_Playing=!0,Play_loadChat()}function Play_SetHtmlQuality(e){if(Play_qualities[Play_qualityIndex]&&Play_qualities[Play_qualityIndex].hasOwnProperty("id")){var a="";a=-1!==(Play_quality=Play_qualities[Play_qualityIndex].id).indexOf("source")?Play_quality.replace("source",STR_SOURCE):Play_quality,Main_innerHTML(e,a+=-1===Play_quality.indexOf("Auto")?Play_qualities[Play_qualityIndex].band+Play_qualities[Play_qualityIndex].codec:"")}}function Play_loadChat(){Main_values.Play_ChatForceDisable?Chat_Disable():ChatLive_Init(0)}function Play_PlayerCheck(e){1===e?navigator.onLine&&Play_qualityIndex<Play_getQualitiesCount()-1?(Play_qualityIndex++,Play_qualityDisplay(),Play_qualityChanged()):Play_EndStart(!1,1):2===e?navigator.onLine&&PlayVod_qualityIndex<PlayVod_getQualitiesCount()-1?(PlayVod_qualityIndex++,Main_values.vodOffset=Android.getsavedtime()/1e3,PlayVod_qualityDisplay(),PlayVod_qualityChanged()):Play_EndStart(!1,2):3===e&&(navigator.onLine&&PlayClip_qualityIndex<PlayClip_getQualitiesCount()-1?(PlayClip_qualityIndex++,PlayClip_qualityDisplay(),PlayClip_qualityChanged()):Play_EndStart(!1,3))}function Play_EndStart(e,a){Main_values.Play_isHost=e,Play_EndSet(a),Play_PlayEndStart(a)}function Play_isNotplaying(){return!!Main_IsNotBrowser&&!Android.getPlaybackState()}function Play_clock(){var e=Main_getclock();Main_textContent("stream_clock",e),Main_textContent("label_clock",e)}function Play_lessthanten(e){return e<10?"0"+e:e}function Play_timeS(e){var a,n,t;return a=Play_lessthanten(parseInt(e)%60),n=Play_lessthanten((e=Math.floor(e/60))%60),t=Play_lessthanten(e=Math.floor(e/60)),e?t+":"+n+":"+a:n+":"+a}function Play_timeMs(e){return Play_timeS(parseInt(e/1e3))}function Play_streamLiveAt(e){return Play_timeMs((new Date).getTime()-new Date(e).getTime())}function Play_shutdownStream(){Play_isOn&&(Play_PreshutdownStream(!0),Play_qualities=[],Main_values.Play_WasPlaying=0,Play_exitMain())}function Play_PreshutdownStream(e){Main_IsNotBrowser&&e&&(Android.mClearSmallPlayer(),Android.stopVideo(1)),e&&(Play_isOn=!1),UserLiveFeed_Hide(),Play_ClearPlay(e),Play_ClearPlayer(),Main_values.Play_selectedChannel_id=""}function Play_exitMain(){PlayVod_ProgresBarrUpdate(0,0),Main_ShowElement("scene1"),Main_HideElement("scene2"),Main_ReStartScreens()}function Play_ClearPlayer(){window.clearInterval(Play_ShowPanelStatusId),Play_hidePanel(),Play_clearPause(),Play_HideWarningDialog(),Play_HideEndDialog(),Play_IncrementView="",Play_qualityIndex===Play_getQualitiesCount()-1&&(Play_quality=Play_qualities[1].id,Play_qualityPlaying=Play_quality),PlayVod_qualityIndex===PlayVod_getQualitiesCount()-1&&(PlayVod_quality=PlayVod_qualities[1].id,PlayVod_qualityPlaying=PlayVod_quality),PlayClip_qualityIndex===PlayClip_getQualitiesCount()-1&&(PlayClip_quality=PlayClip_qualities[0].id,PlayClip_qualityPlaying=PlayClip_quality)}function Play_ClearPlay(e){Play_Playing=!1,document.body.removeEventListener("keydown",Play_handleKeyDown),document.removeEventListener("visibilitychange",Play_Resume),e&&ChatLive_Clear(0),window.clearInterval(Play_streamInfoTimerId),Play_IsWarning=!1}function Play_hideFallow(){Play_controls[Play_controlsFallow].setLable(STR_NOKEY),AddCode_IsFallowing=!1}function Play_showBufferDialog(){Main_IsNotBrowser?Android.mshowLoading(!0):Main_ShowElement("dialog_loading_play")}function Play_HideBufferDialog(){Main_IsNotBrowser?Android.mshowLoading(!1):Main_HideElement("dialog_loading_play")}function Play_showWarningDialog(e){Main_innerHTML("dialog_warning_play_text",e),Main_ShowElement("dialog_warning_play")}function Play_HideWarningDialog(){Main_HideElement("dialog_warning_play")}function Play_WarningDialogVisible(){return Main_isElementShowing("dialog_warning_play")}function Play_showExitDialog(){Play_ExitDialogVisible()?Play_CleanHideExit():(Main_ShowElement("play_dialog_exit"),Play_exitID=window.setTimeout(Play_showExitDialog,3e3))}function Play_CleanHideExit(){window.clearTimeout(Play_exitID),Main_HideElement("play_dialog_exit")}function Play_ExitDialogVisible(){return Main_isElementShowing("play_dialog_exit")}function Play_clearPauseEnd(){window.clearTimeout(Play_pauseEndID)}function Play_clearPauseStart(){window.clearTimeout(Play_pauseStartID)}function Play_clearPause(){Play_clearPauseEnd(),Play_clearPauseStart()}function Play_isPanelShown(){return"1"===document.getElementById("scene_channel_panel").style.opacity}function Play_hidePanel(){Play_clearHidePanel(),Play_ForceHidePannel(),Play_quality=Play_qualityPlaying,window.clearInterval(PlayVod_RefreshProgressBarrID)}function Play_ForceShowPannel(){document.getElementById("scene_channel_panel").style.opacity="1",Play_Status_Always_On?Main_RemoveClass("playsideinfo","playsideinfofocus"):Main_ShowElement("playsideinfo")}function Play_ForceHidePannel(){document.getElementById("scene_channel_panel").style.opacity="0",Play_Status_Always_On?Main_AddClass("playsideinfo","playsideinfofocus"):Main_HideElement("playsideinfo")}function Play_ShowPanelStatus(e){window.clearInterval(Play_ShowPanelStatusId),Play_Status_Always_On?(Play_ShowPanelStatusId=window.setInterval(function(){Play_UpdateStatus(e)},1e3),Main_ShowElement("playsideinfo"),Main_AddClass("playsideinfo","playsideinfofocus")):(Main_HideElement("playsideinfo"),Main_RemoveClass("playsideinfo","playsideinfofocus"))}function Play_UpdateStatus(e){if(Main_IsNotBrowser){var a=null;1===e?-1===Play_qualityPlaying.indexOf("Auto")?Play_SetHtmlQuality("stream_quality"):null!=(a=Android.getVideoQuality())&&Play_getVideoQuality(a):2===e&&(-1===PlayVod_qualityPlaying.indexOf("Auto")?PlayVod_SetHtmlQuality("stream_quality"):null!=(a=Android.getVideoQuality())&&Play_getVideoQuality(a)),Play_Status(Android.getVideoStatus())}else Play_StatusFake()}function Play_showPanel(){PlayVod_IconsBottonResetFocus(),Play_qualityIndexReset(),Play_qualityDisplay(),PlayExtra_ResetSpeed(),PlayExtra_ResetAudio(),-1===Play_qualityPlaying.indexOf("Auto")&&Play_SetHtmlQuality("stream_quality"),Play_RefreshWatchingtime(),window.clearInterval(PlayVod_RefreshProgressBarrID),PlayVod_RefreshProgressBarrID=window.setInterval(Play_RefreshWatchingtime,1e3),Play_clock(),Play_CleanHideExit(),Play_ForceShowPannel(),Play_clearHidePanel(),Play_setHidePanel()}function Play_RefreshWatchingtime(){if(Main_innerHTML("stream_watching_time",","+STR_SPACE+STR_SPACE+STR_WATCHING+Play_timeMs((new Date).getTime()-Play_watching_time)),Main_innerHTML("stream_live_time",STR_SINCE+(-1===Play_created.indexOf("00:00")?Play_streamLiveAt(Play_created):"00:00")),!Play_Status_Always_On){if(-1!==Play_qualityPlaying.indexOf("Auto")&&Main_IsNotBrowser){var e=Android.getVideoQuality();null!=e?Play_getVideoQuality(e):Play_SetHtmlQuality("stream_quality")}Main_IsNotBrowser?Play_Status(Android.getVideoStatus()):Play_StatusFake()}}function Play_StatusFake(){Main_innerHTML("stream_status","Net Speed:&nbsp;&nbsp;&nbsp;90.00 (90.00 Avg) Mbps"+STR_BR+"Net Activity: 20.00 (20.00 Avg) Mb"+STR_BR+"Drooped frames: 100 (100 Today)"+STR_BR+" Buffer health: 22.22 s")}function Play_Status(e){e=e.split(","),Main_innerHTML("stream_status","Net Speed:"+STR_SPACE+STR_SPACE+STR_SPACE+Play_getMbps(e[2])+" ("+e[3]+" Avg) Mbps"+STR_BR+"Net Activity: "+Play_getMbps(e[4])+" ("+e[5]+" Avg) Mb"+STR_BR+"Drooped frames: "+e[0]+" ("+e[1]+" Today)"+STR_BR+" Buffer health: "+Play_getBuffer(e[6]))}function Play_getMbps(e){return e=(parseInt(e)/1e6).toFixed(2),parseInt(e)<10?STR_SPACE+STR_SPACE+e:e}function Play_getBuffer(e){return e=0<e?(e/1e3).toFixed(2):0,(parseInt(e)<10?STR_SPACE+e:e)+" s"}function Play_getVideoQuality(e){e=e.split(",");for(var a=0;a<e.length;a++)e[a]=null!==e[a]&&"null"!==e[a]&&void 0!==e[a]?e[a]:"";Main_innerHTML("stream_quality",e[0]+e[1]+" | Auto"+Play_extractBand(e[2])+" | "+e[3])}function Play_clearHidePanel(){window.clearTimeout(Play_PanelHideID),PlayVod_ProgressBaroffset=0}function Play_setHidePanel(){Play_PanelHideID=window.setTimeout(Play_hidePanel,5e3)}function Play_showChat(){Play_ChatPosition(),Play_ChatBackgroundChange(!1),Main_ShowElement("chat_container"),Play_controls[Play_controlsChat].setLable()}function Play_hideChat(){Main_HideElement("chat_container"),Play_controls[Play_controlsChat].setLable()}function Play_isChatShown(){return Main_isElementShowing("chat_container")}function Play_getQualitiesCount(){return Play_qualities.length}function Play_ChatSize(e){Play_MaxChatSizeValue<Play_ChatSizeValue&&(Play_ChatSizeValue=Play_MaxChatSizeValue),Play_chat_container.style.height=Play_ChatSizeVal[Play_ChatSizeValue].containerHeight+"%",document.getElementById("play_chat_dialog").style.marginTop=Play_ChatSizeVal[Play_ChatSizeValue].dialogTop+"%",Play_ChatPosition(),ChatLive_ChatFixPosition(0),e&&Play_showChatBackgroundDialog(STR_SIZE+Play_ChatSizeVal[Play_ChatSizeValue].percentage),window.setTimeout(function(){Chat_div&&(Chat_div.scrollTop=Chat_div.scrollHeight)},500),Main_setItem("ChatSizeValue",Play_ChatSizeValue)}function Play_ChatBackgroundChange(e){Play_chat_container.style.backgroundColor="rgba(0, 0, 0, "+Play_ChatBackground+")",e&&Play_showChatBackgroundDialog(STR_BRIGHTNESS+(100*Play_ChatBackground).toFixed(0)+"%")}function Play_ChatPositionConvert(e){Play_ChatPositions=e?Play_ChatPositionsBefore[Play_ChatPositionConvertBefore=Play_ChatPositions]:Play_ChatPositionsAfter[Play_ChatPositions][Play_ChatPositionConvertBefore]}function Play_ChatPosition(){var e=Play_ChatSizeValue===Play_MaxChatSizeValue;Play_ChatPositions<0?Play_ChatPositions=e?2:7:(e?2:7)<Play_ChatPositions&&(Play_ChatPositions=0),Play_chat_container.style.top=(e?.2:Play_ChatPositionVal[Play_ChatPositions].top+Play_ChatPositionVal[Play_ChatPositions].sizeOffset[Play_ChatSizeValue])+"%",Play_chat_container.style.left=Play_ChatPositionVal[Play_ChatPositions+(e?2:0)].left+"%",Main_setItem("ChatPositionsValue",Play_ChatPositions)}function Play_showChatBackgroundDialog(e){window.clearTimeout(Play_ChatBackgroundID),Main_textContent("play_chat_dialog_text",e),Main_ShowElement("play_chat_dialog"),Play_ChatBackgroundID=window.setTimeout(Play_hideChatBackgroundDialog,1e3)}function Play_hideChatBackgroundDialog(){Main_HideElement("play_chat_dialog")}function Play_KeyPause(e){Play_isNotplaying()?(Play_clearPause(),Play_HideBufferDialog(),Main_innerHTML("pause_button",'<div ><i class="pause_button3d icon-pause"></i> </div>'),Play_isPanelShown()&&(1===e?Play_hidePanel():2===e?PlayVod_hidePanel():3===e&&PlayClip_hidePanel()),Main_IsNotBrowser&&Android.play(!0)):(Play_HideBufferDialog(),Main_innerHTML("pause_button",'<div ><i class="pause_button3d icon-play-1"></i> </div>'),Main_IsNotBrowser&&Android.play(!1))}function Play_IconsResetFocus(){Play_IconsRemoveFocus(),Play_Panelcounter=Play_controlsDefault,Play_IconsAddFocus()}function Play_PrepareshowEndDialog(e){PlayVod_state=Play_state=-1,PlayClip_state=-1,UserLiveFeed_Hide(),Play_hideChat(),Play_hidePanel(),PlayClip_hidePanel(),PlayVod_hidePanel(),Play_IsWarning||Play_HideWarningDialog(),Play_HideBufferDialog(),Play_CleanHideExit(),3===e&&PlayClip_HasNext&&(PlayClip_All||PlayClip_All_Forced)&&(Play_EndIconsRemoveFocus(),Play_Endcounter=-1),Play_EndIconsAddFocus()}function Play_showEndDialog(){Main_ShowElement("dialog_end_stream")}function Play_HideEndDialog(){Main_HideElement("dialog_end_stream"),Play_EndTextClear(),Play_EndIconsResetFocus()}function Play_isEndDialogVisible(){return Main_isElementShowing("dialog_end_stream")}function Play_EndIconsResetFocus(){Play_EndIconsRemoveFocus(),Play_Endcounter=0,Play_EndIconsAddFocus()}function Play_EndIconsAddFocus(){Main_AddClass("dialog_end_"+Play_Endcounter,"dialog_end_icons_focus")}function Play_EndIconsRemoveFocus(){Main_RemoveClass("dialog_end_"+Play_Endcounter,"dialog_end_icons_focus")}function Play_EndText(e){if(1===e?Play_DialogEndText=Main_values.Play_selectedChannelDisplayname+" "+STR_LIVE:2===e?Play_DialogEndText=Main_values.Main_selectedChannelDisplayname+STR_VIDEO:3===e&&(Play_DialogEndText=Main_values.Main_selectedChannelDisplayname+STR_CLIP),-2===Play_EndTextCounter)return PlayVod_state=Play_state=Play_STATE_PLAYING,PlayClip_state=PlayClip_STATE_PLAYING,void Play_EndTextClear();Main_innerHTML("dialog_end_stream_text",Play_DialogEndText+STR_IS_OFFLINE+STR_BR+(3===e&&PlayClip_HasNext&&(PlayClip_All||PlayClip_All_Forced)?STR_PLAY_NEXT_IN:STR_STREAM_END)+Play_EndTextCounter+"..."),Play_isEndDialogVisible()?(PlayVod_state=Play_state=Play_STATE_PLAYING,PlayClip_state=PlayClip_STATE_PLAYING,-1===--Play_EndTextCounter?(Main_innerHTML("dialog_end_stream_text",Play_DialogEndText+STR_IS_OFFLINE+STR_BR+STR_STREAM_END+"0..."),Play_CleanHideExit(),Play_hideChat(),1===e?(PlayExtra_PicturePicture=!1,PlayExtra_selectedChannel="",Play_shutdownStream()):2===e?PlayVod_shutdownStream():3===e&&(PlayClip_HasNext&&(PlayClip_All||PlayClip_All_Forced)?PlayClip_PlayNext():PlayClip_shutdownStream())):Play_EndTextID=window.setTimeout(function(){Play_EndText(e)},1e3)):Play_EndTextID=window.setTimeout(function(){Play_EndText(e)},50)}function Play_EndTextClear(){window.clearTimeout(Play_EndTextID),Main_innerHTML("dialog_end_stream_text",Play_DialogEndText+STR_IS_OFFLINE+STR_BR+STR_STREAM_END_EXIT)}function Play_EndDialogPressed(e){var a=!0;-1===Play_Endcounter&&PlayClip_HasNext?PlayClip_PlayNext():Play_Endcounter?1===Play_Endcounter?Main_values.Play_isHost?(Main_values.Play_DisplaynameHost=Main_values.Play_selectedChannelDisplayname+STR_USER_HOSTING,Main_values.Play_selectedChannel=Play_TargetHost.target_login,Main_values.Play_selectedChannelDisplayname=Play_TargetHost.target_display_name,Main_values.Play_DisplaynameHost=Main_values.Play_DisplaynameHost+Main_values.Play_selectedChannelDisplayname,Android.play(!1),Play_PreshutdownStream(!1),document.body.addEventListener("keydown",Play_handleKeyDown,!1),Main_values.Play_selectedChannel_id=Play_TargetHost.target_id,Main_ready(Play_Start)):(PlayClip_OpenVod(),PlayClip_HasVOD||(a=!1)):2===Play_Endcounter?Play_OpenChannel(e):3===Play_Endcounter&&Play_OpenGame(e):2===e?PlayVod_qualities.length?(PlayVod_replay=!0,PlayVod_qualityChanged(),Play_clearPause(),Chat_offset=PlayVod_currentTime=0,Chat_Init()):(a=!1,Play_showWarningDialog(STR_CLIP_FAIL),window.setTimeout(function(){Play_HideWarningDialog()},2e3)):3===e&&(PlayClip_qualities.length?(PlayClip_replayOrNext=!0,PlayClip_qualityChanged(),Play_clearPause(),PlayClip_HasVOD?(Chat_offset=ChannelVod_vodOffset,Chat_Init(PlayVod_currentTime=0)):Chat_NoVod()):(a=!1,Play_showWarningDialog(STR_CLIP_FAIL),window.setTimeout(function(){Play_HideWarningDialog()},2e3))),1!==Play_Endcounter&&3===Play_Endcounter&&""===Main_values.Play_gameSelected&&(a=!1),a&&Play_HideEndDialog()}function Play_EndSet(e){e?1===e?(Play_EndIconsRemoveFocus(),Play_Endcounter=2,Play_EndIconsAddFocus(),document.getElementById("dialog_end_-1").style.display="none",document.getElementById("dialog_end_0").style.display="none",document.getElementById("dialog_end_1").style.display="none"):2===e?(Play_EndIconsResetFocus(),document.getElementById("dialog_end_-1").style.display="none",document.getElementById("dialog_end_0").style.display="inline-block",document.getElementById("dialog_end_1").style.display="none"):3===e&&(Play_EndIconsResetFocus(),document.getElementById("dialog_end_-1").style.display=PlayClip_HasNext?"inline-block":"none",document.getElementById("dialog_end_0").style.display="inline-block",document.getElementById("dialog_end_1").style.display="inline-block",Main_textContent("dialog_end_vod_text",PlayClip_HasVOD?STR_OPEN_BROADCAST:STR_NO_BROADCAST)):(Play_EndIconsRemoveFocus(),Play_Endcounter=1,Play_EndIconsAddFocus(),document.getElementById("dialog_end_-1").style.display="none",document.getElementById("dialog_end_0").style.display="none",document.getElementById("dialog_end_1").style.display="inline-block",Main_textContent("dialog_end_vod_text",STR_OPEN_HOST))}function Play_OpenChannel(e){Main_values.Main_BeforeChannelisSet||Main_values.Main_Go===Main_ChannelVod||Main_values.Main_Go===Main_ChannelClip||(Main_values.Main_BeforeChannel=Main_values.Main_BeforeAgameisSet&&Main_values.Main_Go!==Main_aGame?Main_values.Main_BeforeAgame:Main_values.Main_Go,Main_values.Main_BeforeChannelisSet=!0),Main_ExitCurrent(Main_values.Main_Go),Main_values.Main_Go=Main_ChannelContent,1===e?(PlayExtra_PicturePicture=!1,PlayExtra_selectedChannel="",Main_values.Main_selectedChannel_id=Main_values.Play_selectedChannel_id,Main_values.Main_selectedChannel=Main_values.Play_selectedChannel,Main_values.Main_selectedChannelDisplayname=Main_values.Play_selectedChannelDisplayname,ChannelContent_UserChannels=AddCode_IsFallowing,Play_hideChat(),Play_shutdownStream()):2===e?PlayVod_shutdownStream():3===e&&PlayClip_shutdownStream()}function Play_OpenSearch(e){1===e?(PlayExtra_PicturePicture=!1,PlayExtra_selectedChannel="",Play_hideChat(),Play_PreshutdownStream(!0)):2===e?PlayVod_PreshutdownStream():3===e&&PlayClip_PreshutdownStream(),PlayVod_ProgresBarrUpdate(Main_values.Play_WasPlaying=0,0),Main_ShowElement("scene1"),Main_HideElement("scene2"),Main_updateclock(),document.body.addEventListener("keyup",Main_handleKeyUp,!1),Main_OpenSearch()}function Play_OpenGame(e){if(""===Main_values.Play_gameSelected)return Play_clearHidePanel(),Play_IsWarning=!0,Play_showWarningDialog(STR_NO_GAME),void window.setTimeout(function(){Play_IsWarning=!1,Play_HideWarningDialog()},2e3);Main_values.Main_BeforeAgameisSet||Main_values.Main_Go===Main_AGameVod||Main_values.Main_Go===Main_AGameClip||(Main_values.Main_BeforeAgame=Main_values.Main_BeforeChannelisSet&&Main_values.Main_Go!==Main_ChannelContent&&Main_values.Main_Go!==Main_ChannelVod&&Main_values.Main_Go!==Main_ChannelClip?Main_values.Main_BeforeChannel:Main_values.Main_Go,Main_values.Main_BeforeAgameisSet=!0),Main_ExitCurrent(Main_values.Main_Go),Main_values.Main_Go=Main_aGame,Main_values.Main_gameSelected=Main_values.Play_gameSelected,Play_hideChat(),1===e?(PlayExtra_PicturePicture=!1,PlayExtra_selectedChannel="",Play_shutdownStream()):2===e?PlayVod_shutdownStream():3===e&&PlayClip_shutdownStream()}function Play_FallowUnfallow(){AddUser_UserIsSet()&&AddUser_UsernameArray[0].access_token?AddCode_IsFallowing?AddCode_UnFallow():AddCode_Fallow():(Play_showWarningDialog(STR_NOKEY_WARN),Play_IsWarning=!0,window.setTimeout(function(){Play_HideWarningDialog(),Play_IsWarning=!1},2e3))}function Play_qualityDisplay(){1===Play_getQualitiesCount()?(document.getElementById("control_arrow_up_"+Play_controlsQuality).style.opacity="0",document.getElementById("control_arrow_down"+Play_controlsQuality).style.opacity="0"):Play_qualityIndex?Play_qualityIndex===Play_getQualitiesCount()-1?(document.getElementById("control_arrow_up_"+Play_controlsQuality).style.opacity="1",document.getElementById("control_arrow_down"+Play_controlsQuality).style.opacity="0.2"):(document.getElementById("control_arrow_up_"+Play_controlsQuality).style.opacity="1",document.getElementById("control_arrow_down"+Play_controlsQuality).style.opacity="1"):(document.getElementById("control_arrow_up_"+Play_controlsQuality).style.opacity="0.2",document.getElementById("control_arrow_down"+Play_controlsQuality).style.opacity="1"),Play_SetHtmlQuality("controls_name_"+Play_controlsQuality)}function Play_qualityIndexReset(){for(var e=Play_qualityIndex=0;e<Play_getQualitiesCount();e++){if(Play_qualities[e].id===Play_quality){Play_qualityIndex=e;break}-1!==Play_qualities[e].id.indexOf(Play_quality)&&(Play_qualityIndex=e)}}function Play_PannelEndStart(e){1===e?(PlayExtra_PicturePicture=!1,PlayExtra_selectedChannel="",Play_CheckHostStart()):Play_PlayEndStart(e)}function Play_PlayEndStart(e){Play_PrepareshowEndDialog(e),Play_EndTextCounter=Play_EndSettingsCounter||-2,Play_EndText(e),Play_showEndDialog()}function Play_CheckHostStart(){Play_showBufferDialog(),Play_state=-1,Play_loadingDataTimeout=2e3,ChatLive_Clear(Play_loadingDataTry=0),ChatLive_Clear(1),window.clearInterval(Play_streamInfoTimerId),Play_loadDataCheckHost()}function Play_loadDataCheckHost(){BasehttpGet("https://tmi.twitch.tv/hosts?include_logins=1&host="+encodeURIComponent(Main_values.Play_selectedChannel_id),Play_loadingDataTimeout,1,null,Play_CheckHost,Play_loadDataCheckHostError,!0)}function Play_loadDataCheckHostError(){++Play_loadingDataTry<Play_loadingDataTryMax?(Play_loadingDataTimeout+=250,Play_loadDataCheckHost()):Play_EndStart(!1,1)}function Play_CheckHost(e){void 0!==(Play_TargetHost=JSON.parse(e).hosts[0]).target_login?(Play_IsWarning=!0,Play_showWarningDialog(Main_values.Play_selectedChannelDisplayname+STR_IS_NOW+STR_USER_HOSTING+Play_TargetHost.target_display_name),window.setTimeout(function(){Play_IsWarning=!1},4e3),Play_EndSet(0),Main_values.Play_isHost=!0):(Play_EndSet(1),Main_values.Play_isHost=!1),Play_PlayEndStart(1)}function Play_UpdateDuration(e,a){0<a&&(2===e?PlayVod_UpdateDuration(a):3===e&&PlayClip_UpdateDuration(a))}function Play_setFallow(){Play_controls[Play_controlsFallow].setLable(AddCode_IsFallowing?STR_FALLOWING:STR_FALLOW,AddCode_IsFallowing)}function Play_KeyReturn(e){!Play_isEndDialogVisible()||Play_ExitDialogVisible()||Play_SingleClickExit?UserLiveFeed_isFeedShow()?UserLiveFeed_Hide():Play_isPanelShown()&&!Play_isVodDialogShown()?e?PlayVod_hidePanel():Play_hidePanel():Play_isVodDialogShown()&&Play_ExitDialogVisible()?(Play_HideVodDialog(),PlayVod_PreshutdownStream(!1),Play_exitMain()):Play_ExitDialogVisible()||Play_SingleClickExit?PlayExtra_PicturePicture?Play_CloseSmall():(Play_CleanHideExit(),Play_hideChat(),e?PlayVod_shutdownStream():Play_shutdownStream()):(Play_WarningDialogVisible()?Play_HideWarningDialog():Main_textContent("play_dialog_exit_text",PlayExtra_PicturePicture?STR_EXIT_AGAIN_PICTURE:STR_EXIT_AGAIN),Play_showExitDialog()):(Play_EndTextClear(),Play_showExitDialog())}function Play_CloseBigAndSwich(){Play_HideBufferDialog(),Play_state=Play_STATE_PLAYING,Play_isFullScreen||Play_SetFullScreen(Play_isFullScreen=!Play_isFullScreen),Play_showWarningDialog(Main_values.Play_selectedChannelDisplayname+" "+STR_LIVE+STR_IS_OFFLINE),window.setTimeout(function(){Play_HideWarningDialog()},2500),Main_IsNotBrowser&&Android.mSwitchPlayer(),PlayExtra_SwitchPlayer(),Main_IsNotBrowser&&Android.mClearSmallPlayer(),PlayExtra_PicturePicture=!1,PlayExtra_selectedChannel="",PlayExtra_UnSetPanel(),Play_CleanHideExit()}function Play_CloseSmall(){Main_IsNotBrowser&&(Android.mClearSmallPlayer(),Play_isFullScreen||Play_SetFullScreen(Play_isFullScreen=!Play_isFullScreen)),PlayExtra_PicturePicture=!1,PlayExtra_selectedChannel="",PlayExtra_UnSetPanel(),Play_CleanHideExit()}function Play_handleKeyUp(e){if(e.keyCode===KEY_ENTER&&(Play_handleKeyUpClear(),!PlayExtra_clear)){var a=document.getElementById(UserLiveFeed_ids[8]+Play_FeedPos);if(null===a)UserLiveFeed_ResetFeedId();else{var n=JSON.parse(a.getAttribute(Main_DataAttribute))[0];Main_values.Play_selectedChannel!==n&&PlayExtra_selectedChannel!==n?(Play_SavePlayData(),Play_PreshutdownStream(!1),Main_values.Play_isHost=!1,Play_UserLiveFeedPressed=!0,Main_OpenLiveStream(Play_FeedPos,UserLiveFeed_ids,Play_handleKeyDown)):UserLiveFeed_ResetFeedId()}}}function Play_SavePlayData(){Play_selectedChannel_id_Old=Main_values.Play_selectedChannel_id,Play_IsRerun_Old=Main_values.IsRerun,Play_selectedChannel_Old=Main_values.Play_selectedChannel,Play_isHost_Old=Play_isHost,Play_DisplaynameHost_Old=Main_values.Play_DisplaynameHost,Play_selectedChannelDisplayname_Old=Main_values.Play_selectedChannelDisplayname,Play_gameSelected_Old=Main_values.Play_gameSelected,Play_SupportsSource_Old=Play_SupportsSource}function Play_RestorePlayData(){Play_HideBufferDialog(),Play_state=Play_STATE_PLAYING,Play_showWarningDialog(Main_values.Play_selectedChannelDisplayname+" "+STR_LIVE+STR_IS_OFFLINE),window.setTimeout(function(){Play_HideWarningDialog()},2e3),Main_values.Play_selectedChannel_id=Play_selectedChannel_id_Old,Play_selectedChannel_id_Old=null,Main_values.IsRerun=Play_IsRerun_Old,Main_values.Play_selectedChannel=Play_selectedChannel_Old,Play_isHost=Play_isHost_Old,Main_values.Play_DisplaynameHost=Play_DisplaynameHost_Old,Main_values.Play_selectedChannelDisplayname=Play_selectedChannelDisplayname_Old,Main_values.Play_gameSelected=Play_gameSelected_Old,Play_SupportsSource=Play_SupportsSource_Old,Main_SaveValues(),Play_updateStreamInfoStart()}function Play_handleKeyUpClear(){window.clearTimeout(PlayExtra_KeyEnterID),document.body.removeEventListener("keyup",Play_handleKeyUp),document.body.addEventListener("keydown",Play_handleKeyDown,!1)}function Play_handleKeyDown(e){if(Play_state!==Play_STATE_PLAYING)switch(e.keyCode){case KEY_RETURN:Play_ExitDialogVisible()||Play_SingleClickExit?(Play_CleanHideExit(),Play_hideChat(),PlayExtra_PicturePicture=!1,PlayExtra_selectedChannel="",Play_shutdownStream()):Play_showExitDialog()}else switch(e.keyCode){case KEY_LEFT:UserLiveFeed_isFeedShow()?Play_FeedPos&&!UserLiveFeed_loadingData&&(UserLiveFeed_FeedRemoveFocus(),Play_FeedPos--,UserLiveFeed_FeedAddFocus()):Play_isFullScreen&&!Play_isPanelShown()&&Play_isChatShown()&&!PlayExtra_PicturePicture?(Play_ChatPositions++,Play_ChatPosition(),Play_controls[Play_controlsChatPos].defaultValue=Play_ChatPositions,Play_controls[Play_controlsChatPos].setLable()):Play_isPanelShown()?(Play_clearHidePanel(),2===PlayVod_PanelY&&Play_BottomLeftRigt(1,-1),Play_setHidePanel()):Play_isEndDialogVisible()?(Play_EndTextClear(),Play_EndIconsRemoveFocus(),--Play_Endcounter<(Main_values.Play_isHost?1:2)&&(Play_Endcounter=3),Play_EndIconsAddFocus()):PlayExtra_PicturePicture&&Play_isFullScreen?(7<++Play_PicturePicturePos&&(Play_PicturePicturePos=0),Android.mSwitchPlayerPosition(Play_PicturePicturePos),Main_setItem("Play_PicturePicturePos",Play_PicturePicturePos)):Play_showPanel();break;case KEY_RIGHT:UserLiveFeed_isFeedShow()?Play_FeedPos<UserLiveFeed_GetSize()-1&&!UserLiveFeed_loadingData&&(UserLiveFeed_FeedRemoveFocus(),Play_FeedPos++,UserLiveFeed_FeedAddFocus()):!Play_isFullScreen||Play_isPanelShown()||Play_isEndDialogVisible()||PlayExtra_PicturePicture?Play_isPanelShown()?(Play_clearHidePanel(),2===PlayVod_PanelY&&Play_BottomLeftRigt(1,1),Play_setHidePanel()):Play_isEndDialogVisible()?(Play_EndTextClear(),Play_EndIconsRemoveFocus(),3<++Play_Endcounter&&(Play_Endcounter=Main_values.Play_isHost?1:2),Play_EndIconsAddFocus()):PlayExtra_PicturePicture&&Play_isFullScreen?(4<++Play_PicturePictureSize&&(Play_PicturePictureSize=2),Android.mSwitchPlayerSize(Play_PicturePictureSize),Main_setItem("Play_PicturePictureSize",Play_PicturePictureSize)):Play_showPanel():Play_controls[Play_controlsChat].enterKey(1);break;case KEY_UP:Play_isPanelShown()?(Play_clearHidePanel(),PlayVod_PanelY<2?--PlayVod_PanelY<1?PlayVod_PanelY=1:PlayVod_IconsBottonFocus():Play_BottomUpDown(1,1),Play_setHidePanel()):!UserLiveFeed_isFeedShow()&&AddUser_UserIsSet()?UserLiveFeed_ShowFeed():Play_isEndDialogVisible()?Play_EndTextClear():UserLiveFeed_isFeedShow()&&UserLiveFeed_FeedRefreshFocus();break;case KEY_DOWN:Play_isPanelShown()?(Play_clearHidePanel(),PlayVod_PanelY<2?(PlayVod_PanelY++,PlayVod_IconsBottonFocus()):Play_BottomUpDown(1,-1),Play_setHidePanel()):UserLiveFeed_isFeedShow()?UserLiveFeed_Hide():Play_isFullScreen&&Play_isChatShown()&&!PlayExtra_PicturePicture?Play_KeyChatSizeChage():Play_isEndDialogVisible()?Play_EndTextClear():PlayExtra_PicturePicture?Play_isFullScreen?(Main_IsNotBrowser&&Android.mSwitchPlayer(),PlayExtra_SwitchPlayer()):(Play_controls[Play_controlsAudio].defaultValue++,Play_controls[Play_controlsAudio].defaultValue>Play_controls[Play_controlsAudio].values.length-1&&(Play_controls[Play_controlsAudio].defaultValue=0),Play_controls[Play_controlsAudio].enterKey()):Play_showPanel();break;case KEY_ENTER:Play_isEndDialogVisible()?Play_EndDialogPressed(1):Play_isPanelShown()?(Play_clearHidePanel(),1===PlayVod_PanelY?Play_isEndDialogVisible()||Play_KeyPause(1):Play_BottomOptionsPressed(1),Play_setHidePanel()):UserLiveFeed_isFeedShow()?(document.body.removeEventListener("keydown",Play_handleKeyDown,!1),document.body.addEventListener("keyup",Play_handleKeyUp,!1),PlayExtra_clear=!1,UserLiveFeed_ResetFeedId(),PlayExtra_KeyEnterID=window.setTimeout(PlayExtra_KeyEnter,250)):Play_showPanel();break;case KEY_RETURN:Play_KeyReturn(!1);break;case KEY_PLAY:!Play_isEndDialogVisible()&&Play_isNotplaying()&&Play_KeyPause(1);break;case KEY_PAUSE:Play_isEndDialogVisible()||Play_isNotplaying()||Play_KeyPause(1);break;case KEY_PLAYPAUSE:Play_isEndDialogVisible()||Play_KeyPause(1);break;case KEY_REFRESH:Play_controls[Play_controlsChat].enterKey(1);break;case KEY_PG_UP:Play_Panelcounter=Play_controlsChatPos,Play_BottomUpDown(1,1),Play_Panelcounter=Play_controlsDefault;break;case KEY_PG_DOWN:Play_Panelcounter=Play_controlsChatPos,Play_BottomUpDown(1,-1),Play_Panelcounter=Play_controlsDefault}}var Play_controls={},Play_controlsSize=-1,Play_controlsSearch=0,Play_controlsChanelCont=1,Play_controlsGameCont=2,Play_controlsOpenVod=3,Play_controlsFallow=4,Play_controlsSpeed=5,Play_controlsQuality=6,Play_controlsQualityMini=7,Play_controlsLowLatency=8,Play_controlsAudio=9,Play_controlsChat=10,Play_controlsChatSide=11,Play_controlsChatForceDis=12,Play_controlsChatPos=13,Play_controlsChatSize=14,Play_controlsChatBright=15,Play_controlsChatFont=16,Play_controlsChatDelay=17,Play_controlsDefault=Play_controlsChat,Play_Panelcounter=Play_controlsChat;function Play_MakeControls(){Play_controls[Play_controlsSearch]={icons:"search",string:STR_SEARCH,values:null,defaultValue:null,opacity:0,enterKey:function(e){Play_ForceHidePannel(),Play_OpenSearch(e)}},Play_controls[Play_controlsChanelCont]={icons:"filmstrip",string:STR_CHANNEL_CONT,values:null,defaultValue:null,opacity:0,enterKey:function(e){Play_ForceHidePannel(),Play_OpenChannel(e)}},Play_controls[Play_controlsGameCont]={icons:"gamepad",string:STR_GAME_CONT,values:null,defaultValue:null,opacity:0,enterKey:function(e){Play_ForceHidePannel(),Play_OpenGame(e)}},Play_controls[Play_controlsOpenVod]={icons:"movie-play",string:STR_OPEN_BROADCAST,values:null,defaultValue:null,opacity:0,enterKey:function(){Play_ForceHidePannel(),PlayClip_OpenVod()}},Play_controls[Play_controlsFallow]={icons:"heart-o",string:STR_FALLOW,values:null,defaultValue:null,opacity:0,enterKey:function(e){AddCode_Channel_id=1===e?Main_values.Play_selectedChannel_id:Main_values.Main_selectedChannel_id,Play_FallowUnfallow(),Play_Resetpanel(e)},setLable:function(e,a){Main_textContent("extra_button_text"+this.position,e),this.setIcon(a)},setIcon:function(e){Main_innerHTML("controls_icon_"+this.position,'<i class="pause_button3d icon-'+(e?"heart":"heart-o")+'" style="color: #'+(e?"6441a4":"FFFFFF")+';" ></i>')}},Play_controls[Play_controlsSpeed]={icons:"speedometer",string:STR_SPEED,values:[.25,.5,.75,1,1.25,1.5,1.75,2],defaultValue:3,opacity:0,enterKey:function(){Play_CurrentSpeed=this.defaultValue,Android.setPlaybackSpeed(this.values[this.defaultValue])},updown:function(e){this.defaultValue+=e,this.defaultValue<0?this.defaultValue=0:this.defaultValue>this.values.length-1&&(this.defaultValue=this.values.length-1),this.bottomArrows(),this.setLable()},setLable:function(){Main_textContent("controls_name_"+this.position,this.values[this.defaultValue]+(1===this.values[this.defaultValue]?"x ("+STR_NORMAL+")":"x"))},bottomArrows:function(){Play_BottomArrows(this.position)}},Play_controls[Play_controlsQuality]={icons:"videocamera",string:STR_QUALITY,values:["1080p60 | Source | 10.00Mbps | avc"],defaultValue:0,opacity:0,enterKey:function(e){1===e?(Play_hidePanel(),Play_quality=Play_qualities[Play_qualityIndex].id,Play_qualityPlaying=Play_quality,Play_playingUrl=Play_qualities[Play_qualityIndex].url,Play_SetHtmlQuality("stream_quality"),Play_onPlayer()):2===e?(PlayVod_hidePanel(),PlayVod_quality=PlayVod_qualities[PlayVod_qualityIndex].id,PlayVod_qualityPlaying=PlayVod_quality,PlayVod_playingUrl=PlayVod_qualities[PlayVod_qualityIndex].url,PlayVod_SetHtmlQuality("stream_quality"),PlayVod_onPlayer()):3===e&&(PlayClip_hidePanel(),PlayClip_quality=PlayClip_qualities[PlayClip_qualityIndex].id,PlayClip_qualityPlaying=PlayClip_quality,PlayClip_playingUrl=PlayClip_qualities[PlayClip_qualityIndex].url,PlayClip_SetHtmlQuality("stream_quality"),PlayClip_onPlayer()),Play_clearPause()},updown:function(e,a){1===a?((Play_qualityIndex+=-1*e)>Play_getQualitiesCount()-1?Play_qualityIndex=Play_getQualitiesCount()-1:Play_qualityIndex<0&&(Play_qualityIndex=0),Play_qualityDisplay()):2===a?((PlayVod_qualityIndex+=-1*e)>PlayVod_getQualitiesCount()-1?PlayVod_qualityIndex=PlayVod_getQualitiesCount()-1:PlayVod_qualityIndex<0&&(PlayVod_qualityIndex=0),PlayVod_qualityDisplay()):3===a&&((PlayClip_qualityIndex+=-1*e)>PlayClip_getQualitiesCount()-1?PlayClip_qualityIndex=PlayClip_getQualitiesCount()-1:PlayClip_qualityIndex<0&&(PlayClip_qualityIndex=0),PlayClip_qualityDisplay())}},Play_controls[Play_controlsQualityMini]={icons:"videocamera",string:STR_PLAYER_RESYNC,values:[STR_PLAYER_AUTO_SMALLS,STR_PLAYER_AUTO_BIG,STR_PLAYER_AUTO_ALL],defaultValue:2,opacity:0,enterKey:function(){2===this.defaultValue?(Android.StartAuto(1,0),Android.initializePlayer2Auto()):this.defaultValue?Android.StartAuto(1,0):Android.initializePlayer2Auto(),Play_hidePanel(),this.defaultValue=2,this.bottomArrows(),this.setLable()},updown:function(e){this.defaultValue+=e,this.defaultValue<0?this.defaultValue=0:this.defaultValue>this.values.length-1&&(this.defaultValue=this.values.length-1),this.bottomArrows(),this.setLable()},setLable:function(){Main_textContent("controls_name_"+this.position,Play_controls[this.position].values[Play_controls[this.position].defaultValue])},bottomArrows:function(){Play_BottomArrows(this.position)}},Play_controls[Play_controlsLowLatency]={icons:"history",string:STR_LOW_LATENCY,values:null,defaultValue:0,opacity:0,enterKey:function(){if(Play_hidePanel(),Play_LowLatency=!Play_LowLatency,Main_IsNotBrowser){try{Android.mSetlatency(Play_LowLatency)}catch(e){}PlayExtra_PicturePicture?(Android.ResStartAuto(Play_AutoUrl,1,0),Android.ResStartAuto2(PlayExtra_AutoUrl)):(-1!==Play_quality.indexOf("Auto")&&Android.SetAuto(Play_AutoUrl),Play_onPlayer())}Play_LowLatency&&(Play_showWarningDialog(STR_FORBIDDEN),window.setTimeout(Play_HideWarningDialog,3e3)),Main_setItem("Play_LowLatency",Play_LowLatency),this.setLable()},setLable:function(){Main_textContent("extra_button_"+this.position,"("+(Play_LowLatency?STR_ENABLE:STR_DISABLE)+")")}},Play_controls[Play_controlsAudio]={icons:"sound",string:STR_AUDIO_SOURCE,values:[STR_PLAYER_AUTO_SMALLS,STR_PLAYER_AUTO_BIG,STR_PLAYER_AUTO_ALL],defaultValue:Play_controlsAudioPos,opacity:0,enterKey:function(){Android.mSwitchPlayerAudio(this.defaultValue),Play_hidePanel(),Main_setItem("Play_controlsAudioPos",Play_controlsAudioPos=this.defaultValue),this.bottomArrows(),this.setLable(),Play_SetAudioIcon()},updown:function(e){this.defaultValue+=e,this.defaultValue<0?this.defaultValue=0:this.defaultValue>this.values.length-1&&(this.defaultValue=this.values.length-1),this.bottomArrows(),this.setLable()},setLable:function(){Main_textContent("controls_name_"+this.position,Play_controls[this.position].values[Play_controls[this.position].defaultValue])},bottomArrows:function(){Play_BottomArrows(this.position)}},Play_controls[Play_controlsChat]={icons:"chat",string:STR_CHAT,values:null,defaultValue:null,opacity:0,enterKey:function(){Play_isFullScreen&&(Main_setItem("ChatEnable",(Play_ChatEnable=Play_isChatShown()||Play_isEndDialogVisible()?(Play_hideChat(),!1):(Play_showChat(),!0))?"true":"false"),this.setLable())},setLable:function(){var e=Play_isChatShown()?STR_YES:STR_NO;Play_isFullScreen||(e=Play_isFullScreen?STR_CHAT_SIDE:STR_CHAT_5050),Main_textContent("extra_button_"+this.position,"("+e+")")}},Play_controls[Play_controlsChatSide]={icons:Play_isFullScreen?"resize-down":"resize-up",string:STR_CHAT_VIDEO_MODE,values:null,defaultValue:null,opacity:0,enterKey:function(){Play_SetFullScreen(Play_isFullScreen=!Play_isFullScreen),this.setLable(),this.setIcon()},setLable:function(){var e=Play_isFullScreen?STR_CHAT_SIDE_FULL:STR_CHAT_SIDE;PlayExtra_PicturePicture&&(e=Play_isFullScreen?STR_CHAT_PP_SIDE_FULL:STR_CHAT_5050),Main_textContent("extra_button_"+this.position,"("+e+")"),Play_controls[Play_controlsChat].setLable()},setIcon:function(){var e=Play_isFullScreen?"resize-down":"resize-up";PlayExtra_PicturePicture&&(e="pp"),Main_innerHTML("controls_icon_"+this.position,'<i class="pause_button3d icon-'+e+'" ></i>')}},Play_controls[Play_controlsChatForceDis]={icons:"chat-stop",string:STR_F_DISABLE_CHAT,values:null,defaultValue:null,opacity:0,enterKey:function(e){Main_values.Play_ChatForceDisable=!Main_values.Play_ChatForceDisable,1===e?(ChatLive_Init(0),PlayExtra_PicturePicture&&!Play_isFullScreen&&ChatLive_Init(1)):Chat_Init(0),this.setLable(),Main_SaveValues()},setLable:function(){Main_textContent("extra_button_"+this.position,"("+(Main_values.Play_ChatForceDisable?STR_YES:STR_NO)+")")}},Play_controls[Play_controlsChatPos]={icons:"chat-pos",string:STR_CHAT_POS,values:[1,2,3,4,5,6,7,8],defaultValue:Play_ChatPositions,opacity:0,isChat:!0,updown:function(e){Play_isChatShown()&&Play_isFullScreen&&(this.defaultValue+=e,this.defaultValue<0?this.defaultValue=this.values.length-1:this.defaultValue>this.values.length-1&&(this.defaultValue=0),Play_ChatPositions+=e,Play_ChatPosition(),this.defaultValue=Play_ChatPositions,this.setLable())},setLable:function(){Main_textContent("controls_name_"+this.position,this.values[this.defaultValue])}},Play_controls[Play_controlsChatSize]={icons:"chat-size",string:STR_CHAT_SIZE,values:["12.5%","25%","50%","75%","100%"],defaultValue:Play_ChatSizeValue,opacity:0,isChat:!0,updown:function(e){if(Play_isChatShown()&&Play_isFullScreen){if(this.defaultValue+=e,this.defaultValue<0)this.defaultValue=0;else if(this.defaultValue>this.values.length-1)return void(this.defaultValue=this.values.length-1);this.bottomArrows(),(Play_ChatSizeValue=this.defaultValue)===Play_MaxChatSizeValue-1&&-1===e?Play_ChatPositionConvert(!1):Play_ChatSizeValue===Play_MaxChatSizeValue&&Play_ChatPositionConvert(!0),Play_ChatSize(!0),Play_controls[Play_controlsChatPos].defaultValue=Play_ChatPositions,this.setLable()}},setLable:function(){Main_textContent("controls_name_"+Play_controlsChatPos,Play_controls[Play_controlsChatPos].values[Play_controls[Play_controlsChatPos].defaultValue])},bottomArrows:function(){Play_BottomArrows(this.position)}},Play_controls[Play_controlsChatBright]={icons:"chat-brig",string:STR_CHAT_BRIGHTNESS,values:["0%","5%","10%","15%","20%","25%","30%","35%","40%","45%","50%","55%","60%","65%","70%","75%","80%","85%","90%","95%","100%"],defaultValue:Main_values.ChatBackground,opacity:0,isChat:!0,updown:function(e){Play_isChatShown()&&Play_isFullScreen&&(this.defaultValue+=e,this.defaultValue<0?this.defaultValue=0:this.defaultValue>this.values.length-1&&(this.defaultValue=this.values.length-1),Main_values.ChatBackground=this.defaultValue,Play_ChatBackground=(.05*this.defaultValue).toFixed(2),Play_ChatBackgroundChange(!1),this.setLable(),this.bottomArrows(),Main_SaveValues())},setLable:function(){Main_textContent("controls_name_"+this.position,this.values[this.defaultValue])},bottomArrows:function(){Play_BottomArrows(this.position)}},Play_controls[Play_controlsChatFont]={icons:"chat-font",string:STR_CHAT_FONT,values:["60%","80%","100%","120%","140%"],defaultValue:Main_values.Chat_font_size,opacity:0,isChat:!0,updown:function(e){Play_isChatShown()&&(this.defaultValue+=e,this.defaultValue<0?this.defaultValue=0:this.defaultValue>this.values.length-1&&(this.defaultValue=this.values.length-1),Main_values.Chat_font_size=this.defaultValue,Play_SetChatFont(),this.setLable(),this.bottomArrows(),Main_SaveValues())},setLable:function(){Main_textContent("controls_name_"+this.position,this.values[this.defaultValue])},bottomArrows:function(){Play_BottomArrows(this.position)}},Play_controls[Play_controlsChatDelay]={icons:"chat-delay",string:STR_CHAT_DELAY,values:[STR_DISABLE,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,20,25,30,45,60,90,120,150,180,240,300],defaultValue:Play_ChatDelayPosition,opacity:0,isChat:!1,updown:function(e){this.defaultValue+=e,this.defaultValue<0?this.defaultValue=0:this.defaultValue>this.values.length-1&&(this.defaultValue=this.values.length-1),Main_setItem("Play_ChatDelayPosition",Play_ChatDelayPosition=this.defaultValue),this.bottomArrows(),this.setLable()},setLable:function(){var e="";1<this.defaultValue?e=STR_SECONDS:0<this.defaultValue&&(e=STR_SECOND),Main_textContent("controls_name_"+this.position,this.values[this.defaultValue]+e)},bottomArrows:function(){Play_BottomArrows(this.position)}}}function Play_SetAudioIcon(){2===Play_controlsAudioPos?(Main_innerHTML("chat_container_sound_icon",'<i class="icon-sound strokicon" ></i>'),Main_innerHTML("chat_container2_sound_icon",'<i class="icon-sound strokicon" ></i>')):1===Play_controlsAudioPos?(Main_innerHTML("chat_container_sound_icon",'<i class="icon-sound strokicon" ></i>'),Main_innerHTML("chat_container2_sound_icon",'<i class="icon-sound-off strokicon" ></i>')):(Main_innerHTML("chat_container_sound_icon",'<i class="icon-sound-off strokicon" ></i>'),Main_innerHTML("chat_container2_sound_icon",'<i class="icon-sound strokicon" ></i>'))}function Play_IconsAddFocus(){Main_AddClass("controls_button_"+Play_Panelcounter,"progress_bar_div_focus"),document.getElementById("controls_button_text_"+Play_Panelcounter).style.opacity="1",!Play_controls[Play_Panelcounter].isChat||Play_isChatShown()&&Play_isFullScreen?Play_Panelcounter===Play_controlsChat||Play_controls[Play_Panelcounter].isChat||(document.getElementById("controls_button_text_"+Play_controlsChat).style.opacity="0"):document.getElementById("controls_button_text_"+Play_controlsChat).style.opacity="1"}function Play_IconsRemoveFocus(){Main_RemoveClass("controls_button_"+Play_Panelcounter,"progress_bar_div_focus"),document.getElementById("controls_button_text_"+Play_Panelcounter).style.opacity="0",document.getElementById("controls_button_text_"+Play_controlsChat).style.opacity="0"}function Play_KeyChatSizeChage(){Play_MaxChatSizeValue<++Play_ChatSizeValue?(Play_ChatSizeValue=0,Play_ChatPositionConvert(!1)):Play_ChatSizeValue===Play_MaxChatSizeValue&&Play_ChatPositionConvert(!0),Play_ChatSize(!0),Play_controls[Play_controlsChatSize].defaultValue=Play_ChatSizeValue,Play_controls[Play_controlsChatSize].bottomArrows(),Play_controls[Play_controlsChatSize].setLable()}function Play_BottomOptionsPressed(e){Main_ready(function(){Play_controls[Play_Panelcounter].enterKey?Play_controls[Play_Panelcounter].enterKey(e):Play_Resetpanel(e)}),Main_SaveValues()}function Play_Resetpanel(e){Play_clearHidePanel(),1===e?Play_setHidePanel():2===e?PlayVod_setHidePanel():3===e&&PlayClip_setHidePanel()}function Play_BottomUpDown(e,a){Play_controls[Play_Panelcounter].updown?Play_controls[Play_Panelcounter].updown(a,e):1===a&&(PlayVod_PanelY--,PlayVod_IconsBottonFocus())}function Play_BottomLeftRigt(e,a){Play_IconsRemoveFocus(),Play_controlsSize<(Play_Panelcounter+=a)?Play_Panelcounter=0:Play_Panelcounter<0&&(Play_Panelcounter=Play_controlsSize),"none"!==document.getElementById("controls_"+Play_Panelcounter).style.display?Play_IconsAddFocus():Play_BottomLeftRigt(e,a)}function Play_BottomArrows(e){1===Play_controls[e].values.length?(document.getElementById("control_arrow_up_"+e).style.opacity="0",document.getElementById("control_arrow_down"+e).style.opacity="0"):Play_controls[e].defaultValue?(Play_controls[e].defaultValue===Play_controls[e].values.length-1?document.getElementById("control_arrow_up_"+e).style.opacity="0.2":document.getElementById("control_arrow_up_"+e).style.opacity="1",document.getElementById("control_arrow_down"+e).style.opacity="1"):(document.getElementById("control_arrow_up_"+e).style.opacity="1",document.getElementById("control_arrow_down"+e).style.opacity="0.2"),Main_textContent("controls_name_"+e,Play_controls[e].values[Play_controls[e].defaultValue])}function Play_SetControls(){var e,a=document.getElementById("controls_holder");for(var n in Play_controls)(e=document.createElement("div")).classList.add("controls_button_holder"),e.setAttribute("id","controls_"+n),e.innerHTML='<div id="controls_button_'+n+'" class="controls_button"><div id="controls_icon_'+n+'"><i class="pause_button3d icon-'+Play_controls[n].icons+'" ></i></div></div><div id="controls_button_text_'+n+'" class="extra_button_text_holder" style="opacity: '+Play_controls[n].opacity+';"><div id="extra_button_text'+n+'" class="extra_button_text strokedeline" >'+Play_controls[n].string+'</div><div id="extra_button_'+n+'" class="extra_button_text strokedeline" >'+(Play_controls[n].values?Play_SetControlsArrows(n):STR_SPACE)+"</div></div></div>",a.appendChild(e),Play_controlsSize++,Play_controls[n].position=n,Play_controls[n].bottomArrows&&Play_BottomArrows(n),Play_controls[n].setLable&&Play_controls[n].setLable()}function Play_SetControlsArrows(e){return'<div id="controls_arrows_'+e+'" style="font-size: 50%; display: inline-block; vertical-align: middle;"><div style="display: inline-block;"><div id="control_arrow_up_'+e+'" class="up"></div><div id="control_arrow_down'+e+'" class="down"></div></div></div>&nbsp;<div id="controls_name_'+e+'" class="arrows_text">'+Play_controls[e].values[Play_controls[e].defaultValue]+"</div>"}var PlayVod_SizeClearID,PlayVod_updateStreamInfId,PlayVod_RefreshProgressBarrID,PlayVod_SaveOffsetId,PlayVod_autoUrl,PlayVod_quality="Auto",PlayVod_qualityPlaying=PlayVod_quality,PlayVod_state=0,PlayVod_streamInfoTimerId=null,PlayVod_tokenResponse=0,PlayVod_playlistResponse=0,PlayVod_playingTry=0,PlayVod_playingUrl="",PlayVod_qualities=[],PlayVod_qualityIndex=0,PlayVod_loadingDataTry=0,PlayVod_loadingDataTryMax=5,PlayVod_isOn=!1,PlayVod_Buffer=2e3,PlayVod_loadingInfoDataTry=0,PlayVod_loadingInfoDataTryMax=5,PlayVod_loadingInfoDataTimeout=1e4,Play_jumping=!1,PlayVod_addToJump=0,PlayVod_IsJumping=!1,PlayVod_jumpCount=0,PlayVod_loadingDataTimeout=2e3,PlayVod_qualitiesFound=!1,PlayVod_currentTime=0,PlayVod_VodIds={},PlayVod_VodPositions=0,PlayVod_PanelY=0,PlayVod_ProgressBaroffset=0,PlayVod_StepsCount=0,PlayVod_TimeToJump=0,PlayVod_replay=!1,PlayVod_jumpTimers=[0,10,30,60,120,300,600,900,1200,1800],PlayVod_WasSubChekd=!1;function PlayVod_Start(){Play_showBufferDialog(),Play_HideEndDialog(),Play_SupportsSource=!0,PlayVod_currentTime=0,Main_textContent("stream_live_time",""),Main_textContent("progress_bar_current_time",Play_timeS(0)),Chat_title=STR_PAST_BROA+".",Main_innerHTML("pause_button",'<div ><i class="pause_button3d icon-pause"></i> </div>'),Main_HideElement("progress_pause_holder"),Main_ShowElement("progress_bar_div"),document.getElementById("controls_"+Play_controlsOpenVod).style.display="none",document.getElementById("controls_"+Play_controlsChatDelay).style.display="none",document.getElementById("controls_"+Play_controlsLowLatency).style.display="none",PlayExtra_UnSetPanel(),Play_CurrentSpeed=3,Play_IconsResetFocus(),UserLiveFeed_Unset(),Play_ShowPanelStatus(2),PlayVod_StepsCount=0,PlayVod_jumpSteps((Play_DefaultjumpTimers=PlayVod_jumpTimers)[1]),PlayVod_state=Play_STATE_LOADING_TOKEN,PlayClip_HasVOD=!0,ChannelVod_vodOffset=0,Main_values.Play_isHost=!1,PlayClip_HideShowNext(0,0),PlayClip_HideShowNext(1,0),Main_values.vodOffset?(PlayVod_PrepareLoad(),PlayVod_updateVodInfo()):(PlayVod_updateStreamerInfoValues(),Main_innerHTML("stream_info_title",ChannelVod_title),Main_textContent("stream_info_game",""),Main_innerHTML("stream_live_time",ChannelVod_createdAt+","+STR_SPACE+ChannelVod_views),Main_textContent("stream_live_viewers",""),Main_textContent("stream_watching_time",""),Main_replaceClassEmoji("stream_info_title")),PlayVod_VodIds["#"+Main_values.ChannelVod_vodId]&&!Main_values.vodOffset?(Play_HideBufferDialog(),Play_showVodDialog()):PlayVod_PosStart()}function PlayVod_PosStart(){window.setTimeout(function(){Main_ShowElement("controls_holder"),Main_ShowElement("progress_pause_holder")},1e3),Main_textContent("progress_bar_duration",Play_timeS(ChannelVod_DurationSeconds)),Main_values.Play_WasPlaying=2,Main_SaveValues(),PlayVod_SaveOffsetId=window.setInterval(PlayVod_SaveOffset,6e4),(new Image).src=Play_IncrementView,Play_IsWarning=PlayVod_qualitiesFound=!(Play_PlayerPanelOffset=-13),PlayVod_IsJumping=!1,PlayVod_playingTry=PlayVod_playlistResponse=PlayVod_tokenResponse=PlayVod_jumpCount=0,document.addEventListener("visibilitychange",PlayVod_Resume,!1),PlayVod_WasSubChekd=!(PlayVod_isOn=!(Play_jumping=!1)),PlayVod_loadData(),Play_EndSet(2),document.body.removeEventListener("keyup",Main_handleKeyUp)}function PlayVod_PrepareLoad(){PlayVod_loadingInfoDataTry=0,PlayVod_loadingInfoDataTryMax=5,PlayVod_loadingInfoDataTimeout=1e4}function PlayVod_updateStreamerInfoValues(){Play_LoadLogo(document.getElementById("stream_info_icon"),Main_values.Main_selectedChannelLogo),Play_partnerIcon(Main_values.Main_selectedChannelDisplayname,Main_values.Main_selectedChannelPartner,!1," ["+ChannelVod_language.toUpperCase()+"]"),PlayVod_VodIds["#"+Main_values.ChannelVod_vodId]||Chat_Init(),AddUser_UserIsSet()?(AddCode_Channel_id=Main_values.Main_selectedChannel_id,AddCode_PlayRequest=!0,AddCode_CheckFallow()):Play_hideFallow()}function PlayVod_updateVodInfo(){BasexmlHttpGet("https://api.twitch.tv/kraken/videos/"+Main_values.ChannelVod_vodId,PlayVod_loadingInfoDataTimeout,2,null,PlayVod_updateVodInfoPannel,PlayVod_updateVodInfoError,!1)}function PlayVod_updateVodInfoError(){++PlayVod_loadingInfoDataTry<PlayVod_loadingInfoDataTryMax&&(PlayVod_loadingInfoDataTimeout+=2e3,PlayVod_updateVodInfo())}function PlayVod_updateVodInfoPannel(e){e=JSON.parse(e),Main_values.Main_selectedChannelPartner=e.channel.partner,Play_partnerIcon(Main_values.Main_selectedChannelDisplayname,Main_values.Main_selectedChannelPartner,!1,"["+e.channel.broadcaster_language.toUpperCase()+"]"),Main_innerHTML("stream_info_title",twemoji.parse(e.title,!1,!0)),Main_innerHTML("stream_info_game",""!==e.game&&null!==e.game?STR_STARTED+STR_PLAYING+e.game:""),Main_innerHTML("stream_live_time",STR_STREAM_ON+Main_videoCreatedAt(e.created_at)+","+STR_SPACE+Main_addCommas(e.views)+STR_VIEWS),Main_textContent("stream_live_viewers",""),Main_textContent("stream_watching_time",""),Main_textContent("progress_bar_duration",Play_timeS(ChannelVod_DurationSeconds=parseInt(e.length))),PlayVod_currentTime=1e3*Main_values.vodOffset,PlayVod_ProgresBarrUpdate(Main_values.vodOffset,ChannelVod_DurationSeconds,!0),Main_values.Main_selectedChannelDisplayname=e.channel.display_name,Main_values.Main_selectedChannelLogo=e.channel.logo,Play_LoadLogo(document.getElementById("stream_info_icon"),Main_values.Main_selectedChannelLogo),Main_values.Main_selectedChannel_id=e.channel._id,Main_values.Main_selectedChannel=e.channel.name,AddUser_UserIsSet()?(AddCode_PlayRequest=!0,AddCode_Channel_id=Main_values.Main_selectedChannel_id,AddCode_CheckFallow()):Play_hideFallow(),(new Image).src=e.increment_view_count_url}function PlayVod_Resume(){document.hidden?Play_isEndDialogVisible()?(Play_CleanHideExit(),Play_hideChat(),PlayVod_shutdownStream()):(PlayVod_SaveOffset(),PlayVod_SaveVodIds(),Play_ClearPlayer(),window.clearInterval(PlayVod_SaveOffsetId)):(PlayVod_isOn=!0,Play_clearPause(),PlayVod_isOn&&(Play_showBufferDialog(),Play_ResumeAfterOnlineCounter=0,Main_values.vodOffset=Android.getsavedtime()/1e3,navigator.onLine?PlayVod_ResumeAfterOnline():Play_ResumeAfterOnlineId=window.setInterval(PlayVod_ResumeAfterOnline,100),Play_EndSet(2),PlayVod_SaveOffsetId=window.setInterval(PlayVod_SaveOffset,6e4),window.clearInterval(Play_ShowPanelStatusId),Play_ShowPanelStatusId=window.setInterval(function(){Play_UpdateStatus(2)},1e3)))}function PlayVod_ResumeAfterOnline(e){(e||navigator.onLine||200<Play_ResumeAfterOnlineCounter)&&(window.clearInterval(Play_ResumeAfterOnlineId),PlayVod_state=Play_STATE_LOADING_TOKEN,PlayVod_loadData()),Play_ResumeAfterOnlineCounter++}function PlayVod_SaveOffset(){Main_values.vodOffset||(Main_values.vodOffset=Main_IsNotBrowser?parseInt(Android.gettime()/1e3):0,0<Main_values.vodOffset&&Main_SaveValues(),Main_values.vodOffset=0)}function PlayVod_loadData(){PlayVod_loadingDataTry=0,PlayVod_loadingDataTimeout=2e3,PlayVod_loadDataRequest()}function PlayVod_loadDataRequest(){var e;PlayVod_state===Play_STATE_LOADING_TOKEN?e="https://api.twitch.tv/api/vods/"+Main_values.ChannelVod_vodId+"/access_token?platform=_"+(AddUser_UserIsSet()&&AddUser_UsernameArray[0].access_token?"&oauth_token="+AddUser_UsernameArray[0].access_token:""):(e="https://usher.ttvnw.net/vod/"+Main_values.ChannelVod_vodId+".m3u8?&nauth="+encodeURIComponent(PlayVod_tokenResponse.token)+"&nauthsig="+PlayVod_tokenResponse.sig+"&reassignments_supported=true&playlist_include_framerate=true"+(Play_SupportsSource?"&allow_source=true":"")+(Main_vp9supported?"&preferred_codecs=vp09":"")+"&p="+Main_RandomInt(),PlayVod_autoUrl=e),BasehttpGet(e,Play_loadingDataTimeout,1,null,PlayVod_loadDataSuccess,PlayVod_loadDataError,!1)}function PlayVod_loadDataError(){if(PlayVod_isOn){var e;if(PlayVod_tokenResponse.token&&(e=JSON.parse(PlayVod_tokenResponse.token)),e&&0!==JSON.parse(PlayVod_tokenResponse.token).chansub.restricted_bitrates.length)return void PlayVod_loadDataCheckSub();++PlayVod_loadingDataTry<PlayVod_loadingDataTryMax?(PlayVod_loadingDataTimeout+=250,PlayVod_loadDataRequest()):Main_IsNotBrowser?(Play_HideBufferDialog(),Play_PlayEndStart(2)):PlayVod_loadDataSuccessFake()}}function PlayVod_loadDataSuccessFake(){PlayVod_qualities=[{id:"Auto",band:0,codec:"avc",url:"https://auto"},{id:"1080p60 | source ",band:"| 10.00Mbps",codec:" | avc",url:"https://souce"},{id:"720p60",band:" | 5.00Mbps",codec:" | avc",url:"https://720p60"},{id:"720p",band:" | 2.50Mbps",codec:" | avc",url:"https://720"},{id:"480p",band:" | 2.50Mbps",codec:" | avc",url:"https://480"},{id:"320p",band:" | 2.50Mbps",codec:" | avc",url:"https://320"}],PlayVod_state=Play_STATE_PLAYING,PlayVod_isOn&&PlayVod_qualityChanged()}function PlayVod_loadDataSuccess(e){if(PlayVod_state===Play_STATE_LOADING_TOKEN)PlayVod_tokenResponse=JSON.parse(e),PlayVod_state=Play_STATE_LOADING_PLAYLIST,PlayVod_loadData();else if(PlayVod_state===Play_STATE_LOADING_PLAYLIST){if(!Main_SupportsAvc1High&&Play_SupportsSource&&-1!==e.indexOf("avc1.640034"))return Play_SupportsSource=!1,void PlayVod_loadData();PlayVod_qualities=Play_extractQualities(PlayVod_playlistResponse=e),PlayVod_state=Play_STATE_PLAYING,Main_IsNotBrowser&&Android.SetAuto(PlayVod_autoUrl),PlayVod_isOn&&PlayVod_qualityChanged()}}function PlayVod_loadDataCheckSub(){AddUser_UserIsSet()&&AddUser_UsernameArray[0].access_token?(AddCode_Channel_id=Main_values.Main_selectedChannel_id,AddCode_CheckSub()):(Play_HideBufferDialog(),Play_showWarningDialog(STR_IS_SUB_ONLY+STR_IS_SUB_NOOAUTH),window.setTimeout(function(){PlayVod_isOn&&PlayVod_shutdownStream()},4e3))}function PlayVod_NotSub(){Play_HideBufferDialog(),Play_showWarningDialog(STR_IS_SUB_ONLY+STR_IS_SUB_NOT_SUB),window.setTimeout(function(){PlayVod_isOn&&PlayVod_shutdownStream()},4e3)}function PlayVod_isSub(){PlayVod_WasSubChekd?(Play_HideBufferDialog(),Play_showWarningDialog(STR_IS_SUB_ONLY+STR_IS_SUB_IS_SUB),window.setTimeout(function(){PlayVod_isOn&&PlayVod_shutdownStream()},4e3)):(PlayVod_WasSubChekd=!0,PlayVod_state=Play_STATE_LOADING_TOKEN,PlayVod_loadData())}function PlayVod_qualityChanged(){PlayVod_playingUrl=PlayVod_qualities[PlayVod_qualityIndex=1].url;for(var e=0;e<PlayVod_getQualitiesCount();e++){if(PlayVod_qualities[e].id===PlayVod_quality){PlayVod_playingUrl=PlayVod_qualities[PlayVod_qualityIndex=e].url;break}-1!==PlayVod_qualities[e].id.indexOf(PlayVod_quality)&&(PlayVod_playingUrl=PlayVod_qualities[PlayVod_qualityIndex=e].url)}PlayVod_quality=PlayVod_qualities[PlayVod_qualityIndex].id,PlayVod_qualityPlaying=PlayVod_quality,PlayVod_SetHtmlQuality("stream_quality"),PlayVod_onPlayer()}function PlayVod_onPlayer(){Main_isDebug&&console.log("PlayVod_onPlayer:",'\n\n"'+PlayVod_playingUrl+'"\n'),Main_IsNotBrowser&&(Main_values.vodOffset?(Chat_offset=Main_values.vodOffset,Chat_Init(),PlayVod_onPlayerStartPlay(1e3*Main_values.vodOffset),Main_values.vodOffset=0):PlayVod_onPlayerStartPlay(Android.gettime())),PlayVod_replay=!1,Play_ChatEnable&&!Play_isChatShown()&&Play_showChat(),Play_SetFullScreen(Play_isFullScreen)}function PlayVod_onPlayerStartPlay(e){PlayVod_isOn&&(-1!==PlayVod_quality.indexOf("Auto")?Android.StartAuto(2,PlayVod_replay?-1:e):Android.startVideoOffset(PlayVod_playingUrl,2,PlayVod_replay?-1:e))}function PlayVod_UpdateDuration(e){Main_textContent("progress_bar_duration",Play_timeS(ChannelVod_DurationSeconds=e/1e3)),PlayVod_RefreshProgressBarr()}function PlayVod_shutdownStream(){PlayVod_isOn&&(PlayVod_PreshutdownStream(!0),PlayVod_qualities=[],Play_exitMain())}function PlayVod_PreshutdownStream(e){e&&PlayVod_SaveVodIds(),Main_IsNotBrowser&&Android.stopVideo(2),Main_ShowElement("controls_holder"),Main_ShowElement("progress_pause_holder"),PlayVod_isOn=!1,window.clearInterval(PlayVod_SaveOffsetId),window.clearInterval(PlayVod_updateStreamInfId),Main_values.Play_WasPlaying=0,Chat_Clear(),UserLiveFeed_Hide(),Play_ClearPlayer(),PlayVod_ClearVod()}function PlayVod_ClearVod(){document.body.removeEventListener("keydown",PlayVod_handleKeyDown),document.removeEventListener("visibilitychange",PlayVod_Resume),Main_values.vodOffset=0,window.clearInterval(PlayVod_streamInfoTimerId),ChannelVod_DurationSeconds=0}function PlayVod_hidePanel(){PlayVod_IsJumping=!1,PlayVod_addToJump=PlayVod_jumpCount=0,Play_clearHidePanel(),Play_ForceHidePannel(),Main_IsNotBrowser&&PlayVod_ProgresBarrUpdate(Android.gettime()/1e3,ChannelVod_DurationSeconds,!0),Main_innerHTML("progress_bar_jump_to",STR_SPACE),document.getElementById("progress_bar_steps").style.display="none",PlayVod_quality=PlayVod_qualityPlaying,window.clearInterval(PlayVod_RefreshProgressBarrID)}function PlayVod_showPanel(e){PlayVod_RefreshProgressBarr(e),Play_clock(),Play_CleanHideExit(),window.clearInterval(PlayVod_RefreshProgressBarrID),PlayVod_RefreshProgressBarrID=window.setInterval(function(){PlayVod_RefreshProgressBarr(e)},1e3),e&&(PlayVod_IconsBottonResetFocus(),PlayVod_qualityIndexReset(),PlayVod_qualityDisplay(),-1===PlayVod_qualityPlaying.indexOf("Auto")&&PlayVod_SetHtmlQuality("stream_quality"),Play_clearHidePanel(),PlayExtra_ResetSpeed(),PlayVod_setHidePanel()),Play_ForceShowPannel()}function PlayVod_RefreshProgressBarr(e){if(Main_IsNotBrowser&&PlayVod_ProgresBarrUpdate(Android.gettime()/1e3,ChannelVod_DurationSeconds,!PlayVod_IsJumping),!Play_Status_Always_On){if(Main_IsNotBrowser&&-1!==PlayVod_qualityPlaying.indexOf("Auto")&&e){var a=Android.getVideoQuality();null!=a?Play_getVideoQuality(a):PlayVod_SetHtmlQuality("stream_quality")}Main_IsNotBrowser?Play_Status(Android.getVideoStatus()):Play_StatusFake()}}function PlayVod_IconsBottonResetFocus(){PlayVod_PanelY=1,PlayClip_EnterPos=0,PlayVod_IconsBottonFocus()}function PlayVod_IconsBottonFocus(){PlayVod_PanelY<0?PlayVod_PanelY=0:(Main_RemoveClass("pause_button","progress_bar_div_focus"),Main_RemoveClass("next_button","progress_bar_div_focus"),Main_RemoveClass("back_button","progress_bar_div_focus"),Main_RemoveClass("progress_bar_div","progress_bar_div_focus"),PlayVod_PanelY?1===PlayVod_PanelY?(PlayClip_EnterPos?1===PlayClip_EnterPos?Main_AddClass("next_button","progress_bar_div_focus"):-1===PlayClip_EnterPos&&Main_AddClass("back_button","progress_bar_div_focus"):Main_AddClass("pause_button","progress_bar_div_focus"),Play_IconsRemoveFocus(),Main_innerHTML("progress_bar_jump_to",STR_SPACE),document.getElementById("progress_bar_steps").style.display="none"):2===PlayVod_PanelY&&(Play_IconsAddFocus(),Main_innerHTML("progress_bar_jump_to",STR_SPACE),document.getElementById("progress_bar_steps").style.display="none"):(Main_AddClass("progress_bar_div","progress_bar_div_focus"),Play_IconsRemoveFocus(),PlayVod_addToJump&&(PlayVod_jumpTime(),document.getElementById("progress_bar_steps").style.display="inline-block")))}function PlayVod_setHidePanel(){Play_PanelHideID=window.setTimeout(PlayVod_hidePanel,5e3+PlayVod_ProgressBaroffset)}function PlayVod_qualityIndexReset(){for(var e=PlayVod_qualityIndex=0;e<PlayVod_getQualitiesCount();e++){if(PlayVod_qualities[e].id===PlayVod_quality){PlayVod_qualityIndex=e;break}-1!==PlayVod_qualities[e].id.indexOf(PlayVod_quality)&&(PlayVod_qualityIndex=e)}}function PlayVod_qualityDisplay(){1===PlayVod_getQualitiesCount()?(document.getElementById("control_arrow_up_"+Play_controlsQuality).style.opacity="0",document.getElementById("control_arrow_down"+Play_controlsQuality).style.opacity="0"):PlayVod_qualityIndex?PlayVod_qualityIndex===PlayVod_getQualitiesCount()-1?(document.getElementById("control_arrow_up_"+Play_controlsQuality).style.opacity="1",document.getElementById("control_arrow_down"+Play_controlsQuality).style.opacity="0.2"):(document.getElementById("control_arrow_up_"+Play_controlsQuality).style.opacity="1",document.getElementById("control_arrow_down"+Play_controlsQuality).style.opacity="1"):(document.getElementById("control_arrow_up_"+Play_controlsQuality).style.opacity="0.2",document.getElementById("control_arrow_down"+Play_controlsQuality).style.opacity="1"),PlayVod_SetHtmlQuality("controls_name_"+Play_controlsQuality)}function PlayVod_SetHtmlQuality(e){if(PlayVod_qualities[PlayVod_qualityIndex]&&PlayVod_qualities[PlayVod_qualityIndex].hasOwnProperty("id")){var a="";a=-1!==(PlayVod_quality=PlayVod_qualities[PlayVod_qualityIndex].id).indexOf("source")?PlayVod_quality.replace("source",STR_SOURCE):PlayVod_quality,Main_textContent(e,a+=-1===PlayVod_quality.indexOf("Auto")?PlayVod_qualities[PlayVod_qualityIndex].band+PlayVod_qualities[PlayVod_qualityIndex].codec:"")}}function PlayVod_getQualitiesCount(){return PlayVod_qualities.length}function PlayVod_ProgresBarrUpdate(e,a,n){Main_textContent("progress_bar_current_time",Play_timeS(e)),n&&(Play_ProgresBarrElm.style.width=e/a*100+"%")}function PlayVod_jump(){Play_clearPause(),Play_isEndDialogVisible()||(PlayVod_isOn?Main_IsNotBrowser&&(PlayVod_TimeToJump=0<PlayVod_TimeToJump?1e3*PlayVod_TimeToJump:-1,-1!==PlayVod_quality.indexOf("Auto")?Android.StartAuto(2,PlayVod_TimeToJump):Android.startVideoOffset(PlayVod_playingUrl,2,PlayVod_TimeToJump),Chat_offset=PlayVod_TimeToJump,Main_values.vodOffset=PlayVod_TimeToJump,Main_SaveValues(),Main_values.vodOffset=0):(Chat_offset=ChannelVod_vodOffset,Main_IsNotBrowser&&Android.startVideoOffset(PlayClip_playingUrl,3,0<PlayVod_TimeToJump?1e3*PlayVod_TimeToJump:-1)),PlayClip_HasVOD&&Chat_Init()),Main_innerHTML("progress_bar_jump_to",STR_SPACE),document.getElementById("progress_bar_steps").style.display="none",Main_innerHTML("pause_button",'<div ><i class="pause_button3d icon-pause"></i> </div>'),PlayVod_IsJumping=!1,PlayVod_TimeToJump=PlayVod_addToJump=PlayVod_jumpCount=0}function PlayVod_SizeClear(){PlayVod_StepsCount=PlayVod_jumpCount=0,PlayVod_jumpSteps(Play_DefaultjumpTimers[1])}function PlayVod_jumpSteps(e){PlayVod_addToJump&&!PlayVod_PanelY&&(document.getElementById("progress_bar_steps").style.display="inline-block"),60<Math.abs(e)?Main_textContent("progress_bar_steps",STR_JUMPING_STEP+e/60+STR_MINUTES):Main_textContent("progress_bar_steps",e?STR_JUMPING_STEP+e+STR_SECONDS:STR_JUMPING_STEP+Play_DefaultjumpTimers[1]+STR_SECONDS)}function PlayVod_jumpTime(){Main_textContent("progress_bar_jump_to",STR_JUMP_TIME+" ("+(PlayVod_addToJump<0?"-":"")+Play_timeS(Math.abs(PlayVod_addToJump))+")"+STR_JUMP_T0+Play_timeS(PlayVod_TimeToJump))}function PlayVod_jumpStart(e,a){var n=Main_IsNotBrowser?Android.gettime()/1e3:0;window.clearTimeout(PlayVod_SizeClearID),PlayVod_IsJumping=!0,PlayVod_jumpCount<Play_DefaultjumpTimers.length-1&&PlayVod_StepsCount++%6==0&&PlayVod_jumpCount++,PlayVod_addToJump+=Play_DefaultjumpTimers[PlayVod_jumpCount]*e,PlayVod_TimeToJump=n+PlayVod_addToJump,PlayVod_isOn&&(PlayVod_TimeToJump=10*Math.floor(PlayVod_TimeToJump/10)),a<PlayVod_TimeToJump?(PlayVod_addToJump=a-n-Play_DefaultjumpTimers[1],PlayVod_TimeToJump=n+PlayVod_addToJump,PlayVod_StepsCount=PlayVod_jumpCount=0):PlayVod_TimeToJump<0&&(PlayVod_addToJump=0-n,PlayVod_TimeToJump=PlayVod_StepsCount=PlayVod_jumpCount=0),PlayVod_jumpTime(),Play_ProgresBarrElm.style.width=PlayVod_TimeToJump/a*100+"%",PlayVod_jumpSteps(Play_DefaultjumpTimers[PlayVod_jumpCount]*e),PlayVod_SizeClearID=window.setTimeout(PlayVod_SizeClear,1e3)}function PlayVod_SaveVodIds(){var e=Main_IsNotBrowser?parseInt(Android.gettime()/1e3):0,a="#"+Main_values.ChannelVod_vodId;300<e&&e<ChannelVod_DurationSeconds-300?(PlayVod_VodIds[a]&&delete PlayVod_VodIds[a],PlayVod_VodIds[a]=e,Main_setItem("PlayVod_VodIds",JSON.stringify(PlayVod_VodIds))):ChannelVod_DurationSeconds-300<e&&PlayVod_VodIds[a]&&(delete PlayVod_VodIds[a],Main_setItem("PlayVod_VodIds",JSON.stringify(PlayVod_VodIds)))}function PlayVod_RestoreVodIds(){PlayVod_VodIds=Main_getItemJson("PlayVod_VodIds",{});var e=PlayVod_VodIdsSize();250<e&&PlayVod_CleanVodIds(e-250)}function PlayVod_VodIdsSize(){var e=0;for(var a in PlayVod_VodIds)PlayVod_VodIds.hasOwnProperty(a)&&e++;return e}function PlayVod_CleanVodIds(e){var a=0;for(var n in PlayVod_VodIds){if(!(a<e))break;delete PlayVod_VodIds[n],a++}Main_setItem("PlayVod_VodIds",JSON.stringify(PlayVod_VodIds))}function Play_showVodDialog(){Main_HideElement("controls_holder"),PlayVod_showPanel(!1),Main_textContent("stream_quality",""),Main_innerHTML("dialog_vod_saved_text",STR_FROM+Play_timeMs(1e3*PlayVod_VodIds["#"+Main_values.ChannelVod_vodId])),Main_ShowElement("dialog_vod_start")}function Play_HideVodDialog(){PlayVod_hidePanel(),Main_HideElement("dialog_vod_start"),PlayVod_IconsResetFocus(),window.setTimeout(function(){Main_ShowElement("controls_holder")},1e3)}function Play_isVodDialogShown(){return Main_isElementShowing("dialog_vod_start")}function PlayVod_IconsResetFocus(){PlayVod_IconsRemoveFocus(),PlayVod_VodPositions=0,PlayVod_IconsAddFocus()}function PlayVod_IconsAddFocus(){Main_AddClass("dialog_vod_"+PlayVod_VodPositions,"dialog_end_icons_focus")}function PlayVod_IconsRemoveFocus(){Main_RemoveClass("dialog_vod_"+PlayVod_VodPositions,"dialog_end_icons_focus")}function PlayVod_DialogPressed(e){Play_HideVodDialog(),Play_showBufferDialog(),Main_ready(function(){e?(delete PlayVod_VodIds["#"+Main_values.ChannelVod_vodId],Main_values.vodOffset=0,PlayVod_Start()):(Main_values.vodOffset=PlayVod_VodIds["#"+Main_values.ChannelVod_vodId],PlayVod_currentTime=1e3*Main_values.vodOffset,PlayVod_ProgresBarrUpdate(Main_values.vodOffset,ChannelVod_DurationSeconds,!0),PlayVod_PosStart())})}function PlayVod_handleKeyDown(e){if(PlayVod_state===Play_STATE_PLAYING||Play_isVodDialogShown())switch(e.keyCode){case KEY_LEFT:UserLiveFeed_isFeedShow()?Play_FeedPos&&!UserLiveFeed_loadingData&&(UserLiveFeed_FeedRemoveFocus(),Play_FeedPos--,UserLiveFeed_FeedAddFocus()):Play_isFullScreen&&!Play_isPanelShown()&&Play_isChatShown()?(Play_ChatPositions++,Play_ChatPosition(),Play_controls[Play_controlsChatPos].defaultValue=Play_ChatPositions,Play_controls[Play_controlsChatPos].setLable()):Play_isPanelShown()&&!Play_isVodDialogShown()?(Play_clearHidePanel(),2===PlayVod_PanelY?Play_BottomLeftRigt(2,-1):PlayVod_PanelY||(PlayVod_jumpStart(-1,ChannelVod_DurationSeconds),PlayVod_ProgressBaroffset=2500),PlayVod_setHidePanel()):Play_isVodDialogShown()?(PlayVod_IconsRemoveFocus(),PlayVod_VodPositions?PlayVod_VodPositions--:PlayVod_VodPositions++,PlayVod_IconsAddFocus()):Play_isEndDialogVisible()?(Play_EndTextClear(),Play_EndIconsRemoveFocus(),--Play_Endcounter<0&&(Play_Endcounter=3),1===Play_Endcounter&&(Play_Endcounter=0),Play_EndIconsAddFocus()):Play_isVodDialogShown()||PlayVod_showPanel(!0);break;case KEY_RIGHT:UserLiveFeed_isFeedShow()?Play_FeedPos<UserLiveFeed_GetSize()-1&&!UserLiveFeed_loadingData&&(UserLiveFeed_FeedRemoveFocus(),Play_FeedPos++,UserLiveFeed_FeedAddFocus()):!Play_isFullScreen||Play_isPanelShown()||Play_isEndDialogVisible()?Play_isPanelShown()&&!Play_isVodDialogShown()?(Play_clearHidePanel(),2===PlayVod_PanelY?Play_BottomLeftRigt(2,1):PlayVod_PanelY||(PlayVod_jumpStart(1,ChannelVod_DurationSeconds),PlayVod_ProgressBaroffset=2500),PlayVod_setHidePanel()):Play_isVodDialogShown()?(PlayVod_IconsRemoveFocus(),PlayVod_VodPositions?PlayVod_VodPositions--:PlayVod_VodPositions++,PlayVod_IconsAddFocus()):Play_isEndDialogVisible()?(Play_EndTextClear(),Play_EndIconsRemoveFocus(),3<++Play_Endcounter&&(Play_Endcounter=0),1===Play_Endcounter&&(Play_Endcounter=2),Play_EndIconsAddFocus()):Play_isVodDialogShown()||PlayVod_showPanel(!0):Play_controls[Play_controlsChat].enterKey(2);break;case KEY_UP:Play_isEndDialogVisible()?Play_EndTextClear():Play_isPanelShown()&&!Play_isVodDialogShown()?(Play_clearHidePanel(),PlayVod_PanelY<2?(PlayVod_PanelY--,PlayVod_IconsBottonFocus()):Play_BottomUpDown(2,1),PlayVod_setHidePanel()):UserLiveFeed_isFeedShow()?UserLiveFeed_isFeedShow()?UserLiveFeed_FeedRefreshFocus():Play_isVodDialogShown()||PlayVod_showPanel(!0):UserLiveFeed_ShowFeed();break;case KEY_DOWN:Play_isEndDialogVisible()?Play_EndTextClear():Play_isPanelShown()&&!Play_isVodDialogShown()?(Play_clearHidePanel(),PlayVod_PanelY<2?(PlayVod_PanelY++,PlayVod_IconsBottonFocus()):Play_BottomUpDown(2,-1),PlayVod_setHidePanel()):UserLiveFeed_isFeedShow()?UserLiveFeed_Hide():Play_isFullScreen&&Play_isChatShown()?Play_KeyChatSizeChage():Play_isVodDialogShown()||PlayVod_showPanel(!0);break;case KEY_ENTER:Play_isVodDialogShown()?PlayVod_DialogPressed(PlayVod_VodPositions):Play_isEndDialogVisible()?Play_EndDialogPressed(2):Play_isPanelShown()?(Play_clearHidePanel(),PlayVod_PanelY?1===PlayVod_PanelY?(Main_values.Play_ChatForceDisable||(Play_isNotplaying()?Chat_Play(Chat_Id):Chat_Pause()),Play_isEndDialogVisible()||Play_KeyPause(2)):Play_BottomOptionsPressed(2):PlayVod_addToJump&&PlayVod_jump(),PlayVod_setHidePanel()):UserLiveFeed_isFeedShow()?(PlayVod_PreshutdownStream(!0),Main_OpenLiveStream(Play_FeedPos,UserLiveFeed_ids,Play_handleKeyDown)):PlayVod_showPanel(!0);break;case KEY_RETURN:Play_KeyReturn(!0);break;case KEY_PLAY:!Play_isEndDialogVisible()&&Play_isNotplaying()&&(Play_KeyPause(2),Main_values.Play_ChatForceDisable||Chat_Play(Chat_Id));break;case KEY_PAUSE:Play_isEndDialogVisible()||Play_isNotplaying()||(Play_KeyPause(2),Main_values.Play_ChatForceDisable||Chat_Pause());break;case KEY_PLAYPAUSE:Main_values.Play_ChatForceDisable||(Play_isNotplaying()?Chat_Play(Chat_Id):Chat_Pause()),Play_isEndDialogVisible()||Play_KeyPause(2);break;case KEY_REFRESH:Play_controls[Play_controlsChat].enterKey(2);break;case KEY_PG_UP:Play_Panelcounter=Play_controlsChatPos,Play_BottomUpDown(2,1),Play_Panelcounter=Play_controlsDefault;break;case KEY_PG_DOWN:Play_Panelcounter=Play_controlsChatPos,Play_BottomUpDown(2,-1),Play_Panelcounter=Play_controlsDefault}else switch(e.keyCode){case KEY_RETURN:Play_ExitDialogVisible()||Play_SingleClickExit?(Play_CleanHideExit(),PlayVod_shutdownStream()):Play_showExitDialog()}}var Screens_KeyEnterID,Screens_PeriodDialogID,inUseObj={},Screens_clear=!1;function Screens_InitScreens(){console.log("InitScreens place holder")}function Screens_InitSecondaryScreens(){ScreensObj_InitLive(),ScreensObj_InitFeatured(),ScreensObj_InitAGame(),ScreensObj_InitUserHost(),ScreensObj_InitUserLive(),ScreensObj_InitClip(),ScreensObj_InitChannelClip(),ScreensObj_InitAGameClip(),ScreensObj_InitGame(),ScreensObj_InitUserGames(),ScreensObj_InitVod(),ScreensObj_InitAGameVod(),ScreensObj_InitChannelVod(),ScreensObj_InitUserVod(),ScreensObj_InitUserChannels(),ScreensObj_InitSearchGames(),ScreensObj_InitSearchLive(),ScreensObj_InitSearchChannels()}function Screens_ScreenIds(e){return[e+"_thumbdiv",e+"_img",e+"_infodiv",e+"_title",e+"_createdon",e+"_game",e+"_viewers",e+"_duration",e+"_cell","cpempty_",e+"_scroll",e+"_lang",e+"_row"]}function Screens_assign(){for(var e,a={},n=0;n<arguments.length;n+=1){var t=arguments[n],i=Object.keys(t);for(e=0;e<i.length;e+=1)a[i[e]]=t[i[e]]}return a}function Screens_init(){Main_addFocusVideoOffset=-1,Main_values.Main_Go=inUseObj.screen,inUseObj.label_init(),document.body.addEventListener("keydown",Screens_handleKeyDown,!1),Main_ShowElement(inUseObj.ids[10]),inUseObj.status?(Main_YRst(inUseObj.posY),Screens_addFocus(!0),Main_SaveValues()):Screens_StartLoad()}function Screens_exit(){Main_addFocusVideoOffset=0,inUseObj.label_exit&&inUseObj.label_exit(),document.body.removeEventListener("keydown",Screens_handleKeyDown),Main_HideElement(inUseObj.ids[10]),Main_HideWarningDialog(),Screens_ClearAnimation()}function Screens_StartLoad(){Main_showLoadDialog(),Main_empty(inUseObj.table),Main_HideWarningDialog(),inUseObj.cursor=null,inUseObj.status=!1,inUseObj.row=document.createElement("div"),inUseObj.MaxOffset=0,inUseObj.TopRowCreated=!1,inUseObj.offset=0,inUseObj.idObject={},inUseObj.Cells=[],inUseObj.FirstLoad=!0,inUseObj.itemsCount=0,inUseObj.posX=0,inUseObj.posY=0,inUseObj.row_id=0,inUseObj.currY=0,inUseObj.loadChannelOffsset=0,inUseObj.followerChannels="",inUseObj.followerChannelsDone=!1,inUseObj.coloumn_id=0,inUseObj.data=null,inUseObj.data_cursor=0,inUseObj.dataEnded=!1,Main_CounterDialogRst(),Screens_loadDataRequestStart()}function Screens_loadDataRequestStart(){Screens_loadDataPrepare(),Screens_loadDataRequest()}function Screens_loadDataPrepare(){inUseObj.loadingData=!0,inUseObj.loadingDataTry=0,inUseObj.loadingDataTimeout=3500}function Screens_loadDataRequest(){inUseObj.set_url(),Main_IsNotBrowser&&!inUseObj.itemsCount?BaseAndroidhttpGet(inUseObj.url,inUseObj.loadingDataTimeout,inUseObj.HeaderQuatity,inUseObj.token,Screens_concatenate,Screens_loadDataError):BasexmlHttpGet(inUseObj.url,inUseObj.loadingDataTimeout,inUseObj.HeaderQuatity,inUseObj.token,Screens_concatenate,Screens_loadDataError,!1)}function Screens_loadDataError(){inUseObj.loadingDataTry++,inUseObj.loadingDataTry<inUseObj.loadingDataTryMax?(inUseObj.loadingDataTimeout+=500,Screens_loadDataRequest()):Screens_loadDatafail()}function Screens_loadDatafail(){inUseObj.loadingData=!1,inUseObj.itemsCount?inUseObj.dataEnded=!0:(inUseObj.FirstLoad=!1,Main_HideLoadDialog(),Main_showWarningDialog(STR_REFRESH_PROBLEM),inUseObj.key_exit(),Main_ShowElement("topbar"),Main_ShowElement("side_panel_new_holder"))}function Screens_concatenate(e){inUseObj.concatenate(e)}function Screens_loadDataSuccess(){var e=inUseObj.data.length-inUseObj.data_cursor;if(e>inUseObj.ItemsLimit?e=inUseObj.ItemsLimit:inUseObj.loadingData||(inUseObj.dataEnded=!0),inUseObj.HasSwitches&&!inUseObj.TopRowCreated&&inUseObj.addSwitches(),e){inUseObj.row_id||(inUseObj.row=document.createElement("div"),inUseObj.row.id=inUseObj.ids[12]+inUseObj.row_id);var a=Math.ceil(e/inUseObj.ColoumnsCount),n=inUseObj.row_id+a;for(inUseObj.row_id;inUseObj.row_id<n;){for(inUseObj.coloumn_id===inUseObj.ColoumnsCount&&(inUseObj.row=document.createElement("div"),inUseObj.row.id=inUseObj.ids[12]+inUseObj.row_id,inUseObj.coloumn_id=0),inUseObj.coloumn_id;inUseObj.coloumn_id<inUseObj.ColoumnsCount&&inUseObj.data_cursor<inUseObj.data.length;inUseObj.data_cursor++)inUseObj.data[inUseObj.data_cursor]&&inUseObj.addCell(inUseObj.data[inUseObj.data_cursor]);if(inUseObj.coloumn_id===inUseObj.ColoumnsCount)inUseObj.Cells[inUseObj.row_id]=inUseObj.row,inUseObj.row_id++;else if(inUseObj.data_cursor>=inUseObj.data.length){""!==inUseObj.row.innerHTML&&(inUseObj.Cells[inUseObj.row_id]=inUseObj.row);break}}}inUseObj.emptyContent=!e&&!inUseObj.status,Screens_loadDataSuccessFinish()}function Screens_createCell(e,a,n){var t=document.createElement("div");return t.setAttribute("id",e),t.setAttribute(Main_DataAttribute,JSON.stringify(a)),t.classList.add(inUseObj.thumbclass),t.innerHTML=n,t}function Screens_createCellChannel(e,a,n){return Screens_createCell(a[8]+e,n,'<div id="'+a[0]+e+'" class="stream_thumbnail_channel" ><div class="stream_thumbnail_channel_img"><img id="'+a[1]+e+'" alt="" class="lazy stream_img" data-src="'+n[2]+'" onerror="this.onerror=null;this.src=\''+inUseObj.img_404+'\'"></div><div id="'+a[2]+e+'" class="stream_thumbnail_channel_text_holder"><div id="'+a[3]+e+'" class="stream_info_channel_name">'+n[3]+(n[4]?STR_SPACE+STR_SPACE+'</div><div class="stream_info_channel_partner_icon"><img style="width: 2ch;" alt="" src="'+IMG_PARTNER+'">':"")+"</div></div></div>")}function Screens_createCellGame(e,a,n){return Screens_createCell(a[5]+e,n[1],'<div id="'+a[0]+e+'" class="stream_thumbnail_game"><div class="stream_thumbnail_live_game"><img id="'+a[1]+e+'" class="lazy stream_img" alt="" data-src="'+n[0]+'" onerror="this.onerror=null;this.src=\''+inUseObj.img_404+'\'"></div><div id="'+a[2]+e+'" class="stream_thumbnail_game_text_holder"><div id="<div id="'+a[3]+e+'" class="stream_info_game_name">'+n[1]+"</div>"+(""!==n[2]?'<div id="'+a[4]+e+'"class="stream_info_live" style="width: 100%; display: inline-block;">'+n[2]+"</div>":"")+"</div></div>")}function Screens_createCellClip(e,a,n){var t=""!==n[2]?STR_PLAYING+n[2]:"";return Screens_createCell(a[8]+e,n,'<div id="'+a[0]+e+'" class="stream_thumbnail_live"><div class="stream_thumbnail_live_img"><img id="'+a[1]+e+'" class="lazy stream_img" alt="" data-src="'+n[13]+'" onerror="this.onerror=null;this.src=\''+inUseObj.img_404+'\'"></div><div id="'+a[2]+e+'" class="stream_thumbnail_live_text_holder"><div style="line-height: 1.6ch;"><div id="'+a[3]+e+'" class="stream_info_live_name" style="width: 72%; display: inline-block;">'+n[4]+'</div><div id="'+a[7]+e+'"class="stream_info_live" style="width:27%; float: right; text-align: right; display: inline-block;">'+n[10]+'</div></div><div id="'+a[11]+e+'"class="stream_info_live">'+n[9]+STR_BR+t+'</div><div style="line-height: 1.3ch;"><div id="'+a[6]+e+'"class="stream_info_live" style="width: auto; display: inline-block;">'+n[11]+","+STR_SPACE+n[12]+'</div><div id="'+a[5]+e+'"class="stream_info_live" style="width: 6ch; display: inline-block; float: right; text-align: right;">'+Play_timeS(n[1])+"</div></div></div></div></div>")}function Screens_createCellVod(e,a,n){return Screens_createCell(a[8]+e,n,'<div id="'+a[0]+e+'" class="stream_thumbnail_live"><div id="'+a[6]+e+'" class="stream_thumbnail_live_img" '+(n[7]?' style="width: 100%; padding-bottom: 56.25%; background-size: 0 0; background-image: url('+n[7]+');"':"")+'><img id="'+a[1]+e+'" class="lazy stream_img" alt="" data-src="'+n[0]+'" onerror="this.onerror=null;this.src=\''+inUseObj.img_404+'\'"></div><div id="'+a[2]+e+'" class="stream_thumbnail_live_text_holder"><div style="line-height: 1.6ch;"><div id="'+a[3]+e+'" class="stream_info_live_name" style="width: 72%; display: inline-block;">'+n[1]+'</div><div id="'+a[7]+e+'"class="stream_info_live" style="width:27%; float: right; text-align: right; display: inline-block;">'+n[5]+'</div></div><div id="'+a[11]+e+'"class="stream_info_live">'+n[3]+'</div><div style="line-height: 1.3ch;"><div id="'+a[4]+e+'"class="stream_info_live" style="width: auto; display: inline-block;">'+n[2]+","+STR_SPACE+n[4]+'</div><div id="'+a[5]+e+'"class="stream_info_live" style="width: 9ch; display: inline-block; float: right; text-align: right;">'+Play_timeS(n[6])+"</div></div></div></div>")}function Screens_createCellLive(e,a,n,t){var i=-1!==t[1].indexOf(STR_USER_HOSTING);return Screens_createCell(n[8]+e,a,'<div id="'+n[0]+e+'" class="stream_thumbnail_live"><div class="stream_thumbnail_live_img"><img id="'+n[1]+e+'" class="lazy stream_img" alt="" data-src="'+t[0]+Main_randomimg+'" onerror="this.onerror=null;this.src=\''+inUseObj.img_404+'\'"></div><div id="'+n[2]+e+'" class="stream_thumbnail_live_text_holder"><div style="line-height: 1.6ch;"><div id="'+n[3]+e+'" class="stream_info_live_name" style="width:'+(i?99:66)+'%; display: inline-block;"><i class="icon-'+(a[2]?"refresh":"circle")+' live_icon strokedeline" style="color: '+(a[2]?"#FFFFFF":i?"#FED000":"red")+';"></i> '+t[1]+'</div><div id="'+n[7]+e+'"class="stream_info_live" style="width:'+(i?0:33)+'%; float: right; text-align: right; display: inline-block;">'+t[5]+'</div></div><div id="'+n[4]+e+'"class="stream_info_live">'+twemoji.parse(t[2])+'</div><div id="'+n[5]+e+'"class="stream_info_live">'+(""!==t[3]?STR_PLAYING+t[3]:"")+'</div><div id="'+n[6]+e+'"class="stream_info_live">'+t[4]+"</div></div></div>")}function Screens_loadDataSuccessFinish(){if(inUseObj.status)Main_CounterDialog(inUseObj.posX,inUseObj.posY,inUseObj.ColoumnsCount,inUseObj.itemsCount);else{if(Main_values.Main_Go===Main_aGame&&AGame_Checkfallow(),inUseObj.emptyContent)Main_showWarningDialog(inUseObj.empty_str());else{inUseObj.status=!0;for(var e=document.getElementById(inUseObj.table),a=0;a<(inUseObj.Cells.length<inUseObj.visiblerows?inUseObj.Cells.length:inUseObj.visiblerows);a++)e.appendChild(inUseObj.Cells[a])}inUseObj.FirstLoad=!1,Main_FirstRun?(Main_values.Never_run_new&&(Main_GoBefore=Main_Live,Main_values.Play_WasPlaying=!1),Settings_value.restor_playback.defaultValue&&Main_values.Play_WasPlaying&&inUseObj.status?(Main_ExitCurrent(Main_values.Main_Go),Main_values.Main_Go=Main_GoBefore,Main_values.vodOffset||(Main_values.vodOffset=1),ChannelVod_DurationSeconds=Main_values.vodOffset+1,Play_showWarningDialog(STR_RESTORE_PLAYBACK_WARN),Main_ready(function(){1===Main_values.Play_WasPlaying?Main_openStream():Main_openVod(),Main_SwitchScreen(!0),window.setTimeout(function(){Play_IsWarning||Play_HideWarningDialog()},2e3),Screens_loadDataSuccessFinishEnd()})):Main_GoBefore!==Main_Live&&Main_GoBefore!==Main_addUser&&Main_GoBefore!==Main_Search?(Main_HideElement(inUseObj.ids[10]),Main_ready(function(){Main_ExitCurrent(Main_values.Main_Go),Main_values.Main_Go=Main_GoBefore,Main_removeFocus(inUseObj.posY+"_"+inUseObj.posX,inUseObj.ids),Main_SwitchScreenAction(),Main_newUsercode?(Main_FirstRun=!1,Main_HideLoadDialog()):Screens_loadDataSuccessFinishEnd()})):Main_ready(function(){Main_values.Search_isSearching=!1,Main_values.Main_BeforeChannelisSet=!1,Main_values.Main_BeforeAgameisSet=!1,Main_values.Never_run_new&&(Main_showControlsDialog(),document.body.removeEventListener("keydown",Screens_handleKeyDown),document.body.addEventListener("keydown",Screens_handleKeyControls,!1)),Screens_addFocus(!(Main_values.Never_run_new=!1)),Main_SaveValues(),Screens_loadDataSuccessFinishEnd()})):(Screens_addFocus(!0),Main_SaveValues(),Screens_loadDataSuccessFinishEnd())}}function Screens_handleKeyControls(e){switch(e.keyCode){case KEY_ENTER:case KEY_RETURN:Main_HideControlsDialog(),Main_HideAboutDialog(),document.body.addEventListener("keydown",Screens_handleKeyDown,!1),document.body.removeEventListener("keydown",Screens_handleKeyControls),Screens_addFocus(!0)}}function Screens_loadDataSuccessFinishEnd(){Main_FirstRun=!1,Main_HideLoadDialog(),Main_ShowElement("topbar"),Main_ShowElement("side_panel_new_holder"),Main_values.Sidepannel_IsUser?Sidepannel_SetUserLables():Sidepannel_SetDefaultLables(),Sidepannel_SetTopOpacity(Main_values.Main_Go)}function Screens_addFocus(e){if(inUseObj.emptyContent){if(!inUseObj.HasSwitches)return void inUseObj.key_exit(inUseObj.emptyContent);inUseObj.posY=-1}if(inUseObj.posY<0)return Screens_addFocusFallow(),void(inUseObj.emptyContent||Main_CounterDialog(inUseObj.posX,inUseObj.posY+1,inUseObj.ColoumnsCount,inUseObj.itemsCount));2<inUseObj.posY&&inUseObj.data_cursor+Main_ItemsLimitMax>inUseObj.data.length&&!inUseObj.dataEnded&&!inUseObj.loadingData?Screens_loadDataRequestStart():inUseObj.posY+inUseObj.ItemsReloadLimit>inUseObj.itemsCount/inUseObj.ColoumnsCount&&inUseObj.data_cursor<inUseObj.data.length&&inUseObj.loadDataSuccess(),inUseObj.addrow(e,inUseObj.posY),lazyLoadInstance.update()}function Screens_ThumbNotNull(e){return null!==document.getElementById(e)}function Screens_addrow(e,a){if(inUseObj.currY<a)inUseObj.currY=inUseObj.posY,Screens_addrowDown(a);else if(inUseObj.currY>a&&(inUseObj.currY=inUseObj.posY,inUseObj.Cells.length>a+3&&a)){var n=document.getElementById(inUseObj.table);n.insertBefore(inUseObj.Cells[a-1],n.childNodes[inUseObj.HasSwitches?1:0]),Screens_ThumbNotNull(inUseObj.ids[12]+(a+4))&&document.getElementById(inUseObj.ids[12]+(a+4)).remove()}Screens_addrowEnd(e)}function Screens_addrowDown(e){inUseObj.Cells[e+3]?(document.getElementById(inUseObj.table).appendChild(inUseObj.Cells[e+3]),Screens_ThumbNotNull(inUseObj.ids[12]+(e-2))&&document.getElementById(inUseObj.ids[12]+(e-2)).remove()):inUseObj.loadingData&&window.setTimeout(function(){Screens_addrowDown(e)},10)}function Screens_addrowChannel(e,a){if(inUseObj.currY<a)inUseObj.currY=inUseObj.posY,2<a&&Screens_addrowChannelDown(a);else if(inUseObj.currY>a&&(inUseObj.currY=inUseObj.posY,1<a&&inUseObj.Cells.length>a+3)){var n=document.getElementById(inUseObj.table);n.insertBefore(inUseObj.Cells[a-2],n.childNodes[inUseObj.HasSwitches?1:0]),Screens_ThumbNotNull(inUseObj.ids[12]+(a+3))&&document.getElementById(inUseObj.ids[12]+(a+3)).remove()}Screens_addrowEnd(e)}function Screens_addrowChannelDown(e){inUseObj.Cells[e+2]?(document.getElementById(inUseObj.table).appendChild(inUseObj.Cells[e+2]),Screens_ThumbNotNull(inUseObj.ids[12]+(e-3))&&document.getElementById(inUseObj.ids[12]+(e-3)).remove()):inUseObj.loadingData&&window.setTimeout(function(){Screens_addrowChannelDown(e)},10)}function Screens_addrowEnd(e){Main_AddClass(inUseObj.ids[0]+inUseObj.posY+"_"+inUseObj.posX,Main_classThumb),Main_CounterDialog(inUseObj.posX,inUseObj.posY,inUseObj.ColoumnsCount,inUseObj.itemsCount),inUseObj.addFocus(inUseObj.posY,inUseObj.posX,inUseObj.ids,e)}function Screens_addFocusVideo(e,a,n,t){Main_YchangeAddFocus(e)||t?0<e?Main_ThumbNull(e+1,0,n[0])?Main_ScrollTableCalc(n[10],-1*document.getElementById(n[0]+e+"_"+a).offsetTop,8.4):Main_handleKeyUp():Main_ScrollTable(n[10],0):Main_handleKeyUp()}function Screens_addFocusChannel(e,a,n,t){Main_YchangeAddFocus(e)||t?1<e?Main_ThumbNull(e+1,0,n[0])?Main_ScrollTableCalc(n[10],-1*document.getElementById(n[0]+e+"_"+a).offsetTop,39):Main_handleKeyUp():Main_ScrollTable(n[10],0):Main_handleKeyUp()}function Screens_addFocusGame(e,a,n,t){Main_YchangeAddFocus(e)||t?(inUseObj.posY<inUseObj.Cells.length-1||t)&&Main_ScrollTableCalc(n[10],-1*document.getElementById(n[5]+e+"_"+a).offsetTop,4.5):inUseObj.Cells.length-1===e&&Main_ThumbNull(e-1,a,n[0])?Main_ScrollTableCalc(n[10],-1*document.getElementById(n[5]+(e-1)+"_"+a).offsetTop,4.5):Main_handleKeyUp()}function Screens_ChangeFocus(e,a){Main_removeFocus(inUseObj.posY+"_"+inUseObj.posX,inUseObj.ids),Screens_ClearAnimation(),inUseObj.posY+=e,inUseObj.posX=a,Screens_addFocus()}function Screens_addFocusFallow(){inUseObj.posX>inUseObj.SwitchesIcons.length-1?inUseObj.posX=0:inUseObj.posX<0&&(inUseObj.posX=inUseObj.SwitchesIcons.length-1),Main_AddClass(inUseObj.ids[0]+"y_"+inUseObj.posX,"stream_switch_focused")}function Screens_removeFocusFallow(){inUseObj.posX>inUseObj.SwitchesIcons.length-1?inUseObj.posX=0:inUseObj.posX<0&&(inUseObj.posX=inUseObj.SwitchesIcons.length-1),Main_RemoveClass(inUseObj.ids[0]+"y_"+inUseObj.posX,"stream_switch_focused")}function Screens_BasicExit(e){Main_isControlsDialogShown()?Main_HideControlsDialog():Main_isAboutDialogShown()?Main_HideAboutDialog():(e===inUseObj.screen?Main_values.Main_Go=Main_Live:Main_values.Main_Go=e,Screens_exit())}function Screens_KeyUpDown(e){if(!inUseObj.HasSwitches||inUseObj.posY||-1!==e||inUseObj.emptyContent){if(inUseObj.HasSwitches&&-1===inUseObj.posY&&Main_ThumbNull(0,inUseObj.posX,inUseObj.ids[0]))inUseObj.posY=0,Screens_addFocus(),Screens_removeFocusFallow();else for(var a=0;a<inUseObj.ColoumnsCount;a++)if(Main_ThumbNull(inUseObj.posY+e,inUseObj.posX-a,inUseObj.ids[0]))return void Screens_ChangeFocus(e,inUseObj.posX-a)}else Main_removeFocus(inUseObj.posY+"_"+inUseObj.posX,inUseObj.ids),Screens_ClearAnimation(),inUseObj.posY=-1,inUseObj.posX>inUseObj.SwitchesIcons.length-1&&(inUseObj.posX=1),Screens_addFocusFallow()}function Screens_ClearAnimation(){inUseObj.HasAnimateThumb&&(window.clearInterval(inUseObj.AnimateThumbId),Screens_ThumbNotNull(inUseObj.ids[6]+inUseObj.posY+"_"+inUseObj.posX)&&Main_ShowElement(inUseObj.ids[6]+inUseObj.posY+"_"+inUseObj.posX))}function Screens_KeyLeftRight(e,a){inUseObj.HasSwitches&&-1===inUseObj.posY?(inUseObj.posY=-1,Screens_removeFocusFallow(),inUseObj.posX+=a?-1:1,Screens_addFocusFallow()):Main_ThumbNull(inUseObj.posY,inUseObj.posX+e,inUseObj.ids[0])?Screens_ChangeFocus(0,inUseObj.posX+e):Main_ThumbNull(inUseObj.posY+e,a,inUseObj.ids[0])&&Screens_ChangeFocus(e,a)}function Screens_OpenSidePanel(){Main_values.Main_Go===Main_aGame&&(Main_values.Main_OldgameSelected=Main_values.Main_gameSelected),Screens_ClearAnimation(),document.body.removeEventListener("keydown",Screens_handleKeyDown),Sidepannel_Start(Screens_handleKeyDown)}function Screens_handleKeyUp(e){e.keyCode===KEY_ENTER&&(Screens_handleKeyUpClear(),Screens_clear||inUseObj.key_play())}function Screens_handleKeyUpClear(){window.clearTimeout(Screens_KeyEnterID),document.body.removeEventListener("keyup",Screens_handleKeyUp),document.body.addEventListener("keydown",Screens_handleKeyDown,!1)}function Screens_handleKeyDown(e){if(!inUseObj.FirstLoad&&!Main_CantClick())switch(Main_keyClickDelayStart(),e.keyCode){case KEY_RETURN:inUseObj.loadingData||inUseObj.key_exit();break;case KEY_LEFT:if(inUseObj.loadingData)break;inUseObj.posX?Screens_KeyLeftRight(-1,inUseObj.ColoumnsCount-1):Screens_OpenSidePanel();break;case KEY_RIGHT:inUseObj.dataEnded||inUseObj.posX<inUseObj.ColoumnsCount-1||inUseObj.Cells.length-1>=inUseObj.posY+3?Screens_KeyLeftRight(1,0):Screens_addFocus(!0);break;case KEY_UP:Screens_KeyUpDown(-1);break;case KEY_DOWN:inUseObj.dataEnded||inUseObj.Cells.length-1>=inUseObj.posY+3?Screens_KeyUpDown(1):Screens_addFocus(!0);break;case KEY_PLAY:case KEY_PAUSE:case KEY_PLAYPAUSE:case KEY_ENTER:document.body.removeEventListener("keydown",Screens_handleKeyDown,!1),document.body.addEventListener("keyup",Screens_handleKeyUp,!1),Screens_clear=!1,Screens_KeyEnterID=window.setTimeout(Main_ReloadScreen,500);break;case KEY_REFRESH:Main_ReloadScreen()}}function AGame_headerOptions(){inUseObj.posX?1===inUseObj.posX?(Main_values.Main_Go=Main_AGameClip,Main_values.Main_OldgameSelected=Main_values.Main_gameSelected,AGame_headerOptionsExit(),Main_SwitchScreenAction()):AGame_fallow():(Main_values.Main_Go=Main_AGameVod,Main_values.Main_OldgameSelected=Main_values.Main_gameSelected,AGame_headerOptionsExit(),Main_SwitchScreenAction())}function AGame_headerOptionsExit(){inUseObj.status&&-1===inUseObj.posY&&(Screens_removeFocusFallow(),inUseObj.posY=0,inUseObj.posX=0,Main_AddClass(inUseObj.ids[0]+"0_"+inUseObj.posX,Main_classThumb)),document.body.removeEventListener("keydown",Screens_handleKeyDown),Main_HideElement(inUseObj.ids[10])}function AGame_fallow(){AddUser_UserIsSet()&&AddUser_UsernameArray[0].access_token?AGame_fallowing?AddCode_UnFallowGame():AddCode_FallowGame():(Main_showWarningDialog(STR_NOKEY_WARN),window.setTimeout(function(){inUseObj.emptyContent&&Main_values.Main_Go===Main_aGame?Main_showWarningDialog(STR_NO+STR_LIVE_GAMES):Main_HideWarningDialog()},2e3))}function AGame_Checkfallow(){AddUser_UserIsSet()?AddCode_CheckFallowGame():(AGame_fallowing=!1,AGame_setFallow())}function AGame_setFallow(){Main_innerHTML(AGame.ids[3]+"y_2",AGame_fallowing?'<i class="icon-heart" style="color: #6441a4; font-size: 100%;"></i>'+STR_SPACE+STR_SPACE+STR_FALLOWING:'<i class="icon-heart-o" style="color: #FFFFFF; font-size: 100%; "></i>'+STR_SPACE+STR_SPACE+(AddUser_UserIsSet()?STR_FALLOW:STR_NOKEY))}var Screens_OffSetDialogID,Screens_PeriodDialogPos=0;function Screens_PeriodStart(){Screens_setPeriodDialog(),Main_ShowElement("dialog_period"),document.body.removeEventListener("keydown",Screens_handleKeyDown),document.body.addEventListener("keydown",Screens_PeriodhandleKeyDown,!1)}function Screens_clearPeriodDialogId(){window.clearTimeout(Screens_PeriodDialogID)}function Screens_SetPeriodDialogId(){window.clearTimeout(Screens_PeriodDialogID),Screens_PeriodDialogID=window.setTimeout(Screens_PeriodDialogHide,6e3)}function Screens_setPeriodDialog(){Screens_PeriodAddFocus(Screens_PeriodDialogPos=inUseObj.periodPos),Screens_SetPeriodDialogId()}function Screens_PeriodDialogHide(){Screens_clearPeriodDialogId(),Screens_PeriodRemoveFocus(Screens_PeriodDialogPos),document.body.removeEventListener("keydown",Screens_PeriodhandleKeyDown,!1),document.body.addEventListener("keydown",Screens_handleKeyDown,!1),Main_HideElement("dialog_period")}function Screens_PeriodAddFocus(e){Main_AddClass("dialog_period_"+e,"button_dialog_focused")}function Screens_PeriodRemoveFocus(e){Main_RemoveClass("dialog_period_"+e,"button_dialog_focused")}function Screens_PeriodhandleKeyDown(e){switch(e.keyCode){case KEY_RETURN:Screens_PeriodRemoveFocus(Screens_PeriodDialogPos),Screens_PeriodDialogHide();break;case KEY_LEFT:Screens_clearPeriodDialogId(),Screens_SetPeriodDialogId(),Screens_PeriodRemoveFocus(Screens_PeriodDialogPos),--Screens_PeriodDialogPos<1&&(Screens_PeriodDialogPos=4),Screens_PeriodAddFocus(Screens_PeriodDialogPos);break;case KEY_RIGHT:Screens_clearPeriodDialogId(),Screens_SetPeriodDialogId(),Screens_PeriodRemoveFocus(Screens_PeriodDialogPos),4<++Screens_PeriodDialogPos&&(Screens_PeriodDialogPos=1),Screens_PeriodAddFocus(Screens_PeriodDialogPos);break;case KEY_PLAY:case KEY_PAUSE:case KEY_PLAYPAUSE:case KEY_ENTER:Screens_PeriodDialogHide(),inUseObj.periodPos!==Screens_PeriodDialogPos&&(inUseObj.periodPos=Screens_PeriodDialogPos,inUseObj.SetPeriod(),Screens_StartLoad())}}function Screens_OffSetStart(){inUseObj.OffSetPos=inUseObj.extraoffset/100,Screens_setOffSetDialog(),Main_ShowElement("dialog_OffSet"),document.body.removeEventListener("keydown",Screens_handleKeyDown),document.body.addEventListener("keydown",Screens_OffSethandleKeyDown,!1)}function Screens_clearOffSetDialogId(){window.clearTimeout(Screens_OffSetDialogID)}function Screens_SetOffSetDialogId(){window.clearTimeout(Screens_OffSetDialogID),Screens_OffSetDialogID=window.setTimeout(Screens_OffSetDialogHide,6e3)}function Screens_setOffSetDialog(){Screens_OffSetAddFocus(100*inUseObj.OffSetPos),Screens_SetOffSetDialogId()}function Screens_OffSetDialogHide(){Screens_clearOffSetDialogId(),document.body.removeEventListener("keydown",Screens_OffSethandleKeyDown,!1),document.body.addEventListener("keydown",Screens_handleKeyDown,!1),Main_HideElement("dialog_OffSet")}function Screens_OffSetAddFocus(e){Main_textContent("dialog_OffSet_val",e),0<e&&e<5e3?(document.getElementById("dialog_OffSet_left").style.opacity="1",document.getElementById("dialog_OffSet_right").style.opacity="1"):5e3===e?(document.getElementById("dialog_OffSet_left").style.opacity="1",document.getElementById("dialog_OffSet_right").style.opacity="0.2"):(document.getElementById("dialog_OffSet_left").style.opacity="0.2",document.getElementById("dialog_OffSet_right").style.opacity="1")}function Screens_OffSethandleKeyDown(e){switch(e.keyCode){case KEY_RETURN:Screens_OffSetDialogHide();break;case KEY_LEFT:Screens_clearOffSetDialogId(),Screens_SetOffSetDialogId(),inUseObj.OffSetPos--,inUseObj.OffSetPos<0&&(inUseObj.OffSetPos=0),Screens_OffSetAddFocus(100*inUseObj.OffSetPos);break;case KEY_RIGHT:Screens_clearOffSetDialogId(),Screens_SetOffSetDialogId(),inUseObj.OffSetPos++,50<inUseObj.OffSetPos&&(inUseObj.OffSetPos=50),Screens_OffSetAddFocus(100*inUseObj.OffSetPos);break;case KEY_PLAY:case KEY_PAUSE:case KEY_PLAYPAUSE:case KEY_ENTER:Screens_OffSetDialogHide(),inUseObj.extraoffset!==inUseObj.OffSetPos&&(inUseObj.extraoffset=100*inUseObj.OffSetPos,inUseObj.SetPeriod(),Screens_StartLoad())}}var Clip,ChannelClip,AGameClip,Game,UserGames,Live,Featured,AGame,Vod,AGameVod,UserVod,ChannelVod,UserHost,UserLive,UserChannels,SearchGames,SearchLive,SearchChannels,Main_ItemsLimitMax=100,ChannelClip_game="",ChannelClip_views="",ChannelClip_title="",ChannelClip_playUrl="",ChannelClip_createdAt="",ChannelClip_language="",ChannelVod_vodOffset=0,ChannelVod_DurationSeconds=0,ChannelVod_language="",ChannelVod_createdAt="",ChannelVod_views="",ChannelVod_Duration="",ChannelVod_title="",Vod_DoAnimateThumb=1,AGame_fallowing=!1,Base_obj={posX:0,posY:0,currY:0,row_id:0,coloumn_id:0,dataEnded:!1,idObject:{},loadingData:!1,itemsCount:0,loadingDataTryMax:5,loadingDataTimeout:3500,MaxOffset:0,offset:0,visiblerows:4,status:!1,emptyContent:!1,itemsCountCheck:!1,FirstLoad:!1,row:0,data:null,token:null,data_cursor:0,loadDataSuccess:Screens_loadDataSuccess,addrow:Screens_addrow,key_exit:function(e){Main_ThumbNull(this.posY,this.posX,this.ids[0])?Main_removeFocus(this.posY+"_"+this.posX,this.ids):this.posY<0&&(Screens_removeFocusFallow(),this.posY=0),this.screen!==Main_aGame||e?this.screen!==Main_SearchLive&&this.screen!==Main_SearchGames&&this.screen!==Main_SearchChannels||e?this.screen!==Main_AGameClip&&this.screen!==Main_AGameVod||e?this.screen!==Main_ChannelClip&&this.screen!==Main_ChannelVod||e?Screens_OpenSidePanel():(Screens_BasicExit(Main_ChannelContent),Main_SwitchScreenAction()):(Screens_BasicExit(Main_aGame),Main_SwitchScreenAction()):(Main_values.Main_Go===Main_values.Main_BeforeSearch?Main_values.Main_Go=Main_Live:Main_values.Main_Go=Main_values.Main_BeforeSearch,Main_values.Search_isSearching=!1,Screens_BasicExit(Main_values.Main_Go),Main_SwitchScreenAction()):(Main_values.Games_return?(Main_values.Main_Go=Main_SearchGames,Main_values.Main_gameSelected=Main_values.gameSelectedOld,Main_values.gameSelectedOld=null):(Main_values.Main_Go=Main_values.Main_BeforeAgame,Main_values.Main_BeforeAgame=Main_games),Screens_BasicExit(Main_values.Main_Go),Main_SwitchScreenAction())},concatenate:function(e){this.data?((e=JSON.parse(e))[this.object]&&(this.data=this.data.concat(e[this.object]),this.offset=this.data.length),this.setMax(e)):(e=JSON.parse(e),this.data=e[this.object],this.data?(this.offset=this.data.length,this.setMax(e)):this.data=[],this.loadDataSuccess()),this.loadingData=!1}},Base_Vod_obj={ItemsLimit:Main_ItemsLimitVideo,ColoumnsCount:Main_ColoumnsCountVideo,ItemsReloadLimit:Main_ItemsReloadLimitVideo,thumbclass:"stream_thumbnail_live_holder",addFocus:function(e,a,n,t){this.AnimateThumb(this),Screens_addFocusVideo(e,a,n,t)},setMax:function(e){e[this.object].length<Main_ItemsLimitMax-5&&(this.dataEnded=!0)},img_404:IMG_404_VIDEO,HasSwitches:!0,period:["day","week","month","all"],empty_str:function(){return STR_NO+(this.highlight?STR_PAST_HIGHL:STR_PAST_BROA)},AnimateThumbId:null,HasAnimateThumb:!0,Vod_newImg:new Image,AnimateThumb:function(a){if(window.clearInterval(this.AnimateThumbId),Vod_DoAnimateThumb){var n=document.getElementById(this.ids[6]+this.posY+"_"+this.posX);this.Vod_newImg.onload=function(){this.onload=null,Main_HideElement(a.ids[1]+a.posY+"_"+a.posX),n.style.backgroundSize=n.offsetWidth+"px";var e=0;a.AnimateThumbId=window.setInterval(function(){n.style.backgroundPosition="0px "+ ++e%10*-n.offsetHeight+"px"},650)},this.Vod_newImg.src=n.style.backgroundImage.replace(/url\(['"]?(.*?)['"]?\)/i,"$1")}},addCellBase:function(e,a){this.idObject[e._id]||-1!==(a+"").indexOf("404_processing")||(this.itemsCount++,this.idObject[e._id]=1,this.row.appendChild(Screens_createCellVod(this.row_id+"_"+this.coloumn_id,this.ids,[a.replace("{width}x{height}",Main_VideoSize),e.channel.display_name,STR_STREAM_ON+Main_videoCreatedAt(e.created_at),twemoji.parse(e.title)+STR_BR+(""!==e.game&&null!==e.game?STR_STARTED+STR_PLAYING+e.game:""),Main_addCommas(e.views)+STR_VIEWS,Main_videoqualitylang(e.resolutions.chunked.slice(-4),parseInt(e.fps.chunked)||0,e.channel.broadcaster_language),e.length,e.animated_preview_url,e._id,e.channel.broadcaster_language,e.game,e.channel.name,e.increment_view_count_url,e.channel._id,e.channel.logo,e.channel.partner])),this.coloumn_id++)},addCell:function(e){this.addCellBase(e,e.preview.template)}};function ScreensObj_InitVod(){Vod=Screens_assign(Vod=Screens_assign({periodMaxPos:4,HeaderQuatity:2,object:"vods",ids:Screens_ScreenIds("Vod"),table:"stream_table_vod",screen:Main_Vod,highlightSTR:"Vod_highlight",highlight:Main_getItemBool("Vod_highlight",!1),periodPos:Main_getItemInt("vod_periodPos",2),base_url:"https://api.twitch.tv/kraken/videos/top?limit="+Main_ItemsLimitMax,set_url:function(){this.url=this.base_url+"&broadcast_type="+(this.highlight?"highlight":"archive")+"&sort=views&offset="+this.offset+"&period="+this.period[this.periodPos-1]+(""!==Main_ContentLang?"&language="+Main_ContentLang:"")},key_play:function(){-1===this.posY?0===this.posX?(this.highlight=!this.highlight,this.SetPeriod(),Screens_StartLoad(),Main_setItem(this.highlightSTR,this.highlight?"true":"false")):Screens_PeriodStart():Main_OpenVod(this.posY+"_"+this.posX,this.ids,Screens_handleKeyDown)},SwitchesIcons:["movie-play","history"],addSwitches:function(){this.TopRowCreated=!0,this.row=document.createElement("div");for(var e,a,n=[STR_SPACE+STR_SPACE+STR_SWITCH_VOD,STR_SPACE+STR_SPACE+STR_SWITCH_CLIP],t=0;t<n.length;t++)e='<i class="icon-'+this.SwitchesIcons[t]+' stream_channel_fallow_icon"></i>'+n[t],(a=document.createElement("div")).setAttribute("id",this.ids[8]+"y_"+t),a.className="stream_cell_period",a.innerHTML='<div id="'+this.ids[0]+"y_"+t+'" class="stream_thumbnail_channel_vod" ><div id="'+this.ids[3]+"y_"+t+'" class="stream_channel_fallow_game">'+e+"</div></div>",this.row.appendChild(a);document.getElementById(this.table).appendChild(this.row)},label_init:function(){Sidepannel_SetDefaultLables(),Main_values.Sidepannel_IsUser=!1,Sidepannel_SetTopOpacity(this.screen),this.SetPeriod()},SetPeriod:function(){Main_setItem("vod_periodPos",this.periodPos),ScreensObj_SetTopLable(STR_VIDEOS,(this.highlight?STR_PAST_HIGHL:STR_PAST_BROA)+STR_SPACE+Main_Periods[this.periodPos-1])}},Base_obj),Base_Vod_obj)}function ScreensObj_InitChannelVod(){(ChannelVod=Screens_assign(ChannelVod=Screens_assign({periodMaxPos:2,HeaderQuatity:2,object:"videos",ids:Screens_ScreenIds("ChannelVod"),table:"stream_table_channel_vod",screen:Main_ChannelVod,time:["time","views"],extraoffset:0,OffSetPos:0,highlightSTR:"ChannelVod_highlight",highlight:Main_getItemBool("ChannelVod_highlight",!1),periodPos:Main_getItemInt("ChannelVod_periodPos",1),base_url:"https://api.twitch.tv/kraken/channels/",set_url:function(){this.url=this.base_url+encodeURIComponent(Main_values.Main_selectedChannel_id)+"/videos?limit="+Main_ItemsLimitMax+"&broadcast_type="+(this.highlight?"highlight":"archive")+"&sort="+this.time[this.periodPos-1]+"&offset="+(this.offset+this.extraoffset)},key_play:function(){-1===this.posY?0===this.posX?(this.highlight=!this.highlight,this.SetPeriod(),Screens_StartLoad(),Main_setItem(this.highlightSTR,this.highlight?"true":"false")):1===this.posX?(this.periodPos++,this.periodPos>this.periodMaxPos&&(this.periodPos=1),this.SetPeriod(),Screens_StartLoad()):Screens_OffSetStart():Main_OpenVod(this.posY+"_"+this.posX,this.ids,Screens_handleKeyDown)},SwitchesIcons:["movie-play","history","offset"],addSwitches:function(){this.TopRowCreated=!0,this.row=document.createElement("div");for(var e,a,n=[STR_SPACE+STR_SPACE+STR_SWITCH_VOD,STR_SPACE+STR_SPACE+STR_SWITCH_TYPE,STR_SPACE+STR_SPACE+STR_SWITCH_POS],t=0;t<n.length;t++)e='<i class="icon-'+this.SwitchesIcons[t]+' stream_channel_fallow_icon"></i>'+n[t],(a=document.createElement("div")).setAttribute("id",this.ids[8]+"y_"+t),a.className="stream_cell_period",a.innerHTML='<div id="'+this.ids[0]+"y_"+t+'" class="stream_thumbnail_channel_vod" ><div id="'+this.ids[3]+"y_"+t+'" class="stream_channel_fallow_game">'+e+"</div></div>",this.row.appendChild(a);document.getElementById(this.table).appendChild(this.row)},lastselectedChannel:"",label_init:function(){!Main_values.Search_isSearching&&Main_values.Main_selectedChannel_id&&ChannelContent_RestoreChannelValue(),Main_values.Main_selectedChannel!==this.lastselectedChannel&&(this.OffSetPos=0,this.extraoffset=0,this.status=!1),this.lastselectedChannel=Main_values.Main_selectedChannel,Main_cleanTopLabel(),Main_ShowElement("label_side_panel"),this.SetPeriod()},SetPeriod:function(){Main_setItem("UserVod_periodPos",this.periodPos),ScreensObj_SetTopLable(Main_values.Main_selectedChannelDisplayname,(this.highlight?STR_PAST_HIGHL:STR_PAST_BROA)+(1===this.periodPos?STR_TIME:STR_VIWES)+", Offset "+inUseObj.extraoffset)},label_exit:function(){Main_RestoreTopLabel()}},Base_obj),Base_Vod_obj)).addCell=function(e){var a=e.preview.template;this.row_id||-1===(a+"").indexOf("404_processing")||(a=null!==ChannelContent_offline_image?ChannelContent_offline_image:this.img_404),this.addCellBase(e,a)}}function ScreensObj_InitAGameVod(){AGameVod=Screens_assign(AGameVod=Screens_assign({periodMaxPos:4,HeaderQuatity:2,object:"vods",ids:Screens_ScreenIds("AGameVod"),table:"stream_table_a_game_vod",screen:Main_AGameVod,highlightSTR:"AGameVod_highlight",highlight:Main_getItemBool("AGameVod_highlight",!1),periodPos:Main_getItemInt("AGameVod_periodPos",2),base_url:"https://api.twitch.tv/kraken/videos/top?game=",set_url:function(){this.url=this.base_url+encodeURIComponent(Main_values.Main_gameSelected)+"&limit="+Main_ItemsLimitMax+"&broadcast_type="+(this.highlight?"highlight":"archive")+"&sort=views&offset="+this.offset+"&period="+this.period[this.periodPos-1]+(""!==Main_ContentLang?"&language="+Main_ContentLang:"")},key_play:function(){-1===this.posY?0===this.posX?(this.highlight=!this.highlight,this.SetPeriod(),Screens_StartLoad(),Main_setItem(this.highlightSTR,this.highlight?"true":"false")):Screens_PeriodStart():Main_OpenVod(this.posY+"_"+this.posX,this.ids,Screens_handleKeyDown)},SwitchesIcons:["movie-play","history"],addSwitches:function(){this.TopRowCreated=!0,this.row=document.createElement("div");for(var e,a,n=[STR_SPACE+STR_SPACE+STR_SWITCH_VOD,STR_SPACE+STR_SPACE+STR_SWITCH_CLIP],t=0;t<n.length;t++)e='<i class="icon-'+this.SwitchesIcons[t]+' stream_channel_fallow_icon"></i>'+n[t],(a=document.createElement("div")).setAttribute("id",this.ids[8]+"y_"+t),a.className="stream_cell_period",a.innerHTML='<div id="'+this.ids[0]+"y_"+t+'" class="stream_thumbnail_channel_vod" ><div id="'+this.ids[3]+"y_"+t+'" class="stream_channel_fallow_game">'+e+"</div></div>",this.row.appendChild(a);document.getElementById(this.table).appendChild(this.row)},OldgameSelected:"",label_init:function(){ScreensObj_TopLableAgameInit(),this.SetPeriod()},label_exit:ScreensObj_TopLableAgameExit,SetPeriod:function(){Main_setItem("AGameVod_periodPos",this.periodPos),ScreensObj_SetTopLable(Main_values.Main_gameSelected,(this.highlight?STR_PAST_HIGHL:STR_PAST_BROA)+STR_SPACE+Main_Periods[this.periodPos-1])}},Base_obj),Base_Vod_obj)}function ScreensObj_InitUserVod(){UserVod=Screens_assign(UserVod=Screens_assign({periodMaxPos:2,HeaderQuatity:3,object:"videos",ids:Screens_ScreenIds("UserVod"),table:"stream_table_user_vod",screen:Main_UserVod,time:["time","views"],highlightSTR:"UserVod_highlight",highlight:Main_getItemBool("UserVod_highlight",!1),periodPos:Main_getItemInt("UserVod_periodPos",1),base_url:"https://api.twitch.tv/kraken/videos/followed?limit="+Main_ItemsLimitMax,set_url:function(){this.token=Main_OAuth+AddUser_UsernameArray[0].access_token,this.url=this.base_url+"&broadcast_type="+(this.highlight?"highlight":"archive")+"&sort="+this.time[this.periodPos-1]+"&offset="+this.offset},key_play:function(){-1===this.posY?0===this.posX?(this.highlight=!this.highlight,this.SetPeriod(),Screens_StartLoad(),Main_setItem(this.highlightSTR,this.highlight?"true":"false")):(this.periodPos++,this.periodPos>this.periodMaxPos&&(this.periodPos=1),this.SetPeriod(),Screens_StartLoad()):Main_OpenVod(this.posY+"_"+this.posX,this.ids,Screens_handleKeyDown)},SwitchesIcons:["movie-play","history"],addSwitches:function(){this.TopRowCreated=!0,this.row=document.createElement("div");for(var e,a,n=[STR_SPACE+STR_SPACE+STR_SWITCH_VOD,STR_SPACE+STR_SPACE+STR_SWITCH_TYPE],t=0;t<n.length;t++)e='<i class="icon-'+this.SwitchesIcons[t]+' stream_channel_fallow_icon"></i>'+n[t],(a=document.createElement("div")).setAttribute("id",this.ids[8]+"y_"+t),a.className="stream_cell_period",a.innerHTML='<div id="'+this.ids[0]+"y_"+t+'" class="stream_thumbnail_channel_vod" ><div id="'+this.ids[3]+"y_"+t+'" class="stream_channel_fallow_game">'+e+"</div></div>",this.row.appendChild(a);document.getElementById(this.table).appendChild(this.row)},label_init:function(){this.SetPeriod()},SetPeriod:function(){Main_setItem("UserVod_periodPos",this.periodPos),ScreensObj_SetTopLable(STR_USER,(this.highlight?STR_PAST_HIGHL:STR_PAST_BROA)+(1===this.periodPos?STR_TIME:STR_VIWES))}},Base_obj),Base_Vod_obj)}var Base_Live_obj={ItemsReloadLimit:Main_ItemsReloadLimitVideo,ItemsLimit:Main_ItemsLimitVideo,ColoumnsCount:Main_ColoumnsCountVideo,addFocus:Screens_addFocusVideo,thumbclass:"stream_thumbnail_live_holder",img_404:IMG_404_VIDEO,setMax:function(e){this.MaxOffset=e._total,(this.data.length>=this.MaxOffset||void 0===this.MaxOffset)&&(this.dataEnded=!0)},empty_str:function(){return STR_NO+STR_LIVE_CHANNELS},addCell:function(e){this.addCellTemp(e)},addCellTemp:function(e){this.idObject[e.channel._id]||(this.itemsCount++,this.idObject[e.channel._id]=1,this.row.appendChild(Screens_createCellLive(this.row_id+"_"+this.coloumn_id,[e.channel.name,e.channel._id,Main_is_rerun(e.stream_type)],this.ids,[e.preview.template.replace("{width}x{height}",Main_VideoSize),e.channel.display_name,e.channel.status,e.game,STR_SINCE+Play_streamLiveAt(e.created_at)+STR_SPACE+STR_FOR+Main_addCommas(e.viewers)+STR_SPACE+STR_VIEWER,Main_videoqualitylang(e.video_height,e.average_fps,e.channel.broadcaster_language)])),this.coloumn_id++)}};function ScreensObj_InitLive(){Live=Screens_assign(Live=Screens_assign({HeaderQuatity:2,ids:Screens_ScreenIds("Live"),table:"stream_table_live",screen:Main_Live,object:"streams",base_url:"https://api.twitch.tv/kraken/streams?limit="+Main_ItemsLimitMax,set_url:function(){this.offset&&this.offset+Main_ItemsLimitMax>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+"&offset="+this.offset+(""!==Main_ContentLang?"&broadcaster_language="+Main_ContentLang:"")},label_init:function(){Sidepannel_SetDefaultLables(),Main_values.Sidepannel_IsUser=!1,Sidepannel_SetTopOpacity(this.screen),ScreensObj_SetTopLable(STR_LIVE)},key_play:function(){Main_OpenLiveStream(this.posY+"_"+this.posX,this.ids,Screens_handleKeyDown)}},Base_obj),Base_Live_obj)}function ScreensObj_InitSearchLive(){(SearchLive=Screens_assign(SearchLive=Screens_assign({HeaderQuatity:2,ids:Screens_ScreenIds("SearchLive"),table:"stream_table_search_live",screen:Main_SearchLive,object:"streams",base_url:"https://api.twitch.tv/kraken/search/streams?limit="+Main_ItemsLimitMax+"&query=",set_url:function(){this.offset&&this.offset+Main_ItemsLimitMax>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+encodeURIComponent(Main_values.Search_data)+"&offset="+this.offset},label_init:function(){Main_values.Search_isSearching=!0,Main_cleanTopLabel(),this.lastData!==Main_values.Search_data&&(this.status=!1),this.lastData=Main_values.Search_data,Sidepannel_SetTopOpacity(this.screen),ScreensObj_SetTopLable(STR_SEARCH+STR_SPACE+STR_LIVE,"'"+Main_values.Search_data+"'")},label_exit:function(){Main_values.Search_isSearching=!1,Main_values.Search_isSearching||Main_RestoreTopLabel()},key_play:function(){Main_OpenLiveStream(this.posY+"_"+this.posX,this.ids,Screens_handleKeyDown)}},Base_obj),Base_Live_obj)).setMax=function(e){this.MaxOffset=e._total,(this.data.length>=this.MaxOffset||void 0===this.MaxOffset||this.data.length<Main_ItemsLimitMax)&&(this.dataEnded=!0)}}function ScreensObj_InitUserLive(){(UserLive=Screens_assign(UserLive=Screens_assign({HeaderQuatity:3,ids:Screens_ScreenIds("UserLive"),table:"stream_table_user_live",screen:Main_UserLive,object:"streams",base_url:"https://api.twitch.tv/kraken/streams/",loadChannelOffsset:0,followerChannels:"",followerChannelsDone:!1,set_url:function(){this.offset&&this.offset+Main_ItemsLimitMax>this.MaxOffset&&(this.dataEnded=!0),AddUser_UsernameArray[0].access_token?(this.HeaderQuatity=3,this.token=Main_OAuth+AddUser_UsernameArray[0].access_token,this.url=this.base_url+"followed?limit="+Main_ItemsLimitMax+"&offset="+this.offset+"&stream_type=all"):(this.HeaderQuatity=2,this.token=null,this.followerChannelsDone?this.url=this.base_url+"?channel="+encodeURIComponent(this.followerChannels)+"&limit="+Main_ItemsLimitMax+"&offset="+this.offset+"&stream_type=all":this.url="https://api.twitch.tv/kraken/users/"+encodeURIComponent(AddUser_UsernameArray[0].id)+"/follows/channels?limit="+Main_ItemsLimitMax+"&offset="+this.loadChannelOffsset+"&sortby=created_at")},label_init:function(){ScreensObj_TopLableUserInit(),ScreensObj_SetTopLable(STR_USER,STR_LIVE_CHANNELS)},key_play:function(){Main_OpenLiveStream(this.posY+"_"+this.posX,this.ids,Screens_handleKeyDown)}},Base_obj),Base_Live_obj)).concatenate=function(e){if(this.token||this.followerChannelsDone)this.data?((e=JSON.parse(e))[this.object]&&(this.data=this.data.concat(e[this.object]),this.offset=this.data.length),this.setMax(e)):(e=JSON.parse(e),this.data=e[this.object],this.data?this.offset=this.data.length:this.data=[],this.setMax(e),this.loadDataSuccess()),this.loadingData=!1;else{var a=JSON.parse(e).follows,n=a.length;if(n){for(var t="",i=0;i<n;i++)t=a[i].channel._id+",",-1===this.followerChannels.indexOf(t)&&(this.followerChannels+=t);this.loadChannelOffsset+=n}else this.followerChannels=this.followerChannels.slice(0,-1),this.followerChannelsDone=!0;Screens_loadDataRequest()}}}function ScreensObj_InitUserHost(){(UserHost=Screens_assign(UserHost=Screens_assign({HeaderQuatity:2,ids:Screens_ScreenIds("UserHost"),table:"stream_table_user_host",screen:Main_UserHost,object:"hosts",base_url:"https://api.twitch.tv/api/users/",set_url:function(){this.offset&&this.offset+Main_ItemsLimitMax>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+encodeURIComponent(AddUser_UsernameArray[0].name)+"/followed/hosting?limit="+Main_ItemsLimitMax+"&offset="+this.offset},label_init:function(){ScreensObj_TopLableUserInit(),ScreensObj_SetTopLable(STR_USER,STR_LIVE_HOSTS)},key_play:function(){Main_OpenLiveStream(this.posY+"_"+this.posX,this.ids,Screens_handleKeyDown)}},Base_obj),Base_Live_obj)).addCell=function(e){this.idObject[e.target._id+""+e._id]||(this.itemsCount++,this.idObject[e.target._id+""+e._id]=1,this.row.appendChild(Screens_createCellLive(this.row_id+"_"+this.coloumn_id,[e.target.channel.name,e.target._id,!1],this.ids,[e.target.preview_urls.template.replace("{width}x{height}",Main_VideoSize),e.display_name+STR_USER_HOSTING+e.target.channel.display_name,e.target.title,e.target.meta_game,STR_FOR.charAt(0).toUpperCase()+STR_FOR.slice(1)+Main_addCommas(e.target.viewers)+STR_SPACE+STR_VIEWER,""])),this.coloumn_id++)}}function ScreensObj_InitAGame(){AGame=Screens_assign(AGame=Screens_assign({HeaderQuatity:2,ids:Screens_ScreenIds("AGame"),table:"stream_table_a_game",screen:Main_aGame,object:"streams",base_url:"https://api.twitch.tv/kraken/streams?game=",set_url:function(){this.offset&&this.offset+Main_ItemsLimitMax>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+encodeURIComponent(Main_values.Main_gameSelected)+"&limit="+Main_ItemsLimitMax+"&offset="+this.offset+(""!==Main_ContentLang?"&broadcaster_language="+Main_ContentLang:"")},label_init:function(){ScreensObj_TopLableAgameInit(),Main_values.Search_isSearching?Main_cleanTopLabel():Main_values.gameSelectedOld=null,ScreensObj_SetTopLable(Main_values.Main_gameSelected,STR_LIVE)},label_exit:ScreensObj_TopLableAgameExit,HasSwitches:!0,SwitchesIcons:["movie-play","movie","heart-o"],addSwitches:function(){this.TopRowCreated=!0,this.row=document.createElement("div");for(var e,a,n=[STR_SPACE+STR_SPACE+STR_VIDEOS,STR_SPACE+STR_SPACE+STR_CLIPS,STR_SPACE+STR_SPACE+STR_FALLOW],t=0;t<n.length;t++)e='<i class="icon-'+this.SwitchesIcons[t]+' stream_channel_fallow_icon"></i>'+n[t],(a=document.createElement("div")).setAttribute("id",this.ids[8]+"y_"+t),a.className="stream_cell_period",a.innerHTML='<div id="'+this.ids[0]+"y_"+t+'" class="stream_thumbnail_channel_vod" ><div id="'+this.ids[3]+"y_"+t+'" class="stream_channel_fallow_game">'+e+"</div></div>",this.row.appendChild(a);document.getElementById(this.table).appendChild(this.row)},key_play:function(){-1!==this.posY?Main_OpenLiveStream(this.posY+"_"+this.posX,this.ids,Screens_handleKeyDown):AGame_headerOptions()}},Base_obj),Base_Live_obj)}function ScreensObj_InitFeatured(){(Featured=Screens_assign(Featured=Screens_assign({HeaderQuatity:2,ids:Screens_ScreenIds("Featured"),table:"stream_table_featured",screen:Main_Featured,base_url:"https://api.twitch.tv/kraken/streams/featured?limit="+Main_ItemsLimitMax,set_url:function(){this.url=this.base_url+"&offset="+this.offset+(AddUser_UserIsSet()&&AddUser_UsernameArray[0].access_token?"&oauth_token="+AddUser_UsernameArray[0].access_token:"")},label_init:function(){Sidepannel_SetDefaultLables(),Main_values.Sidepannel_IsUser=!1,Sidepannel_SetTopOpacity(this.screen),ScreensObj_SetTopLable(STR_FEATURED)},object:"featured",key_play:function(){Main_OpenLiveStream(this.posY+"_"+this.posX,this.ids,Screens_handleKeyDown)}},Base_obj),Base_Live_obj)).addCell=function(e){e=e.stream,this.addCellTemp(e)}}var Base_Clip_obj={HeaderQuatity:2,ItemsLimit:Main_ItemsLimitVideo,TopRowCreated:!1,ItemsReloadLimit:Main_ItemsReloadLimitVideo,ColoumnsCount:Main_ColoumnsCountVideo,addFocus:Screens_addFocusVideo,thumbclass:"stream_thumbnail_live_holder",cursor:null,object:"clips",period:["day","week","month","all"],img_404:IMG_404_VIDEO,empty_str:function(){return STR_NO+STR_CLIPS},HasSwitches:!0,SwitchesIcons:["history","play-1"],addSwitches:function(){this.TopRowCreated=!0,this.row=document.createElement("div");for(var e,a,n=[STR_SPACE+STR_SPACE+STR_SWITCH_CLIP,STR_SPACE+STR_SPACE+STR_PLAY_ALL],t=0;t<n.length;t++)e='<i class="icon-'+this.SwitchesIcons[t]+' stream_channel_fallow_icon"></i>'+n[t],(a=document.createElement("div")).setAttribute("id",this.ids[8]+"y_"+t),a.className="stream_cell_period",a.innerHTML='<div id="'+this.ids[0]+"y_"+t+'" class="stream_thumbnail_channel_vod" ><div id="'+this.ids[3]+"y_"+t+'" class="stream_channel_fallow_game">'+e+"</div></div>",this.row.appendChild(a);document.getElementById(this.table).appendChild(this.row)},setMax:function(e){this.cursor=e._cursor,""===this.cursor&&(this.dataEnded=!0)},key_play:function(){-1===this.posY?this.loadingData||(this.posX?(PlayClip_All=!0,Screens_removeFocusFallow(),this.posX=0,this.posY=0,Main_OpenClip(this.posY+"_"+this.posX,this.ids,Screens_handleKeyDown)):Screens_PeriodStart()):Main_OpenClip(this.posY+"_"+this.posX,this.ids,Screens_handleKeyDown)},Cells:[],addCell:function(e){this.idObject[e.tracking_id]||(this.itemsCount++,this.idObject[e.tracking_id]=1,this.row.appendChild(Screens_createCellClip(this.row_id+"_"+this.coloumn_id,this.ids,[e.slug,e.duration,e.game,e.broadcaster.name,e.broadcaster.display_name,e.broadcaster.logo.replace("150x150","300x300"),e.broadcaster.id,null!==e.vod?e.vod.id:null,null!==e.vod?e.vod.offset:null,twemoji.parse(e.title),"["+e.language.toUpperCase()+"]",STR_CREATED_AT+Main_videoCreatedAt(e.created_at),Main_addCommas(e.views)+STR_VIEWS,e.thumbnails.medium])),this.coloumn_id++)}};function ScreensObj_InitClip(){Clip=Screens_assign(Clip=Screens_assign({ids:Screens_ScreenIds("Clip"),table:"stream_table_clip",screen:Main_Clip,periodPos:Main_getItemInt("Clip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?limit="+Main_ItemsLimitMax,set_url:function(){this.url=this.base_url+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")+(""!==Main_ContentLang?"&language="+Main_ContentLang:"")},SetPeriod:function(){Main_setItem("Clip_periodPos",this.periodPos),ScreensObj_SetTopLable(STR_CLIPS,Main_Periods[this.periodPos-1])},label_init:function(){this.SetPeriod(),Sidepannel_SetDefaultLables(),Main_values.Sidepannel_IsUser=!1,Sidepannel_SetTopOpacity(this.screen)},label_exit:function(){Main_RestoreTopLabel()}},Base_obj),Base_Clip_obj)}function ScreensObj_InitChannelClip(){ChannelClip=Screens_assign(ChannelClip=Screens_assign({ids:Screens_ScreenIds("ChannelClip"),table:"stream_table_channel_clip",screen:Main_ChannelClip,periodPos:Main_getItemInt("ChannelClip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?channel=",set_url:function(){this.url=this.base_url+encodeURIComponent(Main_values.Main_selectedChannel)+"&limit="+Main_ItemsLimitMax+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")},SetPeriod:function(){Main_setItem("ChannelClip_periodPos",this.periodPos),ScreensObj_SetTopLable(Main_values.Main_selectedChannelDisplayname,STR_CLIPS+STR_SPACE+Main_Periods[this.periodPos-1])},label_init:function(){!Main_values.Search_isSearching&&Main_values.Main_selectedChannel_id&&ChannelContent_RestoreChannelValue(),Main_values.Main_selectedChannel!==this.lastselectedChannel&&(this.status=!1),Main_cleanTopLabel(),this.SetPeriod(),Main_ShowElement("label_side_panel"),this.lastselectedChannel=Main_values.Main_selectedChannel},label_exit:Main_RestoreTopLabel},Base_obj),Base_Clip_obj)}function ScreensObj_InitAGameClip(){AGameClip=Screens_assign(AGameClip=Screens_assign({ids:Screens_ScreenIds("AGameClip"),table:"stream_table_a_game_clip",screen:Main_AGameClip,periodPos:Main_getItemInt("AGameClip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?game=",set_url:function(){this.url=this.base_url+encodeURIComponent(Main_values.Main_gameSelected)+"&limit="+Main_ItemsLimitMax+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")+(""!==Main_ContentLang?"&language="+Main_ContentLang:"")},SetPeriod:function(){Main_setItem("AGameClip_periodPos",this.periodPos),ScreensObj_SetTopLable(Main_values.Main_gameSelected,STR_CLIPS+STR_SPACE+Main_Periods[this.periodPos-1])},label_init:function(){ScreensObj_TopLableAgameInit(),this.SetPeriod()},label_exit:ScreensObj_TopLableAgameExit},Base_obj),Base_Clip_obj)}var Base_Game_obj={HeaderQuatity:2,thumbclass:"stream_thumbnail_game_holder",ItemsReloadLimit:Main_ItemsReloadLimitGame,ItemsLimit:Main_ItemsLimitGame,ColoumnsCount:Main_ColoumnsCountGame,addFocus:Screens_addFocusGame,img_404:IMG_404_GAME,empty_str:function(){return STR_NO+STR_LIVE_GAMES},key_play:function(){Main_values.Main_gameSelected=JSON.parse(document.getElementById(this.ids[5]+this.posY+"_"+this.posX).getAttribute(Main_DataAttribute)),document.body.removeEventListener("keydown",Screens_handleKeyDown),Main_values.Main_BeforeAgame=this.screen,Main_values.Main_Go=Main_aGame,Main_values.Main_BeforeAgameisSet=!0,Main_addFocusVideoOffset=0,document.body.removeEventListener("keydown",Screens_handleKeyDown),Main_HideElement(this.ids[10]),Main_SwitchScreenAction(),Main_removeFocus(this.posY+"_"+this.posX,this.ids)},setMax:function(e){this.MaxOffset=e._total,this.data.length>=this.MaxOffset&&(this.dataEnded=!0)},addCell:function(e){var a=this.isLive||this.screen===Main_games,n=a?e.game:e;this.idObject[n._id]||(this.itemsCount++,this.idObject[n._id]=1,this.row.appendChild(Screens_createCellGame(this.row_id+"_"+this.coloumn_id,this.ids,[n.box.template.replace("{width}x{height}",Main_GameSize),n.name,a?Main_addCommas(e.channels)+STR_SPACE+STR_CHANNELS+STR_BR+STR_FOR+Main_addCommas(e.viewers)+STR_SPACE+STR_VIEWER:""])),this.coloumn_id++)}};function ScreensObj_InitGame(){Game=Screens_assign(Game=Screens_assign({ids:Screens_ScreenIds("Game"),table:"stream_table_games",screen:Main_games,object:"top",base_url:"https://api.twitch.tv/kraken/games/top?limit="+Main_ItemsLimitMax,set_url:function(){this.offset&&this.offset+Main_ItemsLimitMax>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+"&offset="+this.offset},label_init:function(){Sidepannel_SetDefaultLables(),Main_values.Sidepannel_IsUser=!1,Sidepannel_SetTopOpacity(this.screen),ScreensObj_SetTopLable(STR_GAMES)}},Base_obj),Base_Game_obj)}function ScreensObj_InitUserGames(){UserGames=Screens_assign(UserGames=Screens_assign({ids:Screens_ScreenIds("UserGames"),table:"stream_table_user_games",screen:Main_usergames,isLive:Main_getItemBool("user_Games_live",!0),OldUserName:"",object:"follows",base_url:"https://api.twitch.tv/api/users/",set_url:function(){this.offset&&this.offset+Main_ItemsLimitMax>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+encodeURIComponent(AddUser_UsernameArray[0].name)+"/follows/games",this.isLive?this.url+="/live?limit=750":this.url+="?limit="+Main_ItemsLimitMax+"&offset="+this.offset},key_refresh:function(){this.isLive=!this.isLive,ScreensObj_SetTopLable(STR_USER,this.isLive?STR_LIVE_GAMES:STR_FALLOW_GAMES),Screens_StartLoad(),Main_setItem("user_Games_live",this.isLive?"true":"false"),Users_status&&Users_resetGameCell()},label_init:function(){ScreensObj_TopLableUserInit(),Main_IconLoad("label_refresh","icon-refresh",STR_USER_GAMES_CHANGE+STR_LIVE_GAMES+"/"+STR_FALLOW_GAMES+":"+STR_GUIDE),ScreensObj_SetTopLable(STR_USER,this.isLive?STR_LIVE_GAMES:STR_FALLOW_GAMES)},label_exit:function(){Main_IconLoad("label_refresh","icon-refresh",STR_REFRESH+":"+STR_GUIDE)}},Base_obj),Base_Game_obj)}function ScreensObj_InitSearchGames(){(SearchGames=Screens_assign(SearchGames=Screens_assign({ids:Screens_ScreenIds("SearchGames"),table:"stream_table_search_game",screen:Main_SearchGames,isLive:!1,OldUserName:"",object:"games",lastData:"",base_url:"https://api.twitch.tv/kraken/search/games?query=",set_url:function(){this.dataEnded=!0,this.url=this.base_url+encodeURIComponent(Main_values.Search_data)},label_init:function(){Main_values.gameSelectedOld||(Main_values.gameSelectedOld=Main_values.Main_gameSelected),Main_values.Search_isSearching=!0,Main_cleanTopLabel(),this.lastData!==Main_values.Search_data&&(this.status=!1),this.lastData=Main_values.Search_data,Sidepannel_SetTopOpacity(this.screen),ScreensObj_SetTopLable(STR_SEARCH+STR_SPACE+STR_GAMES,"'"+Main_values.Search_data+"'")},label_exit:function(){Main_values.Main_gameSelected=Main_values.gameSelectedOld,Main_values.Search_isSearching||Main_RestoreTopLabel(),Main_values.Games_return=!1}},Base_obj),Base_Game_obj)).ItemsLimit=100}var Base_Channel_obj={ItemsLimit:Main_ItemsLimitChannel,ColoumnsCount:Main_ColoumnsCountChannel,addFocus:Screens_addFocusChannel,ItemsReloadLimit:Main_ItemsReloadLimitChannel,thumbclass:"stream_thumbnail_channel_holder",img_404:IMG_404_LOGO,setMax:function(e){this.MaxOffset=e._total,(this.data.length>=this.MaxOffset||void 0===this.MaxOffset)&&(this.dataEnded=!0)},empty_str:function(){return STR_NO+STR_USER_CHANNEL},addCellTemp:function(e){this.idObject[e._id]||(this.itemsCount++,this.idObject[e._id]=1,this.row.appendChild(Screens_createCellChannel(this.row_id+"_"+this.coloumn_id,this.ids,[e.name,e._id,e.logo,e.display_name,e.partner])),this.coloumn_id++)}};function ScreensObj_InitUserChannels(){(UserChannels=Screens_assign(UserChannels=Screens_assign({HeaderQuatity:2,ids:Screens_ScreenIds("UserChannels"),table:"stream_table_user_channels",screen:Main_UserChannels,object:"follows",base_url:"https://api.twitch.tv/kraken/users/",set_url:function(){this.offset&&this.offset+Main_ItemsLimitMax>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+encodeURIComponent(AddUser_UsernameArray[0].id)+"/follows/channels?limit="+Main_ItemsLimitMax+"&offset="+this.offset+"&sortby=login&direction=asc"},label_init:function(){ScreensObj_TopLableUserInit(),ScreensObj_SetTopLable(STR_USER,STR_USER_CHANNEL)},key_play:function(){Main_ThumbOpenIsNull(this.posY+"_"+this.posX,this.ids[0])||(Main_values.Main_selectedChannel=JSON.parse(document.getElementById(this.ids[8]+this.posY+"_"+this.posX).getAttribute(Main_DataAttribute)),Main_values.Main_selectedChannel_id=Main_values.Main_selectedChannel[1],Main_values.Main_selectedChannelDisplayname=Main_values.Main_selectedChannel[3],Main_values.Main_selectedChannelLogo=Main_values.Main_selectedChannel[2],Main_values.Main_selectedChannel=Main_values.Main_selectedChannel[0],document.body.removeEventListener("keydown",Screens_handleKeyDown),Main_values.Main_BeforeChannel=Main_UserChannels,Main_values.Main_Go=Main_ChannelContent,Main_values.Main_BeforeChannelisSet=!0,ChannelContent_UserChannels=AddCode_IsFallowing=!0,Screens_exit(),Main_SwitchScreen())},addCell:function(e){e=e.channel,this.addCellTemp(e)}},Base_obj),Base_Channel_obj)).addrow=Screens_addrowChannel,UserChannels.visiblerows=5}function ScreensObj_InitSearchChannels(){(SearchChannels=Screens_assign(SearchChannels=Screens_assign({HeaderQuatity:2,ids:Screens_ScreenIds("SearchChannels"),table:"stream_table_search_channel",screen:Main_SearchChannels,object:"channels",base_url:"https://api.twitch.tv/kraken/search/channels?limit="+Main_ItemsLimitMax+"&query=",set_url:function(){this.offset&&this.offset+Main_ItemsLimitMax>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+encodeURIComponent(Main_values.Search_data)+"&offset="+this.offset},label_init:function(){Main_values.Search_isSearching=!0,Main_cleanTopLabel(),this.lastData!==Main_values.Search_data&&(this.status=!1),this.lastData=Main_values.Search_data,Sidepannel_SetTopOpacity(this.screen),ScreensObj_SetTopLable(STR_SEARCH+STR_SPACE+STR_CHANNELS,"'"+Main_values.Search_data+"'")},label_exit:function(){Main_values.Search_isSearching||Main_RestoreTopLabel()},key_play:function(){Main_ThumbOpenIsNull(this.posY+"_"+this.posX,this.ids[0])||(Main_values.Main_selectedChannel=JSON.parse(document.getElementById(this.ids[8]+this.posY+"_"+this.posX).getAttribute(Main_DataAttribute)),Main_values.Main_selectedChannel_id=Main_values.Main_selectedChannel[1],Main_values.Main_selectedChannelDisplayname=Main_values.Main_selectedChannel[3],Main_values.Main_selectedChannelLogo=Main_values.Main_selectedChannel[2],Main_values.Main_selectedChannel=Main_values.Main_selectedChannel[0],document.body.removeEventListener("keydown",Screens_handleKeyDown),Main_values.Main_BeforeChannel=Main_SearchChannels,Main_values.Main_Go=Main_ChannelContent,Main_values.Main_BeforeChannelisSet=!0,ChannelContent_UserChannels=AddCode_IsFallowing=!1,Screens_exit(),Main_SwitchScreen())},addCell:function(e){this.addCellTemp(e)}},Base_obj),Base_Channel_obj)).addrow=Screens_addrowChannel,SearchChannels.visiblerows=5}function ScreensObj_TopLableAgameInit(){null===Main_values.Main_OldgameSelected&&(Main_values.Main_OldgameSelected=Main_values.Main_gameSelected),Main_ShowElement("label_side_panel"),Main_values.Main_OldgameSelected===Main_values.Main_gameSelected&&inUseObj.gameSelected===Main_values.Main_gameSelected||(inUseObj.status=!1),inUseObj.gameSelected=Main_values.Main_gameSelected,Main_values.Main_OldgameSelected=Main_values.Main_gameSelected,Sidepannel_SetDefaultLables(),Main_values.Sidepannel_IsUser=!1,Sidepannel_SetTopOpacity(inUseObj.screen)}function ScreensObj_TopLableAgameExit(){inUseObj.gameSelected=Main_values.Main_gameSelected,Main_HideElement("label_side_panel")}function ScreensObj_TopLableUserInit(){inUseObj.OldUserName!==AddUser_UsernameArray[0].name&&(inUseObj.status=!1),inUseObj.OldUserName=AddUser_UsernameArray[0].name,Sidepannel_SetUserLables()}function ScreensObj_SetTopLable(e,a){Main_innerHTML("top_lable",e+STR_SPACE+(a?'<div style="font-size: 65%;display: inline-block;">'+a+"</div>":""))}var Search_cursorY=0,Search_cursorX=0,Search_keyBoardOn=!1;function Search_init(){Main_HideWarningDialog(),Main_HideElement("label_refresh"),Main_ShowElement("label_side_panel"),Main_SearchInput.placeholder=STR_PLACEHOLDER_SEARCH,Main_ShowElement("search_scroll"),Search_cursorX=Search_cursorY=0,Search_refreshInputFocusTools(),Search_inputFocus()}function Search_exit(){Search_RemoveinputFocus(!1),document.body.removeEventListener("keydown",Search_handleKeyDown),Search_refreshInputFocusTools(),Main_values.Main_Go=Main_values.Main_BeforeSearch,Main_HideElement("label_side_panel"),Main_ShowElement("label_refresh"),Main_SearchInput.value="",Main_HideElement("search_scroll")}function Search_loadData(){Search_exit(),Main_ready(function(){Search_cursorX?1===Search_cursorX?(inUseObj=SearchGames,Screens_init()):2===Search_cursorX&&(inUseObj=SearchLive,Screens_init()):(inUseObj=SearchChannels,Screens_init())})}function Search_refreshInputFocusTools(){Main_RemoveClass("chanel_button","button_search_focused"),Main_RemoveClass("game_button","button_search_focused"),Main_RemoveClass("live_button","button_search_focused"),Search_cursorY&&(Search_cursorX?1===Search_cursorX?Main_AddClass("game_button","button_search_focused"):2===Search_cursorX&&Main_AddClass("live_button","button_search_focused"):Main_AddClass("chanel_button","button_search_focused"))}function Search_handleKeyDown(e){if(!Search_keyBoardOn)switch(e.keyCode){case KEY_RETURN:Main_isControlsDialogShown()?Main_HideControlsDialog():Main_isAboutDialogShown()?Main_HideAboutDialog():(Search_exit(),Main_SwitchScreen());break;case KEY_LEFT:1===Search_cursorY&&(--Search_cursorX<0&&(Search_cursorX=2),Search_refreshInputFocusTools());break;case KEY_RIGHT:1===Search_cursorY&&(2<++Search_cursorX&&(Search_cursorX=0),Search_refreshInputFocusTools());break;case KEY_UP:1===Search_cursorY&&(Search_cursorY=0,Search_refreshInputFocusTools(),Search_inputFocus());break;case KEY_DOWN:Search_cursorY?1===Search_cursorY&&(Search_cursorY=0,Search_refreshInputFocusTools(),Search_inputFocus()):(Search_RemoveinputFocus(!1),Search_cursorY=1,Search_refreshInputFocusTools());break;case KEY_PLAY:case KEY_PAUSE:case KEY_PLAYPAUSE:case KEY_ENTER:Search_cursorY?""!==Main_SearchInput.value&&null!==Main_SearchInput.value?(Main_values.Search_data=Main_SearchInput.value,Main_SearchInput.value="",Search_loadData()):(Main_showWarningDialog(STR_SEARCH_EMPTY),window.setTimeout(function(){Main_HideWarningDialog()},1e3)):Search_inputFocus()}}function Search_inputFocus(){document.body.removeEventListener("keydown",Search_handleKeyDown),document.body.addEventListener("keydown",Search_KeyboardEvent,!1),Main_SearchInput.placeholder=STR_PLACEHOLDER_SEARCH,Main_SearchInput.focus(),Search_keyBoardOn=!0}function Search_RemoveinputFocus(e){Main_SearchInput.blur(),Search_removeEventListener(),document.body.removeEventListener("keydown",Search_KeyboardEvent),Main_SearchInput.placeholder=STR_PLACEHOLDER_PRESS+STR_PLACEHOLDER_SEARCH,e&&document.body.addEventListener("keydown",Search_handleKeyDown,!1),Search_keyBoardOn=!1}function Search_removeEventListener(){if(null!==Main_SearchInput){var e=Main_SearchInput.cloneNode(!0);Main_SearchInput.parentNode.replaceChild(e,Main_SearchInput),Main_SearchInput=document.getElementById("search_input")}}function Search_KeyboardEvent(e){switch(e.keyCode){case KEY_RETURN:Main_isAboutDialogShown()?Main_HideAboutDialog():Main_isControlsDialogShown()?Main_HideControlsDialog():(Search_exit(),Main_SwitchScreen());break;case KEY_KEYBOARD_DELETE_ALL:Main_SearchInput.value="";break;case KEY_KEYBOARD_DONE:case KEY_DOWN:Search_RemoveinputFocus(!0),Search_cursorY=1,Search_refreshInputFocusTools();break;case KEY_KEYBOARD_BACKSPACE:Main_SearchInput.value=Main_SearchInput.value.slice(0,-1);break;case KEY_KEYBOARD_SPACE:Main_SearchInput.value+=" "}}var Settings_cursorY=0,Settings_value={restor_playback:{values:["no","yes"],defaultValue:2},clip_auto_play_next:{values:["no","yes"],defaultValue:2},keep_panel_info_visible:{values:["no","yes"],defaultValue:1},single_click_exit:{values:["no","yes"],defaultValue:1},show_screen_counter:{values:["no","yes"],defaultValue:2},live_feed_sort:{values:["views","a-z","z-a"],defaultValue:1},live_notification:{values:["no","yes"],defaultValue:2},global_font_offset:{values:[-3,-2,-1,0,1,2,3],defaultValue:4},live_notification_time:{values:[1,2,3,4,5,6,7,8,9,10],defaultValue:4},buffer_live:{values:[.1,.25,.5,.75,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],defaultValue:5},buffer_vod:{values:[.1,.25,.5,.75,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],defaultValue:8},buffer_clip:{values:[.1,.25,.5,.75,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],defaultValue:5},end_dialog_counter:{values:["disable",1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],defaultValue:4},bitrate_main:{values:["disable",11,10.5,10,9.5,9,8.5,8,7.5,7,6.5,6,5.5,5,4.5,4,3.5,3,2.5,2,1.5,1],defaultValue:1},bitrate_min:{values:["disable",11,10.5,10,9.5,9,8.5,8,7.5,7,6.5,6,5.5,5,4.5,4,3.5,3,2.5,2,1.5,1],defaultValue:18},videos_animation:{values:["no","yes"],defaultValue:2},thumb_quality:{values:["very-low","low","normal","high","very-high"],defaultValue:3},default_quality:{values:["Auto","source"],defaultValue:1},clock_offset:{values:Settings_GenerateClock(),defaultValue:49},content_lang:{values:["All"],set_values:[""],defaultValue:1}};function Settings_GenerateClock(){for(var e=[],a=43200,n=0;n<48;n++)e.push("-"+Play_timeS(a)),a-=900;for(e.push(Play_timeS(0)),a=900,n=0;n<48;n++)e.push(Play_timeS(a)),a+=900;return e}var Settings_value_keys=[],Settings_positions_length=0;function Settings_init(){document.body.addEventListener("keydown",Settings_handleKeyDown,!1),ScreensObj_SetTopLable(STR_SETTINGS),Main_ShowElement("settings_holder"),Main_ShowElement("label_side_panel"),Main_HideElement("label_refresh"),Settings_inputFocus(Settings_cursorY=0),Settings_DivOptionChangeLang("content_lang",STR_CONTENT_LANG,Languages_Selected)}function Settings_exit(){document.body.removeEventListener("keydown",Settings_handleKeyDown),Main_HideElement("label_side_panel"),Main_ShowElement("label_refresh"),Settings_RemoveinputFocus(),Main_HideElement("settings_holder")}function Settings_SetSettings(){var e,a="";a+=Settings_DivTitle("general",STR_SETTINGS_GENERAL),e="content_lang",Settings_value_keys.push(e),Settings_value[e].values=[STR_CONTENT_LANG_SUMARRY],a+=Settings_DivOptionWithSummary(e,STR_CONTENT_LANG,""),e="live_feed_sort",Settings_value_keys.push(e),Settings_value[e].values=[STR_VIEWS,STR_A_Z,STR_Z_A],a+=Settings_DivOptionWithSummary(e,STR_LIVE_FEED_SORT,STR_LIVE_FEED_SORT_SUMMARY),e="thumb_quality",Settings_value_keys.push(e),Settings_value[e].values=[STR_VERY_LOW,STR_LOW,STR_NORMAL,STR_HIGH,STR_VERY_HIGH],a+=Settings_DivOptionWithSummary(e,STR_THUMB_RESOLUTION,STR_THUMB_RESOLUTION_SUMARRY),e="global_font_offset",Settings_value_keys.push(e),a+=Settings_DivOptionWithSummary(e,STR_GLOBAL_FONT,STR_GLOBAL_FONT_SUMMARY),e="restor_playback",Settings_value_keys.push(e),Settings_value[e].values=[STR_NO,STR_YES],a+=Settings_DivOptionWithSummary(e,STR_RESTORE_PLAYBACK,STR_RESTORE_PLAYBACK_SUMARRY),e="videos_animation",Settings_value_keys.push(e),Settings_value[e].values=[STR_NO,STR_YES],a+=Settings_DivOptionNoSummary(e,STR_VIDEOS_ANIMATION),e="clip_auto_play_next",Settings_value_keys.push(e),Settings_value[e].values=[STR_NO,STR_YES],a+=Settings_DivOptionNoSummary(e,STR_AUTO_PLAY_NEXT),e="live_notification",Settings_value_keys.push(e),Settings_value[e].values=[STR_NO,STR_YES],a+=Settings_DivOptionNoSummary(e,STR_NOW_LIVE_SHOW),e="live_notification_time",Settings_value_keys.push(e),a+=Settings_DivOptionNoSummary(e,STR_NOW_DURATION),e="clock_offset",Settings_value_keys.push(e),a+=Settings_DivOptionNoSummary(e,STR_CLOCK_OFFSET),e="show_screen_counter",Settings_value_keys.push(e),Settings_value[e].values=[STR_NO,STR_YES],a+=Settings_DivOptionNoSummary(e,STR_SCREEN_COUNTER),a+=Settings_DivTitle("play",STR_SETTINGS_PLAYER),e="keep_panel_info_visible",Settings_value_keys.push(e),Settings_value[e].values=[STR_NO,STR_YES],a+=Settings_DivOptionNoSummary(e,STR_KEEP_INFO_VISIBLE),e="single_click_exit",Settings_value_keys.push(e),Settings_value[e].values=[STR_NO,STR_YES],a+=Settings_DivOptionWithSummary(e,STR_SINGLE_EXIT,STR_SINGLE_EXIT_SUMMARY),e="end_dialog_counter",Settings_value_keys.push(e),Settings_value[e].values[0]=STR_END_DIALOG_DISABLE,a+=Settings_DivOptionWithSummary(e,STR_END_DIALOG_SETTINGS,STR_END_DIALOG_SETTINGS_SUMMARY),e="default_quality",Settings_value_keys.push(e),Settings_value[e].values=[STR_AUTO,STR_SOURCE],a+=Settings_DivOptionWithSummary(e,STR_DEF_QUALITY,STR_DEF_QUALITY_SUMARRY),a+='<div id="setting_title_bandwidth" class="settings_title">'+STR_PLAYER_BITRATE+'</div><div id="setting_title_bandwidth_summary" class="settings_summary">'+STR_PLAYER_BITRATE_SUMARRY+"</div>",e="bitrate_main",Settings_value_keys.push(e);for(var n=1;n<Settings_value[e].values.length;n++)Settings_value[e].values[n]=Settings_value[e].values[n]+" Mbps";Settings_value[e].values[0]=STR_PLAYER_BITRATE_UNLIMITED,a+=Settings_DivOptionNoSummary(e,STR_PLAYER_BITRATE_MAIN),e="bitrate_min",Settings_value_keys.push(e),Settings_value[e].values=Settings_value.bitrate_main.values,Settings_value[e].values[0]=STR_PLAYER_BITRATE_UNLIMITED,a+=Settings_DivOptionWithSummary(e,STR_PLAYER_BITRATE_SMALL,STR_PLAYER_BITRATE_SMALL_SUMARRY),Settings_SetBitRate(0),a+='<div id="setting_title_buffers" class="settings_title">'+STR_SETTINGS_BUFFER_SIZE+'</div><div id="setting_title_buffers_summary" class="settings_summary">'+STR_SETTINGS_BUFFER_SIZE_SUMMARY+"</div>",e="buffer_live",Settings_value_keys.push(e),a+=Settings_DivOptionNoSummary(e,STR_SETTINGS_BUFFER_LIVE),e="buffer_vod",Settings_value_keys.push(e),a+=Settings_DivOptionNoSummary(e,STR_SETTINGS_BUFFER_VOD),e="buffer_clip",Settings_value_keys.push(e),Main_innerHTML("settings_main",a+=Settings_DivOptionNoSummary(e,STR_SETTINGS_BUFFER_CLIP)),Settings_positions_length=Settings_value_keys.length,Languages_SetSettings()}function Settings_DivTitle(e,a){return'<div id="setting_title_'+e+'" class="settings_section">'+a+"</div>"}function Settings_DivOptionNoSummary(e,a){return'<div id="'+e+'_div" class="settings_div"><div id="'+e+'_name" class="settings_name">'+a+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_left" class="left"></div></div><div id="'+e+'" class="strokedeline settings_value">'+Settings_Obj_values(e)+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_right" class="right"></div></div></div>'}function Settings_DivOptionWithSummary(e,a,n){return'<div id="'+e+'_div" class="settings_div"><div id="'+e+'_name" class="settings_name">'+a+'<div id="'+e+'_summary" class="settings_summary" style="font-size: 65%;">'+n+'</div></div><div class="settings_arraw_div"><div id="'+e+'arrow_left" class="left"></div></div><div id="'+e+'" class="strokedeline settings_value">'+Settings_Obj_values(e)+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_right" class="right"></div></div></div>'}function Settings_DivOptionChangeLang(e,a,n){Main_innerHTML(e+"_name",a+'<div id="'+e+'_summary" class="settings_summary" style="font-size: 65%;">'+n+"</div>")}function Settings_SetStrings(){var e="";for(e in Main_textContent("setting_title_general",STR_SETTINGS_GENERAL),Main_textContent((e="clock_offset")+"_name",STR_CLOCK_OFFSET),Main_textContent((e="show_screen_counter")+"_name",STR_SCREEN_COUNTER),Main_textContent((e="content_lang")+"_name",STR_CONTENT_LANG),Main_textContent(e,Settings_Obj_values(e)),Settings_value[e].values=[STR_CONTENT_LANG_SUMARRY],Settings_DivOptionChangeLang(e="live_feed_sort",STR_LIVE_FEED_SORT,STR_LIVE_FEED_SORT_SUMMARY),Main_textContent(e,Settings_Obj_values(e)),Settings_value[e].values=[STR_VIEWS,STR_A_Z,STR_Z_A],Main_textContent("setting_title_play",STR_SETTINGS_PLAYER),Main_textContent("setting_title_bandwidth",STR_PLAYER_BITRATE),Main_textContent("setting_title_bandwidth_summary",STR_PLAYER_BITRATE_SUMARRY),Main_textContent((e="bitrate_main")+"_name",STR_PLAYER_BITRATE_MAIN),Settings_value[e].values[0]=STR_DISABLE,Settings_DivOptionChangeLang(e="bitrate_min",STR_PLAYER_BITRATE_SMALL,STR_PLAYER_BITRATE_SMALL_SUMARRY),Settings_value[e].values[0]=STR_DISABLE,Main_textContent("setting_title_buffers",STR_SETTINGS_BUFFER_SIZE),Main_textContent("setting_title_buffers_summary",STR_SETTINGS_BUFFER_SIZE_SUMMARY),Main_textContent((e="buffer_live")+"_name",STR_SETTINGS_BUFFER_LIVE),Main_textContent((e="buffer_vod")+"_name",STR_SETTINGS_BUFFER_VOD),Main_textContent((e="buffer_clip")+"_name",STR_SETTINGS_BUFFER_CLIP),Settings_DivOptionChangeLang(e="restor_playback",STR_RESTORE_PLAYBACK,STR_RESTORE_PLAYBACK_SUMARRY),Settings_value[e].values=[STR_YES,STR_NO],Settings_DivOptionChangeLang(e="thumb_quality",STR_THUMB_RESOLUTION,STR_THUMB_RESOLUTION_SUMARRY),Settings_value[e].values=[STR_VERY_LOW,STR_LOW,STR_NORMAL,STR_HIGH,STR_VERY_HIGH],Settings_DivOptionChangeLang(e="global_font_offset",STR_GLOBAL_FONT,STR_GLOBAL_FONT_SUMMARY),Settings_DivOptionChangeLang(e="default_quality",STR_DEF_QUALITY,STR_DEF_QUALITY_SUMARRY),Settings_value[e].values=[STR_AUTO,STR_SOURCE],Settings_DivOptionChangeLang(e="end_dialog_counter",STR_END_DIALOG_SETTINGS,STR_END_DIALOG_SETTINGS_SUMMARY),Settings_value[e].values[0]=STR_END_DIALOG_DISABLE,Main_textContent((e="videos_animation")+"_name",STR_VIDEOS_ANIMATION),Settings_value[e].values=[STR_YES,STR_NO],Main_textContent((e="clip_auto_play_next")+"_name",STR_AUTO_PLAY_NEXT),Settings_value[e].values=[STR_NO,STR_YES],Main_textContent((e="live_notification")+"_name",STR_NOW_LIVE_SHOW),Settings_value[e].values=[STR_NO,STR_YES],Main_textContent((e="live_notification_time")+"_name",STR_NOW_DURATION),Main_textContent((e="keep_panel_info_visible")+"_name",STR_KEEP_INFO_VISIBLE),Settings_value[e].values=[STR_NO,STR_YES],Settings_DivOptionChangeLang(e="single_click_exit",STR_SINGLE_EXIT,STR_SINGLE_EXIT_SUMMARY),Settings_value[e].values=[STR_NO,STR_YES],Settings_value)Settings_value.hasOwnProperty(e)&&Main_textContent(e,Settings_Obj_values(e));Languages_SetLang()}function Settings_SetDefautls(){for(var e in Settings_value)Settings_value[e].defaultValue=Main_getItemInt(e,Settings_value[e].defaultValue),Settings_value[e].defaultValue-=1,Settings_value[e].defaultValue>Settings_Obj_length(e)&&(Settings_value[e].defaultValue=0);Settings_SetBuffers(0),Settings_SetClock(),Main_SetThumb(),Vod_DoAnimateThumb=Settings_Obj_default("videos_animation"),PlayClip_All_Forced=Settings_Obj_default("clip_auto_play_next"),UserLiveFeed_Notify=Settings_Obj_default("live_notification"),UserLiveFeed_NotifyTimeout=1e3*Settings_Obj_values("live_notification_time"),Play_Status_Always_On=Settings_Obj_default("keep_panel_info_visible"),Play_SingleClickExit=Settings_Obj_default("single_click_exit"),Play_EndSettingsCounter=Settings_Obj_default("end_dialog_counter"),Settings_ShowCounter(Settings_Obj_default("show_screen_counter"))}function Settings_Obj_values(e){return Settings_value[e].values[Settings_Obj_default(e)]}function Settings_Obj_default(e){return Settings_value[e].defaultValue}function Settings_Obj_length(e){return Settings_value[e].values.length-1}function Settings_inputFocus(e){var a=Settings_value_keys[Settings_cursorY];Main_AddClass(a,"settings_value_focus"),Main_AddClass(a+"_div","settings_div_focus"),Settings_Setarrows(e),Settings_ScrollTable()}function Settings_RemoveinputFocus(){var e=Settings_value_keys[Settings_cursorY];document.getElementById(e+"arrow_left").style.opacity="0",document.getElementById(e+"arrow_right").style.opacity="0",Main_RemoveClass(e,"settings_value_focus"),Main_RemoveClass(e+"_div","settings_div_focus")}function Settings_ChangeSettigs(e){var a=Settings_value_keys[e];Main_setItem(a,Settings_Obj_default(a)+1),Main_textContent(a,Settings_Obj_values(a)),Settings_Setarrows(e),Settings_SetDefault(e)}function Settings_Setarrows(e){var a=Settings_value_keys[e];if(Settings_Obj_length(a)){var n=Settings_Obj_default(a),t=Settings_Obj_length(a);0<n&&n<t?(document.getElementById(a+"arrow_left").style.opacity="1",document.getElementById(a+"arrow_right").style.opacity="1"):n===t?(document.getElementById(a+"arrow_left").style.opacity="1",document.getElementById(a+"arrow_right").style.opacity="0.2"):(document.getElementById(a+"arrow_left").style.opacity="0.2",document.getElementById(a+"arrow_right").style.opacity="1")}}function Settings_SetDefault(e){"videos_animation"===(e=Settings_value_keys[e])?Vod_DoAnimateThumb=Settings_Obj_default("videos_animation"):"clip_auto_play_next"===e?PlayClip_All_Forced=Settings_Obj_default("clip_auto_play_next"):"live_notification"===e?UserLiveFeed_Notify=Settings_Obj_default("live_notification"):"live_notification_time"===e?UserLiveFeed_NotifyTimeout=1e3*Settings_Obj_values("live_notification_time"):"keep_panel_info_visible"===e?Play_Status_Always_On=Settings_Obj_default("keep_panel_info_visible"):"single_click_exit"===e?Play_SingleClickExit=Settings_Obj_default("single_click_exit"):"buffer_live"===e?Settings_SetBuffers(1):"buffer_vod"===e?Settings_SetBuffers(2):"buffer_clip"===e?Settings_SetBuffers(3):"end_dialog_counter"===e?Play_EndSettingsCounter=Settings_Obj_default("end_dialog_counter"):"default_quality"===e?Play_SetQuality():"thumb_quality"===e?Main_SetThumb():"global_font_offset"===e?calculateFontSize():"show_screen_counter"===e?Settings_ShowCounter(Settings_Obj_default("show_screen_counter")):"clock_offset"===e?(Settings_SetClock(),Main_updateclock()):"bitrate_main"===e?Settings_SetBitRate(1):"bitrate_min"===e&&Settings_SetBitRate(2)}function Settings_ShowCounter(e){e?Main_ShowElement("dialog_counter_text"):Main_HideElement("dialog_counter_text")}function Settings_SetBitRate(e){Main_IsNotBrowser&&(e?1===e?Settings_SetBitRateMain():2===e&&Settings_SetBitRateMin():(Settings_SetBitRateMain(),Settings_SetBitRateMin()))}function Settings_SetBitRateMain(){var e;e=0<Settings_Obj_default("bitrate_main")?parseInt(1e6*Settings_Obj_values("bitrate_main").split(" ")[0]):0;try{Android.SetMainPlayerBandwidth(e)}catch(e){}}function Settings_SetBitRateMin(){var e;e=0<Settings_Obj_default("bitrate_min")?parseInt(1e6*Settings_Obj_values("bitrate_min").split(" ")[0]):0;try{Android.SetSmallPlayerBandwidth(e)}catch(e){}}function Settings_SetBuffers(e){e?1===e?(Play_Buffer=1e3*Settings_Obj_values("buffer_live"),Main_IsNotBrowser&&Android.SetBuffer(1,Play_Buffer)):2===e?(PlayVod_Buffer=1e3*Settings_Obj_values("buffer_vod"),Main_IsNotBrowser&&Android.SetBuffer(2,PlayVod_Buffer)):3===e&&(PlayClip_Buffer=1e3*Settings_Obj_values("buffer_clip"),Main_IsNotBrowser&&Android.SetBuffer(3,PlayClip_Buffer)):(Play_Buffer=1e3*Settings_Obj_values("buffer_live"),PlayVod_Buffer=1e3*Settings_Obj_values("buffer_vod"),PlayClip_Buffer=1e3*Settings_Obj_values("buffer_clip"),Main_IsNotBrowser&&(Android.SetBuffer(1,Play_Buffer),Android.SetBuffer(2,PlayVod_Buffer),Android.SetBuffer(3,PlayClip_Buffer)))}function Settings_SetClock(){var e=Settings_Obj_default("clock_offset");Main_ClockOffset=e<48?-9e5*(48-e):9e5*(e-48)}function Settings_ScrollTable(){var e=document.getElementById("settings_scroll");e.scrollTop=9<Settings_cursorY?e.scrollHeight:0}function Settings_handleKeyDown(e){var a;switch(e.keyCode){case KEY_RETURN:Main_isAboutDialogShown()?Main_HideAboutDialog():Main_isControlsDialogShown()?Main_HideControlsDialog():(Settings_exit(),Main_SwitchScreen());break;case KEY_LEFT:0<Settings_Obj_default(a=Settings_value_keys[Settings_cursorY])&&(Settings_value[a].defaultValue-=1,Settings_ChangeSettigs(Settings_cursorY));break;case KEY_RIGHT:Settings_Obj_default(a=Settings_value_keys[Settings_cursorY])<Settings_Obj_length(a)&&(Settings_value[a].defaultValue+=1,Settings_ChangeSettigs(Settings_cursorY));break;case KEY_UP:0<Settings_cursorY&&(Settings_RemoveinputFocus(),Settings_inputFocus(--Settings_cursorY));break;case KEY_DOWN:Settings_cursorY<Settings_positions_length-1&&(Settings_RemoveinputFocus(),Settings_inputFocus(++Settings_cursorY));break;case KEY_ENTER:Settings_cursorY||Languages_init()}}var Languages_cursorY=0,Languages_Selected="",Languages_value={All:{values:["off","on"],defaultValue:2,set_values:""},"Dansk [DA]":{values:["off","on"],defaultValue:1,set_values:"da"},"Deutsch [DE]":{values:["off","on"],defaultValue:1,set_values:"de"},"English [EN]":{values:["off","on"],defaultValue:1,set_values:"en,en-gb"},"Espaol [ES]":{values:["off","on"],defaultValue:1,set_values:"es,es-mx"},"Franais [FR]":{values:["off","on"],defaultValue:1,set_values:"fr"},"Italiano [IT]":{values:["off","on"],defaultValue:1,set_values:"it"},"Magyar [HU]":{values:["off","on"],defaultValue:1,set_values:"hu"},"Nederlands [NL]":{values:["off","on"],defaultValue:1,set_values:"nl"},"Norsk [NO]":{values:["off","on"],defaultValue:1,set_values:"no"},"Polski [PL]":{values:["off","on"],defaultValue:1,set_values:"pl"},"Portugus [PT]":{values:["off","on"],defaultValue:1,set_values:"pt,pt-br"},"Slovenina [SK]":{values:["off","on"],defaultValue:1,set_values:"sk"},"Suomi [FI]":{values:["off","on"],defaultValue:1,set_values:"fi"},"Svenska [SV]":{values:["off","on"],defaultValue:1,set_values:"sv"},"Ting Vit [VI]":{values:["off","on"],defaultValue:1,set_values:"vi"},"Trke [TR]":{values:["off","on"],defaultValue:1,set_values:"tr"},"etina [CS]":{values:["off","on"],defaultValue:1,set_values:"cs"}," [EL]":{values:["off","on"],defaultValue:1,set_values:"el"}," [RU]":{values:["off","on"],defaultValue:1,set_values:"ru"}," [TH]":{values:["off","on"],defaultValue:1,set_values:"th"}," [ZH]":{values:["off","on"],defaultValue:1,set_values:"zh-cn,zh-tw"}," [JA]":{values:["off","on"],defaultValue:1,set_values:"ja"}," [KO]":{values:["off","on"],defaultValue:1,set_values:"ko"},"Romn [RO]":{values:["off","on"],defaultValue:1,set_values:"ro"}},Languages_value_keys=[],Languages_positions_length=0;function Languages_init(){document.body.removeEventListener("keydown",Settings_handleKeyDown),Main_HideElement("settings_main"),Main_ShowElement("settings_lang"),Languages_HideShowAll(),ScreensObj_SetTopLable(STR_SETTINGS+STR_SPACE+STR_CONTENT_LANG),document.body.addEventListener("keydown",Languages_handleKeyDown,!1),Languages_inputFocus(Languages_cursorY=0),Languages_ResetLang()}function Languages_exit(){document.body.removeEventListener("keydown",Languages_handleKeyDown),document.body.addEventListener("keydown",Settings_handleKeyDown,!1),Settings_ScrollTable(),Main_ShowElement("settings_main"),Main_HideElement("settings_lang"),Languages_RemoveinputFocus(),Languages_SetLang(),Languages_ResetLang()}function Languages_ResetLang(){""===Main_ContentLang&&(Languages_Selected=STR_LANG_ALL,Languages_value.All.defaultValue=1,Languages_ChangeSettigs(0),Main_AddClass(Languages_value_keys[0],"red_text"),Languages_HideShowAll()),Settings_DivOptionChangeLang("content_lang",STR_CONTENT_LANG,Languages_Selected)}function Languages_SetLang(){if(Main_ContentLang="",!Languages_Obj_default("All")){for(var e in Languages_value)Languages_Obj_default(e)&&(Main_ContentLang+=","+Languages_value[e].set_values);Main_ContentLang=Main_ContentLang.slice(1)}Languages_Selected=""===Main_ContentLang?STR_LANG_ALL:Main_ContentLang.toUpperCase()}function Languages_SetSettings(){var e="";for(var a in Languages_value)Languages_value_keys.push(a),Languages_value[a].values=[STR_NO,STR_YES],e+=Languages_DivOptionNoSummary(a,a);Main_innerHTML("settings_lang",e),Languages_positions_length=Languages_value_keys.length}function Languages_DivOptionNoSummary(e,a){return'<div id="'+e+'_div" class="settings_div"><div id="'+e+'_name" class="settings_name">'+a+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_left" class="left"></div></div><div id="'+e+'" class="'+(Languages_Obj_default(e)?"red_text ":"")+'strokedeline settings_value">'+Languages_Obj_values(e)+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_right" class="right"></div></div></div>'}function Languages_SetDefautls(){for(var e in Languages_value)Languages_value[e].defaultValue=Main_getItemInt(e,Languages_value[e].defaultValue),Languages_value[e].defaultValue-=1;Languages_SetLang()}function Languages_Obj_values(e){return Languages_value[e].values[Languages_Obj_default(e)]}function Languages_Obj_default(e){return Languages_value[e].defaultValue}function Languages_Obj_length(e){return Languages_value[e].values.length-1}function Languages_inputFocus(e){var a=Languages_value_keys[Languages_cursorY];Main_AddClass(a,"settings_value_focus"),Main_AddClass(a+"_div","settings_div_focus"),Languages_Setarrows(e),Languages_ScrollTable(a)}function Languages_RemoveinputFocus(){var e=Languages_value_keys[Languages_cursorY];document.getElementById(e+"arrow_left").style.opacity="0",document.getElementById(e+"arrow_right").style.opacity="0",Main_RemoveClass(e,"settings_value_focus"),Main_RemoveClass(e+"_div","settings_div_focus")}function Languages_ScrollTable(){document.getElementById("settings_scroll").scrollTop=7<Languages_cursorY?document.getElementById(Languages_value_keys[Languages_cursorY-7]).offsetTop:0}function Languages_ChangeSettigs(e){var a=Languages_value_keys[e];Main_setItem(a,Languages_Obj_default(a)+1),Main_textContent(a,Languages_Obj_values(a)),Languages_Setarrows(e)}function Languages_Setarrows(e){var a=Languages_value_keys[e],n=Languages_Obj_default(a),t=Languages_Obj_length(a);0<n&&n<t?(document.getElementById(a+"arrow_left").style.opacity="1",document.getElementById(a+"arrow_right").style.opacity="1"):n===t?(document.getElementById(a+"arrow_left").style.opacity="1",document.getElementById(a+"arrow_right").style.opacity="0.2"):(document.getElementById(a+"arrow_left").style.opacity="0.2",document.getElementById(a+"arrow_right").style.opacity="1")}function Languages_HideShowAll(){for(var e in Languages_value)-1===e.indexOf("All")&&(document.getElementById(e+"_div").style.display=Languages_Obj_default("All")?"none":"inline-block")}function Languages_handleKeyDown(e){var a;switch(e.keyCode){case KEY_RETURN:Languages_exit();break;case KEY_LEFT:0<Languages_Obj_default(a=Languages_value_keys[Languages_cursorY])&&(Languages_value[a].defaultValue-=1,Languages_ChangeSettigs(Languages_cursorY),Main_RemoveClass(Languages_value_keys[Languages_cursorY],"red_text"),-1!==a.indexOf("All")&&Languages_HideShowAll());break;case KEY_RIGHT:Languages_Obj_default(a=Languages_value_keys[Languages_cursorY])<Languages_Obj_length(a)&&(Languages_value[a].defaultValue+=1,Languages_ChangeSettigs(Languages_cursorY),Main_AddClass(Languages_value_keys[Languages_cursorY],"red_text"),-1!==a.indexOf("All")&&Languages_HideShowAll());break;case KEY_UP:0<Languages_cursorY&&(Languages_RemoveinputFocus(),Languages_inputFocus(--Languages_cursorY));break;case KEY_DOWN:!Languages_Obj_default("All")&&Languages_cursorY<Languages_positions_length-1&&(Languages_RemoveinputFocus(),Languages_inputFocus(++Languages_cursorY))}}var Sidepannel_Callback,Sidepannel_UpdateThumbDoc,Sidepannel_PosFeed=0,Sidepannel_IsMain=!0,Sidepannel_MoveldefaultMargin=14.5,Sidepannel_FixdefaultMargin=4,Sidepannel_MoveldefaultWidth=Sidepannel_MoveldefaultMargin+Sidepannel_FixdefaultMargin;function Sidepannel_AddFocusMain(){Main_AddClass("side_panel_movel_new_"+Main_values.Sidepannel_Pos,"side_panel_new_icons_text")}function Sidepannel_RemoveFocusMain(){Main_RemoveClass("side_panel_movel_new_"+Main_values.Sidepannel_Pos,"side_panel_new_icons_text")}function Sidepannel_AddFocusFeed(){Sidepannel_GetSize()?(Main_AddClass(UserLiveFeed_side_ids[0]+Sidepannel_PosFeed,"side_panel_div_focused"),Sidepannel_Scroll(),Sidepannel_UpdateThumb()):document.getElementById("side_panel_warn").style.display="inline-block"}function Sidepannel_RemoveFocusFeed(){Main_RemoveClass(UserLiveFeed_side_ids[0]+Sidepannel_PosFeed,"side_panel_div_focused")}function Sidepannel_isShowing(){return-1===document.getElementById("side_panel").className.indexOf("side_panel_hide")}function Sidepannel_UpdateThumb(){var e=JSON.parse(document.getElementById(UserLiveFeed_side_ids[8]+Sidepannel_PosFeed).getAttribute("side_panel_data"));Sidepannel_UpdateThumbDoc.onerror=function(){this.onerror=null,this.src=IMG_404_VIDEO},Sidepannel_UpdateThumbDoc.src=e[2]+Main_randomimg,Main_innerHTML("feed_thum_name",Sidepannel_partnerIcon(e[3],e[9],e[8])),Main_innerHTML("feed_thum_quality",e[7]),Main_innerHTML("feed_thum_title",twemoji.parse(e[4])),Main_innerHTML("feed_thum_game",""!==e[5]?STR_PLAYING+e[5]:""),Main_innerHTML("feed_thum_views",e[6]),Main_isElementShowing("side_panel_feed_holder")&&Sidepannel_isShowing()&&Main_ShowElement("side_panel_feed_thumb")}function Sidepannel_partnerIcon(e,a,n){return'<div class="partnericon_div"> '+e+STR_SPACE+STR_SPACE+"</div>"+(a?'<img class="partnericon_img" alt="" src="'+IMG_PARTNER+'">'+STR_SPACE+STR_SPACE:"")+'<div class="partnericon_text" style="background: #'+(n?"FFFFFF; color: #000000;":"E21212;")+'">'+STR_SPACE+STR_SPACE+(n?STR_NOT_LIVE:STR_LIVE)+STR_SPACE+STR_SPACE+"</div>"}function Sidepannel_PreloadImgs(){for(var e,a=0;a<Sidepannel_GetSize();a++)null!==(e=document.getElementById(UserLiveFeed_side_ids[8]+a))&&((new Image).src=JSON.parse(e.getAttribute("side_panel_data"))[2]+Main_randomimg)}function Sidepannel_GetSize(){return document.getElementById("side_panel_holder").getElementsByClassName("side_panel_feed").length}function Sidepannel_KeyEnterUser(){var e=!0;if(6===Main_values.Sidepannel_Pos&&!AddUser_UsernameArray[0].access_token)return Main_showWarningDialog(STR_NOKEY_VIDEO_WARN),void window.setTimeout(Main_HideWarningDialog,5e3);2===Main_values.Sidepannel_Pos?(Main_values.Sidepannel_IsUser=!1,Sidepannel_SetDefaultLables(),Sidepannel_UnSetTopOpacity(),Sidepannel_MainISuser()||(Sidepannel_RemoveFocusMain(),Main_values.Sidepannel_Pos++,Sidepannel_SetTopOpacity(Main_values.Main_Go),Sidepannel_AddFocusMain()),e=!1):3===Main_values.Sidepannel_Pos?Sidepannel_Go(Main_UserLive):4===Main_values.Sidepannel_Pos?Sidepannel_Go(Main_UserHost):5===Main_values.Sidepannel_Pos?Sidepannel_Go(Main_usergames):6===Main_values.Sidepannel_Pos?Sidepannel_Go(Main_UserVod):7===Main_values.Sidepannel_Pos?Sidepannel_Go(Main_UserChannels):8===Main_values.Sidepannel_Pos?(Main_values.Main_selectedChannel_id=AddUser_UsernameArray[0].id,Main_values.Main_selectedChannelDisplayname=AddUser_UsernameArray[0].display_name?AddUser_UsernameArray[0].display_name:AddUser_UsernameArray[0].name,Main_values.Main_selectedChannel=AddUser_UsernameArray[0].name,Main_values.Main_BeforeChannel=Main_values.Main_Go,Main_values.Main_Go=Main_ChannelContent,Main_values.Main_BeforeChannelisSet=!0,ChannelContent_UserChannels=AddCode_IsFallowing=!1,Main_ExitCurrent(Main_values.Main_BeforeChannel),Main_values.My_channel=!0,Main_SwitchScreen()):Sidepannel_KeyEnterBase(),e&&Sidepannel_Hide()}function Sidepannel_MainISuser(){return Main_values.Main_Go===Main_UserLive||Main_values.Main_Go===Main_UserHost||Main_values.Main_Go===Main_usergames||Main_values.Main_Go===Main_UserVod||Main_values.Main_Go===Main_UserChannels||Main_values.Main_Go===Main_ChannelContent}function Sidepannel_KeyEnterBase(){Main_values.Sidepannel_Pos?1===Main_values.Sidepannel_Pos?Main_values.Main_Go!==Main_Search?(Main_values.Search_isSearching||Main_values.Main_Go!==Main_ChannelContent&&Main_values.Main_Go!==Main_ChannelClip&&Main_values.Main_Go!==Main_ChannelVod||ChannelContent_SetChannelValue(),Main_OpenSearch()):document.body.addEventListener("keydown",Sidepannel_Callback,!1):9===Main_values.Sidepannel_Pos?Main_showSettings():10===Main_values.Sidepannel_Pos?(document.body.removeEventListener("keydown",Sidepannel_Callback,!1),document.body.addEventListener("keydown",Screens_handleKeyControls),Main_showAboutDialog()):11===Main_values.Sidepannel_Pos?(document.body.removeEventListener("keydown",Sidepannel_Callback,!1),document.body.addEventListener("keydown",Screens_handleKeyControls),Main_showControlsDialog()):12===Main_values.Sidepannel_Pos&&Main_showExitDialog(Sidepannel_Callback):(Main_values.Main_Before=Main_values.Main_Go,Main_ExitCurrent(Main_values.Main_Go),AddUser_UserIsSet()?Users_init():AddUser_init())}function Sidepannel_KeyEnter(){if(Main_values.Sidepannel_IsUser)Sidepannel_KeyEnterUser();else{var e=!0;2===Main_values.Sidepannel_Pos?(Sidepannel_SetUserLables(),Sidepannel_UnSetTopOpacity(),Sidepannel_MainISuser()&&(Sidepannel_RemoveFocusMain(),Sidepannel_SetTopOpacity(Main_values.Main_Go),Sidepannel_AddFocusMain()),e=!1):3===Main_values.Sidepannel_Pos?Sidepannel_Go(Main_Live):4===Main_values.Sidepannel_Pos?Sidepannel_Go(Main_Featured):5===Main_values.Sidepannel_Pos?Sidepannel_Go(Main_games):6===Main_values.Sidepannel_Pos?Sidepannel_Go(Main_Vod):7===Main_values.Sidepannel_Pos?Sidepannel_Go(Main_Clip):Sidepannel_KeyEnterBase(),e&&Sidepannel_Hide()}}function Sidepannel_Go(e){e===Main_values.Main_Go?document.body.addEventListener("keydown",Sidepannel_Callback,!1):(Main_values.Main_Before=Main_values.Main_Go,Main_values.Main_Go=e,Main_ExitCurrent(Main_values.Main_Before),Main_SwitchScreen())}function Sidepannel_Start(e){Sidepannel_Callback=e,document.body.removeEventListener("keydown",Sidepannel_Callback),!Sidepannel_IsMain&&AddUser_UserIsSet()?Sidepannel_StartFeed():Sidepannel_StartMain()}function Sidepannel_StartMain(){Main_RemoveClass("scenefeed","scenefeed_background"),Sidepannel_IsMain=!0,Main_ShowElement("side_panel_fix"),document.getElementById("side_panel_movel").style.marginLeft=0,document.getElementById("side_panel_fix").style.marginLeft="",document.body.addEventListener("keydown",Sidepannel_handleKeyDownMain,!1),Sidepannel_AddFocusMain()}function Sidepannel_StartFeed(){Sidepannel_IsMain=!1,document.body.addEventListener("keydown",Sidepannel_handleKeyDown,!1),Main_RemoveClass("side_panel","side_panel_hide"),Sidepannel_ShowFeed(),Sidepannel_HideMain(!0)}function Sidepannel_ShowFeed(){Main_AddClass("scenefeed","scenefeed_background"),Play_FeedOldUserName!==AddUser_UsernameArray[0].name&&(UserLiveFeed_status=!1),Play_FeedOldUserName=AddUser_UsernameArray[0].name,UserLiveFeed_ThumbNull(0,UserLiveFeed_ids[0])||(UserLiveFeed_status=!1),UserLiveFeed_status||UserLiveFeed_loadingData||UserLiveFeed_StartLoad(),null!==document.getElementById(UserLiveFeed_side_ids[0]+Sidepannel_PosFeed)&&(Sidepannel_AddFocusFeed(),window.setTimeout(Sidepannel_PreloadImgs,600))}function Sidepannel_HideMain(e){var a=AddUser_UsernameArray[0]?AddUser_UsernameArray[0].display_name.length:STR_USER_ADD;a=11<a?a-11:0,e&&(document.getElementById("side_panel_fix").style.marginLeft="-"+Sidepannel_FixdefaultMargin+"%"),document.getElementById("side_panel_movel").style.marginLeft="calc(-"+(e?Sidepannel_MoveldefaultWidth+.5:Sidepannel_MoveldefaultMargin)+"% - "+a+"ch)"}function Sidepannel_Hide(){Sidepannel_HideMain(),Sidepannel_RemoveFocusMain(),Sidepannel_SetTopOpacity(Main_values.Main_Go),Main_ShowElement("side_panel_fix"),document.getElementById("side_panel_fix").style.marginLeft="",Main_AddClass("side_panel","side_panel_hide"),Main_HideElement("side_panel_feed_thumb"),Main_RemoveClass("scenefeed","scenefeed_background"),document.body.removeEventListener("keydown",Sidepannel_handleKeyDown),document.body.removeEventListener("keydown",Sidepannel_handleKeyDownMain)}function Sidepannel_SetTopOpacity(e){Sidepannel_Pos_Screens[e]&&(Main_values.Sidepannel_Pos=Sidepannel_Pos_Screens[e]),Sidepannel_UnSetTopOpacity(),Main_values.Sidepannel_Pos&&Main_values.Sidepannel_Pos<9&&Main_AddClass("side_panel_new_"+Main_values.Sidepannel_Pos,"side_panel_new_icons_text")}var Sidepannel_Pos_Screens=[1,3,0,4,5,6,7,3,4,5,6,7,1,1,1,0,0,0,0,5,5,5];function Sidepannel_UnSetTopOpacity(){for(var e=1;e<9;e++)Main_RemoveClass("side_panel_new_"+e,"side_panel_new_icons_text")}function Sidepannel_SetUserLables(){Main_values.Sidepannel_IsUser=!0,Main_innerHTML("side_panel_movel_user_text",STR_SPACE+STR_USER_MENU+STR_SPACE),Main_ShowElement("side_panel_movel_user_text_holder"),Main_ShowElement("side_panel_movel_new_8"),Main_ShowElement("side_panel_new_8"),Main_innerHTML("side_panel_movel_new_2",STR_SPACE+STR_MAIN_MENU),Main_innerHTML("side_panel_movel_new_4",STR_SPACE+STR_LIVE_HOSTS),Main_innerHTML("side_panel_movel_new_5",STR_SPACE+STR_GAMES),Main_innerHTML("side_panel_movel_new_6",STR_SPACE+STR_VIDEOS),Main_innerHTML("side_panel_movel_new_7",STR_SPACE+STR_CHANNELS),Main_innerHTML("side_panel_movel_new_8",STR_SPACE+STR_USER_MY_CHANNEL),Sidepannel_SetIcons("side_panel_new_2","arrow-left"),Sidepannel_SetIcons("side_panel_new_4","users"),Sidepannel_SetIcons("side_panel_new_5","gamepad"),Sidepannel_SetIcons("side_panel_new_6","movie-play"),Sidepannel_SetIcons("side_panel_new_7","filmstrip")}function Sidepannel_SetDefaultLables(){AddUser_UsernameArray[0]?Sidepannel_SetUserlable(AddUser_UsernameArray[0].display_name):Sidepannel_SetUserlable(STR_USER_ADD),Main_HideElement("side_panel_movel_new_8"),Main_HideElement("side_panel_new_8"),Main_HideElement("side_panel_movel_user_text_holder"),Main_innerHTML("side_panel_movel_new_1",STR_SPACE+STR_SEARCH),Main_innerHTML("side_panel_movel_new_2",STR_SPACE+STR_USER_MENU),Main_innerHTML("side_panel_movel_new_3",STR_SPACE+STR_LIVE),Main_innerHTML("side_panel_movel_new_4",STR_SPACE+STR_FEATURED),Main_innerHTML("side_panel_movel_new_5",STR_SPACE+STR_GAMES),Main_innerHTML("side_panel_movel_new_6",STR_SPACE+STR_VIDEOS),Main_innerHTML("side_panel_movel_new_7",STR_SPACE+STR_CLIPS),Main_innerHTML("side_panel_movel_new_8",STR_SPACE+STR_USER_MY_CHANNEL),Main_innerHTML("side_panel_movel_new_9",STR_SPACE+STR_SETTINGS),Main_innerHTML("side_panel_movel_new_10",STR_SPACE+STR_ABOUT),Main_innerHTML("side_panel_movel_new_11",STR_SPACE+STR_CONTROLS),Main_innerHTML("side_panel_movel_new_12",STR_SPACE+STR_EXIT),Sidepannel_SetIcons("side_panel_new_1","search"),Sidepannel_SetIcons("side_panel_new_2","user"),Sidepannel_SetIcons("side_panel_new_3","play"),Sidepannel_SetIcons("side_panel_new_4","star"),Sidepannel_SetIcons("side_panel_new_5","gamepad"),Sidepannel_SetIcons("side_panel_new_6","movie-play"),Sidepannel_SetIcons("side_panel_new_7","movie"),Sidepannel_SetIcons("side_panel_new_8","user")}function Sidepannel_SetUserlable(e){Main_innerHTML("side_panel_movel_new_0",STR_SPACE+e+STR_BR+'<div style="font-size: 45%;display: inline-block; transform: translateY(-80%);">'+STR_SPACE+STR_SPACE+STR_USER_EXTRAS+"</div>")}function Sidepannel_SetIcons(e,a){a?Main_innerHTML(e,'<i class="icon icon-'+a+' side_panel_new_icons_pad"></i>'):Main_textContent(e,"")}function Sidepannel_Scroll(){var e="0%";6<Sidepannel_PosFeed&&(Sidepannel_PosFeed<Sidepannel_GetSize()-6?e="calc(-18.115% *"+(Sidepannel_PosFeed-6)+")":0<Sidepannel_GetSize()-6-6&&(e="calc(-18.115% *"+(Sidepannel_GetSize()-6-6)+")")),document.getElementById("side_panel_holder").style.marginTop=e}function Sidepannel_handleKeyDown(e){switch(e.keyCode){case KEY_RETURN:Sidepannel_Hide(),Main_SwitchScreenAction();break;case KEY_RIGHT:Main_AddClass("side_panel","side_panel_hide"),Main_RemoveClass("scenefeed","scenefeed_background"),Main_HideElement("side_panel_feed_thumb"),document.body.removeEventListener("keydown",Sidepannel_handleKeyDown),Sidepannel_StartMain();break;case KEY_LEFT:UserLiveFeed_FeedRefreshFocus();break;case KEY_UP:Sidepannel_PosFeed&&!UserLiveFeed_loadingData&&(Sidepannel_RemoveFocusFeed(),Sidepannel_PosFeed--,Sidepannel_AddFocusFeed());break;case KEY_DOWN:Sidepannel_PosFeed<Sidepannel_GetSize()-1&&!UserLiveFeed_loadingData&&(Sidepannel_RemoveFocusFeed(),Sidepannel_PosFeed++,Sidepannel_AddFocusFeed());break;case KEY_ENTER:var a=document.getElementById("side_panel");a.style.transition="none",Sidepannel_Hide(),Main_values.Play_isHost=!1,Play_UserLiveFeedPressed=!0,Main_ready(function(){Main_OpenLiveStream(Sidepannel_PosFeed,UserLiveFeed_side_ids,Sidepannel_handleKeyDown),a.style.transition=""})}}function Sidepannel_handleKeyDownMain(e){switch(e.keyCode){case KEY_RETURN:case KEY_RIGHT:Sidepannel_Hide(),Main_SwitchScreenAction();break;case KEY_LEFT:AddUser_UserIsSet()?(document.body.removeEventListener("keydown",Sidepannel_handleKeyDownMain),Main_ShowElement("side_panel_feed_thumb"),Sidepannel_StartFeed()):(Main_showWarningDialog(STR_NOKUSER_WARN),window.setTimeout(Main_HideWarningDialog,2e3));break;case KEY_UP:Main_values.Sidepannel_Pos&&(Sidepannel_RemoveFocusMain(),Main_values.Sidepannel_Pos--,Main_values.Sidepannel_IsUser||8!==Main_values.Sidepannel_Pos||Main_values.Sidepannel_Pos--,Sidepannel_AddFocusMain());break;case KEY_DOWN:Main_values.Sidepannel_Pos<12&&(Sidepannel_RemoveFocusMain(),Main_values.Sidepannel_Pos++,Main_values.Sidepannel_IsUser||8!==Main_values.Sidepannel_Pos||Main_values.Sidepannel_Pos++,Sidepannel_AddFocusMain());break;case KEY_ENTER:Sidepannel_KeyEnter()}}var UserLiveFeed_Feedid,UserLiveFeed_loadingData=!1,UserLiveFeed_loadingDataTry=0,UserLiveFeed_loadingDataTimeout=3500,UserLiveFeed_loadChannelOffsset=0,UserLiveFeed_loadingDataTryMax=5,UserLiveFeed_dataEnded=!1,UserLiveFeed_followerChannels="",UserLiveFeed_idObject={},UserLiveFeed_status=!1,UserLiveFeed_LastPos=null,UserSidePannel_LastPos=null,UserLiveFeed_token=null,UserLiveFeed_CheckNotifycation=!1,UserLiveFeed_WasLiveidObject={},UserLiveFeed_NotifyLiveidObject=[],UserLiveFeed_Notify=!0,UserLiveFeed_NotifyTimeout=3e3,UserLiveFeed_ids=["ulf_thumbdiv","ulf_img","ulf_infodiv","ulf_displayname","ulf_streamtitle","ulf_streamgame","ulf_viwers","ulf_quality","ulf_cell","ulempty_","user_live_scroll"],UserLiveFeed_side_ids=["usf_thumbdiv","usf_img","usf_infodiv","usf_displayname","usf_streamtitle","usf_streamgame","usf_viwers","usf_quality","usf_cell","ulempty_","user_live_scroll"];function UserLiveFeed_StartLoad(){AddUser_UserIsSet()&&(UserLiveFeed_clearHideFeed(),UserLiveFeed_status?(UserLiveFeed_ThumbNull(Play_FeedPos,UserLiveFeed_ids[0])&&(UserLiveFeed_LastPos=JSON.parse(document.getElementById(UserLiveFeed_ids[8]+Play_FeedPos).getAttribute(Main_DataAttribute))[0]),UserLiveFeed_ThumbNull(Sidepannel_PosFeed,UserLiveFeed_side_ids[0])&&(UserSidePannel_LastPos=JSON.parse(document.getElementById(UserLiveFeed_side_ids[8]+Sidepannel_PosFeed).getAttribute(Main_DataAttribute))[0])):UserLiveFeed_LastPos=UserSidePannel_LastPos=null,Main_empty("user_feed_scroll"),Main_HideElement("side_panel_feed_thumb"),Sidepannel_PosFeed=0,Main_empty("side_panel_holder"),document.getElementById("side_panel_warn").style.display="none",UserLiveFeed_status=!1,document.getElementById("user_feed_scroll").style.left="0.125em",Main_ShowElement("dialog_loading_feed"),Main_ShowElement("dialog_loading_side_feed"),UserLiveFeed_followerChannels="",Play_FeedPos=UserLiveFeed_loadChannelOffsset=0,UserLiveFeed_idObject={},UserLiveFeed_loadDataPrepare(),UserLiveFeed_CheckToken())}function UserLiveFeed_CheckToken(){(UserLiveFeed_token=AddUser_UsernameArray[0].access_token)?(UserLiveFeed_token=Main_OAuth+UserLiveFeed_token,UserLiveFeed_loadChannelUserLive()):(UserLiveFeed_loadDataPrepare(),UserLiveFeed_token=null,UserLiveFeed_loadChannels())}function UserLiveFeed_loadDataPrepare(){UserLiveFeed_loadingData=!0,UserLiveFeed_loadingDataTry=0,UserLiveFeed_loadingDataTimeout=3500}function UserLiveFeed_loadChannels(){BasexmlHttpGet("https://api.twitch.tv/kraken/users/"+encodeURIComponent(AddUser_UsernameArray[0].id)+"/follows/channels?limit=100&offset="+UserLiveFeed_loadChannelOffsset+"&sortby=created_at",UserLiveFeed_loadingDataTimeout,2,null,UserLiveFeed_loadChannelLive,UserLiveFeed_loadDataError,!1)}function UserLiveFeed_loadDataError(){++UserLiveFeed_loadingDataTry<UserLiveFeed_loadingDataTryMax?(UserLiveFeed_loadingDataTimeout+=500,UserLiveFeed_loadChannels()):(UserLiveFeed_loadingData=!1,UserLiveFeed_GetSize()?(UserLiveFeed_dataEnded=!0,UserLiveFeed_loadDataSuccessFinish()):(Main_HideElement("dialog_loading_feed"),Main_HideElement("dialog_loading_side_feed"),UserLiveFeed_isFeedShow()&&(Play_showWarningDialog(STR_REFRESH_PROBLEM),window.setTimeout(function(){Play_HideWarningDialog()},2e3))))}function UserLiveFeed_loadChannelLive(e){var a=JSON.parse(e).follows,n=a.length;if(n){for(var t="",i=0;i<n;i++)t=a[i].channel._id+",",-1===UserLiveFeed_followerChannels.indexOf(t)&&(UserLiveFeed_followerChannels+=t);UserLiveFeed_loadChannelOffsset+=n,UserLiveFeed_loadDataPrepare(),UserLiveFeed_loadChannels()}else UserLiveFeed_followerChannels=UserLiveFeed_followerChannels.slice(0,-1),UserLiveFeed_loadDataPrepare(),Main_ready(UserLiveFeed_loadChannelUserLive)}function UserLiveFeed_loadChannelUserLive(){var e="https://api.twitch.tv/kraken/streams/";e+=UserLiveFeed_token?"followed?":"?channel="+encodeURIComponent(UserLiveFeed_followerChannels)+"&",UserLiveFeed_loadChannelUserLiveGet(e+="limit=100&offset=0&stream_type=all")}function UserLiveFeed_loadChannelUserLiveGet(e){var a=new XMLHttpRequest;a.open("GET",e,!0),a.timeout=UserLiveFeed_loadingDataTimeout,a.setRequestHeader(Main_clientIdHeader,Main_clientId),a.setRequestHeader(Main_AcceptHeader,Main_TwithcV5Json),UserLiveFeed_token&&a.setRequestHeader(Main_Authorization,UserLiveFeed_token),a.ontimeout=function(){},a.onreadystatechange=function(){4===a.readyState&&(200===a.status?UserLiveFeed_loadDataSuccess(a.responseText):!UserLiveFeed_token||401!==a.status&&403!==a.status?UserLiveFeed_loadDataErrorLive():AddCode_refreshTokens(0,0,UserLiveFeed_CheckToken,UserLiveFeed_loadDataRefreshTokenError))},a.send(null)}function UserLiveFeed_loadDataRefreshTokenError(){AddUser_UsernameArray[0].access_token?UserLiveFeed_loadDataErrorLive():UserLiveFeed_CheckToken()}function UserLiveFeed_loadDataErrorLive(){++UserLiveFeed_loadingDataTry<UserLiveFeed_loadingDataTryMax?(UserLiveFeed_loadingDataTimeout+=500,UserLiveFeed_loadChannelUserLive()):(UserLiveFeed_loadingData=!1,Main_HideElement("dialog_loading_feed"),Main_HideElement("dialog_loading_side_feed"),UserLiveFeed_isFeedShow()&&(Play_showWarningDialog(STR_REFRESH_PROBLEM),window.setTimeout(function(){Play_HideWarningDialog()},2e3)))}function UserLiveFeed_loadDataSuccess(e){var a=JSON.parse(e).streams,n=a.length,t=Settings_Obj_default("live_feed_sort");n<Main_ItemsLimitVideo&&(UserLiveFeed_dataEnded=!0);var i,l,s=document.getElementById("user_feed_scroll"),_=document.getElementById("side_panel_holder"),o=0;for(UserLiveFeed_WasLiveidObject[AddUser_UsernameArray[0].name]||(UserLiveFeed_WasLiveidObject[AddUser_UsernameArray[0].name]={},UserLiveFeed_CheckNotifycation=!1),t&&a.sort(function(e,a){return(1===t?e.channel.display_name:a.channel.display_name).toLowerCase().localeCompare((1===t?a.channel.display_name:e.channel.display_name).toLowerCase())});o<n;o++)l=(i=a[o]).channel._id,UserLiveFeed_idObject[l]||(UserLiveFeed_WasLiveidObject[AddUser_UsernameArray[0].name][l]||UserLiveFeed_NotifyLiveidObject.push({name:i.channel.display_name,logo:i.channel.logo,game:i.game,rerun:Main_is_rerun(i.stream_type)}),UserLiveFeed_idObject[l]=1,null!==UserLiveFeed_LastPos&&UserLiveFeed_LastPos===i.channel.name&&(Play_FeedPos=o),s.appendChild(UserLiveFeed_CreatFeed(o,[i.channel.name,l,Main_is_rerun(i.stream_type)],[i.preview.template.replace("{width}x{height}",Main_VideoSize),i.channel.display_name,i.game,Main_addCommas(i.viewers)])),null!==UserSidePannel_LastPos&&UserSidePannel_LastPos===i.channel.name&&(Sidepannel_PosFeed=o),_.appendChild(UserLiveFeed_CreatSideFeed(o,[i.channel.name,l,Main_is_rerun(i.stream_type)],[i.channel.name,l,i.preview.template.replace("{width}x{height}",Main_SidePannelSize),i.channel.display_name,i.channel.status,i.game,STR_SINCE+Play_streamLiveAt(i.created_at)+" "+STR_FOR+Main_addCommas(i.viewers)+STR_SPACE+STR_VIEWER,Main_videoqualitylang(i.video_height,i.average_fps,i.channel.broadcaster_language),Main_is_rerun(i.stream_type),i.channel.partner],[i.channel.logo,i.channel.display_name,i.channel.display_name,i.game,Main_addCommas(i.viewers)])));UserLiveFeed_WasLiveidObject[AddUser_UsernameArray[0].name]=JSON.parse(JSON.stringify(UserLiveFeed_idObject)),UserLiveFeed_loadDataSuccessFinish()}function UserLiveFeed_loadDataSuccessFinish(){UserLiveFeed_status=!(UserLiveFeed_loadingData=!1),Main_ready(function(){Main_HideElement("dialog_loading_feed"),Main_HideElement("dialog_loading_side_feed"),UserLiveFeed_FeedAddFocus(),Sidepannel_AddFocusFeed(),window.setTimeout(Sidepannel_PreloadImgs,600),UserLiveFeed_CheckNotifycation?UserLiveFeed_LiveNotification():(UserLiveFeed_NotifyLiveidObject=[],UserLiveFeed_CheckNotifycation=!0)})}function UserLiveFeed_LiveNotification(){UserLiveFeed_Notify&&UserLiveFeed_NotifyLiveidObject.length?UserLiveFeed_LiveNotificationShow(0):UserLiveFeed_NotifyLiveidObject=[]}function UserLiveFeed_LiveNotificationShow(e){Main_innerHTML("user_feed_notify_name",'<i class="icon-'+(UserLiveFeed_NotifyLiveidObject[e].rerun?'refresh" style="':'circle" style="color: red;')+' font-size: 75%; "></i>'+STR_SPACE+UserLiveFeed_NotifyLiveidObject[e].name),Main_textContent("user_feed_notify_game",UserLiveFeed_NotifyLiveidObject[e].game),document.getElementById("user_feed_notify_img").src=UserLiveFeed_NotifyLiveidObject[e].logo,Main_ready(function(){Main_RemoveClass("user_feed_notify","user_feed_notify_hide"),window.setTimeout(function(){UserLiveFeed_LiveNotificationHide(e)},UserLiveFeed_NotifyTimeout)})}function UserLiveFeed_LiveNotificationHide(e){Main_AddClass("user_feed_notify","user_feed_notify_hide"),e<UserLiveFeed_NotifyLiveidObject.length-1?window.setTimeout(function(){UserLiveFeed_LiveNotificationShow(e+1)},800):UserLiveFeed_NotifyLiveidObject=[]}function UserLiveFeed_GetSize(){return document.getElementById("user_feed_scroll").getElementsByClassName("user_feed_thumb").length}function UserLiveFeed_CreatFeed(e,a,n){var t=document.createElement("div");return t.setAttribute("id",UserLiveFeed_ids[8]+e),t.setAttribute(Main_DataAttribute,JSON.stringify(a)),t.className="user_feed_thumb",t.innerHTML='<div id="'+UserLiveFeed_ids[0]+e+'" class="stream_thumbnail_player_feed" ><div class="stream_thumbnail_live_img"><img id="'+UserLiveFeed_ids[1]+e+'" alt="" class="stream_img" src="'+n[0]+Main_randomimg+'" onerror="this.onerror=null;this.src=\''+IMG_404_VIDEO+'\'"></div><div id="'+UserLiveFeed_ids[2]+e+'" class="player_live_feed_text"><div style="line-height: 1.6ch;"><div id="'+UserLiveFeed_ids[3]+e+'" class="stream_info_live_name" style="width: 63%; display: inline-block;">'+n[1]+'</div><div "class="stream_info_live" style="width:36%; float: right; text-align: right; display: inline-block; font-size: 75%; "><i class="icon-'+(a[2]?'refresh" style="':'circle" style="color: red;')+' font-size: 75%; "></i>'+STR_SPACE+n[3]+'</div></div><div id="'+UserLiveFeed_ids[5]+e+'"class="stream_info_live">'+n[2]+"</div></div></div>",t}function UserLiveFeed_CreatSideFeed(e,a,n,t){var i=document.createElement("div");return i.setAttribute("id",UserLiveFeed_side_ids[8]+e),i.setAttribute(Main_DataAttribute,JSON.stringify(a)),i.setAttribute("side_panel_data",JSON.stringify(n)),i.className="side_panel_feed",i.innerHTML='<div id="'+UserLiveFeed_side_ids[0]+e+'" class="side_panel_div"><div id="'+UserLiveFeed_side_ids[2]+e+'" style="width: 100%;"><div id="'+UserLiveFeed_side_ids[3]+e+'" style="display: none;">'+t[1]+'</div><div class="side_panel_iner_div1"><img id="'+UserLiveFeed_side_ids[1]+e+'" class="side_panel_channel_img" src="'+t[0]+'" onerror="this.onerror=null;this.src=\''+IMG_404_LOGO+'\'"></div><div class="side_panel_iner_div2"><div id="'+UserLiveFeed_side_ids[4]+e+'" class="side_panel_new_title">'+t[2]+'</div><div id="'+UserLiveFeed_side_ids[5]+e+'" class="side_panel_new_game">'+t[3]+'</div></div><div class="side_panel_iner_div3"><div style="text-align: center;"><i class="icon-'+(a[2]?'refresh" style="':'circle" style="color: red;')+' font-size: 55%; "></i><div style="font-size: 58%;">'+t[4]+"</div></div></div></div></div></div>",i}function UserLiveFeed_isFeedShow(){return-1===document.getElementById("user_feed").className.indexOf("user_feed_hide")}function UserLiveFeed_ShowFeed(){var e=AddUser_UserIsSet();e&&(Play_FeedOldUserName!==AddUser_UsernameArray[0].name&&(UserLiveFeed_status=!1),Play_FeedOldUserName=AddUser_UsernameArray[0].name),e&&UserLiveFeed_ThumbNull(0,UserLiveFeed_ids[0])||(UserLiveFeed_status=!1),UserLiveFeed_status||UserLiveFeed_loadingData||UserLiveFeed_StartLoad(),e&&(Main_RemoveClass("user_feed","user_feed_hide"),UserLiveFeed_FeedAddFocus())}function UserLiveFeed_Hide(){Main_AddClass("user_feed","user_feed_hide")}function UserLiveFeed_ResetFeedId(){UserLiveFeed_clearHideFeed(),UserLiveFeed_setHideFeed()}function UserLiveFeed_clearHideFeed(){window.clearTimeout(UserLiveFeed_Feedid)}function UserLiveFeed_setHideFeed(){UserLiveFeed_isFeedShow()&&(UserLiveFeed_Feedid=window.setTimeout(UserLiveFeed_Hide,5500))}function UserLiveFeed_FeedRefreshFocus(){UserLiveFeed_clearHideFeed(),UserLiveFeed_loadingData?window.setTimeout(function(){UserLiveFeed_loadingData=!1},15e3):UserLiveFeed_StartLoad()}function UserLiveFeed_FeedAddFocus(){UserLiveFeed_ResetFeedId(),UserLiveFeed_ThumbNull(Play_FeedPos,UserLiveFeed_ids[0])&&(Main_AddClass(UserLiveFeed_ids[0]+Play_FeedPos,"feed_thumbnail_focused"),UserLiveFeed_FeedSetPos())}function UserLiveFeed_FeedGetPos(){return Play_FeedPos<3?2.5:UserLiveFeed_ThumbNull(Play_FeedPos+2,UserLiveFeed_ids[0])?-1*document.getElementById(UserLiveFeed_ids[8]+(Play_FeedPos-2)).offsetLeft:UserLiveFeed_ThumbNull(Play_FeedPos+1,UserLiveFeed_ids[0])?-1*document.getElementById(UserLiveFeed_ids[8]+(Play_FeedPos-3)).offsetLeft:-1*document.getElementById(UserLiveFeed_ids[8]+(Play_FeedPos-(3<Play_FeedPos?4:3))).offsetLeft}function UserLiveFeed_FeedSetPos(){var e=UserLiveFeed_FeedGetPos();e&&(document.getElementById("user_feed_scroll").style.left=e/BodyfontSize+"em")}function UserLiveFeed_ThumbNull(e,a){return null!==document.getElementById(a+e)}function UserLiveFeed_FeedRemoveFocus(){UserLiveFeed_ThumbNull(Play_FeedPos,UserLiveFeed_ids[0])&&Main_RemoveClass(UserLiveFeed_ids[0]+Play_FeedPos,"feed_thumbnail_focused")}function UserLiveFeed_SetFeedPicText(){Main_innerHTML("icon_feed_refresh",'<div class="strokedelinebig" style="vertical-align: middle; display: inline-block;"><i class="icon-refresh" style="color: #FFFFFF; font-size: 115%; "></i></div><div class="strokedelinebig" style="vertical-align: middle; display: inline-block">'+STR_SPACE+STR_REFRESH+":"+STR_UP+STR_SPACE+STR_SPACE+'</div><div class="strokedelinebig" style="vertical-align: middle; display: inline-block;"><i class="icon-pp" style="color: #FFFFFF; font-size: 115%; "></i></div><div class="strokedelinebig" style="vertical-align: middle; display: inline-block">'+STR_SPACE+STR_PICTURE_LIVE_FEED+"</div>")}function UserLiveFeed_Unset(){Main_IconLoad("icon_feed_refresh","icon-refresh",STR_REFRESH+":"+STR_UP)}var Users_cursorY=0,Users_cursorX=0,Users_ColoumnsCount=8,Users_RemoveCursor=0,Users_RemoveDialogID=null,Users_beforeUser=1,Users_UserDialogID=null,Users_Isautentication=!0,Users_ShowAutetication=!1,Users_Userlastadded="",Users_ids=["u_thumbdiv","u_img","u_infodiv","u_displayname","u_cell","user_scroll"],Users_status=!1,Users_loadingData=!0;function Users_init(){return Main_newUsercode?(Main_HideElement("topbar"),Main_HideElement("side_panel_new_holder"),void Main_ready(function(){Users_exit(),AddCode_CheckNewCode(Main_newUsercode)})):AddUser_IsUserSet()?(Main_values.Main_Before!==Main_Users&&(Users_beforeUser=Main_values.Main_Before),Main_ShowElement("label_side_panel"),Main_IconLoad("label_refresh","icon-user",STR_USER_TOP_LABLE),Main_values.Main_Go=Main_Users,Main_HideWarningDialog(),ScreensObj_SetTopLable(STR_USER,STR_MAIN_USER+" "+AddUser_UsernameArray[0].display_name),document.body.addEventListener("keydown",Users_handleKeyDown,!1),void(Users_status?(Main_YRst(Users_cursorY),Main_ShowElement(Users_ids[5]),Users_addFocus(),Main_SaveValues()):Users_StartLoad())):(Main_values.Main_Go=Main_Live,Users_exit(),void Main_SwitchScreen())}function Users_exit(){Main_HideElement("label_side_panel"),document.body.removeEventListener("keydown",Users_handleKeyDown),Main_HideElement(Users_ids[5]),Main_IconLoad("label_refresh","icon-refresh",STR_REFRESH+":"+STR_GUIDE)}function Users_StartLoad(){Main_empty("stream_table_user"),Main_HideElement(Users_ids[5]),Main_showLoadDialog(),Main_HideWarningDialog(),Main_FirstLoad=!(Users_status=!1),Users_loadingData=!(Users_cursorY=Users_cursorX=0),Main_CounterDialogRst(),Main_ready(function(){Users_loadData()})}function Users_loadData(){var e=document.createElement("div"),a=document.getElementById("stream_table_user"),n=1,t=0,i=document.createElement("div");i.setAttribute("id",Users_ids[4]+"0_0"),i.classList.add("stream_thumbnail_user_icon_holder"),i.innerHTML='<div id="'+Users_ids[0]+'0_0" class="stream_thumbnail_user" ><div class="stream_thumbnail_channel_img"></div><div  class="stream_thumbnail_user_text_holder"><div class="stream_info_user_name">'+STR_USER_ADD+'</div><div style="color:#FFFFFF;font-size: 7em; text-align: center; transform: translateY(-24.5vh);"><i class="icon-user-plus" ></i></div></div></div>',e.appendChild(i);for(var l=0;l<AddUser_UsernameArray.length;l++)e.appendChild(Users_createCell(t+"_"+n,l)),5<++n&&(a.appendChild(e),e=document.createElement("div"),t++,n=0);n<=5&&a.appendChild(e),Users_loadDataSuccessFinish()}function Users_createCell(e,a){var n=document.createElement("div");return n.setAttribute("id",Users_ids[4]+e),n.setAttribute(Main_DataAttribute,a),n.classList.add("stream_thumbnail_user_icon_holder"),n.innerHTML='<div id="'+Users_ids[0]+e+'" class="stream_thumbnail_user" ><div class="stream_thumbnail_channel_img"><img id="'+Users_ids[1]+e+'" alt="" class="lazy stream_img" data-src="'+AddUser_UsernameArray[a].logo+'" onerror="this.onerror=null;this.src=\''+IMG_404_LOGO+'\'"></div><div  class="stream_thumbnail_user_text_holder"><div class="stream_info_user_name">'+AddUser_UsernameArray[a].display_name+'</div><div class="stream_info_user_name">'+(AddUser_UsernameArray[a].access_token?STR_USER_CODE_OK:STR_USER_CODE)+"</div></div></div>",n}function Users_loadDataSuccessFinish(){Main_ready(function(){Users_status||(Users_status=!0,Users_addFocus(),Main_HideLoadDialog(),Main_SaveValues()),Main_ShowElement(Users_ids[5]),Users_loadingData=Main_FirstLoad=!1,lazyLoadInstance.update(),Users_ShowAutetication&&(Users_ShowAutetication=!1,Users_showUserDialogPos=AddUser_UserFindpos(Users_Userlastadded),Users_Isautentication=!0,Users_showRemoveDialog())})}function Users_resetGameCell(){for(var e=0;e<AddUser_UsernameArray.length;e++)Main_textContent(Users_ids[3]+e+"_2",UserGames.isLive?STR_LIVE_GAMES:STR_FALLOW_GAMES)}function Users_addFocus(e){Main_AddClass(Users_ids[0]+Users_cursorY+"_"+Users_cursorX,"stream_thumbnail_focused"),Main_CounterDialog(Users_cursorX,Users_cursorY,Main_ColoumnsCountChannel,AddUser_UsernameArray.length+1),Main_YchangeAddFocus(Users_cursorY)||e?1<Users_cursorY?Main_ThumbNull(Users_cursorY+1,0,Users_ids[0])&&Main_ScrollTableCalc(Users_ids[5],-1*document.getElementById(Users_ids[4]+Users_cursorY+"_"+Users_cursorX).offsetTop,39):Main_ScrollTable(Users_ids[5],0):Main_handleKeyUp()}function Users_removeFocus(){Main_addFocusFinish=!1,Main_RemoveClass(Users_ids[0]+Users_cursorY+"_"+Users_cursorX,"stream_thumbnail_focused")}function Users_keyEnter(){Users_cursorX||Users_cursorY?Users_showUserDialog():(Main_values.Main_Before=Main_values.Main_Go,Main_HideElement(Users_ids[5]),document.body.removeEventListener("keydown",Users_handleKeyDown),AddUser_init())}function Users_clearUserDialog(){window.clearTimeout(Users_UserDialogID)}function Users_setUserDialog(){Users_UserDialogID=window.setTimeout(Users_HideUserDialog,2e4)}var Users_showUserDialogPos=0;function Users_showUserDialog(){Users_RemoveCursor=0,Users_setUserDialog(),Users_showUserDialogPos=parseInt(document.getElementById(Users_ids[4]+Users_cursorY+"_"+Users_cursorX).getAttribute(Main_DataAttribute)),Main_innerHTML("main_dialog_user_text",STR_USER_OPTION+" "+AddUser_UsernameArray[Users_showUserDialogPos].display_name),Main_innerHTML("main_dialog_user_key",AddUser_UsernameArray[Users_showUserDialogPos].access_token?STR_USER_CODE_OK:STR_USER_CODE),Main_ShowElement("main_dialog_user")}function Users_HideUserDialog(){Users_clearUserDialog(),Main_HideElement("main_dialog_user"),Users_RemoveCursor=0,Users_UserCursorSet()}function Users_isUserDialogShown(){return Main_isElementShowing("main_dialog_user")}function Users_UserCursorSet(){Main_RemoveClass("main_dialog_user_first","button_dialog_focused"),Main_RemoveClass("main_dialog_user_key","button_dialog_focused"),Main_RemoveClass("main_dialog_user_remove","button_dialog_focused"),Users_RemoveCursor?1===Users_RemoveCursor?Main_AddClass("main_dialog_user_key","button_dialog_focused"):Users_RemoveCursor&&Main_AddClass("main_dialog_user_remove","button_dialog_focused"):Main_AddClass("main_dialog_user_first","button_dialog_focused")}function Users_clearRemoveDialog(){window.clearTimeout(Users_RemoveDialogID)}function Users_setRemoveDialog(){Users_RemoveDialogID=window.setTimeout(Users_HideRemoveDialog,3e4)}function Users_showRemoveDialog(){Users_setRemoveDialog(),Main_innerHTML("main_dialog_remove",Users_Isautentication?STR_OAUTH_IN+" "+AddUser_UsernameArray[Users_showUserDialogPos].name+"?":STR_REMOVE_USER+STR_BR+AddUser_UsernameArray[Users_showUserDialogPos].name+"?"),Main_ShowElement("main_remove_dialog")}function Users_HideRemoveDialog(){Users_clearRemoveDialog(),Main_HideElement("main_remove_dialog"),Users_RemoveCursor=0,Users_RemoveCursorSet()}function Users_isRemoveDialogShown(){return Main_isElementShowing("main_remove_dialog")}function Users_RemoveCursorSet(){Users_RemoveCursor?(Main_RemoveClass("remove_cancel","button_dialog_focused"),Main_AddClass("remove_yes","button_dialog_focused")):(Main_AddClass("remove_cancel","button_dialog_focused"),Main_RemoveClass("remove_yes","button_dialog_focused"))}function Users_handleKeyDown(e){var a;if(!Main_FirstLoad&&!Main_CantClick())switch(Main_keyClickDelayStart(),e.keyCode){case KEY_RETURN:Users_isRemoveDialogShown()?Users_HideRemoveDialog():Users_isUserDialogShown()?Users_HideUserDialog():Main_isAboutDialogShown()?Main_HideAboutDialog():Main_isControlsDialogShown()?Main_HideControlsDialog():(Users_exit(),Main_values.Main_Go=Users_beforeUser,Main_SwitchScreenAction());break;case KEY_LEFT:if(Users_isRemoveDialogShown())--Users_RemoveCursor<0&&(Users_RemoveCursor=1),Users_RemoveCursorSet(),Users_clearRemoveDialog(),Users_setRemoveDialog();else if(Users_isUserDialogShown())--Users_RemoveCursor<0&&(Users_RemoveCursor=2),Users_UserCursorSet(),Users_clearUserDialog(),Users_setUserDialog();else if(Users_cursorX)if(Main_ThumbNull(Users_cursorY,Users_cursorX-1,Users_ids[0]))Users_removeFocus(),Users_cursorX--,Users_addFocus();else if(Main_ThumbNull(Users_cursorY-1,0,Users_ids[0])){for(a=Users_ColoumnsCount-1;-1<a;a--)if(Main_ThumbNull(Users_cursorY-1,a,Users_ids[0])){Users_removeFocus(),Users_cursorY--,Users_cursorX=a,Users_addFocus();break}}else Users_removeFocus(),Users_cursorX=Users_ColoumnsCount-1,Users_addFocus();else Users_removeFocus(),Sidepannel_Start(Users_handleKeyDown);break;case KEY_RIGHT:Users_isRemoveDialogShown()?(1<++Users_RemoveCursor&&(Users_RemoveCursor=0),Users_RemoveCursorSet(),Users_clearRemoveDialog(),Users_setRemoveDialog()):Users_isUserDialogShown()?(2<++Users_RemoveCursor&&(Users_RemoveCursor=0),Users_UserCursorSet(),Users_clearUserDialog(),Users_setUserDialog()):(Main_ThumbNull(Users_cursorY,Users_cursorX+1,Users_ids[0])?(Users_removeFocus(),Users_cursorX++):(Main_ThumbNull(Users_cursorY+1,0,Users_ids[0])?(Users_removeFocus(),Users_cursorY++):Users_removeFocus(),Users_cursorX=0),Users_addFocus());break;case KEY_UP:if(Users_cursorY)for(a=0;a<Users_ColoumnsCount;a++)if(Main_ThumbNull(Users_cursorY-1,Users_cursorX-a,Users_ids[0])){Users_removeFocus(),Users_cursorY--,Users_cursorX-=a,Users_addFocus();break}break;case KEY_DOWN:for(a=0;a<Users_ColoumnsCount;a++)if(Main_ThumbNull(Users_cursorY+1,Users_cursorX-a,Users_ids[0])){Users_removeFocus(),Users_cursorY++,Users_cursorX-=a,Users_addFocus();break}break;case KEY_PLAY:case KEY_PAUSE:case KEY_PLAYPAUSE:case KEY_ENTER:var n=Users_RemoveCursor;if(Users_isRemoveDialogShown())if(Users_HideRemoveDialog(),Users_Isautentication){if(n){Main_values.Users_AddcodePosition=Users_showUserDialogPos,Main_SaveValues();var t=AddCode_redirect_uri,i="https://id.twitch.tv/oauth2/authorize?response_type=code&client_id="+encodeURIComponent(Main_clientId)+"&redirect_uri="+t+"&scope=user_read+user_follows_edit+user_subscriptions&force_verify=true";window.location=i}}else n&&(document.body.removeEventListener("keydown",Users_handleKeyDown),Users_exit(),AddUser_removeUser(Users_showUserDialogPos));else Users_isUserDialogShown()?(Users_HideUserDialog(),n?1===n?AddUser_UsernameArray[Users_showUserDialogPos].access_token?(Main_showWarningDialog(STR_USER_CODE_OK),window.setTimeout(Main_HideWarningDialog,1500)):(Users_Isautentication=!0,Users_showRemoveDialog()):(Users_Isautentication=!1,Users_showRemoveDialog()):AddUser_UserMakeOne(Users_showUserDialogPos)):Users_keyEnter();break;case KEY_REFRESH:Main_ReloadScreen()}}function extraEmoticonize(e,a){return e.replace(a.code,extraEmoteTemplate(a))}function extraEmoteTemplate(e){return'<img class="emoticon" alt="" src="'+e["2x"]+'"/>'}function emoteTemplate(e){return'<img class="emoticon" alt="" src="https://static-cdn.jtvnw.net/emoticons/v1/'+e+'/2.0"/>'}function mescape(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;")}function extraMessageTokenize(e){for(var a=e.split(" "),n=0;n<a.length;n++){var t=(e=a[n]).replace(/(^[~!@#$%\^&\*\(\)]+|[~!@#$%\^&\*\(\)]+$)/g,""),i=extraEmotes[t]||extraEmotes[e];e=i?extraEmoticonize(e,i):mescape(e),a[n]=e}return a.join(" ")}function emoticonize(a,t){if(!t)return[a];var n=[],e=Object.keys(t),i=[];return e.forEach(function(e){for(var a=t[e],n=a.length-1;0<=n;n--)i.push({id:e,first:a[n][0],last:a[n][1]})}),i.sort(function(e,a){return a.first-e.first}),a=punycode.ucs2.decode(a),i.forEach(function(e){n.unshift(punycode.ucs2.encode(a.slice(e.last+1))),n.unshift([emoteTemplate(e.id)]),a=a.slice(0,e.first)}),n.unshift(punycode.ucs2.encode(a)),n}function transformBadges(t){return Object.keys(t).map(function(n){var e=t[n];return e.type=n,e.versions=Object.keys(t[n].versions).map(function(e){var a=t[n].versions[e];return a.type=e,a}),e})}function tagCSS(e,a,n,t){var i=document.createElement("style");i.type="text/css",i.innerHTML="."+e+"-"+a+' { background-image: url("'+n.replace("http:","https:")+'"); }',t?t.appendChild(i):document.head.appendChild(i)}window.parseIRC=function(e){var a={raw:e,tags:{},prefix:null,command:null,params:[]},n=0,t=0;if(64===e.charCodeAt(0)){if(-1===(t=e.indexOf(" ")))return null;for(var i=e.slice(1,t).split(";"),l=0;l<i.length;l++){var s=i[l].split("=");a.tags[s[0]]=s[1]||!0}n=t+1}for(;32===e.charCodeAt(n);)n++;if(58===e.charCodeAt(n)){if(-1===(t=e.indexOf(" ",n)))return null;for(a.prefix=e.slice(n+1,t),n=t+1;32===e.charCodeAt(n);)n++}if(-1===(t=e.indexOf(" ",n)))return e.length>n?(a.command=e.slice(n),a):null;for(a.command=e.slice(n,t),n=t+1;32===e.charCodeAt(n);)n++;for(;n<e.length;){if(t=e.indexOf(" ",n),58===e.charCodeAt(n)){a.params.push(e.slice(n+1));break}if(-1===t){if(-1===t){a.params.push(e.slice(n));break}}else for(a.params.push(e.slice(n,t)),n=t+1;32===e.charCodeAt(n);)n++}return a},function(e){function t(e,a){var n,t="LazyLoad::Initialized",i=new e(a);try{n=new CustomEvent(t,{detail:{instance:i}})}catch(e){(n=document.createEvent("CustomEvent")).initCustomEvent(t,!1,!1,{instance:i})}window.dispatchEvent(n)}function l(e,a){return e.getAttribute("data-"+a)}function i(e,a,n){var t="data-"+a;null!==n?e.setAttribute(t,n):e.removeAttribute(t)}function s(e){return"true"===l(e,E)}function _(e,a){return i(e,U,a)}function o(e){return l(e,U)}function d(e,a){e&&e(a)}function r(e,a){e._loadingCount+=a,0===e._elements.length&&0===e._loadingCount&&d(e._settings.callback_finish)}function u(e){for(var a=[],n=0;e.children[n];n++)"SOURCE"===e.children[n].tagName&&a.push(e.children[n]);return a}function n(e,a,n){n&&e.setAttribute(a,n)}function c(e,a){n(e,"sizes",l(e,a.data_sizes)),n(e,"srcset",l(e,a.data_srcset)),n(e,"src",l(e,a.data_src))}function y(e,a){var n=a._settings,t=e.tagName,i=I[t];if(i)return i(e,n),r(a,1),void(a._elements=function(e,a){return e.filter(function(e){return e!==a})}(a._elements,e));!function(e,a){var n=l(e,a.data_src),t=l(e,a.data_bg);n&&(e.style.backgroundImage='url("'.concat(n,'")')),t&&(e.style.backgroundImage=t)}(e,n)}function S(e,a){M?e.classList.add(a):e.className+=(e.className?" ":"")+a}function h(e,a,n){e.addEventListener(a,n)}function P(e,a,n){e.removeEventListener(a,n)}function C(e,a,n){P(e,"load",a),P(e,L,a),P(e,"error",n)}function m(e,a,n){var t=n._settings,i=a?t.class_loaded:t.class_error,l=a?t.callback_loaded:t.callback_error,s=e.target;!function(e,a){M?e.classList.remove(a):e.className=e.className.replace(new RegExp("(^|\\s+)"+a+"(\\s+|$)")," ").replace(/^\s+/,"").replace(/\s+$/,"")}(s,t.class_loading),S(s,i),d(l,s),r(n,-1)}function f(n,t){function i(e){m(e,!0,t),C(n,i,a)}var a=function e(a){m(a,!1,t),C(n,i,e)};!function(e,a,n){h(e,"load",a),h(e,L,a),h(e,"error",n)}(n,i,a)}function A(a){return v&&(a._observer=new IntersectionObserver(function(e){e.forEach(function(e){return function(e){return e.isIntersecting||0<e.intersectionRatio}(e)?function(e,a){var n=a._settings;d(n.callback_enter,e),n.load_delay?D(e,a):O(e,a)}(e.target,a):function(e,a){var n=a._settings;d(n.callback_exit,e),n.load_delay&&w(e)}(e.target,a)})},function(e){return{root:e.container===document?null:e.container,rootMargin:e.thresholds||e.threshold+"px"}}(a._settings)),!0)}function p(e,a){return function(e){return e.filter(function(e){return!s(e)})}(function(e){return Array.prototype.slice.call(e)}(e||function(e){return e.container.querySelectorAll(e.elements_selector)}(a)))}function a(e,a){this._settings=R,this._loadingCount=0,A(this),this.update(a)}var T,g,v,M,R,E,U,I,L,b,O,w,D,F,V;e.LazyLoad=(T="undefined"!=typeof window,g=T&&!("onscroll"in window)||"undefined"!=typeof navigator&&/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent),v=T&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype&&"isIntersecting"in window.IntersectionObserverEntry.prototype,M=T&&"classList"in document.createElement("p"),R={elements_selector:".lazy",container:g||T?document:null,threshold:3e3,thresholds:null,data_src:"src",data_srcset:"srcset",data_sizes:"sizes",data_bg:"bg",class_loading:"loading",class_loaded:"loaded",class_error:"error",load_delay:0,auto_unobserve:!0,callback_enter:null,callback_exit:null,callback_reveal:null,callback_loaded:null,callback_error:null,callback_finish:null,use_native:!1},E="was-processed",U="ll-timeout",I={IMG:function(e,a){var n=e.parentNode;n&&"PICTURE"===n.tagName&&u(n).forEach(function(e){c(e,a)});c(e,a)},IFRAME:function(e,a){n(e,"src",l(e,a.data_src))},VIDEO:function(e,a){u(e).forEach(function(e){n(e,"src",l(e,a.data_src))}),n(e,"src",l(e,a.data_src)),e.load()}},L="loadeddata",b=["IMG","IFRAME","VIDEO"],O=function(e,a){var n=a._observer;F(e,a),n&&a._settings.auto_unobserve&&n.unobserve(e)},w=function(e){var a=o(e);a&&(clearTimeout(a),_(e,null))},D=function(e,a){var n=a._settings.load_delay,t=o(e);t||(t=setTimeout(function(){O(e,a),w(e)},n),_(e,t))},F=function(e,a,n){var t=a._settings;!n&&s(e)||(-1<b.indexOf(e.tagName)&&(f(e,a),S(e,t.class_loading)),y(e,a),function(e){i(e,E,"true")}(e),d(t.callback_reveal,e),d(t.callback_set,e))},V=["IMG","IFRAME"],a.prototype={update:function(e){var a,n=this,t=this._settings;this._elements=p(e,t),!g&&this._observer?(t.use_native&&"loading"in HTMLImageElement.prototype&&((a=this)._elements.forEach(function(e){-1!==V.indexOf(e.tagName)&&(e.setAttribute("loading","lazy"),F(e,a))}),this._elements=p(e,t)),this._elements.forEach(function(e){n._observer.observe(e)})):this.loadAll()},destroy:function(){var a=this;this._observer&&(this._elements.forEach(function(e){a._observer.unobserve(e)}),this._observer=null),this._elements=null,this._settings=null},load:function(e,a){F(e,this,a)},loadAll:function(){var a=this;this._elements.forEach(function(e){O(e,a)})}},T&&function(e,a){if(a)if(a.length)for(var n=0;a[n];n++)t(e,a[n]);else t(e,a)}(a,window.lazyLoadOptions),a)}(this),function(e){var a="object"==typeof global&&global;a.global!==a&&a.window!==a&&a.self!==a||(e=a);var n,C=2147483647,m=36,f=26,i=38,l=700,t=/^xn--/,s=/[^\x20-\x7E]/,_=/[\x2E\u3002\uFF0E\uFF61]/g,o={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},d=m-1,A=Math.floor,p=String.fromCharCode;function T(e){throw new RangeError(o[e])}function r(e,a){for(var n=e.length,t=[];n--;)t[n]=a(e[n]);return t}function u(e,a){var n=e.split("@"),t="";return 1<n.length&&(t=n[0]+"@",e=n[1]),t+r((e=e.replace(_,".")).split("."),a).join(".")}function g(e){for(var a,n,t=[],i=0,l=e.length;i<l;)55296<=(a=e.charCodeAt(i++))&&a<=56319&&i<l?56320==(64512&(n=e.charCodeAt(i++)))?t.push(((1023&a)<<10)+(1023&n)+65536):(t.push(a),i--):t.push(a);return t}function v(e){return r(e,function(e){var a="";return 65535<e&&(a+=p((e-=65536)>>>10&1023|55296),e=56320|1023&e),a+p(e)}).join("")}function M(e,a){return e+22+75*(e<26)-((0!==a)<<5)}function R(e,a,n){var t=0;for(e=n?A(e/l):e>>1,e+=A(e/a);d*f>>1<e;t+=m)e=A(e/d);return A(t+(d+1)*e/(e+i))}function c(e){var a,n,t,i,l,s,_,o,d,r,u,c=[],y=e.length,S=0,h=128,P=72;for((n=e.lastIndexOf("-"))<0&&(n=0),t=0;t<n;++t)128<=e.charCodeAt(t)&&T("not-basic"),c.push(e.charCodeAt(t));for(i=0<n?n+1:0;i<y;){for(l=S,s=1,_=m;y<=i&&T("invalid-input"),u=e.charCodeAt(i++),(m<=(o=u-48<10?u-22:u-65<26?u-65:u-97<26?u-97:m)||o>A((C-S)/s))&&T("overflow"),S+=o*s,!(o<(d=_<=P?1:P+f<=_?f:_-P));_+=m)s>A(C/(r=m-d))&&T("overflow"),s*=r;P=R(S-l,a=c.length+1,0===l),A(S/a)>C-h&&T("overflow"),h+=A(S/a),S%=a,c.splice(S++,0,h)}return v(c)}function y(e){var a,n,t,i,l,s,_,o,d,r,u,c,y,S,h,P=[];for(c=(e=g(e)).length,a=128,l=72,s=n=0;s<c;++s)(u=e[s])<128&&P.push(p(u));for(t=i=P.length,i&&P.push("-");t<c;){for(_=C,s=0;s<c;++s)a<=(u=e[s])&&u<_&&(_=u);for(_-a>A((C-n)/(y=t+1))&&T("overflow"),n+=(_-a)*y,a=_,s=0;s<c;++s)if((u=e[s])<a&&++n>C&&T("overflow"),u===a){for(o=n,d=m;!(o<(r=d<=l?1:l+f<=d?f:d-l));d+=m)h=o-r,S=m-r,P.push(p(M(r+h%S,0))),o=A(h/S);P.push(p(M(o,0))),l=R(n,y,t===i),n=0,++t}++n,++a}return P.join("")}n={version:"1.4.1",ucs2:{decode:g,encode:v},decode:c,encode:y,toASCII:function(e){return u(e,function(e){return s.test(e)?"xn--"+y(e):e})},toUnicode:function(e){return u(e,function(e){return t.test(e)?c(e.slice(4).toLowerCase()):e})}},e.punycode=n}(this),function(e){e.ReconnectingWebSocket=function(){if("WebSocket"in window)return u.prototype.onopen=function(){},u.prototype.onclose=function(){},u.prototype.onconnecting=function(){},u.prototype.onmessage=function(){},u.prototype.onerror=function(){},u.debugAll=!1,u.CONNECTING=WebSocket.CONNECTING,u.OPEN=WebSocket.OPEN,u.CLOSING=WebSocket.CLOSING,u.CLOSED=WebSocket.CLOSED,u;function u(e,a,n){var t={debug:!1,automaticOpen:!0,reconnectInterval:1e3,maxReconnectInterval:3e4,reconnectDecay:1.5,timeoutInterval:3e3,maxReconnectAttempts:null,binaryType:"blob"};for(var i in n=n||{},t)void 0!==n[i]?this[i]=n[i]:this[i]=t[i];this.url=e,this.reconnectAttempts=0,this.readyState=WebSocket.CONNECTING,this.protocol=null;var l,s=this,_=!1,o=!1,d=document.createElement("div");function r(e,a){var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,a),n}d.addEventListener("open",function(e){s.onopen(e)}),d.addEventListener("close",function(e){s.onclose(e)}),d.addEventListener("connecting",function(e){s.onconnecting(e)}),d.addEventListener("message",function(e){s.onmessage(e)}),d.addEventListener("error",function(e){s.onerror(e)}),this.addEventListener=d.addEventListener.bind(d),this.removeEventListener=d.removeEventListener.bind(d),this.dispatchEvent=d.dispatchEvent.bind(d),this.open=function(t){if((l=new WebSocket(s.url,a||[])).binaryType=this.binaryType,t){if(this.maxReconnectAttempts&&this.reconnectAttempts>this.maxReconnectAttempts)return}else d.dispatchEvent(r("connecting")),this.reconnectAttempts=0;(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","attempt-connect",s.url);var e=l,i=setTimeout(function(){(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","connection-timeout",s.url),o=!0,e.close(),o=!1},s.timeoutInterval);l.onopen=function(){clearTimeout(i),(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","onopen",s.url),s.protocol=l.protocol,s.readyState=WebSocket.OPEN,s.reconnectAttempts=0;var e=r("open");e.isReconnect=t,t=!1,d.dispatchEvent(e)},l.onclose=function(e){if(clearTimeout(i),l=null,_)s.readyState=WebSocket.CLOSED,d.dispatchEvent(r("close"));else{s.readyState=WebSocket.CONNECTING;var a=r("connecting");a.code=e.code,a.reason=e.reason,a.wasClean=e.wasClean,d.dispatchEvent(a),t||o||((s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","onclose",s.url),d.dispatchEvent(r("close")));var n=s.reconnectInterval*Math.pow(s.reconnectDecay,s.reconnectAttempts);setTimeout(function(){s.reconnectAttempts++,s.open(!0)},n>s.maxReconnectInterval?s.maxReconnectInterval:n)}},l.onmessage=function(e){(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","onmessage",s.url,e.data);var a=r("message");a.data=e.data,d.dispatchEvent(a)},l.onerror=function(e){(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","onerror",s.url,e),d.dispatchEvent(r("error"))}},!0===this.automaticOpen&&this.open(!1),this.send=function(e){if(l)return(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","send",s.url,e),l.send(e);throw"INVALID_STATE_ERR : Pausing to reconnect websocket"},this.close=function(e,a){void 0===e&&(e=1e3),_=!0,l&&l.close(e,a)},this.refresh=function(){l&&l.close()}}}()}(this);var twemoji=function(){var e={parse:function(e,a,n){return a||(e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;")),t(e=e.replace(/(\r\n|\n|\r)/gm,""),function(e){var a=function(e){for(var a=e.indexOf(_)<0?e.replace(s,""):e,n=[],t=0,i=0,l=0;l<a.length;)t=a.charCodeAt(l++),i?(n.push((65536+(i-55296<<10)+(t-56320)).toString(16)),i=0):55296<=t&&t<=56319?i=t:n.push(t.toString(16));return n.join("-")}(e);return a?'<img class="'+(n?"emoticon":"emoji")+'" alt="" src="https://twemoji.maxcdn.com/2/72x72/'+a+'.png"/>':e})},replace:t},n=/(?:\ud83d[\udc68\udc69])(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddb0-\uddb3])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f)|[\u0023\u002a\u0030-\u0039]\ufe0f?\u20e3|(?:[\u00a9\u00ae\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\uddb5\uddb6\uddb8\uddb9\uddd1-\udddd]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a-\udc6d\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\udeeb\udeec\udef4-\udef9]|\ud83e[\udd10-\udd17\udd1d\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd40-\udd45\udd47-\udd70\udd73-\udd76\udd7a\udd7c-\udda2\uddb4\uddb7\uddc0-\uddc2\uddd0\uddde-\uddff]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g,s=/\uFE0F/g,_=String.fromCharCode(8205);return e;function t(e,a){return String(e).replace(n,a)}}();