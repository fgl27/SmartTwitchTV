var t,n,a,e,i,o,s,d,l,c,p,m,r,u,_,f,v,h,g,y,b,w,k,A,C,E,M,I,S,x,P,L,T,B,O,G,U,R,N,F,V,D,J,H,q,z,X,j,W,Y,Q,Z,K,$,ee,te,ne,ae,ie,oe,se,de,le,ce,re,ue,_e,fe,me,he,pe,ve,ge,ye,be,we,ke,Ae,Ce,Ee,Me,Ie,Se,xe,Pe,Le,Te,Be,Oe,Ge,Ue,Re,Ne,Fe,Ve,De,Je,He,qe,ze,Xe,je,We,Ye,Qe,Ze,Ke,$e,et,tt,nt,at,it,ot,st,dt,lt,ct,rt,ut,_t,ft,mt,ht,pt,vt,gt,yt,bt,wt,kt,At,Ct,Et,Mt,It,St,xt,Pt,Lt,Tt,Bt,Ot,Gt,Ut,Rt,Nt,Ft,Vt,Dt,Jt,Ht,qt,zt,Xt,jt,Wt,Yt,Qt,Zt,Kt,$t,en,tn,nn,an,on,sn,dn,ln,cn,rn,un,_n,fn,mn,hn,pn,vn,gn,yn,bn,wn,kn,An,Cn,En,Mn,In,Sn,xn,Pn,Ln,Tn,Bn,On,Gn,Un,Rn,Nn,Fn,Vn,Dn,Jn,Hn,qn,zn,Xn,jn,Wn,Yn,Qn,Zn,Kn,$n,ea,ta,na,aa,ia,oa,sa="fglfgl27@gmail.com",da="<br>",la='<i class="icon-circle" style="font-size: 50%; vertical-align: middle; font-weight: bold;"></i>  ',ca='<div class="about_text_title">',ra='<div class="about_text_title" style="text-align: left;">',ua='<div style="text-align: left;">',_a="",fa="",ma="",ha="",pa="",va="",ga="",ya="",ba="",wa="&nbsp;";function ka(){_a=e+" (C)",fa=n+" (D)",ha=a+" (A)",ma=i+" (A)",l+=Zt,c+=Zt,I=ia+oa,pa=ca+e+"</div>"+ca+Ce+"</div>"+da+ua+la+xe+da+la+(Pe+=jt)+da+la+Le+da+la+Te+da+Be+da+la+Oe+da+wa+wa+wa+Ge+da+la+Ue+da+"</div>"+da+(ya=ca+ke+"</div>"+ua+la+nt+da+la+$e+da+la+et+da+"</div>"+ua+la+tt+da+la+at+da+la+it+da+da+ca+Ae+"</div>"+ua+la+ot+da+la+st+da+la+dt+da+la+lt+da+la+ct)+da+da+ca+we+"</div>",va=ca+be+"</div></div>",ga=ua+da+Re+da+(or?da+'<div style="display: inline-block; color: #FF0000; font-size: 110%; font-weight: bold;">'+Zn+"</div>":"")+"</div>"+da+ca+Ne+"</div>"+sa+da+da+Fe+da+Ve+da+da+ra+De+"</div>"+ua+Ye+da+la+Je+da+la+He+da+la+qe+da+la+ze+da+la+Xe+da+la+je+da+la+We+da+Qe+da+la+Ze+da+la+Ke+da+ca+we+"</div></div>",ba=mt+da+la+ht.replace("link_link",'<div style="display: inline-block; color: #FF0000; font-size: 110%; font-weight: bold;">http://tiny.cc/twitchkeycode</div>')+da+la+pt+da+la+vt+da+la+gt+da+la+yt}function Aa(){Jr=!1,document.getElementById("side_panel").style.width="17%",t="Refresh:",n="Search",a="Settings",e="Controls",i="About",o="Hide",s="The text you entered is empty.",d="The search result is empty.",l="Switch screen",c="Switch user screen",p="Switch: Past Broadcast or Highlight",m="Switch: Period (24h, 7d, 30d, all)",r="Go to ",u="User ",_="Live",f="Games",v="Playing ",h=" for ",g="Watching time ",y="Since ",b="A Game",w="Type your search...",k="Type your authentication key...",A="Type your user name...",C="Press Enter or Select key to, ",E="Channels",M="Channel",ia="Back to previously screen: Back key",oa=" twice",S=" has ended",x="This video is only available to subscribers.",P="Connection failed, unable to load content hit refresh to try again",L="No",T=" for this ",B="Connection failed, unable to load video content exiting...",O=" Past Broadcast",G=" Highlight",U=" Clips",R=" Content",N="Streamed ",F="Duration ",V=" Views",D=" Viewers",J="Click again to exit!",H="Do you wanna to exit Twitch?",q="Exit",z="Close",X="Minimize",j="Cancel",W="Not Live | ",Y=" Channels Live",Q=" Hosts Live",Z=" Games Live",K=" Followed Channels",$=" Add User",ee=" Remove User",te="User doesn't exist",ne=" hosting ",ae=" already set",ie="Make First",oe="First user can fallow (when providing a key) and see live channels feed outside of the user screen<br>",se="Add a Twitch user to display it's Followed Channels content here",de=" (24h)",le=" (7d)",ce=" (30d)",re=" (all)",ue="Jumping",_e=" to ",fe="Jump Canceled",me=" , jump time bigger then duration",he=" Sec",pe=" Min",ve=" Hr",ge="Source",ye="Version: ",be="SmartTV Twitch",we="Press back key to close this.",ke="Player Related:",Ae="Chat Related:",Ce="General Related:",Ee="Update",Me="Current installed version ",Ie=" latest available version ",Se="This are the none players related controls, the player can show it's own controls.",xe="Play a video: Navigate using Directional pad (up/down/left/right), press enter to start playing",Pe="Refresh screen content: ",Le="Exit the application: from side pannel click exit",Te=" Switch screen: Back key then D-Pad left or right",Be="Some screen will change its internal content (channel past broadcast or clips for example) instead of changing to another screen",Oe="Start a search: from side pannel click search",Ge="After writing the search text press key Enter on the virtual keyboard then choose a search option",Ue="About this application: from side pannel click about",Re="This is a SmartTV Twitch client develop by a individual on his free time, for TV's that don't have access to a good official application, released for free to any one that wanna to use it.",Zn="This version of the app is for test in a browser only!",Ne="Developer information:",Fe="This is an open source application licensed under the GNU General Public License v3.0, check it on github",Ve="github.com/fgl27/SmartTwitchTV",De="This application uses following dependencies:",Je="Nightdev KapChat - KapChat captures Twitch chat directly into OBS or XSplit (https://www.nightdev.com/kapchat/)",He="Fontastic - Create your customized icon fonts in seconds (http://app.fontastic.me)",qe="Twemoji - A simple library that provides standard Unicode emoji support across all platforms (https://github.com/twitter/twemoji)",ze="UglifyJS - is a JavaScript parser, minifier, compressor and beautifier toolkit (https://github.com/mishoo/UglifyJS2)",Xe="JS Beautifier - Beautify, unpack or deobfuscate JavaScript and HTML, make JSON/JSONP readable, etc. (https://github.com/beautify-web/js-beautify)",je="HTMLMinifier - A highly configurable, well-tested, JavaScript-based HTML minifier (https://github.com/kangax/html-minifier)",We="JSHint - A Static Code Analysis Tool for JavaScript (https://github.com/jshint/jshint)",Ye="Web:",Qe="Android:",Ze="Google: Leanback v17 (https://developer.android.com/reference/android/support/v17/leanback/package-summary)",Ke="Google: ExoPlayer (https://github.com/google/ExoPlayer)",$e="Show information panel: Press enter key or D-pad keys if chat and live channel feed is not showing",et="Close the video: press back key twice",tt="Play/Pause a video: open information panel and click on pause simbol (not available to Live streams)",nt="Show user live channels feed: D-pad up",at="Change video quality: Open information panel, , navigate using use Directional pad (left/right), then use Directional pad (up/down) to choose the new quality after press Enter key to confirm the change",it="Force refresh a video (in case it freezes): Change video quality to the same",ot="Show or hide the Chat : D-pad right",st="Change Chat position : D-pad left",dt="Change Chat size : D-pad down",lt="Change Chat background brightness: Change in side panel settings",ct="Force refresh the Chat (in case it freezes or doesn't load): Change video quality to the same will reset and sync it",rt='Start a search: open information panel, navigate using use Directional pad (left/right) to "Search" and press enter',ut="Chat and video (Side by side): Color button red (A)",ta="Force disable the chat",na="with this the chat will not load content, this is useful on a stream with too many viewers were the chat can lag the app.",_t="Update available, check google play store",ft='Adding a key allows the app to fallow and access subscribed only past broadcast (for channel you are Sub to and block VOD access to none subscribers). On the authentication page if you already added a key for another user, you need to click up two to tree time and click over "not you?" to authenticate for a different users <br> <br> add key for',mt=" below, fallowing this steps:",ht="Access the site link_link (using a computer or a smart phone)",pt='Click on the "Authorize" button it will take you to main Twitch.TV authentication site',vt="Login to Twitch.TV using the user name you are trying to add a key for",gt="Click on Authorize button of Twitch.TV site if you agree with the requested permissions",yt="The web page will update and show a key code, the key only has lower case letters and nubers.",bt=" Add Authentication key",wt="Key added OK",kt="Key test fail, it's needed to add new one",At="Key test return OK",Ct="You try to add a key for user ",Et=" but this key is for user ",Mt=" Following",It=" Follow",St=" And you have not set a authentication key the app can't check yours sub status.",xt=" And you are not a sub of this channel",Pt=" You are a sub of this channel but the app fail to authenticate contact the developer email in about",Lt="Fail authentication check with the provider key, please check and try again",Gn="The added key doesn't belong to the user ",Tt="No user",Bt="Set a user and a authentication key to be able to fallow/unfollow",Ot="Restart the",Gt=" Clip",Ut="Channel content",Rt="Network is disconnect, the application can't work without INTERNET",Nt="Network connection reestablished",Ft=" Followers",Vt=", Can't fallow or unfallow ",Dt="Game content",Jt="Yes",Ht="Are you sure you want to remove the user ",qt="Press Up to ",zt="Followed Games",Xt="Change between",jt=" Back key then Enter",Wt=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"],Yt=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Qt="Started ",Zt=" (PG Up/Down)",Kt="Videos",$t=" Video",en="Replay",tn="exiting in ",nn='press "Return" to exit',an="Featured",on="Created ",sn="Open the Broadcast",dn="No Broadcast",ln="There is no Past Broadcast for this clip",cn="And because of that no chat",rn=" is now",un="Open the Hosting",_n="Player related",fn="Buffer size:",mn="A lower value here will make the player to start playing sooner, but it may cause re-buffer with will cause the player to pause to buffer.",hn="Live streams buffer",pn="Videos (Past Broadcast and Highlight) buffer",vn="Clips buffer",gn="General related",yn="Language",bn="Chat: Connecting to chat server..."+da+"Chat: Connected."+da+"Chat: Joined channel ",wn="Play from the start or from where you stop watching last time?",An=(kn="From:"+da)+"Start",Cn="Chat: The Chat has ended!",En=": Most recent",Mn=": Most views",In="Set a authentication key to be able to see fallowed videos",Sn="Switch: Most recent or views",xn="Enable",Pn="Disable",qn="The app was closed willing playing, restoring playback",Ln="Restore playback",Tn="When changing apps, the app may be closed by the system to free memory. In this case the app saves what it was playing and restores the playback when reopened",Bn="Chat font size",On="Change the chat lines font size, applies to text and emotes",Un="Videos animated thumbnails",Rn="Side panel: Back key twice",Nn="Size ",Fn="Brightness ",Vn="Forbidden content, this Live must be for Prime only subscribers or lock to Twitch official app only",Dn="Jump step ",Jn=" seconds",Hn=" minutes",zn="Clock offset",Xn="Application language",jn="Content language",Wn="Press enter to change",Yn="All",Qn="Empty game fro this",Kn="Isn't possible to jump during a buffering",$n="Chat is disabled, enable in side pannel settings",ea="This clip/video fail to load can't replay",aa="Chat backgroung brightness "}var Ca="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAeEAAAKgCAMAAACbeDVoAAAAM1BMVEU3NTZoZ2eura6enp4+PD1MS0vq6en09PQ0MjPy8vJ9fX1YV1jT09O7u7vf3t+NjY3GxsZnLAeWAAAI3UlEQVR4Ae3d7XabOrcGUPEBWguMzf1f7dltd3u6Q1rHNk5I3jn/NmPYo48lJC1JFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgf0+UoenatpuGEuUdRD8009S806cR/eWU9bs8d0M8/eOmZazfjcvUR3kuYmiz/m6Z46n5dmP9zdjJ+Ln6NusLuQ7labqxvpBdX3iaaayv6cpTxJT1FTlF4Sn6Jeur8vSErjqGP37c0hf2F/Op/tHY7d+Az/WPznMUdhbNWP8iT0M8rb/YGvXUT34Eb2VO8ayf01bmJQo7ikvWq9a+7KStV2UX5X0JuOZOfed8zvoGIn72tGUrs91xDizijx9kbWQ9NVEeMpzq1nOf/Mxjfbts+/KALuuWEfVz9ed6ixzvb8bzueZNHzUXHneut7pvbhzDmvVG2RceFEvWm41dH/dUkW6VeSo8Ji51a/+Mo+/O9S5tFB4xZ73TeMPugG37NaA+4ChrI5emRLkmytxmzXovo61HxFIfktldqwIN3Vgfcyrc7ZL1UTkuTf+Hptw3y5h1490exQxj3cV4Wi7N0JcSP5TSD81lOY1Zsz4ssyncJc51T3k+reuyLOt6OmfdUY594R6Xenz66QcMWT+NptyMONWjOa/rWF917gt3FP0P5dSU+Ec/nfXTu+jHeiCZXfkhonRp3eNx0dYjyUtc6V5OhZs0WQ8k27i2Uy8vhR2KwvPwU31Hm4FUPz5WKia6+rooP9V3tN0529WNXKLwVn0eKuE6lxeaupVD4a26eqyE+/JCX1+hEb/ZkMdKOMvGIytbxFIP1obLS/0jlWLmerSEh/LCUF81Fd5iPVzC09vKXnkuvEGTh0t4jfJfp7px/7KHmtLHJ5xTbE7K3VtjosnjJVzHeXOQ6s5GTJzrARPOcX7bSbksV9DkEROuWf89RBF9d9ugbMtT+BAJ5zLN8zytWX8a10vTXNYx679y/f4nS9bfjIW/mushEs5liJ8HEutPmfV3668/WVIjfqtYDpHw+HvBv71ab4ou6095KvzFkEdI+L9XKcWa1/YERJdWp9+mqx+e8HaBoz9fX71alZjepB/vr9UMzysHT3Wj+fP4IefyNrZ25AclfIrNGdfrC9CnO3bW2p01f0zCXVwd/7Xxlx/n2BfettrxQW14ur61tysvTfX/Xcp1VjuOlHC5MeExypuYKs3l7fqh7uUS19vwJsOLA8XXtXmMNryd7pyuFoxj2f4zL0TWeoix9Nhf61wyh7/u/82+bNHUbz5+LL3ppmO5etYwLvdUmCxJN/FS+SVemutuxuFaQTPHpvwm5nE7peb6BtWPWLXcbsYZ8uqvYDhf3Z1ZmI6TcNZxjmtbErKJ8kM0eX08TqwfmPBWLnOJiL5Zs/4ynk5j/SXX739S5iWvr3wSQx4q4Zp5/nEtU9YfzlMf/xgu5/pDfr/YYz1n3VJ+2Jrqxye8kb9fPR/lu+iXvH1xm1iPk/CVwCLadNvlzYbcM+Fc2hfW+kKu2z/4syVu+jluTxMz1V0Tvj4Xy/6GBZOxv/3Cza6waRX7JRx7Jrx9qEZ74z4C+nHPhHOTcDyW8PaWhxsXxmjy0G24Ly/0N5aZWeqR2/D1Wx6uHCYmxnroNnzXInoWfhny2G346i0PV5a1mPLYbXgqL0w3nZwg1vrMNvx4wpt9PetN+66JrDu34aF/Yd72of1/NPUvsrlr6F/4IYb6Vs0v9V2dh/983/G20zE09e3yu5r1fY3DHS8JuhR+6Orh5TiV76JMY972ChfiXD+DU9cMQ9Odsr7VGIVv+vo55J132jLXr2oufDPVr+pS2J4L//QMtTbW+lWdCt+M9avKvhRiqF/XUEphrl9XU9gczDSY/nLa+nW1UYilfl1rFGKt9UtPlzjXr+tcCv1Yv66xL1sODu8sx7W7TM089P8opfT/GOZmmrr1/PTPHgpzfZpx7aa5j3+UiPJClBIR/Tx161ifZi409Rny1E7Dt1yv+pb/MLWntOTxaRLO8/It3XKDiOib5Qmd9lSY6q5yXOYSJcqt+hJlbsfcO2EudUfZzVEeEXOXdUddoat7ybUpUR4TJUqz5AETlvDYDVH2EUM31n20hbbu4dz1UfYSEf3lvFPCtHu+4mxHfZsS3kO09WFjE2V/0YyHSFgbzqU8y5Ifn7C9tOMU5VliGo2lP3o+fJ6jPNF8so3nY9e01r48U5R+sab1gQnnUp5vyY9KWPUw2yhPF9FmvVc2haHeK7so7yEuWe81FPp8/EXfTxZT1rtk9qVwrnfJKUo5esTnUojT429yf747Iz5FIZYjBrxxyXtfoUh3xEHWRnR555IWzSED3ojORrw7DZ/kwFe0d06WGOuNloPec74xFu4Zap368iGiPxlovcMR8Rz78lH6MVWWbhfz5zkKNIzPPtPiQTw25SM1o8fwkwepl/jgR0rePuSn+UT/adGaDT/xLQB5+kzr6Fn4qf1MR+r7USf9rPct5fClv60KYk6f6vVQ5yj80uRn6vWiS1u0bhTr57qbalX8378Rj0M5jmHUhHcvPzRRDqRRdLhRXGsVXXym41bbHoeYPtkFkaf6N1MUXloP1yTufxSvha1+PPRMeGMa9dG36efxjjP+B6wkZjblVczn+pq2L8fUt/U157lEeQ1Rpk3GYztEOaoY2nGT7+Wv+dK056z/ynPb9FGOLPqXX/h6vgzNpW3b7tIMJcrxRRmaqWvb9sYvTET5JKIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAF/F/wGK2iVvT89ySQAAAABJRU5ErkJggg==",Ea="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAMAAABrrFhUAAAASFBMVEVHcEw1NTXb29swMDB9fX1DQ0NeXl5RUVFtbW3m5ubT09Pg4ODKyso7Ozufn5+9vb2urq62traQkJClpaWJiYmYmJjCwsLq6uo9xg8yAAAAF3RSTlMACeoDbBxBLlX54PHUEZnCrbiFonuQyd/Z9QoAAAhdSURBVHgB7MGBAAAAAICg/akXqQIAAAAAYO7qJdtSEIbC8AKREB4icI57/jOtzm1Ur1ZdFRO/GfxxqzdbTFnJex9+eO9pLWZ5fbgpFFwf7cg2MeNvnGw+2uguUDFvfOaFQt+zZfwT27z3QOU9ezDkvtUy/gvb4+vIvCF+RMYvcRyqj7CGLTNO4ryFVWM9uZZwkdQcqatnXIqrnhusP/VX4+YUvAuL3yxuYze/CH/4FTergmdAPWKC2Enk9mkkTJKGF9fvd8ZEvHth+ZhO0AloQr7gE9BgPIQHPZ5fPhYPsp/ybH/IeFgOT66/QYBGD+UvLkEE+1me6PcVYlQ/Pd90hiDczdx+qhCm0sx+lyBOctPy1x0i7eucfh8hVPRT5s8Qi93t+WWDaFu5t58OCHeQ3Ndf/4cgJCiQwl39Dkp8bslfvlDju1zfbwYUGeby/h2q7BdfoDQo08ql/RXq1CK6f4Kj6N+/jA2YBqWa0f/9F/AvGFBsnO/vUK2f7XdQzp3rDwzlOJzpJwv1Ev2+f424EScb83HkaNOf9u5Ex3EQCQPwjznA+D7sev83XWnVGu1oZ9Jp8pcTNP4eIN2xOaqgCK0oyh6F7CJKunPbU/SDMdYaM/iY9u3sPi4cOERFHpO3ACx+Y30as6g4UCSJgnwEg78y4ciiIKFA7IRucgO+MbjpIwZCa3phW8Lbas76AT81CtmU8LQ0Cdn47gEgpzcXH6X3RgCbxw/5Tagajx+wM/v1F0hZmJb3pUCLRxG/vCktsr75jF0Ke7ypE8wfs2XvWuGZ+TOA/k5laq6fCYYsNF3Ai0J3eV44ftL3hw3dxeFQbLXa//urEtqI7y3vX43SW5dbLh0BHUjcheMgMQncQLMJS28ue9inAY2ZriqfGZrr465rY9NmwCM7v7NxpGv2ingPegbZfEnTXN/fAfTfzXrFH0mgS0LSef0GMEHBJCSrfhYUoCCoTwSOPAJ+7DjolIPANkJFbHXDwcSPgclG3TF6+vAGQGwCk8X/i0KyQM0iJEG/fWmwSUhGxTSoN1Bjer2Z0AnJDkW7kLjKhkD+MKj2ySdUTUIStdKAHap2pYTAfnoUyI8GrU6icVqosqeQBJ0ecEDZISSrSg+QBGVJZYE86O89scRWow+s7MdaQTAoq8bsukHdprBu5zshcVDnFBZHk7AkaLMa/+wmLBHqYkvvrybzWxUfv79mw14LkmygzmR6e3XCMuECi7A4elXUjAvM7Jopyy4K0Q8EuBmhb9mPVNcoLK1nl0UduMAhNIl9OniFPv7/OwvNjgvs5PJp29f3AKjJq+/q6wLUyDXIvzsISiAfjxlrewCO/HnXBELkJjuLVJwLEKaBU8ijqjLbC88J2Cw8zQBt1jTCkw11FpT2ohUhZjYQhSlBXRKmiCBMDuqcMCXyAz2g7hCmRH6gE9RN5Ca7C1PnocsOjTDtOIQqQFkQqgOzUO1QtgvVjEnqGgQW9v97ClUb1feFqHr0UlUfSMLVI0tVfWATroxGauoDvhGuBo2QOShyQtaglZr6wCRkLYStDaqpMBtaYZuhZhS2Fp2wtVExCGDr0AjdBiWr0DXIUk0T8I3QZWThG6tpAJLRC1/nwWd9J3w9JlGwKUXBfBNm0ZBAl0TDjFE05AFkQxYNI1ZRMYJsFBUrnOgIGh2Az6l9cj8odAA+hyBKNoUOwJcQW1Gy1nDPXcTQiRYHktCKktZz6wN0VgZiI1oaAyyipokg8FnU9BYYRU/v8TLfi54FwC6K+sj8/nwjf4Ql3wEbe/VbiIKo6tIn3/ObHqy0srSOess9f+3KZFG2WhSxqyjLBgBm0TZFFIiLaFsKSg6KNA4/5hpRdxRkmoWWSHj9dKlgu6FUe3g8zR+tFChdvz/lEt0R8ZR4NHKJbIqS7XLdGPGtOHZykfn6WyXbxXk84N3cymV2pU3ndhoffGIzJ2/xB9a7uZErBf6BdJFucfG7SxG6c3TBG4sv1vjgxrOTB9p979XW7md+C49ZvtH05zKP6zpuy9Q3zyRVJqy9TiGDE4pzj/hirT+F6Pz6ZBPGRlgctfKkGYPF/xpGodkG/DK4paX/4MkpLzqd17sjqHMqgUJvaBXISzJF8Wx5KuX3TD3cEeUFc8Df2L2TF7W7xZ8M7iTuYNue/vW/xFntmk6bet4G9qp3jWg6pVif8HcWxvWsrbsgJc6EJxiXpUh2Bt8Y9obQAwqDwewsnjOUvKneeTwhboQeUJQRjh7PM2n6aeMyeFI4GRUcidL6H7BhzD+4nNvieaZkrgmv/VDjOuDnhrQ18q1mTgN+KE4lm4K/c5ds9/i0Tg9eVzcdyaOA2dtXixd8V3CJcOlD2Kbcym/a5tzW5C1Khf7Vat6xYKenmB1icm5fj3E81t25FAeL1/j5xZL+oNz89e3ytFR8HOX0+Fg2dT9LBAuGwc1An/5m8l5aizfiw8X+lavgDvXCN33+lO8dhWeydnw+O5zynS6W1WOuqII/y2tYY/e43dTB9+VHmo4Hj82iFj7LI3PRsZzFoB6hK2gAj5tA9qiJK65i941q1e9ljoIp4NHqqENl7FQ6lv+xCSyoTuxK7wPeH7ea2oeBveR0jkOF7FL6i4/pwf2UFXgc2KeSI6oBdRpLBzPfPA6cauGb0sHMPQ6camH30nTWTg8Cp4qbwGlKxo+Aeo3F4eyqf3/g9RPBUXSjmUPNluLDzKG94JeS9bnyfG6vcg58sN+3l93m41C3pTyc9VkvCLi+DzSx7Mj2icpF+a82FT69EZUbmld2NGZxqN3ySjTrc0Ltjq8QuEz0qJ17aUXbonY2SRvwL0vi8E8LB/5txuKX2+12u91ut9vtdrvdbrfb7Xa7/Qf0wSAxhEqDGQAAAABJRU5ErkJggg==",Ma="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAhAAAAEpBAMAAAAwswZCAAAAJ1BMVEU3NTbV1dU2NDXU1NTDwsOrq6t9fX1IR0dwb3DNzc2cm5xbWlqPj4+TNW2cAAAFhElEQVQYGe3AQYud5R0F8MPhzoxSN4d/buoUgcODtIFs+jCmaUqAuQ1RJJuZFAR3mUHE5TBqQFc3iUHcdVpQoZsE0GxjAcFdRPRz9b2ZmbTfoHKf80NERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERExK8VCRj4/pu3+7Wb3z4FTDQSoyGAhrvvSjt9p/ftd45oA8ZobBgPS6UuqaT5kmgwhtOI99Sl0pkLd4hGjIbAZ+ol9dJKV7+wJInRGB9rRypJpZUuzY9gjIaXTkqnuiZVkr4GMZyf9F9dz9XOM2MoBDa6ulZu/vLB+z8v9Fyfw8Q4GoC/qST1K5/DNLce7qg02SOMcTRuaKXePCZt2r57QyVpDsMYhYl9TepLwM1strl5opK0RwzEr0hd/S/HaECzG0x/qkm9ZoyDuKdS3z60TRiECeILqaT7GEf7w4mk+pdJ2IRNE758Q5OvQAxjo0r9wpEJm2ggCAMfdUlzGCOwDdxTL71lGyvGma2FpL4kRkCCXnRp+ylIwAZxhj9Iql0MwSQ2u6Q/22g0YOLcpa7SRWIINmaaPCII04Zxhnws6Q0MoQF+oNL2MWgQ/8v4pKtriSE0cl/Sn2DDvnzjiXGO/r2kuo0REG2rS9q1TWBD20vjDImF1K9iBCY2u6RDkEB7vff5Mc4RB5IuYgQkNiTVkU0AM0nXQRIGYH8o6YqNARgvl3SFhAHMJO3csk2CJje6+jZpY/35u6561Q0EMCup9ASECRgvSb0/bVh/BA4kXaWJyUxV0rUlCJPwliaHILH27MeSdg0YwEwrNT8GSQNcqPSIJtadwX1V7YEwgJl6SerXYRgE96W6DRprz15U6RnRDGBWmpR2bsEkgB8l/RUmBrBQ1aGNlZm6VFLVIzYYOOhVu2DD2iNOJN3BqZnOzWE24KCkfxAjsEq6j1MznSkBBvBA0h8NY92RPJF0B6dmWilJc9hoOJD0d2L9uXEh6RCnZnqudz1qNMGDLu0SxAAWJT3DqZkmXTt1iyQM/yj1XWP9kdyXdBunZpqU6jpgw8C+pD0YA/Bjde3i1EzPzY9IA7AXkh4Zxrpj44Gk3+LUTCvbSxgAiS1NDgli/fE7Sa8CNoGZ1KUnMCYNfklS/dvG2qPxclefG4DJmaR+iyBW3DZK/RpIjGCjtLNzZJjNr6t0HTZWTHyoXnOYWHsENlXSIQnbs9L8CMZzpA+qdLEBxtqzt3ov7ZpoxIa2lyBNrBgLSVdBE2uPwL56vwibxuUbTwgYxoTc7JL2CBLrjjDuSbV9BBiTRtAwJsQnpd6XJIy1Z2AmqT8iCJuwQeLUY0kXYDRiBJuavArAJs4QJF7S5CKG4UXv2n7KCc6ZJn+Q1HeJYTyQVG95ghdMby2kqiXGsdGl/sYRDeMMQX7UJc3RMApvnah33QKIF+zf3ChJX9kYBXFPKm0vDeJMg79QV+/3QYzCeEUrvzu2ca59Kqn0mhuGwYb9Lqm+hHGmbZ5IJe3BxjCIDUldevOoGbaBu4veJc0BG6MgiH2VVHXlczebWw+7ulTaA2yMZENSL/W6+csH7/+86L2rSnOCGIhN/KRJl0qTLqmkemYY4zAml/6pF7omvfQ12TAQT+CPpR1JvdQ1qdL8mMRISNjAZ12lKvWSVOoXljAaBmIQJP2epNK5C3cAYkwPe5WkrpKuLI1RkXff7ZJK2n7nyMawDHz/zdv92s1vn8LEsIyJG2iCjRiXbYBAA0xjWAZhAAZAgxiX2QgbhpuNcRGACcAgIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiLi/+Y/XKfZaw0ONrwAAAAASUVORK5CYII=",Ia="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",Sa=51,xa=52,Pa=179,La=37,Ta=38,Ba=39,Oa=40,Ga=13,Ua=49,Ra=8,Na=13,Fa=32,Va=46,Da=0,Ja=5,Ha=1e4,qa=0,za=!1,Xa=!1,ja=!1,Wa=!1,Ya="",Qa="https://fgl27.github.io/SmartTwitchTV/release/index.min.html",Za="elsu5d09k0xomu7cggx3qg5ybdwu7g",Ka="https://id.twitch.tv/oauth2/token?";function $a(e){Tr.Users_Position=Tr.Users_AddcodePosition,qa=e,Ai(),Du(),ai()}function ei(e,t,n,a){var i=new XMLHttpRequest,o=Ka+"grant_type=refresh_token&client_id="+encodeURIComponent(du)+"&client_secret="+encodeURIComponent(Za)+"&refresh_token="+encodeURIComponent(Ji[e].refresh_token)+"&redirect_uri="+Qa;i.open("POST",o,!0),i.timeout=Ha,i.ontimeout=function(){},i.onreadystatechange=function(){4===i.readyState&&(200===i.status?ni(i.responseText,e,n):-1!==JSON.parse(i.responseText).message.indexOf("Invalid refresh token")?(si(),a&&a()):ti(e,t,n,a))},i.send(null)}function ti(e,t,n,a){++t<5?ei(e,t,n,a):a&&a()}function ni(e,t,n){var a=JSON.parse(e),i=!0;-1===a.scope.indexOf("user_follows_edit")&&(i=!1),-1===a.scope.indexOf("user_read")&&(i=!1),-1===a.scope.indexOf("user_subscriptions")&&(i=!1),i?(Ji[t].access_token=a.access_token,Ji[t].refresh_token=a.refresh_token,lo()):si(),n&&n()}function ai(){var e=new XMLHttpRequest,t=Ka+"grant_type=authorization_code&client_id="+encodeURIComponent(du)+"&client_secret="+encodeURIComponent(Za)+"&code="+encodeURIComponent(qa)+"&redirect_uri="+Qa;e.open("POST",t,!0),e.timeout=Ha,e.ontimeout=function(){},e.onreadystatechange=function(){4!==e.readyState||(200===e.status?di(e.responseText):ii())},e.send(null)}function ii(){++Da<Ja?ai():oi()}function oi(){Ju(),Ku(Lt),window.setTimeout(function(){$u(),Rr=0,p_(),Tr.Main_Go=kr,window.location=Qa},4e3),Ji[Tr.Users_Position].access_token=0,Ji[Tr.Users_Position].refresh_token=0,lo()}function si(){Ju(),Ku(Lt),Ji[Tr.Users_Position].access_token=0,Ji[Tr.Users_Position].refresh_token=0,lo(),p_(),window.setTimeout($u,4e3)}function di(e){var t=JSON.parse(e);Ji[Tr.Users_Position].access_token=t.access_token,Ji[Tr.Users_Position].refresh_token=t.refresh_token,Ai(),li()}function li(){Of("https://api.twitch.tv/kraken?oauth_token="+Ji[Tr.Users_Position].access_token,Ha,0,null,ci,ri)}function ci(e){var t=JSON.parse(e).token;if(t.user_name&&-1!==t.user_name.indexOf(Ji[Tr.Users_Position].name)){if(lo(),Rr=0,Ju(),za=pM=!1,Tr.Main_Go=kr,p_(),Ku(wt),ku)try{Android.clearCookie()}catch(e){}window.setTimeout(function(){window.location=Qa},3e3)}else Ji[Tr.Users_Position].access_token=0,Ji[Tr.Users_Position].refresh_token=0,za=!1,Ku(Gn+Ji[Tr.Users_Position].name),window.setTimeout(function(){$u(),Rr=0,p_(),Tr.Main_Go=kr,window.location=Qa},4e3)}function ri(){++Da<Ja?(Ha+=500,li()):oi()}function ui(){Ai(),Xa=!1,_i()}function _i(){var e="https://api.twitch.tv/kraken/users/"+Ji[Tr.Users_Position].id+"/follows/channels/"+Ya,t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=Ha,t.setRequestHeader(lu,du),t.setRequestHeader(cu,_u),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?fi():404===t.status?mi(t.responseText):hi())},t.send(null)}function fi(){za=!(Xa=!0),Wa?Qv():Ad()}function mi(e){-1!==(JSON.parse(e).error+"").indexOf("Not Found")?(za=Xa=!1,Wa?Qv():Ad()):hi()}function hi(){++Da<Ja?(Ha+=500,_i()):(za=!1,Wa?Qv():Ad())}function pi(){Ai(),vi()}function vi(){var e=new XMLHttpRequest;e.open("PUT","https://api.twitch.tv/kraken/users/"+Ji[Tr.Users_Position].id+"/follows/channels/"+Ya,!0),e.timeout=Ha,e.setRequestHeader(lu,du),e.setRequestHeader(cu,_u),e.setRequestHeader("Authorization","OAuth "+Ji[Tr.Users_Position].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return Xa=!(za=!1),void(Wa?Qv():Ad());401===e.status||403===e.status?ei(Tr.Users_Position,0,pi,null):gi()}},e.send(null)}function gi(){++Da<Ja&&(Ha+=500,vi())}function yi(){Ai(),bi()}function bi(){var e=new XMLHttpRequest;e.open("DELETE","https://api.twitch.tv/kraken/users/"+Ji[Tr.Users_Position].id+"/follows/channels/"+Ya,!0),e.timeout=Ha,e.setRequestHeader(lu,du),e.setRequestHeader(cu,_u),e.setRequestHeader("Authorization","OAuth "+Ji[Tr.Users_Position].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(204===e.status)return za=Xa=!1,void(Wa?Qv():Ad());401===e.status||403===e.status?ei(Tr.Users_Position,0,yi,null):wi()}},e.send(null)}function wi(){++Da<Ja&&(Ha+=500,bi())}function ki(){Ai(),ja=!1,Ci()}function Ai(){Ha=1e4,za=!(Da=0)}function Ci(){var e,t="https://api.twitch.tv/kraken/users/"+Ji[Tr.Users_Position].id+"/subscriptions/"+Ya;if(ku){if(!(e=Android.mreadUrl(t,Ha,3,Ji[Tr.Users_Position].access_token)))return void Ei();if(200===(e=JSON.parse(e)).status)za=!(ja=!0),ly();else if(422===e.status)za=ja=!1,dy();else if(404===e.status){if(-1!==(JSON.parse(e.responseText).error+"").indexOf("Not Found"))return za=ja=!1,void dy();Ei()}else 401===e.status||403===e.status?ei(Tr.Users_Position,0,ki,Mi):Ei()}else(e=new XMLHttpRequest).open("GET",t,!0),e.timeout=Ha,e.setRequestHeader(lu,du),e.setRequestHeader(cu,_u),e.setRequestHeader("Authorization","OAuth "+Ji[Tr.Users_Position].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState)if(200===e.status)za=!(ja=!0),ly();else if(422===e.status)za=ja=!1,dy();else if(404===e.status){if(-1!==(JSON.parse(e.responseText).error+"").indexOf("Not Found"))return za=ja=!1,void dy();Ei()}else 401===e.status||403===e.status?ei(Tr.Users_Position,0,ki,Mi):Ei()},e.send(null)}function Ei(){++Da<Ja?(Ha+=500,Ci()):Mi()}function Mi(){za=ja=!1,dy()}function Ii(e){Ai(),Si(e,0)}function Si(e,t){var n="https://api.twitch.tv/kraken?oauth_token="+Ji[e].access_token,a=new XMLHttpRequest;a.open("GET",n,!0),a.timeout=1e4,a.ontimeout=function(){},a.onreadystatechange=function(){if(4===a.readyState){if(200===a.status)return void(JSON.parse(a.responseText).token.valid?za=!1:(Ai(),ei(e,0,null,null)));400===a.status?(Ai(),ei(e,0,null,null)):xi(e,t)}},a.send(null)}function xi(e,t){++t<Ja&&Si(e,t)}function Pi(){Ai(),Li()}function Li(){var e=new XMLHttpRequest;e.open("PUT","https://api.twitch.tv/api/users/"+Ji[Tr.Users_Position].name+"/follows/games/"+encodeURIComponent(Tr.Main_gameSelected)+"?oauth_token="+Ji[Tr.Users_Position].access_token,!0),e.timeout=1e4,e.setRequestHeader(lu,du),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return So=!0,void Vo();401===e.status||403===e.status?ei(Tr.Users_Position,0,Pi,null):Ti()}},e.send(null)}function Ti(){++Da<Ja&&(Ha+=500,Li())}function Bi(){Ai(),Oi()}function Oi(){var e=new XMLHttpRequest;e.open("DELETE","https://api.twitch.tv/api/users/"+Ji[Tr.Users_Position].name+"/follows/games/"+encodeURIComponent(Tr.Main_gameSelected)+"?oauth_token="+Ji[Tr.Users_Position].access_token,!0),e.timeout=1e4,e.setRequestHeader(lu,du),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(204===e.status)return So=!1,void Vo();401===e.status||403===e.status?ei(Tr.Users_Position,0,Bi,null):Gi()}},e.send(null)}function Gi(){++Da<Ja&&(Ha+=500,Oi())}function Ui(){Ai(),Ri()}function Ri(){var e,t="https://api.twitch.tv/api/users/"+Ji[Tr.Users_Position].name+"/follows/games/"+encodeURIComponent(Tr.Main_gameSelected);(e=new XMLHttpRequest).open("GET",t,!0),e.timeout=1e4,e.setRequestHeader(lu,du),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState)return 200===e.status?(So=!0,void Vo()):404===e.status?(So=!1,void Vo()):void Ni()},e.send(null)}function Ni(){++Da<Ja?(Ha+=500,Ri()):(So=!1,Vo())}var Fi=0,Vi=5,Di=3500,Ji=[],Hi=null,qi=!1,zi=!1;function Xi(){Tr.Main_Go=rr,Uu("top_bar_user","icon_center_focus"),$u(),$c.placeholder=A,Ou("add_user_scroll"),Yi()}function ji(){Zi(!1),document.body.removeEventListener("keydown",Wi),document.body.removeEventListener("keydown",Ki),Ru("top_bar_user","icon_center_focus"),Bu("add_user_scroll")}function Wi(e){if(!qi&&!zi&&Tr.Main_Go===rr)switch(e.keyCode){case Ua:n_()?t_():s_()?o_():(0<Ji.length&&Tr.Main_Go!==kr?Tr.Main_Go=Tr.Main_Before:Tr.Main_Go=cr,ji(),m_());break;case xa:case Sa:case Pa:case Ga:Yi()}}function Yi(){document.body.removeEventListener("keydown",Wi),document.body.addEventListener("keydown",Ki,!1),$c.placeholder=A,$c.focus(),zi=!0}function Qi(){if(null!==$c){var e=$c.cloneNode(!0);$c.parentNode.replaceChild(e,$c),$c=document.getElementById("user_input")}}function Zi(e){$c.blur(),Qi(),document.body.removeEventListener("keydown",Ki),$c.placeholder=C+A,e&&document.body.addEventListener("keydown",Wi,!1),zi=!1}function Ki(e){if(!qi&&Tr.Main_Go===rr)switch(e.keyCode){case Ua:n_()?t_():s_()?o_():(0<Ji.length&&Tr.Main_Go!==kr?Tr.Main_Go=Tr.Main_Before:Tr.Main_Go=cr,ji(),m_());break;case Va:$c.value="";break;case Na:case Oa:""!==$c.value&&null!==$c.value?ro(Hi=$c.value)?(Ju(),Ku(u+Hi+ae),window.setTimeout(function(){$u(),Yi()},1500)):(Di=3500,qi=!(Fi=0),Bu("add_user_scroll"),Du(),$i()):Yi();break;case Ra:$c.value=$c.value.slice(0,-1);break;case Fa:$c.value+=" "}}function $i(){Of("https://api.twitch.tv/kraken/users?login="+encodeURIComponent(Hi),Di,2,null,eo,to)}function eo(e){JSON.parse(e)._total?($c.value="",document.body.removeEventListener("keydown",Wi),oo(e)):no()}function to(){++Fi<Vi?(Di+=500,$i()):no()}function no(){Hi=null,Ju(),Ku(te),window.setTimeout(function(){Xi()},1e3),qi=!1}function ao(){if(0<(Ji=Pf("AddUser_UsernameArray",[])).length)for(var e=0;e<Ji.length;e++)Ji[e].access_token&&Ii(e)}function io(){return 0<Ji.length}function oo(e){Hi=JSON.parse(e).users[0],Ji.push({name:Hi.name,id:Hi._id,access_token:0,refresh_token:0}),lo(),pM=!1,ji(),gM(),qi=!1}function so(e){var t=Ji.indexOf(Ji[e]);-1<t&&Ji.splice(t,1),0<Ji.length?(pM=!1,gM()):Xi(),lo()}function lo(){Sf("AddUser_UsernameArray",JSON.stringify(Ji))}function co(e){Hi=Ji[0],Ji[0]=Ji[e],Ji[e]=Hi,pM=!1,gM(),lo()}function ro(e){return-1!==Ji.indexOf(e)}function uo(){return 0<Ji.length}var _o=0,fo=0,mo=!1,ho=0,po={},vo=[],go=!1,yo=0,bo=5,wo=3500,ko=0,Ao=0,Co=!1,Eo=["ag_thumbdiv","ag_img","ag_infodiv","ag_displayname","ag_streamtitle","ag_streamgame","ag_viwers","ag_quality","ag_cell","agempty_","a_games_scroll"],Mo=!1,Io=!1,So=!1,xo=!1,Po=!1;function Lo(){Tr.Main_CenterLablesVectorPos=3,Tr.Main_Go=_r,document.body.addEventListener("keydown",Zo,!1),Uu("top_bar_game","icon_center_focus"),Tu("label_side_panel","icon-arrow-circle-left",I),Tr.Search_isSearching&&(b_(),Nu("top_bar_user",n+w_(f+" '"+Tr.Search_data+"'"))),Nu("top_bar_game",b+w_(_+": "+Tr.Main_gameSelected)),Tr.Main_OldgameSelected===Tr.Main_gameSelected&&Mo?(x_(_o),Ou(Eo[10]),jo(),p_()):Bo()}function To(){Mo&&-1===_o&&(Qo(),fo=_o=0,Uu(Eo[0]+"0_"+fo,hu)),Tu("label_side_panel","icon-ellipsis",Rn),Nu("top_bar_game",f),document.body.removeEventListener("keydown",Zo),Ru("top_bar_game","icon_center_focus"),Bu(Eo[10])}function Bo(){null===Tr.Main_OldgameSelected&&(Tr.Main_OldgameSelected=Tr.Main_gameSelected),E_("stream_table_a_game"),Bu(Eo[10]),Du(),$u(),Po=Mo=!1,po={},bf=!(ho=Ao=ko=0),_o=fo=0,mo=Io=!(vo=[]),Wu(),Oo(),Go()}function Oo(){I_(),go=!0,yo=0,wo=3500}function Go(){var e=ho+ko;e&&Ao-1<e&&(e=Ao-Zr,mo=!0);var t="https://api.twitch.tv/kraken/streams?game="+encodeURIComponent(Tr.Main_gameSelected)+"&limit="+Zr+"&offset="+e+(""!==Hr?"&broadcaster_language="+Hr:"");ku&&!ho?Uf(t,wo,2,null,Ro,Uo):Rf(t,wo,2,null,Ro,Uo,!1)}function Uo(){++yo<bo?(wo+=500,Go()):(go=!1,ho?(mo=!0,No()):(bf=!1,Ju(),Ku(P)))}function Ro(e){var t=JSON.parse(e),n=t.streams.length;Ao=parseInt(t._total),n<Zr&&(mo=!0);var a=ho;Co=!(ho+=n);var i=n/Kr;0<n%Kr&&i++;var o,s,d,l,c,r,u=0,_=document.getElementById("stream_table_a_game");if(!Po){var f;for(Po=!0,d=document.createElement("tr"),l=0;l<3;l++)f=l?1===l?'<i class="icon-movie stream_channel_fallow_icon"></i>'+wa+U:"":'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+wa+wa+Kt,(Dr=document.createElement("td")).setAttribute("id",Eo[8]+"y_"+l),Dr.className="stream_cell",Dr.innerHTML='<div id="'+Eo[0]+"y_"+l+'" class="stream_thumbnail_fallow_game" ><div id="'+Eo[3]+"y_"+l+'" class="stream_channel_fallow_game">'+f+"</div></div>",d.appendChild(Dr);_.appendChild(d)}for(l=0;l<i;l++){for(s=a/Kr+l,d=document.createElement("tr"),o=0;o<Kr&&u<n;o++,u++)r=(c=t.streams[u]).channel._id,po[r]?o--:(po[r]=1,d.appendChild(U_(s,s+"_"+o,[c.channel.name,r],Eo,[c.preview.template.replace("{width}x{height}",fu),c_(JSON.stringify(c.stream_type))+c.channel.display_name,c.channel.status,c.game,y+Np(c.created_at)+" "+h+d_(c.viewers)+D,l_(c.video_height,c.average_fps,c.channel.broadcaster_language)])));for(;o<Kr;o++)mo&&!Io&&(Io=!0,ho=s*Kr+o),d.appendChild(T_(Eo[9]+s+"_"+o)),vo.push(Eo[9]+s+"_"+o);_.appendChild(d)}No()}function No(){if(Mo){if(M_(Ma),0<vo.length&&!mo)return Oo(),void qo();jo(!0),vo=[]}else Fo(),Co?(Ku(L+Z),_o=-1,Yo()):(Mo=!0,M_(Ma),jo(),p_()),Ou(Eo[10]),bf=!1,Ju();go=!1}function Fo(){xo?(So=!0,Vo()):io()?Ui():(So=!1,Vo())}function Vo(){Nu(Eo[3]+"y_2",So?'<i class="icon-heart" style="color: #00b300; font-size: 100%;"></i>'+wa+wa+Mt:'<i class="icon-heart-o" style="color: #FFFFFF; font-size: 100%; "></i>'+wa+wa+(io()?It:Tt))}function Do(){io()&&Ji[Tr.Users_Position].access_token?So?Bi():Pi():(Ku(Bt),window.setTimeout(function(){Co&&Tr.Main_Go===_r?Ku(L+Z):$u()},2e3))}function Jo(){fo?1===fo?(Tr.Main_Go=Sr,Tr.Main_OldgameSelected=Tr.Main_gameSelected,Ho(),h_()):Do():(Tr.Main_Go=Ir,Tr.Main_OldgameSelected=Tr.Main_gameSelected,Ho(),h_())}function Ho(){Mo&&-1===_o&&(Qo(),fo=_o=0,Uu(Eo[0]+"0_"+fo,hu)),document.body.removeEventListener("keydown",Zo),Bu(Eo[10])}function qo(){Zu(vo.length);var e=ho+ko;e&&Ao-1<e&&(e=Ao-su,mo=!0),Of("https://api.twitch.tv/kraken/streams?game="+encodeURIComponent(Tr.Main_gameSelected)+"&limit="+su+"&offset="+e+(""!==Hr?"&broadcaster_language="+Hr:""),wo,2,null,Xo,zo)}function zo(){++yo<bo?(wo+=500,qo()):(mo=!0,ho-=vo.length,vo=[],No())}function Xo(e){var t,n,a=JSON.parse(e),i=a.streams.length,o=0,s=0,d=[];for(Ao=parseInt(a._total),i<su&&(mo=!0);o<vo.length&&s<i;o++,s++)n=(t=a.streams[s]).channel._id,po[n]?o--:(po[n]=1,R_(vo[o],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",fu),c_(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+Np(t.created_at)+" "+h+d_(t.viewers)+D,l_(t.video_height,t.average_fps,t.channel.broadcaster_language)],Eo),d.push(o));for(o=d.length-1;-1<o;o--)vo.splice(d[o],1);ko+=s,mo&&(ho-=vo.length,vo=[]),No()}function jo(e){_o<0?Yo():(X_(_o,fo,Eo,Kr,ho,e),ho/Kr<_o+$r&&!mo&&!go&&(Oo(),Go()),Gr&&Wo())}function Wo(){-1<_o&&ho?tf(_o+"_"+fo,Eo):Qo()}function Yo(){Uu(Eo[0]+"y_"+fo,hu)}function Qo(){Ru(Eo[0]+"y_"+fo,hu)}function Zo(e){var t;if(!bf&&!q_())switch(H_(),e.keyCode){case Ua:s_()?o_():n_()?t_():(Tr.Main_OldgameSelected=Tr.Main_gameSelected,Wo(),Qo(),kf(Zo));break;case La:if(-1===_o)Qo(),--fo<0&&(fo=2),Yo();else if(_o||fo){if(r_(_o,fo-1,Eo[0]))Wo(),fo--,jo();else for(t=Kr-1;-1<t;t--)if(r_(_o-1,t,Eo[0])){Wo(),_o--,fo=t,jo();break}}else Wo(),Qo(),_o=-1,fo=2,Yo();break;case Ba:-1===_o?(Qo(),2<++fo?(fo=0,Co?Yo():(_o=0,jo())):Yo()):r_(_o,fo+1,Eo[0])?(Wo(),fo++,jo()):r_(_o+1,0,Eo[0])&&(Wo(),_o++,fo=0,jo());break;case Ta:if(-1!==_o||Co)if(_o){for(t=0;t<Kr;t++)if(r_(_o-1,fo-t,Eo[0])){Wo(),_o--,fo-=t,jo();break}}else Wo(),_o=-1,Yo();else _o=0,Qo(),jo();break;case Oa:if(-1!==_o||Co){for(t=0;t<Kr;t++)if(r_(_o+1,fo-t,Eo[0])){Wo(),_o++,fo-=t,jo();break}}else _o=0,Qo(),jo();break;case xa:case Sa:case Pa:case Ga:-1!==_o?Y_(_o+"_"+fo,Eo,Zo):Jo()}}var Ko=0,$o=0,es=!1,ts=0,ns={},as=[],is=!1,os=0,ss=5,ds=3500,ls=0,cs=0,rs=!1,us=!1,_s="week",fs=2,ms=!1,hs=["agv_thumbdiv","agv_img","agv_infodiv","agv_title","agv_streamon","agv_duration","agv_viwers","agv_quality","agv_cell","gvempty_","a_games_vod_scroll","agv_game"],ps=!1,vs=!1,gs="";function ys(){Tr.Main_CenterLablesVectorPos=3,Tr.Main_Go=Ir,Uu("top_bar_game","icon_center_focus"),document.body.addEventListener("keydown",Os,!1),Tu("label_side_panel","icon-arrow-circle-left",I),gs===Tr.Main_gameSelected&&ps?(x_(Ko),Ou(hs[10]),Gs(),Ps(),p_()):ws()}function bs(){ps&&Ls(),document.body.removeEventListener("keydown",Os),Ru("top_bar_game","icon_center_focus"),Nu("top_bar_game",f),Tu("label_side_panel","icon-ellipsis",Rn),Bu(hs[10])}function ws(){ps&&Ls(),E_("stream_table_a_game_vod"),Bu(hs[10]),Du(),Gs(),gs=Tr.Main_gameSelected,$u(),ms=ps=!1,bf=!(us=!(as=[])),Ko=$o=ts=cs=ls=0,es=!(ns={}),Wu(),ks(),As()}function ks(){I_(),is=!0,os=0,ds=3500}function As(){var e=ts+ls;e&&cs-1<e&&(e=cs-Zr,es=!0);var t="https://api.twitch.tv/kraken/videos/top?game="+encodeURIComponent(Tr.Main_gameSelected)+"&limit="+Zr+"&broadcast_type="+(vs?"highlight":"archive")+"&sort=views&offset="+e+"&period="+_s+(""!==Hr?"&language="+Hr:"");ku&&!ts?Uf(t,ds,2,null,Es,Cs):Rf(t,ds,2,null,Es,Cs,!1)}function Cs(){++os<ss?(ds+=500,As()):(is=!1,ts?(es=!0,Ms()):(bf=!1,Ju(),Ku(P)))}function Es(e){var t=JSON.parse(e),n=t.vods.length;cs=parseInt(t._total),n<Zr&&(es=!0);var a=ts;rs=!(ts+=n);var i=n/Kr;0<n%Kr&&i++;var o,s,d,l,c,r=0,u=document.getElementById("stream_table_a_game_vod");if(!ms){var _;for(ms=!0,d=document.createElement("tr"),f=0;f<2;f++)_=f?'<i class="icon-history stream_channel_fallow_icon"></i>'+wa+wa+m:'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+wa+wa+p,(Dr=document.createElement("td")).setAttribute("id",hs[8]+"y_"+f),Dr.className="stream_cell",Dr.innerHTML='<div id="'+hs[0]+"y_"+f+'" class="stream_thumbnail_channel_vod" ><div id="'+hs[3]+"y_"+f+'" class="stream_channel_fallow_game">'+_+"</div></div>",d.appendChild(Dr);u.appendChild(d)}for(var f=0;f<i;f++){for(s=a/Kr+f,d=document.createElement("tr"),o=0;o<Kr&&r<n;o++,r++)c=(l=t.vods[r])._id,-1!==(l.preview.template+"").indexOf("404_processing")||ns[c]?o--:(ns[c]=1,d.appendChild(ZI(s,s+"_"+o,[c,l.length,l.channel.broadcaster_language,l.game,l.channel.name,l.increment_view_count_url],[l.preview.template.replace("{width}x{height}",fu),l.channel.display_name,N+k_(l.created_at),bS.parse(l.title)+da+Qt+v+l.game,d_(l.views)+V,l_(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.channel.broadcaster_language),F+Up(l.length),l.animated_preview_url],hs)));for(;o<Kr;o++)es&&!us&&(us=!0,ts=s*Kr+o),d.appendChild(T_(hs[9]+s+"_"+o)),as.push(hs[9]+s+"_"+o);u.appendChild(d)}Ms()}function Ms(){if(ps?M_(Ma):(rs?Ku(L+(vs?G:O)+T+M):(ps=!0,M_(Ma),Ps(),p_()),Ou(hs[10]),bf=!1,Ju()),0<as.length&&!es)return ks(),void Is();Ps(!0),is=!(as=[])}function Is(){Zu(as.length);var e=ts+ls;e&&cs-1<e&&(e=cs-su,es=!0),Of("https://api.twitch.tv/kraken/videos/top?game="+encodeURIComponent(Tr.Main_gameSelected)+"&limit="+su+"&broadcast_type="+(vs?"highlight":"archive")+"&sort=views&offset="+e+"&period="+_s+(""!==Hr?"&language="+Hr:""),ds,2,null,xs,Ss)}function Ss(){++os<ss?(ds+=500,Is()):(es=!0,as=[],Ms())}function xs(e){var t,n,a=JSON.parse(e),i=a.vods.length,o=0,s=0,d=[];for(cs=parseInt(a._total);o<as.length&&s<i;o++,s++)n=(t=a.vods[s])._id,-1!==(t.preview.template+"").indexOf("404_processing")||ns[n]?o--:(ns[n]=1,$I(as[o],[n,t.length,t.channel.broadcaster_language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",fu),t.channel.display_name,N+k_(t.created_at),bS.parse(t.title)+da+Qt+v+t.game,d_(t.views)+V,l_(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.channel.broadcaster_language),F+Up(t.length),t.animated_preview_url],hs),d.push(o));for(o=d.length-1;-1<o;o--)as.splice(d[o],1);ls+=s,es&&(ts-=as.length,as=[]),Ms()}function Ps(e){Ko<0?Ts():(X_(Ko,$o,hs,Kr,ts,e),cS(hs,Ko+"_"+$o),ts/Kr<Ko+$r&&!es&&!is&&(ks(),As()),Gr&&Ls())}function Ls(){window.clearInterval(wI),-1<Ko&&ts?(Ou(hs[1]+Ko+"_"+$o),tf(Ko+"_"+$o,hs)):Bs()}function Ts(){var e=1<$o?1:$o;Uu(hs[0]+"y_"+e,hu)}function Bs(){var e=1<$o?1:$o;Ru(hs[0]+"y_"+e,hu)}function Os(e){var t;if(!bf&&!q_())switch(H_(),e.keyCode){case Ua:s_()?o_():n_()?t_():(Ls(),kf(Os));break;case La:if(-1===Ko)Bs(),--$o<0&&($o=1),Ts();else if(Ko||$o){if(r_(Ko,$o-1,hs[0]))Ls(),$o--,Ps();else for(t=Kr-1;-1<t;t--)if(r_(Ko-1,t,hs[0])){Ls(),Ko--,$o=t,Ps();break}}else Ls(),Bs(),Ko=-1,$o=1,Ts();break;case Ba:-1===Ko?(Bs(),1<++$o?($o=0,rs?Ts():(Ko=0,Ps())):Ts()):r_(Ko,$o+1,hs[0])?(Ls(),$o++,Ps()):r_(Ko+1,0,hs[0])&&(Ls(),Ko++,$o=0,Ps());break;case Ta:if(-1!==Ko||rs)if(Ko){for(t=0;t<Kr;t++)if(r_(Ko-1,$o-t,hs[0])){Ls(),Ko--,$o-=t,Ps();break}}else Ls(),Ko=-1,Ts();else Ko=0,Bs(),Ps();break;case Oa:if(-1!==Ko||rs){for(t=0;t<Kr;t++)if(r_(Ko+1,$o-t,hs[0])){Ls(),Ko++,$o-=t,Ps();break}}else Ko=0,Bs(),Ps();break;case xa:case Sa:case Pa:case Ga:-1===Ko?(0===$o?Sf("AGameVod_highlight",(vs=!vs)?"true":"false"):4<++fs&&(fs=1),ws()):K_(Ko+"_"+$o,hs,Os)}}function Gs(){1===fs?(Nu("top_bar_game",b+w_((vs?G:O)+de+": "+Tr.Main_gameSelected)),_s="day"):2===fs?(Nu("top_bar_game",b+w_((vs?G:O)+le+": "+Tr.Main_gameSelected)),_s="week"):3===fs?(Nu("top_bar_game",b+w_((vs?G:O)+ce+": "+Tr.Main_gameSelected)),_s="month"):4===fs&&(Nu("top_bar_game",b+w_((vs?G:O)+re+": "+Tr.Main_gameSelected)),_s="all"),Sf("AGameVod_periodNumber",fs)}var Us,Rs=0,Ns=0,Fs=!1,Vs=0,Ds=0,Js=5,Hs=3500,qs=0,zs=!1,Xs=!1,js=["cc_thumbdiv","cc_img","cc_infodiv","cc_name","cc_createdon","cc_game","cc_viwers","cc_duration","cc_cell","sccempty_","channel_content_scroll"],Ws=!1,Ys="",Qs=null,Zs="",Ks="",$s="",ed="",td="",nd={},ad=!1,id=null,od="";function sd(){Tr.Main_CenterLablesVectorPos=1,Tr.Main_Go=yr,ad&&!Tr.Search_isSearching&&Tr.Main_selectedChannel_id&&Pd(),Ys!==Tr.Main_selectedChannel&&(Ws=!1),b_(),Tr.Main_selectedChannelDisplayname=Tr.Main_selectedChannelDisplayname.replace(W,""),Fu("top_bar_user",Tr.Main_selectedChannelDisplayname),Fu("top_bar_game",Ut),document.body.addEventListener("keydown",Ld,!1),Wa=!1,Ws?(x_(Rs),Ou(js[10]),Ed(),Md(),p_()):ld()}function dd(){y_(),document.body.removeEventListener("keydown",Ld),Bu(js[10])}function ld(){E_("stream_table_channel_content"),Bu(js[10]),id=null,Du(),$u(),Ys=Tr.Main_selectedChannel,ed="",Fs=zs=Ws=!1,Us=void(Rs=Ns=Vs=qs=0),cd(),rd()}function cd(){bf=!0,Ds=0,Hs=3500}function rd(){Of("https://api.twitch.tv/kraken/streams/"+encodeURIComponent(void 0!==Us?Us:Tr.Main_selectedChannel_id),Hs,2,null,ud,_d)}function ud(e){null!==JSON.parse(e).stream?(Qs=e,cd(),pd()):Us?(Qs=null,cd(),pd()):(cd(),fd())}function _d(){++Ds<Js?(Hs+=500,rd()):(Qs=null,cd(),pd())}function fd(){Of("https://tmi.twitch.tv/hosts?include_logins=1&host="+encodeURIComponent(Tr.Main_selectedChannel_id),Hs,1,null,hd,md,!0)}function md(){++Ds<Js?(Hs+=500,fd()):(Qs=null,cd(),pd())}function hd(e){var t=JSON.parse(e);void 0!==(Us=t.hosts[0].target_id)?(cd(),rd()):(Qs=null,cd(),pd())}function pd(){Of("https://api.twitch.tv/kraken/channels/"+Tr.Main_selectedChannel_id,yg,2,null,vd,gd)}function vd(e){var t=JSON.parse(e);id=(id=t.video_banner)?id.replace("1920x1080",fu):id,od=t.profile_banner,Zs=t.views,Ks=t.followers,$s=t.description,Tr.Main_selectedChannelLogo=t.logo,yd()}function gd(){++Ds<Js?(Hs+=500,pd()):(id=null,od=Ia,$s=Ks=Zs="",Tr.Main_selectedChannelLogo=Ea,yd())}function yd(){var e=document.createElement("tr"),t=0,n=document.getElementById("stream_table_channel_content");if((Dr=document.createElement("tr")).className="follower_banner",Dr.innerHTML='<div id="'+js[0]+'x_0" class="follower_banner"><img id="'+js[1]+'x_0" class="stream_img_banner"></div>',n.appendChild(Dr),null!==Qs){var a=JSON.parse(Qs);if(null!==a.stream){var i=void 0!==Us?Tr.Main_selectedChannelDisplayname+ne:"",o=a.stream;e.appendChild(bd("0_"+t,o.channel.name,o.preview.template,bS.parse(o.channel.status),o.game,c_(JSON.stringify(o.stream_type))+i+o.channel.display_name,y+Np(o.created_at)+" "+h+d_(o.viewers)+D,l_(o.video_height,o.average_fps,o.channel.broadcaster_language))),t++}else zs=!0}else zs=!0;e.appendChild(wd("0_"+t,Tr.Main_selectedChannelDisplayname,Tr.Main_selectedChannelDisplayname+O,"movie-play")),t++,e.appendChild(wd("0_"+t,Tr.Main_selectedChannelDisplayname,Tr.Main_selectedChannelDisplayname+U,"movie")),t<2&&(t++,e.appendChild(T_(js[9]+"0_"+t))),n.appendChild(e),(e=document.createElement("tr")).appendChild(kd("1_0",Tr.Main_selectedChannelDisplayname,Tr.Main_selectedChannelDisplayname,Tr.Main_selectedChannelLogo)),(Dr=document.createElement("td")).setAttribute("id",js[8]+"x_x"),Dr.className="stream_cell",Dr.innerHTML='<div id="'+js[0]+'x_x" class="stream_thumbnail_video" ><div id="'+js[4]+'x_x" class="stream_channel_info">'+bS.parse($s)+"</div></div>",e.appendChild(Dr),n.appendChild(e),Cd()}function bd(e,t,n,a,i,o,s,d){return ed=n.replace("{width}x{height}",fu),(Dr=document.createElement("td")).setAttribute("id",js[8]+e),Dr.setAttribute(pu,t),Dr.className="stream_cell",Dr.innerHTML='<div id="'+js[0]+e+'" class="stream_thumbnail_video" ><img id="'+js[1]+e+'" class="stream_img"></div><div id="'+js[2]+e+'" class="stream_text"><div id="'+js[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;"><i class="icon-circle" style="color: '+(void 0!==Us?"#FED000":"red")+'; font-size: 90%; aria-hidden="true"></i> '+wa+o+'</div><div id="'+js[7]+e+'"class="stream_info" style="width:33%; float: right; text-align: right; display: inline-block;">'+d+'</div><div id="'+js[4]+e+'"class="stream_info">'+a+'</div><div id="'+js[5]+e+'"class="stream_info">'+v+i+'</div><div id="'+js[6]+e+'"class="stream_info">'+s+"</div></div>",Dr}function wd(e,t,n,a){return(Dr=document.createElement("td")).setAttribute("id",js[8]+e),Dr.setAttribute(pu,t),Dr.className="stream_cell",Dr.innerHTML='<div id="'+js[0]+e+'" class="stream_thumbnail_video" ><div id="'+js[1]+e+'" class="stream_channel_content_icon"><i class="icon-'+a+'"></i></div></div><div id="'+js[2]+e+'" class="stream_text"><div id="'+js[3]+e+'" class="stream_channel" style="text-align: center">'+n+"</div></div>",Dr}function kd(e,t,n,a){return td=a,(Dr=document.createElement("td")).setAttribute("id",js[8]+e),Dr.setAttribute(pu,t),Dr.className="stream_cell",Dr.innerHTML='<div id="'+js[0]+e+'" class="stream_thumbnail_video" ><div id="schannel_cont_heart" style="position: absolute; top: 5%; left: 6%;"></div><img id="'+js[1]+e+'" class="stream_img_fallow"></div><div id="'+js[2]+e+'" class="stream_text_channel"><div id="'+js[3]+e+'" class="stream_channel">'+n+'</div><div id="'+js[5]+e+'"class="stream_info">'+d_(Zs)+V+'</div><div id="'+js[6]+e+'"class="stream_info" >'+d_(Ks)+Ft+"</div></div>",Dr}function Ad(){Xa?(Nu("schannel_cont_heart",'<i class="icon-heart" style="color: #00b300; font-size: 600%; text-shadow: #FFFFFF 0 0 10px, #FFFFFF 0 0 10px, #FFFFFF 0 0 8px;"></i>'),Fu(js[3]+"1_0",Tr.Main_selectedChannelDisplayname+Mt)):(Nu("schannel_cont_heart",'<i class="icon-heart-o" style="color: #FFFFFF; font-size: 600%; text-shadow: #000000 0 0 10px, #000000 0 0 10px, #000000 0 0 8px;"></i>'),io()?Fu(js[3]+"1_0",Tr.Main_selectedChannelDisplayname+It):Fu(js[3]+"1_0",Tr.Main_selectedChannelDisplayname+Vt))}function Cd(){Ws||(Ws=!0,""!==ed&&Eu(document.getElementById(js[1]+"0_0"),ed,Ma),Eu(document.getElementById(js[1]+"x_0"),od,Ia),Eu(document.getElementById(js[1]+"1_0"),td,Ea),Md(),p_(),Ou(js[10]),Ju()),Ed(),bf=!1}function Ed(){Xs?Ad():io()?(Ya=Tr.Main_selectedChannel_id,Wa=!1,ui()):(Xa=!1,Ad())}function Md(){Uu(js[0]+Rs+"_"+(Rs?0:Ns),hu),Gr&&Id(),D_()}function Id(){tf(Rs+"_"+(Rs?0:Ns),js)}function Sd(){if(Rs)io()&&Ji[Tr.Users_Position].access_token?(Wa=!1,Ya=Tr.Main_selectedChannel_id,Xa?yi():pi()):(Ku(Bt),window.setTimeout($u,2e3));else{document.body.removeEventListener("keydown",Ld),Bu(js[10]);var e=zs?1:0;Ns===0-e?(Tr.Play_selectedChannel=document.getElementById(js[8]+Rs+"_"+Ns).getAttribute(pu),Tr.Play_selectedChannelDisplayname=document.getElementById(js[3]+Rs+"_"+Ns).textContent,-1!==Tr.Play_selectedChannelDisplayname.indexOf(ne)?(Tr.Play_isHost=!0,Tr.Play_DisplaynameHost=Tr.Play_selectedChannelDisplayname,Tr.Play_selectedChannelDisplayname=Tr.Play_selectedChannelDisplayname.split(ne)[1],Tr.Play_selectedChannel_id=Us):Tr.Play_selectedChannel_id=Tr.Main_selectedChannel_id,Tr.Play_gameSelected=document.getElementById(js[5]+Rs+"_"+Ns).textContent.split(v)[1],of(Q_)):Ns===1-e?of(al):Ns===2-e&&(Hy=pb,of(Wy))}}function xd(){nd={"Main_values.Main_selectedChannel_id":Tr.Main_selectedChannel_id,"Main_values.Main_selectedChannelLogo":Tr.Main_selectedChannelLogo,"Main_values.Main_selectedChannel":Tr.Main_selectedChannel,"Main_values.Main_selectedChannelDisplayname":Tr.Main_selectedChannelDisplayname,ChannelContent_UserChannels:Xs,"Main_values.Main_BeforeChannel":Tr.Main_BeforeChannel}}function Pd(){Tr.Main_selectedChannel_id=Tr.Main_selectedChannel_id,Tr.Main_selectedChannelLogo=Tr.Main_selectedChannelLogo,Tr.Main_selectedChannel=Tr.Main_selectedChannel,Tr.Main_selectedChannelDisplayname=Tr.Main_selectedChannelDisplayname,Xs=nd.ChannelContent_UserChannels,Tr.Main_BeforeChannel=Tr.Main_BeforeChannel,ad=!(nd={})}function Ld(e){if(!bf&&!q_())switch(H_(),e.keyCode){case Ua:s_()?o_():n_()?t_():(Id(),kf(Ld));break;case La:Rs||(Id(),--Ns<0&&(Ns=zs?1:2),Md());break;case Ba:Rs||(Id(),(zs?1:2)<++Ns&&(Ns=0),Md());break;case Ta:case Oa:Id(),Rs=Rs?0:1,Md();break;case xa:case Sa:case Pa:case Ga:Sd()}}var Td=0,Bd=0,Od=!1,Gd=0,Ud={},Rd=[],Nd=!1,Fd=0,Vd=5,Dd=3500,Jd=0,Hd=0,qd=0,zd=!1,Xd=!1,jd="",Wd=!1,Yd=["cv_thumbdiv","cv_img","cv_infodiv","cv_title","cv_streamon","cv_duration","cv_viwers","cv_quality","cv_cell","cvempty_","channel_vod_scroll","cv_game"],Qd=!1,Zd=!1,Kd="",$d="",el="",tl="",nl=0;function al(){Tr.Main_CenterLablesVectorPos=1,Tr.Main_Go=br,!Tr.Search_isSearching&&Tr.Main_selectedChannel_id&&Pd(),Tr.Main_selectedChannel!==Kd&&(Qd=!1),b_(),Tu("label_side_panel","icon-arrow-circle-left",I),Fu("top_bar_user",Tr.Main_selectedChannelDisplayname),document.body.addEventListener("keydown",gl,!1),Qd?(x_(Td),Fu("top_bar_game",Zd?G:O),Ou(Yd[10]),ml(),p_()):ol()}function il(){Qd&&hl(),y_(),document.body.removeEventListener("keydown",gl),Bu(Yd[10]),$u()}function ol(){Qd&&hl(),E_("stream_table_channel_vod"),Bu(Yd[10]),Fu("top_bar_game",Zd?G:O),Du(),$u(),Kd=Tr.Main_selectedChannel,Wd=Qd=!1,bf=!(Xd=!(Rd=[])),Td=Bd=Gd=Hd=Jd=0,Od=!(Ud={}),Wu(),sl(),dl()}function sl(){I_(),Nd=!0,Fd=0,Dd=3500}function dl(){var e=Gd+Jd;e&&Hd-1<e&&(e=Hd-Zr,Od=!0);var t="https://api.twitch.tv/kraken/channels/"+encodeURIComponent(Tr.Main_selectedChannel_id)+"/videos?limit="+Zr+"&broadcast_type="+(Zd?"highlight":"archive")+"&sort=time&offset="+e;ku&&!Gd?Uf(t,Dd,2,null,cl,ll):Rf(t,Dd,2,null,cl,ll,!1)}function ll(){++Fd<Vd?(Dd+=500,dl()):(Nd=!1,Gd?(Od=!0,rl()):(bf=!1,Ju(),Ku(P),kf(gl)))}function cl(e){var t=JSON.parse(e),n=t.videos.length;Hd=parseInt(t._total),n<Zr&&(Od=!0);var a=Gd;zd=!(Gd+=n);var i=n/Kr;0<n%Kr&&i++;var o,s,d,l,c,r,u,_=0,f=document.getElementById("stream_table_channel_vod");if(!Wd){Wd=!0,d=document.createElement("tr");var m='<i class="icon-movie-play stream_channel_fallow_icon"></i>'+wa+wa+p;(Dr=document.createElement("td")).setAttribute("id",Yd[8]+"y_0"),Dr.className="stream_cell",Dr.innerHTML='<div id="'+Yd[0]+'y_0" class="stream_thumbnail_channel_vod" ><div id="'+Yd[3]+'y_0" class="stream_channel_fallow_game">'+m+"</div></div>",d.appendChild(Dr),d.appendChild(document.createElement("tr")),d.appendChild(document.createElement("tr")),f.appendChild(d)}for(var h=0;h<i;h++){for(s=a/Kr+h,d=document.createElement("tr"),o=0;o<Kr&&_<n;o++,_++)c=(l=t.videos[_])._id,r=-1!==((u=l.preview.template)+"").indexOf("404_processing"),s||o||!r||(r=!1,u=null!==id?id:Ma),r||Ud[c]?o--:(Ud[c]=1,d.appendChild(ZI(s,s+"_"+o,[c,l.length,l.channel.broadcaster_language,l.game,l.channel.name,l.increment_view_count_url],[u.replace("{width}x{height}",fu),l.channel.display_name,N+k_(l.created_at),bS.parse(l.title)+da+Qt+v+l.game,d_(l.views)+V,l_(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.channel.broadcaster_language),F+Up(l.length),l.animated_preview_url],Yd)));for(;o<Kr;o++)Od&&!Xd&&(Xd=!0,Gd=s*Kr+o),d.appendChild(T_(Yd[9]+s+"_"+o)),Rd.push(Yd[9]+s+"_"+o);f.appendChild(d)}rl()}function rl(){if(Qd?(ml(!0),M_(null!==id?id:Ma)):(zd?(kf(gl),Ku(L+(Zd?G:O)+T+M)):(Qd=!0,M_(null!==id?id:Ma),ml(),p_()),Ou(Yd[10]),bf=!1,Ju()),0<Rd.length&&!Od)return sl(),void ul();Nd=!(Rd=[])}function ul(){Zu(Rd.length);var e=Gd+Jd;e&&Hd-1<e&&(e=Hd-su,Od=!0),Of("https://api.twitch.tv/kraken/channels/"+encodeURIComponent(Tr.Main_selectedChannel_id)+"/videos?limit="+su+"&broadcast_type="+(Zd?"highlight":"archive")+"&sort=time&offset="+e,Dd,2,null,fl,_l)}function _l(){++Fd<Vd?(Dd+=500,ul()):(Od=!0,Gd-=Rd.length,Rd=[],rl())}function fl(e){var t,n,a=JSON.parse(e),i=a.videos.length,o=0,s=0,d=[];for(Hd=parseInt(a._total);o<Rd.length&&s<i;o++,s++)n=(t=a.videos[s])._id,-1!==(t.preview.template+"").indexOf("404_processing")||Ud[n]?o--:(Ud[n]=1,$I(Rd[o],[n,t.length,t.channel.broadcaster_language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",fu),t.channel.display_name,N+k_(t.created_at),bS.parse(t.title)+da+Qt+v+t.game,d_(t.views)+V,l_(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.channel.broadcaster_language),F+Up(t.length),t.animated_preview_url],Yd),d.push(o));for(o=d.length-1;-1<o;o--)Rd.splice(d[o],1);Jd+=s,Od&&(Gd-=Rd.length,Rd=[]),rl()}function ml(e){Td<0?pl():(X_(Td,Bd,Yd,Kr,Gd,e),cS(Yd,Td+"_"+Bd),Gd/Kr<Td+$r&&!Od&&!Nd&&(sl(),dl()),Gr&&hl())}function hl(){window.clearInterval(wI),-1<Td&&Gd?(Ou(Yd[1]+Td+"_"+Bd),tf(Td+"_"+Bd,Yd)):vl()}function pl(){Uu(Yd[0]+"y_0",hu)}function vl(){Ru(Yd[0]+"y_0",hu)}function gl(e){var t;if(!bf&&!q_())switch(H_(),e.keyCode){case Ua:s_()?o_():n_()?t_():(hl(),kf(gl));break;case La:if(r_(Td,Bd-1,Yd[0]))hl(),Bd--,ml();else for(t=Kr-1;-1<t;t--)if(r_(Td-1,t,Yd[0])){hl(),Td--,Bd=t,ml();break}break;case Ba:r_(Td,Bd+1,Yd[0])?(hl(),Bd++,ml()):r_(Td+1,0,Yd[0])&&(hl(),Td++,Bd=0,ml());break;case Ta:if(-1!==Td||zd)if(Td){for(t=0;t<Kr;t++)if(r_(Td-1,Bd-t,Yd[0])){hl(),Td--,Bd-=t,ml();break}}else hl(),Td=-1,pl();else Td=0,vl(),ml();break;case Oa:if(-1!==Td||zd){for(t=0;t<Kr;t++)if(r_(Td+1,Bd-t,Yd[0])){hl(),Td++,Bd-=t,ml();break}}else Td=0,vl(),ml();break;case xa:case Sa:case Pa:case Ga:-1===Td?(Sf("ChannelVod_highlight",(Zd=!Zd)?"true":"false"),ol()):K_(Td+"_"+Bd,Yd,gl)}}var yl,bl,wl,kl,Al=0,Cl=10,El=!1,Ml=0,Il=null,Sl=!1,xl=0,Pl={},Ll={};function Tl(){Zl(),Tr.Play_ChatForceDisable?(ac||gc(),Sl=!1,of(function(){Bl(Ml=(new Date).getTime())})):Wc()}function Bl(e){Al=0,Ol(e)}function Ol(e){var t="https://badges.twitch.tv/v1/badges/channels/"+Tr.Play_selectedChannel_id+"/display",n=new XMLHttpRequest;n.open("GET",t,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){if(4===n.readyState){if(200===n.status)return void(Ml===e&&Ul(n.responseText,e));Ml===e&&Gl(e)}},n.send(null)}function Gl(e){Al++,Ml===e&&(Al<Cl?Ol(e):bl=window.setTimeout(function(){Ol(e)},1e3))}function Ul(e,t){gS(JSON.parse(e).badge_sets).forEach(function(t){t.versions.forEach(function(e){yS(t.type,e.type,e.image_url_4x,tc)})}),Pl[Tr.Play_selectedChannel_id]?Ml===t&&Jl():Rl(t)}function Rl(e){Al=0,Nl(e)}function Nl(e){var t="https://api.betterttv.net/2/channels/"+encodeURIComponent(Tr.Play_selectedChannel),n=new XMLHttpRequest;n.open("GET",t,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){4===n.readyState&&(200===n.status?Ml===e&&Vl(n.responseText,e):404===n.status?(Pl[Tr.Play_selectedChannel_id]=1,Ml===e&&Jl()):Ml===e&&Fl(e))},n.send(null)}function Fl(e){Al++,Ml===e&&(Al<Cl?Nl(e):Ml===e&&Jl())}function Vl(e,t){Dl(JSON.parse(e)),Pl[Tr.Play_selectedChannel_id]=1,Ml===t&&Jl()}function Dl(t){t.emotes.forEach(function(e){Ll[e.code]={code:e.code,id:e.id,"3x":"https:"+t.urlTemplate.replace("{{id}}",e.id).replace("{{image}}","3x")}})}function Jl(){zl(),Hl()}function Hl(){(Il=new ReconnectingWebSocket("wss://irc-ws.chat.twitch.tv","irc",{reconnectInterval:3e3})).onopen=function(){Il.send("PASS blah\r\n"),Il.send("NICK justinfan12345\r\n"),Il.send("CAP REQ :twitch.tv/commands twitch.tv/tags\r\n"),Il.send("JOIN #"+Tr.Play_selectedChannel+"\r\n")},Il.onclose=function(){El=!0},Il.onmessage=function(e){var t=window.parseIRC(e.data.trim());if(t.command)switch(t.command){case"PING":Il.send("PONG "+t.params[0]);break;case"JOIN":Sl=!0,Wl('&nbsp;<span class="message">'+da+bn+Tr.Play_selectedChannelDisplayname+" "+_+"</span>");break;case"PRIVMSG":Xl(t)}},wl=window.setTimeout(ql,5e3)}function ql(){Sl?kl=window.setInterval(Yl,1e3):(Il.close(1e3),Jl())}function zl(){window.clearTimeout(wl)}function Xl(e){var t="",n=e.tags;if(n.hasOwnProperty("badges")&&"string"==typeof n.badges&&n.badges.split(",").forEach(function(e){e=e.split("/"),t+='<span class="'+e[0]+"-"+e[1]+' tag"></span>'}),n.hasOwnProperty("display-name")){var a=n["display-name"];"string"==typeof a&&(t+='<span class="nick" style="color: #'+uc[a.charCodeAt(0)%_c]+';">'+a+"</span>&#58;&nbsp;")}var i=e.params[1];/^\x01ACTION.*\x01$/.test(i)&&(i=i.replace(/^\x01ACTION/,"").replace(/\x01$/,"").trim());var o={};n.hasOwnProperty("emotes")&&"string"==typeof n.emotes&&(n.emotes=n.emotes.split("/"),n.emotes.forEach(function(t){t=t.split(":"),o[t[0]]||(o[t[0]]=[]),t[1].split(",").forEach(function(e){e=e.split("-"),o[t[0]].push([parseInt(e[0]),parseInt(e[1])])})})),Wl(t+='<span class="message">'+jl(vS(i,o))+"</span>")}function jl(e){for(var t=0;t<e.length;t++)"string"==typeof e[t]?e[t]=pS(e[t]):e[t]=e[t][0];return bS.parse(e.join(" "),!0,!0)}function Wl(e){var t=document.createElement("div");t.className="chat_line",t.innerHTML=e,tc.appendChild(t),Yl(),100<++xl&&(xl=0,Qc())}function Yl(){tc.scrollTop=tc.scrollHeight}function Ql(){zl(),window.clearTimeout(bl),window.clearTimeout(yl),window.clearInterval(kl)}function Zl(){Ql(),Il&&Il.close(1e3),Ml=0,E_("chat_box"),Sl=El=!1}var Kl,$l,ec,tc,nc,ac=!1,ic=0,oc=[],sc=[],dc=10,lc=null,cc=0,rc="",uc=["fe2424","fc5a24","ff9020","fEc723","ffff1d","bfff00","c3ff12","56fe1d","1eff1e","16ff51","00ff80","00ffbf","00ffff","1dc6ff","158aff","3367ff","ff4dff","ff4ad2","ff62b1","ff4272"],_c=uc.length,fc=0,mc=!1,hc=0;function pc(){tc=document.getElementById("chat_box"),gc()}function vc(){Jc(),ku&&Tr.Play_ChatForceDisable?(ac||gc(),of(function(){Mc(hc=(new Date).getTime())})):Wc()}function gc(){ic=0,ac=!(Ll={}),yc()}function yc(){Rf("https://badges.twitch.tv/v1/badges/global/display",1e4,0,null,wc,bc,!1)}function bc(){++ic<dc?yc():ac=!1}function wc(e){gS(JSON.parse(e).badge_sets).forEach(function(t){t.versions.forEach(function(e){yS(t.type,e.type,e.image_url_4x,null)})}),kc()}function kc(){ic=0,Ac()}function Ac(){Rf("https://api.betterttv.net/2/emotes",1e4,0,null,Ec,Cc,!1)}function Cc(){++ic<dc?Ac():ac=!1}function Ec(e){Dl(JSON.parse(e)),ac=!0}function Mc(e){ic=0,Ic(e)}function Ic(e){var t="https://badges.twitch.tv/v1/badges/channels/"+Tr.Main_selectedChannel_id+"/display",n=new XMLHttpRequest;n.open("GET",t,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){if(4===n.readyState){if(200===n.status)return void(hc===e&&xc(n.responseText,e));hc===e&&Sc(e)}},n.send(null)}function Sc(e){ic++,hc===e&&(ic<dc?Ic(e):nc=window.setTimeout(function(){Ic(e)},1e3))}function xc(e,t){gS(JSON.parse(e).badge_sets).forEach(function(t){t.versions.forEach(function(e){yS(t.type,e.type,e.image_url_4x,tc)})}),hc===t&&Oc(t),Pl[Tr.Main_selectedChannel_id]?hc===t&&Oc(t):Pc(t)}function Pc(e){ic=0,Lc(e)}function Lc(e){var t="https://api.betterttv.net/2/channels/"+encodeURIComponent(Tr.Main_selectedChannel),n=new XMLHttpRequest;n.open("GET",t,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){4===n.readyState&&(200===n.status?hc===e&&Bc(n.responseText,e):404===n.status?(Pl[Tr.Main_selectedChannel_id]=1,hc===e&&Oc()):hc===e&&Tc(e))},n.send(null)}function Tc(e){ic++,hc===e&&(ic<dc?Lc(e):hc===e&&Oc())}function Bc(e,t){Dl(JSON.parse(e)),Pl[Tr.Main_selectedChannel_id]=1,hc===t&&Oc()}function Oc(e){ic=0,hc===e&&Gc(e)}function Gc(e){var t="https://api.twitch.tv/v5/videos/"+Tr.ChannelVod_vodId+"/comments?client_id="+du+(cc?"&content_offset_seconds="+parseInt(cc):""),n=new XMLHttpRequest;n.open("GET",t,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){if(4===n.readyState){if(200===n.status)return void(hc===e&&Rc(n.responseText,e));hc===e&&Uc(e)}},n.send(null)}function Uc(e){ic++,hc===e&&(ic<dc?Gc(e):$l=window.setTimeout(function(){Gc(e)},2500))}function Rc(e,t){e=JSON.parse(e);var n,a,i=null===lc;i&&(n="&nbsp;",n+='<span class="message">',n+=da+bn+Tr.Main_selectedChannelDisplayname+" "+rc,Nc(n+="</span>",0)),cc=0,lc=e._next,e.comments.forEach(function(e){n="",(a=e.message).hasOwnProperty("user_badges")&&a.user_badges.forEach(function(e){n+='<span class="'+e._id+"-"+e.version+' tag"></span>'}),n+='<span class="nick" style="color: #'+uc[e.commenter.display_name.charCodeAt(0)%_c]+';">'+e.commenter.display_name+"</span>&#58;&nbsp;",n+='<span class="message">',a.fragments.forEach(function(e){e.hasOwnProperty("emoticon")?n+='<img class="emoticon" src="https://static-cdn.jtvnw.net/emoticons/v1/'+e.emoticon.emoticon_id+'/1.0" srcset="https://static-cdn.jtvnw.net/emoticons/v1/'+e.emoticon.emoticon_id+"/2.0 2x, https://static-cdn.jtvnw.net/emoticons/v1/"+e.emoticon.emoticon_id+'/3.0 4x">':n+=jl([e.text])}),n+="</span>",i?Nc(n,e.content_offset_seconds):void 0!==lc&&Fc(n,e.content_offset_seconds)}),i&&hc===t&&(Vc(t),void 0!==lc&&qc(t))}function Nc(e,t){oc.push({time:t,message:e})}function Fc(e,t){sc.push({time:t,message:e})}function Vc(e){mc||hc!==e||(Kl=window.setInterval(function(){Hc(e),tc.scrollTop=tc.scrollHeight},1e3))}function Dc(){mc||(window.clearTimeout(nc),window.clearTimeout($l),window.clearTimeout(ec),window.clearInterval(Kl))}function Jc(){Dc(),hc=0,E_("chat_box"),mc=!1,lc=null,oc=[],sc=[],fc=0}function Hc(e){var t;if(fc<oc.length-1)for(var n=fc;n<oc.length&&oc[n].time<nl+Android.gettime()/1e3;n++,fc++)(t=document.createElement("div")).className="chat_line",t.innerHTML=oc[n].message,tc.appendChild(t);else if(Dc(),void 0!==lc)oc=sc.slice(),fc=0,Vc(e),sc=[],hc===e&&qc(e),Qc();else{var a="&nbsp;";a+='<span class="message">',a+=da+da+Cn+da+da,a+="</span>",(t=document.createElement("div")).className="chat_line",t.innerHTML=a,tc.appendChild(t),mc=!0,tc.scrollTop=tc.scrollHeight,window.clearInterval(Kl),Kl=window.setInterval(function(){tc.scrollTop=tc.scrollHeight},1e3)}}function qc(e){ic=0,mc||hc!==e||zc(e)}function zc(e){var t="https://api.twitch.tv/v5/videos/"+Tr.ChannelVod_vodId+"/comments?client_id="+du+(null!==lc?"&cursor="+lc:""),n=new XMLHttpRequest;n.open("GET",t,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){if(4===n.readyState){if(200===n.status)return void(mc||hc!==e||Rc(n.responseText,e));mc||hc!==e||Xc(e)}},n.send(null)}function Xc(e){ic++,hc===e&&(ic<dc?zc(e):ec=window.setTimeout(function(){zc(e)},2500))}function jc(){Jc(),Yc(ln+da+cn)}function Wc(){Jc(),Yc($n)}function Yc(e){var t="&nbsp;";t+='<span class="message">',t+=da+da+da+da+da+da+da+da+da+da,t+=e,t+="</span>";var n=document.createElement("div");n.className="chat_line",n.innerHTML=t,tc.appendChild(n)}function Qc(){var e=document.getElementsByClassName("chat_line");if(0<e.length-100)for(var t=0;t<e.length-100;t++)e[0].parentNode.removeChild(e[0]);Yl()}var Zc,Kc,$c,er,tr,nr,ar,ir=!0,or=!1,sr=!1,dr=-1,lr=new Image,cr=1,rr=2,ur=3,_r=4,fr=5,mr=6,hr=7,pr=8,vr=9,gr=10,yr=11,br=12,wr=13,kr=14,Ar=15,Cr=16,Er=17,Mr=18,Ir=19,Sr=20,xr=21,Pr=22,Lr="",Tr={Main_Go:1,Main_Before:1,Main_BeforeSearch:1,Main_BeforeChannel:1,Main_BeforeAgame:ur,Main_BeforeChannelisSet:!1,Main_BeforeAgameisSet:!1,Main_selectedChannel:"",Main_selectedChannelDisplayname:"",Main_selectedChannelLogo:"",Main_selectedChannel_id:"",Main_gameSelected:"",Main_OldgameSelected:null,Play_isHost:!1,Play_DisplaynameHost:"",Play_selectedChannelDisplayname:"",Play_selectedChannel:"",Play_gameSelected:"",Users_Position:0,Users_AddcodePosition:0,Play_WasPlaying:0,ChannelVod_vodId:"",vodOffset:0,Search_data:"",isLastSChannels:!1,gameSelectedOld:"",Games_return:!1,Search_isSearching:!1,Play_ChatForceDisable:!1,Never_run:!0,Main_CenterLablesVectorPos:0},Br=!0,Or=!0,Gr=!1,Ur=[],Rr=0,Nr=0,Fr=null,Vr=!0,Dr="",Jr=!1,Hr="",qr=["label_side_panel","label_refresh","top_bar_live","top_bar_user","top_bar_featured","top_bar_game","top_bar_vod","top_bar_clip"],zr=[],Xr=0,jr=!0,Wr=0,Yr=1.35,Qr=1.5,Zr=45,Kr=3,$r=Math.floor(Zr/Kr/Qr),eu=45,tu=5,nu=Math.floor(eu/tu/Yr),au=48,iu=6,ou=Math.floor(au/iu/Qr),su=6,du="5seja5ptej058mxqy7gh5tcudjqtm9",lu="Client-ID",cu="Accept",ru="Authorization",uu="OAuth ",_u="application/vnd.twitchtv.v5+json",fu="528x297",mu="340x475",hu="stream_thumbnail_focused",pu="data_attribute",vu="1.0",gu=".18",yu="050619",bu=vu+gu+"-"+yu,wu=0,ku=0,Au="?"+Math.random(),Cu="https://cors-anywhere.herokuapp.com/",Eu=function(e,t,n){e.onerror=function(){this.src=n},e.src=t};function Mu(){(sr=Lf("Main_isDebug",!1))&&ir?Iu():"loading"===document.readyState?document.addEventListener("DOMContentLoaded",function(){Su(window.navigator.userLanguage||window.navigator.language)}):Su(window.navigator.userLanguage||window.navigator.language)}function Iu(){console.log("Debug mod start");var e=document.createElement("script");e.src="https://fgl27.github.io/SmartTwitchTV/release/githubio/js/masterdebug.js",document.head.appendChild(e)}function Su(e){nf(),of(function(){try{ku=Android.getAndroid()}catch(e){ku=0,document.body.style.backgroundColor="rgba(0, 0, 0, 1)",or=sr=!0,console.log("Main_isReleased: "+ir),console.log("Main_isDebug: "+sr),console.log("Main_isBrowser: "+or)}zk(),Aa(),mA(),console.log("language is "+e),ka(),-1!==window.location.href.indexOf("code")&&Bf(window.location.href),xu()})}function xu(){qy(),Pu(!0),Zc=document.getElementById("scrollbar"),v_(),Lr=Tr.Main_Go,of(function(){pc(),np(),ao(),io()&&(ar=window.setInterval(cf,6e5),cf()),document.body.addEventListener("keyup",D_,!1),zy(),document.getElementById("side_panel").style.marginLeft="",A_(),Lu(),DI=Lf("Vod_highlight",!1),Zd=Lf("ChannelVod_highlight",!1),vs=Lf("AGameVod_highlight",!1),eI=Lf("UserVod_highlight",!1),RI=xf("vod_periodNumber",2),fs=xf("AGameVod_periodNumber",2),QM=xf("UserVod_TypeNumber",1),Ty(),Kc=document.getElementById("search_input"),$c=document.getElementById("user_input"),L_(Ma),L_(Ca),L_(Ea),document.addEventListener("visibilitychange",df,!1),tr=window.setInterval(lf,6e4),Hy=bb,Wy(),er=window.setTimeout(__,5e3),Ou("topbar")})}function Pu(e){lf(),Tu("label_refresh","icon-refresh",t+jt),Nu("label_update",'<div class="strokedextramini" style="vertical-align: middle; display: inline-block;"><i class="icon-arrow-up" style="color: #FF0000; font-size: 115%; "></i></div><div class="strokedextramini" style="vertical-align: middle; display: inline-block; color: #FF0000">'+wa+_t+"</div>"),Tu("label_side_panel","icon-ellipsis",Rn),Tu("icon_feed_refresh","icon-refresh",t+" Press up"),Fu("top_bar_live",_),Fu("top_bar_user",e?u:a),Fu("top_bar_featured",an),Fu("top_bar_game",f),Fu("top_bar_vod",Kt),Fu("top_bar_clip",U),Nu("scene2_search_text",wa+n),Nu("scene2_channel_text",wa+Ut),Nu("scene2_game_text",wa+Dt),Fu("dialog_end_replay_text",en),Fu("dialog_end_vod_text",sn),Fu("dialog_end_channel_text",Ut),Fu("dialog_end_game_text",Dt),Nu("dialog_about_text",va+ga),zr=[de,le,ce,re],e?Fk():(qk(),A_())}function Lu(){Fu("play_dialog_exit_text",J),Fu("side_panel_search",n),Fu("side_panel_settings",a),Fu("side_panel_about",i),Fu("side_panel_controls",e),Fu("side_panel_exit",q),Fu("side_panel_live",_),Fu("side_panel_user",u),Fu("side_panel_featured",an),Fu("side_panel_games",f),Fu("side_panel_videos",Kt),Fu("side_panel_clips",U),Fu("side_panel_hide",o),Fu("chanel_button",E),Fu("game_button",f),Fu("live_button",_),Fu("exit_app_cancel",j),Fu("exit_app_close",z),Fu("remove_cancel",j),Fu("remove_yes",Jt),Fu("exit_app_minimize",X),Fu("main_dialog_exit_text",H),Nu("dialog_controls_text",pa),Fu("dialog_vod_text",wn),Nu("dialog_vod_start_text",An)}function Tu(e,t,n){Nu(e,'<div class="strokedextramini" style="vertical-align: middle; display: inline-block;"><i class="'+t+'" style="color: #FFFFFF; font-size: 115%; "></i></div><div class="strokedextramini" style="vertical-align: middle; display: inline-block">'+wa+n+"</div>")}function Bu(e){document.getElementById(e).classList.add("hide")}function Ou(e){document.getElementById(e).classList.remove("hide")}function Gu(e){return-1===document.getElementById(e).className.indexOf("hide")}function Uu(e,t){document.getElementById(e).classList.add(t)}function Ru(e,t){document.getElementById(e).classList.remove(t)}function Nu(e,t){document.getElementById(e).innerHTML=t}function Fu(e,t){document.getElementById(e).textContent=t}function Vu(e){var t=document.getElementById(e).getElementsByClassName("emoji");if(t){for(var n=0;n<t.length;n++)t[n].classList.add("emoticon");for(t=document.getElementById(e).getElementsByClassName("emoticon"),n=0;n<t.length;n++)t[n].classList.remove("emoji")}}function Du(){x_(-1),ku?Android.mshowLoading(!0):Ou("dialog_loading")}function Ju(){ku?Android.mshowLoading(!1):Bu("dialog_loading")}function Hu(){window.clearTimeout(Fr)}function qu(){Fr=window.setTimeout(Xu,6e3)}function zu(){qu(),Ou("main_dialog_exit"),document.body.addEventListener("keydown",vf,!1)}function Xu(){document.body.removeEventListener("keydown",vf,!1),kf(nr),Hu(),Bu("main_dialog_exit"),Nr=0,ju()}function ju(){Ru("exit_app_cancel","button_search_focused"),Ru("exit_app_minimize","button_search_focused"),Ru("exit_app_close","button_search_focused"),Uu(Nr?1===Nr?"exit_app_minimize":"exit_app_close":"exit_app_cancel","button_search_focused")}function Wu(){E_("dialog_counter_text"),Qu(0,0,0)}function Yu(e,t,n,a){0<a?(Fu("dialog_counter_text",t*n+(e+1)+"/"+a),Qu(t,n,a)):Wu()}function Qu(e,t,n){var a=screen.height/100*7;if(3===t&&9<n||5===t&&10<n||6===t&&12<n){var i=Tr.Main_Go===_r||Tr.Main_Go===Ir||Tr.Main_Go===Sr||Tr.Main_Go===br||Tr.Main_Go===Pr||Tr.Main_Go===Er||Tr.Main_Go===Mr||Tr.Main_Go===wr,o=Math.ceil((screen.height-3*a)/(Math.ceil(n/t)-1)*e+a*(i?1.8:1));Zc.style.top=o+"px",Vr&&(Vr=!1,Zc.style.backgroundColor="#777777")}else Zc.style.backgroundColor="#000000",Zc.style.top=a+"px",Vr=!0}function Zu(e){(su=12)/3<e&&(su=3*e),99<su&&(su=99)}function Ku(e){Fu("dialog_warning_text",e),Ou("dialog_warning")}function $u(){Bu("dialog_warning")}function e_(){o_(),Ou("dialog_about")}function t_(){Bu("dialog_about")}function n_(){return Gu("dialog_about")}function a_(){o_(),$u(),g_(Tr.Main_Go),Wu(),Rk()}function i_(){t_(),Ou("dialog_controls")}function o_(){Bu("dialog_controls")}function s_(){return Gu("dialog_controls")}function d_(e){return(e+"").replace(/\B(?=(\d{3})+(?!\d))/g,",")}function l_(e,t,n){return(e+="").indexOf("x")||(e=e.slice(-3)),e+"p"+(t=58<t?60:t<32?30:Math.ceil(t))+(""!==n?" ["+n.toUpperCase()+"]":"")}function c_(e){return-1!==e.indexOf("live")?"":W}function r_(e,t,n){return null!==document.getElementById(n+e+"_"+t)}function u_(){lf(),m_(),document.body.addEventListener("keyup",D_,!1)}function __(){for(var e,t=0;t<qr.length;t++)t<2?document.getElementById(qr[t]).style.opacity="0.5":-1===(e=document.getElementById(qr[t])).className.indexOf("icon_center_focus")&&(e.style.opacity="0.5");Uu("topbar","topbar_dim")}function f_(){for(var e=0;e<qr.length;e++)document.getElementById(qr[e]).style.opacity="1";Ru("topbar","topbar_dim")}function m_(e){window.clearTimeout(er),f_(),of(function(){h_(e)})}function h_(e){$u(),Tr.Main_Go!==yr&&(Tr.Main_BeforeChannelisSet=!1),Tr.Main_Go!==_r&&(Tr.Main_BeforeAgameisSet=!1),Wu(),Tr.Main_Go===cr?(Hy=bb,Wy()):Tr.Main_Go===rr?Xi():Tr.Main_Go===ur?(Hy=gb,Wy()):Tr.Main_Go===_r?Lo():Tr.Main_Go===pr?Xw():Tr.Main_Go===vr?Lw():Tr.Main_Go===gr?gk():Tr.Main_Go===yr?sd():Tr.Main_Go===br?al():Tr.Main_Go===wr?(Hy=pb,Wy()):Tr.Main_Go===kr?gM():Tr.Main_Go===fr?zE():Tr.Main_Go===mr?kC():Tr.Main_Go===hr?(Hy=yb,Wy()):Tr.Main_Go===Ar?qA():Tr.Main_Go===Cr?aw():Tr.Main_Go===Er?qI():Tr.Main_Go===Mr?(Hy=hb,Wy()):Tr.Main_Go===Ir?ys():Tr.Main_Go===Sr?(Hy=vb,Wy()):Tr.Main_Go===xr?(Hy=wb,Wy()):Tr.Main_Go===Pr&&tI(),er=window.setTimeout(__,3e3),e&&Mf()}function p_(){Sf("Main_values",JSON.stringify(Tr))}function v_(){Tr=jy(Tr,Pf("Main_values",{}))}function g_(e){e===cr?Yy():e===rr?ji():e===ur?Yy():e===_r?To():e===pr?jw():e===vr?Tw():e===gr?yk():e===yr?dd():e===br?il():e===wr?Yy():e===kr?yM():e===fr?XE():e===mr?AC():e===hr?Yy():e===Ar?zA():e===Cr?iw():e===Er?zI():e===Mr?Yy():e===Ir?bs():e===Sr?Yy():e===xr?Yy():e===Pr&&nI(),Gu("settings_scroll")&&Nk()}function y_(){Tu("label_refresh","icon-refresh",t+jt),Tu("label_side_panel","icon-ellipsis",Rn),Ru("top_bar_user","icon_center_focus"),Fu("top_bar_live",_),Fu("top_bar_user",u),Fu("top_bar_featured",an),Fu("top_bar_game",f),Fu("top_bar_vod",Kt),Fu("top_bar_clip",U)}function b_(){Tu("label_side_panel","icon-arrow-circle-left",I),E_("top_bar_live"),E_("top_bar_game"),E_("top_bar_vod"),E_("top_bar_clip"),E_("top_bar_featured"),Uu("top_bar_user","icon_center_focus")}function w_(e){return'<div style="font-size: 30%; position: fixed; line-height: 0; text-shadow: #000000 0 0 5.7px, #000000 0 0 5.7px, #000000 0 0 4px">'+e+"</div>"}function k_(e){return e=new Date(e),Jr?e.getDate()+" "+Wt[e.getMonth()]+" "+e.getFullYear():Wt[e.getMonth()]+" "+e.getDate()+" "+e.getFullYear()}function A_(){if(ku)try{var e=Android.getversion();bu="Android: "+e+" Web: "+yu,C_(e)&&Ou("label_update")}catch(e){}Nu("dialog_about_text",va+ye+bu+ga)}function C_(e){return e=e.split("."),parseFloat(e[0]+"."+e[1])<parseFloat(vu)||parseInt(e[2])<parseInt(gu.split(".")[1])}function E_(e){for(e=document.getElementById(e);e.firstChild;)e.removeChild(e.firstChild)}function M_(e){for(var t,n=0;n<Ur.length;n++)null!==(t=document.getElementById(Ur[n].id))&&Eu(t,Ur[n].src+Au,e)}function I_(){Ur=[]}function S_(e,t){Ur.push({id:e,src:t})}function x_(e){dr=e}function P_(e){var t=0;return dr<e?t=-1:e<dr&&(t=1),dr=e,t}function L_(e){lr.src=e}function T_(e){return(Dr=document.createElement("td")).setAttribute("id",e),Dr.className="stream_cell",Dr}function B_(e,t,n){return(Dr=document.createElement("td")).setAttribute("id",t[4]+e),Dr.setAttribute(pu,n[0]),Dr.setAttribute("data-id",n[1]),Dr.className="stream_cell",Dr.innerHTML=G_(e,t,n),Dr}function O_(e,t,n){var a=document.getElementById(e),i=e.split(n[5])[1];a.setAttribute(pu,t[0]),a.setAttribute("data-id",t[1]),a.innerHTML=G_(i,n,t),a.setAttribute("id",n[4]+i)}function G_(e,t,n){return S_(t[1]+e,n[2]),'<div id="'+t[0]+e+'" class="stream_thumbnail_channel" ><img id="'+t[1]+e+'" class="stream_img"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel">'+n[3]+"</div></div>"}function U_(e,t,n,a,i){return e<Kr&&L_(i[0]),(Dr=document.createElement("td")).setAttribute("id",a[8]+t),Dr.setAttribute(pu,JSON.stringify(n)),Dr.className="stream_cell",Dr.innerHTML=N_(t,a,i),Dr}function R_(e,t,n,a){var i=document.getElementById(e),o=e.split(a[9])[1];i.setAttribute(pu,JSON.stringify(t)),i.innerHTML=N_(o,a,n),i.setAttribute("id",a[8]+o)}function N_(e,t,n){return S_(t[1]+e,n[0]),'<div id="'+t[0]+e+'" class="stream_thumbnail_video" ><img id="'+t[1]+e+'" class="stream_img"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;">'+n[1]+'</div><div id="'+t[7]+e+'"class="stream_info" style="width:33%; float: right; text-align: right; display: inline-block;">'+n[5]+'</div><div id="'+t[4]+e+'"class="stream_info">'+bS.parse(n[2])+'</div><div id="'+t[5]+e+'"class="stream_info">'+v+n[3]+'</div><div id="'+t[6]+e+'"class="stream_info">'+n[4]+"</div></div>"}function F_(e,t,n){return(Dr=document.createElement("td")).setAttribute("id",t[5]+e),Dr.setAttribute(pu,n[0]),Dr.className="stream_cell",Dr.innerHTML=V_(e,t,n),Dr}function V_(e,t,n){return S_(t[1]+e,n[1]),'<div id="'+t[0]+e+'" class="stream_thumbnail_game" ><img id="'+t[1]+e+'" class="stream_img"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel">'+n[0]+'</div><div id="'+t[4]+e+'"class="stream_info" style="width: 100%; display: inline-block;">'+n[2]+"</div></div>"}function D_(){Or=!0}function J_(){Br=!0}function H_(){Br=!1,window.setTimeout(J_)}function q_(){return!Br||!Or}function z_(e,t,n,a,i,o){Uu(n[0]+e+"_"+t,hu),Yu(t,e,a,i),P_(e)||o?1<e?r_(e+1,0,n[0])?ef(n[6],-1*document.getElementById(n[4]+e+"_"+t).offsetTop+.42*screen.height):D_():ef(n[6],.07*screen.height):D_()}function X_(e,t,n,a,i,o){Uu(n[0]+e+"_"+t,hu),Yu(t,e,a,i),P_(e)||o?e?r_(e+1,0,n[0])&&ef(n[10],-1*document.getElementById(n[8]+(e-1)+"_"+t).offsetTop):ef(n[10],.07*screen.height):D_()}function j_(e,t,n,a,i){Uu(n[0]+e+"_"+t,hu),Yu(t,e,a,i),P_(e)?ef(n[10]?n[10]:n[7],e?-1*document.getElementById(n[5]+(e-1)+"_"+t).offsetTop+.025*screen.height:-1*document.getElementById(n[5]+e+"_"+t).offsetTop+.025*screen.height):D_()}function W_(e,t){return null===document.getElementById(t+e)}function Y_(e,t,n){W_(e,t[0])||(document.body.removeEventListener("keydown",n),Tr.Play_selectedChannel=JSON.parse(document.getElementById(t[8]+e).getAttribute(pu)),Tr.Play_selectedChannel_id=Tr.Play_selectedChannel[1],Tr.Play_selectedChannel=Tr.Play_selectedChannel[0],Tr.Main_Go===mr?(Tr.Play_DisplaynameHost=document.getElementById(t[3]+e).textContent,Tr.Play_selectedChannelDisplayname=Tr.Play_DisplaynameHost.split(ne)[1],Tr.Play_isHost=!0):Tr.Play_selectedChannelDisplayname=document.getElementById(t[3]+e).textContent,Tr.Play_gameSelected=document.getElementById(t[5]+e).textContent.split(v)[1],Tr.Main_Go===_r&&(Tr.Main_OldgameSelected=Tr.Main_gameSelected),Q_())}function Q_(){document.body.addEventListener("keydown",Kv,!1),Bu("scene1"),Ou("scene2"),ov(),uv(),Sv(),io()&&!RC&&jC&&kE(),of(op)}function Z_(e,t,n){W_(e,t[0])||(document.body.removeEventListener("keydown",n),Mb=JSON.parse(document.getElementById(t[8]+e).getAttribute(pu)),cm=parseInt(Mb[1]),Tr.Play_gameSelected=Mb[2],Tr.Main_selectedChannel=Mb[3],Tr.Main_selectedChannelDisplayname=Mb[4],Tr.Main_selectedChannelLogo=Mb[5],Tr.Main_selectedChannel_id=Mb[6],Tr.ChannelVod_vodId=Mb[7],nl=parseInt(Mb[8]),Eb=Mb[9],Sb=Mb[10],Ab=Mb[11],Mb=Mb[0],Ib=document.getElementById(t[4]+e).textContent,Cb=document.getElementById(t[6]+e).textContent,document.body.addEventListener("keydown",Tm,!1),Bu("scene1"),Ou("scene2"),uv(),tv(),Wp(),Zp(),io()&&!RC&&jC&&kE(),of(rm))}function K_(e,t,n){W_(e,t[0])||(document.body.removeEventListener("keydown",n),Tr.ChannelVod_vodId=JSON.parse(document.getElementById(t[8]+e).getAttribute(pu)),qd=parseInt(Tr.ChannelVod_vodId[1]),jd=Tr.ChannelVod_vodId[2],Tr.Play_gameSelected=Tr.ChannelVod_vodId[3],Tr.Main_selectedChannel=Tr.ChannelVod_vodId[4],Wh=Tr.ChannelVod_vodId[5],Tr.ChannelVod_vodId=Tr.ChannelVod_vodId[0].substr(1),Tr.Main_selectedChannelDisplayname=document.getElementById(t[3]+e).textContent,el=document.getElementById(t[4]+e).textContent,tl=document.getElementById(t[5]+e).textContent,$d=document.getElementById(t[11]+e).innerHTML+" "+document.getElementById(t[6]+e).textContent,$_())}function $_(){document.body.addEventListener("keydown",Jy,!1),Bu("scene1"),Ou("scene2"),py(),uv(),tv(),Zp(),Ug=!1,io()&&!RC&&jC&&kE(),of(Hg)}function ef(e,t){document.getElementById(e).style.top=t+"px",window.setTimeout(D_,10)}function tf(e,t){Or=!1,Ru(t[0]+e,hu)}function nf(){var e=document.createElement("span");e.className="fa",e.style.display="none",document.body.insertBefore(e,document.body.firstChild),"icons"!==window.getComputedStyle(e,null).getPropertyValue("font-family")?(sr&&console.log("Main_Checktylesheet reloading"),af("https://fgl27.github.io/SmartTwitchTV/release/githubio/css/icons.min.css")):sr&&console.log("Main_Checktylesheet loaded OK"),document.body.removeChild(e)}function af(e){var t=document.createElement("link");t.rel="stylesheet",t.href=e,document.getElementsByTagName("head")[0].appendChild(t)}function of(e){"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?window.setTimeout(e):document.addEventListener("DOMContentLoaded",e)}function sf(){var e=(new Date).getTime()+wu;return e=new Date(e),(Jr?Yt[e.getDay()]+" "+e.getDate()+" "+Wt[e.getMonth()]:Yt[e.getDay()]+" "+Wt[e.getMonth()]+" "+e.getDate())+" "+Gp(e.getHours())+":"+Gp(e.getMinutes())}function df(){document.hidden||(lf(),window.setTimeout(lf,2e4))}function lf(){document.hidden||(Fu("label_clock",sf()),Au="?"+Math.random())}function cf(){document.hidden||io()&&window.setTimeout(function(){_E()||RC||(Ym=Ji[Tr.Users_Position].name,KC())},5e3)}function rf(){Uu("side_panel_"+Wr,"side_panel_text_focus")}function uf(){Ru("side_panel_"+Wr,"side_panel_text_focus")}function _f(){Wr?1===Wr?a_():2===Wr?(document.body.addEventListener("keydown",nr,!1),e_()):3===Wr?(document.body.addEventListener("keydown",nr,!1),i_()):4===Wr?zu(nr):5===Wr?ff(cr):6===Wr?ff(uo()?kr:rr):7===Wr?ff(xr):8===Wr?ff(ur):9===Wr?ff(Er):10===Wr&&ff(Mr):Tr.Main_Go!==pr?(Tr.Search_isSearching||Tr.Main_Go!==yr&&Tr.Main_Go!==wr&&Tr.Main_Go!==br||xd(),Tr.Main_BeforeSearch=Tr.Main_Go,Tr.Main_Go=pr,g_(Tr.Main_BeforeSearch),m_()):document.body.addEventListener("keydown",nr,!1),hf()}function ff(e){e===Tr.Main_Go?document.body.addEventListener("keydown",nr,!1):(Tr.Main_Before=Tr.Main_Go,Tr.Main_Go=e,g_(Tr.Main_Before),m_())}function mf(e){nr=e,document.body.removeEventListener("keydown",nr),document.body.addEventListener("keydown",pf,!1),Ru("side_panel","side_panel_hide")}function hf(){document.body.removeEventListener("keydown",pf),Uu("side_panel","side_panel_hide"),uf(),Wr=0,rf()}function pf(e){switch(e.keyCode){case Ua:case La:document.body.addEventListener("keydown",nr,!1),hf(),Cf();break;case Ta:Wr&&(uf(),Wr--,rf());break;case Oa:Wr<10&&(uf(),Wr++,rf());break;case Ga:_f()}}function vf(e){switch(e.keyCode){case Ua:Xu();break;case Ba:2<++Nr&&(Nr=0),ju(),Hu(),qu();break;case La:--Nr<0&&(Nr=2),ju(),Hu(),qu();break;case Ga:Nr?ku&&1===Nr?Android.mclose(!1):ku&&2===Nr&&Android.mclose(!0):Xu()}}Mu();var gf=["top_bar_live","top_bar_user","top_bar_featured","top_bar_game","top_bar_vod","top_bar_clip"],yf=[cr,kr,xr,ur,Er,Mr],bf=!1;function wf(e){if(!(bf||Hy.FirstLoad||q_()))switch(e.keyCode){case Ua:s_()?(Cf(),o_()):n_()?(Cf(),t_()):Tr.Main_Go===_r?(Tr.Main_OldgameSelected=Tr.Main_gameSelected,Tr.Games_return?(Tr.Main_Go=vr,Tr.Main_gameSelected=Tr.gameSelectedOld):(Tr.Main_Go=Tr.Main_BeforeAgame,Tr.Main_BeforeAgame=cr),To(),Af(),h_()):Tr.Main_Go===Sr?(ub(_r),Af(),h_()):Tr.Main_Go===hr?(ub(kr),Af(),h_()):Tr.Main_Go===wr?(ub(yr),Af(),h_()):Tr.Main_Go===Ir?(Tr.Main_Go=_r,bs(),Af(),h_()):Tr.Main_Go===fr?(Tr.Main_Go=kr,XE(),Af(),h_()):Tr.Main_Go===mr?(Tr.Main_Go=kr,AC(),Af(),h_()):Tr.Main_Go===Pr?(Tr.Main_Go=kr,nI(),Af(),h_()):Tr.Main_Go===Ar?(Tr.Main_Go=kr,zA(),Af(),h_()):Tr.Main_Go===yr?(Tr.Main_Go=Tr.Main_BeforeChannel,Tr.Main_BeforeChannel=cr,dd(),Tr.Main_selectedChannel_id="",Af(),h_()):Tr.Main_Go===br?(Tr.Main_Go=yr,il(),Af(),h_()):Tr.Main_Go===gr?(Tr.Main_Go===Tr.Main_BeforeSearch?Tr.Main_Go=cr:Tr.Main_Go=Tr.Main_BeforeSearch,yk(),Tr.Search_isSearching=!1,Af(),h_()):Tr.Main_Go===vr?(Tr.Main_Go===Tr.Main_BeforeSearch?Tr.Main_Go=cr:Tr.Main_Go=Tr.Main_BeforeSearch,Tr.Search_isSearching=!1,Tw(),Af(),h_()):Tr.Main_Go===Cr?(Tr.Main_Go===Tr.Main_BeforeSearch?Tr.Main_Go=cr:Tr.Main_Go=Tr.Main_BeforeSearch,Tr.Main_selectedChannel_id&&Pd(),iw(),Tr.Search_isSearching=!1,Af(),h_()):(Af(),mf(wf));break;case Ba:if(Tr.Search_isSearching||Tr.Main_Go===yr||Tr.Main_Go===br||Tr.Main_Go===wr||Tr.Main_Go===gr||Tr.Main_Go===vr||Tr.Main_Go===Cr)break;Ru(gf[Tr.Main_CenterLablesVectorPos],"icon_center_line"),Tr.Main_CenterLablesVectorPos++,5<Tr.Main_CenterLablesVectorPos&&(Tr.Main_CenterLablesVectorPos=0),Cf(),Ef();break;case La:if(Tr.Search_isSearching||Tr.Main_Go===yr||Tr.Main_Go===br||Tr.Main_Go===wr||Tr.Main_Go===gr||Tr.Main_Go===vr||Tr.Main_Go===Cr)break;Ru(gf[Tr.Main_CenterLablesVectorPos],"icon_center_line"),Tr.Main_CenterLablesVectorPos--,Tr.Main_CenterLablesVectorPos<0&&(Tr.Main_CenterLablesVectorPos=5),Cf(),Ef();break;case Oa:Ru(gf[Tr.Main_CenterLablesVectorPos],"icon_center_line"),document.body.removeEventListener("keydown",wf),Gr=!1,h_();break;case Ga:If()}}function kf(e){window.clearTimeout(er),f_(),document.body.removeEventListener("keydown",e),document.body.removeEventListener("keydown",wf),document.body.addEventListener("keydown",wf,!1),Cf()}function Af(){Ru(gf[Tr.Main_CenterLablesVectorPos],"icon_center_line"),document.body.removeEventListener("keydown",wf),Gr=!1}function Cf(){Gr=!0,Uu(gf[Tr.Main_CenterLablesVectorPos],"icon_center_line")}function Ef(){g_(Tr.Main_Go),Tr.Main_Go=yf[Tr.Main_CenterLablesVectorPos],Tr.Main_Go!==kr||uo()?m_(!0):(Tr.Main_Go=rr,Af(),m_())}function Mf(){Tr.Main_Go===cr?(Hy=bb,document.body.removeEventListener("keydown",mb)):Tr.Main_Go===kr?document.body.removeEventListener("keydown",OM):Tr.Main_Go===_r?document.body.removeEventListener("keydown",Zo):Tr.Main_Go===xr?(Hy=wb,document.body.removeEventListener("keydown",mb)):Tr.Main_Go===gr?document.body.removeEventListener("keydown",Lk):Tr.Main_Go===vr?document.body.removeEventListener("keydown",Jw):Tr.Main_Go===Cr?document.body.removeEventListener("keydown",vw):Tr.Main_Go===br?document.body.removeEventListener("keydown",gl):Tr.Main_Go===yr?document.body.removeEventListener("keydown",Ld):Tr.Main_Go===mr?document.body.removeEventListener("keydown",GC):Tr.Main_Go===Pr?document.body.removeEventListener("keydown",yI):Tr.Main_Go===Ar?document.body.removeEventListener("keydown",iC):Tr.Main_Go===ur?(Hy=gb,document.body.removeEventListener("keydown",mb)):Tr.Main_Go===wr?(Hy=pb,document.body.removeEventListener("keydown",mb)):Tr.Main_Go===Er?document.body.removeEventListener("keydown",rS):Tr.Main_Go===Mr?(Hy=hb,document.body.removeEventListener("keydown",mb)):Tr.Main_Go===Sr?(Hy=vb,document.body.removeEventListener("keydown",mb)):Tr.Main_Go===hr?(Hy=yb,document.body.removeEventListener("keydown",mb)):Tr.Main_Go===Ir?document.body.removeEventListener("keydown",Os):Tr.Main_Go===fr&&document.body.removeEventListener("keydown",cM)}function If(){window.clearTimeout(er),f_(),Tr.Main_Go!==yr&&(Tr.Main_BeforeChannelisSet=!1),Tr.Main_Go!==_r&&(Tr.Main_BeforeAgameisSet=!1),Wu(),Tr.Main_Go===cr?(Hy=bb,Qy()):Tr.Main_Go===kr?bM():Tr.Main_Go===xr?(Hy=wb,Qy()):Tr.Main_Go===_r?Bo():Tr.Main_Go===Ar?XA():Tr.Main_Go===yr?ld():Tr.Main_Go===br?ol():Tr.Main_Go===gr?bk():Tr.Main_Go===vr?Bw():Tr.Main_Go===Cr?ow():Tr.Main_Go===ur?(Hy=gb,Qy()):Tr.Main_Go===hr?(Hy=yb).loadingData||Hy.key_refresh():Tr.Main_Go===Er?XI():Tr.Main_Go===Mr?(Hy=hb,Qy()):Tr.Main_Go===Sr?(Hy=vb,Qy()):Tr.Main_Go===wr?(Hy=pb,Qy()):Tr.Main_Go===Ir?ws():Tr.Main_Go===fr?jE():Tr.Main_Go===mr?CC():Tr.Main_Go===Pr&&aI(),er=window.setTimeout(__,3e3)}function Sf(e,t){localStorage.setItem(e,t)}function xf(e,t){return parseInt(localStorage.getItem(e))||t}function Pf(e,t){return JSON.parse(localStorage.getItem(e))||t}function Lf(e,t){var n=t.toString();return(localStorage.getItem(e)||n)===n?t:!t}function Tf(e){console.log(e);for(var t=0;t<e.length;t++)console.log("Character is: "+e.charAt(t)+" it's Unicode is: \\u"+e.charCodeAt(t).toString(16).toUpperCase())}function Bf(e){console.log("processCode");var t="";t=e.match(/code=(\w+)/),Rr=t?(t=t[1],console.log("if code "+t),t):(console.log("else code "+t),0)}function Of(e,t,n,a,i,o,s){ku?Uf(e,t,n,a,i,o):Rf(e,t,n,a,i,o,s)}function Gf(e,t,n,a,i,o,s,d){ku&&d?Uf(e,t,n,a,i,o):Rf(e,t,n,a,i,o,s)}function Uf(e,t,n,a,i,o){var s=Android.mreadUrl(e,t,n,a);s&&200===(s=JSON.parse(s)).status?i(s.responseText):o()}function Rf(e,t,n,a,i,o,s){var d=new XMLHttpRequest;d.open("GET",(s?Cu:"")+e,!0),d.timeout=t,0<n&&d.setRequestHeader(lu,du),1<n&&d.setRequestHeader(cu,_u),2<n&&d.setRequestHeader(ru,a),d.ontimeout=function(){},d.onreadystatechange=function(){if(4===d.readyState){if(200===d.status)return void i(d.responseText);o()}},d.send(null)}var Nf=0,Ff=null,Vf=0,Df=!1,Jf=0,Hf=0,qf=!1,zf=0,Xf=2e3,jf=5,Wf="source",Yf=Wf,Qf=0,Zf=[],Kf="",$f=!1,em=0,tm=0,nm=1,am=!1,im=0,om=!1,sm=!1,dm=2e3,lm=[0,5],cm=0;function rm(){zp(),Sv(),hp(document.getElementById("stream_info_icon"),Tr.Main_selectedChannelLogo),Fu("stream_info_name",Tr.Main_selectedChannelDisplayname),Nu("stream_info_title",Eb),Nu("stream_info_game",Ab+" "+Cb+" "+Sb),Fu("stream_live_icon",Ib),Fu("progress_bar_duration",Up(cm)),Sy((Yh=lm)[1]),Vu("stream_info_title"),Tr.Play_isHost=!1,Fu("progress_bar_current_time",Up(0)),Fu("stream_live_time",""),Fu("stream_watching_time",""),am=null!==Tr.ChannelVod_vodId,rc=Gt+".",am?(cc=nl,vc()):jc(),Nu("pause_button",'<i class="strokedbig icon-pause" style="color: #FFFFFF; font-size: 180%;"></i>'),Ou("progress_pause_holder"),Pm(),Ou("scene_channel_panel_bottom"),Vf=im=0,window.clearInterval(Ff),sm=!1,Dm=-13,em=tm=0,Qf=2,Uv(3),Ph=!1,Av(),io()?(Wa=!0,Ya=Tr.Main_selectedChannel_id,ui()):qp(),document.addEventListener("visibilitychange",gm,!1),Df=!1,qf=!(Hf=Jf=0),um(),document.body.removeEventListener("keyup",D_)}function um(){zf=0,Xf=2e3,_m()}function _m(){Of("https://clips.twitch.tv/api/v2/clips/"+Mb+"/status",Xf,1,null,mm,fm,!0)}function fm(){++zf<jf?(Xf+=250,_m()):(Xp(),Jv(3))}function mm(e){Zf=[],e=JSON.parse(e).quality_options;for(var t=0;t<e.length;t++)Zf.length?Zf.push({id:e[t].quality+"p"+hm(e[t].frame_rate),url:e[t].source}):Zf.push({id:e[t].quality+"p"+hm(e[t].frame_rate)+" (source)",url:e[t].source});tm=nm,pm()}function hm(e){return 40<e?60:""}function pm(){window.clearInterval(Ff),Kf=Zf[Qf=0].url,-1!==Wf.indexOf("source")&&(Wf="source");for(var e=0;e<Im();e++){if(Zf[e].id===Wf){Kf=Zf[Qf=e].url;break}-1!==Zf[e].id.indexOf(Wf)&&(Kf=Zf[Qf=e].url)}Yf=Wf,sr&&console.log("PlayClip_onPlayer:",'\n\n"'+Kf+'"\n'),tm=nm,ku&&qf&&Android.startVideoOffset(Kf,3,$f?-1:Android.gettime()),$f=!1,vm()}function vm(){ch&&!_v()&&rv(),ku&&(Vf=0,zh=1+dm/1e3,om=!1,window.clearInterval(Ff),Ff=window.setInterval(ym,Xh))}function gm(){document.hidden&&wm()}function ym(){ku&&(em=Android.gettime()),qf&&Nf===em&&!Bp()?++Vf>zh&&(om&&sm&&Qf<Im()-1?Qf++:!om&&sm&&im++,navigator.onLine?1<im?Tp(im,3,bm):(Sm(),pm(),sm=!0):Lp(!1,3)):(Vf=im=0,sm=!1),Nf=em}function bm(e){if(!e){if(!(Qf<Im()-1))return void Lp(!1,3);Qf++}im=0,Sm(),pm(),sm=!0}function wm(){qf&&(Zf=[],km(),Zp(),Dp())}function km(){window.clearInterval(Ff),ku&&Android.stopVideo(3),qf=!1,Jc(),Jp(),mE(),document.body.removeEventListener("keydown",Tm),document.removeEventListener("visibilitychange",gm),Am(),document.getElementById("scene2_pannel_0").style.display="none",document.getElementById("scene2_pannel_1").style.width="30%",document.getElementById("quality_name").style.width="77%",document.getElementById("quality_name").style.fontSize="87.5%",nl=0}function Am(){Sg=!1,Ig=xg=0,lv(),Wf=Yf,document.getElementById("scene_channel_panel").style.opacity="0",ku&&Ey(Android.gettime()/1e3,cm,!0),Nu("progress_bar_jump_to",wa),document.getElementById("progress_bar_steps").style.display="none",window.clearInterval(tg)}function Cm(){Em(),Op(),tg=window.setInterval(Em,1e3),Zp(),yy(),Mm(),Sm(),document.getElementById("scene_channel_panel").style.opacity="1",xm()}function Em(){ku&&Ey(Android.gettime()/1e3,cm,!Sg)}function Mm(){for(var e=Qf=0;e<Im();e++){if(Zf[e].id===Wf){Qf=e;break}-1!==Zf[e].id.indexOf(Wf)&&(Qf=e)}}function Im(){return Zf.length}function Sm(){1===Im()?(document.getElementById("quality_arrow_up").style.opacity="0",document.getElementById("quality_arrow_down").style.opacity="0"):Qf?Qf===Im()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(Wf=Zf[Qf].id).indexOf("source")?Fu("quality_name",Wf.replace("source",ge)):Fu("quality_name",Wf)}function xm(){qm=window.setTimeout(Am,5e3+Rg)}function Pm(){document.getElementById("scene2_pannel_1").style.width="18%",document.getElementById("quality_name").style.width="60%",document.getElementById("quality_name").style.fontSize="72%",Fu("open_vod_text",am?sn:dn),document.getElementById("scene2_pannel_0").style.display="inline-block"}function Lm(){am?(Tr.vodOffset=nl,km(),document.body.addEventListener("keydown",Jy,!1),Av(),of(Hg)):(Ph=!0,jp(ln),window.setTimeout(function(){Ph=!1,Wp()},2e3))}function Tm(e){if(tm!==nm)switch(e.keyCode){case Ua:Kp()?(Zp(),wm()):Qp()}else switch(e.keyCode){case La:_E()?Qm&&!RC&&(CE(),Qm--,yE()):jm&&!iv()&&_v()?(Fm++,yv()):iv()?(lv(),Gg?(Ev(),5<++xh&&(xh=0),Cv()):(Py(-1,cm),Rg=2500),xm()):xv()?(Ov(),Tv(),--Gh<0&&(Gh=3),Lv()):Cm();break;case Ba:_E()?Qm<JC-1&&!RC&&(CE(),Qm++,yE()):!jm||iv()||xv()?iv()?(lv(),Gg?(Ev(),--xh<0&&(xh=5),Cv()):(Py(1,cm),Rg=2500),xm()):xv()?(Ov(),Tv(),3<++Gh&&(Gh=0),Lv()):Cm():Sf("ChatEnable",(ch=_v()||xv()?(uv(),!1):(rv(),!0))?"true":"false");break;case Ta:xv()?Ov():iv()?(2===Gg&&1!==xh?(Gg--,by()):1===Gg?(Gg--,by()):0<Qf&&1===xh&&(Qf--,Sm()),lv(),xm()):_E()?_E()?gE():Cm():fE();break;case Oa:xv()?Ov():iv()?(Gg?1===Gg?(Gg++,by()):Qf<Im()-1&&1===xh&&(Qf++,Sm()):(Gg++,by()),lv(),xm()):_E()?mE():jm&&_v()?(4<++Hm?gv(!(Hm=1)):4===Hm&&gv(!0),pv(!0)):Cm();break;case Ga:xv()?Gv(3):iv()?Gg?1===Gg?(am&&Tr.Play_ChatForceDisable&&(Bp()?Vc(hc):Dc()),xv()||kv(3)):Dv(3):(lv(),xm(),Ig&&My()):_E()?(km(),Y_(Qm,ZC,Kv)):Cm();break;case Ua:iv()?Am():_E()?mE():Kp()?(Zp(),wm()):Qp();break;case xa:case Sa:case Pa:am&&!Tr.Play_ChatForceDisable&&(Bp()?Vc(hc):Dc()),xv()||kv(3)}}var Bm,Om,Gm,Um,Rm,Nm,Fm=0,Vm=Fm,Dm=-5,Jm=.55,Hm=3,qm=null,zm="source",Xm=zm,jm=!0,Wm=!1,Ym="",Qm=0,Zm=2e3,Km=0,$m=1,eh=2,th=0,nh=null,ah=0,ih=0,oh=0,sh="",dh=[],lh=0,ch=!1,rh=null,uh=null,_h=null,fh="",mh=0,hh=5,ph=0,vh=5,gh=0,yh=!1,bh=null,wh=!1,kh=0,Ah=null,Ch=0,Eh=0,Mh=!1,Ih=!1,Sh=!1,xh=1,Ph=!1,Lh=!1,Th=1e4,Bh=2e3,Oh="",Gh=0,Uh=3,Rh=null,Nh="",Fh=0,Vh=0,Dh="",Jh=!0,Hh=!1,qh=!1,zh=7,Xh=1e3,jh=0,Wh="",Yh=[],Qh=[{top:51.8,left:75.1,sizeOffset:[31,16,0,0]},{top:33,left:75.1,sizeOffset:[12.5,0,-6.25,0]},{top:.2,left:75.1,sizeOffset:[0,0,0,0]},{top:.2,left:38.3,sizeOffset:[0,0,0,0]},{top:.2,left:.2,sizeOffset:[0,0,0,0]},{top:33,left:.2,sizeOffset:[12.5,0,-6.25,0]},{top:51.8,left:.2,sizeOffset:[31,16,0,0]},{top:51.8,left:38.3,sizeOffset:[31,16,0,0]}],Zh=[0,0,0,1,2,2,2,1],Kh=[[0,1,2,2,2,1,0,0],[7,3,3,3,3,3,7,7],[6,5,4,4,4,5,6,6]],$h=[{containerHeight:17,percentage:"12.5%",dialogTop:15},{containerHeight:32,percentage:"25%",dialogTop:30},{containerHeight:48,percentage:"50%",dialogTop:50},{containerHeight:99.6,percentage:"100%",dialogTop:115}],ep=1,tp=["chat_extra_small","chat_size_small","chat_size_default","chat_size_biger","chat_size_bigest"];function np(){Rm=document.getElementById("chat_container"),Nm=document.getElementById("inner_progress_bar"),Fm=xf("ChatPositionsValue",0),Hm=xf("ChatSizeValue",3),ch=Lf("ChatEnable",!1),jm=Lf("Play_isFullScreen",!0),pv(!1),vv(!1),ip()}function ap(e){e?void 0!==Bm&&(Fm=Bm,Hm=Gm,(ch=Om)||uv(),pv(!1)):(Bm=Fm,Om=ch,Gm=Hm,Fm=0,rv(),Hm=4,gv(ch=!0),pv(!1),tc&&(tc.scrollTop=tc.scrollHeight)),Sf("Play_isFullScreen",jm)}function ip(){ep=jk("chat_font_size");for(var e=0;e<tp.length;e++)Ru("chat_inner_container",tp[e]);Uu("chat_inner_container",tp[ep])}function op(){zp(),Nu("stream_live_icon",'<div style="vertical-align: middle; display: inline-block"><i class="icon-circle" style="color: red; font-size: 105%; "></i></div><div style="display: inline-block">'+wa+_.toUpperCase()+"</div>"),E_("stream_info_title"),am=!(Lh=!1),hp(document.getElementById("stream_info_icon"),Ea),Tr.Play_isHost?Fu("stream_info_name",Tr.Play_DisplaynameHost):Fu("stream_info_name",Tr.Play_selectedChannelDisplayname),Tr.Play_WasPlaying=1,p_(),Wm=Tr.Play_isHost,Tr.Play_isHost=!1,Hh=!1,Ou("scene_channel_panel_bottom"),Vh=Fh=0,Fu("stream_watching_time",g+Up(0)),fh=Rp(0),Fu("stream_live_time",y+fh),Bu("progress_pause_holder"),Uv(1),Dm=-5,Ch=Eh=jh=0,window.clearInterval(Ah),Ih=!1,Th=3e3,Jh=!(ph=0),th=Km,Sh=!(yh=!(oh=ih=ah=wh=0)),document.addEventListener("visibilitychange",dp,!1),cp(),pp(),document.body.removeEventListener("keyup",D_),nh=window.setInterval(_p,6e4)}function sp(e){jp(e)}function Play_CheckResume(){yh&&dp(),hg&&Kg(),qf&&(wm(),window.clearInterval(Ff))}function dp(){document.hidden?xv()?(Zp(),uv(),Fp()):(Jp(),Sh=!1,Zl(),window.clearInterval(nh)):(yh=!0,tv(),yh&&(zp(),Th=3e3,Hh=!(ph=0),Lh?_p():cp(),th=Km,gh=0,navigator.onLine?pp():Um=window.setInterval(lp,100),nh=window.setInterval(_p,6e4)))}function lp(){(navigator.onLine||200<gh)&&(window.clearInterval(Um),pp()),gh++}function cp(){Rf("https://api.twitch.tv/kraken/streams/"+Tr.Play_selectedChannel_id,Th,2,null,rp,up,!1)}function rp(e){null!==(e=JSON.parse(e)).stream&&(Fu("stream_info_name",Wm?Tr.Play_DisplaynameHost:Tr.Play_selectedChannelDisplayname),Tr.Play_selectedChannel_id=e.stream.channel._id,Nu("stream_info_title",bS.parse(e.stream.channel.status,!1,!0)),Tr.Play_gameSelected=e.stream.game,Oh=" ["+e.stream.channel.broadcaster_language.toUpperCase()+"]",Fu("stream_info_game",v+Tr.Play_gameSelected+h+d_(e.stream.viewers)+" "+D+Oh),Tr.Play_selectedChannelLogo=e.stream.channel.logo,Lh=!0,hp(document.getElementById("stream_info_icon"),Tr.Play_selectedChannelLogo),fh=e.stream.created_at,io()?(Wa=!0,Ya=Tr.Play_selectedChannel_id,ui()):qp())}function up(){ph<vh&&(Th+=500,window.setTimeout(function(){yh&&cp()},750)),ph++}function _p(){Rf("https://api.twitch.tv/kraken/streams/"+Tr.Play_selectedChannel_id,3e3,2,null,fp,mp,!1)}function fp(e){null!==(e=JSON.parse(e)).stream&&(Nu("stream_info_title",bS.parse(e.stream.channel.status,!1,!0)),Tr.Play_gameSelected=e.stream.game,Fu("stream_info_game",v+Tr.Play_gameSelected+h+d_(e.stream.viewers)+" "+D+Oh),Lh||hp(document.getElementById("stream_info_icon"),e.stream.channel.logo))}function mp(){jh<vh?(window.setTimeout(function(){yh&&_p()},2500),jh++):jh=0}function hp(e,t){e.onerror=function(){this.src=Ea,Lh=!1},e.src=t}function pp(){mh=0,Bh=2e3+(Hh?3e3:0),vp()}function vp(){var e,t;if(e=th===Km?"https://api.twitch.tv/api/channels/"+Tr.Play_selectedChannel+"/access_token"+(io()&&Ji[Tr.Users_Position].access_token?"?oauth_token="+Ji[Tr.Users_Position].access_token:""):"https://usher.ttvnw.net/api/channel/hls/"+Tr.Play_selectedChannel+".m3u8?&token="+encodeURIComponent(ah.token)+"&sig="+ah.sig+"&allow_source=true&allow_audi_only=true&fast_bread=true&allow_spectre=false",ku){if(!(t=Android.mreadUrl(e,Bh,1,null)))return void yp();200===(t=JSON.parse(t)).status?(mh=0,yh&&kp(t.responseText)):403===t.status?bp():404===t.status?Hv():yp()}else(t=new XMLHttpRequest).open("GET",Cu+e,!0),t.timeout=Bh,t.setRequestHeader(lu,du),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?(mh=0,yh&&kp(t.responseText)):403===t.status?(gp(t),or?wp():bp()):404===t.status?(gp(t),or?wp():Hv()):(gp(t),yp()))},t.send(null)}function gp(e){sr&&(console.log(e.status),console.log(e.responseText))}function yp(){yh&&Jh&&(++mh<hh+(Hh?8:0)?(Bh+=250,Hh?window.setTimeout(vp,500):vp()):or?wp():Hv())}function bp(){Xp(),jp(Vn),window.setTimeout(function(){yh&&Hv()},4e3)}function wp(){dh=[{id:"1080p60(Source)",band:"(10.00Mbps)",url:"http://fake"}],th=eh,yh&&Mp()}function kp(e){th===Km?(ah=JSON.parse(e),th=$m,pp()):th===$m&&(dh=Ap(ih=e),th=eh,yh&&Mp())}function Ap(e){for(var t,n=[],a="",i=1,o=Ep(e),s=0;s<o.length;s++)a=o[s].split('NAME="')[1].split('"')[0],t=Cp(o[s].split("BANDWIDTH=")[1].split(",")[0]),n.length?n[s-i].id!==a&&n[s-i].id!==a+" (source)"?n.push({id:a,band:t,url:o[s].split("\n")[2]}):i++:(-1===a.indexOf("ource")&&(a+=" (source)"),n.push({id:a,band:t,url:o[s].split("\n")[2]}));return n}function Cp(e){return 0<(e=parseInt(e))?" ("+parseFloat(e/1e6).toFixed(2)+"Mbps)":""}function Ep(e){for(var t,n=[],a=/#EXT-X-MEDIA:(.)*\n#EXT-X-STREAM-INF:(.)*\n(.)*/g;t=a.exec(e);)n.push(t[0]);return n}function Mp(){window.clearInterval(Ah),sh=dh[lh=0].url,-1!==zm.indexOf("source")&&(zm="source");for(var e=0;e<hv();e++){if(dh[e].id===zm){sh=dh[lh=e].url;break}-1!==dh[e].id.indexOf(zm)&&(sh=dh[lh=e].url)}Xm=zm,th=eh,sr&&console.log("Play_onPlayer:",'\n\n"'+sh+'"\n'),ku&&yh&&Android.startVideo(sh,1),Ip()}function Ip(){qh=!1,ch&&!_v()&&rv(),Sh=!0,Sp(),ku&&(Ch=0,zh=1+Zm/1e3,Mh=!1,window.clearInterval(Ah),Ah=window.setInterval(xp,Xh))}function Sp(){Tr.Play_ChatForceDisable?Tl():Wc()}function xp(){var e=!Bp();ku&&(Fh=Android.gettime()),yh&&kh===Fh&&e?zh<++Ch&&(Mh&&Ih&&lh<hv()-1?lh++:!Mh&&Ih&&Eh++,navigator.onLine?1<Eh?Tp(Eh,1,Pp):(mv(),Mp(),Ih=!0):Lp(!1,1)):(Ch=Eh=0,Ih=!1),kh=Fh,e&&Vh++}function Pp(e){if(!e){if(!(lh<hv()-1))return void Hv();lh++}Eh=0,mv(),Mp(),Ih=!0}function Lp(e,t){Tr.Play_isHost=e,Uv(t),Jv(t)}function Tp(e,t,n){var a=new XMLHttpRequest;a.timeout=1e3,a.open("GET","https://static-cdn.jtvnw.net/jtv-static/404_preview-10x10.png?"+Math.random(),!0),a.onreadystatechange=function(){4===a.readyState&&(200===a.status?n(2<e):12<e&&Lp(!1,t))},a.send(null)}function Bp(){return!!ku&&!Android.getPlaybackState()}function Op(){var e=sf();Fu("stream_clock",e),Fu("label_clock",e)}function Gp(e){return e<10?"0"+e:e}function Up(e){var t,n,a;return t=Gp(parseInt(e)%60),n=Gp((e=Math.floor(e/60))%60),a=Gp(e=Math.floor(e/60)),e?a+":"+n+":"+t:n+":"+t}function Rp(e){return Up(parseInt(e/1e3))}function Np(e){return Rp((new Date).getTime()-new Date(e).getTime())}function Fp(){yh&&(Vp(),Tr.Play_WasPlaying=0,Dp())}function Vp(){ku&&Android.stopVideo(1),yh=!1,mE(),Jc(),Jp(),Hp(),Tr.Play_selectedChannel_id=""}function Dp(){Ey(0,0),Ou("scene1"),Bu("scene2"),u_()}function Jp(){ov(),tv(),Wp(),Sv(),Wh="",lh===hv()-1&&(Xm=dh[0].id),_g===Cy()-1&&(ig=ug[0].id),Qf===Im()-1&&(Yf=Zf[0].id)}function Hp(){Sh=!1,document.body.removeEventListener("keydown",Kv),document.removeEventListener("visibilitychange",dp),Zl(),window.clearInterval(nh),window.clearInterval(Ah),Ph=!1}function qp(){Nu("fallow_text",wa+Tt),Xa=!1}function zp(){ku?Android.mshowLoading(!0):Ou("dialog_loading_play")}function Xp(){ku?Android.mshowLoading(!1):Bu("dialog_loading_play")}function jp(e){Fu("dialog_warning_play_text",e),Ou("dialog_warning_play")}function Wp(){Bu("dialog_warning_play")}function Yp(){return Gu("dialog_warning_play")}function Qp(){Kp()?Zp():(Ou("play_dialog_exit"),rh=window.setTimeout(Qp,3e3))}function Zp(){window.clearTimeout(rh),Bu("play_dialog_exit")}function Kp(){return Gu("play_dialog_exit")}function $p(){window.clearTimeout(uh)}function ev(){window.clearTimeout(_h)}function tv(){$p(),ev(),Bu("play_dialog_simple_pause")}function nv(){Bp()?av()?(Bu("play_dialog_simple_pause"),_h=window.setTimeout(nv,8e3)):(Ou("play_dialog_simple_pause"),uh=window.setTimeout(nv,1500)):tv()}function av(){return Gu("play_dialog_simple_pause")}function iv(){return"1"===document.getElementById("scene_channel_panel").style.opacity}function ov(){lv(),document.getElementById("scene_channel_panel").style.opacity="0",zm=Xm,window.clearInterval(tg)}function sv(){Av(),fv(),mv(),dv(),tg=window.setInterval(dv,1e3),Op(),Zp(),document.getElementById("scene_channel_panel").style.opacity="1",cv()}function dv(){Fu("stream_watching_time",g+Up(Vh)),Fu("stream_live_time",y+(-1===fh.indexOf("00:00")?Np(fh):"00:00"))}function lv(){window.clearTimeout(qm),Rg=0}function cv(){qm=window.setTimeout(ov,5e3)}function rv(){yv(),Ou("chat_container")}function uv(){Bu("chat_container")}function _v(){return Gu("chat_container")}function fv(){for(var e=lh=0;e<hv();e++){if(dh[e].id===zm){lh=e;break}-1!==dh[e].id.indexOf(zm)&&(lh=e)}}function mv(){1===hv()?(document.getElementById("quality_arrow_up").style.opacity="0",document.getElementById("quality_arrow_down").style.opacity="0"):lh?lh===hv()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(zm=dh[lh].id).indexOf("source")?Fu("quality_name",zm.replace("source",ge)+dh[lh].band):Fu("quality_name",zm+dh[lh].band)}function hv(){return dh.length}function pv(e){Rm.style.height=$h[Hm-1].containerHeight+"%",document.getElementById("play_chat_dialog").style.marginTop=$h[Hm-1].dialogTop+"%",yv(),Yl(),e&&bv(Nn+$h[Hm-1].percentage),window.setTimeout(function(){tc&&(tc.scrollTop=tc.scrollHeight)},500),Sf("ChatSizeValue",Hm)}function vv(e){Rm.style.backgroundColor="rgba(0, 0, 0, "+Jm+")",e&&bv(Fn+(100*Jm).toFixed(0)+"%")}function gv(e){Fm=e?Zh[Vm=Fm]:Kh[Fm][Vm]}function yv(){var e=4===Hm;Fm<0?Fm=e?2:7:(e?2:7)<Fm&&(Fm=0),Rm.style.top=(e?.2:Qh[Fm].top+Qh[Fm].sizeOffset[Hm-1])+"%",Rm.style.left=Qh[Fm+(e?2:0)].left+"%",Sf("ChatPositionsValue",Fm)}function bv(e){window.clearTimeout(bh),Fu("play_chat_dialog_text",e),Ou("play_chat_dialog"),bh=window.setTimeout(wv,1e3)}function wv(){Bu("play_chat_dialog")}function kv(e){Bp()?(tv(),ku&&Android.play(!0),Nu("pause_button",'<i class="strokedbig icon-pause" style="color: #FFFFFF; font-size: 180%;"></i>'),1===e?(iv()&&ov(),window.clearInterval(Ah),Ah=window.setInterval(xp,Xh)):2===e?(iv()&&py(),window.clearInterval(wg),wg=window.setInterval(uy,Xh)):3===e&&(iv()&&Am(),window.clearInterval(Ff),Ff=window.setInterval(ym,Xh))):(window.clearInterval(Ah),window.clearInterval(wg),window.clearInterval(Ff),Nu("pause_button",'<i class="strokedbig icon-play-1" style="color: #FFFFFF; font-size: 180%;"></i>'),ku&&Android.play(!1),nv())}function Av(){Ev(),xh=1,Cv()}function Cv(){Uu("scene2_pannel_"+xh,"playbotton_focus")}function Ev(){Ru("scene2_pannel_"+xh,"playbotton_focus")}function Mv(){og=th=-1,tm=-1,uv(),ov(),Am(),py(),Ph||Wp(),Xp(),Zp(),Lv()}function Iv(){Ou("dialog_end_stream")}function Sv(){Bu("dialog_end_stream"),Ov(),Pv()}function xv(){return Gu("dialog_end_stream")}function Pv(){Tv(),Gh=0,Lv()}function Lv(){Uu("dialog_end_"+Gh,"dialog_end_icons_focus")}function Tv(){Ru("dialog_end_"+Gh,"dialog_end_icons_focus")}function Bv(e){1===e?Nh=Tr.Play_selectedChannelDisplayname+" "+_:2===e?Nh=Tr.Main_selectedChannelDisplayname+$t:3===e&&(Nh=Tr.Main_selectedChannelDisplayname+Gt),Nu("dialog_end_stream_text",Nh+S+da+tn+Uh+"..."),xv()?(og=th=eh,tm=nm,-1===--Uh?(Nu("dialog_end_stream_text",Nh+S+da+tn+"0..."),Zp(),uv(),1===e?Fp():2===e?fy():3===e&&wm()):Rh=window.setTimeout(function(){Bv(e)},1e3)):Rh=window.setTimeout(function(){Bv(e)},50)}function Ov(){window.clearTimeout(Rh),Nu("dialog_end_stream_text",Nh+S+da+nn)}function Gv(e){var t=!0;Gh?1===Gh?Tr.Play_isHost?(Tr.Play_DisplaynameHost=Tr.Play_selectedChannelDisplayname+ne,Tr.Play_selectedChannel=Dh.target_login,Tr.Play_selectedChannelDisplayname=Dh.target_display_name,Tr.Play_DisplaynameHost=Tr.Play_DisplaynameHost+Tr.Play_selectedChannelDisplayname,Vp(),document.body.addEventListener("keydown",Kv,!1),Tr.Play_selectedChannel_id=Dh.target_id,of(op)):Lm():2===Gh?Rv(e):3===Gh&&Fv(e):2===e?ug.length?(Ag=!(Vg=!0),cy(),tv(),cc=Tg=0,vc()):(t=!1,jp(ea),window.setTimeout(function(){Wp()},2e3)):3===e&&(Zf.length?(om=!($f=!0),pm(),tv(),am?(Tg=0,cc=nl,vc()):jc()):(t=!1,jp(ea),window.setTimeout(function(){Wp()},2e3))),1!==Gh&&3===Gh&&""===Tr.Play_gameSelected&&(t=!1),t&&Sv()}function Uv(e){e?1===e?(Tv(),Gh=2,Lv(),document.getElementById("dialog_end_0").style.display="none",document.getElementById("dialog_end_1").style.display="none"):2===e?(Pv(),document.getElementById("dialog_end_0").style.display="inline-block",document.getElementById("dialog_end_1").style.display="none"):3===e&&(Pv(),document.getElementById("dialog_end_0").style.display="inline-block",document.getElementById("dialog_end_1").style.display="inline-block",Fu("dialog_end_vod_text",am?sn:dn)):(Tv(),Gh=1,Lv(),document.getElementById("dialog_end_0").style.display="none",document.getElementById("dialog_end_1").style.display="inline-block",Fu("dialog_end_vod_text",un))}function Rv(e){Tr.Main_BeforeChannelisSet||Tr.Main_Go===br||Tr.Main_Go===wr||(Tr.Main_BeforeChannel=Tr.Main_BeforeAgameisSet&&Tr.Main_Go!==_r?Tr.Main_BeforeAgame:Tr.Main_Go,Tr.Main_BeforeChannelisSet=!0),g_(Tr.Main_Go),Tr.Main_Go=yr,1===e?(Tr.Main_selectedChannel_id=Tr.Play_selectedChannel_id,Tr.Main_selectedChannel=Tr.Play_selectedChannel,Tr.Main_selectedChannelDisplayname=Tr.Play_selectedChannelDisplayname,Xs=Xa,uv(),Fp()):2===e?fy():3===e&&wm()}function Nv(e){Tr.Search_isSearching||(Tr.Main_BeforeSearch=Tr.Main_Go),g_(Tr.Main_Go),Tr.Main_Go=pr,1===e?(uv(),Fp()):2===e?fy():3===e&&wm()}function Fv(e){if(""===Tr.Play_gameSelected)return Ph=!0,jp(Qn),void window.setTimeout(function(){Ph=!1,Wp()},2e3);Tr.Main_BeforeAgameisSet||Tr.Main_Go===Ir||Tr.Main_Go===Sr||(Tr.Main_BeforeAgame=Tr.Main_BeforeChannelisSet&&Tr.Main_Go!==yr&&Tr.Main_Go!==br&&Tr.Main_Go!==wr?Tr.Main_BeforeChannel:Tr.Main_Go,Tr.Main_BeforeAgameisSet=!0),g_(Tr.Main_Go),Tr.Main_Go=_r,xo=!1,Tr.Main_gameSelected=Tr.Play_gameSelected,uv(),1===e?Fp():2===e?fy():3===e&&wm()}function Vv(){io()&&Ji[Tr.Users_Position].access_token?Xa?yi():pi():(jp(Bt),Ph=!0,window.setTimeout(function(){Wp(),Ph=!1},2e3))}function Dv(e){xh?1===xh?(1===e?(Mp(),ov()):2===e?(Ag=!1,cy(),py()):3===e&&(om=!1,pm(),Am()),tv()):2===xh?(Ya=1===e?Tr.Play_selectedChannel_id:Tr.Main_selectedChannel_id,Vv(),lv(),1===e?cv():2===e?wy():3===e&&xm()):3===xh?Fv(e):4===xh?Rv(e):5===xh&&Nv(e):Lm()}function Play_PannelEndStart(e){1===e?(window.clearInterval(Ah),Hv()):Jv(e)}function Jv(e){window.clearInterval(Ah),window.clearInterval(Ff),window.clearInterval(wg),Mv(),Uh=3,Bv(e),Iv(e)}function Hv(){zp(),th=-1,mh=0,Bh=2e3,Zl(),window.clearInterval(nh),window.clearInterval(Ah),""!==Tr.Play_selectedChannel_id?jv():qv()}function qv(){Rf("https://api.twitch.tv/kraken/users?login="+Tr.Play_selectedChannel,Bh,2,null,zv,Xv,!1)}function zv(e){void 0!==(e=JSON.parse(e).users[0])?(Tr.Play_selectedChannel_id=e._id,mh=0,Bh=2e3,jv()):Jv(1)}function Xv(){++mh<hh?(Bh+=250,qv()):Lp(!1,1)}function jv(){Of("https://tmi.twitch.tv/hosts?include_logins=1&host="+encodeURIComponent(Tr.Play_selectedChannel_id),Bh,1,null,Yv,Wv,!0)}function Wv(){++mh<hh?(Bh+=250,jv()):Lp(!1,1)}function Yv(e){void 0!==(Dh=JSON.parse(e).hosts[0]).target_login?(Ph=!0,jp(Tr.Play_selectedChannelDisplayname+rn+ne+Dh.target_display_name),window.setTimeout(function(){Ph=!1},4e3),Uv(0),Tr.Play_isHost=!0):(Uv(1),Tr.Play_isHost=!1),Jv(1)}function Qv(){Xa?(Nu("fallow_heart",'<i class="icon-heart strokicon" style="color: #00b300; font-size: 210%;"></i>'),Nu("fallow_text",wa+Mt)):(Nu("fallow_heart",'<i class="icon-heart-o strokicon" style="color: #FFFFFF; font-size: 210%;"></i>'),Nu("fallow_text",wa+It))}function Zv(e){xv()&&!Kp()?(Ov(),Qp()):_E()?mE():iv()&&!Ry()?e?py():ov():Ry()&&Kp()?(Uy(),my(!1),Dp()):Kp()?(Zp(),uv(),e?fy():Fp()):(Yp()&&Wp(),Qp())}function Kv(e){if(th!==eh)switch(e.keyCode){case Ua:Kp()?(Zp(),uv(),Fp()):Qp()}else switch(e.keyCode){case La:_E()?Qm&&!RC&&(CE(),Qm--,yE()):jm&&!iv()&&_v()?(Fm++,yv()):iv()?(Ev(),5<++xh&&(xh=1),Cv(),lv(),cv()):xv()?(Ov(),Tv(),--Gh<(Tr.Play_isHost?1:2)&&(Gh=3),Lv()):sv();break;case Ba:_E()?Qm<JC-1&&!RC&&(CE(),Qm++,yE()):!jm||iv()||xv()?iv()?(Ev(),--xh<1&&(xh=5),Cv(),lv(),cv()):xv()?(Ov(),Tv(),3<++Gh&&(Gh=Tr.Play_isHost?1:2),Lv()):sv():Sf("ChatEnable",(ch=_v()||xv()?(uv(),!1):(rv(),!0))?"true":"false");break;case Ta:iv()?(0<lh&&1===xh&&(lh--,mv()),lv(),cv()):!_E()&&io()?fE():xv()?Ov():_E()&&gE();break;case Oa:iv()?(lh<hv()-1&&1===xh&&(lh++,mv()),lv(),cv()):_E()?mE():jm&&_v()?(4<++Hm?gv(!(Hm=1)):4===Hm&&gv(!0),pv(!0)):xv()?Ov():sv();break;case Ga:if(xv())Gv(1);else if(iv())Dv(1);else if(_E()){var t=document.getElementById(ZC[8]+Qm);null===t?hE():Tr.Play_selectedChannel!==JSON.parse(t.getAttribute(pu))[0]?(Vp(),Y_(Qm,ZC,Kv)):hE()}else sv();break;case Ua:Zv(!1);break;case xa:case Sa:case Pa:xv()||kv(1)}}var $v,eg,tg,ng,ag="source",ig=ag,og=0,sg=null,dg=0,lg=0,cg=0,rg="",ug=[],_g=0,fg=0,mg=5,hg=!1,pg=2e3,vg=0,gg=5,yg=1e4,bg=0,wg=null,kg=0,Ag=!1,Cg=0,Eg=!1,Mg=!1,Ig=0,Sg=!1,xg=0,Pg=2e3,Lg=!1,Tg=0,Bg={},Og=0,Gg=0,Ug=!0,Rg=0,Ng=0,Fg=0,Vg=!1,Dg=[0,10,30,60,120,300,600,900,1200,1800],Jg=!1;function Hg(){zp(),Sv(),Tg=0,Fu("stream_live_time",""),Fu("stream_watching_time",""),Fu("progress_bar_current_time",Up(0)),rc=O+".",Nu("pause_button",'<i class="strokedbig icon-pause" style="color: #FFFFFF; font-size: 180%;"></i>'),Bu("progress_pause_holder"),Ng=0,Sy((Yh=Dg)[1]),og=Km,am=!0,nl=0,Tr.Play_isHost=!1,Tr.vodOffset?(zg(),Yg()):(Ug&&""!==Tr.Main_selectedChannel_id?(hp(document.getElementById("stream_info_icon"),Tr.Main_selectedChannelLogo),Bg["#"+Tr.ChannelVod_vodId]||vc(),io()?(Ya=Tr.Main_selectedChannel_id,Wa=!0,ui()):qp()):(zg(),Xg()),Fu("stream_info_name",Tr.Main_selectedChannelDisplayname),Nu("stream_info_title",""),Nu("stream_info_game",$d+" ["+jd.toUpperCase()+"]"),Fu("stream_live_icon",el),Vu("stream_info_game")),Bg["#"+Tr.ChannelVod_vodId]&&!Tr.vodOffset?(Xp(),Gy()):qg()}function qg(){window.setTimeout(function(){Ou("scene_channel_panel_bottom"),Nu("pause_button",'<i class="strokedbig icon-pause" style="color: #FFFFFF; font-size: 180%;"></i>'),Ou("progress_pause_holder")},1e3),Fu("progress_bar_duration",Up(qd)),Tr.Play_WasPlaying=2,p_(),ng=window.setInterval(ey,6e4),L_(Wh),kg=Cg=0,window.clearInterval(wg),Ph=Lg=Eg=!(Dm=-13),Sg=!1,cg=lg=dg=xg=0,document.addEventListener("visibilitychange",Kg,!1),Jg=!(hg=!(Mg=!1)),ty(),Uv(2),document.body.removeEventListener("keyup",D_)}function zg(){vg=0,gg=5,yg=1e4}function Xg(){Rf("https://api.twitch.tv/kraken/users?login="+encodeURIComponent(Tr.Main_selectedChannel),yg,2,null,jg,Wg,!1)}function jg(e){void 0!==(e=JSON.parse(e).users[0])?(Tr.Main_selectedChannelLogo=e.logo,Tr.Main_selectedChannel_id=e._id,Bg["#"+Tr.ChannelVod_vodId]||vc(),io()?(Ya=Tr.Main_selectedChannel_id,Wa=!0,ui()):qp()):(Tr.Main_selectedChannelLogo=Ea,Tr.Main_selectedChannel_id=""),hp(document.getElementById("stream_info_icon"),Tr.Main_selectedChannelLogo)}function Wg(){++vg<gg?(yg+=500,window.setTimeout(function(){hg&&Xg()},750)):eg=window.setTimeout(Xg,2500)}function Yg(){Rf("https://api.twitch.tv/kraken/videos/"+Tr.ChannelVod_vodId,yg,2,null,Zg,Qg,!1)}function Qg(){++vg<gg&&(yg+=2e3,Yg())}function Zg(e){e=JSON.parse(e),Nu("stream_info_title",bS.parse(e.title,!1,!0)),Nu("stream_info_game",Qt+v+e.game+" "+d_(e.views)+V+" ["+e.channel.broadcaster_language.toUpperCase()+"]"),Fu("stream_live_icon",N+k_(e.created_at)),Fu("progress_bar_duration",Up(qd=parseInt(e.length))),Tg=1e3*Tr.vodOffset,Ey(Tr.vodOffset,qd,!0),Tr.Main_selectedChannelDisplayname=e.channel.display_name,Fu("stream_info_name",Tr.Main_selectedChannelDisplayname),Tr.Main_selectedChannelLogo=e.channel.logo,hp(document.getElementById("stream_info_icon"),Tr.Main_selectedChannelLogo),Tr.Main_selectedChannel_id=e.channel._id,Tr.Main_selectedChannel=e.channel.name,io()?(Wa=!0,Ya=Tr.Main_selectedChannel_id,ui()):qp(),L_(e.increment_view_count_url)}function Kg(){document.hidden?xv()?(Zp(),uv(),fy()):(ey(),Ly(),Dc(),Jp(),window.clearInterval(wg),window.clearInterval(ng)):(hg=!0,tv(),hg&&(zp(),gh=gh=0,navigator.onLine?ry():Um=window.setInterval($g,100),Vc(hc),Uv(2),ng=window.setInterval(ey,6e4)))}function $g(){(navigator.onLine||200<gh)&&(window.clearInterval(Um),og=Km,ty()),gh++}function ey(){Tr.vodOffset=ku?parseInt(Android.gettime()/1e3):0,p_(),Tr.vodOffset=0}function ty(){fg=0,Pg=2e3,ny()}function ny(){Of(og===Km?"https://api.twitch.tv/api/vods/"+Tr.ChannelVod_vodId+"/access_token"+(io()&&Ji[Tr.Users_Position].access_token?"?oauth_token="+Ji[Tr.Users_Position].access_token:""):"https://usher.ttvnw.net/vod/"+Tr.ChannelVod_vodId+".m3u8?&nauth="+encodeURIComponent(dg.token)+"&nauthsig="+dg.sig+"&allow_source=true&allow_audi_only=true&allow_spectre=false",Bh,1,null,oy,ay,!0)}function ay(){if(hg){var e;if(dg.token&&(e=JSON.parse(dg.token)),e&&0!==JSON.parse(dg.token).chansub.restricted_bitrates.length)return void sy();++fg<mg?(Pg+=250,ny()):or?iy():(Xp(),Jv(2))}}function iy(){ug=[{id:"1080p60(Source)",band:"(10.00Mbps)",url:"http://fake"}],og=eh,hg&&cy()}function oy(e){og===Km?(dg=JSON.parse(e),og=$m,ty()):og===$m&&(ug=Ap(lg=e),og=eh,hg&&cy())}function sy(){io()&&Ji[Tr.Users_Position].access_token?(Ya=Tr.Main_selectedChannel_id,ki()):(Xp(),jp(x+St),window.setTimeout(function(){hg&&fy()},4e3))}function dy(){Xp(),jp(x+xt),window.setTimeout(function(){hg&&fy()},4e3)}function ly(){Jg?(Xp(),jp(x+Pt),window.setTimeout(function(){hg&&fy()},4e3)):(Jg=!0,og=Km,ty())}function cy(){window.clearInterval(wg),rg=ug[_g=0].url,-1!==ag.indexOf("source")&&(ag="source");for(var e=0;e<Cy();e++){if(ug[e].id===ag){rg=ug[_g=e].url;break}-1!==ug[e].id.indexOf(ag)&&(rg=ug[_g=e].url)}ig=ag,ry()}function ry(){sr&&console.log("PlayVod_onPlayer:",'\n\n"'+rg+'"\n'),Tr.vodOffset?(cc=Tr.vodOffset,vc(),ku&&hg&&Android.startVideoOffset(rg,2,Vg?-1:1e3*Tr.vodOffset),Tr.vodOffset=0):ku&&hg&&Android.startVideoOffset(rg,2,Vg?-1:Android.gettime()),Vg=!1,ch&&!_v()&&rv(),ku&&(kg=0,zh=3+pg/1e3,Ag=!1,window.clearInterval(wg),wg=window.setInterval(uy,Xh))}function uy(){ku&&(Tg=Android.gettime()),hg&&bg===Tg&&!Bp()?++kg>zh&&(Ag&&Eg&&_g<Cy()-1?_g++:!Ag&&Eg&&Cg++,navigator.onLine?1<Cg?Tp(Cg,2,_y):(Ay(),cy(),Eg=!0):Lp(!1,2)):(kg=Cg=0,Eg=!1),bg=Tg}function _y(e){if(!e){if(!(_g<Cy()-1))return void Lp(!1,2);_g++}Cg=0,Ay(),cy(),Eg=!0}function fy(){hg&&(ug=[],my(!0),Dp())}function my(e){e&&Ly(),ku&&Android.stopVideo(2),hg=!1,window.clearInterval(ng),window.clearInterval(eg),Tr.Play_WasPlaying=0,Ug=!0,Jc(),mE(),Jp(),hy()}function hy(){document.body.removeEventListener("keydown",Jy),document.removeEventListener("visibilitychange",Kg),Tr.vodOffset=0,window.clearInterval(sg),window.clearInterval(wg),qd=0}function py(){Sg=!1,Ig=xg=0,lv(),document.getElementById("scene_channel_panel").style.opacity="0",ku&&Ey(Android.gettime()/1e3,qd,!0),Nu("progress_bar_jump_to",wa),document.getElementById("progress_bar_steps").style.display="none",ag=ig,window.clearInterval(tg)}function vy(e){gy(),Op(),Zp(),tg=window.setInterval(gy,1e3),e&&(yy(),ky(),Ay(),wy()),document.getElementById("scene_channel_panel").style.opacity="1"}function gy(){ku&&Ey(Android.gettime()/1e3,qd,!Sg)}function yy(){Gg=Bp()?1:0,by()}function by(){Gg?1===Gg?(Uu("pause_button","progress_bar_div_focus"),Ru("progress_bar_div","progress_bar_div_focus"),Ev(),Nu("progress_bar_jump_to",wa),document.getElementById("progress_bar_steps").style.display="none"):2===Gg&&(Ru("pause_button","progress_bar_div_focus"),Ru("progress_bar_div","progress_bar_div_focus"),Cv(),Nu("progress_bar_jump_to",wa),document.getElementById("progress_bar_steps").style.display="none"):(Ru("pause_button","progress_bar_div_focus"),Uu("progress_bar_div","progress_bar_div_focus"),Ev(),Ig&&(xy(),document.getElementById("progress_bar_steps").style.display="inline-block"))}function wy(){qm=window.setTimeout(py,5e3+Rg)}function ky(){for(var e=_g=0;e<Cy();e++){if(ug[e].id===ag){_g=e;break}-1!==ug[e].id.indexOf(ag)&&(_g=e)}}function Ay(){1===Cy()?(document.getElementById("quality_arrow_up").style.opacity="0",document.getElementById("quality_arrow_down").style.opacity="0"):_g?_g===Cy()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(ag=ug[_g].id).indexOf("source")?Fu("quality_name",ag.replace("source",ge)+ug[_g].band):Fu("quality_name",ag+ug[_g].band)}function Cy(){return ug.length}function Ey(e,t,n){Fu("progress_bar_current_time",Up(e)),n&&(Nm.style.width=e/t*100+"%")}function My(){tv(),xv()||(om=Ag=!1,hg?(ku&&Android.startVideoOffset(rg,2,0<Fg?1e3*Fg:-1),cc=Fg):(cc=nl,ku&&Android.startVideoOffset(Kf,3,0<Fg?1e3*Fg:-1)),am&&vc()),Nu("progress_bar_jump_to",wa),document.getElementById("progress_bar_steps").style.display="none",Sg=!1,Fg=Ig=xg=0}function Iy(){Ng=xg=0,Sy(Yh[1])}function Sy(e){Ig&&!Gg&&(document.getElementById("progress_bar_steps").style.display="inline-block"),60<Math.abs(e)?Fu("progress_bar_steps",Dn+e/60+Hn):Fu("progress_bar_steps",e?Dn+e+Jn:Dn+Yh[1]+Jn)}function xy(){Fu("progress_bar_jump_to",ue+" ("+(Ig<0?"-":"")+Up(Math.abs(Ig))+")"+_e+Up(Fg))}function Py(e,t){var n=ku?Android.gettime()/1e3:0;window.clearTimeout($v),Sg=!0,xg<Yh.length-1&&Ng++%6==0&&xg++,Ig+=Yh[xg]*e,Fg=n+Ig,hg&&(Fg=10*Math.floor(Fg/10)),t<Fg?(Ig=t-n-Yh[1],Fg=n+Ig,Ng=xg=0):Fg<0&&(Ig=0-n,Fg=Ng=xg=0),xy(),Nm.style.width=Fg/t*100+"%",Sy(Yh[xg]*e),$v=window.setTimeout(Iy,1e3)}function Ly(){var e=ku?parseInt(Android.gettime()/1e3):0,t="#"+Tr.ChannelVod_vodId;300<e&&e<qd-300?(Bg[t]&&delete Bg[t],Bg[t]=e,Sf("PlayVod_VodIds",JSON.stringify(Bg))):qd-300<e&&Bg[t]&&(delete Bg[t],Sf("PlayVod_VodIds",JSON.stringify(Bg)))}function Ty(){Bg=Pf("PlayVod_VodIds",{});var e=By();250<e&&Oy(e-250)}function By(){var e=0;for(var t in Bg)Bg.hasOwnProperty(t)&&e++;return e}function Oy(e){var t=0;for(var n in Bg){if(!(t<e))break;delete Bg[n],t++}Sf("PlayVod_VodIds",JSON.stringify(Bg))}function Gy(){Bu("scene_channel_panel_bottom"),vy(!1),Nu("dialog_vod_saved_text",kn+Rp(1e3*Bg["#"+Tr.ChannelVod_vodId])),Ou("dialog_vod_start")}function Uy(){py(),Bu("dialog_vod_start"),Ny(),window.setTimeout(function(){Ou("scene_channel_panel_bottom")},1e3)}function Ry(){return Gu("dialog_vod_start")}function Ny(){Vy(),Og=0,Fy()}function Fy(){Uu("dialog_vod_"+Og,"dialog_end_icons_focus")}function Vy(){Ru("dialog_vod_"+Og,"dialog_end_icons_focus")}function Dy(e){Uy(),e?(delete Bg["#"+Tr.ChannelVod_vodId],Tr.vodOffset=0,Hg()):(Tr.vodOffset=Bg["#"+Tr.ChannelVod_vodId],Tg=1e3*Tr.vodOffset,Ey(Tr.vodOffset,qd,!0),qg())}function Jy(e){if(og===eh||Ry())switch(e.keyCode){case La:_E()?Qm&&!RC&&(CE(),Qm--,yE()):jm&&!iv()&&_v()?(Fm++,yv()):iv()&&!Ry()?(lv(),Gg?(Ev(),5<++xh&&(xh=1),Cv()):(Py(-1,qd),Rg=2500),wy()):Ry()?(Vy(),Og?Og--:Og++,Fy()):xv()?(Ov(),Tv(),--Gh<0&&(Gh=3),1===Gh&&(Gh=0),Lv()):Ry()||vy(!0);break;case Ba:_E()?Qm<JC-1&&!RC&&(CE(),Qm++,yE()):!jm||iv()||xv()?iv()&&!Ry()?(lv(),Gg?(Ev(),--xh<1&&(xh=5),Cv()):(Py(1,qd),Rg=2500),wy()):Ry()?(Vy(),Og?Og--:Og++,Fy()):xv()?(Ov(),Tv(),3<++Gh&&(Gh=0),1===Gh&&(Gh=2),Lv()):Ry()||vy(!0):Sf("ChatEnable",(ch=_v()||xv()?(uv(),!1):(rv(),!0))?"true":"false");break;case Ta:xv()?Ov():iv()&&!Ry()?(2===Gg&&1!==xh?(Gg--,by()):1===Gg?(Gg--,by()):0<_g&&1===xh&&(_g--,Ay()),lv(),wy()):_E()?_E()?gE():Ry()||vy(!0):fE();break;case Oa:xv()?Ov():iv()&&!Ry()?(Gg?1===Gg?(Gg++,by()):_g<Cy()-1&&1===xh&&(_g++,Ay()):(Gg++,by()),lv(),wy()):_E()?mE():jm&&_v()?(4<++Hm?gv(!(Hm=1)):4===Hm&&gv(!0),pv(!0)):Ry()||vy(!0);break;case Ga:Ry()?Dy(Og):xv()?Gv(2):iv()?Gg?1===Gg?(Tr.Play_ChatForceDisable&&(Bp()?Vc(hc):Dc()),xv()||kv(2)):Dv(2):(lv(),wy(),Ig&&My()):_E()?(my(!0),Y_(Qm,ZC,Kv)):vy(!0);break;case Ua:Zv(!0);break;case xa:case Sa:case Pa:Tr.Play_ChatForceDisable&&(Bp()?Vc(hc):Dc()),xv()||kv(2)}else switch(e.keyCode){case Ua:Kp()?(Zp(),fy()):Qp()}}var Hy={};function qy(){console.log("InitScreens place holder")}function zy(){Lb(),Tb(),Ob(),Gb(),Ub(),Nb(),Fb()}function Xy(e){return[e+"_thumbdiv",e+"_img",e+"_infodiv",e+"_title",e+"_createdon",e+"_game",e+"_viwers",e+"_duration",e+"_cell","cpempty_",e+"_scroll",e+"_lang"]}function jy(){for(var e,t={},n=0;n<arguments.length;n+=1){var a=arguments[n],i=Object.keys(a);for(e=0;e<i.length;e+=1)t[i[e]]=a[i[e]]}return t}function Wy(){Xr=-1,Tr.Main_Go=Hy.screen,Hy.label_init(),document.body.addEventListener("keydown",mb,!1),Ou(Hy.ids[10]),Hy.status?(x_(Hy.posY),db(),p_()):Qy()}function Yy(){Xr=0,Hy.label_exit(),document.body.removeEventListener("keydown",mb),Bu(Hy.ids[10]),$u()}function Qy(){Du(),E_(Hy.table),$u(),Hy.cursor=null,Hy.status=!1,Hy.row=document.createElement("div"),Hy.MaxOffset=0,Hy.TopRowCreated=!1,Hy.offset=0,Hy.idObject={},Hy.FirstLoad=!0,Hy.itemsCount=0,Hy.posX=0,Hy.posY=0,Hy.row_id=0,Hy.coloumn_id=0,Hy.data=null,Hy.data_cursor=0,Hy.dataEnded=!1,Wu(),Zy(),Ky()}function Zy(){Hy.loadingData=!0,Hy.loadingDataTry=0,Hy.loadingDataTimeout=3500}function Ky(){Hy.set_url(),ku&&!Hy.itemsCount?Uf(Hy.url,Hy.loadingDataTimeout,2,null,eb,$y):Rf(Hy.url,Hy.loadingDataTimeout,2,null,eb,$y,!1)}function $y(){Hy.loadingDataTry++,Hy.loadingDataTry<Hy.loadingDataTryMax?(Hy.loadingDataTimeout+=500,Ky()):(Hy.loadingData=!1,Hy.itemsCount?Hy.dataEnded=!0:(Hy.FirstLoad=!1,Ju(),Ku(P),Hy.key_exit()))}function eb(e){Hy.concatenate(e)}function tb(){var e=Hy.data.length-Hy.data_cursor;e>Hy.ItemsLimit?e=Hy.ItemsLimit:Hy.loadingData||(Hy.dataEnded=!0);var t=document.getElementById(Hy.table);if(Hy.HasSwitches&&!Hy.TopRowCreated){Hy.TopRowCreated=!0,Hy.row=document.createElement("div");var n='<i class="icon-history stream_channel_fallow_icon"></i>'+wa+wa+m;(Dr=document.createElement("div")).setAttribute("id",Hy.ids[8]+"y_0"),Dr.className="stream_cell_period",Dr.innerHTML='<div id="'+Hy.ids[0]+'y_0" class="stream_thumbnail_channel_vod" ><div id="'+Hy.ids[3]+'y_0" class="stream_channel_fallow_game">'+n+"</div></div>",Hy.row.appendChild(Dr),t.appendChild(Hy.row)}if(e){var a=Math.ceil(e/Hy.ColoumnsCount),i=Hy.row_id+a;for(Hy.row_id;Hy.row_id<i;){for(Hy.coloumn_id===Hy.ColoumnsCount&&(Hy.row=document.createElement("div"),Hy.coloumn_id=0),Hy.coloumn_id;Hy.coloumn_id<Hy.ColoumnsCount&&Hy.data_cursor<Hy.data.length;Hy.data_cursor++)Hy.data[Hy.data_cursor]&&Hy.addCell(Hy.data[Hy.data_cursor]);if(t.appendChild(Hy.row),Hy.coloumn_id===Hy.ColoumnsCount)Hy.row_id++;else if(Hy.data_cursor>=Hy.data.length)break}}Hy.emptyContent=!e&&!Hy.status,sb()}function nb(e,t,n,a){var i=e+"_"+t;return S_(n[1]+i,a),e<Hy.ColoumnsCount&&L_(a),(Dr=document.createElement("div")).style.cssText=Hy.ThumbCssText,i}function ab(e,t,n,a,i,o){var s=nb(e,t,n,a);return Dr.setAttribute("id",n[5]+s),Dr.setAttribute(pu,i),Dr.innerHTML='<div id="'+n[0]+s+'" class="stream_thumbnail_game"><div><img id="'+n[1]+s+'" class="stream_img"></div><div id="'+n[2]+s+'" class="stream_text2"><div id="<div id="'+n[3]+s+'" class="stream_channel">'+i+"</div>"+(""!==o?'<div id="'+n[4]+s+'"class="stream_info" style="width: 100%; display: inline-block;">'+o+"</div>":"")+"</div></div>",Dr}function ib(e,t,n,a,i,o,s,d,l,c,r,u,_,f,m,h){var p=nb(e,t,n,a);return Dr.setAttribute("id",n[8]+p),Dr.setAttribute(pu,JSON.stringify([r,c,s[2],u,i,_,f,m,h,s[0],l,s[1]+s[2]])),Dr.innerHTML='<div id="'+n[0]+p+'" class="stream_thumbnail_clip"><div><img id="'+n[1]+p+'" class="stream_img"></div><div id="'+n[2]+p+'" class="stream_text2"><div style="line-height: 14px;"><div id="'+n[3]+p+'" class="stream_channel" style="width: 72%; display: inline-block; font-size: 85%;">'+i+'</div><div id="'+n[7]+p+'"class="stream_info" style="width:27%; float: right; text-align: right; display: inline-block;">'+l+'</div></div><div id="'+n[11]+p+'"class="stream_info">'+s[0]+da+s[1]+s[2]+'</div><div id="'+n[6]+p+'"class="stream_info">'+d+V+'</div><div  style="line-height: 12px;"><div id="'+n[4]+p+'"class="stream_info" style="width: 59%; display: inline-block;">'+o[0]+o[1]+'</div><div id="'+n[5]+p+'"class="stream_info" style="width: 39%; display: inline-block; float: right; text-align: right;">'+F+Up(c)+"</div></div></div></div>",Dr}function ob(e,t,n,a,i){var o=nb(e,t,a,i[0]);return Dr.setAttribute("id",a[8]+o),Dr.setAttribute(pu,JSON.stringify(n)),Dr.innerHTML='<div id="'+a[0]+o+'" class="stream_thumbnail_clip"><div><img id="'+a[1]+o+'" class="stream_img"></div><div id="'+a[2]+o+'" class="stream_text2"><div style="line-height: 14px;"><div id="'+a[3]+o+'" class="stream_channel" style="width: 66%; display: inline-block;">'+i[1]+'</div><div id="'+a[7]+o+'"class="stream_info" style="width:33%; float: right; text-align: right; display: inline-block;">'+i[5]+'</div></div><div id="'+a[4]+o+'"class="stream_info">'+bS.parse(i[2])+'</div><div id="'+a[5]+o+'"class="stream_info">'+v+i[3]+'</div><div id="'+a[6]+o+'"class="stream_info">'+i[4]+"</div></div></div>",Dr}function sb(){Hy.status?(M_(Hy.img_404),Yu(Hy.posX,Hy.posY,Hy.ColoumnsCount,Hy.itemsCount)):(Hy.emptyContent?Ku(Hy.empty_str()):(Hy.status=!0,M_(Hy.img_404)),jr&&Hy.status&&Bk.restor_playback.defaultValue?Tr.Play_WasPlaying?(g_(Tr.Main_Go),Tr.Main_Go=Lr,Tr.vodOffset||(Tr.vodOffset=1),qd=Tr.vodOffset+1,jp(qn),1===Tr.Play_WasPlaying?Q_():$_(),m_(!0),window.setTimeout(function(){Ph||Wp()},2e3)):1!==Lr?(g_(Tr.Main_Go),Tr.Main_Go=Lr,tf(Hy.posY+"_"+Hy.posX,Hy.ids),m_()):(Tr.Never_run&&i_(),Tr.Never_run=!1,db(),p_()):(db(),p_()),jr=!1,Hy.FirstLoad=!1,Ju())}function db(){if(Hy.emptyContent){if(!Hy.HasSwitches)return void Hy.key_exit();Hy.posY=-1}Hy.posY<0?cb():(Hy.addFocus(Hy.posY,Hy.posX,Hy.ids,Hy.ColoumnsCount,Hy.itemsCount),2<Hy.posY&&Hy.data_cursor+kb>Hy.data.length&&!Hy.dataEnded&&!Hy.loadingData?(Zy(),Ky()):Hy.posY+Hy.ItemsReloadLimit>Hy.itemsCount/Hy.ColoumnsCount&&Hy.data_cursor<Hy.data.length&&(I_(),of(function(){Hy.loadDataSuccess()})),Gr&&tf(Hy.posY+"_"+Hy.posX,Hy.ids))}function lb(e,t){tf(Hy.posY+"_"+Hy.posX,Hy.ids),Hy.posY+=e,Hy.posX=t,db()}function cb(){Uu(Hy.ids[0]+"y_0",hu)}function rb(){Ru(Hy.ids[0]+"y_0",hu)}function ub(e){s_()?o_():n_()?t_():(e===Hy.screen?Tr.Main_Go=cr:Tr.Main_Go=e,Yy())}function _b(e){if(!Hy.HasSwitches||Hy.posY||-1!==e||Hy.emptyContent){if(Hy.HasSwitches&&-1===Hy.posY&&r_(0,Hy.posX,Hy.ids[0]))Hy.posY=0,db(),rb();else for(var t=0;t<Hy.ColoumnsCount;t++)if(r_(Hy.posY+e,Hy.posX-t,Hy.ids[0]))return void lb(e,Hy.posX-t)}else tf(Hy.posY+"_"+Hy.posX,Hy.ids),Hy.posY=-1,cb()}function fb(e,t){r_(Hy.posY,Hy.posX+e,Hy.ids[0])?lb(0,Hy.posX+e):r_(Hy.posY+e,t,Hy.ids[0])&&lb(e,t)}function mb(e){if(!Hy.FirstLoad&&!q_())switch(H_(),e.keyCode){case Ua:Hy.key_exit();break;case La:fb(-1,Hy.ColoumnsCount-1);break;case Ba:fb(1,0);break;case Ta:_b(-1);break;case Oa:_b(1);break;case xa:case Sa:case Pa:case Ga:Hy.key_play()}}Hy.FirstLoad=!1;var hb,pb,vb,gb,yb,bb,wb,kb=100,Ab="",Cb="",Eb="",Mb="",Ib="",Sb="",xb={posX:0,posY:0,row_id:0,coloumn_id:0,dataEnded:!1,idObject:{},loadingData:!1,itemsCount:0,loadingDataTryMax:5,loadingDataTimeout:3500,MaxOffset:0,offset:0,status:!1,emptyContent:!1,itemsCountCheck:!1,FirstLoad:!1,row:0,data:null,data_cursor:0,loadDataSuccess:tb,set_ThumbSize:function(){this.ThumbCssText="width: "+this.ThumbSize+"%; display: inline-block; padding: 3px;"},key_exit:function(){s_()?o_():n_()?t_():(this.itemsCount&&tf(this.posY+"_"+this.posX,this.ids),kf(mb))}},Pb={ThumbSize:32.65,ItemsLimit:Zr,ItemsReloadLimit:$r,ColoumnsCount:Kr,addFocus:X_,img_404:Ma,empty_str:function(){return L+Y},key_play:function(){Y_(this.posY+"_"+this.posX,this.ids,mb)}};function Lb(){(bb=jy(bb=jy({ids:Xy("Live"),table:"stream_table_live",screen:cr,base_url:"https://api.twitch.tv/kraken/streams?limit="+kb,set_url:function(){this.offset&&this.offset+kb>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+"&offset="+this.offset+(""!==Hr?"&broadcaster_language="+Hr:"")},label_init:function(){Tr.Main_CenterLablesVectorPos=0,Uu("top_bar_live","icon_center_focus")},label_exit:function(){Ru("top_bar_live","icon_center_focus")},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.MaxOffset=t._total,this.data=this.data.concat(t.streams),this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadingData=!1}else this.data=JSON.parse(e),this.MaxOffset=this.data._total,this.data=this.data.streams,this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadDataSuccess(),this.loadingData=!1},addCell:function(e){this.idObject[e.channel._id]||(this.itemsCount++,this.idObject[e.channel._id]=1,this.row.appendChild(ob(this.row_id,this.coloumn_id,[e.channel.name,e.channel._id,e.channel.status],this.ids,[e.preview.template.replace("{width}x{height}",fu),c_(JSON.stringify(e.stream_type))+e.channel.display_name,e.channel.status,e.game,y+Np(e.created_at)+" "+h+d_(e.viewers)+D,l_(e.video_height,e.average_fps,e.channel.broadcaster_language)])),this.coloumn_id++)}},xb),Pb)).set_ThumbSize()}function Tb(){(wb=jy(wb=jy({ids:Xy("Featured"),table:"stream_table_featured",screen:xr,base_url:"https://api.twitch.tv/kraken/streams/featured?limit="+kb,set_url:function(){this.url=this.base_url+"&offset="+this.offset+(io()&&Ji[Tr.Users_Position].access_token?"&oauth_token="+Ji[Tr.Users_Position].access_token:"")},label_init:function(){Tr.Main_CenterLablesVectorPos=2,Uu("top_bar_featured","icon_center_focus")},label_exit:function(){Ru("top_bar_featured","icon_center_focus")},concatenate:function(e){this.data=JSON.parse(e),this.data=this.data.featured,this.dataEnded=!0,this.loadDataSuccess(),this.loadingData=!1},addCell:function(e){e=e.stream,this.idObject[e.channel._id]||(this.itemsCount++,this.idObject[e.channel._id]=1,this.row.appendChild(ob(this.row_id,this.coloumn_id,[e.channel.name,e.channel._id,e.channel.status],this.ids,[e.preview.template.replace("{width}x{height}",fu),c_(JSON.stringify(e.stream_type))+e.channel.display_name,e.channel.status,e.game,y+Np(e.created_at)+" "+h+d_(e.viewers)+D,l_(e.video_height,e.average_fps,e.channel.broadcaster_language)])),this.coloumn_id++)}},xb),Pb)).set_ThumbSize()}var Bb={ThumbSize:32.65,ItemsLimit:Zr,HasSwitches:!0,TopRowCreated:!1,ItemsReloadLimit:$r,ColoumnsCount:Kr,addFocus:X_,cursor:null,period:["day","week","month","all"],img_404:Ma,empty_str:function(){return L+U},key_play:function(){-1===this.posY?this.loadingData||(this.periodPos++,4<this.periodPos&&(this.periodPos=1),this.SetPeriod(),Qy()):Z_(this.posY+"_"+this.posX,this.ids,mb)},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.cursor=t._cursor,""===this.cursor&&(this.dataEnded=!0),this.data=this.data.concat(t.clips),this.loadingData=!1}else this.data=JSON.parse(e),this.cursor=this.data._cursor,""===this.cursor&&(this.dataEnded=!0),this.data=this.data.clips,this.loadDataSuccess(),this.loadingData=!1},addCell:function(e){this.idObject[e.tracking_id]||(this.itemsCount++,this.idObject[e.tracking_id]=1,this.row.appendChild(ib(this.row_id,this.coloumn_id,this.ids,e.thumbnails.medium,e.broadcaster.display_name,[on,k_(e.created_at)],[bS.parse(e.title),v,e.game],d_(e.views),"["+e.language.toUpperCase()+"]",e.duration,e.slug,e.broadcaster.name,e.broadcaster.logo.replace("150x150","300x300"),e.broadcaster.id,null!==e.vod?e.vod.id:null,null!==e.vod?e.vod.offset:null)),this.coloumn_id++)}};function Ob(){(hb=jy(hb=jy({ids:Xy("Clip"),table:"stream_table_clip",screen:Mr,periodPos:xf("Clip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?limit="+kb,set_url:function(){this.url=this.base_url+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")+(""!==Hr?"&language="+Hr:"")},SetPeriod:function(){Nu("top_bar_clip",U+w_(zr[this.periodPos-1])),Sf("Clip_periodPos",this.periodPos)},label_init:function(){Tr.Main_CenterLablesVectorPos=5,this.SetPeriod(),Uu("top_bar_clip","icon_center_focus"),Tu("label_refresh","icon-refresh",t+jt)},label_exit:function(){y_(),Ru("top_bar_clip","icon_center_focus"),Tu("label_refresh","icon-refresh",t+jt)}},xb),Bb)).set_ThumbSize()}function Gb(){(pb=jy(pb=jy({ids:Xy("ChannelClip"),table:"stream_table_channel_clip",screen:wr,periodPos:xf("ChannelClip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?channel=",set_url:function(){this.url=this.base_url+encodeURIComponent(Tr.Main_selectedChannel)+"&limit="+kb+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")},SetPeriod:function(){Nu("top_bar_game",U+zr[this.periodPos-1]),Sf("ChannelClip_periodPos",this.periodPos)},label_init:function(){Tr.Main_CenterLablesVectorPos=1,!Tr.Search_isSearching&&Tr.Main_selectedChannel_id&&Pd(),Tr.Main_selectedChannel!==this.lastselectedChannel&&(this.status=!1),b_(),this.SetPeriod(),Fu("top_bar_user",Tr.Main_selectedChannelDisplayname),Tu("label_side_panel","icon-arrow-circle-left",I),this.lastselectedChannel=Tr.Main_selectedChannel},label_exit:y_},xb),Bb)).set_ThumbSize()}function Ub(){(vb=jy(vb=jy({ids:Xy("AGameClip"),table:"stream_table_a_game_clip",screen:Sr,periodPos:xf("AGameClip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?game=",set_url:function(){this.url=this.base_url+encodeURIComponent(Tr.Main_gameSelected)+"&limit="+kb+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")+(""!==Hr?"&language="+Hr:"")},SetPeriod:function(){Nu("top_bar_game",b+w_(U+zr[this.periodPos-1]+": "+Tr.Main_gameSelected)),Sf("AGameClip_periodPos",this.periodPos)},label_init:function(){Tr.Main_CenterLablesVectorPos=3,this.SetPeriod(),Uu("top_bar_game","icon_center_focus"),Tu("label_side_panel","icon-arrow-circle-left",I),this.gameSelected!==Tr.Main_gameSelected&&(this.status=!1),this.gameSelected=Tr.Main_gameSelected},label_exit:function(){Ru("top_bar_game","icon_center_focus"),Nu("top_bar_game",f),Tu("label_side_panel","icon-ellipsis",Rn)}},xb),Bb)).set_ThumbSize()}var Rb={ThumbSize:19.35,ItemsLimit:eu,ItemsReloadLimit:nu,ColoumnsCount:tu,addFocus:j_,img_404:Ca,empty_str:function(){return L+Z},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.MaxOffset=t._total,this.data=this.data.concat(this.screen===hr?t.follows:t.top),this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadingData=!1}else this.data=JSON.parse(e),this.MaxOffset=this.data._total,this.data=this.screen===hr?this.data.follows:this.data.top,this.offset=this.data.length,this.isLive?this.dataEnded=!0:this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadDataSuccess(),this.loadingData=!1},key_play:function(){Tr.Main_gameSelected=document.getElementById(this.ids[5]+this.posY+"_"+this.posX).getAttribute(pu),document.body.removeEventListener("keydown",mb),Tr.Main_BeforeAgame=this.screen,Tr.Main_Go=_r,Tr.Main_BeforeAgameisSet=!0,xo=!1,Xr=0,document.body.removeEventListener("keydown",mb),Bu(this.ids[10]),h_(),tf(this.posY+"_"+this.posX,this.ids)},addCell:function(e){var t=this.isLive||this.screen===ur,n=t?e.game:e;this.idObject[n._id]||(this.itemsCount++,this.idObject[n._id]=1,this.row.appendChild(ab(this.row_id,this.coloumn_id,this.ids,n.box.template.replace("{width}x{height}",mu),n.name,t?d_(e.channels)+" "+E+h+d_(e.viewers)+D:"")),this.coloumn_id++)}};function Nb(){(gb=jy(gb=jy({ids:Xy("Game"),table:"stream_table_games",screen:ur,base_url:"https://api.twitch.tv/kraken/games/top?limit="+kb,set_url:function(){this.offset&&this.offset+kb>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+"&offset="+this.offset},label_init:function(){Tr.Main_CenterLablesVectorPos=3,Uu("top_bar_game","icon_center_focus")},label_exit:function(){Ru("top_bar_game","icon_center_focus")}},xb),Rb)).set_ThumbSize()}function Fb(){(yb=jy(yb=jy({ids:Xy("UserGames"),table:"stream_table_user_games",screen:hr,isLive:Lf("user_Games_live",!0),OldUserName:"",base_url:"https://api.twitch.tv/api/users/",set_url:function(){this.offset&&this.offset+kb>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+encodeURIComponent(Ji[Tr.Users_Position].name)+"/follows/games",this.isLive?this.url+="/live?limit=750":this.url+="?limit="+kb+"&offset="+this.offset},key_refresh:function(){this.isLive=!this.isLive,Nu("top_bar_user",u+w_(Ji[Tr.Users_Position].name+" "+(this.isLive?Z:zt))),Qy(),Sf("user_Games_live",this.isLive?"true":"false"),pM&&CM()},label_init:function(){Tr.Main_CenterLablesVectorPos=1,Tu("label_refresh","icon-refresh",Xt+Z+"/"+zt+":"+jt),Tu("label_side_panel","icon-arrow-circle-left",I),Uu("top_bar_user","icon_center_focus"),this.OldUserName!==Ji[Tr.Users_Position].name&&(this.status=!1),this.OldUserName=Ji[Tr.Users_Position].name,Nu("top_bar_user",u+w_(Ji[Tr.Users_Position].name+" "+(this.isLive?Z:zt)))},label_exit:function(){Tr.Users_Position=0,Ru("top_bar_user","icon_center_focus"),Tu("label_refresh","icon-refresh",t+jt),Fu("top_bar_user",u),Tu("label_side_panel","icon-ellipsis",Rn)}},xb),Rb)).set_ThumbSize()}var Vb=0,Db=0,Jb=!1,Hb=0,qb={},zb=[],Xb=!1,jb=0,Wb=5,Yb=3500,Qb=0,Zb=0,Kb=!1,$b=!1,ew="",tw=!1,nw=["sc_thumbdiv","sc_img","sc_infodiv","sc_displayname","sc_cell","scempty_","search_channel_scroll"];function aw(){Tr.Main_CenterLablesVectorPos=1,Tr.Main_Go=Cr,Tr.isLastSChannels=!0,Tr.Search_isSearching=!0,ew!==Tr.Search_data&&($b=!1),b_(),Nu("top_bar_user",n+w_(E+" '"+Tr.Search_data+"'")),document.body.addEventListener("keydown",vw,!1),$b?(x_(Vb),Ou(nw[6]),hw(),p_()):ow()}function iw(){y_(),document.body.removeEventListener("keydown",vw),Bu(nw[6])}function ow(){E_("stream_table_search_channel"),Bu(nw[6]),Du(),$u(),ew=Tr.Search_data,$b=!1,qb={},bf=!(Hb=Zb=Qb=0),Vb=Db=0,Jb=tw=!(zb=[]),Wu(),sw(),dw()}function sw(){I_(),Xb=!0,jb=0,Yb=3500}function dw(){var e=Hb+Qb;e&&Zb-1<e&&(e=Zb-au,Jb=!0);var t="https://api.twitch.tv/kraken/search/channels?query="+encodeURIComponent(Tr.Search_data)+"&limit="+au+"&offset="+e;ku&&!Hb?Uf(t,Yb,2,null,cw,lw):Rf(t,Yb,2,null,cw,lw,!1)}function lw(){++jb<Wb?(Yb+=500,dw()):(Xb=!1,Hb?(Jb=!0,uw()):(bf=!1,Ju(),Ku(P)))}function cw(e){var t=JSON.parse(e),n=t.channels.length;Zb=parseInt(t._total),n<au&&(Jb=!0);var a=Hb;Kb=!(Hb+=n);var i=n/iu;0<n%iu&&i++;for(var o,s,d,l,c,r=0,u=document.getElementById("stream_table_search_channel"),_=0;_<i;_++){for(s=a/iu+_,d=document.createElement("tr"),o=0;o<iu&&r<n;o++,r++)c=(l=t.channels[r])._id,qb[c]?o--:(qb[c]=1,d.appendChild(rw(s,s+"_"+o,[l.name,c,l.logo,l.display_name])));for(;o<iu;o++)Jb&&!tw&&(tw=!0,Hb=s*iu+o),d.appendChild(T_(nw[5]+s+"_"+o)),zb.push(nw[5]+s+"_"+o);u.appendChild(d)}uw()}function rw(e,t,n){return e<4&&L_(n[2]),B_(t,nw,n)}function uw(){if($b){if(M_(Ea),0<zb.length&&!Jb)return sw(),void _w();hw(!0),zb=[]}else Kb?Ku(d):($b=!0,M_(Ea),hw(),p_()),Ou(nw[6]),bf=!1,Ju();Xb=!1}function _w(){Zu(zb.length);var e=Hb+Qb;e&&Zb-1<e&&(e=Zb-su,Jb=!0),Of("https://api.twitch.tv/kraken/search/channels?query="+encodeURIComponent(Tr.Search_data)+"&limit="+su+"&offset="+e,Yb,2,null,mw,fw)}function fw(){++jb<Wb?(Yb+=500,_w()):(Jb=!0,Hb-=zb.length,zb=[],uw())}function mw(e){var t,n,a=JSON.parse(e),i=a.channels.length,o=0,s=0,d=[];for(Zb=parseInt(a._total),i<su&&(Jb=!0);o<zb.length&&s<i;o++,s++)n=(t=a.channels[s])._id,qb[n]?o--:(qb[n]=1,O_(zb[o],[t.name,n,t.logo,t.display_name],nw),d.push(o));for(o=d.length-1;-1<o;o--)zb.splice(d[o],1);Qb+=s,Jb&&(Hb-=zb.length,zb=[]),uw()}function hw(e){z_(Vb,Db,nw,iu,Hb,e),Hb/iu<Vb+ou&&!Jb&&!Xb&&(sw(),dw()),Gr&&pw()}function pw(){Hb&&tf(Vb+"_"+Db,nw)}function vw(e){var t;if(!bf&&!q_())switch(H_(),e.keyCode){case Ua:s_()?o_():n_()?t_():(pw(),kf(vw));break;case La:if(r_(Vb,Db-1,nw[0]))pw(),Db--,hw();else for(t=iu-1;-1<t;t--)if(r_(Vb-1,t,nw[0])){pw(),Vb--,Db=t,hw();break}break;case Ba:r_(Vb,Db+1,nw[0])?(pw(),Db++,hw()):r_(Vb+1,0,nw[0])&&(pw(),Vb++,Db=0,hw());break;case Ta:for(t=0;t<iu;t++)if(r_(Vb-1,Db-t,nw[0])){pw(),Vb--,Db-=t,hw();break}break;case Oa:for(t=0;t<iu;t++)if(r_(Vb+1,Db-t,nw[0])){pw(),Vb++,Db-=t,hw();break}break;case xa:case Sa:case Pa:case Ga:Tr.Main_selectedChannel=document.getElementById(nw[4]+Vb+"_"+Db).getAttribute(pu),Tr.Main_selectedChannel_id=document.getElementById(nw[4]+Vb+"_"+Db).getAttribute("data-id"),Tr.Main_selectedChannelDisplayname=document.getElementById(nw[3]+Vb+"_"+Db).textContent,document.body.removeEventListener("keydown",vw),Tr.Main_BeforeChannel=Cr,Tr.Main_Go=yr,Tr.Main_BeforeChannelisSet=!0,Xs=Xa=!1,Bu(nw[6]),m_()}}var gw=!1,yw=0,bw=0,ww=0,kw=0,Aw=5,Cw=3500,Ew=0,Mw=0,Iw=!1,Sw=!1,xw="",Pw=["sgthumbdiv","sgimg","sginfodiv","sgdisplayname","sgviwers","sgcell","sgempty_","search_games_scroll"];function Lw(){Tr.Main_CenterLablesVectorPos=1,Tr.Main_Go=vr,Tr.Search_isSearching=!0,b_(),xw!==Tr.Search_data&&(gw=!1),Nu("top_bar_user",n+w_(f+" '"+Tr.Search_data+"'")),document.body.addEventListener("keydown",Jw,!1),gw?(x_(yw),Ou(Pw[7]),Vw(),p_()):Bw()}function Tw(){Tr.Search_isSearching||y_(),document.body.removeEventListener("keydown",Jw),Tr.Games_return=!1,Bu(Pw[7])}function Bw(){E_("stream_table_search_game"),Bu(Pw[7]),Du(),$u(),xw=Tr.Search_data,Sw=gw=!1,yw=bw=ww=Mw=Ew=0,Wu(),Ow(),Gw()}function Ow(){I_(),bf=!0,kw=0,Cw=3500}function Gw(){Of("https://api.twitch.tv/kraken/search/games?query="+encodeURIComponent(Tr.Search_data),Cw,2,null,Rw,Uw)}function Uw(){++kw<Aw?(Cw+=500,Gw()):(bf=!1,ww?Fw():(Ju(),Ku(P)))}function Rw(e){var t=JSON.parse(e),n=0;null!==t.games&&(n=t.games.length);var a=ww;Iw=!(ww+=n);var i=n/tu;0<n%tu&&i++;for(var o,s,d,l,c=0,r=document.getElementById("stream_table_search_game"),u=0;u<i;u++){for(s=a/tu+u,d=document.createElement("tr"),o=0;o<tu&&c<n;o++,c++)l=t.games[c],d.appendChild(Nw(s,s+"_"+o,[l.name,l.box.template.replace("{width}x{height}",mu),""]));for(;o<tu;o++)Sw||(Sw=!0,ww=s*tu+o),d.appendChild(T_(Pw[6]+s+"_"+o));r.appendChild(d)}Fw()}function Nw(e,t,n){return e<2&&L_(n[1]),F_(t,Pw,n)}function Fw(){gw||(Iw?Ku(d):(gw=!0,M_(Ma),Vw(),p_()),Ju()),Ou(Pw[7]),bf=!1,Yu(bw,yw,tu,ww)}function Vw(){j_(yw,bw,Pw,tu,ww),Gr&&Dw()}function Dw(){ww&&tf(yw+"_"+bw,Pw)}function Jw(e){var t;if(!bf&&!q_())switch(H_(),e.keyCode){case Ua:s_()?o_():n_()?t_():(Dw(),kf(Jw));break;case La:if(r_(yw,bw-1,Pw[0]))Dw(),bw--,Vw();else for(t=tu-1;-1<t;t--)if(r_(yw-1,t,Pw[0])){Dw(),yw--,bw=t,Vw();break}break;case Ba:r_(yw,bw+1,Pw[0])?(Dw(),bw++,Vw()):r_(yw+1,0,Pw[0])&&(Dw(),yw++,bw=0,Vw());break;case Ta:for(t=0;t<tu;t++)if(r_(yw-1,bw-t,Pw[0])){Dw(),yw--,bw-=t,Vw();break}break;case Oa:for(t=0;t<tu;t++)if(r_(yw+1,bw-t,Pw[0])){Dw(),yw++,bw-=t,Vw();break}break;case xa:case Sa:case Pa:case Ga:Tr.gameSelectedOld=Tr.Main_gameSelected,Tw(),Tr.Main_gameSelected=document.getElementById(Pw[5]+yw+"_"+bw).getAttribute(pu),document.body.removeEventListener("keydown",Jw),Tr.Main_Go=_r,Tr.Games_return=!0,m_()}}var Hw=0,qw=0,zw=!1;function Xw(){$u(),Bu("label_refresh"),Tu("label_side_panel","icon-arrow-circle-left",I),Fu("top_bar_user",n),document.getElementById("top_lables").style.marginLeft="14%",document.getElementById("top_bar_live").style.display="none",document.getElementById("top_bar_featured").style.display="none",document.getElementById("top_bar_game").style.display="none",document.getElementById("top_bar_vod").style.display="none",document.getElementById("top_bar_clip").style.display="none",Kc.placeholder=w,Uu("top_bar_user","icon_center_focus"),Ou("search_scroll"),qw=Hw=0,Yw(),Zw()}function jw(){Kw(!1),document.body.removeEventListener("keydown",Qw),Yw(),Tr.Main_Go=Tr.Main_BeforeSearch,document.getElementById("top_lables").style.marginLeft="18.5%",Fu("top_bar_user",u),Ru("top_bar_user","icon_center_focus"),Tu("label_side_panel","icon-ellipsis",Rn),Ou("label_refresh"),document.getElementById("top_bar_live").style.display="inline-block",document.getElementById("top_bar_featured").style.display="inline-block",document.getElementById("top_bar_game").style.display="inline-block",document.getElementById("top_bar_vod").style.display="inline-block",document.getElementById("top_bar_clip").style.display="inline-block",Kc.value="",Bu("search_scroll")}function Ww(){jw(),of(function(){qw?1===qw?Lw():2===qw&&gk():aw()})}function Yw(){Ru("chanel_button","button_search_focused"),Ru("game_button","button_search_focused"),Ru("live_button","button_search_focused"),Hw&&(qw?1===qw?Uu("game_button","button_search_focused"):2===qw&&Uu("live_button","button_search_focused"):Uu("chanel_button","button_search_focused"))}function Qw(e){if(!zw)switch(e.keyCode){case Ua:s_()?o_():n_()?t_():(jw(),m_());break;case La:1===Hw&&(--qw<0&&(qw=2),Yw());break;case Ba:1===Hw&&(2<++qw&&(qw=0),Yw());break;case Ta:1===Hw&&(Hw=0,Yw(),Zw());break;case Oa:Hw?1===Hw&&(Hw=0,Yw(),Zw()):(Kw(!1),Hw=1,Yw());break;case xa:case Sa:case Pa:case Ga:Hw?""!==Kc.value&&null!==Kc.value?(Tr.Search_data=Kc.value,Kc.value="",Ww()):(Ku(s),window.setTimeout(function(){$u()},1e3)):Zw()}}function Zw(){document.body.removeEventListener("keydown",Qw),document.body.addEventListener("keydown",ek,!1),Kc.placeholder=w,Kc.focus(),zw=!0}function Kw(e){Kc.blur(),$w(),document.body.removeEventListener("keydown",ek),Kc.placeholder=C+w,e&&document.body.addEventListener("keydown",Qw,!1),zw=!1}function $w(){if(null!==Kc){var e=Kc.cloneNode(!0);Kc.parentNode.replaceChild(e,Kc),Kc=document.getElementById("search_input")}}function ek(e){switch(e.keyCode){case Ua:n_()?t_():s_()?o_():(jw(),m_());break;case Va:Kc.value="";break;case Na:case Oa:Kw(!0),Hw=1,Yw();break;case Ra:Kc.value=Kc.value.slice(0,-1);break;case Fa:Kc.value+=" "}}var tk=0,nk=0,ak=!1,ik=0,ok={},sk=[],dk=!1,lk=0,ck=5,rk=3500,uk=0,_k=0,fk=!1,mk=!1,hk=!1,pk="",vk=["sl_thumbdiv","sl_img","sl_infodiv","sl_displayname","sl_streamtitle","sl_streamgame","sl_viwers","sl_quality","sl_cell","slempty_","search_live_scroll"];function gk(){Tr.Main_CenterLablesVectorPos=1,Tr.Main_Go=gr,Tr.Search_isSearching=!0,b_(),pk!==Tr.Search_data&&(mk=!1),Nu("top_bar_user",n+w_(_+" '"+Tr.Search_data+"'")),document.body.addEventListener("keydown",Lk,!1),mk?(x_(tk),Ou(vk[10]),xk(),p_()):bk()}function yk(){y_(),document.body.removeEventListener("keydown",Lk),Bu(vk[10])}function bk(){E_("stream_table_search_live"),Bu(vk[10]),Du(),$u(),pk=Tr.Search_data,mk=!1,bf=!(hk=!(sk=[])),tk=nk=ik=_k=uk=0,ak=!(ok={}),Wu(),wk(),kk()}function wk(){I_(),dk=!0,lk=0,rk=3500}function kk(){var e=ik+uk;e&&_k-1<e&&(e=_k-Zr,ak=!0);var t="https://api.twitch.tv/kraken/search/streams?query="+encodeURIComponent(Tr.Search_data)+"&limit="+Zr+"&offset="+e;ku&&!ik?Uf(t,rk,2,null,Ck,Ak):Rf(t,rk,2,null,Ck,Ak,!1)}function Ak(){++lk<ck?(rk+=500,kk()):(dk=!1,ik?(ak=!0,Ek()):(bf=!1,Ju(),Ku(P)))}function Ck(e){var t=JSON.parse(e),n=t.streams.length;_k=parseInt(t._total),n<Zr&&(ak=!0);var a=ik;fk=!(ik+=n);var i=n/Kr;0<n%Kr&&i++;for(var o,s,d,l,c,r=0,u=document.getElementById("stream_table_search_live"),_=0;_<i;_++){for(s=a/Kr+_,d=document.createElement("tr"),o=0;o<Kr&&r<n;o++,r++)c=(l=t.streams[r]).channel._id,ok[c]?o--:(ok[c]=1,d.appendChild(U_(s,s+"_"+o,[l.channel.name,c],vk,[l.preview.template.replace("{width}x{height}",fu),c_(JSON.stringify(l.stream_type))+l.channel.display_name,l.channel.status,l.game,y+Np(l.created_at)+" "+h+d_(l.viewers)+D,l_(l.video_height,l.average_fps,l.channel.broadcaster_language)])));for(;o<Kr;o++)ak&&!hk&&(hk=!0,ik=s*Kr+o),d.appendChild(T_(vk[9]+s+"_"+o)),sk.push(vk[9]+s+"_"+o);u.appendChild(d)}Ek()}function Ek(){if(mk){if(M_(Ma),0<sk.length&&!ak)return wk(),void Mk();xk(!0),sk=[]}else fk?Ku(d):(mk=!0,M_(Ma),xk(),p_()),Ou(vk[10]),bf=!1,Ju();dk=!1}function Mk(){Zu(sk.length);var e=ik+uk;e&&_k-1<e&&(e=_k-su,ak=!0),Of("https://api.twitch.tv/kraken/search/streams?query="+encodeURIComponent(Tr.Search_data)+"&limit="+su+"&offset="+e,rk,2,null,Sk,Ik)}function Ik(){++lk<ck?(rk+=500,Mk()):(ak=!0,ik-=sk.length,sk=[],Ek())}function Sk(e){var t,n,a=JSON.parse(e),i=a.streams.length,o=0,s=0,d=[];for(_k=parseInt(a._total),i<su&&(ak=!0);o<sk.length&&s<i;o++,s++)n=(t=a.streams[s]).channel._id,ok[n]?o--:(ok[n]=1,R_(sk[o],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",fu),c_(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+Np(t.created_at)+" "+h+d_(t.viewers)+D,l_(t.video_height,t.average_fps,t.channel.broadcaster_language)],vk),d.push(o));for(o=d.length-1;-1<o;o--)sk.splice(d[o],1);uk+=s,ak&&(ik-=sk.length,sk=[]),Ek()}function xk(e){X_(tk,nk,vk,Kr,ik,e),ik/Kr<tk+$r&&!ak&&!dk&&(wk(),kk()),Gr&&Pk()}function Pk(){ik&&tf(tk+"_"+nk,vk)}function Lk(e){var t;if(!bf&&!q_())switch(H_(),e.keyCode){case Ua:s_()?o_():n_()?t_():(Pk(),kf(Lk));break;case La:if(r_(tk,nk-1,vk[0]))Pk(),nk--,xk();else for(t=Kr-1;-1<t;t--)if(r_(tk-1,t,vk[0])){Pk(),tk--,nk=t,xk();break}break;case Ba:r_(tk,nk+1,vk[0])?(Pk(),nk++,xk()):r_(tk+1,0,vk[0])&&(Pk(),tk++,nk=0,xk());break;case Ta:for(t=0;t<Kr;t++)if(r_(tk-1,nk-t,vk[0])){Pk(),tk--,nk-=t,xk();break}break;case Oa:for(t=0;t<Kr;t++)if(r_(tk+1,nk-t,vk[0])){Pk(),tk++,nk-=t,xk();break}break;case xa:case Sa:case Pa:case Ga:Y_(tk+"_"+nk,vk,Lk)}}var Tk=0,Bk={restor_playback:{values:["off","on"],defaultValue:2},chat_font_size:{values:["60%","80%","100%","120%","140%"],defaultValue:3},chat_brightness:{values:["0%","5%","10%","15%","20%","25%","30%","35%","40%","45%","50%","55%","60%","65%","70%","75%","80%","85%","90%","95%","100%"],defaultValue:11},force_disable_chat:{values:["off","on"],defaultValue:2},buffer_live:{values:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],defaultValue:4},buffer_vod:{values:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],defaultValue:4},buffer_clip:{values:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],defaultValue:3},videos_animation:{values:["off","on"],defaultValue:2},clock_offset:{values:Ok(),defaultValue:49},content_lang:{values:["All"],set_values:[""],defaultValue:1}};function Ok(){for(var e=[],t=43200,n=0;n<48;n++)e.push("-"+Up(t)),t-=900;for(e.push(Up(0)),t=900,n=0;n<48;n++)e.push(Up(t)),t+=900;return e}var Gk=[],Uk=0;function Rk(){f_(),Bu("label_side_panel"),Tu("label_refresh","icon-arrow-circle-left",ia),document.body.addEventListener("keydown",nA,!1),Fu("top_bar_user",a),document.getElementById("top_lables").style.marginLeft="14%",document.getElementById("top_bar_live").style.display="none",document.getElementById("top_bar_featured").style.display="none",document.getElementById("top_bar_game").style.display="none",document.getElementById("top_bar_vod").style.display="none",document.getElementById("top_bar_clip").style.display="none",Uu("top_bar_user","icon_center_focus"),Ou("settings_scroll"),Yk(Tk=0),Hk("content_lang",jn,iA)}function Nk(){document.body.removeEventListener("keydown",nA),Ou("label_side_panel"),Qk(),Fu("top_bar_user",u),document.getElementById("top_lables").style.marginLeft="18.5%",document.getElementById("top_bar_live").style.display="inline-block",document.getElementById("top_bar_featured").style.display="inline-block",document.getElementById("top_bar_game").style.display="inline-block",document.getElementById("top_bar_vod").style.display="inline-block",document.getElementById("top_bar_clip").style.display="inline-block",Ru("top_bar_user","icon_center_focus"),Tu("label_refresh","icon-refresh",t+jt),Bu("settings_scroll")}function Fk(){var e,t="";t+=Vk("general",gn),e="content_lang",Gk.push(e),Bk[e].values=[Wn],t+=Jk(e,jn,""),e="clock_offset",Gk.push(e),t+=Dk(e,zn),e="restor_playback",Gk.push(e),Bk[e].values=[Pn,xn],t+=Jk(e,Ln,Tn),e="videos_animation",Gk.push(e),Bk[e].values=[Pn,xn],t+=Dk(e,Un),t+=Vk("play",_n),e="chat_font_size",Gk.push(e),t+=Jk(e,Bn,On),e="chat_brightness",Gk.push(e),t+=Dk(e,aa),e="force_disable_chat",Gk.push(e),Bk[e].values=[Jt,L],t+=Jk(e,ta,na),t+='<div id="setting_title_buffers" class="settings_title">'+fn+'</div><div id="setting_title_buffers_summary" class="settings_summary">'+mn+"</div>",e="buffer_live",Gk.push(e),t+=Dk(e,hn),e="buffer_vod",Gk.push(e),t+=Dk(e,pn),e="buffer_clip",Gk.push(e),Nu("settings_main",t+=Dk(e,vn)),Uk=Gk.length,_A()}function Vk(e,t){return'<div id="setting_title_'+e+'" class="settings_section">'+t+"</div>"}function Dk(e,t){return'<div id="'+e+'_div" class="settings_div"><div id="'+e+'_name" class="settings_name">'+t+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_left" class="left"></div></div><div id="'+e+'" class="strokedextramini settings_value">'+Xk(e)+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_right" class="right"></div></div></div>'}function Jk(e,t,n){return'<div id="'+e+'_div" class="settings_div"><div id="'+e+'_name" class="settings_name">'+t+'<div id="'+e+'_summary" class="settings_summary" style="font-size: 65%;">'+n+'</div></div><div class="settings_arraw_div"><div id="'+e+'arrow_left" class="left"></div></div><div id="'+e+'" class="strokedextramini settings_value">'+Xk(e)+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_right" class="right"></div></div></div>'}function Hk(e,t,n){Nu(e+"_name",t+'<div id="'+e+'_summary" class="settings_summary" style="font-size: 65%;">'+n+"</div>")}function qk(){var e="";for(e in Fu("setting_title_general",gn),Fu((e="clock_offset")+"_name",zn),Fu((e="content_lang")+"_name",jn),Fu(e,Xk(e)),Bk[e].values=[Wn],Fu("setting_title_play",_n),Fu("setting_title_buffers",fn),Fu("setting_title_buffers_summary",mn),Fu((e="buffer_live")+"_name",hn),Fu((e="buffer_vod")+"_name",pn),Fu((e="buffer_clip")+"_name",vn),Hk(e="restor_playback",Ln,Tn),Bk[e].values=[Pn,xn],Hk(e="chat_font_size",Bn,On),Hk(e="force_disable_chat",ta,na),Bk[e].values=[Pn,xn],Fu((e="videos_animation")+"_name",Un),Bk[e].values=[Pn,xn],Fu((e="chat_brightness")+"_name",aa),Bk)Bk.hasOwnProperty(e)&&Fu(e,Xk(e));uA()}function zk(){for(var e in Bk)Bk[e].defaultValue=xf(e,Bk[e].defaultValue),Bk[e].defaultValue-=1,Bk[e].defaultValue>Wk(e)&&(Bk[e].defaultValue=0);eA(0),tA(),Jm=(.05*jk("chat_brightness")).toFixed(2),JI=jk("videos_animation"),Tr.Play_ChatForceDisable=jk("force_disable_chat")}function Xk(e){return Bk[e].values[jk(e)]}function jk(e){return Bk[e].defaultValue}function Wk(e){return Bk[e].values.length-1}function Yk(e){var t=Gk[Tk];Uu(t,"settings_value_focus"),Uu(t+"_div","settings_div_focus"),Kk(e)}function Qk(){var e=Gk[Tk];document.getElementById(e+"arrow_left").style.opacity="0",document.getElementById(e+"arrow_right").style.opacity="0",Ru(e,"settings_value_focus"),Ru(e+"_div","settings_div_focus")}function Zk(e){var t=Gk[e];Sf(t,jk(t)+1),Fu(t,Xk(t)),Kk(e),$k(e)}function Kk(e){var t=Gk[e];if(Wk(t)){var n=jk(t),a=Wk(t);0<n&&n<a?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="1"):n===a?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="0.2"):(document.getElementById(t+"arrow_left").style.opacity="0.2",document.getElementById(t+"arrow_right").style.opacity="1")}}function $k(e){"videos_animation"===(e=Gk[e])?JI=jk("videos_animation"):"buffer_live"===e?eA(1):"buffer_vod"===e?eA(2):"buffer_clip"===e?eA(3):"chat_brightness"===e?(Jm=(.05*jk("chat_brightness")).toFixed(2),vv(!1)):"force_disable_chat"===e?Tr.Play_ChatForceDisable=jk("force_disable_chat"):"chat_font_size"===e?ip():"clock_offset"===e&&(tA(),lf())}function eA(e){try{e?1===e?(Zm=1e3*Xk("buffer_live"),ku&&Android.SetBuffer(1,Zm)):2===e?(pg=1e3*Xk("buffer_vod"),ku&&Android.SetBuffer(2,pg)):3===e&&(dm=1e3*Xk("buffer_clip"),ku&&Android.SetBuffer(3,dm)):(Zm=1e3*Xk("buffer_live"),pg=1e3*Xk("buffer_vod"),dm=1e3*Xk("buffer_clip"),ku&&(Android.SetBuffer(1,Zm),Android.SetBuffer(2,pg),Android.SetBuffer(3,dm)))}catch(e){}}function tA(){var e=jk("clock_offset");wu=e<48?-9e5*(48-e):9e5*(e-48)}function nA(e){var t;switch(e.keyCode){case Ua:n_()?t_():s_()?o_():(Nk(),m_());break;case La:0<jk(t=Gk[Tk])&&(Bk[t].defaultValue-=1,Zk(Tk));break;case Ba:jk(t=Gk[Tk])<Wk(t)&&(Bk[t].defaultValue+=1,Zk(Tk));break;case Ta:0<Tk&&(Qk(),Yk(--Tk));break;case Oa:Tk<Uk-1&&(Qk(),Yk(++Tk));break;case Ga:Tk||lA()}}var aA=0,iA="",oA={All:{values:["off","on"],defaultValue:2,set_values:""},"Dansk [DA]":{values:["off","on"],defaultValue:1,set_values:"da"},"Deutsch [DE]":{values:["off","on"],defaultValue:1,set_values:"de"},"English [EN]":{values:["off","on"],defaultValue:1,set_values:"en,en-gb"},"Espaol [ES]":{values:["off","on"],defaultValue:1,set_values:"es,es-mx"},"Franais [FR]":{values:["off","on"],defaultValue:1,set_values:"fr"},"Italiano [IT]":{values:["off","on"],defaultValue:1,set_values:"it"},"Magyar [HU]":{values:["off","on"],defaultValue:1,set_values:"hu"},"Nederlands [NL]":{values:["off","on"],defaultValue:1,set_values:"nl"},"Norsk [NO]":{values:["off","on"],defaultValue:1,set_values:"no"},"Polski [PL]":{values:["off","on"],defaultValue:1,set_values:"pl"},"Portugus [PT]":{values:["off","on"],defaultValue:1,set_values:"pt,pt-br"},"Slovenina [SK]":{values:["off","on"],defaultValue:1,set_values:"sk"},"Suomi [FI]":{values:["off","on"],defaultValue:1,set_values:"fi"},"Svenska [SV]":{values:["off","on"],defaultValue:1,set_values:"sv"},"Ting Vit [VI]":{values:["off","on"],defaultValue:1,set_values:"vi"},"Trke [TR]":{values:["off","on"],defaultValue:1,set_values:"tr"},"etina [CS]":{values:["off","on"],defaultValue:1,set_values:"cs"}," [EL]":{values:["off","on"],defaultValue:1,set_values:"el"}," [RU]":{values:["off","on"],defaultValue:1,set_values:"ru"}," [TH]":{values:["off","on"],defaultValue:1,set_values:"th"}," [ZH]":{values:["off","on"],defaultValue:1,set_values:"zh-cn,zh-tw"}," [JA]":{values:["off","on"],defaultValue:1,set_values:"ja"}," [KO]":{values:["off","on"],defaultValue:1,set_values:"ko"},"Romn [RO]":{values:["off","on"],defaultValue:1,set_values:"ro"}},sA=[],dA=0;function lA(){f_(),document.body.removeEventListener("keydown",nA),Bu("settings_main"),Ou("settings_lang"),AA(),Fu("top_bar_featured",yn),document.getElementById("top_bar_featured").style.display="inline-block",document.body.addEventListener("keydown",CA,!1),gA(aA=0),rA()}function cA(){document.body.removeEventListener("keydown",CA),document.body.addEventListener("keydown",nA,!1),document.getElementById("settings_scroll").style.top=.085*screen.height+"px",Ou("settings_main"),Bu("settings_lang"),Fu("top_bar_featured",an),document.getElementById("top_bar_featured").style.display="none",yA(),uA(),rA()}function rA(){""===Hr&&(iA=Yn,oA.All.defaultValue=1,wA(0),Uu(sA[0],"strokedextraminired"),AA()),Hk("content_lang",jn,iA)}function uA(){if(Hr="",!pA("All")){for(var e in oA)pA(e)&&(Hr+=","+oA[e].set_values);Hr=Hr.slice(1)}iA=""===Hr?Yn:Hr.toUpperCase()}function _A(){var e="";for(var t in oA)sA.push(t),oA[t].values=[L,Jt],e+=fA(t,t);Nu("settings_lang",e),dA=sA.length}function fA(e,t){return'<div id="'+e+'_div" class="settings_div"><div id="'+e+'_name" class="settings_name">'+t+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_left" class="left"></div></div><div id="'+e+'" class="'+(pA(e)?"strokedextraminired ":"")+'strokedextramini settings_value">'+hA(e)+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_right" class="right"></div></div></div>'}function mA(){for(var e in oA)oA[e].defaultValue=xf(e,oA[e].defaultValue),oA[e].defaultValue-=1;uA()}function hA(e){return oA[e].values[pA(e)]}function pA(e){return oA[e].defaultValue}function vA(e){return oA[e].values.length-1}function gA(e){var t=sA[aA];Uu(t,"settings_value_focus"),Uu(t+"_div","settings_div_focus"),kA(e),bA(t)}function yA(){var e=sA[aA];document.getElementById(e+"arrow_left").style.opacity="0",document.getElementById(e+"arrow_right").style.opacity="0",Ru(e,"settings_value_focus"),Ru(e+"_div","settings_div_focus")}function bA(){var e=screen.height;7<aA?(e*=.093,e+=-1*document.getElementById(sA[aA-7]).offsetTop):e*=.077,aA<18&&(document.getElementById("settings_scroll").style.top=e+"px")}function wA(e){var t=sA[e];Sf(t,pA(t)+1),Fu(t,hA(t)),kA(e)}function kA(e){var t=sA[e],n=pA(t),a=vA(t);0<n&&n<a?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="1"):n===a?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="0.2"):(document.getElementById(t+"arrow_left").style.opacity="0.2",document.getElementById(t+"arrow_right").style.opacity="1")}function AA(){for(var e in oA)-1===e.indexOf("All")&&(document.getElementById(e+"_div").style.display=pA("All")?"none":"inline-block")}function CA(e){var t;switch(e.keyCode){case Ua:cA();break;case La:0<pA(t=sA[aA])&&(oA[t].defaultValue-=1,wA(aA),Ru(sA[aA],"strokedextraminired"),-1!==t.indexOf("All")&&AA());break;case Ba:pA(t=sA[aA])<vA(t)&&(oA[t].defaultValue+=1,wA(aA),Uu(sA[aA],"strokedextraminired"),-1!==t.indexOf("All")&&AA());break;case Ta:0<aA&&(yA(),gA(--aA));break;case Oa:!pA("All")&&aA<dA-1&&(yA(),gA(++aA))}}var EA=0,MA=0,IA=!1,SA=0,xA=!1,PA=0,LA=5,TA=3500,BA=[],OA=0,GA=0,UA=!1,RA=!1,NA="",FA=!1,VA={},DA=[],JA=0,HA=["uc_thumbdiv","uc_img","uc_infodiv","uc_displayname","uc_cell","ucempty_","user_channels_scroll"];function qA(){Tr.Main_CenterLablesVectorPos=1,Tr.Main_Go=Ar,Tr.isLastSChannels=!1,Tu("label_side_panel","icon-arrow-circle-left",I),Uu("top_bar_user","icon_center_focus"),Nu("top_bar_user",u+w_(Ji[Tr.Users_Position].name+K)),document.body.addEventListener("keydown",iC,!1),NA!==Ji[Tr.Users_Position].name&&(RA=!1),RA?(x_(EA),Ou(HA[6]),nC(),p_()):XA()}function zA(){Tr.Users_Position=0,Ru("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",iC),Fu("top_bar_user",u),Tu("label_side_panel","icon-ellipsis",Rn),Bu(HA[6])}function XA(){E_("stream_table_user_channels"),Bu(HA[6]),Du(),$u(),NA=Ji[Tr.Users_Position].name,RA=!1,VA={},EA=MA=SA=JA=OA=GA=0,bf=!(FA=IA=!(DA=[])),Wu(),BA=[],jA(),WA()}function jA(){I_(),xA=!0,PA=0,TA=3500}function WA(){var e=SA+GA;e&&JA-1<e&&(e=JA-au,IA=!0);var t="https://api.twitch.tv/kraken/users/"+encodeURIComponent(Ji[Tr.Users_Position].id)+"/follows/channels?limit="+au+"&offset="+e+"&sortby=login&direction=asc";ku&&!SA?Uf(t,TA,2,null,QA,YA):Rf(t,TA,2,null,QA,YA,!1)}function YA(){++PA<LA?(TA+=500,WA()):(xA=!1,SA?(IA=!0,KA()):(bf=!1,Ju(),Ku(P)))}function QA(e){var t=JSON.parse(e),n=t.follows.length;JA=parseInt(t._total),n<au&&(IA=!0);var a=SA;UA=!(SA+=n);var i=n/iu;0<n%iu&&i++;for(var o,s,d,l,c,r=0,u=document.getElementById("stream_table_user_channels"),_=0;_<i;_++){for(s=a/iu+_,d=document.createElement("tr"),o=0;o<iu&&r<n;o++,r++)c=(l=t.follows[r].channel)._id,VA[c]?o--:(VA[c]=1,d.appendChild(ZA(s,s+"_"+o,[l.name,c,l.logo,l.display_name])));for(;o<iu;o++)IA&&!FA&&(FA=!0,SA=s*iu+o),d.appendChild(T_(HA[5]+s+"_"+o)),DA.push(HA[5]+s+"_"+o);u.appendChild(d)}KA()}function ZA(e,t,n){return e<4&&L_(n[2]),B_(t,HA,n)}function KA(){if(RA){if(M_(Ea),0<DA.length&&!IA)return jA(),void $A();nC(!0),DA=[]}else UA?Ku(L+K):(RA=!0,M_(Ea),nC(),p_()),Ou(HA[6]),bf=!1,Ju();xA=!1}function $A(){Zu(DA.length);var e=SA+GA;e&&JA-1<e&&(e=JA-su,IA=!0),Of("https://api.twitch.tv/kraken/users/"+encodeURIComponent(Ji[Tr.Users_Position].id)+"/follows/channels?limit="+su+"&offset="+OA+"&sortby=login&direction=asc",TA,2,null,tC,eC)}function eC(){++PA<LA?(TA+=500,$A()):(IA=!0,SA-=DA.length,DA=[],KA())}function tC(e){var t,n,a=JSON.parse(e),i=a.follows.length,o=0,s=0,d=[];for(JA=parseInt(a._total),i<su&&(IA=!0);o<DA.length&&s<i;o++,s++)n=(t=a.follows[s].channel)._id,VA[n]?o--:(VA[n]=1,O_(DA[o],[t.name,n,t.logo,t.display_name],HA),d.push(o));for(o=d.length-1;-1<o;o--)DA.splice(d[o],1);GA+=s,IA&&(SA-=DA.length,DA=[]),KA()}function nC(e){z_(EA,MA,HA,iu,SA,e),SA/iu<EA+ou&&!IA&&!xA&&(jA(),WA()),Gr&&aC()}function aC(){SA&&tf(EA+"_"+MA,HA)}function iC(e){var t;if(!bf&&!q_())switch(H_(),e.keyCode){case Ua:s_()?o_():n_()?t_():(aC(),kf(iC));break;case La:if(r_(EA,MA-1,HA[0]))aC(),MA--,nC();else for(t=iu-1;-1<t;t--)if(r_(EA-1,t,HA[0])){aC(),EA--,MA=t,nC();break}break;case Ba:r_(EA,MA+1,HA[0])?(aC(),MA++,nC()):r_(EA+1,0,HA[0])&&(aC(),EA++,MA=0,nC());break;case Ta:for(t=0;t<iu;t++)if(r_(EA-1,MA-t,HA[0])){aC(),EA--,MA-=t,nC();break}break;case Oa:for(t=0;t<iu;t++)if(r_(EA+1,MA-t,HA[0])){aC(),EA++,MA-=t,nC();break}break;case xa:case Sa:case Pa:case Ga:Tr.Main_selectedChannel=document.getElementById(HA[4]+EA+"_"+MA).getAttribute(pu),Tr.Main_selectedChannel_id=document.getElementById(HA[4]+EA+"_"+MA).getAttribute("data-id"),Tr.Main_selectedChannelDisplayname=document.getElementById(HA[3]+EA+"_"+MA).textContent,Tr.Main_selectedChannelLogo=document.getElementById(HA[1]+EA+"_"+MA).src,document.body.removeEventListener("keydown",iC),Tr.Main_BeforeChannel=Ar,Tr.Main_Go=yr,Tr.Main_BeforeChannelisSet=!0,Xs=Xa=!0,Bu(HA[6]),m_()}}var oC=0,sC=0,dC=!1,lC=0,cC={},rC=[],uC=!1,_C=0,fC=5,mC=3500,hC=0,pC=0,vC=!1,gC=["uh_thumbdiv","uh_img","uh_infodiv","uh_displayname","uh_hosttitle","uh_hostgame","uh_viwers","uh_quality","uh_cell","uhempty_","user_host_scroll"],yC=!1,bC="",wC=!1;function kC(){Tr.Main_CenterLablesVectorPos=1,Tr.Main_Go=mr,Tu("label_side_panel","icon-arrow-circle-left",I),Uu("top_bar_user","icon_center_focus"),Nu("top_bar_user",u+w_(Ji[Tr.Users_Position].name+Q)),document.body.addEventListener("keydown",GC,!1),bC!==Ji[Tr.Users_Position].name&&(yC=!1),yC?(x_(oC),Ou(gC[10]),BC(),p_()):CC()}function AC(){Tr.Users_Position=0,Ru("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",GC),Fu("top_bar_user",u),Tu("label_side_panel","icon-ellipsis",Rn),Bu(gC[10])}function CC(){E_("stream_table_user_host"),Bu(gC[10]),Du(),$u(),bC=Ji[Tr.Users_Position].name,yC=!1,cC={},bf=!(lC=pC=hC=0),oC=sC=0,dC=wC=!(rC=[]),Wu(),EC(),MC()}function EC(){I_(),uC=!0,_C=0,mC=3500}function MC(){var e=lC+hC;e&&pC-1<e&&(e=pC-Zr,dC=!0),Gf("https://api.twitch.tv/api/users/"+encodeURIComponent(Ji[Tr.Users_Position].name)+"/followed/hosting?limit="+Zr+"&offset="+e,mC,2,null,SC,IC,!1,!lC)}function IC(){++_C<fC?(mC+=500,MC()):(uC=!1,lC?(dC=!0,xC()):(bf=!1,Ju(),Ku(P)))}function SC(e){var t=JSON.parse(e),n=t.hosts.length;pC=parseInt(t._total),n<Zr&&(dC=!0);var a=lC;vC=!(lC+=n);var i=n/Kr;0<n%Kr&&i++;for(var o,s,d,l,c,r=0,u=document.getElementById("stream_table_user_host"),_=0;_<i;_++){for(s=a/Kr+_,d=document.createElement("tr"),o=0;o<Kr&&r<n;o++,r++)c=(l=t.hosts[r]).target._id+""+l._id,cC[c]?o--:(cC[c]=1,d.appendChild(U_(s,s+"_"+o,[l.target.channel.name,l.target._id],gC,[l.target.preview_urls.template.replace("{width}x{height}",fu),l.display_name+ne+l.target.channel.display_name,l.target.title,l.target.meta_game,h.charAt(1).toUpperCase()+h.slice(2)+d_(l.target.viewers)+D,""])));for(;o<Kr;o++)dC&&!wC&&(wC=!0,lC=s*Kr+o),d.appendChild(T_(gC[9]+s+"_"+o)),rC.push(gC[9]+s+"_"+o);u.appendChild(d)}xC()}function xC(){if(yC){if(M_(Ma),0<rC.length&&!dC)return EC(),void PC();BC(!0),rC=[]}else vC?Ku(L+Q):(yC=!0,BC(),M_(Ma),p_()),Ou(gC[10]),bf=!1,Ju();uC=!1}function PC(){Zu(rC.length);var e=lC+hC;e&&pC-1<e&&(e=pC-su,dC=!0),Of("https://api.twitch.tv/api/users/"+encodeURIComponent(Ji[Tr.Users_Position].name)+"/followed/hosting?limit="+su+"&offset="+e,mC,2,null,TC,LC)}function LC(){++_C<fC?(mC+=500,PC()):(dC=!0,lC-=rC.length,rC=[],xC())}function TC(e){var t,n,a=JSON.parse(e),i=a.streams.length,o=0,s=0,d=[];for(pC=parseInt(a._total),i<su&&(dC=!0);o<rC.length&&s<i;o++,s++)n=(t=a.hosts[s]).target._id+""+t._id,cC[n]?o--:(cC[n]=1,R_(rC[o],[t.target.channel.name,t.target._id],[t.target.preview_urls.template.replace("{width}x{height}",fu),t.display_name+ne+t.target.channel.display_name,t.target.title,t.target.meta_game,h.charAt(1).toUpperCase()+h.slice(2)+d_(t.target.viewers)+D,""],gC),d.push(o));for(o=d.length-1;-1<o;o--)rC.splice(d[o],1);hC+=s,dC&&(lC-=rC.length,rC=[]),xC()}function BC(e){X_(oC,sC,gC,Kr,lC,e),lC/Kr<oC+$r&&!dC&&!uC&&(EC(),MC()),Gr&&OC()}function OC(){lC&&tf(oC+"_"+sC,gC)}function GC(e){var t;if(!bf&&!q_())switch(H_(),e.keyCode){case Ua:s_()?o_():n_()?t_():(OC(),kf(GC));break;case La:if(r_(oC,sC-1,gC[0]))OC(),sC--,BC();else for(t=Kr-1;-1<t;t--)if(r_(oC-1,t,gC[0])){OC(),oC--,sC=t,BC();break}break;case Ba:r_(oC,sC+1,gC[0])?(OC(),sC++,BC()):r_(oC+1,0,gC[0])&&(OC(),oC++,sC=0,BC());break;case Ta:for(t=0;t<Kr;t++)if(r_(oC-1,sC-t,gC[0])){OC(),oC--,sC-=t,BC();break}break;case Oa:for(t=0;t<Kr;t++)if(r_(oC+1,sC-t,gC[0])){OC(),oC++,sC-=t,BC();break}break;case xa:case Sa:case Pa:case Ga:Y_(oC+"_"+sC,gC,GC)}}var UC,RC=!1,NC=0,FC=3500,VC=0,DC=5,JC=0,HC=!1,qC="",zC=0,XC={},jC=!1,WC=[],YC=null,QC=null,ZC=["ulf_thumbdiv","ulf_img","ulf_infodiv","ulf_displayname","ulf_streamtitle","ulf_streamgame","ulf_viwers","ulf_quality","ulf_cell","ulempty_","user_live_scroll"];function KC(){io()&&(pE(),jC?AE(Qm,ZC[0])&&(YC=JSON.parse(document.getElementById(ZC[8]+Qm).getAttribute(pu))[0]):YC=null,E_("user_feed_scroll"),jC=!1,document.getElementById("user_feed_scroll").style.left="2.5px",document.getElementById("user_feed").style.bottom="0.1%",Ou("dialog_loading_feed"),qC="",Qm=zC=JC=VC=0,XC={},WC=[],of(function(){nE(),$C()}))}function $C(){(QC=Ji[Tr.Users_Position].access_token)?(QC=uu+QC,sE()):(nE(),QC=null,aE())}function eE(e){for(var t,n=0;n<WC.length;n++)null!==(t=document.getElementById(WC[n].id))&&Eu(t,WC[n].src+Au,e)}function tE(e,t){WC.push({id:e,src:t})}function nE(){RC=!0,NC=0,FC=3500}function aE(){Rf("https://api.twitch.tv/kraken/users/"+encodeURIComponent(Ji[Tr.Users_Position].id)+"/follows/channels?limit=100&offset="+VC+"&sortby=created_at",FC,2,null,oE,iE,!1)}function iE(){++NC<DC?(FC+=500,aE()):(RC=!1,JC?(HC=!0,rE()):(Bu("dialog_loading_feed"),_E()&&(jp(P),window.setTimeout(function(){Wp()},2e3))))}function oE(e){var t=JSON.parse(e).follows,n=t.length;if(n){for(var a="",i=0;i<n;i++)a=t[i].channel._id+",",-1===qC.indexOf(a)&&(qC+=a);VC+=n,nE(),aE()}else qC=qC.slice(0,-1),nE(),of(sE)}function sE(){var e="https://api.twitch.tv/kraken/streams/";e+=QC?"followed?":"?channel="+encodeURIComponent(qC)+"&",dE(e+="limit=100&offset=0&stream_type=all")}function dE(e){var t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=FC,t.setRequestHeader(lu,du),t.setRequestHeader(cu,_u),QC&&t.setRequestHeader(ru,QC),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?cE(t.responseText):!QC||401!==t.status&&403!==t.status?lE():ei(Tr.Users_Position,0,sE,$C))},t.send(null)}function lE(){++NC<DC?(FC+=500,sE()):(RC=!1,Bu("dialog_loading_feed"),_E()&&(jp(P),window.setTimeout(function(){Wp()},2e3)))}function cE(e){var t=JSON.parse(e),n=t.streams.length;n<Zr&&(HC=!0),JC+=n;for(var a,i,o=document.getElementById("user_feed_scroll"),s=0;s<n;s++)i=(a=t.streams[s]).channel._id,XC[i]||(XC[i]=1,null!==YC&&YC===a.channel.name&&(Qm=s),o.appendChild(uE(s,[a.channel.name,i],ZC,[a.preview.template.replace("{width}x{height}",fu),c_(JSON.stringify(a.stream_type))+a.channel.display_name,a.channel.status,a.game,y+Np(a.created_at)+" "+h+d_(a.viewers)+D,l_(a.video_height,a.average_fps,a.channel.broadcaster_language)])));rE()}function rE(){jC=!(RC=!1),eE(Ma),of(function(){Bu("dialog_loading_feed"),yE()})}function uE(e,t,n,a){return tE(n[1]+e,a[0]),(Dr=document.createElement("div")).setAttribute("id",n[8]+e),Dr.setAttribute(pu,JSON.stringify(t)),Dr.className="user_feed_thumb",Dr.innerHTML='<div id="'+n[0]+e+'" class="stream_thumbnail_clip" ><div><img id="'+n[1]+e+'" class="stream_img"></div><div id="'+n[2]+e+'" class="stream_text2"><div id="'+n[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;">'+a[1]+'</div><div id="'+n[5]+e+'"class="stream_info">'+v+a[3]+"</div></div></div>",Dr}function _E(){return Gu("user_feed")}function fE(){var e=io();e&&(Ym!==Ji[Tr.Users_Position].name&&(jC=!1),Ym=Ji[Tr.Users_Position].name),e&&AE(0,ZC[0])||(jC=!1),jC||RC||KC(),e&&(document.getElementById("user_feed").style.bottom="0.1%",Ou("user_feed"),yE())}function mE(){Bu("user_feed")}function hE(){pE(),vE()}function pE(){window.clearTimeout(UC)}function vE(){_E()&&(UC=window.setTimeout(mE,5500))}function gE(){pE(),RC?window.setTimeout(function(){RC=!1},15e3):KC()}function yE(){hE(),AE(Qm,ZC[0])&&(Uu(ZC[0]+Qm,"feed_thumbnail_focused"),_E()?wE():Gu("scene2")&&kE())}function bE(){return Qm<3?2.5:AE(Qm+2,ZC[0])?-1*document.getElementById(ZC[8]+(Qm-2)).offsetLeft:AE(Qm+1,ZC[0])?-1*document.getElementById(ZC[8]+(Qm-3)).offsetLeft:-1*document.getElementById(ZC[8]+(Qm-(3<Qm?4:3))).offsetLeft}function wE(){var e=bE();e&&(document.getElementById("user_feed_scroll").style.left=e+"px")}function kE(){document.getElementById("user_feed").style.bottom="-1000%",Ou("user_feed");var e=wE();e&&(document.getElementById("user_feed_scroll").style.left=e+"px"),document.getElementById("user_feed").style.bottom="0.1%",Bu("user_feed")}function AE(e,t){return null!==document.getElementById(t+e)}function CE(){AE(Qm,ZC[0])&&Ru(ZC[0]+Qm,"feed_thumbnail_focused")}var EE=0,ME=0,IE=!1,SE=0,xE={},PE=[],LE=!1,TE=0,BE=5,OE=3500,GE=0,UE=0,RE=0,NE=!1,FE=["ul_thumbdiv","ul_img","ul_infodiv","ul_displayname","ul_streamtitle","ul_streamgame","ul_viwers","ul_quality","ul_cell","ulempty_","user_live_scroll"],VE=!1,DE="",JE="",HE=!1,qE=null;function zE(){Tr.Main_CenterLablesVectorPos=1,Tr.Main_Go=fr,Tu("label_side_panel","icon-arrow-circle-left",I),Uu("top_bar_user","icon_center_focus"),Nu("top_bar_user",u+w_(Ji[Tr.Users_Position].name+Y)),document.body.addEventListener("keydown",cM,!1),JE!==Ji[Tr.Users_Position].name&&(VE=!1),VE?(x_(EE),Ou(FE[10]),dM(),p_()):jE()}function XE(){Tr.Users_Position=0,Ru("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",cM),Fu("top_bar_user",u),Tu("label_side_panel","icon-ellipsis",Rn),Bu(FE[10])}function jE(){E_("stream_table_user_live"),Bu(FE[10]),Du(),$u(),VE=!1,JE=Ji[Tr.Users_Position].name,bf=!(HE=!(PE=[])),EE=ME=SE=UE=GE=RE=0,IE=!(xE={}),DE="",Wu(),YE(),WE()}function WE(){(qE=Ji[Tr.Users_Position].access_token)?(qE=uu+qE,$E()):(qE=null,YE(),QE())}function YE(){I_(),LE=!0,TE=0,OE=3500}function QE(){Of("https://api.twitch.tv/kraken/users/"+encodeURIComponent(Ji[Tr.Users_Position].id)+"/follows/channels?limit=100&offset="+RE+"&sortby=created_at",OE,2,null,KE,ZE)}function ZE(){++TE<BE?(OE+=500,QE()):(LE=!1,SE?(IE=!0,aM()):(bf=!1,Ju(),Ku(P),kf(cM)))}function KE(e){var t=JSON.parse(e).follows,n=t.length;if(n){for(var a="",i=0;i<n;i++)a=t[i].channel._id+",",-1===DE.indexOf(a)&&(DE+=a);RE+=n,YE(),QE()}else DE=DE.slice(0,-1),YE(),$E()}function $E(){var e=SE+GE;e&&UE-1<e&&(e=UE-Zr,IE=!0);var t="https://api.twitch.tv/kraken/streams/";t+=qE?"followed?":"?channel="+encodeURIComponent(DE)+"&",eM(t+="limit="+Zr+"&offset="+e+"&stream_type=all",nM,tM,WE)}function eM(e,t,n,a){var i;if(ku&&!SE){if(!(i=Android.mreadUrl(e,OE,qE?3:2,qE)))return void dI();200===(i=JSON.parse(i)).status?t(i.responseText):!qE||401!==i.status&&403!==i.status?n():ei(Tr.Users_Position,0,a,n)}else(i=new XMLHttpRequest).open("GET",e,!0),i.timeout=OE,i.setRequestHeader(lu,du),i.setRequestHeader(cu,_u),qE&&i.setRequestHeader(ru,qE),i.ontimeout=function(){},i.onreadystatechange=function(){4===i.readyState&&(200===i.status?t(i.responseText):!qE||401!==i.status&&403!==i.status?n():ei(Tr.Users_Position,0,a,n))},i.send(null)}function tM(){++TE<BE?(OE+=500,$E()):(LE=!1,SE?(IE=!0,aM()):(bf=!1,Ju(),Ku(P),kf(cM)))}function nM(e){var t=JSON.parse(e),n=t.streams.length;UE=parseInt(t._total),n<Zr&&(IE=!0);var a=SE;NE=!(SE+=n);var i=n/Kr;0<n%Kr&&i++;for(var o,s,d,l,c,r=0,u=document.getElementById("stream_table_user_live"),_=0;_<i;_++){for(s=a/Kr+_,d=document.createElement("tr"),o=0;o<Kr&&r<n;o++,r++)c=(l=t.streams[r]).channel._id,xE[c]?o--:(xE[c]=1,d.appendChild(U_(s,s+"_"+o,[l.channel.name,c],FE,[l.preview.template.replace("{width}x{height}",fu),c_(JSON.stringify(l.stream_type))+l.channel.display_name,l.channel.status,l.game,y+Np(l.created_at)+" "+h+d_(l.viewers)+D,l_(l.video_height,l.average_fps,l.channel.broadcaster_language)])));for(;o<Kr;o++)IE&&!HE&&(HE=!0,SE=s*Kr+o),d.appendChild(T_(FE[9]+s+"_"+o)),PE.push(FE[9]+s+"_"+o);u.appendChild(d)}aM()}function aM(){if(VE){if(M_(Ma),0<PE.length&&!IE)return YE(),void iM();dM(!0),PE=[]}else NE?Ku(L+Y):(VE=!0,dM(),M_(Ma),p_()),Ou(FE[10]),bf=!1,Ju();LE=!1}function iM(){Zu(PE.length);var e=SE+GE;e&&UE-1<e&&(e=UE-su,IE=!0);var t="https://api.twitch.tv/kraken/streams/";t+=qE?"followed?":"?channel="+encodeURIComponent(DE)+"&",eM(t+="followed?limit=limit="+su+"&offset="+e+"&stream_type=all",sM,oM,iM)}function oM(){++TE<BE?(OE+=500,iM()):(IE=!0,SE-=PE.length,PE=[],aM())}function sM(e){var t,n,a=JSON.parse(e),i=a.streams.length,o=0,s=0,d=[];for(UE=parseInt(a._total),i<su&&(IE=!0);o<PE.length&&s<i;o++,s++)n=(t=a.streams[s]).channel._id,xE[n]?o--:(xE[n]=1,R_(PE[o],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",fu),c_(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+Np(t.created_at)+" "+h+d_(t.viewers)+D,l_(t.video_height,t.average_fps,t.channel.broadcaster_language)],FE),d.push(o));for(o=d.length-1;-1<o;o--)PE.splice(d[o],1);GE+=s,IE&&(SE-=PE.length,PE=[]),aM()}function dM(e){X_(EE,ME,FE,Kr,SE,e),SE/Kr<EE+$r&&!IE&&!LE&&(YE(),QE()),Gr&&lM()}function lM(){SE&&tf(EE+"_"+ME,FE)}function cM(e){var t;if(!bf&&!q_())switch(H_(),e.keyCode){case Ua:s_()?o_():n_()?t_():(lM(),kf(cM));break;case La:if(r_(EE,ME-1,FE[0]))lM(),ME--,dM();else for(t=Kr-1;-1<t;t--)if(r_(EE-1,t,FE[0])){lM(),EE--,ME=t,dM();break}break;case Ba:r_(EE,ME+1,FE[0])?(lM(),ME++,dM()):r_(EE+1,0,FE[0])&&(lM(),EE++,ME=0,dM());break;case Ta:for(t=0;t<Kr;t++)if(r_(EE-1,ME-t,FE[0])){lM(),EE--,ME-=t,dM();break}break;case Oa:for(t=0;t<Kr;t++)if(r_(EE+1,ME-t,FE[0])){lM(),EE++,ME-=t,dM();break}break;case xa:case Sa:case Pa:case Ga:Y_(EE+"_"+ME,FE,cM)}}var rM=0,uM=0,_M=8,fM=0,mM=null,hM=["u_thumbdiv","u_img","u_infodiv","u_displayname","u_cell","user_scroll"],pM=!1,vM=!0;function gM(){return Rr?(yM(),void $a(Rr)):uo()?(Tr.Main_CenterLablesVectorPos=1,Tr.Main_Go=kr,document.getElementById("screens_holder").style.top=screen.height/100*7+"px",$u(),Uu("top_bar_user","icon_center_focus"),document.body.addEventListener("keydown",OM,!1),void(pM?(x_(rM),Ou(hM[5]),EM(),p_()):bM())):(Tr.Main_Go=cr,yM(),void m_())}function yM(){Tr.Users_Position=0,Ru("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",OM),Bu(hM[5]),document.getElementById("screens_holder").style.top="0"}function bM(){E_("stream_table_user"),Bu(hM[5]),Du(),$u(),bf=!(pM=!1),vM=!(rM=uM=0),of(function(){wM()})}function wM(){for(var e,t,n,a=document.createElement("tbody"),i=document.getElementById("stream_table_user"),o=0;o<Ji.length;o++)t=0,n=o%2?"B5B5B5":"FFFFFF",(Dr=document.createElement("tr")).className="follower_header",Dr.innerHTML='<div class="follower_header">'+(o?"":oe)+Ji[o].name+R+"</div>",i.appendChild(a),i.appendChild(Dr),(e=document.createElement("tr")).appendChild(kM(o+"_"+t,Tr.Main_selectedChannelDisplayname,Y,"play",n)),t++,e.appendChild(kM(o+"_"+t,Tr.Main_selectedChannelDisplayname,Q,"users",n)),t++,e.appendChild(kM(o+"_"+t,Tr.Main_selectedChannelDisplayname,yb.isLive?Z:zt,"gamepad",n)),t++,e.appendChild(kM(o+"_"+t,Tr.Main_selectedChannelDisplayname,Kt,"movie-play",n)),t++,e.appendChild(kM(o+"_"+t,Tr.Main_selectedChannelDisplayname,K,"filmstrip",n)),t++,o?e.appendChild(kM(o+"_"+t,Tr.Main_selectedChannelDisplayname,ie,"arrow-up",n)):e.appendChild(kM(o+"_"+t,Tr.Main_selectedChannelDisplayname,$,"user-plus",n)),t++,e.appendChild(kM(o+"_"+t,Tr.Main_selectedChannelDisplayname,ee,"user-times",n)),t++,e.appendChild(kM(o+"_"+t,Tr.Main_selectedChannelDisplayname,Ji[o].access_token?wt:bt,"key",n)),i.appendChild(e);AM()}function kM(e,t,n,a,i){return(Dr=document.createElement("td")).setAttribute("id",hM[4]+e),Dr.setAttribute(pu,t),Dr.className="stream_cell",Dr.innerHTML='<div id="'+hM[0]+e+'" class="stream_thumbnail_channel" ><div id="'+hM[1]+e+'" class="stream_user_icon" style="color: #'+i+';"><i class="icon-'+a+'"></i></div></div><div id="'+hM[2]+e+'" class="stream_text"><div id="'+hM[3]+e+'" class="stream_info" style="text-align: center;">'+n+"</div></div>",Dr}function AM(){of(function(){pM||(pM=!0,EM(),Ju(),p_()),Ou(hM[5]),vM=bf=!1})}function CM(){for(var e=0;e<Ji.length;e++)Fu(hM[3]+e+"_2",yb.isLive?Z:zt)}function EM(){Uu(hM[0]+rM+"_"+uM,"stream_thumbnail_focused"),P_(rM)?1<rM?r_(rM+1,0,hM[0])&&ef(hM[5],-1*document.getElementById(hM[4]+rM+"_"+uM).offsetTop+500):ef(hM[5],screen.height/100*7):D_(),Gr&&MM()}function MM(){Or=!1,Ru(hM[0]+rM+"_"+uM,"stream_thumbnail_focused")}function IM(){return Tr.Users_Position=rM,3!==uM||Ji[Tr.Users_Position].access_token?7===uM&&Ji[Tr.Users_Position].access_token?(Ku(wt),void window.setTimeout($u,1500)):(6!==uM&&7!==uM&&(Bu(hM[5]),document.body.removeEventListener("keydown",OM),document.getElementById("screens_holder").style.top="0"),void of(function(){uM?1===uM?kC():2===uM?(Hy=yb,Wy()):3===uM?tI():4===uM?qA():5===uM?rM?co(rM):(Tr.Main_Before=kr,Xi()):6===uM?PM():7!==uM||Ji[Tr.Users_Position].access_token||PM():zE()})):(Ku(In),void window.setTimeout($u,5e3))}function SM(){window.clearTimeout(mM)}function xM(){mM=window.setTimeout(LM,2e4)}function PM(){xM(),6===uM?Nu("main_dialog_remove",Ht+da+Ji[Tr.Users_Position].name+"?"):7===uM&&Nu("main_dialog_remove",ft+" "+Ji[Tr.Users_Position].name+"?"),Ou("main_remove_dialog")}function LM(){SM(),Bu("main_remove_dialog"),fM=0,BM()}function TM(){return Gu("main_remove_dialog")}function BM(){fM?(Ru("remove_cancel","button_search_focused"),Uu("remove_yes","button_search_focused")):(Uu("remove_cancel","button_search_focused"),Ru("remove_yes","button_search_focused"))}function OM(e){var t;if(!bf&&!q_())switch(H_(),e.keyCode){case Ua:TM()?LM():n_()?t_():s_()?o_():(MM(),kf(OM));break;case La:if(TM())--fM<0&&(fM=1),BM(),SM(),xM();else if(r_(rM,uM-1,hM[0]))MM(),uM--,EM();else if(r_(rM-1,0,hM[0])){for(t=_M-1;-1<t;t--)if(r_(rM-1,t,hM[0])){MM(),rM--,uM=t,EM();break}}else MM(),uM=_M-1,EM();break;case Ba:TM()?(1<++fM&&(fM=0),BM(),SM(),xM()):(r_(rM,uM+1,hM[0])?(MM(),uM++):(r_(rM+1,0,hM[0])?(MM(),rM++):MM(),uM=0),EM());break;case Ta:for(t=0;t<_M;t++)if(r_(rM-1,uM-t,hM[0])){MM(),rM--,uM-=t,EM();break}break;case Oa:for(t=0;t<_M;t++)if(r_(rM+1,uM-t,hM[0])){MM(),rM++,uM-=t,EM();break}break;case xa:case Sa:case Pa:case Ga:var n;if(TM()){if(6===uM)n=fM,LM(),n&&(document.body.removeEventListener("keydown",OM),yM(),so(rM));else if(n=fM,LM(),n){Tr.Users_AddcodePosition=Tr.Users_Position,p_();var a=Qa,i="https://id.twitch.tv/oauth2/authorize?response_type=code&client_id="+encodeURIComponent(du)+"&redirect_uri="+a+"&scope=user_read+user_follows_edit+user_subscriptions&force_verify=true";window.location=i}}else IM()}}var GM=0,UM=0,RM=!1,NM=0,FM={},VM=[],DM=!1,JM=0,HM=5,qM=3500,zM=0,XM=0,jM=!1,WM=!1,YM="time",QM=2,ZM=!1,KM=["uv_thumbdiv","uv_img","uv_infodiv","uv_title","uv_streamon","uv_duration","uv_viwers","uv_quality","uv_cell","uvempty_","user_vod_scroll","uv_game"],$M=!1,eI=!1;function tI(){Tr.Main_CenterLablesVectorPos=1,Tr.Main_Go=Pr,Uu("top_bar_user","icon_center_focus"),Tu("label_side_panel","icon-arrow-circle-left",I),Nu("top_bar_user",u+w_(Ji[Tr.Users_Position].name+(eI?G:O))),document.body.addEventListener("keydown",yI,!1),$M?(x_(GM),Ou(KM[10]),bI(),hI(),p_()):aI()}function nI(){Tr.Users_Position=0,$M&&pI(),Ru("top_bar_user","icon_center_focus"),Tu("label_side_panel","icon-ellipsis",Rn),document.body.removeEventListener("keydown",yI),Fu("top_bar_user",u),Bu(KM[10])}function aI(){$M&&pI(),E_("stream_table_user_vod"),Bu(KM[10]),Du(),bI(),$u(),ZM=$M=!1,bf=!(WM=!(VM=[])),GM=UM=NM=XM=zM=0,RM=!(FM={}),Wu(),oI()}function iI(){I_(),DM=!0,JM=0,qM=3500}function oI(){iI(),sI()}function sI(){var e=NM+zM;e&&XM-1<e&&(e=XM-Zr,RM=!0);var t,n="https://api.twitch.tv/kraken/videos/followed?limit="+Zr+"&broadcast_type="+(eI?"highlight":"archive")+"&sort="+YM+"&offset="+e;if(ku&&!NM){if(!(t=Android.mreadUrl(n,qM,3,uu+Ji[Tr.Users_Position].access_token)))return void dI();if(200===(t=JSON.parse(t)).status)return void cI(t.responseText);401===t.status||403===t.status?ei(Tr.Users_Position,0,oI,lI):dI()}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=qM,t.setRequestHeader(cu,_u),t.setRequestHeader(lu,du),t.setRequestHeader(ru,uu+Ji[Tr.Users_Position].access_token),t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void cI(t.responseText);401===t.status||403===t.status?ei(Tr.Users_Position,0,oI,lI):dI()}},t.send(null)}function dI(){++JM<HM?(qM+=500,sI()):lI()}function lI(){DM=!1,NM?(RM=!0,rI()):(bf=!1,Ju(),Ku(P),Ji[Tr.Users_Position].access_token||(nI(),Tr.Main_Go=kr,nI(),Af(),h_()))}function cI(e){var t=JSON.parse(e),n=t.videos.length;XM=parseInt(t._total),n<Zr&&(RM=!0);var a=NM;jM=!(NM+=n);var i=n/Kr;0<n%Kr&&i++;var o,s,d,l,c,r=0,u=document.getElementById("stream_table_user_vod");if(!ZM){var _;for(ZM=!0,d=document.createElement("tr"),f=0;f<2;f++)_=f?'<i class="icon-history stream_channel_fallow_icon"></i>'+wa+wa+Sn:'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+wa+wa+p,(Dr=document.createElement("td")).setAttribute("id",KM[8]+"y_"+f),Dr.className="stream_cell",Dr.innerHTML='<div id="'+KM[0]+"y_"+f+'" class="stream_thumbnail_channel_vod" ><div id="'+KM[3]+"y_"+f+'" class="stream_channel_fallow_game">'+_+"</div></div>",d.appendChild(Dr);d.appendChild(document.createElement("tr")),u.appendChild(d)}for(var f=0;f<i;f++){for(s=a/Kr+f,d=document.createElement("tr"),o=0;o<Kr&&r<n;o++,r++)c=(l=t.videos[r])._id,-1!==(l.preview.template+"").indexOf("404_processing")||FM[c]?o--:(FM[c]=1,d.appendChild(ZI(s,s+"_"+o,[c,l.length,l.channel.broadcaster_language,l.game,l.channel.name,l.increment_view_count_url],[l.preview.template.replace("{width}x{height}",fu),l.channel.display_name,N+k_(l.created_at),bS.parse(l.title)+da+Qt+v+l.game,d_(l.views)+V,l_(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.channel.broadcaster_language),F+Up(l.length),l.animated_preview_url],KM)));for(;o<Kr;o++)RM&&!WM&&(WM=!0,NM=s*Kr+o),d.appendChild(T_(KM[9]+s+"_"+o)),VM.push(KM[9]+s+"_"+o);u.appendChild(d)}rI()}function rI(){$M?(M_(Ma),hI(!0)):(jM?Ku(L+(eI?G:O)+T+M):($M=!0,hI(),M_(Ma),p_()),Ou(KM[10]),bf=!1,Ju()),0<VM.length&&!RM?uI():DM=!(VM=[])}function uI(){iI(),_I()}function _I(){Zu(VM.length);var e=NM+zM;e&&XM-1<e&&(e=XM-su,RM=!0);var t,n="https://api.twitch.tv/kraken/videos/followed?limit="+su+"&broadcast_type="+(eI?"highlight":"archive")+"&sort="+YM+"&offset="+e;if(ku){if(!(t=Android.mreadUrl(n,qM,3,uu+Ji[Tr.Users_Position].access_token)))return void fI();if(200===(t=JSON.parse(t)).status)return void mI(t.responseText);401===t.status||403===t.status?ei(Tr.Users_Position,0,oI,lI):fI()}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=qM,t.setRequestHeader(cu,_u),t.setRequestHeader(lu,du),t.setRequestHeader(ru,uu+Ji[Tr.Users_Position].access_token),t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void mI(t.responseText);401===t.status||403===t.status?ei(Tr.Users_Position,0,oI,lI):fI()}},t.send(null)}function fI(){++JM<HM?(qM+=500,_I()):(RM=!0,NM-=VM.length,VM=[],rI())}function mI(e){var t,n,a=JSON.parse(e),i=a.videos.length,o=0,s=0,d=[];for(XM=parseInt(a._total);o<VM.length&&s<i;o++,s++)n=(t=a.videos[s])._id,-1!==(t.preview.template+"").indexOf("404_processing")||FM[n]?o--:(FM[n]=1,$I(VM[o],[n,t.length,t.channel.broadcaster_language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",fu),t.channel.display_name,N+k_(t.created_at),bS.parse(t.title)+da+Qt+v+t.game,d_(t.views)+V,l_(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.channel.broadcaster_language),F+Up(t.length),t.animated_preview_url],KM),d.push(o));for(o=d.length-1;-1<o;o--)VM.splice(d[o],1);zM+=s,RM&&(NM-=VM.length,VM=[]),rI()}function hI(e){GM<0?vI():(X_(GM,UM,KM,Kr,NM,e),cS(KM,GM+"_"+UM),NM/Kr<GM+$r&&!RM&&!DM&&oI(),Gr&&pI())}function pI(){window.clearInterval(wI),-1<GM&&NM?(Ou(KM[1]+GM+"_"+UM),tf(GM+"_"+UM,KM)):gI()}function vI(){var e=1<UM?1:UM;Uu(KM[0]+"y_"+e,hu)}function gI(){var e=1<UM?1:UM;Ru(KM[0]+"y_"+e,hu)}function yI(e){var t;if(!bf&&!q_())switch(H_(),e.keyCode){case Ua:n_()?t_():n_()?t_():s_()?o_():(pI(),kf(yI));break;case La:if(-1===GM)gI(),--UM<0&&(UM=1),vI();else if(GM||UM){if(r_(GM,UM-1,KM[0]))pI(),UM--,hI();else for(t=Kr-1;-1<t;t--)if(r_(GM-1,t,KM[0])){pI(),GM--,UM=t,hI();break}}else pI(),gI(),GM=-1,UM=1,vI();break;case Ba:-1===GM?(gI(),1<++UM?(UM=0,jM?vI():(GM=0,hI())):vI()):r_(GM,UM+1,KM[0])?(pI(),UM++,hI()):r_(GM+1,0,KM[0])&&(pI(),GM++,UM=0,hI());break;case Ta:if(-1!==GM||jM)if(GM){for(t=0;t<Kr;t++)if(r_(GM-1,UM-t,KM[0])){pI(),GM--,UM-=t,hI();break}}else pI(),GM=-1,vI();else GM=0,gI(),hI();break;case Oa:if(-1!==GM||jM){for(t=0;t<Kr;t++)if(r_(GM+1,UM-t,KM[0])){pI(),GM++,UM-=t,hI();break}}else GM=0,gI(),hI();break;case xa:case Sa:case Pa:case Ga:-1===GM?(0===UM?Sf("UserVod_highlight",(eI=!eI)?"true":"false"):1===QM?QM++:QM--,aI()):K_(GM+"_"+UM,KM,yI)}}function bI(){1===QM?(Nu("top_bar_user",u+w_(Ji[Tr.Users_Position].name+" "+(eI?G:O)+En)),YM="time"):2===QM&&(Nu("top_bar_user",u+w_(Ji[Tr.Users_Position].name+" "+(eI?G:O)+Mn)),YM="views"),Sf("UserVod_TypeNumber",QM)}var wI,kI=0,AI=0,CI=!1,EI=0,MI={},II=[],SI=!1,xI=0,PI=5,LI=3500,TI=0,BI=0,OI=!1,GI=!1,UI="week",RI=2,NI=!1,FI=["v_thumbdiv","v_img","v_infodiv","v_title","v_streamon","v_duration","v_viwers","v_quality","v_cell","vempty_","vod_scroll","v_game"],VI=!1,DI=!1,JI=1,HI=new Image;function qI(){Tr.Main_CenterLablesVectorPos=4,Tr.Main_Go=Er,Uu("top_bar_vod","icon_center_focus"),document.body.addEventListener("keydown",rS,!1),VI?(x_(kI),Ou(FI[10]),uS(),oS(),p_()):XI()}function zI(){VI&&sS(),y_(),document.body.removeEventListener("keydown",rS),Ru("top_bar_vod","icon_center_focus"),Fu("top_bar_vod",Kt),Bu(FI[10])}function XI(){VI&&sS(),E_("stream_table_vod"),Bu(FI[10]),Du(),uS(),$u(),NI=VI=!1,bf=!(GI=!(II=[])),kI=AI=EI=BI=TI=0,CI=!(MI={}),Wu(),jI(),WI()}function jI(){I_(),SI=!0,xI=0,LI=3500}function WI(){var e=EI+TI;e&&BI-1<e&&(e=BI-Zr,CI=!0);var t="https://api.twitch.tv/kraken/videos/top?limit="+Zr+"&broadcast_type="+(DI?"highlight":"archive")+"&sort=views&offset="+e+"&period="+UI+(""!==Hr?"&language="+Hr:"");ku&&!EI?Uf(t,LI,2,null,QI,YI):Rf(t,LI,2,null,QI,YI,!1)}function YI(){++xI<PI?(LI+=500,WI()):(SI=!1,EI?(CI=!0,tS()):(bf=!1,Ju(),Ku(P)))}function QI(e){var t=JSON.parse(e),n=t.vods.length;BI=parseInt(t._total),n<Zr&&(CI=!0);var a=EI;OI=!(EI+=n);var i=n/Kr;0<n%Kr&&i++;var o,s,d,l,c,r=0,u=document.getElementById("stream_table_vod");if(!NI){var _;for(NI=!0,d=document.createElement("tr"),f=0;f<2;f++)_=f?'<i class="icon-history stream_channel_fallow_icon"></i>'+wa+wa+m:'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+wa+wa+p,(Dr=document.createElement("td")).setAttribute("id",FI[8]+"y_"+f),Dr.className="stream_cell",Dr.innerHTML='<div id="'+FI[0]+"y_"+f+'" class="stream_thumbnail_channel_vod" ><div id="'+FI[3]+"y_"+f+'" class="stream_channel_fallow_game">'+_+"</div></div>",d.appendChild(Dr);d.appendChild(document.createElement("tr")),u.appendChild(d)}for(var f=0;f<i;f++){for(s=a/Kr+f,d=document.createElement("tr"),o=0;o<Kr&&r<n;o++,r++)c=(l=t.vods[r])._id,-1!==(l.preview.template+"").indexOf("404_processing")||MI[c]?o--:(MI[c]=1,d.appendChild(ZI(s,s+"_"+o,[c,l.length,l.channel.broadcaster_language,l.game,l.channel.name,l.increment_view_count_url],[l.preview.template.replace("{width}x{height}",fu),l.channel.display_name,N+k_(l.created_at),bS.parse(l.title)+da+Qt+v+l.game,d_(l.views)+V,l_(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.channel.broadcaster_language),F+Up(l.length),l.animated_preview_url],FI)));for(;o<Kr;o++)CI&&!GI&&(GI=!0,EI=s*Kr+o),d.appendChild(T_(FI[9]+s+"_"+o)),II.push(FI[9]+s+"_"+o);u.appendChild(d)}tS()}function ZI(e,t,n,a,i){return e<Kr&&L_(a[0]),KI(n,t,a,i)}function KI(e,t,n,a){return(Dr=document.createElement("td")).setAttribute("id",a[8]+t),Dr.setAttribute(pu,JSON.stringify(e)),Dr.className="stream_cell",Dr.innerHTML=eS(t,n,a),Dr}function $I(e,t,n,a){var i=document.getElementById(e),o=e.split(a[9])[1];i.setAttribute(pu,JSON.stringify(t)),i.innerHTML=eS(o,n,a),i.setAttribute("id",a[8]+o)}function eS(e,t,n){return S_(n[1]+e,t[0]),'<div id="'+n[0]+e+'" class="stream_thumbnail_clip"'+(t[7]?' style="background-size: 0 0; background-image: url('+t[7]+');"':"")+'><div><img id="'+n[1]+e+'" class="stream_img"></div><div id="'+n[2]+e+'" class="stream_text2"><div style="line-height: 14px;"><div id="'+n[3]+e+'" class="stream_channel" style="width: 72%; display: inline-block; font-size: 85%;">'+t[1]+'</div><div id="'+n[7]+e+'"class="stream_info" style="width:27%; float: right; text-align: right; display: inline-block;">'+t[5]+'</div></div><div id="'+n[11]+e+'"class="stream_info">'+t[3]+'</div><div id="'+n[6]+e+'"class="stream_info">'+t[4]+'</div><div style="line-height: 12px;"><div id="'+n[4]+e+'"class="stream_info" style="width: 59%; display: inline-block;">'+t[2]+'</div><div id="'+n[5]+e+'"class="stream_info" style="width: 39%; display: inline-block; float: right; text-align: right;">'+t[6]+"</div></div></div></div>"}function tS(){if(VI?(M_(Ma),oS(!0)):(OI?Ku(L+(DI?G:O)+T+M):(VI=!0,oS(),M_(Ma),p_()),Ou(FI[10]),bf=!1,Ju()),0<II.length&&!CI)return jI(),void nS();SI=!(II=[])}function nS(){Zu(II.length);var e=EI+TI;e&&BI-1<e&&(e=BI-su,CI=!0),Of("https://api.twitch.tv/kraken/videos/top?limit="+su+"&broadcast_type="+(DI?"highlight":"archive")+"&sort=views&offset="+e+"&period="+UI+(""!==Hr?"&language="+Hr:""),LI,2,null,iS,aS)}function aS(){++xI<PI?(LI+=500,nS()):(CI=!0,EI-=II.length,II=[],tS())}function iS(e){var t,n,a=JSON.parse(e),i=a.vods.length,o=0,s=0,d=[];for(BI=parseInt(a._total);o<II.length&&s<i;o++,s++)n=(t=a.vods[s])._id,-1!==(t.preview.template+"").indexOf("404_processing")||MI[n]?o--:(MI[n]=1,$I(II[o],[n,t.length,t.channel.broadcaster_language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",fu),t.channel.display_name,N+k_(t.created_at),bS.parse(t.title)+da+Qt+v+t.game,d_(t.views)+V,l_(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.channel.broadcaster_language),F+Up(t.length),t.animated_preview_url],FI),d.push(o));for(o=d.length-1;-1<o;o--)II.splice(d[o],1);TI+=s,CI&&(EI-=II.length,II=[]),tS()}function oS(e){kI<0?dS():(X_(kI,AI,FI,Kr,EI,e),cS(FI,kI+"_"+AI),EI/Kr<kI+$r&&!CI&&!SI&&(jI(),WI()),Gr&&sS())}function sS(){window.clearInterval(wI),-1<kI&&EI?(Ou(FI[1]+kI+"_"+AI),tf(kI+"_"+AI,FI)):lS()}function dS(){var e=1<AI?1:AI;Uu(FI[0]+"y_"+e,hu)}function lS(){var e=1<AI?1:AI;Ru(FI[0]+"y_"+e,hu)}function cS(t,n){if(JI){var a=document.getElementById(t[0]+n);HI.onload=function(){Bu(t[1]+n),a.style.backgroundSize="612px";var e=0;wI=window.setInterval(function(){a.style.backgroundPosition="0px "+ ++e%10*-344+"px"},650)},HI.src=a.style.backgroundImage.replace(/url\(['"]?(.*?)['"]?\)/i,"$1")}}function rS(e){var t;if(!bf&&!q_())switch(H_(),e.keyCode){case Ua:s_()?o_():n_()?t_():(sS(),kf(rS));break;case La:if(-1===kI)lS(),--AI<0&&(AI=1),dS();else if(kI||AI){if(r_(kI,AI-1,FI[0]))sS(),AI--,oS();else for(t=Kr-1;-1<t;t--)if(r_(kI-1,t,FI[0])){sS(),kI--,AI=t,oS();break}}else sS(),lS(),kI=-1,AI=1,dS();break;case Ba:-1===kI?(lS(),1<++AI?(AI=0,OI?dS():(kI=0,oS())):dS()):r_(kI,AI+1,FI[0])?(sS(),AI++,oS()):r_(kI+1,0,FI[0])&&(sS(),kI++,AI=0,oS());break;case Ta:if(-1!==kI||OI)if(kI){for(t=0;t<Kr;t++)if(r_(kI-1,AI-t,FI[0])){sS(),kI--,AI-=t,oS();break}}else sS(),kI=-1,dS();else kI=0,lS(),oS();break;case Oa:if(-1!==kI||OI){for(t=0;t<Kr;t++)if(r_(kI+1,AI-t,FI[0])){sS(),kI++,AI-=t,oS();break}}else kI=0,lS(),oS();break;case xa:case Sa:case Pa:case Ga:-1===kI?(0===AI?Sf("Vod_highlight",(DI=!DI)?"true":"false"):4<++RI&&(RI=1),XI()):K_(kI+"_"+AI,FI,rS)}}function uS(){1===RI?(Nu("top_bar_vod",Kt+w_((DI?G:O)+de)),UI="day"):2===RI?(Nu("top_bar_vod",Kt+w_((DI?G:O)+le)),UI="week"):3===RI?(Nu("top_bar_vod",Kt+w_((DI?G:O)+ce)),UI="month"):4===RI&&(Nu("top_bar_vod",Kt+w_((DI?G:O)+re)),UI="all"),Sf("vod_periodNumber",RI)}function _S(e,t){return e.replace(t.code,fS(t))}function fS(e){return'<img class="emoticon" src="'+e["3x"]+'"/>'}function mS(e){return'<img class="emoticon" src="https://static-cdn.jtvnw.net/emoticons/v1/'+e+'/3.0"/>'}function hS(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;")}function pS(e){for(var t=e.split(" "),n=0;n<t.length;n++){var a=(e=t[n]).replace(/(^[~!@#$%\^&\*\(\)]+|[~!@#$%\^&\*\(\)]+$)/g,""),i=Ll[a]||Ll[e];e=i?_S(e,i):hS(e),t[n]=e}return t.join(" ")}function vS(t,a){if(!a)return[t];var n=[],e=Object.keys(a),i=[];return e.forEach(function(e){for(var t=a[e],n=t.length-1;0<=n;n--)i.push({id:e,first:t[n][0],last:t[n][1]})}),i.sort(function(e,t){return t.first-e.first}),t=punycode.ucs2.decode(t),i.forEach(function(e){n.unshift(punycode.ucs2.encode(t.slice(e.last+1))),n.unshift([mS(e.id)]),t=t.slice(0,e.first)}),n.unshift(punycode.ucs2.encode(t)),n}function gS(a){return Object.keys(a).map(function(n){var e=a[n];return e.type=n,e.versions=Object.keys(a[n].versions).map(function(e){var t=a[n].versions[e];return t.type=e,t}),e})}function yS(e,t,n,a){var i=document.createElement("style");i.type="text/css",i.innerHTML="."+e+"-"+t+' { background-image: url("'+n.replace("http:","https:")+'"); }',a?a.appendChild(i):document.head.appendChild(i)}window.parseIRC=function(e){var t={raw:e,tags:{},prefix:null,command:null,params:[]},n=0,a=0;if(64===e.charCodeAt(0)){if(-1===(a=e.indexOf(" ")))return null;for(var i=e.slice(1,a).split(";"),o=0;o<i.length;o++){var s=i[o].split("=");t.tags[s[0]]=s[1]||!0}n=a+1}for(;32===e.charCodeAt(n);)n++;if(58===e.charCodeAt(n)){if(-1===(a=e.indexOf(" ",n)))return null;for(t.prefix=e.slice(n+1,a),n=a+1;32===e.charCodeAt(n);)n++}if(-1===(a=e.indexOf(" ",n)))return e.length>n?(t.command=e.slice(n),t):null;for(t.command=e.slice(n,a),n=a+1;32===e.charCodeAt(n);)n++;for(;n<e.length;){if(a=e.indexOf(" ",n),58===e.charCodeAt(n)){t.params.push(e.slice(n+1));break}if(-1===a){if(-1===a){t.params.push(e.slice(n));break}}else for(t.params.push(e.slice(n,a)),n=a+1;32===e.charCodeAt(n);)n++}return t},function(e){var t="object"==typeof global&&global;t.global!==t&&t.window!==t&&t.self!==t||(e=t);var n,v=2147483647,g=36,y=26,i=38,o=700,a=/^xn--/,s=/[^\x20-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,l={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},c=g-1,b=Math.floor,w=String.fromCharCode;function k(e){throw new RangeError(l[e])}function r(e,t){for(var n=e.length,a=[];n--;)a[n]=t(e[n]);return a}function u(e,t){var n=e.split("@"),a="";return 1<n.length&&(a=n[0]+"@",e=n[1]),a+r((e=e.replace(d,".")).split("."),t).join(".")}function A(e){for(var t,n,a=[],i=0,o=e.length;i<o;)55296<=(t=e.charCodeAt(i++))&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?a.push(((1023&t)<<10)+(1023&n)+65536):(a.push(t),i--):a.push(t);return a}function C(e){return r(e,function(e){var t="";return 65535<e&&(t+=w((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+w(e)}).join("")}function E(e,t){return e+22+75*(e<26)-((0!==t)<<5)}function M(e,t,n){var a=0;for(e=n?b(e/o):e>>1,e+=b(e/t);c*y>>1<e;a+=g)e=b(e/c);return b(a+(c+1)*e/(e+i))}function _(e){var t,n,a,i,o,s,d,l,c,r,u,_=[],f=e.length,m=0,h=128,p=72;for((n=e.lastIndexOf("-"))<0&&(n=0),a=0;a<n;++a)128<=e.charCodeAt(a)&&k("not-basic"),_.push(e.charCodeAt(a));for(i=0<n?n+1:0;i<f;){for(o=m,s=1,d=g;f<=i&&k("invalid-input"),u=e.charCodeAt(i++),(g<=(l=u-48<10?u-22:u-65<26?u-65:u-97<26?u-97:g)||l>b((v-m)/s))&&k("overflow"),m+=l*s,!(l<(c=d<=p?1:p+y<=d?y:d-p));d+=g)s>b(v/(r=g-c))&&k("overflow"),s*=r;p=M(m-o,t=_.length+1,0===o),b(m/t)>v-h&&k("overflow"),h+=b(m/t),m%=t,_.splice(m++,0,h)}return C(_)}function f(e){var t,n,a,i,o,s,d,l,c,r,u,_,f,m,h,p=[];for(_=(e=A(e)).length,t=128,o=72,s=n=0;s<_;++s)(u=e[s])<128&&p.push(w(u));for(a=i=p.length,i&&p.push("-");a<_;){for(d=v,s=0;s<_;++s)t<=(u=e[s])&&u<d&&(d=u);for(d-t>b((v-n)/(f=a+1))&&k("overflow"),n+=(d-t)*f,t=d,s=0;s<_;++s)if((u=e[s])<t&&++n>v&&k("overflow"),u===t){for(l=n,c=g;!(l<(r=c<=o?1:o+y<=c?y:c-o));c+=g)h=l-r,m=g-r,p.push(w(E(r+h%m,0))),l=b(h/m);p.push(w(E(l,0))),o=M(n,f,a===i),n=0,++a}++n,++t}return p.join("")}n={version:"1.4.1",ucs2:{decode:A,encode:C},decode:_,encode:f,toASCII:function(e){return u(e,function(e){return s.test(e)?"xn--"+f(e):e})},toUnicode:function(e){return u(e,function(e){return a.test(e)?_(e.slice(4).toLowerCase()):e})}},e.punycode=n}(this),function(e,t){e.ReconnectingWebSocket=function(){if("WebSocket"in window)return u.prototype.onopen=function(){},u.prototype.onclose=function(){},u.prototype.onconnecting=function(){},u.prototype.onmessage=function(){},u.prototype.onerror=function(){},u.debugAll=!1,u.CONNECTING=WebSocket.CONNECTING,u.OPEN=WebSocket.OPEN,u.CLOSING=WebSocket.CLOSING,u.CLOSED=WebSocket.CLOSED,u;function u(e,t,n){var a={debug:!1,automaticOpen:!0,reconnectInterval:1e3,maxReconnectInterval:3e4,reconnectDecay:1.5,timeoutInterval:3e3,maxReconnectAttempts:null,binaryType:"blob"};for(var i in n||(n={}),a)void 0!==n[i]?this[i]=n[i]:this[i]=a[i];this.url=e,this.reconnectAttempts=0,this.readyState=WebSocket.CONNECTING,this.protocol=null;var o,s=this,d=!1,l=!1,c=document.createElement("div");function r(e,t){var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}c.addEventListener("open",function(e){s.onopen(e)}),c.addEventListener("close",function(e){s.onclose(e)}),c.addEventListener("connecting",function(e){s.onconnecting(e)}),c.addEventListener("message",function(e){s.onmessage(e)}),c.addEventListener("error",function(e){s.onerror(e)}),this.addEventListener=c.addEventListener.bind(c),this.removeEventListener=c.removeEventListener.bind(c),this.dispatchEvent=c.dispatchEvent.bind(c),this.open=function(a){if((o=new WebSocket(s.url,t||[])).binaryType=this.binaryType,a){if(this.maxReconnectAttempts&&this.reconnectAttempts>this.maxReconnectAttempts)return}else c.dispatchEvent(r("connecting")),this.reconnectAttempts=0;(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","attempt-connect",s.url);var e=o,i=setTimeout(function(){(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","connection-timeout",s.url),l=!0,e.close(),l=!1},s.timeoutInterval);o.onopen=function(){clearTimeout(i),(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","onopen",s.url),s.protocol=o.protocol,s.readyState=WebSocket.OPEN,s.reconnectAttempts=0;var e=r("open");e.isReconnect=a,a=!1,c.dispatchEvent(e)},o.onclose=function(e){if(clearTimeout(i),o=null,d)s.readyState=WebSocket.CLOSED,c.dispatchEvent(r("close"));else{s.readyState=WebSocket.CONNECTING;var t=r("connecting");t.code=e.code,t.reason=e.reason,t.wasClean=e.wasClean,c.dispatchEvent(t),a||l||((s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","onclose",s.url),c.dispatchEvent(r("close")));var n=s.reconnectInterval*Math.pow(s.reconnectDecay,s.reconnectAttempts);setTimeout(function(){s.reconnectAttempts++,s.open(!0)},n>s.maxReconnectInterval?s.maxReconnectInterval:n)}},o.onmessage=function(e){(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","onmessage",s.url,e.data);var t=r("message");t.data=e.data,c.dispatchEvent(t)},o.onerror=function(e){(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","onerror",s.url,e),c.dispatchEvent(r("error"))}},!0===this.automaticOpen&&this.open(!1),this.send=function(e){if(o)return(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","send",s.url,e),o.send(e);throw"INVALID_STATE_ERR : Pausing to reconnect websocket"},this.close=function(e,t){void 0===e&&(e=1e3),d=!0,o&&o.close(e,t)},this.refresh=function(){o&&o.close()}}}()}(this);var bS=function(){var e={parse:function(e,t,n){return t||(e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;")),a(e,function(e){var t=function(e){for(var t=e.indexOf(d)<0?e.replace(s,""):e,n=[],a=0,i=0,o=0;o<t.length;)a=t.charCodeAt(o++),i?(n.push((65536+(i-55296<<10)+(a-56320)).toString(16)),i=0):55296<=a&&a<=56319?i=a:n.push(a.toString(16));return n.join("-")}(e);return t?'<img class="'+(n?"emoticon":"emoji")+'" src="https://twemoji.maxcdn.com/2/72x72/'+t+'.png"/>':e})},replace:a},n=/(?:\ud83d[\udc68\udc69])(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddb0-\uddb3])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f)|[\u0023\u002a\u0030-\u0039]\ufe0f?\u20e3|(?:[\u00a9\u00ae\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\uddb5\uddb6\uddb8\uddb9\uddd1-\udddd]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a-\udc6d\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\udeeb\udeec\udef4-\udef9]|\ud83e[\udd10-\udd17\udd1d\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd40-\udd45\udd47-\udd70\udd73-\udd76\udd7a\udd7c-\udda2\uddb4\uddb7\uddc0-\uddc2\uddd0\uddde-\uddff]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g,s=/\uFE0F/g,d=String.fromCharCode(8205);return e;function a(e,t){return String(e).replace(n,t)}}();