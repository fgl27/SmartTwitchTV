var t,n,a,e,i,o,s,d,l,c,p,m,r,u,_,f,v,h,g,y,b,w,k,A,C,M,E,I,S,x,P,L,T,B,O,G,U,R,N,F,V,D,J,H,q,z,X,j,W,Y,Q,Z,K,$,ee,te,ne,ae,ie,oe,se,de,le,ce,re,ue,_e,fe,me,he,pe,ve,ge,ye,be,we,ke,Ae,Ce,Me,Ee,Ie,Se,xe,Pe,Le,Te,Be,Oe,Ge,Ue,Re,Ne,Fe,Ve,De,Je,He,qe,ze,Xe,je,We,Ye,Qe,Ze,Ke,$e,et,tt,nt,at,it,ot,st,dt,lt,ct,rt,ut,_t,ft,mt,ht,pt,vt,gt,yt,bt,wt,kt,At,Ct,Mt,Et,It,St,xt,Pt,Lt,Tt,Bt,Ot,Gt,Ut,Rt,Nt,Ft,Vt,Dt,Jt,Ht,qt,zt,Xt,jt,Wt,Yt,Qt,Zt,Kt,$t,en,tn,nn,an,on,sn,dn,ln,cn,rn,un,_n,fn,mn,hn,pn,vn,gn,yn,bn,wn,kn,An,Cn,Mn,En,In,Sn,xn,Pn,Ln,Tn,Bn,On,Gn,Un,Rn,Nn,Fn,Vn,Dn,Jn,Hn,qn,zn,Xn,jn,Wn,Yn,Qn,Zn,Kn,$n,ea,ta,na,aa,ia,oa,sa="fglfgl27@gmail.com",da="<br>",la='<i class="icon-circle" style="font-size: 50%; vertical-align: middle; font-weight: bold;"></i>  ',ca='<div class="about_text_title">',ra='<div class="about_text_title" style="text-align: left;">',ua='<div style="text-align: left;">',_a="",fa="",ma="",ha="",pa="",va="",ga="",ya="",ba="",wa="&nbsp;";function ka(){_a=e+" (C)",fa=n+" (D)",ha=a+" (A)",ma=i+" (A)",l+=Zt,c+=Zt,I=ia+oa,pa=ca+e+"</div>"+ca+Ce+"</div>"+da+ua+la+xe+da+la+(Pe+=jt)+da+la+Le+da+la+Te+da+Be+da+la+Oe+da+wa+wa+wa+Ge+da+la+Ue+da+"</div>"+da+(ya=ca+ke+"</div>"+ua+la+nt+da+la+$e+da+la+et+da+"</div>"+ua+la+tt+da+la+at+da+la+it+da+da+ca+Ae+"</div>"+ua+la+ot+da+la+st+da+la+dt+da+la+lt+da+la+ct)+da+da+ca+we+"</div>",va=ca+be+"</div></div>",ga=ua+da+Re+da+(ir?da+'<div style="display: inline-block; color: #FF0000; font-size: 110%; font-weight: bold;">'+Zn+"</div>":"")+"</div>"+da+ca+Ne+"</div>"+sa+da+da+Fe+da+Ve+da+da+ra+De+"</div>"+ua+Ye+da+la+Je+da+la+He+da+la+qe+da+la+ze+da+la+Xe+da+la+je+da+la+We+da+Qe+da+la+Ze+da+la+Ke+da+ca+we+"</div></div>",ba=mt+da+la+ht.replace("link_link",'<div style="display: inline-block; color: #FF0000; font-size: 110%; font-weight: bold;">http://tiny.cc/twitchkeycode</div>')+da+la+pt+da+la+vt+da+la+gt+da+la+yt}function Aa(){Dr=!1,document.getElementById("side_panel").style.width="17%",t="Refresh:",n="Search",a="Settings",e="Controls",i="About",o="Hide",s="The text you entered is empty.",d="The search result is empty.",l="Switch screen",c="Switch user screen",p="Switch: Past Broadcast or Highlight",m="Switch: Period (24h, 7d, 30d, all)",r="Go to ",u="User ",_="Live",f="Games",v="Playing ",h=" for ",g="Watching time ",y="Since ",b="A Game",w="Type your search...",k="Type your authentication key...",A="Type your user name...",C="Press Enter or Select key to, ",M="Channels",E="Channel",ia="Back to previously screen: Back key",oa=" twice",S=" has ended",x="This video is only available to subscribers.",P="Connection failed, unable to load content hit refresh to try again",L="No",T=" for this ",B="Connection failed, unable to load video content exiting...",O=" Past Broadcast",G=" Highlight",U=" Clips",R=" Content",N="Streamed ",F="Duration ",V=" Views",D=" Viewers",J="Click again to exit!",H="Do you wanna to exit Twitch?",q="Exit",z="Close",X="Minimize",j="Cancel",W="Not Live | ",Y=" Channels Live",Q=" Hosts Live",Z=" Games Live",K=" Followed Channels",$=" Add User",ee=" Remove User",te="User doesn't exist",ne=" hosting ",ae=" already set",ie="Make First",oe="First user can fallow (when providing a key) and see live channels feed outside of the user screen<br>",se="Add a Twitch user to display it's Followed Channels content here",de=" (24h)",le=" (7d)",ce=" (30d)",re=" (all)",ue="Jumping",_e=" to ",fe="Jump Canceled",me=" , jump time bigger then duration",he=" Sec",pe=" Min",ve=" Hr",ge="Source",ye="Version: ",be="SmartTV Twitch",we="Press back key to close this.",ke="Player Related:",Ae="Chat Related:",Ce="General Related:",Me="Update",Ee="Current installed version ",Ie=" latest available version ",Se="This are the none players related controls, the player can show it's own controls.",xe="Play a video: Navigate using Directional pad (up/down/left/right), press enter to start playing",Pe="Refresh screen content: ",Le="Exit the application: from side pannel click exit",Te=" Switch screen: Back key then D-Pad left or right",Be="Some screen will change its internal content (channel past broadcast or clips for example) instead of changing to another screen",Oe="Start a search: from side pannel click search",Ge="After writing the search text press key Enter on the virtual keyboard then choose a search option",Ue="About this application: from side pannel click about",Re="This is a SmartTV Twitch client develop by a individual on his free time, for TV's that don't have access to a good official application, released for free to any one that wanna to use it.",Zn="This version of the app is for test in a browser only!",Ne="Developer information:",Fe="This is an open source application licensed under the GNU General Public License v3.0, check it on github",Ve="github.com/fgl27/SmartTwitchTV",De="This application uses following dependencies:",Je="Nightdev KapChat - KapChat captures Twitch chat directly into OBS or XSplit (https://www.nightdev.com/kapchat/)",He="Fontastic - Create your customized icon fonts in seconds (http://app.fontastic.me)",qe="Twemoji - A simple library that provides standard Unicode emoji support across all platforms (https://github.com/twitter/twemoji)",ze="UglifyJS - is a JavaScript parser, minifier, compressor and beautifier toolkit (https://github.com/mishoo/UglifyJS2)",Xe="JS Beautifier - Beautify, unpack or deobfuscate JavaScript and HTML, make JSON/JSONP readable, etc. (https://github.com/beautify-web/js-beautify)",je="HTMLMinifier - A highly configurable, well-tested, JavaScript-based HTML minifier (https://github.com/kangax/html-minifier)",We="JSHint - A Static Code Analysis Tool for JavaScript (https://github.com/jshint/jshint)",Ye="Web:",Qe="Android:",Ze="Google: Leanback v17 (https://developer.android.com/reference/android/support/v17/leanback/package-summary)",Ke="Google: ExoPlayer (https://github.com/google/ExoPlayer)",$e="Show information panel: Press enter key or D-pad keys if chat and live channel feed is not showing",et="Close the video: press back key twice",tt="Play/Pause a video: open information panel and click on pause simbol (not available to Live streams)",nt="Show user live channels feed: D-pad up",at="Change video quality: Open information panel, , navigate using use Directional pad (left/right), then use Directional pad (up/down) to choose the new quality after press Enter key to confirm the change",it="Force refresh a video (in case it freezes): Change video quality to the same",ot="Show or hide the Chat : D-pad right",st="Change Chat position : D-pad left",dt="Change Chat size : D-pad down",lt="Change Chat background brightness: Change in side panel settings",ct="Force refresh the Chat (in case it freezes or doesn't load): Change video quality to the same will reset and sync it",rt='Start a search: open information panel, navigate using use Directional pad (left/right) to "Search" and press enter',ut="Chat and video (Side by side): Color button red (A)",ta="Force disable the chat",na="with this the chat will not load content, this is useful on a stream with too many viewers were the chat can lag the app.",_t="Update available, check google play store",ft='Adding a key allows the app to fallow and access subscribed only past broadcast (for channel you are Sub to and block VOD access to none subscribers). On the authentication page if you already added a key for another user, you need to click up two to tree time and click over "not you?" to authenticate for a different users <br> <br> add key for',mt=" below, fallowing this steps:",ht="Access the site link_link (using a computer or a smart phone)",pt='Click on the "Authorize" button it will take you to main Twitch.TV authentication site',vt="Login to Twitch.TV using the user name you are trying to add a key for",gt="Click on Authorize button of Twitch.TV site if you agree with the requested permissions",yt="The web page will update and show a key code, the key only has lower case letters and nubers.",bt=" Add Authentication key",wt="Key added OK",kt="Key test fail, it's needed to add new one",At="Key test return OK",Ct="You try to add a key for user ",Mt=" but this key is for user ",Et=" Following",It=" Follow",St=" And you have not set a authentication key the app can't check yours sub status.",xt=" And you are not a sub of this channel",Pt=" You are a sub of this channel but the app fail to authenticate contact the developer email in about",Lt="Fail authentication check with the provider key, please check and try again",Gn="The added key doesn't belong to the user ",Tt="No user",Bt="Set a user and a authentication key to be able to fallow/unfollow",Ot="Restart the",Gt=" Clip",Ut="Channel content",Rt="Network is disconnect, the application can't work without INTERNET",Nt="Network connection reestablished",Ft=" Followers",Vt=", Can't fallow or unfallow ",Dt="Game content",Jt="Yes",Ht="Are you sure you want to remove the user ",qt="Press Up to ",zt="Followed Games",Xt="Change between",jt=" Back key then Enter",Wt=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"],Yt=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Qt="Started ",Zt=" (PG Up/Down)",Kt="Videos",$t=" Video",en="Replay",tn="exiting in ",nn='press "Return" to exit',an="Featured",on="Created ",sn="Open the Broadcast",dn="No Broadcast",ln="There is no Past Broadcast for this clip",cn="And because of that no chat",rn=" is now",un="Open the Hosting",_n="Player related",fn="Buffer size:",mn="A lower value here will make the player to start playing sooner, but it may cause re-buffer with will cause the player to pause to buffer.",hn="Live streams buffer",pn="Videos (Past Broadcast and Highlight) buffer",vn="Clips buffer",gn="General related",yn="Language",bn="Chat: Connecting to chat server..."+da+"Chat: Connected."+da+"Chat: Joined channel ",wn="Play from the start or from where you stop watching last time?",An=(kn="From:"+da)+"Start",Cn="Chat: The Chat has ended!",Mn=": Most recent",En=": Most views",In="Set a authentication key to be able to see fallowed videos",Sn="Switch: Most recent or views",xn="Enable",Pn="Disable",qn="The app was closed willing playing, restoring playback",Ln="Restore playback",Tn="When changing apps, the app may be closed by the system to free memory. In this case the app saves what it was playing and restores the playback when reopened",Bn="Chat font size",On="Change the chat lines font size, applies to text and emotes",Un="Videos animated thumbnails",Rn="Side panel: Back key twice",Nn="Size ",Fn="Brightness ",Vn="Forbidden content, this Live must be for Prime only subscribers or lock to Twitch official app only",Dn="Jump step ",Jn=" seconds",Hn=" minutes",zn="Clock offset",Xn="Application language",jn="Content language",Wn="Press enter to change",Yn="All",Qn="Empty game fro this",Kn="Isn't possible to jump during a buffering",$n="Chat is disabled, enable in side pannel settings",ea="This clip/video fail to load can't replay",aa="Chat backgroung brightness "}var Ca="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAeEAAAKgCAMAAACbeDVoAAAAM1BMVEU3NTZoZ2eura6enp4+PD1MS0vq6en09PQ0MjPy8vJ9fX1YV1jT09O7u7vf3t+NjY3GxsZnLAeWAAAI3UlEQVR4Ae3d7XabOrcGUPEBWguMzf1f7dltd3u6Q1rHNk5I3jn/NmPYo48lJC1JFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgf0+UoenatpuGEuUdRD8009S806cR/eWU9bs8d0M8/eOmZazfjcvUR3kuYmiz/m6Z46n5dmP9zdjJ+Ln6NusLuQ7labqxvpBdX3iaaayv6cpTxJT1FTlF4Sn6Jeur8vSErjqGP37c0hf2F/Op/tHY7d+Az/WPznMUdhbNWP8iT0M8rb/YGvXUT34Eb2VO8ayf01bmJQo7ikvWq9a+7KStV2UX5X0JuOZOfed8zvoGIn72tGUrs91xDizijx9kbWQ9NVEeMpzq1nOf/Mxjfbts+/KALuuWEfVz9ed6ixzvb8bzueZNHzUXHneut7pvbhzDmvVG2RceFEvWm41dH/dUkW6VeSo8Ji51a/+Mo+/O9S5tFB4xZ73TeMPugG37NaA+4ChrI5emRLkmytxmzXovo61HxFIfktldqwIN3Vgfcyrc7ZL1UTkuTf+Hptw3y5h1490exQxj3cV4Wi7N0JcSP5TSD81lOY1Zsz4ssyncJc51T3k+reuyLOt6OmfdUY594R6Xenz66QcMWT+NptyMONWjOa/rWF917gt3FP0P5dSU+Ec/nfXTu+jHeiCZXfkhonRp3eNx0dYjyUtc6V5OhZs0WQ8k27i2Uy8vhR2KwvPwU31Hm4FUPz5WKia6+rooP9V3tN0529WNXKLwVn0eKuE6lxeaupVD4a26eqyE+/JCX1+hEb/ZkMdKOMvGIytbxFIP1obLS/0jlWLmerSEh/LCUF81Fd5iPVzC09vKXnkuvEGTh0t4jfJfp7px/7KHmtLHJ5xTbE7K3VtjosnjJVzHeXOQ6s5GTJzrARPOcX7bSbksV9DkEROuWf89RBF9d9ugbMtT+BAJ5zLN8zytWX8a10vTXNYx679y/f4nS9bfjIW/mushEs5liJ8HEutPmfV3668/WVIjfqtYDpHw+HvBv71ab4ou6095KvzFkEdI+L9XKcWa1/YERJdWp9+mqx+e8HaBoz9fX71alZjepB/vr9UMzysHT3Wj+fP4IefyNrZ25AclfIrNGdfrC9CnO3bW2p01f0zCXVwd/7Xxlx/n2BfettrxQW14ur61tysvTfX/Xcp1VjuOlHC5MeExypuYKs3l7fqh7uUS19vwJsOLA8XXtXmMNryd7pyuFoxj2f4zL0TWeoix9Nhf61wyh7/u/82+bNHUbz5+LL3ppmO5etYwLvdUmCxJN/FS+SVemutuxuFaQTPHpvwm5nE7peb6BtWPWLXcbsYZ8uqvYDhf3Z1ZmI6TcNZxjmtbErKJ8kM0eX08TqwfmPBWLnOJiL5Zs/4ynk5j/SXX739S5iWvr3wSQx4q4Zp5/nEtU9YfzlMf/xgu5/pDfr/YYz1n3VJ+2Jrqxye8kb9fPR/lu+iXvH1xm1iPk/CVwCLadNvlzYbcM+Fc2hfW+kKu2z/4syVu+jluTxMz1V0Tvj4Xy/6GBZOxv/3Cza6waRX7JRx7Jrx9qEZ74z4C+nHPhHOTcDyW8PaWhxsXxmjy0G24Ly/0N5aZWeqR2/D1Wx6uHCYmxnroNnzXInoWfhny2G346i0PV5a1mPLYbXgqL0w3nZwg1vrMNvx4wpt9PetN+66JrDu34aF/Yd72of1/NPUvsrlr6F/4IYb6Vs0v9V2dh/983/G20zE09e3yu5r1fY3DHS8JuhR+6Orh5TiV76JMY972ChfiXD+DU9cMQ9Odsr7VGIVv+vo55J132jLXr2oufDPVr+pS2J4L//QMtTbW+lWdCt+M9avKvhRiqF/XUEphrl9XU9gczDSY/nLa+nW1UYilfl1rFGKt9UtPlzjXr+tcCv1Yv66xL1sODu8sx7W7TM089P8opfT/GOZmmrr1/PTPHgpzfZpx7aa5j3+UiPJClBIR/Tx161ifZi409Rny1E7Dt1yv+pb/MLWntOTxaRLO8/It3XKDiOib5Qmd9lSY6q5yXOYSJcqt+hJlbsfcO2EudUfZzVEeEXOXdUddoat7ybUpUR4TJUqz5AETlvDYDVH2EUM31n20hbbu4dz1UfYSEf3lvFPCtHu+4mxHfZsS3kO09WFjE2V/0YyHSFgbzqU8y5Ifn7C9tOMU5VliGo2lP3o+fJ6jPNF8so3nY9e01r48U5R+sab1gQnnUp5vyY9KWPUw2yhPF9FmvVc2haHeK7so7yEuWe81FPp8/EXfTxZT1rtk9qVwrnfJKUo5esTnUojT429yf747Iz5FIZYjBrxxyXtfoUh3xEHWRnR555IWzSED3ojORrw7DZ/kwFe0d06WGOuNloPec74xFu4Zap368iGiPxlovcMR8Rz78lH6MVWWbhfz5zkKNIzPPtPiQTw25SM1o8fwkwepl/jgR0rePuSn+UT/adGaDT/xLQB5+kzr6Fn4qf1MR+r7USf9rPct5fClv60KYk6f6vVQ5yj80uRn6vWiS1u0bhTr57qbalX8378Rj0M5jmHUhHcvPzRRDqRRdLhRXGsVXXym41bbHoeYPtkFkaf6N1MUXloP1yTufxSvha1+PPRMeGMa9dG36efxjjP+B6wkZjblVczn+pq2L8fUt/U157lEeQ1Rpk3GYztEOaoY2nGT7+Wv+dK056z/ynPb9FGOLPqXX/h6vgzNpW3b7tIMJcrxRRmaqWvb9sYvTET5JKIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAF/F/wGK2iVvT89ySQAAAABJRU5ErkJggg==",Ma="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAMAAABrrFhUAAAASFBMVEVHcEw1NTXb29swMDB9fX1DQ0NeXl5RUVFtbW3m5ubT09Pg4ODKyso7Ozufn5+9vb2urq62traQkJClpaWJiYmYmJjCwsLq6uo9xg8yAAAAF3RSTlMACeoDbBxBLlX54PHUEZnCrbiFonuQyd/Z9QoAAAhdSURBVHgB7MGBAAAAAICg/akXqQIAAAAAYO7qJdtSEIbC8AKREB4icI57/jOtzm1Ur1ZdFRO/GfxxqzdbTFnJex9+eO9pLWZ5fbgpFFwf7cg2MeNvnGw+2uguUDFvfOaFQt+zZfwT27z3QOU9ezDkvtUy/gvb4+vIvCF+RMYvcRyqj7CGLTNO4ryFVWM9uZZwkdQcqatnXIqrnhusP/VX4+YUvAuL3yxuYze/CH/4FTergmdAPWKC2Enk9mkkTJKGF9fvd8ZEvHth+ZhO0AloQr7gE9BgPIQHPZ5fPhYPsp/ybH/IeFgOT66/QYBGD+UvLkEE+1me6PcVYlQ/Pd90hiDczdx+qhCm0sx+lyBOctPy1x0i7eucfh8hVPRT5s8Qi93t+WWDaFu5t58OCHeQ3Ndf/4cgJCiQwl39Dkp8bslfvlDju1zfbwYUGeby/h2q7BdfoDQo08ql/RXq1CK6f4Kj6N+/jA2YBqWa0f/9F/AvGFBsnO/vUK2f7XdQzp3rDwzlOJzpJwv1Ev2+f424EScb83HkaNOf9u5Ex3EQCQPwjznA+D7sev83XWnVGu1oZ9Jp8pcTNP4eIN2xOaqgCK0oyh6F7CJKunPbU/SDMdYaM/iY9u3sPi4cOERFHpO3ACx+Y30as6g4UCSJgnwEg78y4ciiIKFA7IRucgO+MbjpIwZCa3phW8Lbas76AT81CtmU8LQ0Cdn47gEgpzcXH6X3RgCbxw/5Tagajx+wM/v1F0hZmJb3pUCLRxG/vCktsr75jF0Ke7ypE8wfs2XvWuGZ+TOA/k5laq6fCYYsNF3Ai0J3eV44ftL3hw3dxeFQbLXa//urEtqI7y3vX43SW5dbLh0BHUjcheMgMQncQLMJS28ue9inAY2ZriqfGZrr465rY9NmwCM7v7NxpGv2ingPegbZfEnTXN/fAfTfzXrFH0mgS0LSef0GMEHBJCSrfhYUoCCoTwSOPAJ+7DjolIPANkJFbHXDwcSPgclG3TF6+vAGQGwCk8X/i0KyQM0iJEG/fWmwSUhGxTSoN1Bjer2Z0AnJDkW7kLjKhkD+MKj2ySdUTUIStdKAHap2pYTAfnoUyI8GrU6icVqosqeQBJ0ecEDZISSrSg+QBGVJZYE86O89scRWow+s7MdaQTAoq8bsukHdprBu5zshcVDnFBZHk7AkaLMa/+wmLBHqYkvvrybzWxUfv79mw14LkmygzmR6e3XCMuECi7A4elXUjAvM7Jopyy4K0Q8EuBmhb9mPVNcoLK1nl0UduMAhNIl9OniFPv7/OwvNjgvs5PJp29f3AKjJq+/q6wLUyDXIvzsISiAfjxlrewCO/HnXBELkJjuLVJwLEKaBU8ijqjLbC88J2Cw8zQBt1jTCkw11FpT2ohUhZjYQhSlBXRKmiCBMDuqcMCXyAz2g7hCmRH6gE9RN5Ca7C1PnocsOjTDtOIQqQFkQqgOzUO1QtgvVjEnqGgQW9v97ClUb1feFqHr0UlUfSMLVI0tVfWATroxGauoDvhGuBo2QOShyQtaglZr6wCRkLYStDaqpMBtaYZuhZhS2Fp2wtVExCGDr0AjdBiWr0DXIUk0T8I3QZWThG6tpAJLRC1/nwWd9J3w9JlGwKUXBfBNm0ZBAl0TDjFE05AFkQxYNI1ZRMYJsFBUrnOgIGh2Az6l9cj8odAA+hyBKNoUOwJcQW1Gy1nDPXcTQiRYHktCKktZz6wN0VgZiI1oaAyyipokg8FnU9BYYRU/v8TLfi54FwC6K+sj8/nwjf4Ql3wEbe/VbiIKo6tIn3/ObHqy0srSOess9f+3KZFG2WhSxqyjLBgBm0TZFFIiLaFsKSg6KNA4/5hpRdxRkmoWWSHj9dKlgu6FUe3g8zR+tFChdvz/lEt0R8ZR4NHKJbIqS7XLdGPGtOHZykfn6WyXbxXk84N3cymV2pU3ndhoffGIzJ2/xB9a7uZErBf6BdJFucfG7SxG6c3TBG4sv1vjgxrOTB9p979XW7md+C49ZvtH05zKP6zpuy9Q3zyRVJqy9TiGDE4pzj/hirT+F6Pz6ZBPGRlgctfKkGYPF/xpGodkG/DK4paX/4MkpLzqd17sjqHMqgUJvaBXISzJF8Wx5KuX3TD3cEeUFc8Df2L2TF7W7xZ8M7iTuYNue/vW/xFntmk6bet4G9qp3jWg6pVif8HcWxvWsrbsgJc6EJxiXpUh2Bt8Y9obQAwqDwewsnjOUvKneeTwhboQeUJQRjh7PM2n6aeMyeFI4GRUcidL6H7BhzD+4nNvieaZkrgmv/VDjOuDnhrQ18q1mTgN+KE4lm4K/c5ds9/i0Tg9eVzcdyaOA2dtXixd8V3CJcOlD2Kbcym/a5tzW5C1Khf7Vat6xYKenmB1icm5fj3E81t25FAeL1/j5xZL+oNz89e3ytFR8HOX0+Fg2dT9LBAuGwc1An/5m8l5aizfiw8X+lavgDvXCN33+lO8dhWeydnw+O5zynS6W1WOuqII/y2tYY/e43dTB9+VHmo4Hj82iFj7LI3PRsZzFoB6hK2gAj5tA9qiJK65i941q1e9ljoIp4NHqqENl7FQ6lv+xCSyoTuxK7wPeH7ea2oeBveR0jkOF7FL6i4/pwf2UFXgc2KeSI6oBdRpLBzPfPA6cauGb0sHMPQ6camH30nTWTg8Cp4qbwGlKxo+Aeo3F4eyqf3/g9RPBUXSjmUPNluLDzKG94JeS9bnyfG6vcg58sN+3l93m41C3pTyc9VkvCLi+DzSx7Mj2icpF+a82FT69EZUbmld2NGZxqN3ySjTrc0Ltjq8QuEz0qJ17aUXbonY2SRvwL0vi8E8LB/5txuKX2+12u91ut9vtdrvdbrfb7Xa7/Qf0wSAxhEqDGQAAAABJRU5ErkJggg==",Ea="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAhAAAAEpBAMAAAAwswZCAAAAJ1BMVEU3NTbV1dU2NDXU1NTDwsOrq6t9fX1IR0dwb3DNzc2cm5xbWlqPj4+TNW2cAAAFhElEQVQYGe3AQYud5R0F8MPhzoxSN4d/buoUgcODtIFs+jCmaUqAuQ1RJJuZFAR3mUHE5TBqQFc3iUHcdVpQoZsE0GxjAcFdRPRz9b2ZmbTfoHKf80NERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERExK8VCRj4/pu3+7Wb3z4FTDQSoyGAhrvvSjt9p/ftd45oA8ZobBgPS6UuqaT5kmgwhtOI99Sl0pkLd4hGjIbAZ+ol9dJKV7+wJInRGB9rRypJpZUuzY9gjIaXTkqnuiZVkr4GMZyf9F9dz9XOM2MoBDa6ulZu/vLB+z8v9Fyfw8Q4GoC/qST1K5/DNLce7qg02SOMcTRuaKXePCZt2r57QyVpDsMYhYl9TepLwM1strl5opK0RwzEr0hd/S/HaECzG0x/qkm9ZoyDuKdS3z60TRiECeILqaT7GEf7w4mk+pdJ2IRNE758Q5OvQAxjo0r9wpEJm2ggCAMfdUlzGCOwDdxTL71lGyvGma2FpL4kRkCCXnRp+ylIwAZxhj9Iql0MwSQ2u6Q/22g0YOLcpa7SRWIINmaaPCII04Zxhnws6Q0MoQF+oNL2MWgQ/8v4pKtriSE0cl/Sn2DDvnzjiXGO/r2kuo0REG2rS9q1TWBD20vjDImF1K9iBCY2u6RDkEB7vff5Mc4RB5IuYgQkNiTVkU0AM0nXQRIGYH8o6YqNARgvl3SFhAHMJO3csk2CJje6+jZpY/35u6561Q0EMCup9ASECRgvSb0/bVh/BA4kXaWJyUxV0rUlCJPwliaHILH27MeSdg0YwEwrNT8GSQNcqPSIJtadwX1V7YEwgJl6SerXYRgE96W6DRprz15U6RnRDGBWmpR2bsEkgB8l/RUmBrBQ1aGNlZm6VFLVIzYYOOhVu2DD2iNOJN3BqZnOzWE24KCkfxAjsEq6j1MznSkBBvBA0h8NY92RPJF0B6dmWilJc9hoOJD0d2L9uXEh6RCnZnqudz1qNMGDLu0SxAAWJT3DqZkmXTt1iyQM/yj1XWP9kdyXdBunZpqU6jpgw8C+pD0YA/Bjde3i1EzPzY9IA7AXkh4Zxrpj44Gk3+LUTCvbSxgAiS1NDgli/fE7Sa8CNoGZ1KUnMCYNfklS/dvG2qPxclefG4DJmaR+iyBW3DZK/RpIjGCjtLNzZJjNr6t0HTZWTHyoXnOYWHsENlXSIQnbs9L8CMZzpA+qdLEBxtqzt3ov7ZpoxIa2lyBNrBgLSVdBE2uPwL56vwibxuUbTwgYxoTc7JL2CBLrjjDuSbV9BBiTRtAwJsQnpd6XJIy1Z2AmqT8iCJuwQeLUY0kXYDRiBJuavArAJs4QJF7S5CKG4UXv2n7KCc6ZJn+Q1HeJYTyQVG95ghdMby2kqiXGsdGl/sYRDeMMQX7UJc3RMApvnah33QKIF+zf3ChJX9kYBXFPKm0vDeJMg79QV+/3QYzCeEUrvzu2ca59Kqn0mhuGwYb9Lqm+hHGmbZ5IJe3BxjCIDUldevOoGbaBu4veJc0BG6MgiH2VVHXlczebWw+7ulTaA2yMZENSL/W6+csH7/+86L2rSnOCGIhN/KRJl0qTLqmkemYY4zAml/6pF7omvfQ12TAQT+CPpR1JvdQ1qdL8mMRISNjAZ12lKvWSVOoXljAaBmIQJP2epNK5C3cAYkwPe5WkrpKuLI1RkXff7ZJK2n7nyMawDHz/zdv92s1vn8LEsIyJG2iCjRiXbYBAA0xjWAZhAAZAgxiX2QgbhpuNcRGACcAgIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiLi/+Y/XKfZaw0ONrwAAAAASUVORK5CYII=",Ia="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",Sa=51,xa=52,Pa=179,La=37,Ta=38,Ba=39,Oa=40,Ga=13,Ua=49,Ra=8,Na=13,Fa=32,Va=46,Da=0,Ja=5,Ha=1e4,qa=0,za=!1,Xa=!1,ja=!1,Wa=!1,Ya="",Qa="https://fgl27.github.io/SmartTwitchTV/release/index.min.html",Za="elsu5d09k0xomu7cggx3qg5ybdwu7g",Ka="https://id.twitch.tv/oauth2/token?";function $a(e){Lr.Users_Position=Lr.Users_AddcodePosition,qa=e,ki(),Fu(),ai()}function ei(e,t,n,a){var i=new XMLHttpRequest,o=Ka+"grant_type=refresh_token&client_id="+encodeURIComponent(su)+"&client_secret="+encodeURIComponent(Za)+"&refresh_token="+encodeURIComponent(Di[e].refresh_token)+"&redirect_uri="+Qa;i.open("POST",o,!0),i.timeout=Ha,i.ontimeout=function(){},i.onreadystatechange=function(){4!==i.readyState||(200===i.status?ni(i.responseText,e,n):ti(e,t,n,a))},i.send(null)}function ti(e,t,n,a){++t<10?ei(e,t,n):a&&a()}function ni(e,t,n){var a=JSON.parse(e);Di[t].access_token=a.access_token,Di[t].refresh_token=a.refresh_token,so(),n&&n()}function ai(){var e=new XMLHttpRequest,t=Ka+"grant_type=authorization_code&client_id="+encodeURIComponent(su)+"&client_secret="+encodeURIComponent(Za)+"&code="+encodeURIComponent(qa)+"&redirect_uri="+Qa;e.open("POST",t,!0),e.timeout=Ha,e.ontimeout=function(){},e.onreadystatechange=function(){4!==e.readyState||(200===e.status?si(e.responseText):ii())},e.send(null)}function ii(){++Da<Ja?ai():oi()}function oi(){Vu(),Qu(Lt),window.setTimeout(function(){Zu(),Ur=0,m_(),Lr.Main_Go=wr,window.location=Qa},4e3),Di[Lr.Users_Position].access_token=0,Di[Lr.Users_Position].refresh_token=0}function si(e){var t=JSON.parse(e);Di[Lr.Users_Position].access_token=t.access_token,Di[Lr.Users_Position].refresh_token=t.refresh_token,ki(),di()}function di(){Tf("https://api.twitch.tv/kraken?oauth_token="+Di[Lr.Users_Position].access_token,Ha,0,null,li,ci)}function li(e){var t=JSON.parse(e).token;if(t.user_name&&-1!==t.user_name.indexOf(Di[Lr.Users_Position].name)){if(so(),Ur=0,Vu(),za=rE=!1,Lr.Main_Go=wr,m_(),Qu(wt),wu)try{Android.clearCookie()}catch(e){}window.setTimeout(function(){window.location=Qa},3e3)}else Di[Lr.Users_Position].access_token=0,Di[Lr.Users_Position].refresh_token=0,za=!1,Qu(Gn+Di[Lr.Users_Position].name),window.setTimeout(function(){Zu(),Ur=0,m_(),Lr.Main_Go=wr,window.location=Qa},4e3)}function ci(){++Da<Ja?(Ha+=500,di()):oi()}function ri(){ki(),Xa=!1,ui()}function ui(){var e="https://api.twitch.tv/kraken/users/"+Di[Lr.Users_Position].id+"/follows/channels/"+Ya,t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=Ha,t.setRequestHeader(du,su),t.setRequestHeader(lu,uu),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?_i():404===t.status?fi(t.responseText):mi())},t.send(null)}function _i(){za=!(Xa=!0),Wa?Wv():kd()}function fi(e){-1!==(JSON.parse(e).error+"").indexOf("Not Found")?(za=Xa=!1,Wa?Wv():kd()):mi()}function mi(){++Da<Ja?(Ha+=500,ui()):(za=!1,Wa?Wv():kd())}function hi(){ki(),pi()}function pi(){var e=new XMLHttpRequest;e.open("PUT","https://api.twitch.tv/kraken/users/"+Di[Lr.Users_Position].id+"/follows/channels/"+Ya,!0),e.timeout=Ha,e.setRequestHeader(du,su),e.setRequestHeader(lu,uu),e.setRequestHeader("Authorization","OAuth "+Di[Lr.Users_Position].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return Xa=!(za=!1),void(Wa?Wv():kd());401===e.status||403===e.status?ei(Lr.Users_Position,0,hi,null):vi()}},e.send(null)}function vi(){++Da<Ja&&(Ha+=500,pi())}function gi(){ki(),yi()}function yi(){var e=new XMLHttpRequest;e.open("DELETE","https://api.twitch.tv/kraken/users/"+Di[Lr.Users_Position].id+"/follows/channels/"+Ya,!0),e.timeout=Ha,e.setRequestHeader(du,su),e.setRequestHeader(lu,uu),e.setRequestHeader("Authorization","OAuth "+Di[Lr.Users_Position].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(204===e.status)return za=Xa=!1,void(Wa?Wv():kd());401===e.status||403===e.status?ei(Lr.Users_Position,0,gi,null):bi()}},e.send(null)}function bi(){++Da<Ja&&(Ha+=500,yi())}function wi(){ki(),ja=!1,Ai()}function ki(){Ha=1e4,za=!(Da=0)}function Ai(){var e,t="https://api.twitch.tv/kraken/users/"+Di[Lr.Users_Position].id+"/subscriptions/"+Ya;if(wu){if(!(e=Android.mreadUrl(t,Ha,3,Di[Lr.Users_Position].access_token)))return void Ci();if(200===(e=JSON.parse(e)).status)za=!(ja=!0),sy();else if(422===e.status)za=ja=!1,oy();else if(404===e.status){if(-1!==(JSON.parse(e.responseText).error+"").indexOf("Not Found"))return za=ja=!1,void oy();Ci()}else 401===e.status||403===e.status?ei(Lr.Users_Position,0,wi,Mi):Ci()}else(e=new XMLHttpRequest).open("GET",t,!0),e.timeout=Ha,e.setRequestHeader(du,su),e.setRequestHeader(lu,uu),e.setRequestHeader("Authorization","OAuth "+Di[Lr.Users_Position].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState)if(200===e.status)za=!(ja=!0),sy();else if(422===e.status)za=ja=!1,oy();else if(404===e.status){if(-1!==(JSON.parse(e.responseText).error+"").indexOf("Not Found"))return za=ja=!1,void oy();Ci()}else 401===e.status||403===e.status?ei(Lr.Users_Position,0,wi,Mi):Ci()},e.send(null)}function Ci(){++Da<Ja?(Ha+=500,Ai()):Mi()}function Mi(){za=ja=!1,oy()}function Ei(e){ki(),Ii(e,0)}function Ii(e,t){var n="https://api.twitch.tv/kraken?oauth_token="+Di[e].access_token,a=new XMLHttpRequest;a.open("GET",n,!0),a.timeout=1e4,a.ontimeout=function(){},a.onreadystatechange=function(){if(4===a.readyState){if(200===a.status)return void(JSON.parse(a.responseText).token.valid?za=!1:(ki(),ei(e,0,null,null)));400===a.status?(ki(),ei(e,0,null,null)):Si(e,t)}},a.send(null)}function Si(e,t){++t<Ja&&Ii(e,t)}function xi(){ki(),Pi()}function Pi(){var e=new XMLHttpRequest;e.open("PUT","https://api.twitch.tv/api/users/"+Di[Lr.Users_Position].name+"/follows/games/"+encodeURIComponent(Lr.Main_gameSelected)+"?oauth_token="+Di[Lr.Users_Position].access_token,!0),e.timeout=1e4,e.setRequestHeader(du,su),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return Io=!0,void Fo();401===e.status||403===e.status?ei(Lr.Users_Position,0,xi,null):Li()}},e.send(null)}function Li(){++Da<Ja&&(Ha+=500,Pi())}function Ti(){ki(),Bi()}function Bi(){var e=new XMLHttpRequest;e.open("DELETE","https://api.twitch.tv/api/users/"+Di[Lr.Users_Position].name+"/follows/games/"+encodeURIComponent(Lr.Main_gameSelected)+"?oauth_token="+Di[Lr.Users_Position].access_token,!0),e.timeout=1e4,e.setRequestHeader(du,su),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(204===e.status)return Io=!1,void Fo();401===e.status||403===e.status?ei(Lr.Users_Position,0,Ti,null):Oi()}},e.send(null)}function Oi(){++Da<Ja&&(Ha+=500,Bi())}function Gi(){ki(),Ui()}function Ui(){var e,t="https://api.twitch.tv/api/users/"+Di[Lr.Users_Position].name+"/follows/games/"+encodeURIComponent(Lr.Main_gameSelected);(e=new XMLHttpRequest).open("GET",t,!0),e.timeout=1e4,e.setRequestHeader(du,su),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState)return 200===e.status?(Io=!0,void Fo()):404===e.status?(Io=!1,void Fo()):void Ri()},e.send(null)}function Ri(){++Da<Ja?(Ha+=500,Ui()):(Io=!1,Fo())}var Ni=0,Fi=5,Vi=3500,Di=[],Ji=null,Hi=!1,qi=!1;function zi(){Lr.Main_Go=cr,Gu("top_bar_user","icon_center_focus"),Zu(),Kc.placeholder=A,Bu("add_user_scroll"),Wi()}function Xi(){Qi(!1),document.body.removeEventListener("keydown",ji),document.body.removeEventListener("keydown",Zi),Uu("top_bar_user","icon_center_focus"),Tu("add_user_scroll")}function ji(e){if(!Hi&&!qi&&Lr.Main_Go===cr)switch(e.keyCode){case Ua:e_()?$u():i_()?a_():(0<Di.length&&Lr.Main_Go!==wr?Lr.Main_Go=Lr.Main_Before:Lr.Main_Go=lr,Xi(),__());break;case xa:case Sa:case Pa:case Ga:Wi()}}function Wi(){document.body.removeEventListener("keydown",ji),document.body.addEventListener("keydown",Zi,!1),Kc.placeholder=A,Kc.focus(),qi=!0}function Yi(){if(null!==Kc){var e=Kc.cloneNode(!0);Kc.parentNode.replaceChild(e,Kc),Kc=document.getElementById("user_input")}}function Qi(e){Kc.blur(),Yi(),document.body.removeEventListener("keydown",Zi),Kc.placeholder=C+A,e&&document.body.addEventListener("keydown",ji,!1),qi=!1}function Zi(e){if(!Hi&&Lr.Main_Go===cr)switch(e.keyCode){case Ua:e_()?$u():i_()?a_():(0<Di.length&&Lr.Main_Go!==wr?Lr.Main_Go=Lr.Main_Before:Lr.Main_Go=lr,Xi(),__());break;case Va:Kc.value="";break;case Na:case Oa:""!==Kc.value&&null!==Kc.value?co(Ji=Kc.value)?(Vu(),Qu(u+Ji+ae),window.setTimeout(function(){Zu(),Wi()},1500)):(Vi=3500,Hi=!(Ni=0),Tu("add_user_scroll"),Fu(),Ki()):Wi();break;case Ra:Kc.value=Kc.value.slice(0,-1);break;case Fa:Kc.value+=" "}}function Ki(){Tf("https://api.twitch.tv/kraken/users?login="+encodeURIComponent(Ji),Vi,2,null,$i,eo)}function $i(e){JSON.parse(e)._total?(Kc.value="",document.body.removeEventListener("keydown",ji),io(e)):to()}function eo(){++Ni<Fi?(Vi+=500,Ki()):to()}function to(){Ji=null,Vu(),Qu(te),window.setTimeout(function(){zi()},1e3),Hi=!1}function no(){if(0<(Di=Sf("AddUser_UsernameArray",[])).length)for(var e=0;e<Di.length;e++)Di[e].access_token&&Ei(e)}function ao(){return 0<Di.length}function io(e){Ji=JSON.parse(e).users[0],Di.push({name:Ji.name,id:Ji._id,access_token:0,refresh_token:0}),so(),rE=!1,Xi(),_E(),Hi=!1}function oo(e){var t=Di.indexOf(Di[e]);-1<t&&Di.splice(t,1),0<Di.length?(rE=!1,_E()):zi(),so()}function so(){Ef("AddUser_UsernameArray",JSON.stringify(Di))}function lo(e){Ji=Di[0],Di[0]=Di[e],Di[e]=Ji,rE=!1,_E(),so()}function co(e){return-1!==Di.indexOf(e)}function ro(){return 0<Di.length}var uo=0,_o=0,fo=!1,mo=0,ho={},po=[],vo=!1,go=0,yo=5,bo=3500,wo=0,ko=0,Ao=!1,Co=["ag_thumbdiv","ag_img","ag_infodiv","ag_displayname","ag_streamtitle","ag_streamgame","ag_viwers","ag_quality","ag_cell","agempty_","a_games_scroll"],Mo=!1,Eo=!1,Io=!1,So=!1,xo=!1;function Po(){Lr.Main_CenterLablesVectorPos=3,Lr.Main_Go=ur,document.body.addEventListener("keydown",Qo,!1),Gu("top_bar_game","icon_center_focus"),Lu("label_side_panel","icon-arrow-circle-left",I),Lr.Search_isSearching&&(g_(),Ru("top_bar_user",n+y_(f+" '"+Lr.Search_data+"'"))),Ru("top_bar_game",b+y_(_+": "+Lr.Main_gameSelected)),Lr.Main_OldgameSelected===Lr.Main_gameSelected&&Mo?(I_(uo),Bu(Co[10]),Xo(),m_()):To()}function Lo(){Mo&&-1===uo&&(Yo(),_o=uo=0,Gu(Co[0]+"0_"+_o,mu)),Lu("label_side_panel","icon-ellipsis",Rn),Ru("top_bar_game",f),document.body.removeEventListener("keydown",Qo),Uu("top_bar_game","icon_center_focus"),Tu(Co[10])}function To(){null===Lr.Main_OldgameSelected&&(Lr.Main_OldgameSelected=Lr.Main_gameSelected),A_("stream_table_a_game"),Tu(Co[10]),Fu(),Zu(),xo=Mo=!1,ho={},gf=!(mo=ko=wo=0),uo=_o=0,fo=Eo=!(po=[]),Xu(),Bo(),Oo()}function Bo(){M_(),vo=!0,go=0,bo=3500}function Oo(){var e=mo+wo;e&&ko-1<e&&(e=ko-Qr,fo=!0);var t="https://api.twitch.tv/kraken/streams?game="+encodeURIComponent(Lr.Main_gameSelected)+"&limit="+Qr+"&offset="+e+(""!==Jr?"&broadcaster_language="+Jr:"");wu&&!mo?Of(t,bo,2,null,Uo,Go):Gf(t,bo,2,null,Uo,Go,!1)}function Go(){++go<yo?(bo+=500,Oo()):(vo=!1,mo?(fo=!0,Ro()):(gf=!1,Vu(),Qu(P)))}function Uo(e){var t=JSON.parse(e),n=t.streams.length;ko=parseInt(t._total),n<Qr&&(fo=!0);var a=mo;Ao=!(mo+=n);var i=n/Zr;0<n%Zr&&i++;var o,s,d,l,c,r,u=0,_=document.getElementById("stream_table_a_game");if(!xo){var f;for(xo=!0,d=document.createElement("tr"),l=0;l<3;l++)f=l?1===l?'<i class="icon-movie stream_channel_fallow_icon"></i>'+wa+U:"":'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+wa+wa+Kt,(Vr=document.createElement("td")).setAttribute("id",Co[8]+"y_"+l),Vr.className="stream_cell",Vr.innerHTML='<div id="'+Co[0]+"y_"+l+'" class="stream_thumbnail_fallow_game" ><div id="'+Co[3]+"y_"+l+'" class="stream_channel_fallow_game">'+f+"</div></div>",d.appendChild(Vr);_.appendChild(d)}for(l=0;l<i;l++){for(s=a/Zr+l,d=document.createElement("tr"),o=0;o<Zr&&u<n;o++,u++)r=(c=t.streams[u]).channel._id,ho[r]?o--:(ho[r]=1,d.appendChild(O_(s,s+"_"+o,[c.channel.name,r],Co,[c.preview.template.replace("{width}x{height}",_u),d_(JSON.stringify(c.stream_type))+c.channel.display_name,c.channel.status,c.game,y+Up(c.created_at)+" "+h+o_(c.viewers)+D,s_(c.video_height,c.average_fps,c.channel.broadcaster_language)])));for(;o<Zr;o++)fo&&!Eo&&(Eo=!0,mo=s*Zr+o),d.appendChild(P_(Co[9]+s+"_"+o)),po.push(Co[9]+s+"_"+o);_.appendChild(d)}Ro()}function Ro(){if(Mo){if(C_(Ea),0<po.length&&!fo)return Bo(),void Ho();Xo(!0),po=[]}else No(),Ao?(Qu(L+Z),uo=-1,Wo()):(Mo=!0,C_(Ea),Xo(),m_()),Bu(Co[10]),gf=!1,Vu();vo=!1}function No(){So?(Io=!0,Fo()):ao()?Gi():(Io=!1,Fo())}function Fo(){Ru(Co[3]+"y_2",Io?'<i class="icon-heart" style="color: #00b300; font-size: 100%;"></i>'+wa+wa+Et:'<i class="icon-heart-o" style="color: #FFFFFF; font-size: 100%; "></i>'+wa+wa+(ao()?It:Tt))}function Vo(){ao()&&Di[Lr.Users_Position].access_token?Io?Ti():xi():(Qu(Bt),window.setTimeout(function(){Ao&&Lr.Main_Go===ur?Qu(L+Z):Zu()},2e3))}function Do(){_o?1===_o?(Lr.Main_Go=Ir,Lr.Main_OldgameSelected=Lr.Main_gameSelected,Jo(),f_()):Vo():(Lr.Main_Go=Er,Lr.Main_OldgameSelected=Lr.Main_gameSelected,Jo(),f_())}function Jo(){Mo&&-1===uo&&(Yo(),_o=uo=0,Gu(Co[0]+"0_"+_o,mu)),document.body.removeEventListener("keydown",Qo),Tu(Co[10])}function Ho(){Yu(po.length);var e=mo+wo;e&&ko-1<e&&(e=ko-ou,fo=!0),Tf("https://api.twitch.tv/kraken/streams?game="+encodeURIComponent(Lr.Main_gameSelected)+"&limit="+ou+"&offset="+e+(""!==Jr?"&broadcaster_language="+Jr:""),bo,2,null,zo,qo)}function qo(){++go<yo?(bo+=500,Ho()):(fo=!0,mo-=po.length,po=[],Ro())}function zo(e){var t,n,a=JSON.parse(e),i=a.streams.length,o=0,s=0,d=[];for(ko=parseInt(a._total),i<ou&&(fo=!0);o<po.length&&s<i;o++,s++)n=(t=a.streams[s]).channel._id,ho[n]?o--:(ho[n]=1,G_(po[o],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",_u),d_(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+Up(t.created_at)+" "+h+o_(t.viewers)+D,s_(t.video_height,t.average_fps,t.channel.broadcaster_language)],Co),d.push(o));for(o=d.length-1;-1<o;o--)po.splice(d[o],1);wo+=s,fo&&(mo-=po.length,po=[]),Ro()}function Xo(e){uo<0?Wo():(q_(uo,_o,Co,Zr,mo,e),mo/Zr<uo+Kr&&!fo&&!vo&&(Bo(),Oo()),Or&&jo())}function jo(){-1<uo&&mo?$_(uo+"_"+_o,Co):Yo()}function Wo(){Gu(Co[0]+"y_"+_o,mu)}function Yo(){Uu(Co[0]+"y_"+_o,mu)}function Qo(e){var t;if(!gf&&!J_())switch(D_(),e.keyCode){case Ua:i_()?a_():e_()?$u():(Lr.Main_OldgameSelected=Lr.Main_gameSelected,jo(),Yo(),bf(Qo));break;case La:if(-1===uo)Yo(),--_o<0&&(_o=2),Wo();else if(uo||_o){if(l_(uo,_o-1,Co[0]))jo(),_o--,Xo();else for(t=Zr-1;-1<t;t--)if(l_(uo-1,t,Co[0])){jo(),uo--,_o=t,Xo();break}}else jo(),Yo(),uo=-1,_o=2,Wo();break;case Ba:-1===uo?(Yo(),2<++_o?(_o=0,Ao?Wo():(uo=0,Xo())):Wo()):l_(uo,_o+1,Co[0])?(jo(),_o++,Xo()):l_(uo+1,0,Co[0])&&(jo(),uo++,_o=0,Xo());break;case Ta:if(-1!==uo||Ao)if(uo){for(t=0;t<Zr;t++)if(l_(uo-1,_o-t,Co[0])){jo(),uo--,_o-=t,Xo();break}}else jo(),uo=-1,Wo();else uo=0,Yo(),Xo();break;case Oa:if(-1!==uo||Ao){for(t=0;t<Zr;t++)if(l_(uo+1,_o-t,Co[0])){jo(),uo++,_o-=t,Xo();break}}else uo=0,Yo(),Xo();break;case xa:case Sa:case Pa:case Ga:-1!==uo?j_(uo+"_"+_o,Co,Qo):Do()}}var Zo=0,Ko=0,$o=!1,es=0,ts={},ns=[],as=!1,is=0,os=5,ss=3500,ds=0,ls=0,cs=!1,rs=!1,us="week",_s=2,fs=!1,ms=["agv_thumbdiv","agv_img","agv_infodiv","agv_title","agv_streamon","agv_duration","agv_viwers","agv_quality","agv_cell","gvempty_","a_games_vod_scroll","agv_game"],hs=!1,ps=!1,vs="";function gs(){Lr.Main_CenterLablesVectorPos=3,Lr.Main_Go=Er,Gu("top_bar_game","icon_center_focus"),document.body.addEventListener("keydown",Bs,!1),Lu("label_side_panel","icon-arrow-circle-left",I),vs===Lr.Main_gameSelected&&hs?(I_(Zo),Bu(ms[10]),Os(),xs(),m_()):bs()}function ys(){hs&&Ps(),document.body.removeEventListener("keydown",Bs),Uu("top_bar_game","icon_center_focus"),Ru("top_bar_game",f),Lu("label_side_panel","icon-ellipsis",Rn),Tu(ms[10])}function bs(){hs&&Ps(),A_("stream_table_a_game_vod"),Tu(ms[10]),Fu(),Os(),vs=Lr.Main_gameSelected,Zu(),fs=hs=!1,gf=!(rs=!(ns=[])),Zo=Ko=es=ls=ds=0,$o=!(ts={}),Xu(),ws(),ks()}function ws(){M_(),as=!0,is=0,ss=3500}function ks(){var e=es+ds;e&&ls-1<e&&(e=ls-Qr,$o=!0);var t="https://api.twitch.tv/kraken/videos/top?game="+encodeURIComponent(Lr.Main_gameSelected)+"&limit="+Qr+"&broadcast_type="+(ps?"highlight":"archive")+"&sort=views&offset="+e+"&period="+us+(""!==Jr?"&language="+Jr:"");wu&&!es?Of(t,ss,2,null,Cs,As):Gf(t,ss,2,null,Cs,As,!1)}function As(){++is<os?(ss+=500,ks()):(as=!1,es?($o=!0,Ms()):(gf=!1,Vu(),Qu(P)))}function Cs(e){var t=JSON.parse(e),n=t.vods.length;ls=parseInt(t._total),n<Qr&&($o=!0);var a=es;cs=!(es+=n);var i=n/Zr;0<n%Zr&&i++;var o,s,d,l,c,r=0,u=document.getElementById("stream_table_a_game_vod");if(!fs){var _;for(fs=!0,d=document.createElement("tr"),f=0;f<2;f++)_=f?'<i class="icon-history stream_channel_fallow_icon"></i>'+wa+wa+m:'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+wa+wa+p,(Vr=document.createElement("td")).setAttribute("id",ms[8]+"y_"+f),Vr.className="stream_cell",Vr.innerHTML='<div id="'+ms[0]+"y_"+f+'" class="stream_thumbnail_channel_vod" ><div id="'+ms[3]+"y_"+f+'" class="stream_channel_fallow_game">'+_+"</div></div>",d.appendChild(Vr);u.appendChild(d)}for(var f=0;f<i;f++){for(s=a/Zr+f,d=document.createElement("tr"),o=0;o<Zr&&r<n;o++,r++)c=(l=t.vods[r])._id,-1!==(l.preview.template+"").indexOf("404_processing")||ts[c]?o--:(ts[c]=1,d.appendChild(zI(s,s+"_"+o,[c,l.length,l.channel.broadcaster_language,l.game,l.channel.name,l.increment_view_count_url],[l.preview.template.replace("{width}x{height}",_u),l.channel.display_name,N+b_(l.created_at),mS.parse(l.title)+da+Qt+v+l.game,o_(l.views)+V,s_(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.channel.broadcaster_language),F+Op(l.length),l.animated_preview_url],ms)));for(;o<Zr;o++)$o&&!rs&&(rs=!0,es=s*Zr+o),d.appendChild(P_(ms[9]+s+"_"+o)),ns.push(ms[9]+s+"_"+o);u.appendChild(d)}Ms()}function Ms(){if(hs?C_(Ea):(cs?Qu(L+(ps?G:O)+T+E):(hs=!0,C_(Ea),xs(),m_()),Bu(ms[10]),gf=!1,Vu()),0<ns.length&&!$o)return ws(),void Es();xs(!0),as=!(ns=[])}function Es(){Yu(ns.length);var e=es+ds;e&&ls-1<e&&(e=ls-ou,$o=!0),Tf("https://api.twitch.tv/kraken/videos/top?game="+encodeURIComponent(Lr.Main_gameSelected)+"&limit="+ou+"&broadcast_type="+(ps?"highlight":"archive")+"&sort=views&offset="+e+"&period="+us+(""!==Jr?"&language="+Jr:""),ss,2,null,Ss,Is)}function Is(){++is<os?(ss+=500,Es()):($o=!0,ns=[],Ms())}function Ss(e){var t,n,a=JSON.parse(e),i=a.vods.length,o=0,s=0,d=[];for(ls=parseInt(a._total);o<ns.length&&s<i;o++,s++)n=(t=a.vods[s])._id,-1!==(t.preview.template+"").indexOf("404_processing")||ts[n]?o--:(ts[n]=1,jI(ns[o],[n,t.length,t.channel.broadcaster_language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",_u),t.channel.display_name,N+b_(t.created_at),mS.parse(t.title)+da+Qt+v+t.game,o_(t.views)+V,s_(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.channel.broadcaster_language),F+Op(t.length),t.animated_preview_url],ms),d.push(o));for(o=d.length-1;-1<o;o--)ns.splice(d[o],1);ds+=s,$o&&(es-=ns.length,ns=[]),Ms()}function xs(e){Zo<0?Ls():(q_(Zo,Ko,ms,Zr,es,e),aS(ms,Zo+"_"+Ko),es/Zr<Zo+Kr&&!$o&&!as&&(ws(),ks()),Or&&Ps())}function Ps(){window.clearInterval(hI),-1<Zo&&es?(Bu(ms[1]+Zo+"_"+Ko),$_(Zo+"_"+Ko,ms)):Ts()}function Ls(){var e=1<Ko?1:Ko;Gu(ms[0]+"y_"+e,mu)}function Ts(){var e=1<Ko?1:Ko;Uu(ms[0]+"y_"+e,mu)}function Bs(e){var t;if(!gf&&!J_())switch(D_(),e.keyCode){case Ua:i_()?a_():e_()?$u():(Ps(),bf(Bs));break;case La:if(-1===Zo)Ts(),--Ko<0&&(Ko=1),Ls();else if(Zo||Ko){if(l_(Zo,Ko-1,ms[0]))Ps(),Ko--,xs();else for(t=Zr-1;-1<t;t--)if(l_(Zo-1,t,ms[0])){Ps(),Zo--,Ko=t,xs();break}}else Ps(),Ts(),Zo=-1,Ko=1,Ls();break;case Ba:-1===Zo?(Ts(),1<++Ko?(Ko=0,cs?Ls():(Zo=0,xs())):Ls()):l_(Zo,Ko+1,ms[0])?(Ps(),Ko++,xs()):l_(Zo+1,0,ms[0])&&(Ps(),Zo++,Ko=0,xs());break;case Ta:if(-1!==Zo||cs)if(Zo){for(t=0;t<Zr;t++)if(l_(Zo-1,Ko-t,ms[0])){Ps(),Zo--,Ko-=t,xs();break}}else Ps(),Zo=-1,Ls();else Zo=0,Ts(),xs();break;case Oa:if(-1!==Zo||cs){for(t=0;t<Zr;t++)if(l_(Zo+1,Ko-t,ms[0])){Ps(),Zo++,Ko-=t,xs();break}}else Zo=0,Ts(),xs();break;case xa:case Sa:case Pa:case Ga:-1===Zo?(0===Ko?Ef("AGameVod_highlight",(ps=!ps)?"true":"false"):4<++_s&&(_s=1),bs()):Q_(Zo+"_"+Ko,ms,Bs)}}function Os(){1===_s?(Ru("top_bar_game",b+y_((ps?G:O)+de+": "+Lr.Main_gameSelected)),us="day"):2===_s?(Ru("top_bar_game",b+y_((ps?G:O)+le+": "+Lr.Main_gameSelected)),us="week"):3===_s?(Ru("top_bar_game",b+y_((ps?G:O)+ce+": "+Lr.Main_gameSelected)),us="month"):4===_s&&(Ru("top_bar_game",b+y_((ps?G:O)+re+": "+Lr.Main_gameSelected)),us="all"),Ef("AGameVod_periodNumber",_s)}var Gs,Us=0,Rs=0,Ns=!1,Fs=0,Vs=0,Ds=5,Js=3500,Hs=0,qs=!1,zs=!1,Xs=["cc_thumbdiv","cc_img","cc_infodiv","cc_name","cc_createdon","cc_game","cc_viwers","cc_duration","cc_cell","sccempty_","channel_content_scroll"],js=!1,Ws="",Ys=null,Qs="",Zs="",Ks="",$s="",ed="",td={},nd=!1,ad=null,id="";function od(){Lr.Main_CenterLablesVectorPos=1,Lr.Main_Go=gr,nd&&!Lr.Search_isSearching&&Lr.Main_selectedChannel_id&&xd(),Ws!==Lr.Main_selectedChannel&&(js=!1),g_(),Lr.Main_selectedChannelDisplayname=Lr.Main_selectedChannelDisplayname.replace(W,""),Nu("top_bar_user",Lr.Main_selectedChannelDisplayname),Nu("top_bar_game",Ut),document.body.addEventListener("keydown",Pd,!1),Wa=!1,js?(I_(Us),Bu(Xs[10]),Cd(),Md(),m_()):dd()}function sd(){v_(),document.body.removeEventListener("keydown",Pd),Tu(Xs[10])}function dd(){A_("stream_table_channel_content"),Tu(Xs[10]),ad=null,Fu(),Zu(),Ws=Lr.Main_selectedChannel,$s="",Ns=qs=js=!1,Gs=void(Us=Rs=Fs=Hs=0),ld(),cd()}function ld(){gf=!0,Vs=0,Js=3500}function cd(){Tf("https://api.twitch.tv/kraken/streams/"+encodeURIComponent(void 0!==Gs?Gs:Lr.Main_selectedChannel_id),Js,2,null,rd,ud)}function rd(e){null!==JSON.parse(e).stream?(Ys=e,ld(),hd()):Gs?(Ys=null,ld(),hd()):(ld(),_d())}function ud(){++Vs<Ds?(Js+=500,cd()):(Ys=null,ld(),hd())}function _d(){Tf("https://tmi.twitch.tv/hosts?include_logins=1&host="+encodeURIComponent(Lr.Main_selectedChannel_id),Js,1,null,md,fd,!0)}function fd(){++Vs<Ds?(Js+=500,_d()):(Ys=null,ld(),hd())}function md(e){var t=JSON.parse(e);void 0!==(Gs=t.hosts[0].target_id)?(ld(),cd()):(Ys=null,ld(),hd())}function hd(){Tf("https://api.twitch.tv/kraken/channels/"+Lr.Main_selectedChannel_id,vg,2,null,pd,vd)}function pd(e){var t=JSON.parse(e);ad=(ad=t.video_banner)?ad.replace("1920x1080",_u):ad,id=t.profile_banner,Qs=t.views,Zs=t.followers,Ks=t.description,Lr.Main_selectedChannelLogo=t.logo,gd()}function vd(){++Vs<Ds?(Js+=500,hd()):(ad=null,id=Ia,Ks=Zs=Qs="",Lr.Main_selectedChannelLogo=Ma,gd())}function gd(){var e=document.createElement("tr"),t=0,n=document.getElementById("stream_table_channel_content");if((Vr=document.createElement("tr")).className="follower_banner",Vr.innerHTML='<div id="'+Xs[0]+'x_0" class="follower_banner"><img id="'+Xs[1]+'x_0" class="stream_img_banner"></div>',n.appendChild(Vr),null!==Ys){var a=JSON.parse(Ys);if(null!==a.stream){var i=void 0!==Gs?Lr.Main_selectedChannelDisplayname+ne:"",o=a.stream;e.appendChild(yd("0_"+t,o.channel.name,o.preview.template,mS.parse(o.channel.status),o.game,d_(JSON.stringify(o.stream_type))+i+o.channel.display_name,y+Up(o.created_at)+" "+h+o_(o.viewers)+D,s_(o.video_height,o.average_fps,o.channel.broadcaster_language))),t++}else qs=!0}else qs=!0;e.appendChild(bd("0_"+t,Lr.Main_selectedChannelDisplayname,Lr.Main_selectedChannelDisplayname+O,"movie-play")),t++,e.appendChild(bd("0_"+t,Lr.Main_selectedChannelDisplayname,Lr.Main_selectedChannelDisplayname+U,"movie")),t<2&&(t++,e.appendChild(P_(Xs[9]+"0_"+t))),n.appendChild(e),(e=document.createElement("tr")).appendChild(wd("1_0",Lr.Main_selectedChannelDisplayname,Lr.Main_selectedChannelDisplayname,Lr.Main_selectedChannelLogo)),(Vr=document.createElement("td")).setAttribute("id",Xs[8]+"x_x"),Vr.className="stream_cell",Vr.innerHTML='<div id="'+Xs[0]+'x_x" class="stream_thumbnail_video" ><div id="'+Xs[4]+'x_x" class="stream_channel_info">'+mS.parse(Ks)+"</div></div>",e.appendChild(Vr),n.appendChild(e),Ad()}function yd(e,t,n,a,i,o,s,d){return $s=n.replace("{width}x{height}",_u),(Vr=document.createElement("td")).setAttribute("id",Xs[8]+e),Vr.setAttribute(hu,t),Vr.className="stream_cell",Vr.innerHTML='<div id="'+Xs[0]+e+'" class="stream_thumbnail_video" ><img id="'+Xs[1]+e+'" class="stream_img"></div><div id="'+Xs[2]+e+'" class="stream_text"><div id="'+Xs[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;"><i class="icon-circle" style="color: '+(void 0!==Gs?"#FED000":"red")+'; font-size: 90%; aria-hidden="true"></i> '+wa+o+'</div><div id="'+Xs[7]+e+'"class="stream_info" style="width:33%; float: right; text-align: right; display: inline-block;">'+d+'</div><div id="'+Xs[4]+e+'"class="stream_info">'+a+'</div><div id="'+Xs[5]+e+'"class="stream_info">'+v+i+'</div><div id="'+Xs[6]+e+'"class="stream_info">'+s+"</div></div>",Vr}function bd(e,t,n,a){return(Vr=document.createElement("td")).setAttribute("id",Xs[8]+e),Vr.setAttribute(hu,t),Vr.className="stream_cell",Vr.innerHTML='<div id="'+Xs[0]+e+'" class="stream_thumbnail_video" ><div id="'+Xs[1]+e+'" class="stream_channel_content_icon"><i class="icon-'+a+'"></i></div></div><div id="'+Xs[2]+e+'" class="stream_text"><div id="'+Xs[3]+e+'" class="stream_channel" style="text-align: center">'+n+"</div></div>",Vr}function wd(e,t,n,a){return ed=a,(Vr=document.createElement("td")).setAttribute("id",Xs[8]+e),Vr.setAttribute(hu,t),Vr.className="stream_cell",Vr.innerHTML='<div id="'+Xs[0]+e+'" class="stream_thumbnail_video" ><div id="schannel_cont_heart" style="position: absolute; top: 5%; left: 6%;"></div><img id="'+Xs[1]+e+'" class="stream_img_fallow"></div><div id="'+Xs[2]+e+'" class="stream_text"><div id="'+Xs[3]+e+'" class="stream_channel">'+n+'</div><div id="'+Xs[5]+e+'"class="stream_info">'+o_(Qs)+V+'</div><div id="'+Xs[6]+e+'"class="stream_info" >'+o_(Zs)+Ft+"</div></div>",Vr}function kd(){Xa?(Ru("schannel_cont_heart",'<i class="icon-heart" style="color: #00b300; font-size: 600%; text-shadow: #FFFFFF 0 0 10px, #FFFFFF 0 0 10px, #FFFFFF 0 0 8px;"></i>'),Nu(Xs[3]+"1_0",Lr.Main_selectedChannelDisplayname+Et)):(Ru("schannel_cont_heart",'<i class="icon-heart-o" style="color: #FFFFFF; font-size: 600%; text-shadow: #000000 0 0 10px, #000000 0 0 10px, #000000 0 0 8px;"></i>'),ao()?Nu(Xs[3]+"1_0",Lr.Main_selectedChannelDisplayname+It):Nu(Xs[3]+"1_0",Lr.Main_selectedChannelDisplayname+Vt))}function Ad(){js||(js=!0,""!==$s&&Cu(document.getElementById(Xs[1]+"0_0"),$s,Ea),Cu(document.getElementById(Xs[1]+"x_0"),id,Ia),Cu(document.getElementById(Xs[1]+"1_0"),ed,Ma),Md(),m_(),Bu(Xs[10]),Vu()),Cd(),gf=!1}function Cd(){zs?kd():ao()?(Ya=Lr.Main_selectedChannel_id,Wa=!1,ri()):(Xa=!1,kd())}function Md(){Gu(Xs[0]+Us+"_"+(Us?0:Rs),mu),Or&&Ed(),F_()}function Ed(){$_(Us+"_"+(Us?0:Rs),Xs)}function Id(){if(Us)ao()&&Di[Lr.Users_Position].access_token?(Wa=!1,Ya=Lr.Main_selectedChannel_id,Xa?gi():hi()):(Qu(Bt),window.setTimeout(Zu,2e3));else{document.body.removeEventListener("keydown",Pd),Tu(Xs[10]);var e=qs?1:0;Rs===0-e?(Lr.Play_selectedChannel=document.getElementById(Xs[8]+Us+"_"+Rs).getAttribute(hu),Lr.Play_selectedChannelDisplayname=document.getElementById(Xs[3]+Us+"_"+Rs).textContent,-1!==Lr.Play_selectedChannelDisplayname.indexOf(ne)?(Lr.Play_isHost=!0,Lr.Play_DisplaynameHost=Lr.Play_selectedChannelDisplayname,Lr.Play_selectedChannelDisplayname=Lr.Play_selectedChannelDisplayname.split(ne)[1],Lr.Play_selectedChannel_id=Gs):Lr.Play_selectedChannel_id=Lr.Main_selectedChannel_id,Lr.Play_gameSelected=document.getElementById(Xs[5]+Us+"_"+Rs).textContent.split(v)[1],nf(W_)):Rs===1-e?nf(nl):Rs===2-e&&(Dy=mb,nf(Xy))}}function Sd(){td={"Main_values.Main_selectedChannel_id":Lr.Main_selectedChannel_id,"Main_values.Main_selectedChannelLogo":Lr.Main_selectedChannelLogo,"Main_values.Main_selectedChannel":Lr.Main_selectedChannel,"Main_values.Main_selectedChannelDisplayname":Lr.Main_selectedChannelDisplayname,ChannelContent_UserChannels:zs,"Main_values.Main_BeforeChannel":Lr.Main_BeforeChannel}}function xd(){Lr.Main_selectedChannel_id=Lr.Main_selectedChannel_id,Lr.Main_selectedChannelLogo=Lr.Main_selectedChannelLogo,Lr.Main_selectedChannel=Lr.Main_selectedChannel,Lr.Main_selectedChannelDisplayname=Lr.Main_selectedChannelDisplayname,zs=td.ChannelContent_UserChannels,Lr.Main_BeforeChannel=Lr.Main_BeforeChannel,nd=!(td={})}function Pd(e){if(!gf&&!J_())switch(D_(),e.keyCode){case Ua:i_()?a_():e_()?$u():(Ed(),bf(Pd));break;case La:Us||(Ed(),--Rs<0&&(Rs=qs?1:2),Md());break;case Ba:Us||(Ed(),(qs?1:2)<++Rs&&(Rs=0),Md());break;case Ta:case Oa:Ed(),Us=Us?0:1,Md();break;case xa:case Sa:case Pa:case Ga:Id()}}var Ld=0,Td=0,Bd=!1,Od=0,Gd={},Ud=[],Rd=!1,Nd=0,Fd=5,Vd=3500,Dd=0,Jd=0,Hd=0,qd=!1,zd=!1,Xd="",jd=!1,Wd=["cv_thumbdiv","cv_img","cv_infodiv","cv_title","cv_streamon","cv_duration","cv_viwers","cv_quality","cv_cell","cvempty_","channel_vod_scroll","cv_game"],Yd=!1,Qd=!1,Zd="",Kd="",$d="",el="",tl=0;function nl(){Lr.Main_CenterLablesVectorPos=1,Lr.Main_Go=yr,!Lr.Search_isSearching&&Lr.Main_selectedChannel_id&&xd(),Lr.Main_selectedChannel!==Zd&&(Yd=!1),g_(),Lu("label_side_panel","icon-arrow-circle-left",I),Nu("top_bar_user",Lr.Main_selectedChannelDisplayname),document.body.addEventListener("keydown",vl,!1),Yd?(I_(Ld),Nu("top_bar_game",Qd?G:O),Bu(Wd[10]),fl(),m_()):il()}function al(){Yd&&ml(),v_(),document.body.removeEventListener("keydown",vl),Tu(Wd[10])}function il(){Yd&&ml(),A_("stream_table_channel_vod"),Tu(Wd[10]),Nu("top_bar_game",Qd?G:O),Fu(),Zu(),Zd=Lr.Main_selectedChannel,jd=Yd=!1,gf=!(zd=!(Ud=[])),Ld=Td=Od=Jd=Dd=0,Bd=!(Gd={}),Xu(),ol(),sl()}function ol(){M_(),Rd=!0,Nd=0,Vd=3500}function sl(){var e=Od+Dd;e&&Jd-1<e&&(e=Jd-Qr,Bd=!0);var t="https://api.twitch.tv/kraken/channels/"+encodeURIComponent(Lr.Main_selectedChannel_id)+"/videos?limit="+Qr+"&broadcast_type="+(Qd?"highlight":"archive")+"&sort=time&offset="+e;wu&&!Od?Of(t,Vd,2,null,ll,dl):Gf(t,Vd,2,null,ll,dl,!1)}function dl(){++Nd<Fd?(Vd+=500,sl()):(Rd=!1,Od?(Bd=!0,cl()):(gf=!1,Vu(),Qu(P)))}function ll(e){var t=JSON.parse(e),n=t.videos.length;Jd=parseInt(t._total),n<Qr&&(Bd=!0);var a=Od;qd=!(Od+=n);var i=n/Zr;0<n%Zr&&i++;var o,s,d,l,c,r,u,_=0,f=document.getElementById("stream_table_channel_vod");if(!jd){jd=!0,d=document.createElement("tr");var m='<i class="icon-movie-play stream_channel_fallow_icon"></i>'+wa+wa+p;(Vr=document.createElement("td")).setAttribute("id",Wd[8]+"y_0"),Vr.className="stream_cell",Vr.innerHTML='<div id="'+Wd[0]+'y_0" class="stream_thumbnail_channel_vod" ><div id="'+Wd[3]+'y_0" class="stream_channel_fallow_game">'+m+"</div></div>",d.appendChild(Vr),f.appendChild(d)}for(var h=0;h<i;h++){for(s=a/Zr+h,d=document.createElement("tr"),o=0;o<Zr&&_<n;o++,_++)c=(l=t.videos[_])._id,r=-1!==((u=l.preview.template)+"").indexOf("404_processing"),s||o||!r||(r=!1,u=null!==ad?ad:Ea),r||Gd[c]?o--:(Gd[c]=1,d.appendChild(zI(s,s+"_"+o,[c,l.length,l.channel.broadcaster_language,l.game,l.channel.name,l.increment_view_count_url],[u.replace("{width}x{height}",_u),l.channel.display_name,N+b_(l.created_at),mS.parse(l.title)+da+Qt+v+l.game,o_(l.views)+V,s_(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.channel.broadcaster_language),F+Op(l.length),l.animated_preview_url],Wd)));for(;o<Zr;o++)Bd&&!zd&&(zd=!0,Od=s*Zr+o),d.appendChild(P_(Wd[9]+s+"_"+o)),Ud.push(Wd[9]+s+"_"+o);f.appendChild(d)}cl()}function cl(){if(Yd?(fl(!0),C_(null!==ad?ad:Ea)):(qd?Qu(L+(Qd?G:O)+T+E):(Yd=!0,C_(null!==ad?ad:Ea),fl(),m_()),Bu(Wd[10]),gf=!1,Vu()),0<Ud.length&&!Bd)return ol(),void rl();Rd=!(Ud=[])}function rl(){Yu(Ud.length);var e=Od+Dd;e&&Jd-1<e&&(e=Jd-ou,Bd=!0),Tf("https://api.twitch.tv/kraken/channels/"+encodeURIComponent(Lr.Main_selectedChannel_id)+"/videos?limit="+ou+"&broadcast_type="+(Qd?"highlight":"archive")+"&sort=time&offset="+e,Vd,2,null,_l,ul)}function ul(){++Nd<Fd?(Vd+=500,rl()):(Bd=!0,Od-=Ud.length,Ud=[],cl())}function _l(e){var t,n,a=JSON.parse(e),i=a.videos.length,o=0,s=0,d=[];for(Jd=parseInt(a._total);o<Ud.length&&s<i;o++,s++)n=(t=a.videos[s])._id,-1!==(t.preview.template+"").indexOf("404_processing")||Gd[n]?o--:(Gd[n]=1,jI(Ud[o],[n,t.length,t.channel.broadcaster_language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",_u),t.channel.display_name,N+b_(t.created_at),mS.parse(t.title)+da+Qt+v+t.game,o_(t.views)+V,s_(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.channel.broadcaster_language),F+Op(t.length),t.animated_preview_url],Wd),d.push(o));for(o=d.length-1;-1<o;o--)Ud.splice(d[o],1);Dd+=s,Bd&&(Od-=Ud.length,Ud=[]),cl()}function fl(e){Ld<0?hl():(q_(Ld,Td,Wd,Zr,Od,e),aS(Wd,Ld+"_"+Td),Od/Zr<Ld+Kr&&!Bd&&!Rd&&(ol(),sl()),Or&&ml())}function ml(){window.clearInterval(hI),-1<Ld&&Od?(Bu(Wd[1]+Ld+"_"+Td),$_(Ld+"_"+Td,Wd)):pl()}function hl(){Gu(Wd[0]+"y_0",mu)}function pl(){Uu(Wd[0]+"y_0",mu)}function vl(e){var t;if(!gf&&!J_())switch(D_(),e.keyCode){case Ua:i_()?a_():e_()?$u():(ml(),bf(vl));break;case La:if(l_(Ld,Td-1,Wd[0]))ml(),Td--,fl();else for(t=Zr-1;-1<t;t--)if(l_(Ld-1,t,Wd[0])){ml(),Ld--,Td=t,fl();break}break;case Ba:l_(Ld,Td+1,Wd[0])?(ml(),Td++,fl()):l_(Ld+1,0,Wd[0])&&(ml(),Ld++,Td=0,fl());break;case Ta:if(-1!==Ld||qd)if(Ld){for(t=0;t<Zr;t++)if(l_(Ld-1,Td-t,Wd[0])){ml(),Ld--,Td-=t,fl();break}}else ml(),Ld=-1,hl();else Ld=0,pl(),fl();break;case Oa:if(-1!==Ld||qd){for(t=0;t<Zr;t++)if(l_(Ld+1,Td-t,Wd[0])){ml(),Ld++,Td-=t,fl();break}}else Ld=0,pl(),fl();break;case xa:case Sa:case Pa:case Ga:-1===Ld?(Ef("ChannelVod_highlight",(Qd=!Qd)?"true":"false"),il()):Q_(Ld+"_"+Td,Wd,vl)}}var gl,yl,bl,wl,kl=0,Al=10,Cl=!1,Ml=0,El=null,Il=!1,Sl=0,xl={},Pl={};function Ll(){Ql(),Lr.Play_ChatForceDisable?(nc||vc(),Il=!1,nf(function(){Tl(Ml=(new Date).getTime())})):jc()}function Tl(e){kl=0,Bl(e)}function Bl(e){var t="https://badges.twitch.tv/v1/badges/channels/"+Lr.Play_selectedChannel_id+"/display",n=new XMLHttpRequest;n.open("GET",t,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){if(4===n.readyState){if(200===n.status)return void(Ml===e&&Gl(n.responseText,e));Ml===e&&Ol(e)}},n.send(null)}function Ol(e){kl++,Ml===e&&(kl<Al?Bl(e):yl=window.setTimeout(function(){Bl(e)},1e3))}function Gl(e,t){_S(JSON.parse(e).badge_sets).forEach(function(t){t.versions.forEach(function(e){fS(t.type,e.type,e.image_url_4x,ec)})}),xl[Lr.Play_selectedChannel_id]?Ml===t&&Dl():Ul(t)}function Ul(e){kl=0,Rl(e)}function Rl(e){var t="https://api.betterttv.net/2/channels/"+encodeURIComponent(Lr.Play_selectedChannel),n=new XMLHttpRequest;n.open("GET",t,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){4===n.readyState&&(200===n.status?Ml===e&&Fl(n.responseText,e):404===n.status?(xl[Lr.Play_selectedChannel_id]=1,Ml===e&&Dl()):Ml===e&&Nl(e))},n.send(null)}function Nl(e){kl++,Ml===e&&(kl<Al?Rl(e):Ml===e&&Dl())}function Fl(e,t){Vl(JSON.parse(e)),xl[Lr.Play_selectedChannel_id]=1,Ml===t&&Dl()}function Vl(t){t.emotes.forEach(function(e){Pl[e.code]={code:e.code,id:e.id,"3x":"https:"+t.urlTemplate.replace("{{id}}",e.id).replace("{{image}}","3x")}})}function Dl(){ql(),Jl()}function Jl(){(El=new ReconnectingWebSocket("wss://irc-ws.chat.twitch.tv","irc",{reconnectInterval:3e3})).onopen=function(){El.send("PASS blah\r\n"),El.send("NICK justinfan12345\r\n"),El.send("CAP REQ :twitch.tv/commands twitch.tv/tags\r\n"),El.send("JOIN #"+Lr.Play_selectedChannel+"\r\n")},El.onclose=function(){Cl=!0},El.onmessage=function(e){var t=window.parseIRC(e.data.trim());if(t.command)switch(t.command){case"PING":El.send("PONG "+t.params[0]);break;case"JOIN":Il=!0,jl('&nbsp;<span class="message">'+da+bn+Lr.Play_selectedChannelDisplayname+" "+_+"</span>");break;case"PRIVMSG":zl(t)}},bl=window.setTimeout(Hl,5e3)}function Hl(){Il?wl=window.setInterval(Wl,1e3):(El.close(1e3),Dl())}function ql(){window.clearTimeout(bl)}function zl(e){var t="",n=e.tags;if(n.hasOwnProperty("badges")&&"string"==typeof n.badges&&n.badges.split(",").forEach(function(e){e=e.split("/"),t+='<span class="'+e[0]+"-"+e[1]+' tag"></span>'}),n.hasOwnProperty("display-name")){var a=n["display-name"];"string"==typeof a&&(t+='<span class="nick" style="color: #'+rc[a.charCodeAt(0)%uc]+';">'+a+"</span>&#58;&nbsp;")}var i=e.params[1];/^\x01ACTION.*\x01$/.test(i)&&(i=i.replace(/^\x01ACTION/,"").replace(/\x01$/,"").trim());var o={};n.hasOwnProperty("emotes")&&"string"==typeof n.emotes&&(n.emotes=n.emotes.split("/"),n.emotes.forEach(function(t){t=t.split(":"),o[t[0]]||(o[t[0]]=[]),t[1].split(",").forEach(function(e){e=e.split("-"),o[t[0]].push([parseInt(e[0]),parseInt(e[1])])})})),jl(t+='<span class="message">'+Xl(uS(i,o))+"</span>")}function Xl(e){for(var t=0;t<e.length;t++)"string"==typeof e[t]?e[t]=rS(e[t]):e[t]=e[t][0];return mS.parse(e.join(" "),!0,!0)}function jl(e){var t=document.createElement("div");t.className="chat_line",t.innerHTML=e,ec.appendChild(t),Wl(),100<++Sl&&(Sl=0,Yc())}function Wl(){ec.scrollTop=ec.scrollHeight}function Yl(){ql(),window.clearTimeout(yl),window.clearTimeout(gl),window.clearInterval(wl)}function Ql(){Yl(),El&&El.close(1e3),Ml=0,A_("chat_box"),Il=Cl=!1}var Zl,Kl,$l,ec,tc,nc=!1,ac=0,ic=[],oc=[],sc=10,dc=null,lc=0,cc="",rc=["fe2424","fc5a24","ff9020","fEc723","ffff1d","bfff00","c3ff12","56fe1d","1eff1e","16ff51","00ff80","00ffbf","00ffff","1dc6ff","158aff","3367ff","ff4dff","ff4ad2","ff62b1","ff4272"],uc=rc.length,_c=0,fc=!1,mc=0;function hc(){ec=document.getElementById("chat_box"),vc()}function pc(){Dc(),wu&&Lr.Play_ChatForceDisable?(nc||vc(),nf(function(){Mc(mc=(new Date).getTime())})):jc()}function vc(){ac=0,nc=!(Pl={}),gc()}function gc(){Gf("https://badges.twitch.tv/v1/badges/global/display",1e4,0,null,bc,yc,!1)}function yc(){++ac<sc?gc():nc=!1}function bc(e){_S(JSON.parse(e).badge_sets).forEach(function(t){t.versions.forEach(function(e){fS(t.type,e.type,e.image_url_4x,null)})}),wc()}function wc(){ac=0,kc()}function kc(){Gf("https://api.betterttv.net/2/emotes",1e4,0,null,Cc,Ac,!1)}function Ac(){++ac<sc?kc():nc=!1}function Cc(e){Vl(JSON.parse(e)),nc=!0}function Mc(e){ac=0,Ec(e)}function Ec(e){var t="https://badges.twitch.tv/v1/badges/channels/"+Lr.Main_selectedChannel_id+"/display",n=new XMLHttpRequest;n.open("GET",t,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){if(4===n.readyState){if(200===n.status)return void(mc===e&&Sc(n.responseText,e));mc===e&&Ic(e)}},n.send(null)}function Ic(e){ac++,mc===e&&(ac<sc?Ec(e):tc=window.setTimeout(function(){Ec(e)},1e3))}function Sc(e,t){_S(JSON.parse(e).badge_sets).forEach(function(t){t.versions.forEach(function(e){fS(t.type,e.type,e.image_url_4x,ec)})}),mc===t&&Bc(t),xl[Lr.Main_selectedChannel_id]?mc===t&&Bc(t):xc(t)}function xc(e){ac=0,Pc(e)}function Pc(e){var t="https://api.betterttv.net/2/channels/"+encodeURIComponent(Lr.Main_selectedChannel),n=new XMLHttpRequest;n.open("GET",t,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){4===n.readyState&&(200===n.status?mc===e&&Tc(n.responseText,e):404===n.status?(xl[Lr.Main_selectedChannel_id]=1,mc===e&&Bc()):mc===e&&Lc(e))},n.send(null)}function Lc(e){ac++,mc===e&&(ac<sc?Pc(e):mc===e&&Bc())}function Tc(e,t){Vl(JSON.parse(e)),xl[Lr.Main_selectedChannel_id]=1,mc===t&&Bc()}function Bc(e){ac=0,mc===e&&Oc(e)}function Oc(e){var t="https://api.twitch.tv/v5/videos/"+Lr.ChannelVod_vodId+"/comments?client_id="+su+(lc?"&content_offset_seconds="+parseInt(lc):""),n=new XMLHttpRequest;n.open("GET",t,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){if(4===n.readyState){if(200===n.status)return void(mc===e&&Uc(n.responseText,e));mc===e&&Gc(e)}},n.send(null)}function Gc(e){ac++,mc===e&&(ac<sc?Oc(e):Kl=window.setTimeout(function(){Oc(e)},2500))}function Uc(e,t){e=JSON.parse(e);var n,a,i=null===dc;i&&(n="&nbsp;",n+='<span class="message">',n+=da+bn+Lr.Main_selectedChannelDisplayname+" "+cc,Rc(n+="</span>",0)),lc=0,dc=e._next,e.comments.forEach(function(e){n="",(a=e.message).hasOwnProperty("user_badges")&&a.user_badges.forEach(function(e){n+='<span class="'+e._id+"-"+e.version+' tag"></span>'}),n+='<span class="nick" style="color: #'+rc[e.commenter.display_name.charCodeAt(0)%uc]+';">'+e.commenter.display_name+"</span>&#58;&nbsp;",n+='<span class="message">',a.fragments.forEach(function(e){e.hasOwnProperty("emoticon")?n+='<img class="emoticon" src="https://static-cdn.jtvnw.net/emoticons/v1/'+e.emoticon.emoticon_id+'/1.0" srcset="https://static-cdn.jtvnw.net/emoticons/v1/'+e.emoticon.emoticon_id+"/2.0 2x, https://static-cdn.jtvnw.net/emoticons/v1/"+e.emoticon.emoticon_id+'/3.0 4x">':n+=Xl([e.text])}),n+="</span>",i?Rc(n,e.content_offset_seconds):void 0!==dc&&Nc(n,e.content_offset_seconds)}),i&&mc===t&&(Fc(t),void 0!==dc&&Hc(t))}function Rc(e,t){ic.push({time:t,message:e})}function Nc(e,t){oc.push({time:t,message:e})}function Fc(e){fc||mc!==e||(Zl=window.setInterval(function(){Jc(e),ec.scrollTop=ec.scrollHeight},1e3))}function Vc(){fc||(window.clearTimeout(tc),window.clearTimeout(Kl),window.clearTimeout($l),window.clearInterval(Zl))}function Dc(){Vc(),mc=0,A_("chat_box"),fc=!1,dc=null,ic=[],oc=[],_c=0}function Jc(e){var t;if(_c<ic.length-1)for(var n=_c;n<ic.length&&ic[n].time<tl+Android.gettime()/1e3;n++,_c++)(t=document.createElement("div")).className="chat_line",t.innerHTML=ic[n].message,ec.appendChild(t);else if(Vc(),void 0!==dc)ic=oc.slice(),_c=0,Fc(e),oc=[],mc===e&&Hc(e),Yc();else{var a="&nbsp;";a+='<span class="message">',a+=da+da+Cn+da+da,a+="</span>",(t=document.createElement("div")).className="chat_line",t.innerHTML=a,ec.appendChild(t),fc=!0,ec.scrollTop=ec.scrollHeight,window.clearInterval(Zl),Zl=window.setInterval(function(){ec.scrollTop=ec.scrollHeight},1e3)}}function Hc(e){ac=0,fc||mc!==e||qc(e)}function qc(e){var t="https://api.twitch.tv/v5/videos/"+Lr.ChannelVod_vodId+"/comments?client_id="+su+(null!==dc?"&cursor="+dc:""),n=new XMLHttpRequest;n.open("GET",t,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){if(4===n.readyState){if(200===n.status)return void(fc||mc!==e||Uc(n.responseText,e));fc||mc!==e||zc(e)}},n.send(null)}function zc(e){ac++,mc===e&&(ac<sc?qc(e):$l=window.setTimeout(function(){qc(e)},2500))}function Xc(){Dc(),Wc(ln+da+cn)}function jc(){Dc(),Wc($n)}function Wc(e){var t="&nbsp;";t+='<span class="message">',t+=da+da+da+da+da+da+da+da+da+da,t+=e,t+="</span>";var n=document.createElement("div");n.className="chat_line",n.innerHTML=t,ec.appendChild(n)}function Yc(){var e=document.getElementsByClassName("chat_line");if(0<e.length-100)for(var t=0;t<e.length-100;t++)e[0].parentNode.removeChild(e[0]);Wl()}var Qc,Zc,Kc,$c,er,tr,nr,ar=!0,ir=!1,or=!1,sr=-1,dr=new Image,lr=1,cr=2,rr=3,ur=4,_r=5,fr=6,mr=7,hr=8,pr=9,vr=10,gr=11,yr=12,br=13,wr=14,kr=15,Ar=16,Cr=17,Mr=18,Er=19,Ir=20,Sr=21,xr=22,Pr="",Lr={Main_Go:1,Main_Before:1,Main_BeforeSearch:1,Main_BeforeChannel:1,Main_BeforeAgame:rr,Main_BeforeChannelisSet:!1,Main_BeforeAgameisSet:!1,Main_selectedChannel:"",Main_selectedChannelDisplayname:"",Main_selectedChannelLogo:"",Main_selectedChannel_id:"",Main_gameSelected:"",Main_OldgameSelected:null,Play_isHost:!1,Play_DisplaynameHost:"",Play_selectedChannelDisplayname:"",Play_selectedChannel:"",Play_gameSelected:"",Users_Position:0,Users_AddcodePosition:0,Play_WasPlaying:0,ChannelVod_vodId:"",vodOffset:0,Search_data:"",isLastSChannels:!1,gameSelectedOld:"",Games_return:!1,Search_isSearching:!1,Play_ChatForceDisable:!1,Never_run:!0,Main_CenterLablesVectorPos:0},Tr=!0,Br=!0,Or=!1,Gr=[],Ur=0,Rr=0,Nr=null,Fr=!0,Vr="",Dr=!1,Jr="",Hr=["label_side_panel","label_refresh","top_bar_live","top_bar_user","top_bar_featured","top_bar_game","top_bar_vod","top_bar_clip"],qr=[],zr=0,Xr=!0,jr=0,Wr=1.35,Yr=1.5,Qr=45,Zr=3,Kr=Math.floor(Qr/Zr/Yr),$r=45,eu=5,tu=Math.floor($r/eu/Wr),nu=48,au=6,iu=Math.floor(nu/au/Yr),ou=6,su="5seja5ptej058mxqy7gh5tcudjqtm9",du="Client-ID",lu="Accept",cu="Authorization",ru="OAuth ",uu="application/vnd.twitchtv.v5+json",_u="528x297",fu="340x475",mu="stream_thumbnail_focused",hu="data_attribute",pu="1.0",vu=".18",gu="050519",yu=pu+vu+"-"+gu,bu=0,wu=0,ku="?"+Math.random(),Au="https://cors-anywhere.herokuapp.com/",Cu=function(e,t,n){e.onerror=function(){this.src=n},e.src=t};function Mu(){(or=xf("Main_isDebug",!1))&&ar?Eu():"loading"===document.readyState?document.addEventListener("DOMContentLoaded",function(){Iu(window.navigator.userLanguage||window.navigator.language)}):Iu(window.navigator.userLanguage||window.navigator.language)}function Eu(){console.log("Debug mod start");var e=document.createElement("script");e.src="https://fgl27.github.io/SmartTwitchTV/release/githubio/js/masterdebug.js",document.head.appendChild(e)}function Iu(e){ef(),nf(function(){try{wu=Android.getAndroid()}catch(e){wu=0,document.body.style.backgroundColor="rgba(0, 0, 0, 1)",ir=or=!0,console.log("Main_isReleased: "+ar),console.log("Main_isDebug: "+or),console.log("Main_isBrowser: "+ir)}Hk(),Aa(),_A(),console.log("language is "+e),ka(),-1!==window.location.href.indexOf("code")&&Lf(window.location.href),Su()})}function Su(){Jy(),xu(!0),Qc=document.getElementById("scrollbar"),h_(),Pr=Lr.Main_Go,nf(function(){hc(),ep(),no(),ao()&&(nr=window.setInterval(df,6e5),df()),document.body.addEventListener("keyup",F_,!1),Hy(),document.getElementById("side_panel").style.marginLeft="",w_(),Pu(),GI=xf("Vod_highlight",!1),Qd=xf("ChannelVod_highlight",!1),ps=xf("AGameVod_highlight",!1),WE=xf("UserVod_highlight",!1),LI=If("vod_periodNumber",2),_s=If("AGameVod_periodNumber",2),qE=If("UserVod_TypeNumber",1),Py(),Zc=document.getElementById("search_input"),Kc=document.getElementById("user_input"),x_(Ea),x_(Ca),x_(Ma),document.addEventListener("visibilitychange",of,!1),er=window.setInterval(sf,6e4),Dy=gb,Xy(),$c=window.setTimeout(r_,5e3),Bu("topbar")})}function xu(e){sf(),Lu("label_refresh","icon-refresh",t+jt),Ru("label_update",'<div class="strokedextramini" style="vertical-align: middle; display: inline-block;"><i class="icon-arrow-up" style="color: #FF0000; font-size: 115%; "></i></div><div class="strokedextramini" style="vertical-align: middle; display: inline-block; color: #FF0000">'+wa+_t+"</div>"),Lu("label_side_panel","icon-ellipsis",Rn),Lu("icon_feed_refresh","icon-refresh",t+" Press up"),Nu("top_bar_live",_),Nu("top_bar_user",e?u:a),Nu("top_bar_featured",an),Nu("top_bar_game",f),Nu("top_bar_vod",Kt),Nu("top_bar_clip",U),Ru("scene2_search_text",wa+n),Ru("scene2_channel_text",wa+Ut),Ru("scene2_game_text",wa+Dt),Nu("dialog_end_replay_text",en),Nu("dialog_end_vod_text",sn),Nu("dialog_end_channel_text",Ut),Nu("dialog_end_game_text",Dt),Ru("dialog_about_text",va+ga),qr=[de,le,ce,re],e?Rk():(Jk(),w_())}function Pu(){Nu("play_dialog_exit_text",J),Nu("side_panel_search",n),Nu("side_panel_settings",a),Nu("side_panel_about",i),Nu("side_panel_controls",e),Nu("side_panel_exit",q),Nu("side_panel_live",_),Nu("side_panel_user",u),Nu("side_panel_featured",an),Nu("side_panel_games",f),Nu("side_panel_videos",Kt),Nu("side_panel_clips",U),Nu("side_panel_hide",o),Nu("chanel_button",M),Nu("game_button",f),Nu("live_button",_),Nu("exit_app_cancel",j),Nu("exit_app_close",z),Nu("remove_cancel",j),Nu("remove_yes",Jt),Nu("exit_app_minimize",X),Nu("main_dialog_exit_text",H),Ru("dialog_controls_text",pa),Nu("dialog_vod_text",wn),Ru("dialog_vod_start_text",An)}function Lu(e,t,n){Ru(e,'<div class="strokedextramini" style="vertical-align: middle; display: inline-block;"><i class="'+t+'" style="color: #FFFFFF; font-size: 115%; "></i></div><div class="strokedextramini" style="vertical-align: middle; display: inline-block">'+wa+n+"</div>")}function Tu(e){document.getElementById(e).classList.add("hide")}function Bu(e){document.getElementById(e).classList.remove("hide")}function Ou(e){return-1===document.getElementById(e).className.indexOf("hide")}function Gu(e,t){document.getElementById(e).classList.add(t)}function Uu(e,t){document.getElementById(e).classList.remove(t)}function Ru(e,t){document.getElementById(e).innerHTML=t}function Nu(e,t){document.getElementById(e).textContent=t}function Fu(){I_(-1),wu?Android.mshowLoading(!0):Bu("dialog_loading")}function Vu(){wu?Android.mshowLoading(!1):Tu("dialog_loading")}function Du(){window.clearTimeout(Nr)}function Ju(){Nr=window.setTimeout(qu,6e3)}function Hu(){Ju(),Bu("main_dialog_exit"),document.body.addEventListener("keydown",hf,!1)}function qu(){document.body.removeEventListener("keydown",hf,!1),bf(tr),Du(),Tu("main_dialog_exit"),Rr=0,zu()}function zu(){Uu("exit_app_cancel","button_search_focused"),Uu("exit_app_minimize","button_search_focused"),Uu("exit_app_close","button_search_focused"),Gu(Rr?1===Rr?"exit_app_minimize":"exit_app_close":"exit_app_cancel","button_search_focused")}function Xu(){A_("dialog_counter_text"),Wu(0,0,0)}function ju(e,t,n,a){0<a?(Nu("dialog_counter_text",t*n+(e+1)+"/"+a),Wu(t,n,a)):Xu()}function Wu(e,t,n){var a=screen.height/100*7;if(3===t&&9<n||5===t&&10<n||6===t&&12<n){var i=Lr.Main_Go===ur||Lr.Main_Go===Er||Lr.Main_Go===Ir||Lr.Main_Go===yr||Lr.Main_Go===xr||Lr.Main_Go===Cr||Lr.Main_Go===Mr||Lr.Main_Go===br,o=Math.ceil((screen.height-3*a)/(Math.ceil(n/t)-1)*e+a*(i?1.8:1));Qc.style.top=o+"px",Fr&&(Fr=!1,Qc.style.backgroundColor="#777777")}else Qc.style.backgroundColor="#000000",Qc.style.top=a+"px",Fr=!0}function Yu(e){(ou=12)/3<e&&(ou=3*e),99<ou&&(ou=99)}function Qu(e){Nu("dialog_warning_text",e),Bu("dialog_warning")}function Zu(){Tu("dialog_warning")}function Ku(){a_(),Bu("dialog_about")}function $u(){Tu("dialog_about")}function e_(){return Ou("dialog_about")}function t_(){a_(),Zu(),p_(Lr.Main_Go),Xu(),Gk()}function n_(){$u(),Bu("dialog_controls")}function a_(){Tu("dialog_controls")}function i_(){return Ou("dialog_controls")}function o_(e){return(e+"").replace(/\B(?=(\d{3})+(?!\d))/g,",")}function s_(e,t,n){return(e+="").indexOf("x")||(e=e.slice(-3)),e+"p"+(t=58<t?60:t<32?30:Math.ceil(t))+(""!==n?" ["+n.toUpperCase()+"]":"")}function d_(e){return-1!==e.indexOf("live")?"":W}function l_(e,t,n){return null!==document.getElementById(n+e+"_"+t)}function c_(){sf(),__(),document.body.addEventListener("keyup",F_,!1)}function r_(){for(var e,t=0;t<Hr.length;t++)t<2?document.getElementById(Hr[t]).style.opacity="0.5":-1===(e=document.getElementById(Hr[t])).className.indexOf("icon_center_focus")&&(e.style.opacity="0.5");Gu("topbar","topbar_dim")}function u_(){for(var e=0;e<Hr.length;e++)document.getElementById(Hr[e]).style.opacity="1";Uu("topbar","topbar_dim")}function __(e){window.clearTimeout($c),u_(),nf(function(){f_(e)})}function f_(e){Lr.Main_Go!==gr&&(Lr.Main_BeforeChannelisSet=!1),Lr.Main_Go!==ur&&(Lr.Main_BeforeAgameisSet=!1),Xu(),Lr.Main_Go===lr?(Dy=gb,Xy()):Lr.Main_Go===cr?zi():Lr.Main_Go===rr?(Dy=pb,Xy()):Lr.Main_Go===ur?Po():Lr.Main_Go===hr?qw():Lr.Main_Go===pr?xw():Lr.Main_Go===vr?pk():Lr.Main_Go===gr?od():Lr.Main_Go===yr?nl():Lr.Main_Go===br?(Dy=mb,Xy()):Lr.Main_Go===wr?_E():Lr.Main_Go===_r?DM():Lr.Main_Go===fr?bC():Lr.Main_Go===mr?(Dy=vb,Xy()):Lr.Main_Go===kr?JA():Lr.Main_Go===Ar?tw():Lr.Main_Go===Cr?NI():Lr.Main_Go===Mr?(Dy=fb,Xy()):Lr.Main_Go===Er?gs():Lr.Main_Go===Ir?(Dy=hb,Xy()):Lr.Main_Go===Sr?(Dy=yb,Xy()):Lr.Main_Go===xr&&YE(),$c=window.setTimeout(r_,3e3),e&&Cf()}function m_(){Ef("Main_values",JSON.stringify(Lr))}function h_(){Lr=zy(Lr,Sf("Main_values",{}))}function p_(e){e===lr?jy():e===cr?Xi():e===rr?jy():e===ur?Lo():e===hr?zw():e===pr?Pw():e===vr?vk():e===gr?sd():e===yr?al():e===br?jy():e===wr?fE():e===_r?JM():e===fr?wC():e===mr?jy():e===kr?HA():e===Ar?nw():e===Cr?FI():e===Mr?jy():e===Er?ys():e===Ir?jy():e===Sr?jy():e===xr&&QE(),Ou("settings_scroll")&&Uk()}function v_(){Lu("label_refresh","icon-refresh",t+jt),Lu("label_side_panel","icon-ellipsis",Rn),Uu("top_bar_user","icon_center_focus"),Nu("top_bar_live",_),Nu("top_bar_user",u),Nu("top_bar_featured",an),Nu("top_bar_game",f),Nu("top_bar_vod",Kt),Nu("top_bar_clip",U)}function g_(){Lu("label_side_panel","icon-arrow-circle-left",I),A_("top_bar_live"),A_("top_bar_game"),A_("top_bar_vod"),A_("top_bar_clip"),A_("top_bar_featured"),Gu("top_bar_user","icon_center_focus")}function y_(e){return'<div style="font-size: 30%; position: fixed; line-height: 0; text-shadow: #000000 0 0 5.7px, #000000 0 0 5.7px, #000000 0 0 4px">'+e+"</div>"}function b_(e){return e=new Date(e),Dr?e.getDate()+" "+Wt[e.getMonth()]+" "+e.getFullYear():Wt[e.getMonth()]+" "+e.getDate()+" "+e.getFullYear()}function w_(){if(wu)try{var e=Android.getversion();yu="Android: "+e+" Web: "+gu,k_(e)&&Bu("label_update")}catch(e){}Ru("dialog_about_text",va+ye+yu+ga)}function k_(e){return e=e.split("."),parseFloat(e[0]+"."+e[1])<parseFloat(pu)||parseInt(e[2])<parseInt(vu.split(".")[1])}function A_(e){for(e=document.getElementById(e);e.firstChild;)e.removeChild(e.firstChild)}function C_(e){for(var t,n=0;n<Gr.length;n++)null!==(t=document.getElementById(Gr[n].id))&&Cu(t,Gr[n].src+ku,e)}function M_(){Gr=[]}function E_(e,t){Gr.push({id:e,src:t})}function I_(e){sr=e}function S_(e){var t=0;return sr<e?t=-1:e<sr&&(t=1),sr=e,t}function x_(e){dr.src=e}function P_(e){return(Vr=document.createElement("td")).setAttribute("id",e),Vr.className="stream_cell",Vr}function L_(e,t,n){return(Vr=document.createElement("td")).setAttribute("id",t[4]+e),Vr.setAttribute(hu,n[0]),Vr.setAttribute("data-id",n[1]),Vr.className="stream_cell",Vr.innerHTML=B_(e,t,n),Vr}function T_(e,t,n){var a=document.getElementById(e),i=e.split(n[5])[1];a.setAttribute(hu,t[0]),a.setAttribute("data-id",t[1]),a.innerHTML=B_(i,n,t),a.setAttribute("id",n[4]+i)}function B_(e,t,n){return E_(t[1]+e,n[2]),'<div id="'+t[0]+e+'" class="stream_thumbnail_channel" ><img id="'+t[1]+e+'" class="stream_img"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel">'+n[3]+"</div></div>"}function O_(e,t,n,a,i){return e<Zr&&x_(i[0]),(Vr=document.createElement("td")).setAttribute("id",a[8]+t),Vr.setAttribute(hu,JSON.stringify(n)),Vr.className="stream_cell",Vr.innerHTML=U_(t,a,i),Vr}function G_(e,t,n,a){var i=document.getElementById(e),o=e.split(a[9])[1];i.setAttribute(hu,JSON.stringify(t)),i.innerHTML=U_(o,a,n),i.setAttribute("id",a[8]+o)}function U_(e,t,n){return E_(t[1]+e,n[0]),'<div id="'+t[0]+e+'" class="stream_thumbnail_video" ><img id="'+t[1]+e+'" class="stream_img"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;">'+n[1]+'</div><div id="'+t[7]+e+'"class="stream_info" style="width:33%; float: right; text-align: right; display: inline-block;">'+n[5]+'</div><div id="'+t[4]+e+'"class="stream_info">'+mS.parse(n[2])+'</div><div id="'+t[5]+e+'"class="stream_info">'+v+n[3]+'</div><div id="'+t[6]+e+'"class="stream_info">'+n[4]+"</div></div>"}function R_(e,t,n){return(Vr=document.createElement("td")).setAttribute("id",t[5]+e),Vr.setAttribute(hu,n[0]),Vr.className="stream_cell",Vr.innerHTML=N_(e,t,n),Vr}function N_(e,t,n){return E_(t[1]+e,n[1]),'<div id="'+t[0]+e+'" class="stream_thumbnail_game" ><img id="'+t[1]+e+'" class="stream_img"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel">'+n[0]+'</div><div id="'+t[4]+e+'"class="stream_info" style="width: 100%; display: inline-block;">'+n[2]+"</div></div>"}function F_(){Br=!0}function V_(){Tr=!0}function D_(){Tr=!1,window.setTimeout(V_)}function J_(){return!Tr||!Br}function H_(e,t,n,a,i,o){Gu(n[0]+e+"_"+t,mu),ju(t,e,a,i),S_(e)||o?1<e?l_(e+1,0,n[0])?K_(n[6],-1*document.getElementById(n[4]+e+"_"+t).offsetTop+.42*screen.height):F_():K_(n[6],.07*screen.height):F_()}function q_(e,t,n,a,i,o){Gu(n[0]+e+"_"+t,mu),ju(t,e,a,i),S_(e)||o?e?l_(e+1,0,n[0])&&K_(n[10],-1*document.getElementById(n[8]+(e-1)+"_"+t).offsetTop):K_(n[10],.07*screen.height):F_()}function z_(e,t,n,a,i){Gu(n[0]+e+"_"+t,mu),ju(t,e,a,i),S_(e)?K_(n[10]?n[10]:n[7],e?-1*document.getElementById(n[5]+(e-1)+"_"+t).offsetTop+.025*screen.height:-1*document.getElementById(n[5]+e+"_"+t).offsetTop+.025*screen.height):F_()}function X_(e,t){return null===document.getElementById(t+e)}function j_(e,t,n){X_(e,t[0])||(document.body.removeEventListener("keydown",n),Lr.Play_selectedChannel=JSON.parse(document.getElementById(t[8]+e).getAttribute(hu)),Lr.Play_selectedChannel_id=Lr.Play_selectedChannel[1],Lr.Play_selectedChannel=Lr.Play_selectedChannel[0],Lr.Main_Go===fr?(Lr.Play_DisplaynameHost=document.getElementById(t[3]+e).textContent,Lr.Play_selectedChannelDisplayname=Lr.Play_DisplaynameHost.split(ne)[1],Lr.Play_isHost=!0):Lr.Play_selectedChannelDisplayname=document.getElementById(t[3]+e).textContent,Lr.Play_gameSelected=document.getElementById(t[5]+e).textContent.split(v)[1],Lr.Main_Go===ur&&(Lr.Main_OldgameSelected=Lr.Main_gameSelected),W_())}function W_(){document.body.addEventListener("keydown",Qv,!1),Tu("scene1"),Bu("scene2"),av(),cv(),Ev(),ao()&&!GC&&zC&&gM(),nf(ap)}function Y_(e,t,n){X_(e,t[0])||(document.body.removeEventListener("keydown",n),Cb=JSON.parse(document.getElementById(t[8]+e).getAttribute(hu)),dm=parseInt(Cb[1]),Lr.Play_gameSelected=Cb[2],Lr.Main_selectedChannel=Cb[3],Lr.Main_selectedChannelDisplayname=Cb[4],Lr.Main_selectedChannelLogo=Cb[5],Lr.Main_selectedChannel_id=Cb[6],Lr.ChannelVod_vodId=Cb[7],tl=parseInt(Cb[8]),Ab=Cb[9],Eb=Cb[10],wb=Cb[11],Cb=Cb[0],Mb=document.getElementById(t[4]+e).textContent,kb=document.getElementById(t[6]+e).textContent,document.body.addEventListener("keydown",Pm,!1),Tu("scene1"),Bu("scene2"),cv(),$p(),Xp(),Yp(),ao()&&!GC&&zC&&gM(),nf(lm))}function Q_(e,t,n){X_(e,t[0])||(document.body.removeEventListener("keydown",n),Lr.ChannelVod_vodId=JSON.parse(document.getElementById(t[8]+e).getAttribute(hu)),Hd=parseInt(Lr.ChannelVod_vodId[1]),Xd=Lr.ChannelVod_vodId[2],Lr.Play_gameSelected=Lr.ChannelVod_vodId[3],Lr.Main_selectedChannel=Lr.ChannelVod_vodId[4],Xh=Lr.ChannelVod_vodId[5],Lr.ChannelVod_vodId=Lr.ChannelVod_vodId[0].substr(1),Lr.Main_selectedChannelDisplayname=document.getElementById(t[3]+e).textContent,$d=document.getElementById(t[4]+e).textContent,el=document.getElementById(t[5]+e).textContent,Kd=document.getElementById(t[11]+e).innerHTML+" "+document.getElementById(t[6]+e).textContent,Z_())}function Z_(){document.body.addEventListener("keydown",Vy,!1),Tu("scene1"),Bu("scene2"),my(),cv(),$p(),Yp(),Og=!1,ao()&&!GC&&zC&&gM(),nf(Dg)}function K_(e,t){document.getElementById(e).style.top=t+"px",window.setTimeout(F_,10)}function $_(e,t){Br=!1,Uu(t[0]+e,mu)}function ef(){var e=document.createElement("span");e.className="fa",e.style.display="none",document.body.insertBefore(e,document.body.firstChild),"icons"!==window.getComputedStyle(e,null).getPropertyValue("font-family")?(or&&console.log("Main_Checktylesheet reloading"),tf("https://fgl27.github.io/SmartTwitchTV/release/githubio/css/icons.min.css")):or&&console.log("Main_Checktylesheet loaded OK"),document.body.removeChild(e)}function tf(e){var t=document.createElement("link");t.rel="stylesheet",t.href=e,document.getElementsByTagName("head")[0].appendChild(t)}function nf(e){"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?window.setTimeout(e):document.addEventListener("DOMContentLoaded",e)}function af(){var e=(new Date).getTime()+bu;return e=new Date(e),(Dr?Yt[e.getDay()]+" "+e.getDate()+" "+Wt[e.getMonth()]:Yt[e.getDay()]+" "+Wt[e.getMonth()]+" "+e.getDate())+" "+Bp(e.getHours())+":"+Bp(e.getMinutes())}function of(){document.hidden||(sf(),window.setTimeout(sf,2e4))}function sf(){document.hidden||(Nu("label_clock",af()),ku="?"+Math.random())}function df(){document.hidden||ao()&&window.setTimeout(function(){lM()||GC||(jm=Di[Lr.Users_Position].name,QC())},5e3)}function lf(){Gu("side_panel_"+jr,"side_panel_text_focus")}function cf(){Uu("side_panel_"+jr,"side_panel_text_focus")}function rf(){jr?1===jr?t_():2===jr?(document.body.addEventListener("keydown",tr,!1),Ku()):3===jr?(document.body.addEventListener("keydown",tr,!1),n_()):4===jr?Hu(tr):5===jr?uf(lr):6===jr?uf(ro()?wr:cr):7===jr?uf(Sr):8===jr?uf(rr):9===jr?uf(Cr):10===jr&&uf(Mr):Lr.Main_Go!==hr?(Lr.Search_isSearching||Lr.Main_Go!==gr&&Lr.Main_Go!==br&&Lr.Main_Go!==yr||Sd(),Lr.Main_BeforeSearch=Lr.Main_Go,Lr.Main_Go=hr,p_(Lr.Main_BeforeSearch),__()):document.body.addEventListener("keydown",tr,!1),ff()}function uf(e){e===Lr.Main_Go?document.body.addEventListener("keydown",tr,!1):(Lr.Main_Before=Lr.Main_Go,Lr.Main_Go=e,p_(Lr.Main_Before),__())}function _f(e){tr=e,document.body.removeEventListener("keydown",tr),document.body.addEventListener("keydown",mf,!1),Uu("side_panel","side_panel_hide")}function ff(){document.body.removeEventListener("keydown",mf),Gu("side_panel","side_panel_hide"),cf(),jr=0,lf()}function mf(e){switch(e.keyCode){case Ua:case La:document.body.addEventListener("keydown",tr,!1),ff(),kf();break;case Ta:jr&&(cf(),jr--,lf());break;case Oa:jr<10&&(cf(),jr++,lf());break;case Ga:rf()}}function hf(e){switch(e.keyCode){case Ua:qu();break;case Ba:2<++Rr&&(Rr=0),zu(),Du(),Ju();break;case La:--Rr<0&&(Rr=2),zu(),Du(),Ju();break;case Ga:Rr?wu&&1===Rr?Android.mclose(!1):wu&&2===Rr&&Android.mclose(!0):qu()}}Mu();var pf=["top_bar_live","top_bar_user","top_bar_featured","top_bar_game","top_bar_vod","top_bar_clip"],vf=[lr,wr,Sr,rr,Cr,Mr],gf=!1;function yf(e){if(!(gf||Dy.FirstLoad||J_()))switch(e.keyCode){case Ua:i_()?(kf(),a_()):e_()?(kf(),$u()):Lr.Main_Go===ur?(Lr.Main_OldgameSelected=Lr.Main_gameSelected,Lr.Games_return?(Lr.Main_Go=pr,Lr.Main_gameSelected=Lr.gameSelectedOld):(Lr.Main_Go=Lr.Main_BeforeAgame,Lr.Main_BeforeAgame=lr),Lo(),wf(),f_()):Lr.Main_Go===Ir?(cb(ur),wf(),f_()):Lr.Main_Go===mr?(cb(wr),wf(),f_()):Lr.Main_Go===br?(cb(gr),wf(),f_()):Lr.Main_Go===Er?(Lr.Main_Go=ur,ys(),wf(),f_()):Lr.Main_Go===_r?(Lr.Main_Go=wr,JM(),wf(),f_()):Lr.Main_Go===fr?(Lr.Main_Go=wr,wC(),wf(),f_()):Lr.Main_Go===xr?(Lr.Main_Go=wr,QE(),wf(),f_()):Lr.Main_Go===kr?(Lr.Main_Go=wr,HA(),wf(),f_()):Lr.Main_Go===gr?(Lr.Main_Go=Lr.Main_BeforeChannel,Lr.Main_BeforeChannel=lr,sd(),Lr.Main_selectedChannel_id="",wf(),f_()):Lr.Main_Go===yr?(Lr.Main_Go=gr,al(),wf(),f_()):Lr.Main_Go===vr?(Lr.Main_Go===Lr.Main_BeforeSearch?Lr.Main_Go=lr:Lr.Main_Go=Lr.Main_BeforeSearch,vk(),Lr.Search_isSearching=!1,wf(),f_()):Lr.Main_Go===pr?(Lr.Main_Go===Lr.Main_BeforeSearch?Lr.Main_Go=lr:Lr.Main_Go=Lr.Main_BeforeSearch,Lr.Search_isSearching=!1,Pw(),wf(),f_()):Lr.Main_Go===Ar?(Lr.Main_Go===Lr.Main_BeforeSearch?Lr.Main_Go=lr:Lr.Main_Go=Lr.Main_BeforeSearch,Lr.Main_selectedChannel_id&&xd(),nw(),Lr.Search_isSearching=!1,wf(),f_()):(wf(),_f(yf));break;case Ba:if(Lr.Search_isSearching||Lr.Main_Go===gr||Lr.Main_Go===yr||Lr.Main_Go===br||Lr.Main_Go===vr||Lr.Main_Go===pr||Lr.Main_Go===Ar)break;Uu(pf[Lr.Main_CenterLablesVectorPos],"icon_center_line"),Lr.Main_CenterLablesVectorPos++,5<Lr.Main_CenterLablesVectorPos&&(Lr.Main_CenterLablesVectorPos=0),kf(),Af();break;case La:if(Lr.Search_isSearching||Lr.Main_Go===gr||Lr.Main_Go===yr||Lr.Main_Go===br||Lr.Main_Go===vr||Lr.Main_Go===pr||Lr.Main_Go===Ar)break;Uu(pf[Lr.Main_CenterLablesVectorPos],"icon_center_line"),Lr.Main_CenterLablesVectorPos--,Lr.Main_CenterLablesVectorPos<0&&(Lr.Main_CenterLablesVectorPos=5),kf(),Af();break;case Oa:Uu(pf[Lr.Main_CenterLablesVectorPos],"icon_center_line"),document.body.removeEventListener("keydown",yf),Or=!1,f_();break;case Ga:Mf()}}function bf(e){window.clearTimeout($c),u_(),document.body.removeEventListener("keydown",e),document.body.removeEventListener("keydown",yf),document.body.addEventListener("keydown",yf,!1),kf()}function wf(){Uu(pf[Lr.Main_CenterLablesVectorPos],"icon_center_line"),document.body.removeEventListener("keydown",yf),Or=!1}function kf(){Or=!0,Gu(pf[Lr.Main_CenterLablesVectorPos],"icon_center_line")}function Af(){p_(Lr.Main_Go),Lr.Main_Go=vf[Lr.Main_CenterLablesVectorPos],Lr.Main_Go!==wr||ro()?__(!0):(Lr.Main_Go=cr,wf(),__())}function Cf(){Lr.Main_Go===lr?(Dy=gb,document.body.removeEventListener("keydown",_b)):Lr.Main_Go===wr?document.body.removeEventListener("keydown",SE):Lr.Main_Go===ur?document.body.removeEventListener("keydown",Qo):Lr.Main_Go===Sr?(Dy=yb,document.body.removeEventListener("keydown",_b)):Lr.Main_Go===vr?document.body.removeEventListener("keydown",xk):Lr.Main_Go===pr?document.body.removeEventListener("keydown",Vw):Lr.Main_Go===Ar?document.body.removeEventListener("keydown",hw):Lr.Main_Go===yr?document.body.removeEventListener("keydown",vl):Lr.Main_Go===gr?document.body.removeEventListener("keydown",Pd):Lr.Main_Go===fr?document.body.removeEventListener("keydown",BC):Lr.Main_Go===xr?document.body.removeEventListener("keydown",fI):Lr.Main_Go===kr?document.body.removeEventListener("keydown",nC):Lr.Main_Go===rr?(Dy=pb,document.body.removeEventListener("keydown",_b)):Lr.Main_Go===br?(Dy=mb,document.body.removeEventListener("keydown",_b)):Lr.Main_Go===Cr?document.body.removeEventListener("keydown",iS):Lr.Main_Go===Mr?(Dy=fb,document.body.removeEventListener("keydown",_b)):Lr.Main_Go===Ir?(Dy=hb,document.body.removeEventListener("keydown",_b)):Lr.Main_Go===mr?(Dy=vb,document.body.removeEventListener("keydown",_b)):Lr.Main_Go===Er?document.body.removeEventListener("keydown",Bs):Lr.Main_Go===_r&&document.body.removeEventListener("keydown",aE)}function Mf(){window.clearTimeout($c),u_(),Lr.Main_Go!==gr&&(Lr.Main_BeforeChannelisSet=!1),Lr.Main_Go!==ur&&(Lr.Main_BeforeAgameisSet=!1),Xu(),Lr.Main_Go===lr?(Dy=gb,Wy()):Lr.Main_Go===wr?mE():Lr.Main_Go===Sr?(Dy=yb,Wy()):Lr.Main_Go===ur?To():Lr.Main_Go===kr?qA():Lr.Main_Go===gr?dd():Lr.Main_Go===yr?il():Lr.Main_Go===vr?gk():Lr.Main_Go===pr?Lw():Lr.Main_Go===Ar?aw():Lr.Main_Go===rr?(Dy=pb,Wy()):Lr.Main_Go===mr?(Dy=vb).loadingData||Dy.key_refresh():Lr.Main_Go===Cr?VI():Lr.Main_Go===Mr?(Dy=fb,Wy()):Lr.Main_Go===Ir?(Dy=hb,Wy()):Lr.Main_Go===br?(Dy=mb,Wy()):Lr.Main_Go===Er?bs():Lr.Main_Go===_r?HM():Lr.Main_Go===fr?kC():Lr.Main_Go===xr&&ZE(),$c=window.setTimeout(r_,3e3)}function Ef(e,t){localStorage.setItem(e,t)}function If(e,t){return parseInt(localStorage.getItem(e))||t}function Sf(e,t){return JSON.parse(localStorage.getItem(e))||t}function xf(e,t){var n=t.toString();return(localStorage.getItem(e)||n)===n?t:!t}function Pf(e){console.log(e);for(var t=0;t<e.length;t++)console.log("Character is: "+e.charAt(t)+" it's Unicode is: \\u"+e.charCodeAt(t).toString(16).toUpperCase())}function Lf(e){console.log("processCode");var t="";t=e.match(/code=(\w+)/),Ur=t?(t=t[1],console.log("if code "+t),t):(console.log("else code "+t),0)}function Tf(e,t,n,a,i,o,s){wu?Of(e,t,n,a,i,o):Gf(e,t,n,a,i,o,s)}function Bf(e,t,n,a,i,o,s,d){wu&&d?Of(e,t,n,a,i,o):Gf(e,t,n,a,i,o,s)}function Of(e,t,n,a,i,o){var s=Android.mreadUrl(e,t,n,a);s&&200===(s=JSON.parse(s)).status?i(s.responseText):o()}function Gf(e,t,n,a,i,o,s){var d=new XMLHttpRequest;d.open("GET",(s?Au:"")+e,!0),d.timeout=t,0<n&&d.setRequestHeader(du,su),1<n&&d.setRequestHeader(lu,uu),2<n&&d.setRequestHeader(cu,a),d.ontimeout=function(){},d.onreadystatechange=function(){if(4===d.readyState){if(200===d.status)return void i(d.responseText);o()}},d.send(null)}var Uf=0,Rf=null,Nf=0,Ff=!1,Vf=0,Df=0,Jf=!1,Hf=0,qf=2e3,zf=5,Xf="source",jf=Xf,Wf=0,Yf=[],Qf="",Zf=!1,Kf=0,$f=0,em=1,tm=!1,nm=0,am=!1,im=!1,om=2e3,sm=[0,5],dm=0;function lm(){Hp(),Ev(),fp(document.getElementById("stream_info_icon"),Lr.Main_selectedChannelLogo),Nu("stream_info_name",Lr.Main_selectedChannelDisplayname),Ru("stream_info_title",Ab),Ru("stream_info_game",wb+" "+kb+" "+Eb),Nu("stream_live_icon",Mb),Nu("progress_bar_duration",Op(dm)),Ey((jh=sm)[1]),Lr.Play_isHost=!1,Nu("progress_bar_current_time",Op(0)),Nu("stream_live_time",""),Nu("stream_watching_time",""),tm=null!==Lr.ChannelVod_vodId,cc=Gt+".",tm?(lc=tl,pc()):Xc(),Ru("pause_button",'<i class="strokedbig icon-pause" style="color: #FFFFFF; font-size: 180%;"></i>'),Bu("progress_pause_holder"),Sm(),Bu("scene_channel_panel_bottom"),Nf=nm=0,window.clearInterval(Rf),im=!1,Fm=-13,Kf=$f=0,Wf=2,Ov(3),Sh=!1,wv(),ao()?(Wa=!0,Ya=Lr.Main_selectedChannel_id,ri()):Jp(),document.addEventListener("visibilitychange",pm,!1),Ff=!1,Jf=!(Df=Vf=0),cm(),document.body.removeEventListener("keyup",F_)}function cm(){Hf=0,qf=2e3,rm()}function rm(){Tf("https://clips.twitch.tv/api/v2/clips/"+Cb+"/status",qf,1,null,_m,um,!0)}function um(){++Hf<zf?(qf+=250,rm()):(qp(),Vv(3))}function _m(e){Yf=[],e=JSON.parse(e).quality_options;for(var t=0;t<e.length;t++)Yf.length?Yf.push({id:e[t].quality+"p"+fm(e[t].frame_rate),url:e[t].source}):Yf.push({id:e[t].quality+"p"+fm(e[t].frame_rate)+" (source)",url:e[t].source});$f=em,mm()}function fm(e){return 40<e?60:""}function mm(){window.clearInterval(Rf),Qf=Yf[Wf=0].url,-1!==Xf.indexOf("source")&&(Xf="source");for(var e=0;e<Mm();e++){if(Yf[e].id===Xf){Qf=Yf[Wf=e].url;break}-1!==Yf[e].id.indexOf(Xf)&&(Qf=Yf[Wf=e].url)}jf=Xf,or&&console.log("PlayClip_onPlayer:",'\n\n"'+Qf+'"\n'),$f=em,wu&&Jf&&Android.startVideoOffset(Qf,3,Zf?-1:Android.gettime()),Zf=!1,hm()}function hm(){dh&&!rv()&&lv(),wu&&(Nf=0,Hh=1+om/1e3,am=!1,window.clearInterval(Rf),Rf=window.setInterval(vm,qh))}function pm(){document.hidden&&ym()}function vm(){wu&&(Kf=Android.gettime()),Jf&&Uf===Kf&&!Lp()?++Nf>Hh&&(am&&im&&Wf<Mm()-1?Wf++:!am&&im&&nm++,navigator.onLine?1<nm?Pp(nm,3,gm):(Em(),mm(),im=!0):xp(!1,3)):(Nf=nm=0,im=!1),Uf=Kf}function gm(e){if(!e){if(!(Wf<Mm()-1))return void xp(!1,3);Wf++}nm=0,Em(),mm(),im=!0}function ym(){Jf&&(Yf=[],bm(),Yp(),Fp())}function bm(){window.clearInterval(Rf),wu&&Android.stopVideo(3),Jf=!1,Dc(),Vp(),rM(),document.body.removeEventListener("keydown",Pm),document.removeEventListener("visibilitychange",pm),wm(),document.getElementById("scene2_pannel_0").style.display="none",document.getElementById("scene2_pannel_1").style.width="30%",document.getElementById("quality_name").style.width="77%",document.getElementById("quality_name").style.fontSize="87.5%",tl=0}function wm(){Eg=!1,Mg=Ig=0,sv(),Xf=jf,document.getElementById("scene_channel_panel").style.opacity="0",wu&&Ay(Android.gettime()/1e3,dm,!0),Ru("progress_bar_jump_to",wa),document.getElementById("progress_bar_steps").style.display="none",window.clearInterval($v)}function km(){Am(),Tp(),$v=window.setInterval(Am,1e3),Yp(),vy(),Cm(),Em(),document.getElementById("scene_channel_panel").style.opacity="1",Im()}function Am(){wu&&Ay(Android.gettime()/1e3,dm,!Eg)}function Cm(){for(var e=Wf=0;e<Mm();e++){if(Yf[e].id===Xf){Wf=e;break}-1!==Yf[e].id.indexOf(Xf)&&(Wf=e)}}function Mm(){return Yf.length}function Em(){1===Mm()?(document.getElementById("quality_arrow_up").style.opacity="0",document.getElementById("quality_arrow_down").style.opacity="0"):Wf?Wf===Mm()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(Xf=Yf[Wf].id).indexOf("source")?Nu("quality_name",Xf.replace("source",ge)):Nu("quality_name",Xf)}function Im(){Jm=window.setTimeout(wm,5e3+Gg)}function Sm(){document.getElementById("scene2_pannel_1").style.width="18%",document.getElementById("quality_name").style.width="60%",document.getElementById("quality_name").style.fontSize="72%",Nu("open_vod_text",tm?sn:dn),document.getElementById("scene2_pannel_0").style.display="inline-block"}function xm(){tm?(Lr.vodOffset=tl,bm(),document.body.addEventListener("keydown",Vy,!1),wv(),nf(Dg)):(Sh=!0,zp(ln),window.setTimeout(function(){Sh=!1,Xp()},2e3))}function Pm(e){if($f!==em)switch(e.keyCode){case Ua:Qp()?(Yp(),ym()):Wp()}else switch(e.keyCode){case La:lM()?Wm&&!GC&&(bM(),Wm--,hM()):zm&&!nv()&&rv()?(Rm++,vv()):nv()?(sv(),Bg?(Av(),5<++Ih&&(Ih=0),kv()):(Sy(-1,dm),Gg=2500),Im()):Iv()?(Tv(),Pv(),--Bh<0&&(Bh=3),xv()):km();break;case Ba:lM()?Wm<VC-1&&!GC&&(bM(),Wm++,hM()):!zm||nv()||Iv()?nv()?(sv(),Bg?(Av(),--Ih<0&&(Ih=5),kv()):(Sy(1,dm),Gg=2500),Im()):Iv()?(Tv(),Pv(),3<++Bh&&(Bh=0),xv()):km():Ef("ChatEnable",(dh=rv()||Iv()?(cv(),!1):(lv(),!0))?"true":"false");break;case Ta:Iv()?Tv():nv()?(2===Bg&&1!==Ih?(Bg--,gy()):1===Bg?(Bg--,gy()):0<Wf&&1===Ih&&(Wf--,Em()),sv(),Im()):lM()?lM()?mM():km():cM();break;case Oa:Iv()?Tv():nv()?(Bg?1===Bg?(Bg++,gy()):Wf<Mm()-1&&1===Ih&&(Wf++,Em()):(Bg++,gy()),sv(),Im()):lM()?rM():zm&&rv()?(4<++Dm?pv(!(Dm=1)):4===Dm&&pv(!0),mv(!0)):km();break;case Ga:Iv()?Bv(3):nv()?Bg?1===Bg?(tm&&Lr.Play_ChatForceDisable&&(Lp()?Fc(mc):Vc()),Iv()||bv(3)):Fv(3):(sv(),Im(),Mg&&Cy()):lM()?(bm(),j_(Wm,YC,Qv)):km();break;case Ua:nv()?wm():lM()?rM():Qp()?(Yp(),ym()):Wp();break;case xa:case Sa:case Pa:tm&&!Lr.Play_ChatForceDisable&&(Lp()?Fc(mc):Vc()),Iv()||bv(3)}}var Lm,Tm,Bm,Om,Gm,Um,Rm=0,Nm=Rm,Fm=-5,Vm=.55,Dm=3,Jm=null,Hm="source",qm=Hm,zm=!0,Xm=!1,jm="",Wm=0,Ym=2e3,Qm=0,Zm=1,Km=2,$m=0,eh=null,th=0,nh=0,ah=0,ih="",oh=[],sh=0,dh=!1,lh=null,ch=null,rh=null,uh="",_h=0,fh=5,mh=0,hh=5,ph=0,vh=!1,gh=null,yh=!1,bh=0,wh=null,kh=0,Ah=0,Ch=!1,Mh=!1,Eh=!1,Ih=1,Sh=!1,xh=!1,Ph=1e4,Lh=2e3,Th="",Bh=0,Oh=3,Gh=null,Uh="",Rh=0,Nh=0,Fh="",Vh=!0,Dh=!1,Jh=!1,Hh=7,qh=1e3,zh=0,Xh="",jh=[],Wh=[{top:51.8,left:75.1,sizeOffset:[31,16,0,0]},{top:33,left:75.1,sizeOffset:[12.5,0,-6.25,0]},{top:.2,left:75.1,sizeOffset:[0,0,0,0]},{top:.2,left:38.3,sizeOffset:[0,0,0,0]},{top:.2,left:.2,sizeOffset:[0,0,0,0]},{top:33,left:.2,sizeOffset:[12.5,0,-6.25,0]},{top:51.8,left:.2,sizeOffset:[31,16,0,0]},{top:51.8,left:38.3,sizeOffset:[31,16,0,0]}],Yh=[0,0,0,1,2,2,2,1],Qh=[[0,1,2,2,2,1,0,0],[7,3,3,3,3,3,7,7],[6,5,4,4,4,5,6,6]],Zh=[{containerHeight:17,percentage:"12.5%",dialogTop:15},{containerHeight:32,percentage:"25%",dialogTop:30},{containerHeight:48,percentage:"50%",dialogTop:50},{containerHeight:99.6,percentage:"100%",dialogTop:115}],Kh=1,$h=["chat_extra_small","chat_size_small","chat_size_default","chat_size_biger","chat_size_bigest"];function ep(){Gm=document.getElementById("chat_container"),Um=document.getElementById("inner_progress_bar"),Rm=If("ChatPositionsValue",0),Dm=If("ChatSizeValue",3),dh=xf("ChatEnable",!1),zm=xf("Play_isFullScreen",!0),mv(!1),hv(!1),np()}function tp(e){e?void 0!==Lm&&(Rm=Lm,Dm=Bm,(dh=Tm)||cv(),mv(!1)):(Lm=Rm,Tm=dh,Bm=Dm,Rm=0,lv(),Dm=4,pv(dh=!0),mv(!1),ec&&(ec.scrollTop=ec.scrollHeight)),Ef("Play_isFullScreen",zm)}function np(){Kh=zk("chat_font_size");for(var e=0;e<$h.length;e++)Uu("chat_inner_container",$h[e]);Gu("chat_inner_container",$h[Kh])}function ap(){Hp(),Ru("stream_live_icon",'<div style="vertical-align: middle; display: inline-block"><i class="icon-circle" style="color: red; font-size: 105%; "></i></div><div style="display: inline-block">'+wa+_.toUpperCase()+"</div>"),A_("stream_info_title"),tm=!(xh=!1),fp(document.getElementById("stream_info_icon"),Ma),Lr.Play_isHost?Nu("stream_info_name",Lr.Play_DisplaynameHost):Nu("stream_info_name",Lr.Play_selectedChannelDisplayname),Lr.Play_WasPlaying=1,m_(),Xm=Lr.Play_isHost,Lr.Play_isHost=!1,Dh=!1,Bu("scene_channel_panel_bottom"),Nh=Rh=0,Nu("stream_watching_time",g+Op(0)),uh=Gp(0),Nu("stream_live_time",y+uh),Tu("progress_pause_holder"),Ov(1),Fm=-5,kh=Ah=zh=0,window.clearInterval(wh),Mh=!1,Ph=3e3,Vh=!(mh=0),$m=Qm,Eh=!(vh=!(ah=nh=th=yh=0)),document.addEventListener("visibilitychange",op,!1),dp(),mp(),document.body.removeEventListener("keyup",F_),eh=window.setInterval(rp,6e4)}function ip(e){zp(e)}function Play_CheckResume(){vh&&op(),fg&&Qg(),Jf&&(ym(),window.clearInterval(Rf))}function op(){document.hidden?Iv()?(Yp(),cv(),Rp()):(Vp(),Eh=!1,Ql(),window.clearInterval(eh)):(vh=!0,$p(),vh&&(Hp(),Ph=3e3,Dh=!(mh=0),xh?rp():dp(),$m=Qm,ph=0,navigator.onLine?mp():Om=window.setInterval(sp,100),eh=window.setInterval(rp,6e4)))}function sp(){(navigator.onLine||200<ph)&&(window.clearInterval(Om),mp()),ph++}function dp(){Gf("https://api.twitch.tv/kraken/streams/"+Lr.Play_selectedChannel_id,Ph,2,null,lp,cp,!1)}function lp(e){null!==(e=JSON.parse(e)).stream&&(Nu("stream_info_name",Xm?Lr.Play_DisplaynameHost:Lr.Play_selectedChannelDisplayname),Lr.Play_selectedChannel_id=e.stream.channel._id,Ru("stream_info_title",mS.parse(e.stream.channel.status)),Lr.Play_gameSelected=e.stream.game,Th=" ["+e.stream.channel.broadcaster_language.toUpperCase()+"]",Nu("stream_info_game",v+Lr.Play_gameSelected+h+o_(e.stream.viewers)+" "+D+Th),Lr.Play_selectedChannelLogo=e.stream.channel.logo,xh=!0,fp(document.getElementById("stream_info_icon"),Lr.Play_selectedChannelLogo),uh=e.stream.created_at,ao()?(Wa=!0,Ya=Lr.Play_selectedChannel_id,ri()):Jp())}function cp(){mh<hh&&(Ph+=500,window.setTimeout(function(){vh&&dp()},750)),mh++}function rp(){Gf("https://api.twitch.tv/kraken/streams/"+Lr.Play_selectedChannel_id,3e3,2,null,up,_p,!1)}function up(e){null!==(e=JSON.parse(e)).stream&&(Ru("stream_info_title",mS.parse(e.stream.channel.status)),Lr.Play_gameSelected=e.stream.game,Nu("stream_info_game",v+Lr.Play_gameSelected+h+o_(e.stream.viewers)+" "+D+Th),xh||fp(document.getElementById("stream_info_icon"),e.stream.channel.logo))}function _p(){zh<hh?(window.setTimeout(function(){vh&&rp()},2500),zh++):zh=0}function fp(e,t){e.onerror=function(){this.src=Ma,xh=!1},e.src=t}function mp(){_h=0,Lh=2e3+(Dh?3e3:0),hp()}function hp(){var e,t;if(e=$m===Qm?"https://api.twitch.tv/api/channels/"+Lr.Play_selectedChannel+"/access_token"+(ao()&&Di[Lr.Users_Position].access_token?"?oauth_token="+Di[Lr.Users_Position].access_token:""):"https://usher.ttvnw.net/api/channel/hls/"+Lr.Play_selectedChannel+".m3u8?&token="+encodeURIComponent(th.token)+"&sig="+th.sig+"&allow_source=true&allow_audi_only=true&fast_bread=true&allow_spectre=false",wu){if(!(t=Android.mreadUrl(e,Lh,1,null)))return void vp();200===(t=JSON.parse(t)).status?(_h=0,vh&&bp(t.responseText)):403===t.status?gp():404===t.status?Dv():vp()}else(t=new XMLHttpRequest).open("GET",Au+e,!0),t.timeout=Lh,t.setRequestHeader(du,su),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?(_h=0,vh&&bp(t.responseText)):403===t.status?(pp(t),ir?yp():gp()):404===t.status?(pp(t),ir?yp():Dv()):(pp(t),vp()))},t.send(null)}function pp(e){or&&(console.log(e.status),console.log(e.responseText))}function vp(){vh&&Vh&&(++_h<fh+(Dh?8:0)?(Lh+=250,Dh?window.setTimeout(hp,500):hp()):ir?yp():Dv())}function gp(){qp(),zp(Vn),window.setTimeout(function(){vh&&Dv()},4e3)}function yp(){oh=[{id:"1080p60(Source)",band:"(10.00Mbps)",url:"http://fake"}],$m=Km,vh&&Cp()}function bp(e){$m===Qm?(th=JSON.parse(e),$m=Zm,mp()):$m===Zm&&(oh=wp(nh=e),$m=Km,vh&&Cp())}function wp(e){for(var t,n=[],a="",i=1,o=Ap(e),s=0;s<o.length;s++)a=o[s].split('NAME="')[1].split('"')[0],t=kp(o[s].split("BANDWIDTH=")[1].split(",")[0]),n.length?n[s-i].id!==a&&n[s-i].id!==a+" (source)"?n.push({id:a,band:t,url:o[s].split("\n")[2]}):i++:(-1===a.indexOf("ource")&&(a+=" (source)"),n.push({id:a,band:t,url:o[s].split("\n")[2]}));return n}function kp(e){return 0<(e=parseInt(e))?" ("+parseFloat(e/1e6).toFixed(2)+"Mbps)":""}function Ap(e){for(var t,n=[],a=/#EXT-X-MEDIA:(.)*\n#EXT-X-STREAM-INF:(.)*\n(.)*/g;t=a.exec(e);)n.push(t[0]);return n}function Cp(){window.clearInterval(wh),ih=oh[sh=0].url,-1!==Hm.indexOf("source")&&(Hm="source");for(var e=0;e<fv();e++){if(oh[e].id===Hm){ih=oh[sh=e].url;break}-1!==oh[e].id.indexOf(Hm)&&(ih=oh[sh=e].url)}qm=Hm,$m=Km,or&&console.log("Play_onPlayer:",'\n\n"'+ih+'"\n'),wu&&vh&&Android.startVideo(ih,1),Mp()}function Mp(){Jh=!1,dh&&!rv()&&lv(),Eh=!0,Ep(),wu&&(kh=0,Hh=1+Ym/1e3,Ch=!1,window.clearInterval(wh),wh=window.setInterval(Ip,qh))}function Ep(){Lr.Play_ChatForceDisable?Ll():jc()}function Ip(){var e=!Lp();wu&&(Rh=Android.gettime()),vh&&bh===Rh&&e?Hh<++kh&&(Ch&&Mh&&sh<fv()-1?sh++:!Ch&&Mh&&Ah++,navigator.onLine?1<Ah?Pp(Ah,1,Sp):(_v(),Cp(),Mh=!0):xp(!1,1)):(kh=Ah=0,Mh=!1),bh=Rh,e&&Nh++}function Sp(e){if(!e){if(!(sh<fv()-1))return void Dv();sh++}Ah=0,_v(),Cp(),Mh=!0}function xp(e,t){Lr.Play_isHost=e,Ov(t),Vv(t)}function Pp(e,t,n){var a=new XMLHttpRequest;a.timeout=1e3,a.open("GET","https://static-cdn.jtvnw.net/jtv-static/404_preview-10x10.png?"+Math.random(),!0),a.onreadystatechange=function(){4===a.readyState&&(200===a.status?n(2<e):12<e&&xp(!1,t))},a.send(null)}function Lp(){return!!wu&&!Android.getPlaybackState()}function Tp(){var e=af();Nu("stream_clock",e),Nu("label_clock",e)}function Bp(e){return e<10?"0"+e:e}function Op(e){var t,n,a;return t=Bp(parseInt(e)%60),n=Bp((e=Math.floor(e/60))%60),a=Bp(e=Math.floor(e/60)),e?a+":"+n+":"+t:n+":"+t}function Gp(e){return Op(parseInt(e/1e3))}function Up(e){return Gp((new Date).getTime()-new Date(e).getTime())}function Rp(){vh&&(Np(),Lr.Play_WasPlaying=0,Fp())}function Np(){wu&&Android.stopVideo(1),vh=!1,rM(),Dc(),Vp(),Dp(),Lr.Play_selectedChannel_id=""}function Fp(){Ay(0,0),Bu("scene1"),Tu("scene2"),c_()}function Vp(){av(),$p(),Xp(),Ev(),Xh="",sh===fv()-1&&(qm=oh[0].id),rg===ky()-1&&(ng=cg[0].id),Wf===Mm()-1&&(jf=Yf[0].id)}function Dp(){Eh=!1,document.body.removeEventListener("keydown",Qv),document.removeEventListener("visibilitychange",op),Ql(),window.clearInterval(eh),window.clearInterval(wh),Sh=!1}function Jp(){Ru("fallow_text",wa+Tt),Xa=!1}function Hp(){wu?Android.mshowLoading(!0):Bu("dialog_loading_play")}function qp(){wu?Android.mshowLoading(!1):Tu("dialog_loading_play")}function zp(e){Nu("dialog_warning_play_text",e),Bu("dialog_warning_play")}function Xp(){Tu("dialog_warning_play")}function jp(){return Ou("dialog_warning_play")}function Wp(){Qp()?Yp():(Bu("play_dialog_exit"),lh=window.setTimeout(Wp,3e3))}function Yp(){window.clearTimeout(lh),Tu("play_dialog_exit")}function Qp(){return Ou("play_dialog_exit")}function Zp(){window.clearTimeout(ch)}function Kp(){window.clearTimeout(rh)}function $p(){Zp(),Kp(),Tu("play_dialog_simple_pause")}function ev(){Lp()?tv()?(Tu("play_dialog_simple_pause"),rh=window.setTimeout(ev,8e3)):(Bu("play_dialog_simple_pause"),ch=window.setTimeout(ev,1500)):$p()}function tv(){return Ou("play_dialog_simple_pause")}function nv(){return"1"===document.getElementById("scene_channel_panel").style.opacity}function av(){sv(),document.getElementById("scene_channel_panel").style.opacity="0",Hm=qm,window.clearInterval($v)}function iv(){wv(),uv(),_v(),ov(),$v=window.setInterval(ov,1e3),Tp(),Yp(),document.getElementById("scene_channel_panel").style.opacity="1",dv()}function ov(){Nu("stream_watching_time",g+Op(Nh)),Nu("stream_live_time",y+(-1===uh.indexOf("00:00")?Up(uh):"00:00"))}function sv(){window.clearTimeout(Jm),Gg=0}function dv(){Jm=window.setTimeout(av,5e3)}function lv(){vv(),Bu("chat_container")}function cv(){Tu("chat_container")}function rv(){return Ou("chat_container")}function uv(){for(var e=sh=0;e<fv();e++){if(oh[e].id===Hm){sh=e;break}-1!==oh[e].id.indexOf(Hm)&&(sh=e)}}function _v(){1===fv()?(document.getElementById("quality_arrow_up").style.opacity="0",document.getElementById("quality_arrow_down").style.opacity="0"):sh?sh===fv()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(Hm=oh[sh].id).indexOf("source")?Nu("quality_name",Hm.replace("source",ge)+oh[sh].band):Nu("quality_name",Hm+oh[sh].band)}function fv(){return oh.length}function mv(e){Gm.style.height=Zh[Dm-1].containerHeight+"%",document.getElementById("play_chat_dialog").style.marginTop=Zh[Dm-1].dialogTop+"%",vv(),Wl(),e&&gv(Nn+Zh[Dm-1].percentage),window.setTimeout(function(){ec&&(ec.scrollTop=ec.scrollHeight)},500),Ef("ChatSizeValue",Dm)}function hv(e){Gm.style.backgroundColor="rgba(0, 0, 0, "+Vm+")",e&&gv(Fn+(100*Vm).toFixed(0)+"%")}function pv(e){Rm=e?Yh[Nm=Rm]:Qh[Rm][Nm]}function vv(){var e=4===Dm;Rm<0?Rm=e?2:7:(e?2:7)<Rm&&(Rm=0),Gm.style.top=(e?.2:Wh[Rm].top+Wh[Rm].sizeOffset[Dm-1])+"%",Gm.style.left=Wh[Rm+(e?2:0)].left+"%",Ef("ChatPositionsValue",Rm)}function gv(e){window.clearTimeout(gh),Nu("play_chat_dialog_text",e),Bu("play_chat_dialog"),gh=window.setTimeout(yv,1e3)}function yv(){Tu("play_chat_dialog")}function bv(e){Lp()?($p(),wu&&Android.play(!0),Ru("pause_button",'<i class="strokedbig icon-pause" style="color: #FFFFFF; font-size: 180%;"></i>'),1===e?(nv()&&av(),window.clearInterval(wh),wh=window.setInterval(Ip,qh)):2===e?(nv()&&my(),window.clearInterval(yg),yg=window.setInterval(cy,qh)):3===e&&(nv()&&wm(),window.clearInterval(Rf),Rf=window.setInterval(vm,qh))):(window.clearInterval(wh),window.clearInterval(yg),window.clearInterval(Rf),Ru("pause_button",'<i class="strokedbig icon-play-1" style="color: #FFFFFF; font-size: 180%;"></i>'),wu&&Android.play(!1),ev())}function wv(){Av(),Ih=1,kv()}function kv(){Gu("scene2_pannel_"+Ih,"playbotton_focus")}function Av(){Uu("scene2_pannel_"+Ih,"playbotton_focus")}function Cv(){ag=$m=-1,$f=-1,cv(),av(),wm(),my(),Sh||Xp(),qp(),Yp(),xv()}function Mv(){Bu("dialog_end_stream")}function Ev(){Tu("dialog_end_stream"),Tv(),Sv()}function Iv(){return Ou("dialog_end_stream")}function Sv(){Pv(),Bh=0,xv()}function xv(){Gu("dialog_end_"+Bh,"dialog_end_icons_focus")}function Pv(){Uu("dialog_end_"+Bh,"dialog_end_icons_focus")}function Lv(e){1===e?Uh=Lr.Play_selectedChannelDisplayname+" "+_:2===e?Uh=Lr.Main_selectedChannelDisplayname+$t:3===e&&(Uh=Lr.Main_selectedChannelDisplayname+Gt),Ru("dialog_end_stream_text",Uh+S+da+tn+Oh+"..."),Iv()?(ag=$m=Km,$f=em,-1===--Oh?(Ru("dialog_end_stream_text",Uh+S+da+tn+"0..."),Yp(),cv(),1===e?Rp():2===e?uy():3===e&&ym()):Gh=window.setTimeout(function(){Lv(e)},1e3)):Gh=window.setTimeout(function(){Lv(e)},50)}function Tv(){window.clearTimeout(Gh),Ru("dialog_end_stream_text",Uh+S+da+nn)}function Bv(e){var t=!0;Bh?1===Bh?Lr.Play_isHost?(Lr.Play_DisplaynameHost=Lr.Play_selectedChannelDisplayname+ne,Lr.Play_selectedChannel=Fh.target_login,Lr.Play_selectedChannelDisplayname=Fh.target_display_name,Lr.Play_DisplaynameHost=Lr.Play_DisplaynameHost+Lr.Play_selectedChannelDisplayname,Np(),document.body.addEventListener("keydown",Qv,!1),Lr.Play_selectedChannel_id=Fh.target_id,nf(ap)):xm():2===Bh?Gv(e):3===Bh&&Rv(e):2===e?cg.length?(wg=!(Ng=!0),dy(),$p(),lc=Pg=0,pc()):(t=!1,zp(ea),window.setTimeout(function(){Xp()},2e3)):3===e&&(Yf.length?(am=!(Zf=!0),mm(),$p(),tm?(Pg=0,lc=tl,pc()):Xc()):(t=!1,zp(ea),window.setTimeout(function(){Xp()},2e3))),1!==Bh&&3===Bh&&""===Lr.Play_gameSelected&&(t=!1),t&&Ev()}function Ov(e){e?1===e?(Pv(),Bh=2,xv(),document.getElementById("dialog_end_0").style.display="none",document.getElementById("dialog_end_1").style.display="none"):2===e?(Sv(),document.getElementById("dialog_end_0").style.display="inline-block",document.getElementById("dialog_end_1").style.display="none"):3===e&&(Sv(),document.getElementById("dialog_end_0").style.display="inline-block",document.getElementById("dialog_end_1").style.display="inline-block",Nu("dialog_end_vod_text",tm?sn:dn)):(Pv(),Bh=1,xv(),document.getElementById("dialog_end_0").style.display="none",document.getElementById("dialog_end_1").style.display="inline-block",Nu("dialog_end_vod_text",un))}function Gv(e){Lr.Main_BeforeChannelisSet||Lr.Main_Go===yr||Lr.Main_Go===br||(Lr.Main_BeforeChannel=Lr.Main_BeforeAgameisSet&&Lr.Main_Go!==ur?Lr.Main_BeforeAgame:Lr.Main_Go,Lr.Main_BeforeChannelisSet=!0),p_(Lr.Main_Go),Lr.Main_Go=gr,1===e?(Lr.Main_selectedChannel_id=Lr.Play_selectedChannel_id,Lr.Main_selectedChannel=Lr.Play_selectedChannel,Lr.Main_selectedChannelDisplayname=Lr.Play_selectedChannelDisplayname,zs=Xa,cv(),Rp()):2===e?uy():3===e&&ym()}function Uv(e){Lr.Search_isSearching||(Lr.Main_BeforeSearch=Lr.Main_Go),p_(Lr.Main_Go),Lr.Main_Go=hr,1===e?(cv(),Rp()):2===e?uy():3===e&&ym()}function Rv(e){if(""===Lr.Play_gameSelected)return Sh=!0,zp(Qn),void window.setTimeout(function(){Sh=!1,Xp()},2e3);Lr.Main_BeforeAgameisSet||Lr.Main_Go===Er||Lr.Main_Go===Ir||(Lr.Main_BeforeAgame=Lr.Main_BeforeChannelisSet&&Lr.Main_Go!==gr&&Lr.Main_Go!==yr&&Lr.Main_Go!==br?Lr.Main_BeforeChannel:Lr.Main_Go,Lr.Main_BeforeAgameisSet=!0),p_(Lr.Main_Go),Lr.Main_Go=ur,So=!1,Lr.Main_gameSelected=Lr.Play_gameSelected,cv(),1===e?Rp():2===e?uy():3===e&&ym()}function Nv(){ao()&&Di[Lr.Users_Position].access_token?Xa?gi():hi():(zp(Bt),Sh=!0,window.setTimeout(function(){Xp(),Sh=!1},2e3))}function Fv(e){Ih?1===Ih?(1===e?(Cp(),av()):2===e?(wg=!1,dy(),my()):3===e&&(am=!1,mm(),wm()),$p()):2===Ih?(Ya=1===e?Lr.Play_selectedChannel_id:Lr.Main_selectedChannel_id,Nv(),sv(),1===e?dv():2===e?yy():3===e&&Im()):3===Ih?Rv(e):4===Ih?Gv(e):5===Ih&&Uv(e):xm()}function Play_PannelEndStart(e){1===e?(window.clearInterval(wh),Dv()):Vv(e)}function Vv(e){window.clearInterval(wh),window.clearInterval(Rf),window.clearInterval(yg),Cv(),Oh=3,Lv(e),Mv(e)}function Dv(){Hp(),$m=-1,_h=0,Lh=2e3,Ql(),window.clearInterval(eh),window.clearInterval(wh),""!==Lr.Play_selectedChannel_id?zv():Jv()}function Jv(){Gf("https://api.twitch.tv/kraken/users?login="+Lr.Play_selectedChannel,Lh,2,null,Hv,qv,!1)}function Hv(e){void 0!==(e=JSON.parse(e).users[0])?(Lr.Play_selectedChannel_id=e._id,_h=0,Lh=2e3,zv()):Vv(1)}function qv(){++_h<fh?(Lh+=250,Jv()):xp(!1,1)}function zv(){Tf("https://tmi.twitch.tv/hosts?include_logins=1&host="+encodeURIComponent(Lr.Play_selectedChannel_id),Lh,1,null,jv,Xv,!0)}function Xv(){++_h<fh?(Lh+=250,zv()):xp(!1,1)}function jv(e){void 0!==(Fh=JSON.parse(e).hosts[0]).target_login?(Sh=!0,zp(Lr.Play_selectedChannelDisplayname+rn+ne+Fh.target_display_name),window.setTimeout(function(){Sh=!1},4e3),Ov(0),Lr.Play_isHost=!0):(Ov(1),Lr.Play_isHost=!1),Vv(1)}function Wv(){Xa?(Ru("fallow_heart",'<i class="icon-heart strokicon" style="color: #00b300; font-size: 210%;"></i>'),Ru("fallow_text",wa+Et)):(Ru("fallow_heart",'<i class="icon-heart-o strokicon" style="color: #FFFFFF; font-size: 210%;"></i>'),Ru("fallow_text",wa+It))}function Yv(e){Iv()&&!Qp()?(Tv(),Wp()):lM()?rM():nv()&&!Gy()?e?my():av():Gy()&&Qp()?(Oy(),_y(!1),Fp()):Qp()?(Yp(),cv(),e?uy():Rp()):(jp()&&Xp(),Wp())}function Qv(e){if($m!==Km)switch(e.keyCode){case Ua:Qp()?(Yp(),cv(),Rp()):Wp()}else switch(e.keyCode){case La:lM()?Wm&&!GC&&(bM(),Wm--,hM()):zm&&!nv()&&rv()?(Rm++,vv()):nv()?(Av(),5<++Ih&&(Ih=1),kv(),sv(),dv()):Iv()?(Tv(),Pv(),--Bh<(Lr.Play_isHost?1:2)&&(Bh=3),xv()):iv();break;case Ba:lM()?Wm<VC-1&&!GC&&(bM(),Wm++,hM()):!zm||nv()||Iv()?nv()?(Av(),--Ih<1&&(Ih=5),kv(),sv(),dv()):Iv()?(Tv(),Pv(),3<++Bh&&(Bh=Lr.Play_isHost?1:2),xv()):iv():Ef("ChatEnable",(dh=rv()||Iv()?(cv(),!1):(lv(),!0))?"true":"false");break;case Ta:nv()?(0<sh&&1===Ih&&(sh--,_v()),sv(),dv()):!lM()&&ao()?cM():Iv()?Tv():lM()&&mM();break;case Oa:nv()?(sh<fv()-1&&1===Ih&&(sh++,_v()),sv(),dv()):lM()?rM():zm&&rv()?(4<++Dm?pv(!(Dm=1)):4===Dm&&pv(!0),mv(!0)):Iv()?Tv():iv();break;case Ga:if(Iv())Bv(1);else if(nv())Fv(1);else if(lM()){var t=document.getElementById(YC[8]+Wm);null===t?uM():Lr.Play_selectedChannel!==JSON.parse(t.getAttribute(hu))[0]?(Np(),j_(Wm,YC,Qv)):uM()}else iv();break;case Ua:Yv(!1);break;case xa:case Sa:case Pa:Iv()||bv(1)}}var Zv,Kv,$v,eg,tg="source",ng=tg,ag=0,ig=null,og=0,sg=0,dg=0,lg="",cg=[],rg=0,ug=0,_g=5,fg=!1,mg=2e3,hg=0,pg=5,vg=1e4,gg=0,yg=null,bg=0,wg=!1,kg=0,Ag=!1,Cg=!1,Mg=0,Eg=!1,Ig=0,Sg=2e3,xg=!1,Pg=0,Lg={},Tg=0,Bg=0,Og=!0,Gg=0,Ug=0,Rg=0,Ng=!1,Fg=[0,10,30,60,120,300,600,900,1200,1800],Vg=!1;function Dg(){Hp(),Ev(),Pg=0,Nu("stream_live_time",""),Nu("stream_watching_time",""),Nu("progress_bar_current_time",Op(0)),cc=O+".",Ru("pause_button",'<i class="strokedbig icon-pause" style="color: #FFFFFF; font-size: 180%;"></i>'),Tu("progress_pause_holder"),Ug=0,Ey((jh=Fg)[1]),ag=Qm,tm=!0,tl=0,Lr.Play_isHost=!1,Lr.vodOffset?(Hg(),jg()):(Og&&""!==Lr.Main_selectedChannel_id?(fp(document.getElementById("stream_info_icon"),Lr.Main_selectedChannelLogo),Lg["#"+Lr.ChannelVod_vodId]||pc(),ao()?(Ya=Lr.Main_selectedChannel_id,Wa=!0,ri()):Jp()):(Hg(),qg()),Nu("stream_info_name",Lr.Main_selectedChannelDisplayname),Ru("stream_info_title",""),Ru("stream_info_game",Kd+" ["+Xd.toUpperCase()+"]"),Nu("stream_live_icon",$d)),Lg["#"+Lr.ChannelVod_vodId]&&!Lr.vodOffset?(qp(),By()):Jg()}function Jg(){window.setTimeout(function(){Bu("scene_channel_panel_bottom"),Ru("pause_button",'<i class="strokedbig icon-pause" style="color: #FFFFFF; font-size: 180%;"></i>'),Bu("progress_pause_holder")},1e3),Nu("progress_bar_duration",Op(Hd)),Lr.Play_WasPlaying=2,m_(),eg=window.setInterval(Kg,6e4),x_(Xh),bg=kg=0,window.clearInterval(yg),Sh=xg=Ag=!(Fm=-13),Eg=!1,dg=sg=og=Ig=0,document.addEventListener("visibilitychange",Qg,!1),Vg=!(fg=!(Cg=!1)),$g(),Ov(2),document.body.removeEventListener("keyup",F_)}function Hg(){hg=0,pg=5,vg=1e4}function qg(){Gf("https://api.twitch.tv/kraken/users?login="+encodeURIComponent(Lr.Main_selectedChannel),vg,2,null,zg,Xg,!1)}function zg(e){void 0!==(e=JSON.parse(e).users[0])?(Lr.Main_selectedChannelLogo=e.logo,Lr.Main_selectedChannel_id=e._id,Lg["#"+Lr.ChannelVod_vodId]||pc(),ao()?(Ya=Lr.Main_selectedChannel_id,Wa=!0,ri()):Jp()):(Lr.Main_selectedChannelLogo=Ma,Lr.Main_selectedChannel_id=""),fp(document.getElementById("stream_info_icon"),Lr.Main_selectedChannelLogo)}function Xg(){++hg<pg?(vg+=500,window.setTimeout(function(){fg&&qg()},750)):Kv=window.setTimeout(qg,2500)}function jg(){Gf("https://api.twitch.tv/kraken/videos/"+Lr.ChannelVod_vodId,vg,2,null,Yg,Wg,!1)}function Wg(){++hg<pg&&(vg+=2e3,jg())}function Yg(e){e=JSON.parse(e),Ru("stream_info_title",mS.parse(e.title)),Ru("stream_info_game",Qt+v+e.game+" "+o_(e.views)+V+" ["+e.channel.broadcaster_language.toUpperCase()+"]"),Nu("stream_live_icon",N+b_(e.created_at)),Nu("progress_bar_duration",Op(Hd=parseInt(e.length))),Pg=1e3*Lr.vodOffset,Ay(Lr.vodOffset,Hd,!0),Lr.Main_selectedChannelDisplayname=e.channel.display_name,Nu("stream_info_name",Lr.Main_selectedChannelDisplayname),Lr.Main_selectedChannelLogo=e.channel.logo,fp(document.getElementById("stream_info_icon"),Lr.Main_selectedChannelLogo),Lr.Main_selectedChannel_id=e.channel._id,Lr.Main_selectedChannel=e.channel.name,ao()?(Wa=!0,Ya=Lr.Main_selectedChannel_id,ri()):Jp(),x_(e.increment_view_count_url)}function Qg(){document.hidden?Iv()?(Yp(),cv(),uy()):(Kg(),xy(),Vc(),Vp(),window.clearInterval(yg),window.clearInterval(eg)):(fg=!0,$p(),fg&&(Hp(),ph=ph=0,navigator.onLine?ly():Om=window.setInterval(Zg,100),Fc(mc),Ov(2),eg=window.setInterval(Kg,6e4)))}function Zg(){(navigator.onLine||200<ph)&&(window.clearInterval(Om),ag=Qm,$g()),ph++}function Kg(){Lr.vodOffset=wu?parseInt(Android.gettime()/1e3):0,m_(),Lr.vodOffset=0}function $g(){ug=0,Sg=2e3,ey()}function ey(){Tf(ag===Qm?"https://api.twitch.tv/api/vods/"+Lr.ChannelVod_vodId+"/access_token"+(ao()&&Di[Lr.Users_Position].access_token?"?oauth_token="+Di[Lr.Users_Position].access_token:""):"https://usher.ttvnw.net/vod/"+Lr.ChannelVod_vodId+".m3u8?&nauth="+encodeURIComponent(og.token)+"&nauthsig="+og.sig+"&allow_source=true&allow_audi_only=true&allow_spectre=false",Lh,1,null,ay,ty,!0)}function ty(){if(fg){var e;if(og.token&&(e=JSON.parse(og.token)),e&&0!==JSON.parse(og.token).chansub.restricted_bitrates.length)return void iy();++ug<_g?(Sg+=250,ey()):ir?ny():(qp(),Vv(2))}}function ny(){cg=[{id:"1080p60(Source)",band:"(10.00Mbps)",url:"http://fake"}],ag=Km,fg&&dy()}function ay(e){ag===Qm?(og=JSON.parse(e),ag=Zm,$g()):ag===Zm&&(cg=wp(sg=e),ag=Km,fg&&dy())}function iy(){ao()&&Di[Lr.Users_Position].access_token?(Ya=Lr.Main_selectedChannel_id,wi()):(qp(),zp(x+St),window.setTimeout(function(){fg&&uy()},4e3))}function oy(){qp(),zp(x+xt),window.setTimeout(function(){fg&&uy()},4e3)}function sy(){Vg?(qp(),zp(x+Pt),window.setTimeout(function(){fg&&uy()},4e3)):(Vg=!0,ag=Qm,$g())}function dy(){window.clearInterval(yg),lg=cg[rg=0].url,-1!==tg.indexOf("source")&&(tg="source");for(var e=0;e<ky();e++){if(cg[e].id===tg){lg=cg[rg=e].url;break}-1!==cg[e].id.indexOf(tg)&&(lg=cg[rg=e].url)}ng=tg,ly()}function ly(){or&&console.log("PlayVod_onPlayer:",'\n\n"'+lg+'"\n'),Lr.vodOffset?(lc=Lr.vodOffset,pc(),wu&&fg&&Android.startVideoOffset(lg,2,Ng?-1:1e3*Lr.vodOffset),Lr.vodOffset=0):wu&&fg&&Android.startVideoOffset(lg,2,Ng?-1:Android.gettime()),Ng=!1,dh&&!rv()&&lv(),wu&&(bg=0,Hh=3+mg/1e3,wg=!1,window.clearInterval(yg),yg=window.setInterval(cy,qh))}function cy(){wu&&(Pg=Android.gettime()),fg&&gg===Pg&&!Lp()?++bg>Hh&&(wg&&Ag&&rg<ky()-1?rg++:!wg&&Ag&&kg++,navigator.onLine?1<kg?Pp(kg,2,ry):(wy(),dy(),Ag=!0):xp(!1,2)):(bg=kg=0,Ag=!1),gg=Pg}function ry(e){if(!e){if(!(rg<ky()-1))return void xp(!1,2);rg++}kg=0,wy(),dy(),Ag=!0}function uy(){fg&&(cg=[],_y(!0),Fp())}function _y(e){e&&xy(),wu&&Android.stopVideo(2),fg=!1,window.clearInterval(eg),window.clearInterval(Kv),Lr.Play_WasPlaying=0,Og=!0,Dc(),rM(),Vp(),fy()}function fy(){document.body.removeEventListener("keydown",Vy),document.removeEventListener("visibilitychange",Qg),Lr.vodOffset=0,window.clearInterval(ig),window.clearInterval(yg),Hd=0}function my(){Eg=!1,Mg=Ig=0,sv(),document.getElementById("scene_channel_panel").style.opacity="0",wu&&Ay(Android.gettime()/1e3,Hd,!0),Ru("progress_bar_jump_to",wa),document.getElementById("progress_bar_steps").style.display="none",tg=ng,window.clearInterval($v)}function hy(e){py(),Tp(),Yp(),$v=window.setInterval(py,1e3),e&&(vy(),by(),wy(),yy()),document.getElementById("scene_channel_panel").style.opacity="1"}function py(){wu&&Ay(Android.gettime()/1e3,Hd,!Eg)}function vy(){Bg=Lp()?1:0,gy()}function gy(){Bg?1===Bg?(Gu("pause_button","progress_bar_div_focus"),Uu("progress_bar_div","progress_bar_div_focus"),Av(),Ru("progress_bar_jump_to",wa),document.getElementById("progress_bar_steps").style.display="none"):2===Bg&&(Uu("pause_button","progress_bar_div_focus"),Uu("progress_bar_div","progress_bar_div_focus"),kv(),Ru("progress_bar_jump_to",wa),document.getElementById("progress_bar_steps").style.display="none"):(Uu("pause_button","progress_bar_div_focus"),Gu("progress_bar_div","progress_bar_div_focus"),Av(),Mg&&(Iy(),document.getElementById("progress_bar_steps").style.display="inline-block"))}function yy(){Jm=window.setTimeout(my,5e3+Gg)}function by(){for(var e=rg=0;e<ky();e++){if(cg[e].id===tg){rg=e;break}-1!==cg[e].id.indexOf(tg)&&(rg=e)}}function wy(){1===ky()?(document.getElementById("quality_arrow_up").style.opacity="0",document.getElementById("quality_arrow_down").style.opacity="0"):rg?rg===ky()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(tg=cg[rg].id).indexOf("source")?Nu("quality_name",tg.replace("source",ge)+cg[rg].band):Nu("quality_name",tg+cg[rg].band)}function ky(){return cg.length}function Ay(e,t,n){Nu("progress_bar_current_time",Op(e)),n&&(Um.style.width=e/t*100+"%")}function Cy(){$p(),Iv()||(am=wg=!1,fg?(wu&&Android.startVideoOffset(lg,2,0<Rg?1e3*Rg:-1),lc=Rg):(lc=tl,wu&&Android.startVideoOffset(Qf,3,0<Rg?1e3*Rg:-1)),tm&&pc()),Ru("progress_bar_jump_to",wa),document.getElementById("progress_bar_steps").style.display="none",Eg=!1,Rg=Mg=Ig=0}function My(){Ug=Ig=0,Ey(jh[1])}function Ey(e){Mg&&!Bg&&(document.getElementById("progress_bar_steps").style.display="inline-block"),60<Math.abs(e)?Nu("progress_bar_steps",Dn+e/60+Hn):Nu("progress_bar_steps",e?Dn+e+Jn:Dn+jh[1]+Jn)}function Iy(){Nu("progress_bar_jump_to",ue+" ("+(Mg<0?"-":"")+Op(Math.abs(Mg))+")"+_e+Op(Rg))}function Sy(e,t){var n=wu?Android.gettime()/1e3:0;window.clearTimeout(Zv),Eg=!0,Ig<jh.length-1&&Ug++%6==0&&Ig++,Mg+=jh[Ig]*e,Rg=n+Mg,fg&&(Rg=10*Math.floor(Rg/10)),t<Rg?(Mg=t-n-jh[1],Rg=n+Mg,Ug=Ig=0):Rg<0&&(Mg=0-n,Rg=Ug=Ig=0),Iy(),Um.style.width=Rg/t*100+"%",Ey(jh[Ig]*e),Zv=window.setTimeout(My,1e3)}function xy(){var e=wu?parseInt(Android.gettime()/1e3):0,t="#"+Lr.ChannelVod_vodId;300<e&&e<Hd-300?(Lg[t]&&delete Lg[t],Lg[t]=e,Ef("PlayVod_VodIds",JSON.stringify(Lg))):Hd-300<e&&Lg[t]&&(delete Lg[t],Ef("PlayVod_VodIds",JSON.stringify(Lg)))}function Py(){Lg=Sf("PlayVod_VodIds",{});var e=Ly();250<e&&Ty(e-250)}function Ly(){var e=0;for(var t in Lg)Lg.hasOwnProperty(t)&&e++;return e}function Ty(e){var t=0;for(var n in Lg){if(!(t<e))break;delete Lg[n],t++}Ef("PlayVod_VodIds",JSON.stringify(Lg))}function By(){Tu("scene_channel_panel_bottom"),hy(!1),Ru("dialog_vod_saved_text",kn+Gp(1e3*Lg["#"+Lr.ChannelVod_vodId])),Bu("dialog_vod_start")}function Oy(){my(),Tu("dialog_vod_start"),Uy(),window.setTimeout(function(){Bu("scene_channel_panel_bottom")},1e3)}function Gy(){return Ou("dialog_vod_start")}function Uy(){Ny(),Tg=0,Ry()}function Ry(){Gu("dialog_vod_"+Tg,"dialog_end_icons_focus")}function Ny(){Uu("dialog_vod_"+Tg,"dialog_end_icons_focus")}function Fy(e){Oy(),e?(delete Lg["#"+Lr.ChannelVod_vodId],Lr.vodOffset=0,Dg()):(Lr.vodOffset=Lg["#"+Lr.ChannelVod_vodId],Pg=1e3*Lr.vodOffset,Ay(Lr.vodOffset,Hd,!0),Jg())}function Vy(e){if(ag===Km||Gy())switch(e.keyCode){case La:lM()?Wm&&!GC&&(bM(),Wm--,hM()):zm&&!nv()&&rv()?(Rm++,vv()):nv()&&!Gy()?(sv(),Bg?(Av(),5<++Ih&&(Ih=1),kv()):(Sy(-1,Hd),Gg=2500),yy()):Gy()?(Ny(),Tg?Tg--:Tg++,Ry()):Iv()?(Tv(),Pv(),--Bh<0&&(Bh=3),1===Bh&&(Bh=0),xv()):Gy()||hy(!0);break;case Ba:lM()?Wm<VC-1&&!GC&&(bM(),Wm++,hM()):!zm||nv()||Iv()?nv()&&!Gy()?(sv(),Bg?(Av(),--Ih<1&&(Ih=5),kv()):(Sy(1,Hd),Gg=2500),yy()):Gy()?(Ny(),Tg?Tg--:Tg++,Ry()):Iv()?(Tv(),Pv(),3<++Bh&&(Bh=0),1===Bh&&(Bh=2),xv()):Gy()||hy(!0):Ef("ChatEnable",(dh=rv()||Iv()?(cv(),!1):(lv(),!0))?"true":"false");break;case Ta:Iv()?Tv():nv()&&!Gy()?(2===Bg&&1!==Ih?(Bg--,gy()):1===Bg?(Bg--,gy()):0<rg&&1===Ih&&(rg--,wy()),sv(),yy()):lM()?lM()?mM():Gy()||hy(!0):cM();break;case Oa:Iv()?Tv():nv()&&!Gy()?(Bg?1===Bg?(Bg++,gy()):rg<ky()-1&&1===Ih&&(rg++,wy()):(Bg++,gy()),sv(),yy()):lM()?rM():zm&&rv()?(4<++Dm?pv(!(Dm=1)):4===Dm&&pv(!0),mv(!0)):Gy()||hy(!0);break;case Ga:Gy()?Fy(Tg):Iv()?Bv(2):nv()?Bg?1===Bg?(Lr.Play_ChatForceDisable&&(Lp()?Fc(mc):Vc()),Iv()||bv(2)):Fv(2):(sv(),yy(),Mg&&Cy()):lM()?(_y(!0),j_(Wm,YC,Qv)):hy(!0);break;case Ua:Yv(!0);break;case xa:case Sa:case Pa:Lr.Play_ChatForceDisable&&(Lp()?Fc(mc):Vc()),Iv()||bv(2)}else switch(e.keyCode){case Ua:Qp()?(Yp(),uy()):Wp()}}var Dy={};function Jy(){console.log("InitScreens place holder")}function Hy(){xb(),Pb(),Tb(),Bb(),Ob(),Ub(),Rb()}function qy(e){return[e+"_thumbdiv",e+"_img",e+"_infodiv",e+"_title",e+"_createdon",e+"_game",e+"_viwers",e+"_duration",e+"_cell","cpempty_",e+"_scroll",e+"_lang"]}function zy(){for(var e,t={},n=0;n<arguments.length;n+=1){var a=arguments[n],i=Object.keys(a);for(e=0;e<i.length;e+=1)t[i[e]]=a[i[e]]}return t}function Xy(){zr=-1,Lr.Main_Go=Dy.screen,Dy.label_init(),document.body.addEventListener("keydown",_b,!1),Dy.status?(Bu(Dy.ids[10]),I_(Dy.posY),ob(),m_()):Wy()}function jy(){zr=0,Dy.label_exit(),document.body.removeEventListener("keydown",_b),Tu(Dy.ids[10])}function Wy(){Fu(),A_(Dy.table),Zu(),Dy.cursor=null,Dy.status=!1,Dy.row=document.createElement("div"),Dy.MaxOffset=0,Dy.TopRowCreated=!1,Dy.offset=0,Dy.idObject={},Dy.FirstLoad=!0,Dy.itemsCount=0,Dy.posX=0,Dy.posY=0,Dy.row_id=0,Dy.coloumn_id=0,Dy.data=null,Dy.data_cursor=0,Dy.dataEnded=!1,Xu(),Yy(),Qy()}function Yy(){Dy.loadingData=!0,Dy.loadingDataTry=0,Dy.loadingDataTimeout=3500}function Qy(){Dy.set_url(),wu&&!Dy.itemsCount?Of(Dy.url,Dy.loadingDataTimeout,2,null,Ky,Zy):Gf(Dy.url,Dy.loadingDataTimeout,2,null,Ky,Zy,!1)}function Zy(){Dy.loadingDataTry++,Dy.loadingDataTry<Dy.loadingDataTryMax?(Dy.loadingDataTimeout+=500,Qy()):(Dy.loadingData=!1,Dy.itemsCount?Dy.dataEnded=!0:(Dy.FirstLoad=!1,Vu(),Qu(P),Dy.key_exit()))}function Ky(e){Dy.concatenate(e)}function $y(){var e=Dy.data.length-Dy.data_cursor;e>Dy.ItemsLimit?e=Dy.ItemsLimit:Dy.loadingData||(Dy.dataEnded=!0);var t=document.getElementById(Dy.table);if(Dy.HasSwitches&&!Dy.TopRowCreated){Dy.TopRowCreated=!0,Dy.row=document.createElement("div");var n='<i class="icon-history stream_channel_fallow_icon"></i>'+wa+wa+m;(Vr=document.createElement("div")).setAttribute("id",Dy.ids[8]+"y_0"),Vr.className="stream_cell_period",Vr.innerHTML='<div id="'+Dy.ids[0]+'y_0" class="stream_thumbnail_channel_vod" ><div id="'+Dy.ids[3]+'y_0" class="stream_channel_fallow_game">'+n+"</div></div>",Dy.row.appendChild(Vr),t.appendChild(Dy.row)}if(e){var a=Math.ceil(e/Dy.ColoumnsCount),i=Dy.row_id+a;for(Dy.row_id;Dy.row_id<i;){for(Dy.coloumn_id===Dy.ColoumnsCount&&(Dy.row=document.createElement("div"),Dy.coloumn_id=0),Dy.coloumn_id;Dy.coloumn_id<Dy.ColoumnsCount&&Dy.data_cursor<Dy.data.length;Dy.data_cursor++)Dy.data[Dy.data_cursor]&&Dy.addCell(Dy.data[Dy.data_cursor]);if(t.appendChild(Dy.row),Dy.coloumn_id===Dy.ColoumnsCount)Dy.row_id++;else if(Dy.data_cursor>=Dy.data.length)break}}Dy.emptyContent=!e&&!Dy.status,ib()}function eb(e,t,n,a){var i=e+"_"+t;return E_(n[1]+i,a),e<Dy.ColoumnsCount&&x_(a),(Vr=document.createElement("div")).style.cssText=Dy.ThumbCssText,i}function tb(e,t,n,a,i,o){var s=eb(e,t,n,a);return Vr.setAttribute("id",n[5]+s),Vr.setAttribute(hu,i),Vr.innerHTML='<div id="'+n[0]+s+'" class="stream_thumbnail_game"><div><img id="'+n[1]+s+'" class="stream_img"></div><div id="'+n[2]+s+'" class="stream_text2"><div id="<div id="'+n[3]+s+'" class="stream_channel">'+i+"</div>"+(""!==o?'<div id="'+n[4]+s+'"class="stream_info" style="width: 100%; display: inline-block;">'+o+"</div>":"")+"</div></div>",Vr}function nb(e,t,n,a,i,o,s,d,l,c,r,u,_,f,m,h){var p=eb(e,t,n,a);return Vr.setAttribute("id",n[8]+p),Vr.setAttribute(hu,JSON.stringify([r,c,s[2],u,i,_,f,m,h,s[0],l,s[1]+s[2]])),Vr.innerHTML='<div id="'+n[0]+p+'" class="stream_thumbnail_clip"><div><img id="'+n[1]+p+'" class="stream_img"></div><div id="'+n[2]+p+'" class="stream_text2"><div style="line-height: 14px;"><div id="'+n[3]+p+'" class="stream_channel" style="width: 72%; display: inline-block; font-size: 85%;">'+i+'</div><div id="'+n[7]+p+'"class="stream_info" style="width:27%; float: right; text-align: right; display: inline-block;">'+l+'</div></div><div id="'+n[11]+p+'"class="stream_info">'+s[0]+da+s[1]+s[2]+'</div><div id="'+n[6]+p+'"class="stream_info">'+d+V+'</div><div  style="line-height: 12px;"><div id="'+n[4]+p+'"class="stream_info" style="width: 59%; display: inline-block;">'+o[0]+o[1]+'</div><div id="'+n[5]+p+'"class="stream_info" style="width: 39%; display: inline-block; float: right; text-align: right;">'+F+Op(c)+"</div></div></div></div>",Vr}function ab(e,t,n,a,i){var o=eb(e,t,a,i[0]);return Vr.setAttribute("id",a[8]+o),Vr.setAttribute(hu,JSON.stringify(n)),Vr.innerHTML='<div id="'+a[0]+o+'" class="stream_thumbnail_clip"><div><img id="'+a[1]+o+'" class="stream_img"></div><div id="'+a[2]+o+'" class="stream_text2"><div style="line-height: 14px;"><div id="'+a[3]+o+'" class="stream_channel" style="width: 66%; display: inline-block;">'+i[1]+'</div><div id="'+a[7]+o+'"class="stream_info" style="width:33%; float: right; text-align: right; display: inline-block;">'+i[5]+'</div></div><div id="'+a[4]+o+'"class="stream_info">'+mS.parse(i[2])+'</div><div id="'+a[5]+o+'"class="stream_info">'+v+i[3]+'</div><div id="'+a[6]+o+'"class="stream_info">'+i[4]+"</div></div></div>",Vr}function ib(){Dy.status?(C_(Dy.img_404),ju(Dy.posX,Dy.posY,Dy.ColoumnsCount,Dy.itemsCount)):(Dy.emptyContent?Qu(Dy.empty_str()):(Dy.status=!0,C_(Dy.img_404)),Xr&&Dy.status&&Lk.restor_playback.defaultValue?Lr.Play_WasPlaying?(p_(Lr.Main_Go),Lr.Main_Go=Pr,Lr.vodOffset||(Lr.vodOffset=1),Hd=Lr.vodOffset+1,zp(qn),1===Lr.Play_WasPlaying?W_():Z_(),__(!0),window.setTimeout(function(){Sh||Xp()},2e3)):1!==Pr?(p_(Lr.Main_Go),Lr.Main_Go=Pr,$_(Dy.posY+"_"+Dy.posX,Dy.ids),__()):(Lr.Never_run&&n_(),Lr.Never_run=!1,ob(),m_()):(ob(),m_()),Xr=!1,Dy.FirstLoad=!1,Vu())}function ob(){if(Dy.emptyContent){if(!Dy.HasSwitches)return void Dy.key_exit();Dy.posY=-1}Dy.posY<0?db():(Dy.addFocus(Dy.posY,Dy.posX,Dy.ids,Dy.ColoumnsCount,Dy.itemsCount),2<Dy.posY&&Dy.data_cursor+bb>Dy.data.length&&!Dy.dataEnded&&!Dy.loadingData?(Yy(),Qy()):Dy.posY+Dy.ItemsReloadLimit>Dy.itemsCount/Dy.ColoumnsCount&&Dy.data_cursor<Dy.data.length&&(M_(),nf(function(){Dy.loadDataSuccess()})),Or&&$_(Dy.posY+"_"+Dy.posX,Dy.ids))}function sb(e,t){$_(Dy.posY+"_"+Dy.posX,Dy.ids),Dy.posY+=e,Dy.posX=t,ob()}function db(){Gu(Dy.ids[0]+"y_0",mu)}function lb(){Uu(Dy.ids[0]+"y_0",mu)}function cb(e){i_()?a_():e_()?$u():(e===Dy.screen?Lr.Main_Go=lr:Lr.Main_Go=e,jy())}function rb(e){if(!Dy.HasSwitches||Dy.posY||-1!==e||Dy.emptyContent){if(Dy.HasSwitches&&-1===Dy.posY&&l_(0,Dy.posX,Dy.ids[0]))Dy.posY=0,ob(),lb();else for(var t=0;t<Dy.ColoumnsCount;t++)if(l_(Dy.posY+e,Dy.posX-t,Dy.ids[0]))return void sb(e,Dy.posX-t)}else $_(Dy.posY+"_"+Dy.posX,Dy.ids),Dy.posY=-1,db()}function ub(e,t){l_(Dy.posY,Dy.posX+e,Dy.ids[0])?sb(0,Dy.posX+e):l_(Dy.posY+e,t,Dy.ids[0])&&sb(e,t)}function _b(e){if(!Dy.FirstLoad&&!J_())switch(D_(),e.keyCode){case Ua:Dy.key_exit();break;case La:ub(-1,Dy.ColoumnsCount-1);break;case Ba:ub(1,0);break;case Ta:rb(-1);break;case Oa:rb(1);break;case xa:case Sa:case Pa:case Ga:Dy.key_play()}}Dy.FirstLoad=!1;var fb,mb,hb,pb,vb,gb,yb,bb=100,wb="",kb="",Ab="",Cb="",Mb="",Eb="",Ib={posX:0,posY:0,row_id:0,coloumn_id:0,dataEnded:!1,idObject:{},loadingData:!1,itemsCount:0,loadingDataTryMax:5,loadingDataTimeout:3500,MaxOffset:0,offset:0,status:!1,emptyContent:!1,itemsCountCheck:!1,FirstLoad:!1,row:0,data:null,data_cursor:0,loadDataSuccess:$y,set_ThumbSize:function(){this.ThumbCssText="width: "+this.ThumbSize+"%; display: inline-block; padding: 3px;"},key_exit:function(){i_()?a_():e_()?$u():(this.itemsCount&&$_(this.posY+"_"+this.posX,this.ids),bf(_b))}},Sb={ThumbSize:32.65,ItemsLimit:Qr,ItemsReloadLimit:Kr,ColoumnsCount:Zr,addFocus:q_,img_404:Ea,empty_str:function(){return L+Y},key_play:function(){j_(this.posY+"_"+this.posX,this.ids,_b)}};function xb(){(gb=zy(gb=zy({ids:qy("Live"),table:"stream_table_live",screen:lr,base_url:"https://api.twitch.tv/kraken/streams?limit="+bb,set_url:function(){this.offset&&this.offset+bb>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+"&offset="+this.offset+(""!==Jr?"&broadcaster_language="+Jr:"")},label_init:function(){Lr.Main_CenterLablesVectorPos=0,Gu("top_bar_live","icon_center_focus")},label_exit:function(){Uu("top_bar_live","icon_center_focus")},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.MaxOffset=t._total,this.data=this.data.concat(t.streams),this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadingData=!1}else this.data=JSON.parse(e),this.MaxOffset=this.data._total,this.data=this.data.streams,this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadDataSuccess(),this.loadingData=!1},addCell:function(e){this.idObject[e.channel._id]||(this.itemsCount++,this.idObject[e.channel._id]=1,this.row.appendChild(ab(this.row_id,this.coloumn_id,[e.channel.name,e.channel._id,e.channel.status],this.ids,[e.preview.template.replace("{width}x{height}",_u),d_(JSON.stringify(e.stream_type))+e.channel.display_name,e.channel.status,e.game,y+Up(e.created_at)+" "+h+o_(e.viewers)+D,s_(e.video_height,e.average_fps,e.channel.broadcaster_language)])),this.coloumn_id++)}},Ib),Sb)).set_ThumbSize()}function Pb(){(yb=zy(yb=zy({ids:qy("Featured"),table:"stream_table_featured",screen:Sr,base_url:"https://api.twitch.tv/kraken/streams/featured?limit="+bb,set_url:function(){this.url=this.base_url+"&offset="+this.offset+(ao()&&Di[Lr.Users_Position].access_token?"&oauth_token="+Di[Lr.Users_Position].access_token:"")},label_init:function(){Lr.Main_CenterLablesVectorPos=2,Gu("top_bar_featured","icon_center_focus")},label_exit:function(){Uu("top_bar_featured","icon_center_focus")},concatenate:function(e){this.data=JSON.parse(e),this.data=this.data.featured,this.dataEnded=!0,this.loadDataSuccess(),this.loadingData=!1},addCell:function(e){e=e.stream,this.idObject[e.channel._id]||(this.itemsCount++,this.idObject[e.channel._id]=1,this.row.appendChild(ab(this.row_id,this.coloumn_id,[e.channel.name,e.channel._id,e.channel.status],this.ids,[e.preview.template.replace("{width}x{height}",_u),d_(JSON.stringify(e.stream_type))+e.channel.display_name,e.channel.status,e.game,y+Up(e.created_at)+" "+h+o_(e.viewers)+D,s_(e.video_height,e.average_fps,e.channel.broadcaster_language)])),this.coloumn_id++)}},Ib),Sb)).set_ThumbSize()}var Lb={ThumbSize:32.65,ItemsLimit:Qr,HasSwitches:!0,TopRowCreated:!1,ItemsReloadLimit:Kr,ColoumnsCount:Zr,addFocus:q_,cursor:null,period:["day","week","month","all"],img_404:Ea,empty_str:function(){return L+U},key_play:function(){-1===this.posY?this.loadingData||(this.periodPos++,4<this.periodPos&&(this.periodPos=1),this.SetPeriod(),Wy()):Y_(this.posY+"_"+this.posX,this.ids,_b)},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.cursor=t._cursor,""===this.cursor&&(this.dataEnded=!0),this.data=this.data.concat(t.clips),this.loadingData=!1}else this.data=JSON.parse(e),this.cursor=this.data._cursor,""===this.cursor&&(this.dataEnded=!0),this.data=this.data.clips,this.loadDataSuccess(),this.loadingData=!1},addCell:function(e){this.idObject[e.tracking_id]||(this.itemsCount++,this.idObject[e.tracking_id]=1,this.row.appendChild(nb(this.row_id,this.coloumn_id,this.ids,e.thumbnails.medium,e.broadcaster.display_name,[on,b_(e.created_at)],[mS.parse(e.title),v,e.game],o_(e.views),"["+e.language.toUpperCase()+"]",e.duration,e.slug,e.broadcaster.name,e.broadcaster.logo.replace("150x150","300x300"),e.broadcaster.id,null!==e.vod?e.vod.id:null,null!==e.vod?e.vod.offset:null)),this.coloumn_id++)}};function Tb(){(fb=zy(fb=zy({ids:qy("Clip"),table:"stream_table_clip",screen:Mr,periodPos:If("Clip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?limit="+bb,set_url:function(){this.url=this.base_url+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")+(""!==Jr?"&language="+Jr:"")},SetPeriod:function(){Ru("top_bar_clip",U+y_(qr[this.periodPos-1])),Ef("Clip_periodPos",this.periodPos)},label_init:function(){Lr.Main_CenterLablesVectorPos=5,this.SetPeriod(),Gu("top_bar_clip","icon_center_focus"),Lu("label_refresh","icon-refresh",t+jt)},label_exit:function(){v_(),Uu("top_bar_clip","icon_center_focus"),Lu("label_refresh","icon-refresh",t+jt)}},Ib),Lb)).set_ThumbSize()}function Bb(){(mb=zy(mb=zy({ids:qy("ChannelClip"),table:"stream_table_channel_clip",screen:br,periodPos:If("ChannelClip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?channel=",set_url:function(){this.url=this.base_url+encodeURIComponent(Lr.Main_selectedChannel)+"&limit="+bb+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")},SetPeriod:function(){Ru("top_bar_game",U+qr[this.periodPos-1]),Ef("ChannelClip_periodPos",this.periodPos)},label_init:function(){Lr.Main_CenterLablesVectorPos=1,!Lr.Search_isSearching&&Lr.Main_selectedChannel_id&&xd(),Lr.Main_selectedChannel!==this.lastselectedChannel&&(this.status=!1),g_(),this.SetPeriod(),Nu("top_bar_user",Lr.Main_selectedChannelDisplayname),Lu("label_side_panel","icon-arrow-circle-left",I),this.lastselectedChannel=Lr.Main_selectedChannel,Bu(this.ids[10])},label_exit:v_},Ib),Lb)).set_ThumbSize()}function Ob(){(hb=zy(hb=zy({ids:qy("AGameClip"),table:"stream_table_a_game_clip",screen:Ir,periodPos:If("AGameClip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?game=",set_url:function(){this.url=this.base_url+encodeURIComponent(Lr.Main_gameSelected)+"&limit="+bb+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")+(""!==Jr?"&language="+Jr:"")},SetPeriod:function(){Ru("top_bar_game",b+y_(U+qr[this.periodPos-1]+": "+Lr.Main_gameSelected)),Ef("AGameClip_periodPos",this.periodPos)},label_init:function(){Lr.Main_CenterLablesVectorPos=3,this.SetPeriod(),Gu("top_bar_game","icon_center_focus"),Lu("label_side_panel","icon-arrow-circle-left",I),this.gameSelected!==Lr.Main_gameSelected&&(this.status=!1),this.gameSelected=Lr.Main_gameSelected,Bu(this.ids[10])},label_exit:function(){Uu("top_bar_game","icon_center_focus"),Ru("top_bar_game",f),Lu("label_side_panel","icon-ellipsis",Rn)}},Ib),Lb)).set_ThumbSize()}var Gb={ThumbSize:19.35,ItemsLimit:$r,ItemsReloadLimit:tu,ColoumnsCount:eu,addFocus:z_,img_404:Ca,empty_str:function(){return L+Z},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.MaxOffset=t._total,this.data=this.data.concat(this.screen===mr?t.follows:t.top),this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadingData=!1}else this.data=JSON.parse(e),this.MaxOffset=this.data._total,this.data=this.screen===mr?this.data.follows:this.data.top,this.offset=this.data.length,this.isLive?this.dataEnded=!0:this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadDataSuccess(),this.loadingData=!1},key_play:function(){Lr.Main_gameSelected=document.getElementById(this.ids[5]+this.posY+"_"+this.posX).getAttribute(hu),document.body.removeEventListener("keydown",_b),Lr.Main_BeforeAgame=this.screen,Lr.Main_Go=ur,Lr.Main_BeforeAgameisSet=!0,So=!1,zr=0,document.body.removeEventListener("keydown",_b),Tu(this.ids[10]),f_(),$_(this.posY+"_"+this.posX,this.ids)},addCell:function(e){var t=this.isLive||this.screen===rr,n=t?e.game:e;this.idObject[n._id]||(this.itemsCount++,this.idObject[n._id]=1,this.row.appendChild(tb(this.row_id,this.coloumn_id,this.ids,n.box.template.replace("{width}x{height}",fu),n.name,t?o_(e.channels)+" "+M+h+o_(e.viewers)+D:"")),this.coloumn_id++)}};function Ub(){(pb=zy(pb=zy({ids:qy("Game"),table:"stream_table_games",screen:rr,base_url:"https://api.twitch.tv/kraken/games/top?limit="+bb,set_url:function(){this.offset&&this.offset+bb>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+"&offset="+this.offset},label_init:function(){Lr.Main_CenterLablesVectorPos=3,Gu("top_bar_game","icon_center_focus")},label_exit:function(){Uu("top_bar_game","icon_center_focus")}},Ib),Gb)).set_ThumbSize()}function Rb(){(vb=zy(vb=zy({ids:qy("UserGames"),table:"stream_table_user_games",screen:mr,isLive:xf("user_Games_live",!0),OldUserName:"",base_url:"https://api.twitch.tv/api/users/",set_url:function(){this.offset&&this.offset+bb>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+encodeURIComponent(Di[Lr.Users_Position].name)+"/follows/games",this.isLive?this.url+="/live?limit=750":this.url+="?limit="+bb+"&offset="+this.offset},key_refresh:function(){this.isLive=!this.isLive,Ru("top_bar_user",u+y_(Di[Lr.Users_Position].name+" "+(this.isLive?Z:zt))),Wy(),Ef("user_Games_live",this.isLive?"true":"false"),rE&&gE()},label_init:function(){Lr.Main_CenterLablesVectorPos=1,Lu("label_refresh","icon-refresh",Xt+Z+"/"+zt+":"+jt),Lu("label_side_panel","icon-arrow-circle-left",I),Gu("top_bar_user","icon_center_focus"),this.OldUserName!==Di[Lr.Users_Position].name&&(this.status=!1),this.OldUserName=Di[Lr.Users_Position].name,Ru("top_bar_user",u+y_(Di[Lr.Users_Position].name+" "+(this.isLive?Z:zt)))},label_exit:function(){Lr.Users_Position=0,Uu("top_bar_user","icon_center_focus"),Lu("label_refresh","icon-refresh",t+jt),Nu("top_bar_user",u),Lu("label_side_panel","icon-ellipsis",Rn)}},Ib),Gb)).set_ThumbSize()}var Nb=0,Fb=0,Vb=!1,Db=0,Jb={},Hb=[],qb=!1,zb=0,Xb=5,jb=3500,Wb=0,Yb=0,Qb=!1,Zb=!1,Kb="",$b=!1,ew=["sc_thumbdiv","sc_img","sc_infodiv","sc_displayname","sc_cell","scempty_","search_channel_scroll"];function tw(){Lr.Main_CenterLablesVectorPos=1,Lr.Main_Go=Ar,Lr.isLastSChannels=!0,Lr.Search_isSearching=!0,Kb!==Lr.Search_data&&(Zb=!1),g_(),Ru("top_bar_user",n+y_(M+" '"+Lr.Search_data+"'")),document.body.addEventListener("keydown",hw,!1),Zb?(I_(Nb),Bu(ew[6]),fw(),m_()):aw()}function nw(){v_(),document.body.removeEventListener("keydown",hw),Tu(ew[6])}function aw(){A_("stream_table_search_channel"),Tu(ew[6]),Fu(),Zu(),Kb=Lr.Search_data,Zb=!1,Jb={},gf=!(Db=Yb=Wb=0),Nb=Fb=0,Vb=$b=!(Hb=[]),Xu(),iw(),ow()}function iw(){M_(),qb=!0,zb=0,jb=3500}function ow(){var e=Db+Wb;e&&Yb-1<e&&(e=Yb-nu,Vb=!0);var t="https://api.twitch.tv/kraken/search/channels?query="+encodeURIComponent(Lr.Search_data)+"&limit="+nu+"&offset="+e;wu&&!Db?Of(t,jb,2,null,dw,sw):Gf(t,jb,2,null,dw,sw,!1)}function sw(){++zb<Xb?(jb+=500,ow()):(qb=!1,Db?(Vb=!0,cw()):(gf=!1,Vu(),Qu(P)))}function dw(e){var t=JSON.parse(e),n=t.channels.length;Yb=parseInt(t._total),n<nu&&(Vb=!0);var a=Db;Qb=!(Db+=n);var i=n/au;0<n%au&&i++;for(var o,s,d,l,c,r=0,u=document.getElementById("stream_table_search_channel"),_=0;_<i;_++){for(s=a/au+_,d=document.createElement("tr"),o=0;o<au&&r<n;o++,r++)c=(l=t.channels[r])._id,Jb[c]?o--:(Jb[c]=1,d.appendChild(lw(s,s+"_"+o,[l.name,c,l.logo,l.display_name])));for(;o<au;o++)Vb&&!$b&&($b=!0,Db=s*au+o),d.appendChild(P_(ew[5]+s+"_"+o)),Hb.push(ew[5]+s+"_"+o);u.appendChild(d)}cw()}function lw(e,t,n){return e<4&&x_(n[2]),L_(t,ew,n)}function cw(){if(Zb){if(C_(Ma),0<Hb.length&&!Vb)return iw(),void rw();fw(!0),Hb=[]}else Qb?Qu(d):(Zb=!0,C_(Ma),fw(),m_()),Bu(ew[6]),gf=!1,Vu();qb=!1}function rw(){Yu(Hb.length);var e=Db+Wb;e&&Yb-1<e&&(e=Yb-ou,Vb=!0),Tf("https://api.twitch.tv/kraken/search/channels?query="+encodeURIComponent(Lr.Search_data)+"&limit="+ou+"&offset="+e,jb,2,null,_w,uw)}function uw(){++zb<Xb?(jb+=500,rw()):(Vb=!0,Db-=Hb.length,Hb=[],cw())}function _w(e){var t,n,a=JSON.parse(e),i=a.channels.length,o=0,s=0,d=[];for(Yb=parseInt(a._total),i<ou&&(Vb=!0);o<Hb.length&&s<i;o++,s++)n=(t=a.channels[s])._id,Jb[n]?o--:(Jb[n]=1,T_(Hb[o],[t.name,n,t.logo,t.display_name],ew),d.push(o));for(o=d.length-1;-1<o;o--)Hb.splice(d[o],1);Wb+=s,Vb&&(Db-=Hb.length,Hb=[]),cw()}function fw(e){H_(Nb,Fb,ew,au,Db,e),Db/au<Nb+iu&&!Vb&&!qb&&(iw(),ow()),Or&&mw()}function mw(){Db&&$_(Nb+"_"+Fb,ew)}function hw(e){var t;if(!gf&&!J_())switch(D_(),e.keyCode){case Ua:i_()?a_():e_()?$u():(mw(),bf(hw));break;case La:if(l_(Nb,Fb-1,ew[0]))mw(),Fb--,fw();else for(t=au-1;-1<t;t--)if(l_(Nb-1,t,ew[0])){mw(),Nb--,Fb=t,fw();break}break;case Ba:l_(Nb,Fb+1,ew[0])?(mw(),Fb++,fw()):l_(Nb+1,0,ew[0])&&(mw(),Nb++,Fb=0,fw());break;case Ta:for(t=0;t<au;t++)if(l_(Nb-1,Fb-t,ew[0])){mw(),Nb--,Fb-=t,fw();break}break;case Oa:for(t=0;t<au;t++)if(l_(Nb+1,Fb-t,ew[0])){mw(),Nb++,Fb-=t,fw();break}break;case xa:case Sa:case Pa:case Ga:Lr.Main_selectedChannel=document.getElementById(ew[4]+Nb+"_"+Fb).getAttribute(hu),Lr.Main_selectedChannel_id=document.getElementById(ew[4]+Nb+"_"+Fb).getAttribute("data-id"),Lr.Main_selectedChannelDisplayname=document.getElementById(ew[3]+Nb+"_"+Fb).textContent,document.body.removeEventListener("keydown",hw),Lr.Main_BeforeChannel=Ar,Lr.Main_Go=gr,Lr.Main_BeforeChannelisSet=!0,zs=Xa=!1,Tu(ew[6]),__()}}var pw=!1,vw=0,gw=0,yw=0,bw=0,ww=5,kw=3500,Aw=0,Cw=0,Mw=!1,Ew=!1,Iw="",Sw=["sgthumbdiv","sgimg","sginfodiv","sgdisplayname","sgviwers","sgcell","sgempty_","search_games_scroll"];function xw(){Lr.Main_CenterLablesVectorPos=1,Lr.Main_Go=pr,Lr.Search_isSearching=!0,g_(),Iw!==Lr.Search_data&&(pw=!1),Ru("top_bar_user",n+y_(f+" '"+Lr.Search_data+"'")),document.body.addEventListener("keydown",Vw,!1),pw?(I_(vw),Bu(Sw[7]),Nw(),m_()):Lw()}function Pw(){Lr.Search_isSearching||v_(),document.body.removeEventListener("keydown",Vw),Lr.Games_return=!1,Tu(Sw[7])}function Lw(){A_("stream_table_search_game"),Tu(Sw[7]),Fu(),Zu(),Iw=Lr.Search_data,Ew=pw=!1,vw=gw=yw=Cw=Aw=0,Xu(),Tw(),Bw()}function Tw(){M_(),gf=!0,bw=0,kw=3500}function Bw(){Tf("https://api.twitch.tv/kraken/search/games?query="+encodeURIComponent(Lr.Search_data),kw,2,null,Gw,Ow)}function Ow(){++bw<ww?(kw+=500,Bw()):(gf=!1,yw?Rw():(Vu(),Qu(P)))}function Gw(e){var t=JSON.parse(e),n=0;null!==t.games&&(n=t.games.length);var a=yw;Mw=!(yw+=n);var i=n/eu;0<n%eu&&i++;for(var o,s,d,l,c=0,r=document.getElementById("stream_table_search_game"),u=0;u<i;u++){for(s=a/eu+u,d=document.createElement("tr"),o=0;o<eu&&c<n;o++,c++)l=t.games[c],d.appendChild(Uw(s,s+"_"+o,[l.name,l.box.template.replace("{width}x{height}",fu),""]));for(;o<eu;o++)Ew||(Ew=!0,yw=s*eu+o),d.appendChild(P_(Sw[6]+s+"_"+o));r.appendChild(d)}Rw()}function Uw(e,t,n){return e<2&&x_(n[1]),R_(t,Sw,n)}function Rw(){pw||(Mw?Qu(d):(pw=!0,C_(Ea),Nw(),m_()),Vu()),Bu(Sw[7]),gf=!1,ju(gw,vw,eu,yw)}function Nw(){z_(vw,gw,Sw,eu,yw),Or&&Fw()}function Fw(){yw&&$_(vw+"_"+gw,Sw)}function Vw(e){var t;if(!gf&&!J_())switch(D_(),e.keyCode){case Ua:i_()?a_():e_()?$u():(Fw(),bf(Vw));break;case La:if(l_(vw,gw-1,Sw[0]))Fw(),gw--,Nw();else for(t=eu-1;-1<t;t--)if(l_(vw-1,t,Sw[0])){Fw(),vw--,gw=t,Nw();break}break;case Ba:l_(vw,gw+1,Sw[0])?(Fw(),gw++,Nw()):l_(vw+1,0,Sw[0])&&(Fw(),vw++,gw=0,Nw());break;case Ta:for(t=0;t<eu;t++)if(l_(vw-1,gw-t,Sw[0])){Fw(),vw--,gw-=t,Nw();break}break;case Oa:for(t=0;t<eu;t++)if(l_(vw+1,gw-t,Sw[0])){Fw(),vw++,gw-=t,Nw();break}break;case xa:case Sa:case Pa:case Ga:Lr.gameSelectedOld=Lr.Main_gameSelected,Pw(),Lr.Main_gameSelected=document.getElementById(Sw[5]+vw+"_"+gw).getAttribute(hu),document.body.removeEventListener("keydown",Vw),Lr.Main_Go=ur,Lr.Games_return=!0,__()}}var Dw=0,Jw=0,Hw=!1;function qw(){Zu(),Tu("label_refresh"),Lu("label_side_panel","icon-arrow-circle-left",I),Nu("top_bar_user",n),document.getElementById("top_lables").style.marginLeft="14%",document.getElementById("top_bar_live").style.display="none",document.getElementById("top_bar_featured").style.display="none",document.getElementById("top_bar_game").style.display="none",document.getElementById("top_bar_vod").style.display="none",document.getElementById("top_bar_clip").style.display="none",Zc.placeholder=w,Gu("top_bar_user","icon_center_focus"),Bu("search_scroll"),Jw=Dw=0,jw(),Yw()}function zw(){Qw(!1),document.body.removeEventListener("keydown",Ww),jw(),Lr.Main_Go=Lr.Main_BeforeSearch,document.getElementById("top_lables").style.marginLeft="18.5%",Nu("top_bar_user",u),Uu("top_bar_user","icon_center_focus"),Lu("label_side_panel","icon-ellipsis",Rn),Bu("label_refresh"),document.getElementById("top_bar_live").style.display="inline-block",document.getElementById("top_bar_featured").style.display="inline-block",document.getElementById("top_bar_game").style.display="inline-block",document.getElementById("top_bar_vod").style.display="inline-block",document.getElementById("top_bar_clip").style.display="inline-block",Zc.value="",Tu("search_scroll")}function Xw(){zw(),nf(function(){Jw?1===Jw?xw():2===Jw&&pk():tw()})}function jw(){Uu("chanel_button","button_search_focused"),Uu("game_button","button_search_focused"),Uu("live_button","button_search_focused"),Dw&&(Jw?1===Jw?Gu("game_button","button_search_focused"):2===Jw&&Gu("live_button","button_search_focused"):Gu("chanel_button","button_search_focused"))}function Ww(e){if(!Hw)switch(e.keyCode){case Ua:i_()?a_():e_()?$u():(zw(),__());break;case La:1===Dw&&(--Jw<0&&(Jw=2),jw());break;case Ba:1===Dw&&(2<++Jw&&(Jw=0),jw());break;case Ta:1===Dw&&(Dw=0,jw(),Yw());break;case Oa:Dw?1===Dw&&(Dw=0,jw(),Yw()):(Qw(!1),Dw=1,jw());break;case xa:case Sa:case Pa:case Ga:Dw?""!==Zc.value&&null!==Zc.value?(Lr.Search_data=Zc.value,Zc.value="",Xw()):(Qu(s),window.setTimeout(function(){Zu()},1e3)):Yw()}}function Yw(){document.body.removeEventListener("keydown",Ww),document.body.addEventListener("keydown",Kw,!1),Zc.placeholder=w,Zc.focus(),Hw=!0}function Qw(e){Zc.blur(),Zw(),document.body.removeEventListener("keydown",Kw),Zc.placeholder=C+w,e&&document.body.addEventListener("keydown",Ww,!1),Hw=!1}function Zw(){if(null!==Zc){var e=Zc.cloneNode(!0);Zc.parentNode.replaceChild(e,Zc),Zc=document.getElementById("search_input")}}function Kw(e){switch(e.keyCode){case Ua:e_()?$u():i_()?a_():(zw(),__());break;case Va:Zc.value="";break;case Na:case Oa:Qw(!0),Dw=1,jw();break;case Ra:Zc.value=Zc.value.slice(0,-1);break;case Fa:Zc.value+=" "}}var $w=0,ek=0,tk=!1,nk=0,ak={},ik=[],ok=!1,sk=0,dk=5,lk=3500,ck=0,rk=0,uk=!1,_k=!1,fk=!1,mk="",hk=["sl_thumbdiv","sl_img","sl_infodiv","sl_displayname","sl_streamtitle","sl_streamgame","sl_viwers","sl_quality","sl_cell","slempty_","search_live_scroll"];function pk(){Lr.Main_CenterLablesVectorPos=1,Lr.Main_Go=vr,Lr.Search_isSearching=!0,g_(),mk!==Lr.Search_data&&(_k=!1),Ru("top_bar_user",n+y_(_+" '"+Lr.Search_data+"'")),document.body.addEventListener("keydown",xk,!1),_k?(I_($w),Bu(hk[10]),Ik(),m_()):gk()}function vk(){v_(),document.body.removeEventListener("keydown",xk),Tu(hk[10])}function gk(){A_("stream_table_search_live"),Tu(hk[10]),Fu(),Zu(),mk=Lr.Search_data,_k=!1,gf=!(fk=!(ik=[])),$w=ek=nk=rk=ck=0,tk=!(ak={}),Xu(),yk(),bk()}function yk(){M_(),ok=!0,sk=0,lk=3500}function bk(){var e=nk+ck;e&&rk-1<e&&(e=rk-Qr,tk=!0);var t="https://api.twitch.tv/kraken/search/streams?query="+encodeURIComponent(Lr.Search_data)+"&limit="+Qr+"&offset="+e;wu&&!nk?Of(t,lk,2,null,kk,wk):Gf(t,lk,2,null,kk,wk,!1)}function wk(){++sk<dk?(lk+=500,bk()):(ok=!1,nk?(tk=!0,Ak()):(gf=!1,Vu(),Qu(P)))}function kk(e){var t=JSON.parse(e),n=t.streams.length;rk=parseInt(t._total),n<Qr&&(tk=!0);var a=nk;uk=!(nk+=n);var i=n/Zr;0<n%Zr&&i++;for(var o,s,d,l,c,r=0,u=document.getElementById("stream_table_search_live"),_=0;_<i;_++){for(s=a/Zr+_,d=document.createElement("tr"),o=0;o<Zr&&r<n;o++,r++)c=(l=t.streams[r]).channel._id,ak[c]?o--:(ak[c]=1,d.appendChild(O_(s,s+"_"+o,[l.channel.name,c],hk,[l.preview.template.replace("{width}x{height}",_u),d_(JSON.stringify(l.stream_type))+l.channel.display_name,l.channel.status,l.game,y+Up(l.created_at)+" "+h+o_(l.viewers)+D,s_(l.video_height,l.average_fps,l.channel.broadcaster_language)])));for(;o<Zr;o++)tk&&!fk&&(fk=!0,nk=s*Zr+o),d.appendChild(P_(hk[9]+s+"_"+o)),ik.push(hk[9]+s+"_"+o);u.appendChild(d)}Ak()}function Ak(){if(_k){if(C_(Ea),0<ik.length&&!tk)return yk(),void Ck();Ik(!0),ik=[]}else uk?Qu(d):(_k=!0,C_(Ea),Ik(),m_()),Bu(hk[10]),gf=!1,Vu();ok=!1}function Ck(){Yu(ik.length);var e=nk+ck;e&&rk-1<e&&(e=rk-ou,tk=!0),Tf("https://api.twitch.tv/kraken/search/streams?query="+encodeURIComponent(Lr.Search_data)+"&limit="+ou+"&offset="+e,lk,2,null,Ek,Mk)}function Mk(){++sk<dk?(lk+=500,Ck()):(tk=!0,nk-=ik.length,ik=[],Ak())}function Ek(e){var t,n,a=JSON.parse(e),i=a.streams.length,o=0,s=0,d=[];for(rk=parseInt(a._total),i<ou&&(tk=!0);o<ik.length&&s<i;o++,s++)n=(t=a.streams[s]).channel._id,ak[n]?o--:(ak[n]=1,G_(ik[o],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",_u),d_(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+Up(t.created_at)+" "+h+o_(t.viewers)+D,s_(t.video_height,t.average_fps,t.channel.broadcaster_language)],hk),d.push(o));for(o=d.length-1;-1<o;o--)ik.splice(d[o],1);ck+=s,tk&&(nk-=ik.length,ik=[]),Ak()}function Ik(e){q_($w,ek,hk,Zr,nk,e),nk/Zr<$w+Kr&&!tk&&!ok&&(yk(),bk()),Or&&Sk()}function Sk(){nk&&$_($w+"_"+ek,hk)}function xk(e){var t;if(!gf&&!J_())switch(D_(),e.keyCode){case Ua:i_()?a_():e_()?$u():(Sk(),bf(xk));break;case La:if(l_($w,ek-1,hk[0]))Sk(),ek--,Ik();else for(t=Zr-1;-1<t;t--)if(l_($w-1,t,hk[0])){Sk(),$w--,ek=t,Ik();break}break;case Ba:l_($w,ek+1,hk[0])?(Sk(),ek++,Ik()):l_($w+1,0,hk[0])&&(Sk(),$w++,ek=0,Ik());break;case Ta:for(t=0;t<Zr;t++)if(l_($w-1,ek-t,hk[0])){Sk(),$w--,ek-=t,Ik();break}break;case Oa:for(t=0;t<Zr;t++)if(l_($w+1,ek-t,hk[0])){Sk(),$w++,ek-=t,Ik();break}break;case xa:case Sa:case Pa:case Ga:j_($w+"_"+ek,hk,xk)}}var Pk=0,Lk={restor_playback:{values:["off","on"],defaultValue:2},chat_font_size:{values:["60%","80%","100%","120%","140%"],defaultValue:3},chat_brightness:{values:["0%","5%","10%","15%","20%","25%","30%","35%","40%","45%","50%","55%","60%","65%","70%","75%","80%","85%","90%","95%","100%"],defaultValue:11},force_disable_chat:{values:["off","on"],defaultValue:2},buffer_live:{values:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],defaultValue:4},buffer_vod:{values:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],defaultValue:4},buffer_clip:{values:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],defaultValue:3},videos_animation:{values:["off","on"],defaultValue:2},clock_offset:{values:Tk(),defaultValue:49},content_lang:{values:["All"],set_values:[""],defaultValue:1}};function Tk(){for(var e=[],t=43200,n=0;n<48;n++)e.push("-"+Op(t)),t-=900;for(e.push(Op(0)),t=900,n=0;n<48;n++)e.push(Op(t)),t+=900;return e}var Bk=[],Ok=0;function Gk(){u_(),Tu("label_side_panel"),Lu("label_refresh","icon-arrow-circle-left",ia),document.body.addEventListener("keydown",eA,!1),Nu("top_bar_user",a),document.getElementById("top_lables").style.marginLeft="14%",document.getElementById("top_bar_live").style.display="none",document.getElementById("top_bar_featured").style.display="none",document.getElementById("top_bar_game").style.display="none",document.getElementById("top_bar_vod").style.display="none",document.getElementById("top_bar_clip").style.display="none",Gu("top_bar_user","icon_center_focus"),Bu("settings_scroll"),jk(Pk=0),Dk("content_lang",jn,nA)}function Uk(){document.body.removeEventListener("keydown",eA),Bu("label_side_panel"),Wk(),Nu("top_bar_user",u),document.getElementById("top_lables").style.marginLeft="18.5%",document.getElementById("top_bar_live").style.display="inline-block",document.getElementById("top_bar_featured").style.display="inline-block",document.getElementById("top_bar_game").style.display="inline-block",document.getElementById("top_bar_vod").style.display="inline-block",document.getElementById("top_bar_clip").style.display="inline-block",Uu("top_bar_user","icon_center_focus"),Lu("label_refresh","icon-refresh",t+jt),Tu("settings_scroll")}function Rk(){var e,t="";t+=Nk("general",gn),e="content_lang",Bk.push(e),Lk[e].values=[Wn],t+=Vk(e,jn,""),e="clock_offset",Bk.push(e),t+=Fk(e,zn),e="restor_playback",Bk.push(e),Lk[e].values=[Pn,xn],t+=Vk(e,Ln,Tn),e="videos_animation",Bk.push(e),Lk[e].values=[Pn,xn],t+=Fk(e,Un),t+=Nk("play",_n),e="chat_font_size",Bk.push(e),t+=Vk(e,Bn,On),e="chat_brightness",Bk.push(e),t+=Fk(e,aa),e="force_disable_chat",Bk.push(e),Lk[e].values=[Jt,L],t+=Vk(e,ta,na),t+='<div id="setting_title_buffers" class="settings_title">'+fn+'</div><div id="setting_title_buffers_summary" class="settings_summary">'+mn+"</div>",e="buffer_live",Bk.push(e),t+=Fk(e,hn),e="buffer_vod",Bk.push(e),t+=Fk(e,pn),e="buffer_clip",Bk.push(e),Ru("settings_main",t+=Fk(e,vn)),Ok=Bk.length,rA()}function Nk(e,t){return'<div id="setting_title_'+e+'" class="settings_section">'+t+"</div>"}function Fk(e,t){return'<div id="'+e+'_div" class="settings_div"><div id="'+e+'_name" class="settings_name">'+t+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_left" class="left"></div></div><div id="'+e+'" class="strokedextramini settings_value">'+qk(e)+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_right" class="right"></div></div></div>'}function Vk(e,t,n){return'<div id="'+e+'_div" class="settings_div"><div id="'+e+'_name" class="settings_name">'+t+'<div id="'+e+'_summary" class="settings_summary" style="font-size: 65%;">'+n+'</div></div><div class="settings_arraw_div"><div id="'+e+'arrow_left" class="left"></div></div><div id="'+e+'" class="strokedextramini settings_value">'+qk(e)+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_right" class="right"></div></div></div>'}function Dk(e,t,n){Ru(e+"_name",t+'<div id="'+e+'_summary" class="settings_summary" style="font-size: 65%;">'+n+"</div>")}function Jk(){var e="";for(e in Nu("setting_title_general",gn),Nu((e="clock_offset")+"_name",zn),Nu((e="content_lang")+"_name",jn),Nu(e,qk(e)),Lk[e].values=[Wn],Nu("setting_title_play",_n),Nu("setting_title_buffers",fn),Nu("setting_title_buffers_summary",mn),Nu((e="buffer_live")+"_name",hn),Nu((e="buffer_vod")+"_name",pn),Nu((e="buffer_clip")+"_name",vn),Dk(e="restor_playback",Ln,Tn),Lk[e].values=[Pn,xn],Dk(e="chat_font_size",Bn,On),Dk(e="force_disable_chat",ta,na),Lk[e].values=[Pn,xn],Nu((e="videos_animation")+"_name",Un),Lk[e].values=[Pn,xn],Nu((e="chat_brightness")+"_name",aa),Lk)Lk.hasOwnProperty(e)&&Nu(e,qk(e));cA()}function Hk(){for(var e in Lk)Lk[e].defaultValue=If(e,Lk[e].defaultValue),Lk[e].defaultValue-=1,Lk[e].defaultValue>Xk(e)&&(Lk[e].defaultValue=0);Kk(0),$k(),Vm=(.05*zk("chat_brightness")).toFixed(2),UI=zk("videos_animation"),Lr.Play_ChatForceDisable=zk("force_disable_chat")}function qk(e){return Lk[e].values[zk(e)]}function zk(e){return Lk[e].defaultValue}function Xk(e){return Lk[e].values.length-1}function jk(e){var t=Bk[Pk];Gu(t,"settings_value_focus"),Gu(t+"_div","settings_div_focus"),Qk(e)}function Wk(){var e=Bk[Pk];document.getElementById(e+"arrow_left").style.opacity="0",document.getElementById(e+"arrow_right").style.opacity="0",Uu(e,"settings_value_focus"),Uu(e+"_div","settings_div_focus")}function Yk(e){var t=Bk[e];Ef(t,zk(t)+1),Nu(t,qk(t)),Qk(e),Zk(e)}function Qk(e){var t=Bk[e];if(Xk(t)){var n=zk(t),a=Xk(t);0<n&&n<a?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="1"):n===a?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="0.2"):(document.getElementById(t+"arrow_left").style.opacity="0.2",document.getElementById(t+"arrow_right").style.opacity="1")}}function Zk(e){"videos_animation"===(e=Bk[e])?UI=zk("videos_animation"):"buffer_live"===e?Kk(1):"buffer_vod"===e?Kk(2):"buffer_clip"===e?Kk(3):"chat_brightness"===e?(Vm=(.05*zk("chat_brightness")).toFixed(2),hv(!1)):"force_disable_chat"===e?Lr.Play_ChatForceDisable=zk("force_disable_chat"):"chat_font_size"===e?np():"clock_offset"===e&&($k(),sf())}function Kk(e){try{e?1===e?(Ym=1e3*qk("buffer_live"),wu&&Android.SetBuffer(1,Ym)):2===e?(mg=1e3*qk("buffer_vod"),wu&&Android.SetBuffer(2,mg)):3===e&&(om=1e3*qk("buffer_clip"),wu&&Android.SetBuffer(3,om)):(Ym=1e3*qk("buffer_live"),mg=1e3*qk("buffer_vod"),om=1e3*qk("buffer_clip"),wu&&(Android.SetBuffer(1,Ym),Android.SetBuffer(2,mg),Android.SetBuffer(3,om)))}catch(e){}}function $k(){var e=zk("clock_offset");bu=e<48?-9e5*(48-e):9e5*(e-48)}function eA(e){var t;switch(e.keyCode){case Ua:e_()?$u():i_()?a_():(Uk(),__());break;case La:0<zk(t=Bk[Pk])&&(Lk[t].defaultValue-=1,Yk(Pk));break;case Ba:zk(t=Bk[Pk])<Xk(t)&&(Lk[t].defaultValue+=1,Yk(Pk));break;case Ta:0<Pk&&(Wk(),jk(--Pk));break;case Oa:Pk<Ok-1&&(Wk(),jk(++Pk));break;case Ga:Pk||sA()}}var tA=0,nA="",aA={All:{values:["off","on"],defaultValue:2,set_values:""},"Dansk [DA]":{values:["off","on"],defaultValue:1,set_values:"da"},"Deutsch [DE]":{values:["off","on"],defaultValue:1,set_values:"de"},"English [EN]":{values:["off","on"],defaultValue:1,set_values:"en,en-gb"},"Espaol [ES]":{values:["off","on"],defaultValue:1,set_values:"es,es-mx"},"Franais [FR]":{values:["off","on"],defaultValue:1,set_values:"fr"},"Italiano [IT]":{values:["off","on"],defaultValue:1,set_values:"it"},"Magyar [HU]":{values:["off","on"],defaultValue:1,set_values:"hu"},"Nederlands [NL]":{values:["off","on"],defaultValue:1,set_values:"nl"},"Norsk [NO]":{values:["off","on"],defaultValue:1,set_values:"no"},"Polski [PL]":{values:["off","on"],defaultValue:1,set_values:"pl"},"Portugus [PT]":{values:["off","on"],defaultValue:1,set_values:"pt,pt-br"},"Slovenina [SK]":{values:["off","on"],defaultValue:1,set_values:"sk"},"Suomi [FI]":{values:["off","on"],defaultValue:1,set_values:"fi"},"Svenska [SV]":{values:["off","on"],defaultValue:1,set_values:"sv"},"Ting Vit [VI]":{values:["off","on"],defaultValue:1,set_values:"vi"},"Trke [TR]":{values:["off","on"],defaultValue:1,set_values:"tr"},"etina [CS]":{values:["off","on"],defaultValue:1,set_values:"cs"}," [EL]":{values:["off","on"],defaultValue:1,set_values:"el"}," [RU]":{values:["off","on"],defaultValue:1,set_values:"ru"}," [TH]":{values:["off","on"],defaultValue:1,set_values:"th"}," [ZH]":{values:["off","on"],defaultValue:1,set_values:"zh-cn,zh-tw"}," [JA]":{values:["off","on"],defaultValue:1,set_values:"ja"}," [KO]":{values:["off","on"],defaultValue:1,set_values:"ko"},"Romn [RO]":{values:["off","on"],defaultValue:1,set_values:"ro"}},iA=[],oA=0;function sA(){u_(),document.body.removeEventListener("keydown",eA),Tu("settings_main"),Bu("settings_lang"),wA(),Nu("top_bar_featured",yn),document.getElementById("top_bar_featured").style.display="inline-block",document.body.addEventListener("keydown",kA,!1),pA(tA=0),lA()}function dA(){document.body.removeEventListener("keydown",kA),document.body.addEventListener("keydown",eA,!1),document.getElementById("settings_scroll").style.top=.085*screen.height+"px",Bu("settings_main"),Tu("settings_lang"),Nu("top_bar_featured",an),document.getElementById("top_bar_featured").style.display="none",vA(),cA(),lA()}function lA(){""===Jr&&(nA=Yn,aA.All.defaultValue=1,yA(0),Gu(iA[0],"strokedextraminired"),wA()),Dk("content_lang",jn,nA)}function cA(){if(Jr="",!mA("All")){for(var e in aA)mA(e)&&(Jr+=","+aA[e].set_values);Jr=Jr.slice(1)}nA=""===Jr?Yn:Jr.toUpperCase()}function rA(){var e="";for(var t in aA)iA.push(t),aA[t].values=[L,Jt],e+=uA(t,t);Ru("settings_lang",e),oA=iA.length}function uA(e,t){return'<div id="'+e+'_div" class="settings_div"><div id="'+e+'_name" class="settings_name">'+t+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_left" class="left"></div></div><div id="'+e+'" class="'+(mA(e)?"strokedextraminired ":"")+'strokedextramini settings_value">'+fA(e)+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_right" class="right"></div></div></div>'}function _A(){for(var e in aA)aA[e].defaultValue=If(e,aA[e].defaultValue),aA[e].defaultValue-=1;cA()}function fA(e){return aA[e].values[mA(e)]}function mA(e){return aA[e].defaultValue}function hA(e){return aA[e].values.length-1}function pA(e){var t=iA[tA];Gu(t,"settings_value_focus"),Gu(t+"_div","settings_div_focus"),bA(e),gA(t)}function vA(){var e=iA[tA];document.getElementById(e+"arrow_left").style.opacity="0",document.getElementById(e+"arrow_right").style.opacity="0",Uu(e,"settings_value_focus"),Uu(e+"_div","settings_div_focus")}function gA(){var e=screen.height;7<tA?(e*=.093,e+=-1*document.getElementById(iA[tA-7]).offsetTop):e*=.077,tA<18&&(document.getElementById("settings_scroll").style.top=e+"px")}function yA(e){var t=iA[e];Ef(t,mA(t)+1),Nu(t,fA(t)),bA(e)}function bA(e){var t=iA[e],n=mA(t),a=hA(t);0<n&&n<a?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="1"):n===a?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="0.2"):(document.getElementById(t+"arrow_left").style.opacity="0.2",document.getElementById(t+"arrow_right").style.opacity="1")}function wA(){for(var e in aA)-1===e.indexOf("All")&&(document.getElementById(e+"_div").style.display=mA("All")?"none":"inline-block")}function kA(e){var t;switch(e.keyCode){case Ua:dA();break;case La:0<mA(t=iA[tA])&&(aA[t].defaultValue-=1,yA(tA),Uu(iA[tA],"strokedextraminired"),-1!==t.indexOf("All")&&wA());break;case Ba:mA(t=iA[tA])<hA(t)&&(aA[t].defaultValue+=1,yA(tA),Gu(iA[tA],"strokedextraminired"),-1!==t.indexOf("All")&&wA());break;case Ta:0<tA&&(vA(),pA(--tA));break;case Oa:!mA("All")&&tA<oA-1&&(vA(),pA(++tA))}}var AA=0,CA=0,MA=!1,EA=0,IA=!1,SA=0,xA=5,PA=3500,LA=[],TA=0,BA=0,OA=!1,GA=!1,UA="",RA=!1,NA={},FA=[],VA=0,DA=["uc_thumbdiv","uc_img","uc_infodiv","uc_displayname","uc_cell","ucempty_","user_channels_scroll"];function JA(){Lr.Main_CenterLablesVectorPos=1,Lr.Main_Go=kr,Lr.isLastSChannels=!1,Lu("label_side_panel","icon-arrow-circle-left",I),Gu("top_bar_user","icon_center_focus"),Ru("top_bar_user",u+y_(Di[Lr.Users_Position].name+K)),document.body.addEventListener("keydown",nC,!1),UA!==Di[Lr.Users_Position].name&&(GA=!1),GA?(I_(AA),Bu(DA[6]),eC(),m_()):qA()}function HA(){Lr.Users_Position=0,Uu("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",nC),Nu("top_bar_user",u),Lu("label_side_panel","icon-ellipsis",Rn),Tu(DA[6])}function qA(){A_("stream_table_user_channels"),Tu(DA[6]),Fu(),Zu(),UA=Di[Lr.Users_Position].name,GA=!1,NA={},AA=CA=EA=VA=TA=BA=0,gf=!(RA=MA=!(FA=[])),Xu(),LA=[],zA(),XA()}function zA(){M_(),IA=!0,SA=0,PA=3500}function XA(){var e=EA+BA;e&&VA-1<e&&(e=VA-nu,MA=!0);var t="https://api.twitch.tv/kraken/users/"+encodeURIComponent(Di[Lr.Users_Position].id)+"/follows/channels?limit="+nu+"&offset="+e+"&sortby=login&direction=asc";wu&&!EA?Of(t,PA,2,null,WA,jA):Gf(t,PA,2,null,WA,jA,!1)}function jA(){++SA<xA?(PA+=500,XA()):(IA=!1,EA?(MA=!0,QA()):(gf=!1,Vu(),Qu(P)))}function WA(e){var t=JSON.parse(e),n=t.follows.length;VA=parseInt(t._total),n<nu&&(MA=!0);var a=EA;OA=!(EA+=n);var i=n/au;0<n%au&&i++;for(var o,s,d,l,c,r=0,u=document.getElementById("stream_table_user_channels"),_=0;_<i;_++){for(s=a/au+_,d=document.createElement("tr"),o=0;o<au&&r<n;o++,r++)c=(l=t.follows[r].channel)._id,NA[c]?o--:(NA[c]=1,d.appendChild(YA(s,s+"_"+o,[l.name,c,l.logo,l.display_name])));for(;o<au;o++)MA&&!RA&&(RA=!0,EA=s*au+o),d.appendChild(P_(DA[5]+s+"_"+o)),FA.push(DA[5]+s+"_"+o);u.appendChild(d)}QA()}function YA(e,t,n){return e<4&&x_(n[2]),L_(t,DA,n)}function QA(){if(GA){if(C_(Ma),0<FA.length&&!MA)return zA(),void ZA();eC(!0),FA=[]}else OA?Qu(L+K):(GA=!0,C_(Ma),eC(),m_()),Bu(DA[6]),gf=!1,Vu();IA=!1}function ZA(){Yu(FA.length);var e=EA+BA;e&&VA-1<e&&(e=VA-ou,MA=!0),Tf("https://api.twitch.tv/kraken/users/"+encodeURIComponent(Di[Lr.Users_Position].id)+"/follows/channels?limit="+ou+"&offset="+TA+"&sortby=login&direction=asc",PA,2,null,$A,KA)}function KA(){++SA<xA?(PA+=500,ZA()):(MA=!0,EA-=FA.length,FA=[],QA())}function $A(e){var t,n,a=JSON.parse(e),i=a.follows.length,o=0,s=0,d=[];for(VA=parseInt(a._total),i<ou&&(MA=!0);o<FA.length&&s<i;o++,s++)n=(t=a.follows[s].channel)._id,NA[n]?o--:(NA[n]=1,T_(FA[o],[t.name,n,t.logo,t.display_name],DA),d.push(o));for(o=d.length-1;-1<o;o--)FA.splice(d[o],1);BA+=s,MA&&(EA-=FA.length,FA=[]),QA()}function eC(e){H_(AA,CA,DA,au,EA,e),EA/au<AA+iu&&!MA&&!IA&&(zA(),XA()),Or&&tC()}function tC(){EA&&$_(AA+"_"+CA,DA)}function nC(e){var t;if(!gf&&!J_())switch(D_(),e.keyCode){case Ua:i_()?a_():e_()?$u():(tC(),bf(nC));break;case La:if(l_(AA,CA-1,DA[0]))tC(),CA--,eC();else for(t=au-1;-1<t;t--)if(l_(AA-1,t,DA[0])){tC(),AA--,CA=t,eC();break}break;case Ba:l_(AA,CA+1,DA[0])?(tC(),CA++,eC()):l_(AA+1,0,DA[0])&&(tC(),AA++,CA=0,eC());break;case Ta:for(t=0;t<au;t++)if(l_(AA-1,CA-t,DA[0])){tC(),AA--,CA-=t,eC();break}break;case Oa:for(t=0;t<au;t++)if(l_(AA+1,CA-t,DA[0])){tC(),AA++,CA-=t,eC();break}break;case xa:case Sa:case Pa:case Ga:Lr.Main_selectedChannel=document.getElementById(DA[4]+AA+"_"+CA).getAttribute(hu),Lr.Main_selectedChannel_id=document.getElementById(DA[4]+AA+"_"+CA).getAttribute("data-id"),Lr.Main_selectedChannelDisplayname=document.getElementById(DA[3]+AA+"_"+CA).textContent,Lr.Main_selectedChannelLogo=document.getElementById(DA[1]+AA+"_"+CA).src,document.body.removeEventListener("keydown",nC),Lr.Main_BeforeChannel=kr,Lr.Main_Go=gr,Lr.Main_BeforeChannelisSet=!0,zs=Xa=!0,Tu(DA[6]),__()}}var aC=0,iC=0,oC=!1,sC=0,dC={},lC=[],cC=!1,rC=0,uC=5,_C=3500,fC=0,mC=0,hC=!1,pC=["uh_thumbdiv","uh_img","uh_infodiv","uh_displayname","uh_hosttitle","uh_hostgame","uh_viwers","uh_quality","uh_cell","uhempty_","user_host_scroll"],vC=!1,gC="",yC=!1;function bC(){Lr.Main_CenterLablesVectorPos=1,Lr.Main_Go=fr,Lu("label_side_panel","icon-arrow-circle-left",I),Gu("top_bar_user","icon_center_focus"),Ru("top_bar_user",u+y_(Di[Lr.Users_Position].name+Q)),document.body.addEventListener("keydown",BC,!1),gC!==Di[Lr.Users_Position].name&&(vC=!1),vC?(I_(aC),Bu(pC[10]),LC(),m_()):kC()}function wC(){Lr.Users_Position=0,Uu("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",BC),Nu("top_bar_user",u),Lu("label_side_panel","icon-ellipsis",Rn),Tu(pC[10])}function kC(){A_("stream_table_user_host"),Tu(pC[10]),Fu(),Zu(),gC=Di[Lr.Users_Position].name,vC=!1,dC={},gf=!(sC=mC=fC=0),aC=iC=0,oC=yC=!(lC=[]),Xu(),AC(),CC()}function AC(){M_(),cC=!0,rC=0,_C=3500}function CC(){var e=sC+fC;e&&mC-1<e&&(e=mC-Qr,oC=!0),Bf("https://api.twitch.tv/api/users/"+encodeURIComponent(Di[Lr.Users_Position].name)+"/followed/hosting?limit="+Qr+"&offset="+e,_C,2,null,EC,MC,!1,!sC)}function MC(){++rC<uC?(_C+=500,CC()):(cC=!1,sC?(oC=!0,IC()):(gf=!1,Vu(),Qu(P)))}function EC(e){var t=JSON.parse(e),n=t.hosts.length;mC=parseInt(t._total),n<Qr&&(oC=!0);var a=sC;hC=!(sC+=n);var i=n/Zr;0<n%Zr&&i++;for(var o,s,d,l,c,r=0,u=document.getElementById("stream_table_user_host"),_=0;_<i;_++){for(s=a/Zr+_,d=document.createElement("tr"),o=0;o<Zr&&r<n;o++,r++)c=(l=t.hosts[r]).target._id+""+l._id,dC[c]?o--:(dC[c]=1,d.appendChild(O_(s,s+"_"+o,[l.target.channel.name,l.target._id],pC,[l.target.preview_urls.template.replace("{width}x{height}",_u),l.display_name+ne+l.target.channel.display_name,l.target.title,l.target.meta_game,h.charAt(1).toUpperCase()+h.slice(2)+o_(l.target.viewers)+D,""])));for(;o<Zr;o++)oC&&!yC&&(yC=!0,sC=s*Zr+o),d.appendChild(P_(pC[9]+s+"_"+o)),lC.push(pC[9]+s+"_"+o);u.appendChild(d)}IC()}function IC(){if(vC){if(C_(Ea),0<lC.length&&!oC)return AC(),void SC();LC(!0),lC=[]}else hC?Qu(L+Q):(vC=!0,LC(),C_(Ea),m_()),Bu(pC[10]),gf=!1,Vu();cC=!1}function SC(){Yu(lC.length);var e=sC+fC;e&&mC-1<e&&(e=mC-ou,oC=!0),Tf("https://api.twitch.tv/api/users/"+encodeURIComponent(Di[Lr.Users_Position].name)+"/followed/hosting?limit="+ou+"&offset="+e,_C,2,null,PC,xC)}function xC(){++rC<uC?(_C+=500,SC()):(oC=!0,sC-=lC.length,lC=[],IC())}function PC(e){var t,n,a=JSON.parse(e),i=a.streams.length,o=0,s=0,d=[];for(mC=parseInt(a._total),i<ou&&(oC=!0);o<lC.length&&s<i;o++,s++)n=(t=a.hosts[s]).target._id+""+t._id,dC[n]?o--:(dC[n]=1,G_(lC[o],[t.target.channel.name,t.target._id],[t.target.preview_urls.template.replace("{width}x{height}",_u),t.display_name+ne+t.target.channel.display_name,t.target.title,t.target.meta_game,h.charAt(1).toUpperCase()+h.slice(2)+o_(t.target.viewers)+D,""],pC),d.push(o));for(o=d.length-1;-1<o;o--)lC.splice(d[o],1);fC+=s,oC&&(sC-=lC.length,lC=[]),IC()}function LC(e){q_(aC,iC,pC,Zr,sC,e),sC/Zr<aC+Kr&&!oC&&!cC&&(AC(),CC()),Or&&TC()}function TC(){sC&&$_(aC+"_"+iC,pC)}function BC(e){var t;if(!gf&&!J_())switch(D_(),e.keyCode){case Ua:i_()?a_():e_()?$u():(TC(),bf(BC));break;case La:if(l_(aC,iC-1,pC[0]))TC(),iC--,LC();else for(t=Zr-1;-1<t;t--)if(l_(aC-1,t,pC[0])){TC(),aC--,iC=t,LC();break}break;case Ba:l_(aC,iC+1,pC[0])?(TC(),iC++,LC()):l_(aC+1,0,pC[0])&&(TC(),aC++,iC=0,LC());break;case Ta:for(t=0;t<Zr;t++)if(l_(aC-1,iC-t,pC[0])){TC(),aC--,iC-=t,LC();break}break;case Oa:for(t=0;t<Zr;t++)if(l_(aC+1,iC-t,pC[0])){TC(),aC++,iC-=t,LC();break}break;case xa:case Sa:case Pa:case Ga:j_(aC+"_"+iC,pC,BC)}}var OC,GC=!1,UC=0,RC=3500,NC=0,FC=5,VC=0,DC=!1,JC="",HC=0,qC={},zC=!1,XC=[],jC=null,WC=null,YC=["ulf_thumbdiv","ulf_img","ulf_infodiv","ulf_displayname","ulf_streamtitle","ulf_streamgame","ulf_viwers","ulf_quality","ulf_cell","ulempty_","user_live_scroll"];function QC(){ao()&&(_M(),zC?yM(Wm,YC[0])&&(jC=JSON.parse(document.getElementById(YC[8]+Wm).getAttribute(hu))[0]):jC=null,A_("user_feed_scroll"),zC=!1,document.getElementById("user_feed_scroll").style.left="2.5px",document.getElementById("user_feed").style.bottom="0.1%",Bu("dialog_loading_feed"),JC="",Wm=HC=VC=NC=0,qC={},XC=[],WC=Di[Lr.Users_Position].access_token,nf(function(){$C(),WC?(WC=ru+WC,aM()):(WC=null,eM())}))}function ZC(e){for(var t,n=0;n<XC.length;n++)null!==(t=document.getElementById(XC[n].id))&&Cu(t,XC[n].src+ku,e)}function KC(e,t){XC.push({id:e,src:t})}function $C(){GC=!0,UC=0,RC=3500}function eM(){Gf("https://api.twitch.tv/kraken/users/"+encodeURIComponent(Di[Lr.Users_Position].id)+"/follows/channels?limit=100&offset="+NC+"&sortby=created_at",RC,2,null,nM,tM,!1)}function tM(){++UC<FC?(RC+=500,eM()):(GC=!1,VC?(DC=!0,sM()):(Tu("dialog_loading_feed"),lM()&&(zp(P),window.setTimeout(function(){Xp()},2e3))))}function nM(e){var t=JSON.parse(e).follows,n=t.length;if(n){for(var a="",i=0;i<n;i++)a=t[i].channel._id+",",-1===JC.indexOf(a)&&(JC+=a);NC+=n,$C(),eM()}else JC=JC.slice(0,-1),$C(),nf(aM)}function aM(){var e="https://api.twitch.tv/kraken/streams/";e+=WC?"followed?":"?channel="+encodeURIComponent(JC)+"&",Gf(e+="limit=100&offset=0&stream_type=all",RC,WC?3:2,WC,oM,iM,!1)}function iM(){++UC<FC?(RC+=500,aM()):(GC=!1,Tu("dialog_loading_feed"),lM()&&(zp(P),window.setTimeout(function(){Xp()},2e3)))}function oM(e){var t=JSON.parse(e),n=t.streams.length;n<Qr&&(DC=!0),VC+=n;for(var a,i,o=document.getElementById("user_feed_scroll"),s=0;s<n;s++)i=(a=t.streams[s]).channel._id,qC[i]||(qC[i]=1,null!==jC&&jC===a.channel.name&&(Wm=s),o.appendChild(dM(s,[a.channel.name,i],YC,[a.preview.template.replace("{width}x{height}",_u),d_(JSON.stringify(a.stream_type))+a.channel.display_name,a.channel.status,a.game,y+Up(a.created_at)+" "+h+o_(a.viewers)+D,s_(a.video_height,a.average_fps,a.channel.broadcaster_language)])));sM()}function sM(){zC=!(GC=!1),ZC(Ea),nf(function(){Tu("dialog_loading_feed"),hM()})}function dM(e,t,n,a){return KC(n[1]+e,a[0]),(Vr=document.createElement("div")).setAttribute("id",n[8]+e),Vr.setAttribute(hu,JSON.stringify(t)),Vr.className="user_feed_thumb",Vr.innerHTML='<div id="'+n[0]+e+'" class="stream_thumbnail_clip" ><div><img id="'+n[1]+e+'" class="stream_img"></div><div id="'+n[2]+e+'" class="stream_text2"><div id="'+n[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;">'+a[1]+'</div><div id="'+n[5]+e+'"class="stream_info">'+v+a[3]+"</div></div></div>",Vr}function lM(){return Ou("user_feed")}function cM(){var e=ao();e&&(jm!==Di[Lr.Users_Position].name&&(zC=!1),jm=Di[Lr.Users_Position].name),e&&yM(0,YC[0])||(zC=!1),zC||GC||QC(),e&&(document.getElementById("user_feed").style.bottom="0.1%",Bu("user_feed"),hM())}function rM(){Tu("user_feed")}function uM(){_M(),fM()}function _M(){window.clearTimeout(OC)}function fM(){lM()&&(OC=window.setTimeout(rM,5500))}function mM(){_M(),GC?window.setTimeout(function(){GC=!1},15e3):QC()}function hM(){uM(),yM(Wm,YC[0])&&(Gu(YC[0]+Wm,"feed_thumbnail_focused"),lM()?vM():Ou("scene2")&&gM())}function pM(){return Wm<3?2.5:yM(Wm+2,YC[0])?-1*document.getElementById(YC[8]+(Wm-2)).offsetLeft:yM(Wm+1,YC[0])?-1*document.getElementById(YC[8]+(Wm-3)).offsetLeft:-1*document.getElementById(YC[8]+(Wm-(3<Wm?4:3))).offsetLeft}function vM(){var e=pM();e&&(document.getElementById("user_feed_scroll").style.left=e+"px")}function gM(){document.getElementById("user_feed").style.bottom="-1000%",Bu("user_feed");var e=vM();e&&(document.getElementById("user_feed_scroll").style.left=e+"px"),document.getElementById("user_feed").style.bottom="0.1%",Tu("user_feed")}function yM(e,t){return null!==document.getElementById(t+e)}function bM(){yM(Wm,YC[0])&&Uu(YC[0]+Wm,"feed_thumbnail_focused")}var wM=0,kM=0,AM=!1,CM=0,MM={},EM=[],IM=!1,SM=0,xM=5,PM=3500,LM=0,TM=0,BM=0,OM=!1,GM=["ul_thumbdiv","ul_img","ul_infodiv","ul_displayname","ul_streamtitle","ul_streamgame","ul_viwers","ul_quality","ul_cell","ulempty_","user_live_scroll"],UM=!1,RM="",NM="",FM=!1,VM=null;function DM(){Lr.Main_CenterLablesVectorPos=1,Lr.Main_Go=_r,Lu("label_side_panel","icon-arrow-circle-left",I),Gu("top_bar_user","icon_center_focus"),Ru("top_bar_user",u+y_(Di[Lr.Users_Position].name+Y)),document.body.addEventListener("keydown",aE,!1),NM!==Di[Lr.Users_Position].name&&(UM=!1),UM?(I_(wM),Bu(GM[10]),tE(),m_()):HM()}function JM(){Lr.Users_Position=0,Uu("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",aE),Nu("top_bar_user",u),Lu("label_side_panel","icon-ellipsis",Rn),Tu(GM[10])}function HM(){A_("stream_table_user_live"),Tu(GM[10]),Fu(),Zu(),UM=!1,NM=Di[Lr.Users_Position].name,gf=!(FM=!(EM=[])),wM=kM=CM=TM=LM=BM=0,AM=!(MM={}),RM="",Xu(),qM(),(VM=Di[Lr.Users_Position].access_token)?(VM=ru+VM,WM()):(VM=null,zM())}function qM(){M_(),IM=!0,SM=0,PM=3500}function zM(){Tf("https://api.twitch.tv/kraken/users/"+encodeURIComponent(Di[Lr.Users_Position].id)+"/follows/channels?limit=100&offset="+BM+"&sortby=created_at",PM,2,null,jM,XM)}function XM(){++SM<xM?(PM+=500,zM()):(IM=!1,CM?(AM=!0,ZM()):(gf=!1,Vu(),Qu(P),bf(aE)))}function jM(e){var t=JSON.parse(e).follows,n=t.length;if(n){for(var a="",i=0;i<n;i++)a=t[i].channel._id+",",-1===RM.indexOf(a)&&(RM+=a);BM+=n,qM(),zM()}else RM=RM.slice(0,-1),qM(),WM()}function WM(){var e=CM+LM;e&&TM-1<e&&(e=TM-Qr,AM=!0);var t="https://api.twitch.tv/kraken/streams/";t+=VM?"followed?":"?channel="+encodeURIComponent(RM)+"&",Bf(t+="limit="+Qr+"&offset="+e+"&stream_type=all",PM,VM?3:2,VM,QM,YM,!1,!CM)}function YM(){++SM<xM?(PM+=500,WM()):(IM=!1,CM?(AM=!0,ZM()):(gf=!1,Vu(),Qu(P),bf(aE)))}function QM(e){var t=JSON.parse(e),n=t.streams.length;TM=parseInt(t._total),n<Qr&&(AM=!0);var a=CM;OM=!(CM+=n);var i=n/Zr;0<n%Zr&&i++;for(var o,s,d,l,c,r=0,u=document.getElementById("stream_table_user_live"),_=0;_<i;_++){for(s=a/Zr+_,d=document.createElement("tr"),o=0;o<Zr&&r<n;o++,r++)c=(l=t.streams[r]).channel._id,MM[c]?o--:(MM[c]=1,d.appendChild(O_(s,s+"_"+o,[l.channel.name,c],GM,[l.preview.template.replace("{width}x{height}",_u),d_(JSON.stringify(l.stream_type))+l.channel.display_name,l.channel.status,l.game,y+Up(l.created_at)+" "+h+o_(l.viewers)+D,s_(l.video_height,l.average_fps,l.channel.broadcaster_language)])));for(;o<Zr;o++)AM&&!FM&&(FM=!0,CM=s*Zr+o),d.appendChild(P_(GM[9]+s+"_"+o)),EM.push(GM[9]+s+"_"+o);u.appendChild(d)}ZM()}function ZM(){if(UM){if(C_(Ea),0<EM.length&&!AM)return qM(),void KM();tE(!0),EM=[]}else OM?Qu(L+Y):(UM=!0,tE(),C_(Ea),m_()),Bu(GM[10]),gf=!1,Vu();IM=!1}function KM(){Yu(EM.length);var e=CM+LM;e&&TM-1<e&&(e=TM-ou,AM=!0);var t="https://api.twitch.tv/kraken/streams/";t+=VM?"followed?":"?channel="+encodeURIComponent(RM)+"&",Bf(t+="followed?limit=limit="+ou+"&offset="+e+"&stream_type=all",PM,VM?3:2,VM,eE,$M,!1,!CM)}function $M(){++SM<xM?(PM+=500,KM()):(AM=!0,CM-=EM.length,EM=[],ZM())}function eE(e){var t,n,a=JSON.parse(e),i=a.streams.length,o=0,s=0,d=[];for(TM=parseInt(a._total),i<ou&&(AM=!0);o<EM.length&&s<i;o++,s++)n=(t=a.streams[s]).channel._id,MM[n]?o--:(MM[n]=1,G_(EM[o],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",_u),d_(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+Up(t.created_at)+" "+h+o_(t.viewers)+D,s_(t.video_height,t.average_fps,t.channel.broadcaster_language)],GM),d.push(o));for(o=d.length-1;-1<o;o--)EM.splice(d[o],1);LM+=s,AM&&(CM-=EM.length,EM=[]),ZM()}function tE(e){q_(wM,kM,GM,Zr,CM,e),CM/Zr<wM+Kr&&!AM&&!IM&&(qM(),zM()),Or&&nE()}function nE(){CM&&$_(wM+"_"+kM,GM)}function aE(e){var t;if(!gf&&!J_())switch(D_(),e.keyCode){case Ua:i_()?a_():e_()?$u():(nE(),bf(aE));break;case La:if(l_(wM,kM-1,GM[0]))nE(),kM--,tE();else for(t=Zr-1;-1<t;t--)if(l_(wM-1,t,GM[0])){nE(),wM--,kM=t,tE();break}break;case Ba:l_(wM,kM+1,GM[0])?(nE(),kM++,tE()):l_(wM+1,0,GM[0])&&(nE(),wM++,kM=0,tE());break;case Ta:for(t=0;t<Zr;t++)if(l_(wM-1,kM-t,GM[0])){nE(),wM--,kM-=t,tE();break}break;case Oa:for(t=0;t<Zr;t++)if(l_(wM+1,kM-t,GM[0])){nE(),wM++,kM-=t,tE();break}break;case xa:case Sa:case Pa:case Ga:j_(wM+"_"+kM,GM,aE)}}var iE=0,oE=0,sE=8,dE=0,lE=null,cE=["u_thumbdiv","u_img","u_infodiv","u_displayname","u_cell","user_scroll"],rE=!1,uE=!0;function _E(){return Ur?(fE(),void $a(Ur)):ro()?(Lr.Main_CenterLablesVectorPos=1,Lr.Main_Go=wr,document.getElementById("screens_holder").style.top=screen.height/100*7+"px",Zu(),Gu("top_bar_user","icon_center_focus"),document.body.addEventListener("keydown",SE,!1),void(rE?(I_(iE),Bu(cE[5]),yE(),m_()):mE())):(Lr.Main_Go=lr,fE(),void __())}function fE(){Lr.Users_Position=0,Uu("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",SE),Tu(cE[5]),document.getElementById("screens_holder").style.top="0"}function mE(){A_("stream_table_user"),Tu(cE[5]),Fu(),Zu(),gf=!(rE=!1),uE=!(iE=oE=0),nf(function(){hE()})}function hE(){for(var e,t,n,a=document.createElement("tbody"),i=document.getElementById("stream_table_user"),o=0;o<Di.length;o++)t=0,n=o%2?"B5B5B5":"FFFFFF",(Vr=document.createElement("tr")).className="follower_header",Vr.innerHTML='<div class="follower_header">'+(o?"":oe)+Di[o].name+R+"</div>",i.appendChild(a),i.appendChild(Vr),(e=document.createElement("tr")).appendChild(pE(o+"_"+t,Lr.Main_selectedChannelDisplayname,Y,"play",n)),t++,e.appendChild(pE(o+"_"+t,Lr.Main_selectedChannelDisplayname,Q,"users",n)),t++,e.appendChild(pE(o+"_"+t,Lr.Main_selectedChannelDisplayname,vb.isLive?Z:zt,"gamepad",n)),t++,e.appendChild(pE(o+"_"+t,Lr.Main_selectedChannelDisplayname,Kt,"movie-play",n)),t++,e.appendChild(pE(o+"_"+t,Lr.Main_selectedChannelDisplayname,K,"filmstrip",n)),t++,o?e.appendChild(pE(o+"_"+t,Lr.Main_selectedChannelDisplayname,ie,"arrow-up",n)):e.appendChild(pE(o+"_"+t,Lr.Main_selectedChannelDisplayname,$,"user-plus",n)),t++,e.appendChild(pE(o+"_"+t,Lr.Main_selectedChannelDisplayname,ee,"user-times",n)),t++,e.appendChild(pE(o+"_"+t,Lr.Main_selectedChannelDisplayname,Di[o].access_token?wt:bt,"key",n)),i.appendChild(e);vE()}function pE(e,t,n,a,i){return(Vr=document.createElement("td")).setAttribute("id",cE[4]+e),Vr.setAttribute(hu,t),Vr.className="stream_cell",Vr.innerHTML='<div id="'+cE[0]+e+'" class="stream_thumbnail_channel" ><div id="'+cE[1]+e+'" class="stream_user_icon" style="color: #'+i+';"><i class="icon-'+a+'"></i></div></div><div id="'+cE[2]+e+'" class="stream_text"><div id="'+cE[3]+e+'" class="stream_info" style="text-align: center;">'+n+"</div></div>",Vr}function vE(){nf(function(){rE||(rE=!0,yE(),Vu(),m_()),Bu(cE[5]),uE=gf=!1})}function gE(){for(var e=0;e<Di.length;e++)Nu(cE[3]+e+"_2",vb.isLive?Z:zt)}function yE(){Gu(cE[0]+iE+"_"+oE,"stream_thumbnail_focused"),S_(iE)?1<iE?l_(iE+1,0,cE[0])&&K_(cE[5],-1*document.getElementById(cE[4]+iE+"_"+oE).offsetTop+500):K_(cE[5],screen.height/100*7):F_(),Or&&bE()}function bE(){Br=!1,Uu(cE[0]+iE+"_"+oE,"stream_thumbnail_focused")}function wE(){return Lr.Users_Position=iE,3!==oE||Di[Lr.Users_Position].access_token?7===oE&&Di[Lr.Users_Position].access_token?(Qu(wt),void window.setTimeout(Zu,1500)):(6!==oE&&7!==oE&&(Tu(cE[5]),document.body.removeEventListener("keydown",SE),document.getElementById("screens_holder").style.top="0"),void nf(function(){oE?1===oE?bC():2===oE?(Dy=vb,Xy()):3===oE?YE():4===oE?JA():5===oE?iE?lo(iE):(Lr.Main_Before=wr,zi()):6===oE?CE():7!==oE||Di[Lr.Users_Position].access_token||CE():DM()})):(Qu(In),void window.setTimeout(Zu,5e3))}function kE(){window.clearTimeout(lE)}function AE(){lE=window.setTimeout(ME,2e4)}function CE(){AE(),6===oE?Ru("main_dialog_remove",Ht+da+Di[Lr.Users_Position].name+"?"):7===oE&&Ru("main_dialog_remove",ft+" "+Di[Lr.Users_Position].name+"?"),Bu("main_remove_dialog")}function ME(){kE(),Tu("main_remove_dialog"),dE=0,IE()}function EE(){return Ou("main_remove_dialog")}function IE(){dE?(Uu("remove_cancel","button_search_focused"),Gu("remove_yes","button_search_focused")):(Gu("remove_cancel","button_search_focused"),Uu("remove_yes","button_search_focused"))}function SE(e){var t;if(!gf&&!J_())switch(D_(),e.keyCode){case Ua:EE()?ME():e_()?$u():i_()?a_():(bE(),bf(SE));break;case La:if(EE())--dE<0&&(dE=1),IE(),kE(),AE();else if(l_(iE,oE-1,cE[0]))bE(),oE--,yE();else if(l_(iE-1,0,cE[0])){for(t=sE-1;-1<t;t--)if(l_(iE-1,t,cE[0])){bE(),iE--,oE=t,yE();break}}else bE(),oE=sE-1,yE();break;case Ba:EE()?(1<++dE&&(dE=0),IE(),kE(),AE()):(l_(iE,oE+1,cE[0])?(bE(),oE++):(l_(iE+1,0,cE[0])?(bE(),iE++):bE(),oE=0),yE());break;case Ta:for(t=0;t<sE;t++)if(l_(iE-1,oE-t,cE[0])){bE(),iE--,oE-=t,yE();break}break;case Oa:for(t=0;t<sE;t++)if(l_(iE+1,oE-t,cE[0])){bE(),iE++,oE-=t,yE();break}break;case xa:case Sa:case Pa:case Ga:var n;if(EE()){if(6===oE)n=dE,ME(),n&&(document.body.removeEventListener("keydown",SE),fE(),oo(iE));else if(n=dE,ME(),n){Lr.Users_AddcodePosition=Lr.Users_Position,m_();var a=Qa,i="https://id.twitch.tv/oauth2/authorize?response_type=code&client_id="+encodeURIComponent(su)+"&redirect_uri="+a+"&scope=user_follows_edit+user_subscriptions&force_verify=true";window.location=i}}else wE()}}var xE=0,PE=0,LE=!1,TE=0,BE={},OE=[],GE=!1,UE=0,RE=5,NE=3500,FE=0,VE=0,DE=!1,JE=!1,HE="time",qE=2,zE=!1,XE=["uv_thumbdiv","uv_img","uv_infodiv","uv_title","uv_streamon","uv_duration","uv_viwers","uv_quality","uv_cell","uvempty_","user_vod_scroll","uv_game"],jE=!1,WE=!1;function YE(){Lr.Main_CenterLablesVectorPos=1,Lr.Main_Go=xr,Gu("top_bar_user","icon_center_focus"),Lu("label_side_panel","icon-arrow-circle-left",I),Ru("top_bar_user",u+y_(Di[Lr.Users_Position].name+(WE?G:O))),document.body.addEventListener("keydown",fI,!1),jE?(I_(xE),Bu(XE[10]),mI(),cI(),m_()):ZE()}function QE(){Lr.Users_Position=0,jE&&rI(),Uu("top_bar_user","icon_center_focus"),Lu("label_side_panel","icon-ellipsis",Rn),document.body.removeEventListener("keydown",fI),Nu("top_bar_user",u),Tu(XE[10])}function ZE(){jE&&rI(),A_("stream_table_user_vod"),Tu(XE[10]),Fu(),mI(),Zu(),zE=jE=!1,gf=!(JE=!(OE=[])),xE=PE=TE=VE=FE=0,LE=!(BE={}),Xu(),$E()}function KE(){M_(),GE=!0,UE=0,NE=3500}function $E(){KE(),eI()}function eI(){var e=TE+FE;e&&VE-1<e&&(e=VE-Qr,LE=!0);var t,n="https://api.twitch.tv/kraken/videos/followed?limit="+Qr+"&broadcast_type="+(WE?"highlight":"archive")+"&sort="+HE+"&offset="+e;if(wu&&!TE){if(!(t=Android.mreadUrl(n,NE,3,ru+Di[Lr.Users_Position].access_token)))return void tI();if(200===(t=JSON.parse(t)).status)return void aI(t.responseText);401===t.status||403===t.status?ei(Lr.Users_Position,0,$E,nI):tI()}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=NE,t.setRequestHeader(lu,uu),t.setRequestHeader(du,su),t.setRequestHeader(cu,ru+Di[Lr.Users_Position].access_token),t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void aI(t.responseText);401===t.status||403===t.status?ei(Lr.Users_Position,0,$E,nI):tI()}},t.send(null)}function tI(){++UE<RE?(NE+=500,eI()):nI()}function nI(){GE=!1,TE?(LE=!0,iI()):(gf=!1,Vu(),Qu(P))}function aI(e){var t=JSON.parse(e),n=t.videos.length;VE=parseInt(t._total),n<Qr&&(LE=!0);var a=TE;DE=!(TE+=n);var i=n/Zr;0<n%Zr&&i++;var o,s,d,l,c,r=0,u=document.getElementById("stream_table_user_vod");if(!zE){var _;for(zE=!0,d=document.createElement("tr"),f=0;f<2;f++)_=f?'<i class="icon-history stream_channel_fallow_icon"></i>'+wa+wa+Sn:'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+wa+wa+p,(Vr=document.createElement("td")).setAttribute("id",XE[8]+"y_"+f),Vr.className="stream_cell",Vr.innerHTML='<div id="'+XE[0]+"y_"+f+'" class="stream_thumbnail_channel_vod" ><div id="'+XE[3]+"y_"+f+'" class="stream_channel_fallow_game">'+_+"</div></div>",d.appendChild(Vr);u.appendChild(d)}for(var f=0;f<i;f++){for(s=a/Zr+f,d=document.createElement("tr"),o=0;o<Zr&&r<n;o++,r++)c=(l=t.videos[r])._id,-1!==(l.preview.template+"").indexOf("404_processing")||BE[c]?o--:(BE[c]=1,d.appendChild(zI(s,s+"_"+o,[c,l.length,l.channel.broadcaster_language,l.game,l.channel.name,l.increment_view_count_url],[l.preview.template.replace("{width}x{height}",_u),l.channel.display_name,N+b_(l.created_at),mS.parse(l.title)+da+Qt+v+l.game,o_(l.views)+V,s_(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.channel.broadcaster_language),F+Op(l.length),l.animated_preview_url],XE)));for(;o<Zr;o++)LE&&!JE&&(JE=!0,TE=s*Zr+o),d.appendChild(P_(XE[9]+s+"_"+o)),OE.push(XE[9]+s+"_"+o);u.appendChild(d)}iI()}function iI(){jE?(C_(Ea),cI(!0)):(DE?Qu(L+(WE?G:O)+T+E):(jE=!0,cI(),C_(Ea),m_()),Bu(XE[10]),gf=!1,Vu()),0<OE.length&&!LE?oI():GE=!(OE=[])}function oI(){KE(),sI()}function sI(){Yu(OE.length);var e=TE+FE;e&&VE-1<e&&(e=VE-ou,LE=!0);var t,n="https://api.twitch.tv/kraken/videos/followed?limit="+ou+"&broadcast_type="+(WE?"highlight":"archive")+"&sort="+HE+"&offset="+e;if(wu){if(!(t=Android.mreadUrl(n,NE,3,ru+Di[Lr.Users_Position].access_token)))return void dI();if(200===(t=JSON.parse(t)).status)return void lI(t.responseText);401===t.status||403===t.status?ei(Lr.Users_Position,0,$E,nI):dI()}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=NE,t.setRequestHeader(lu,uu),t.setRequestHeader(du,su),t.setRequestHeader(cu,ru+Di[Lr.Users_Position].access_token),t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void lI(t.responseText);401===t.status||403===t.status?ei(Lr.Users_Position,0,$E,nI):dI()}},t.send(null)}function dI(){++UE<RE?(NE+=500,sI()):(LE=!0,TE-=OE.length,OE=[],iI())}function lI(e){var t,n,a=JSON.parse(e),i=a.videos.length,o=0,s=0,d=[];for(VE=parseInt(a._total);o<OE.length&&s<i;o++,s++)n=(t=a.videos[s])._id,-1!==(t.preview.template+"").indexOf("404_processing")||BE[n]?o--:(BE[n]=1,jI(OE[o],[n,t.length,t.channel.broadcaster_language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",_u),t.channel.display_name,N+b_(t.created_at),mS.parse(t.title)+da+Qt+v+t.game,o_(t.views)+V,s_(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.channel.broadcaster_language),F+Op(t.length),t.animated_preview_url],XE),d.push(o));for(o=d.length-1;-1<o;o--)OE.splice(d[o],1);FE+=s,LE&&(TE-=OE.length,OE=[]),iI()}function cI(e){xE<0?uI():(q_(xE,PE,XE,Zr,TE,e),aS(XE,xE+"_"+PE),TE/Zr<xE+Kr&&!LE&&!GE&&$E(),Or&&rI())}function rI(){window.clearInterval(hI),-1<xE&&TE?(Bu(XE[1]+xE+"_"+PE),$_(xE+"_"+PE,XE)):_I()}function uI(){var e=1<PE?1:PE;Gu(XE[0]+"y_"+e,mu)}function _I(){var e=1<PE?1:PE;Uu(XE[0]+"y_"+e,mu)}function fI(e){var t;if(!gf&&!J_())switch(D_(),e.keyCode){case Ua:e_()?$u():e_()?$u():i_()?a_():(rI(),bf(fI));break;case La:if(-1===xE)_I(),--PE<0&&(PE=1),uI();else if(xE||PE){if(l_(xE,PE-1,XE[0]))rI(),PE--,cI();else for(t=Zr-1;-1<t;t--)if(l_(xE-1,t,XE[0])){rI(),xE--,PE=t,cI();break}}else rI(),_I(),xE=-1,PE=1,uI();break;case Ba:-1===xE?(_I(),1<++PE?(PE=0,DE?uI():(xE=0,cI())):uI()):l_(xE,PE+1,XE[0])?(rI(),PE++,cI()):l_(xE+1,0,XE[0])&&(rI(),xE++,PE=0,cI());break;case Ta:if(-1!==xE||DE)if(xE){for(t=0;t<Zr;t++)if(l_(xE-1,PE-t,XE[0])){rI(),xE--,PE-=t,cI();break}}else rI(),xE=-1,uI();else xE=0,_I(),cI();break;case Oa:if(-1!==xE||DE){for(t=0;t<Zr;t++)if(l_(xE+1,PE-t,XE[0])){rI(),xE++,PE-=t,cI();break}}else xE=0,_I(),cI();break;case xa:case Sa:case Pa:case Ga:-1===xE?(0===PE?Ef("UserVod_highlight",(WE=!WE)?"true":"false"):1===qE?qE++:qE--,ZE()):Q_(xE+"_"+PE,XE,fI)}}function mI(){1===qE?(Ru("top_bar_user",u+y_(Di[Lr.Users_Position].name+" "+(WE?G:O)+Mn)),HE="time"):2===qE&&(Ru("top_bar_user",u+y_(Di[Lr.Users_Position].name+" "+(WE?G:O)+En)),HE="views"),Ef("UserVod_TypeNumber",qE)}var hI,pI=0,vI=0,gI=!1,yI=0,bI={},wI=[],kI=!1,AI=0,CI=5,MI=3500,EI=0,II=0,SI=!1,xI=!1,PI="week",LI=2,TI=!1,BI=["v_thumbdiv","v_img","v_infodiv","v_title","v_streamon","v_duration","v_viwers","v_quality","v_cell","vempty_","vod_scroll","v_game"],OI=!1,GI=!1,UI=1,RI=new Image;function NI(){Lr.Main_CenterLablesVectorPos=4,Lr.Main_Go=Cr,Gu("top_bar_vod","icon_center_focus"),document.body.addEventListener("keydown",iS,!1),OI?(I_(pI),Bu(BI[10]),oS(),$I(),m_()):VI()}function FI(){OI&&eS(),v_(),document.body.removeEventListener("keydown",iS),Uu("top_bar_vod","icon_center_focus"),Nu("top_bar_vod",Kt),Tu(BI[10])}function VI(){OI&&eS(),A_("stream_table_vod"),Tu(BI[10]),Fu(),oS(),Zu(),TI=OI=!1,gf=!(xI=!(wI=[])),pI=vI=yI=II=EI=0,gI=!(bI={}),Xu(),DI(),JI()}function DI(){M_(),kI=!0,AI=0,MI=3500}function JI(){var e=yI+EI;e&&II-1<e&&(e=II-Qr,gI=!0);var t="https://api.twitch.tv/kraken/videos/top?limit="+Qr+"&broadcast_type="+(GI?"highlight":"archive")+"&sort=views&offset="+e+"&period="+PI+(""!==Jr?"&language="+Jr:"");wu&&!yI?Of(t,MI,2,null,qI,HI):Gf(t,MI,2,null,qI,HI,!1)}function HI(){++AI<CI?(MI+=500,JI()):(kI=!1,yI?(gI=!0,YI()):(gf=!1,Vu(),Qu(P)))}function qI(e){var t=JSON.parse(e),n=t.vods.length;II=parseInt(t._total),n<Qr&&(gI=!0);var a=yI;SI=!(yI+=n);var i=n/Zr;0<n%Zr&&i++;var o,s,d,l,c,r=0,u=document.getElementById("stream_table_vod");if(!TI){var _;for(TI=!0,d=document.createElement("tr"),f=0;f<2;f++)_=f?'<i class="icon-history stream_channel_fallow_icon"></i>'+wa+wa+m:'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+wa+wa+p,(Vr=document.createElement("td")).setAttribute("id",BI[8]+"y_"+f),Vr.className="stream_cell",Vr.innerHTML='<div id="'+BI[0]+"y_"+f+'" class="stream_thumbnail_channel_vod" ><div id="'+BI[3]+"y_"+f+'" class="stream_channel_fallow_game">'+_+"</div></div>",d.appendChild(Vr);u.appendChild(d)}for(var f=0;f<i;f++){for(s=a/Zr+f,d=document.createElement("tr"),o=0;o<Zr&&r<n;o++,r++)c=(l=t.vods[r])._id,-1!==(l.preview.template+"").indexOf("404_processing")||bI[c]?o--:(bI[c]=1,d.appendChild(zI(s,s+"_"+o,[c,l.length,l.channel.broadcaster_language,l.game,l.channel.name,l.increment_view_count_url],[l.preview.template.replace("{width}x{height}",_u),l.channel.display_name,N+b_(l.created_at),mS.parse(l.title)+da+Qt+v+l.game,o_(l.views)+V,s_(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.channel.broadcaster_language),F+Op(l.length),l.animated_preview_url],BI)));for(;o<Zr;o++)gI&&!xI&&(xI=!0,yI=s*Zr+o),d.appendChild(P_(BI[9]+s+"_"+o)),wI.push(BI[9]+s+"_"+o);u.appendChild(d)}YI()}function zI(e,t,n,a,i){return e<Zr&&x_(a[0]),XI(n,t,a,i)}function XI(e,t,n,a){return(Vr=document.createElement("td")).setAttribute("id",a[8]+t),Vr.setAttribute(hu,JSON.stringify(e)),Vr.className="stream_cell",Vr.innerHTML=WI(t,n,a),Vr}function jI(e,t,n,a){var i=document.getElementById(e),o=e.split(a[9])[1];i.setAttribute(hu,JSON.stringify(t)),i.innerHTML=WI(o,n,a),i.setAttribute("id",a[8]+o)}function WI(e,t,n){return E_(n[1]+e,t[0]),'<div id="'+n[0]+e+'" class="stream_thumbnail_clip"'+(t[7]?' style="background-size: 0 0; background-image: url('+t[7]+');"':"")+'><div><img id="'+n[1]+e+'" class="stream_img"></div><div id="'+n[2]+e+'" class="stream_text2"><div style="line-height: 14px;"><div id="'+n[3]+e+'" class="stream_channel" style="width: 72%; display: inline-block; font-size: 85%;">'+t[1]+'</div><div id="'+n[7]+e+'"class="stream_info" style="width:27%; float: right; text-align: right; display: inline-block;">'+t[5]+'</div></div><div id="'+n[11]+e+'"class="stream_info">'+t[3]+'</div><div id="'+n[6]+e+'"class="stream_info">'+t[4]+'</div><div style="line-height: 12px;"><div id="'+n[4]+e+'"class="stream_info" style="width: 59%; display: inline-block;">'+t[2]+'</div><div id="'+n[5]+e+'"class="stream_info" style="width: 39%; display: inline-block; float: right; text-align: right;">'+t[6]+"</div></div></div></div>"}function YI(){if(OI?(C_(Ea),$I(!0)):(SI?Qu(L+(GI?G:O)+T+E):(OI=!0,$I(),C_(Ea),m_()),Bu(BI[10]),gf=!1,Vu()),0<wI.length&&!gI)return DI(),void QI();kI=!(wI=[])}function QI(){Yu(wI.length);var e=yI+EI;e&&II-1<e&&(e=II-ou,gI=!0),Tf("https://api.twitch.tv/kraken/videos/top?limit="+ou+"&broadcast_type="+(GI?"highlight":"archive")+"&sort=views&offset="+e+"&period="+PI+(""!==Jr?"&language="+Jr:""),MI,2,null,KI,ZI)}function ZI(){++AI<CI?(MI+=500,QI()):(gI=!0,yI-=wI.length,wI=[],YI())}function KI(e){var t,n,a=JSON.parse(e),i=a.vods.length,o=0,s=0,d=[];for(II=parseInt(a._total);o<wI.length&&s<i;o++,s++)n=(t=a.vods[s])._id,-1!==(t.preview.template+"").indexOf("404_processing")||bI[n]?o--:(bI[n]=1,jI(wI[o],[n,t.length,t.channel.broadcaster_language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",_u),t.channel.display_name,N+b_(t.created_at),mS.parse(t.title)+da+Qt+v+t.game,o_(t.views)+V,s_(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.channel.broadcaster_language),F+Op(t.length),t.animated_preview_url],BI),d.push(o));for(o=d.length-1;-1<o;o--)wI.splice(d[o],1);EI+=s,gI&&(yI-=wI.length,wI=[]),YI()}function $I(e){pI<0?tS():(q_(pI,vI,BI,Zr,yI,e),aS(BI,pI+"_"+vI),yI/Zr<pI+Kr&&!gI&&!kI&&(DI(),JI()),Or&&eS())}function eS(){window.clearInterval(hI),-1<pI&&yI?(Bu(BI[1]+pI+"_"+vI),$_(pI+"_"+vI,BI)):nS()}function tS(){var e=1<vI?1:vI;Gu(BI[0]+"y_"+e,mu)}function nS(){var e=1<vI?1:vI;Uu(BI[0]+"y_"+e,mu)}function aS(t,n){if(UI){var a=document.getElementById(t[0]+n);RI.onload=function(){Tu(t[1]+n),a.style.backgroundSize="612px";var e=0;hI=window.setInterval(function(){a.style.backgroundPosition="0px "+ ++e%10*-344+"px"},650)},RI.src=a.style.backgroundImage.replace(/url\(['"]?(.*?)['"]?\)/i,"$1")}}function iS(e){var t;if(!gf&&!J_())switch(D_(),e.keyCode){case Ua:i_()?a_():e_()?$u():(eS(),bf(iS));break;case La:if(-1===pI)nS(),--vI<0&&(vI=1),tS();else if(pI||vI){if(l_(pI,vI-1,BI[0]))eS(),vI--,$I();else for(t=Zr-1;-1<t;t--)if(l_(pI-1,t,BI[0])){eS(),pI--,vI=t,$I();break}}else eS(),nS(),pI=-1,vI=1,tS();break;case Ba:-1===pI?(nS(),1<++vI?(vI=0,SI?tS():(pI=0,$I())):tS()):l_(pI,vI+1,BI[0])?(eS(),vI++,$I()):l_(pI+1,0,BI[0])&&(eS(),pI++,vI=0,$I());break;case Ta:if(-1!==pI||SI)if(pI){for(t=0;t<Zr;t++)if(l_(pI-1,vI-t,BI[0])){eS(),pI--,vI-=t,$I();break}}else eS(),pI=-1,tS();else pI=0,nS(),$I();break;case Oa:if(-1!==pI||SI){for(t=0;t<Zr;t++)if(l_(pI+1,vI-t,BI[0])){eS(),pI++,vI-=t,$I();break}}else pI=0,nS(),$I();break;case xa:case Sa:case Pa:case Ga:-1===pI?(0===vI?Ef("Vod_highlight",(GI=!GI)?"true":"false"):4<++LI&&(LI=1),VI()):Q_(pI+"_"+vI,BI,iS)}}function oS(){1===LI?(Ru("top_bar_vod",Kt+y_((GI?G:O)+de)),PI="day"):2===LI?(Ru("top_bar_vod",Kt+y_((GI?G:O)+le)),PI="week"):3===LI?(Ru("top_bar_vod",Kt+y_((GI?G:O)+ce)),PI="month"):4===LI&&(Ru("top_bar_vod",Kt+y_((GI?G:O)+re)),PI="all"),Ef("vod_periodNumber",LI)}function sS(e,t){return e.replace(t.code,dS(t))}function dS(e){return'<img class="emoticon" src="'+e["3x"]+'"/>'}function lS(e){return'<img class="emoticon" src="https://static-cdn.jtvnw.net/emoticons/v1/'+e+'/3.0"/>'}function cS(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;")}function rS(e){for(var t=e.split(" "),n=0;n<t.length;n++){var a=(e=t[n]).replace(/(^[~!@#$%\^&\*\(\)]+|[~!@#$%\^&\*\(\)]+$)/g,""),i=Pl[a]||Pl[e];e=i?sS(e,i):cS(e),t[n]=e}return t.join(" ")}function uS(t,a){if(!a)return[t];var n=[],e=Object.keys(a),i=[];return e.forEach(function(e){for(var t=a[e],n=t.length-1;0<=n;n--)i.push({id:e,first:t[n][0],last:t[n][1]})}),i.sort(function(e,t){return t.first-e.first}),t=punycode.ucs2.decode(t),i.forEach(function(e){n.unshift(punycode.ucs2.encode(t.slice(e.last+1))),n.unshift([lS(e.id)]),t=t.slice(0,e.first)}),n.unshift(punycode.ucs2.encode(t)),n}function _S(a){return Object.keys(a).map(function(n){var e=a[n];return e.type=n,e.versions=Object.keys(a[n].versions).map(function(e){var t=a[n].versions[e];return t.type=e,t}),e})}function fS(e,t,n,a){var i=document.createElement("style");i.type="text/css",i.innerHTML="."+e+"-"+t+' { background-image: url("'+n.replace("http:","https:")+'"); }',a?a.appendChild(i):document.head.appendChild(i)}window.parseIRC=function(e){var t={raw:e,tags:{},prefix:null,command:null,params:[]},n=0,a=0;if(64===e.charCodeAt(0)){if(-1===(a=e.indexOf(" ")))return null;for(var i=e.slice(1,a).split(";"),o=0;o<i.length;o++){var s=i[o].split("=");t.tags[s[0]]=s[1]||!0}n=a+1}for(;32===e.charCodeAt(n);)n++;if(58===e.charCodeAt(n)){if(-1===(a=e.indexOf(" ",n)))return null;for(t.prefix=e.slice(n+1,a),n=a+1;32===e.charCodeAt(n);)n++}if(-1===(a=e.indexOf(" ",n)))return e.length>n?(t.command=e.slice(n),t):null;for(t.command=e.slice(n,a),n=a+1;32===e.charCodeAt(n);)n++;for(;n<e.length;){if(a=e.indexOf(" ",n),58===e.charCodeAt(n)){t.params.push(e.slice(n+1));break}if(-1===a){if(-1===a){t.params.push(e.slice(n));break}}else for(t.params.push(e.slice(n,a)),n=a+1;32===e.charCodeAt(n);)n++}return t},function(e){var t="object"==typeof global&&global;t.global!==t&&t.window!==t&&t.self!==t||(e=t);var n,v=2147483647,g=36,y=26,i=38,o=700,a=/^xn--/,s=/[^\x20-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,l={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},c=g-1,b=Math.floor,w=String.fromCharCode;function k(e){throw new RangeError(l[e])}function r(e,t){for(var n=e.length,a=[];n--;)a[n]=t(e[n]);return a}function u(e,t){var n=e.split("@"),a="";return 1<n.length&&(a=n[0]+"@",e=n[1]),a+r((e=e.replace(d,".")).split("."),t).join(".")}function A(e){for(var t,n,a=[],i=0,o=e.length;i<o;)55296<=(t=e.charCodeAt(i++))&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?a.push(((1023&t)<<10)+(1023&n)+65536):(a.push(t),i--):a.push(t);return a}function C(e){return r(e,function(e){var t="";return 65535<e&&(t+=w((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+w(e)}).join("")}function M(e,t){return e+22+75*(e<26)-((0!==t)<<5)}function E(e,t,n){var a=0;for(e=n?b(e/o):e>>1,e+=b(e/t);c*y>>1<e;a+=g)e=b(e/c);return b(a+(c+1)*e/(e+i))}function _(e){var t,n,a,i,o,s,d,l,c,r,u,_=[],f=e.length,m=0,h=128,p=72;for((n=e.lastIndexOf("-"))<0&&(n=0),a=0;a<n;++a)128<=e.charCodeAt(a)&&k("not-basic"),_.push(e.charCodeAt(a));for(i=0<n?n+1:0;i<f;){for(o=m,s=1,d=g;f<=i&&k("invalid-input"),u=e.charCodeAt(i++),(g<=(l=u-48<10?u-22:u-65<26?u-65:u-97<26?u-97:g)||l>b((v-m)/s))&&k("overflow"),m+=l*s,!(l<(c=d<=p?1:p+y<=d?y:d-p));d+=g)s>b(v/(r=g-c))&&k("overflow"),s*=r;p=E(m-o,t=_.length+1,0===o),b(m/t)>v-h&&k("overflow"),h+=b(m/t),m%=t,_.splice(m++,0,h)}return C(_)}function f(e){var t,n,a,i,o,s,d,l,c,r,u,_,f,m,h,p=[];for(_=(e=A(e)).length,t=128,o=72,s=n=0;s<_;++s)(u=e[s])<128&&p.push(w(u));for(a=i=p.length,i&&p.push("-");a<_;){for(d=v,s=0;s<_;++s)t<=(u=e[s])&&u<d&&(d=u);for(d-t>b((v-n)/(f=a+1))&&k("overflow"),n+=(d-t)*f,t=d,s=0;s<_;++s)if((u=e[s])<t&&++n>v&&k("overflow"),u===t){for(l=n,c=g;!(l<(r=c<=o?1:o+y<=c?y:c-o));c+=g)h=l-r,m=g-r,p.push(w(M(r+h%m,0))),l=b(h/m);p.push(w(M(l,0))),o=E(n,f,a===i),n=0,++a}++n,++t}return p.join("")}n={version:"1.4.1",ucs2:{decode:A,encode:C},decode:_,encode:f,toASCII:function(e){return u(e,function(e){return s.test(e)?"xn--"+f(e):e})},toUnicode:function(e){return u(e,function(e){return a.test(e)?_(e.slice(4).toLowerCase()):e})}},e.punycode=n}(this),function(e,t){e.ReconnectingWebSocket=function(){if("WebSocket"in window)return u.prototype.onopen=function(){},u.prototype.onclose=function(){},u.prototype.onconnecting=function(){},u.prototype.onmessage=function(){},u.prototype.onerror=function(){},u.debugAll=!1,u.CONNECTING=WebSocket.CONNECTING,u.OPEN=WebSocket.OPEN,u.CLOSING=WebSocket.CLOSING,u.CLOSED=WebSocket.CLOSED,u;function u(e,t,n){var a={debug:!1,automaticOpen:!0,reconnectInterval:1e3,maxReconnectInterval:3e4,reconnectDecay:1.5,timeoutInterval:3e3,maxReconnectAttempts:null,binaryType:"blob"};for(var i in n||(n={}),a)void 0!==n[i]?this[i]=n[i]:this[i]=a[i];this.url=e,this.reconnectAttempts=0,this.readyState=WebSocket.CONNECTING,this.protocol=null;var o,s=this,d=!1,l=!1,c=document.createElement("div");function r(e,t){var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}c.addEventListener("open",function(e){s.onopen(e)}),c.addEventListener("close",function(e){s.onclose(e)}),c.addEventListener("connecting",function(e){s.onconnecting(e)}),c.addEventListener("message",function(e){s.onmessage(e)}),c.addEventListener("error",function(e){s.onerror(e)}),this.addEventListener=c.addEventListener.bind(c),this.removeEventListener=c.removeEventListener.bind(c),this.dispatchEvent=c.dispatchEvent.bind(c),this.open=function(a){if((o=new WebSocket(s.url,t||[])).binaryType=this.binaryType,a){if(this.maxReconnectAttempts&&this.reconnectAttempts>this.maxReconnectAttempts)return}else c.dispatchEvent(r("connecting")),this.reconnectAttempts=0;(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","attempt-connect",s.url);var e=o,i=setTimeout(function(){(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","connection-timeout",s.url),l=!0,e.close(),l=!1},s.timeoutInterval);o.onopen=function(){clearTimeout(i),(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","onopen",s.url),s.protocol=o.protocol,s.readyState=WebSocket.OPEN,s.reconnectAttempts=0;var e=r("open");e.isReconnect=a,a=!1,c.dispatchEvent(e)},o.onclose=function(e){if(clearTimeout(i),o=null,d)s.readyState=WebSocket.CLOSED,c.dispatchEvent(r("close"));else{s.readyState=WebSocket.CONNECTING;var t=r("connecting");t.code=e.code,t.reason=e.reason,t.wasClean=e.wasClean,c.dispatchEvent(t),a||l||((s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","onclose",s.url),c.dispatchEvent(r("close")));var n=s.reconnectInterval*Math.pow(s.reconnectDecay,s.reconnectAttempts);setTimeout(function(){s.reconnectAttempts++,s.open(!0)},n>s.maxReconnectInterval?s.maxReconnectInterval:n)}},o.onmessage=function(e){(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","onmessage",s.url,e.data);var t=r("message");t.data=e.data,c.dispatchEvent(t)},o.onerror=function(e){(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","onerror",s.url,e),c.dispatchEvent(r("error"))}},!0===this.automaticOpen&&this.open(!1),this.send=function(e){if(o)return(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","send",s.url,e),o.send(e);throw"INVALID_STATE_ERR : Pausing to reconnect websocket"},this.close=function(e,t){void 0===e&&(e=1e3),d=!0,o&&o.close(e,t)},this.refresh=function(){o&&o.close()}}}()}(this);var mS=function(){var e={parse:function(e,t,n){return t||(e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;")),a(e,function(e){var t=function(e){for(var t=e.indexOf(d)<0?e.replace(s,""):e,n=[],a=0,i=0,o=0;o<t.length;)a=t.charCodeAt(o++),i?(n.push((65536+(i-55296<<10)+(a-56320)).toString(16)),i=0):55296<=a&&a<=56319?i=a:n.push(a.toString(16));return n.join("-")}(e);return t?'<img class="'+(n?"emoticon":"emoji")+'" src="https://twemoji.maxcdn.com/2/72x72/'+t+'.png"/>':e})},replace:a},n=/(?:\ud83d[\udc68\udc69])(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddb0-\uddb3])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f)|[\u0023\u002a\u0030-\u0039]\ufe0f?\u20e3|(?:[\u00a9\u00ae\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\uddb5\uddb6\uddb8\uddb9\uddd1-\udddd]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a-\udc6d\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\udeeb\udeec\udef4-\udef9]|\ud83e[\udd10-\udd17\udd1d\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd40-\udd45\udd47-\udd70\udd73-\udd76\udd7a\udd7c-\udda2\uddb4\uddb7\uddc0-\uddc2\uddd0\uddde-\uddff]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g,s=/\uFE0F/g,d=String.fromCharCode(8205);return e;function a(e,t){return String(e).replace(n,t)}}();