var t,n,i,e,a,o,s,d,l,c,p,r,u,_,f,h,v,m,g,y,b,w,k,A,C,E,M,I,S,x,P,T,L,B,O,G,U,R,N,D,V,J,H,F,q,z,X,Y,j,W,Q,Z,K,$,ee,te,ne,ie,ae,oe,se,de,le,ce,re,ue,_e,fe,he,me,pe,ve,ge,ye,be,we,ke,Ae,Ce,Ee,Me,Ie,Se,xe,Pe,Te,Le,Be,Oe,Ge,Ue,Re,Ne,De,Ve,Je,He,Fe,qe,ze,Xe,Ye,je,We,Qe,Ze,Ke,$e,et,tt,nt,it,at,ot,st,dt,lt,ct,rt,ut,_t,ft,ht,mt,pt,vt,gt,yt,bt,wt,kt,At,Ct,Et,Mt,It,St,xt,Pt,Tt,Lt,Bt,Ot,Gt,Ut,Rt,Nt,Dt,Vt,Jt,Ht,Ft,qt,zt,Xt,Yt,jt,Wt,Qt,Zt,Kt,$t,en,tn,nn,an,on,sn,dn,ln,cn,rn,un,_n,fn,hn,mn,pn,vn,gn,yn,bn,wn,kn,An,Cn,En,Mn,In,Sn,xn,Pn,Tn,Ln,Bn,On,Gn,Un,Rn,Nn,Dn,Vn,Jn,Hn,Fn,qn,zn,Xn,Yn,jn,Wn,Qn,Zn,Kn,$n,ei,ti,ni,ii,ai,oi,si,di,li,ci,ri,ui,_i,fi,hi,mi="fglfgl27@gmail.com",pi="<br>",vi='<i class="icon-circle" style="font-size: 50%; vertical-align: middle; font-weight: bold;"></i>  ',gi='<div class="about_text_title">',yi='<div class="about_text_title" style="text-align: left;">',bi='<div style="text-align: left;">',wi="",ki="",Ai="",Ci="",Ei="",Mi="",Ii="",Si="",xi="",Pi="&nbsp;";function Ti(){wi=e+" (C)",ki=n+" (D)",Ci=i+" (A)",Ai=a+" (A)",l+=Zt,c+=Zt,I=ai+oi,Ei=gi+e+"</div>"+gi+Ce+"</div>"+pi+bi+vi+xe+pi+vi+(Pe+=Yt)+pi+vi+Te+pi+vi+ri+pi+vi+Le+pi+Be+pi+vi+Oe+pi+Pi+Pi+Pi+Ge+pi+vi+Ue+pi+"</div>"+pi+(Si=gi+ke+"</div>"+bi+vi+nt+pi+vi+$e+pi+vi+et+pi+"</div>"+bi+vi+tt+pi+vi+it+pi+vi+at+pi+pi+gi+Ae+"</div>"+bi+vi+ot+pi+vi+st+pi+vi+dt+pi+vi+lt+pi+vi+ct)+pi+pi+gi+we+"</div>",Mi=gi+be+"</div></div>",Ii=bi+pi+Re+pi+(Ql?pi+'<div style="display: inline-block; color: #FF0000; font-size: 110%; font-weight: bold;">'+Zn+"</div>":"")+"</div>"+pi+gi+Ne+"</div>"+mi+pi+pi+De+pi+Ve+pi+pi+yi+Je+"</div>"+bi+We+pi+vi+He+pi+vi+Fe+pi+vi+qe+pi+vi+ze+pi+vi+Xe+pi+vi+Ye+pi+vi+je+pi+Qe+pi+vi+Ze+pi+vi+Ke+pi+gi+we+"</div></div>",xi=ht+pi+vi+mt.replace("link_link",'<div style="display: inline-block; color: #FF0000; font-size: 110%; font-weight: bold;">http://tiny.cc/twitchkeycode</div>')+pi+vi+pt+pi+vi+vt+pi+vi+gt+pi+vi+yt}function Li(){Bc=!1,document.getElementById("side_panel").style.width="25%",t="Refresh",n="Search",i="Settings",e="Controls",a="About",o="Hide",s="The text you entered is empty.",d="The search result is empty.",l="Switch screen",c="Switch user screen",p="Switch: Past Broadcast or Highlight",r="Switch: Period (24h, 7d, 30d, all)",u="Go to ",_="User ",f="Live",h="Games",v="Playing ",m=" for ",g="Watching time ",y="Since ",b="A Game",w="Type your search...",k="Type your authentication key...",A="Type your user name...",C="Press Enter or Select key to, ",E="Channels",M="Channel",ai="Back to previously screen: Back key",oi=" twice",S=" has ended",x="This video is only available to subscribers.",P="Connection failed, unable to load content hit refresh to try again",T="No",L=" for this ",B="Connection failed, unable to load video content exiting...",O=" Past Broadcast",G=" Highlight",U=" Clips",R=" Content",N="Streamed ",D="Duration ",V=" Views",J=" Viewers",H="Click again to exit!",F="Do you wanna to exit SmartTV Twitch?",q="Exit",z="Close",X="Minimize",Y="Cancel",j="Not Live | ",W=" Channels Live",Q=" Hosts Live",Z=" Games Live",K=" Followed Channels",$=" Add User",ee=" Remove User",te="User doesn't exist",ne=" hosting ",ie=" already set",ae="Make First",oe="First user can fallow (when providing a key) and see live channels feed outside of the user screen<br>",se="Add a Twitch user to display it's Followed Channels content here",de=" (24h)",le=" (7d)",ce=" (30d)",re=" (all)",ue="Jumping",_e=" to ",fe="Jump Canceled",he=" , jump time bigger then duration",me=" Sec",pe=" Min",ve=" Hr",ge="Source",ye="Version: ",be="SmartTV Twitch",we="Press back key to close this.",ke="Player Related:",Ae="Chat Related:",Ce="General Related:",Ee="Update",Me="Current installed version ",Ie=" latest available version ",Se="This are the none players related controls, the player can show it's own controls.",xe="Play a video: Navigate using Directional pad (up/down/left/right), press enter to start playing",Pe="Refresh screen content: ",Te="Exit the application: from side panel click exit",ri="Force close the application: Hold the back key for 5 seconds",Le=" Switch screen: Back key then D-Pad left or right",Be="Some screen will change its internal content (channel past broadcast or clips for example) instead of changing to another screen",Oe="Start a search: from side panel click search",Ge="After writing the search text press key Enter on the virtual keyboard then choose a search option",Ue="About this application: from side panel click about",Re="This is a SmartTV Twitch client develop by a individual on his free time, for TV's that don't have access to a good official application, released for free to any one that wanna to use it.",Zn="This version of the app is for test in a browser only!",Ne="Developer information:",De="This is an open source application licensed under the GNU General Public License v3.0, check it on github",Ve="github.com/fgl27/SmartTwitchTV",Je="This application uses following dependencies:",He="Nightdev KapChat - KapChat captures Twitch chat directly into OBS or XSplit (https://www.nightdev.com/kapchat/)",Fe="Fontastic - Create your customized icon fonts in seconds (http://app.fontastic.me)",qe="Twemoji - A simple library that provides standard Unicode emoji support across all platforms (https://github.com/twitter/twemoji)",ze="UglifyJS - is a JavaScript parser, minifier, compressor and beautifier toolkit (https://github.com/mishoo/UglifyJS2)",Xe="JS Beautifier - Beautify, unpack or deobfuscate JavaScript and HTML, make JSON/JSONP readable, etc. (https://github.com/beautify-web/js-beautify)",Ye="HTMLMinifier - A highly configurable, well-tested, JavaScript-based HTML minifier (https://github.com/kangax/html-minifier)",je="JSHint - A Static Code Analysis Tool for JavaScript (https://github.com/jshint/jshint)",We="Web:",Qe="Android:",Ze="Google: Leanback v17 (https://developer.android.com/reference/android/support/v17/leanback/package-summary)",Ke="Google: ExoPlayer (https://github.com/google/ExoPlayer)",$e="Show information panel: Press enter key or D-pad keys if chat and live channel feed is not showing",et="Close the video: press back key twice",tt="Play/Pause a video: open information panel and click on pause symbol (not available to Live streams)",nt="Show user live channels feed: D-pad up",it="Change video quality: Open information panel, , navigate using use Directional pad (left/right), then use Directional pad (up/down) to choose the new quality after press Enter key to confirm the change",at="Force refresh a video (in case it freezes): Change video quality to the same",ot="Show or hide the Chat : D-pad right",st="Change Chat position : D-pad left",dt="Change Chat size : D-pad down",lt="Change Chat background brightness: Change in side panel settings",ct="Force refresh the Chat (in case it freezes or doesn't load): Change video quality to the same will reset and sync it",rt='Start a search: open information panel, navigate using use Directional pad (left/right) to "Search" and press enter',ut="Chat and video (Side by side): Color button red (A)",ti="Force disable the chat",ni="with this the chat will not load content, this is useful on a stream with too many viewers were the chat can lag the app.",_t="Update available, check google play store",ft="Adding a key allows the app to access live user content faster, fallow/unfallow channels/games and access subscribed only past broadcast (for channel you are Sub to and block VOD access to none subscribers) <br> <br> In doubt read this link  <br> <br> https://github.com/fgl27/SmartTwitchTV#authentication <br> <br> add key for",ht=" below, fallowing this steps:",mt="Access the site link_link (using a computer or a smart phone)",pt='Click on the "Authorize" button it will take you to main Twitch.TV authentication site',vt="Login to Twitch.TV using the user name you are trying to add a key for",gt="Click on Authorize button of Twitch.TV site if you agree with the requested permissions",yt="The web page will update and show a key code, the key only has lower case letters and nubers.",bt=" Add Authentication key",wt="Key added OK",kt="Key test fail, it's needed to add new one",At="Key test return OK",Ct="You try to add a key for user ",Et=" but this key is for user ",Mt=" Following",It=" Follow",St=" And you have not set a authentication key the app can't check yours sub status.",xt=" And you are not a sub of this channel",Pt=" You are a sub of this channel but the app fail to authenticate contact the developer email in about",Tt="Fail authentication check with the provider key, please check and try again",Gn="The added key doesn't belong to the user ",Lt="No user",Bt="Set a user and a authentication key to be able to fallow/unfollow",hi="Set a user first",Ot="Restart the",Gt=" Clip",Ut="Channel content",Rt="Network is disconnect, the application can't work without INTERNET",Nt="Network connection reestablished",Dt=" Followers",Vt=", Can't fallow or unfallow ",Jt="Game content",Ht="Yes",Ft="Are you sure you want to remove the user ",qt="Press Up to ",zt="Followed Games",Xt="Change between",Yt=" Back key then Enter",jt=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"],Wt=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Qt="Started ",Zt=" (PG Up/Down)",Kt="Videos",$t=" Video",en="Replay",tn="exiting in ",nn='press "Return" to exit',an="Featured",on="Created ",sn="Open the Broadcast",dn="No Broadcast",ln="There is no Past Broadcast for this clip",cn="And because of that no chat",rn=" is now",un="Open the Hosting",_n="Player related",fn="Buffer size:",hn="A lower value here will make the player to start playing sooner, but it may cause re-buffer with will cause the player to pause to buffer.",mn="Live streams buffer",pn="Videos (Past Broadcast and Highlight) buffer",vn="Clips buffer",gn="General related",yn="Language",bn="Chat: Connecting to chat server..."+pi+"Chat: Connected."+pi+"Chat: Joined channel ",wn="Play from the start or from where you stop watching last time?",An=(kn="From:"+pi)+"Start",Cn="Chat: The Chat has ended!",En=": Most recent",Mn=": Most views",In="Set a authentication key to be able to see fallowed videos",Sn="Switch: Most recent or views",xn="Enable",Pn="Disable",qn="The app was closed willing playing, restoring playback",Tn="Restore playback",Ln="When changing apps, the app may be closed by the system to free memory. In this case the app saves what it was playing and restores the playback when reopened",Bn="Chat font size",On="Change the chat lines font size, applies to text and emotes",Un="Videos animated thumbnails",Rn="Side panel: D-pad left or Back key twice",Nn="Size ",Dn="Brightness ",Vn="Forbidden content, this Live must be for Prime only subscribers or lock to Twitch official app only",Jn="Jump step ",Hn=" seconds",Fn=" minutes",zn="Clock offset",Xn="Application language",Yn="Content language",jn="Press enter to change",Wn="All",Qn="Empty game fro this",Kn="Isn't possible to jump during a buffering",$n="Chat is disabled, enable in side panel settings",ei="This clip/video fail to load can't replay",ii="Chat background brightness ",si="Play Next",li="Playing next in ",di="Play All",ci="Auto Play next clip",ui="Settings, about, etc...",_i=" Press up",fi="Live Feed"}var Bi="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAeEAAAKgCAMAAACbeDVoAAAAM1BMVEU3NTZoZ2eura6enp4+PD1MS0vq6en09PQ0MjPy8vJ9fX1YV1jT09O7u7vf3t+NjY3GxsZnLAeWAAAI3UlEQVR4Ae3d7XabOrcGUPEBWguMzf1f7dltd3u6Q1rHNk5I3jn/NmPYo48lJC1JFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgf0+UoenatpuGEuUdRD8009S806cR/eWU9bs8d0M8/eOmZazfjcvUR3kuYmiz/m6Z46n5dmP9zdjJ+Ln6NusLuQ7labqxvpBdX3iaaayv6cpTxJT1FTlF4Sn6Jeur8vSErjqGP37c0hf2F/Op/tHY7d+Az/WPznMUdhbNWP8iT0M8rb/YGvXUT34Eb2VO8ayf01bmJQo7ikvWq9a+7KStV2UX5X0JuOZOfed8zvoGIn72tGUrs91xDizijx9kbWQ9NVEeMpzq1nOf/Mxjfbts+/KALuuWEfVz9ed6ixzvb8bzueZNHzUXHneut7pvbhzDmvVG2RceFEvWm41dH/dUkW6VeSo8Ji51a/+Mo+/O9S5tFB4xZ73TeMPugG37NaA+4ChrI5emRLkmytxmzXovo61HxFIfktldqwIN3Vgfcyrc7ZL1UTkuTf+Hptw3y5h1490exQxj3cV4Wi7N0JcSP5TSD81lOY1Zsz4ssyncJc51T3k+reuyLOt6OmfdUY594R6Xenz66QcMWT+NptyMONWjOa/rWF917gt3FP0P5dSU+Ec/nfXTu+jHeiCZXfkhonRp3eNx0dYjyUtc6V5OhZs0WQ8k27i2Uy8vhR2KwvPwU31Hm4FUPz5WKia6+rooP9V3tN0529WNXKLwVn0eKuE6lxeaupVD4a26eqyE+/JCX1+hEb/ZkMdKOMvGIytbxFIP1obLS/0jlWLmerSEh/LCUF81Fd5iPVzC09vKXnkuvEGTh0t4jfJfp7px/7KHmtLHJ5xTbE7K3VtjosnjJVzHeXOQ6s5GTJzrARPOcX7bSbksV9DkEROuWf89RBF9d9ugbMtT+BAJ5zLN8zytWX8a10vTXNYx679y/f4nS9bfjIW/mushEs5liJ8HEutPmfV3668/WVIjfqtYDpHw+HvBv71ab4ou6095KvzFkEdI+L9XKcWa1/YERJdWp9+mqx+e8HaBoz9fX71alZjepB/vr9UMzysHT3Wj+fP4IefyNrZ25AclfIrNGdfrC9CnO3bW2p01f0zCXVwd/7Xxlx/n2BfettrxQW14ur61tysvTfX/Xcp1VjuOlHC5MeExypuYKs3l7fqh7uUS19vwJsOLA8XXtXmMNryd7pyuFoxj2f4zL0TWeoix9Nhf61wyh7/u/82+bNHUbz5+LL3ppmO5etYwLvdUmCxJN/FS+SVemutuxuFaQTPHpvwm5nE7peb6BtWPWLXcbsYZ8uqvYDhf3Z1ZmI6TcNZxjmtbErKJ8kM0eX08TqwfmPBWLnOJiL5Zs/4ynk5j/SXX739S5iWvr3wSQx4q4Zp5/nEtU9YfzlMf/xgu5/pDfr/YYz1n3VJ+2Jrqxye8kb9fPR/lu+iXvH1xm1iPk/CVwCLadNvlzYbcM+Fc2hfW+kKu2z/4syVu+jluTxMz1V0Tvj4Xy/6GBZOxv/3Cza6waRX7JRx7Jrx9qEZ74z4C+nHPhHOTcDyW8PaWhxsXxmjy0G24Ly/0N5aZWeqR2/D1Wx6uHCYmxnroNnzXInoWfhny2G346i0PV5a1mPLYbXgqL0w3nZwg1vrMNvx4wpt9PetN+66JrDu34aF/Yd72of1/NPUvsrlr6F/4IYb6Vs0v9V2dh/983/G20zE09e3yu5r1fY3DHS8JuhR+6Orh5TiV76JMY972ChfiXD+DU9cMQ9Odsr7VGIVv+vo55J132jLXr2oufDPVr+pS2J4L//QMtTbW+lWdCt+M9avKvhRiqF/XUEphrl9XU9gczDSY/nLa+nW1UYilfl1rFGKt9UtPlzjXr+tcCv1Yv66xL1sODu8sx7W7TM089P8opfT/GOZmmrr1/PTPHgpzfZpx7aa5j3+UiPJClBIR/Tx161ifZi409Rny1E7Dt1yv+pb/MLWntOTxaRLO8/It3XKDiOib5Qmd9lSY6q5yXOYSJcqt+hJlbsfcO2EudUfZzVEeEXOXdUddoat7ybUpUR4TJUqz5AETlvDYDVH2EUM31n20hbbu4dz1UfYSEf3lvFPCtHu+4mxHfZsS3kO09WFjE2V/0YyHSFgbzqU8y5Ifn7C9tOMU5VliGo2lP3o+fJ6jPNF8so3nY9e01r48U5R+sab1gQnnUp5vyY9KWPUw2yhPF9FmvVc2haHeK7so7yEuWe81FPp8/EXfTxZT1rtk9qVwrnfJKUo5esTnUojT429yf747Iz5FIZYjBrxxyXtfoUh3xEHWRnR555IWzSED3ojORrw7DZ/kwFe0d06WGOuNloPec74xFu4Zap368iGiPxlovcMR8Rz78lH6MVWWbhfz5zkKNIzPPtPiQTw25SM1o8fwkwepl/jgR0rePuSn+UT/adGaDT/xLQB5+kzr6Fn4qf1MR+r7USf9rPct5fClv60KYk6f6vVQ5yj80uRn6vWiS1u0bhTr57qbalX8378Rj0M5jmHUhHcvPzRRDqRRdLhRXGsVXXym41bbHoeYPtkFkaf6N1MUXloP1yTufxSvha1+PPRMeGMa9dG36efxjjP+B6wkZjblVczn+pq2L8fUt/U157lEeQ1Rpk3GYztEOaoY2nGT7+Wv+dK056z/ynPb9FGOLPqXX/h6vgzNpW3b7tIMJcrxRRmaqWvb9sYvTET5JKIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAF/F/wGK2iVvT89ySQAAAABJRU5ErkJggg==",Oi="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAMAAABrrFhUAAAASFBMVEVHcEw1NTXb29swMDB9fX1DQ0NeXl5RUVFtbW3m5ubT09Pg4ODKyso7Ozufn5+9vb2urq62traQkJClpaWJiYmYmJjCwsLq6uo9xg8yAAAAF3RSTlMACeoDbBxBLlX54PHUEZnCrbiFonuQyd/Z9QoAAAhdSURBVHgB7MGBAAAAAICg/akXqQIAAAAAYO7qJdtSEIbC8AKREB4icI57/jOtzm1Ur1ZdFRO/GfxxqzdbTFnJex9+eO9pLWZ5fbgpFFwf7cg2MeNvnGw+2uguUDFvfOaFQt+zZfwT27z3QOU9ezDkvtUy/gvb4+vIvCF+RMYvcRyqj7CGLTNO4ryFVWM9uZZwkdQcqatnXIqrnhusP/VX4+YUvAuL3yxuYze/CH/4FTergmdAPWKC2Enk9mkkTJKGF9fvd8ZEvHth+ZhO0AloQr7gE9BgPIQHPZ5fPhYPsp/ybH/IeFgOT66/QYBGD+UvLkEE+1me6PcVYlQ/Pd90hiDczdx+qhCm0sx+lyBOctPy1x0i7eucfh8hVPRT5s8Qi93t+WWDaFu5t58OCHeQ3Ndf/4cgJCiQwl39Dkp8bslfvlDju1zfbwYUGeby/h2q7BdfoDQo08ql/RXq1CK6f4Kj6N+/jA2YBqWa0f/9F/AvGFBsnO/vUK2f7XdQzp3rDwzlOJzpJwv1Ev2+f424EScb83HkaNOf9u5Ex3EQCQPwjznA+D7sev83XWnVGu1oZ9Jp8pcTNP4eIN2xOaqgCK0oyh6F7CJKunPbU/SDMdYaM/iY9u3sPi4cOERFHpO3ACx+Y30as6g4UCSJgnwEg78y4ciiIKFA7IRucgO+MbjpIwZCa3phW8Lbas76AT81CtmU8LQ0Cdn47gEgpzcXH6X3RgCbxw/5Tagajx+wM/v1F0hZmJb3pUCLRxG/vCktsr75jF0Ke7ypE8wfs2XvWuGZ+TOA/k5laq6fCYYsNF3Ai0J3eV44ftL3hw3dxeFQbLXa//urEtqI7y3vX43SW5dbLh0BHUjcheMgMQncQLMJS28ue9inAY2ZriqfGZrr465rY9NmwCM7v7NxpGv2ingPegbZfEnTXN/fAfTfzXrFH0mgS0LSef0GMEHBJCSrfhYUoCCoTwSOPAJ+7DjolIPANkJFbHXDwcSPgclG3TF6+vAGQGwCk8X/i0KyQM0iJEG/fWmwSUhGxTSoN1Bjer2Z0AnJDkW7kLjKhkD+MKj2ySdUTUIStdKAHap2pYTAfnoUyI8GrU6icVqosqeQBJ0ecEDZISSrSg+QBGVJZYE86O89scRWow+s7MdaQTAoq8bsukHdprBu5zshcVDnFBZHk7AkaLMa/+wmLBHqYkvvrybzWxUfv79mw14LkmygzmR6e3XCMuECi7A4elXUjAvM7Jopyy4K0Q8EuBmhb9mPVNcoLK1nl0UduMAhNIl9OniFPv7/OwvNjgvs5PJp29f3AKjJq+/q6wLUyDXIvzsISiAfjxlrewCO/HnXBELkJjuLVJwLEKaBU8ijqjLbC88J2Cw8zQBt1jTCkw11FpT2ohUhZjYQhSlBXRKmiCBMDuqcMCXyAz2g7hCmRH6gE9RN5Ca7C1PnocsOjTDtOIQqQFkQqgOzUO1QtgvVjEnqGgQW9v97ClUb1feFqHr0UlUfSMLVI0tVfWATroxGauoDvhGuBo2QOShyQtaglZr6wCRkLYStDaqpMBtaYZuhZhS2Fp2wtVExCGDr0AjdBiWr0DXIUk0T8I3QZWThG6tpAJLRC1/nwWd9J3w9JlGwKUXBfBNm0ZBAl0TDjFE05AFkQxYNI1ZRMYJsFBUrnOgIGh2Az6l9cj8odAA+hyBKNoUOwJcQW1Gy1nDPXcTQiRYHktCKktZz6wN0VgZiI1oaAyyipokg8FnU9BYYRU/v8TLfi54FwC6K+sj8/nwjf4Ql3wEbe/VbiIKo6tIn3/ObHqy0srSOess9f+3KZFG2WhSxqyjLBgBm0TZFFIiLaFsKSg6KNA4/5hpRdxRkmoWWSHj9dKlgu6FUe3g8zR+tFChdvz/lEt0R8ZR4NHKJbIqS7XLdGPGtOHZykfn6WyXbxXk84N3cymV2pU3ndhoffGIzJ2/xB9a7uZErBf6BdJFucfG7SxG6c3TBG4sv1vjgxrOTB9p979XW7md+C49ZvtH05zKP6zpuy9Q3zyRVJqy9TiGDE4pzj/hirT+F6Pz6ZBPGRlgctfKkGYPF/xpGodkG/DK4paX/4MkpLzqd17sjqHMqgUJvaBXISzJF8Wx5KuX3TD3cEeUFc8Df2L2TF7W7xZ8M7iTuYNue/vW/xFntmk6bet4G9qp3jWg6pVif8HcWxvWsrbsgJc6EJxiXpUh2Bt8Y9obQAwqDwewsnjOUvKneeTwhboQeUJQRjh7PM2n6aeMyeFI4GRUcidL6H7BhzD+4nNvieaZkrgmv/VDjOuDnhrQ18q1mTgN+KE4lm4K/c5ds9/i0Tg9eVzcdyaOA2dtXixd8V3CJcOlD2Kbcym/a5tzW5C1Khf7Vat6xYKenmB1icm5fj3E81t25FAeL1/j5xZL+oNz89e3ytFR8HOX0+Fg2dT9LBAuGwc1An/5m8l5aizfiw8X+lavgDvXCN33+lO8dhWeydnw+O5zynS6W1WOuqII/y2tYY/e43dTB9+VHmo4Hj82iFj7LI3PRsZzFoB6hK2gAj5tA9qiJK65i941q1e9ljoIp4NHqqENl7FQ6lv+xCSyoTuxK7wPeH7ea2oeBveR0jkOF7FL6i4/pwf2UFXgc2KeSI6oBdRpLBzPfPA6cauGb0sHMPQ6camH30nTWTg8Cp4qbwGlKxo+Aeo3F4eyqf3/g9RPBUXSjmUPNluLDzKG94JeS9bnyfG6vcg58sN+3l93m41C3pTyc9VkvCLi+DzSx7Mj2icpF+a82FT69EZUbmld2NGZxqN3ySjTrc0Ltjq8QuEz0qJ17aUXbonY2SRvwL0vi8E8LB/5txuKX2+12u91ut9vtdrvdbrfb7Xa7/Qf0wSAxhEqDGQAAAABJRU5ErkJggg==",Gi="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAhAAAAEpBAMAAAAwswZCAAAAJ1BMVEU3NTbV1dU2NDXU1NTDwsOrq6t9fX1IR0dwb3DNzc2cm5xbWlqPj4+TNW2cAAAFhElEQVQYGe3AQYud5R0F8MPhzoxSN4d/buoUgcODtIFs+jCmaUqAuQ1RJJuZFAR3mUHE5TBqQFc3iUHcdVpQoZsE0GxjAcFdRPRz9b2ZmbTfoHKf80NERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERExK8VCRj4/pu3+7Wb3z4FTDQSoyGAhrvvSjt9p/ftd45oA8ZobBgPS6UuqaT5kmgwhtOI99Sl0pkLd4hGjIbAZ+ol9dJKV7+wJInRGB9rRypJpZUuzY9gjIaXTkqnuiZVkr4GMZyf9F9dz9XOM2MoBDa6ulZu/vLB+z8v9Fyfw8Q4GoC/qST1K5/DNLce7qg02SOMcTRuaKXePCZt2r57QyVpDsMYhYl9TepLwM1strl5opK0RwzEr0hd/S/HaECzG0x/qkm9ZoyDuKdS3z60TRiECeILqaT7GEf7w4mk+pdJ2IRNE758Q5OvQAxjo0r9wpEJm2ggCAMfdUlzGCOwDdxTL71lGyvGma2FpL4kRkCCXnRp+ylIwAZxhj9Iql0MwSQ2u6Q/22g0YOLcpa7SRWIINmaaPCII04Zxhnws6Q0MoQF+oNL2MWgQ/8v4pKtriSE0cl/Sn2DDvnzjiXGO/r2kuo0REG2rS9q1TWBD20vjDImF1K9iBCY2u6RDkEB7vff5Mc4RB5IuYgQkNiTVkU0AM0nXQRIGYH8o6YqNARgvl3SFhAHMJO3csk2CJje6+jZpY/35u6561Q0EMCup9ASECRgvSb0/bVh/BA4kXaWJyUxV0rUlCJPwliaHILH27MeSdg0YwEwrNT8GSQNcqPSIJtadwX1V7YEwgJl6SerXYRgE96W6DRprz15U6RnRDGBWmpR2bsEkgB8l/RUmBrBQ1aGNlZm6VFLVIzYYOOhVu2DD2iNOJN3BqZnOzWE24KCkfxAjsEq6j1MznSkBBvBA0h8NY92RPJF0B6dmWilJc9hoOJD0d2L9uXEh6RCnZnqudz1qNMGDLu0SxAAWJT3DqZkmXTt1iyQM/yj1XWP9kdyXdBunZpqU6jpgw8C+pD0YA/Bjde3i1EzPzY9IA7AXkh4Zxrpj44Gk3+LUTCvbSxgAiS1NDgli/fE7Sa8CNoGZ1KUnMCYNfklS/dvG2qPxclefG4DJmaR+iyBW3DZK/RpIjGCjtLNzZJjNr6t0HTZWTHyoXnOYWHsENlXSIQnbs9L8CMZzpA+qdLEBxtqzt3ov7ZpoxIa2lyBNrBgLSVdBE2uPwL56vwibxuUbTwgYxoTc7JL2CBLrjjDuSbV9BBiTRtAwJsQnpd6XJIy1Z2AmqT8iCJuwQeLUY0kXYDRiBJuavArAJs4QJF7S5CKG4UXv2n7KCc6ZJn+Q1HeJYTyQVG95ghdMby2kqiXGsdGl/sYRDeMMQX7UJc3RMApvnah33QKIF+zf3ChJX9kYBXFPKm0vDeJMg79QV+/3QYzCeEUrvzu2ca59Kqn0mhuGwYb9Lqm+hHGmbZ5IJe3BxjCIDUldevOoGbaBu4veJc0BG6MgiH2VVHXlczebWw+7ulTaA2yMZENSL/W6+csH7/+86L2rSnOCGIhN/KRJl0qTLqmkemYY4zAml/6pF7omvfQ12TAQT+CPpR1JvdQ1qdL8mMRISNjAZ12lKvWSVOoXljAaBmIQJP2epNK5C3cAYkwPe5WkrpKuLI1RkXff7ZJK2n7nyMawDHz/zdv92s1vn8LEsIyJG2iCjRiXbYBAA0xjWAZhAAZAgxiX2QgbhpuNcRGACcAgIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiLi/+Y/XKfZaw0ONrwAAAAASUVORK5CYII=",Ui="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",Ri=51,Ni=52,Di=179,Vi=37,Ji=38,Hi=39,Fi=40,qi=13,zi=49,Xi=8,Yi=13,ji=32,Wi=46,Qi=0,Zi=5,Ki=1e4,$i=0,ea=!1,ta=!1,na=!1,ia="",aa="https://fgl27.github.io/SmartTwitchTV/release/index.min.html",oa="elsu5d09k0xomu7cggx3qg5ybdwu7g",sa="https://id.twitch.tv/oauth2/token?";function da(e){Ac.Users_Position=Ac.Users_AddcodePosition,$i=e,La(),Lr(),_a()}function la(e,t,n,i){var a=new XMLHttpRequest,o=sa+"grant_type=refresh_token&client_id="+encodeURIComponent(Zc)+"&client_secret="+encodeURIComponent(oa)+"&refresh_token="+encodeURIComponent(Ka[e].refresh_token)+"&redirect_uri="+aa;a.open("POST",o,!0),a.timeout=Ki,a.ontimeout=function(){},a.onreadystatechange=function(){4===a.readyState&&(200===a.status?ra(a.responseText,e,n):-1!==JSON.parse(a.responseText).message.indexOf("Invalid refresh token")?(ma(),i&&i()):ca(e,t,n,i))},a.send(null)}function ca(e,t,n,i){++t<5?la(e,t,n,i):i&&i()}function ra(e,t,n){var i=JSON.parse(e);ua(i.scope)?(Ka[t].access_token=i.access_token,Ka[t].refresh_token=i.refresh_token,go()):ma(),n&&n()}function ua(e){return-1!==e.indexOf("user_read")&&-1!==e.indexOf("user_follows_edit")&&-1!==e.indexOf("user_subscriptions")}function _a(){var e=sa+"grant_type=authorization_code&client_id="+encodeURIComponent(Zc)+"&client_secret="+encodeURIComponent(oa)+"&code="+encodeURIComponent($i)+"&redirect_uri="+aa,t=new XMLHttpRequest;t.open("POST",e,!0),t.timeout=Ki,t.ontimeout=function(){},t.onreadystatechange=function(){4!==t.readyState||(200===t.status?pa(t.responseText):fa())},t.send(null)}function fa(){++Qi<Zi?_a():ha()}function ha(){Br(),Fr(Tt),window.setTimeout(function(){qr(),Sc=0,du(),Ac.Main_Go=fc,window.location=aa},4e3),Ka[Ac.Users_Position].access_token=0,Ka[Ac.Users_Position].refresh_token=0,go()}function ma(){aM=!1,Br(),Fr(Tt),Ka[Ac.Users_Position].access_token=0,Ka[Ac.Users_Position].refresh_token=0,go(),du(),window.setTimeout(qr,4e3)}function pa(e){var t=JSON.parse(e);Ka[Ac.Users_Position].access_token=t.access_token,Ka[Ac.Users_Position].refresh_token=t.refresh_token,La(),va()}function va(){v_("https://api.twitch.tv/kraken?oauth_token="+Ka[Ac.Users_Position].access_token,Ki,0,null,ga,ya)}function ga(e){var t=JSON.parse(e).token;if(t.user_name&&-1!==t.user_name.indexOf(Ka[Ac.Users_Position].name)){if(go(),Sc=0,Br(),aM=!1,Ac.Main_Go=fc,du(),Fr(wt),fr)try{Android.clearCookie()}catch(e){}window.setTimeout(function(){window.location=aa},3e3)}else Ka[Ac.Users_Position].access_token=0,Ka[Ac.Users_Position].refresh_token=0,Fr(Gn+Ka[Ac.Users_Position].name),window.setTimeout(function(){qr(),Sc=0,du(),Ac.Main_Go=fc,window.location=aa},4e3)}function ya(){++Qi<Zi?(Ki+=500,va()):ha()}function ba(){La(),ea=!1,wa()}function wa(){var e="https://api.twitch.tv/kraken/users/"+Ka[Ac.Users_Position].id+"/follows/channels/"+ia,t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=Ki,t.setRequestHeader(Kc,Zc),t.setRequestHeader($c,nr),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?ka():404===t.status?Aa(t.responseText):Ca())},t.send(null)}function ka(){ea=!0,na?tv():cs()}function Aa(e){-1!==(JSON.parse(e).error+"").indexOf("Not Found")?(ea=!1,na?tv():cs()):Ca()}function Ca(){++Qi<Zi?(Ki+=500,wa()):na?tv():cs()}function Ea(){La(),Ma()}function Ma(){var e=new XMLHttpRequest;e.open("PUT","https://api.twitch.tv/kraken/users/"+Ka[Ac.Users_Position].id+"/follows/channels/"+ia,!0),e.timeout=Ki,e.setRequestHeader(Kc,Zc),e.setRequestHeader($c,nr),e.setRequestHeader("Authorization","OAuth "+Ka[Ac.Users_Position].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return ea=!0,void(na?tv():cs());401===e.status||403===e.status?la(Ac.Users_Position,0,Ea,null):Ia()}},e.send(null)}function Ia(){++Qi<Zi&&(Ki+=500,Ma())}function Sa(){La(),xa()}function xa(){var e=new XMLHttpRequest;e.open("DELETE","https://api.twitch.tv/kraken/users/"+Ka[Ac.Users_Position].id+"/follows/channels/"+ia,!0),e.timeout=Ki,e.setRequestHeader(Kc,Zc),e.setRequestHeader($c,nr),e.setRequestHeader("Authorization","OAuth "+Ka[Ac.Users_Position].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(204===e.status)return ea=!1,void(na?tv():cs());401===e.status||403===e.status?la(Ac.Users_Position,0,Sa,null):Pa()}},e.send(null)}function Pa(){++Qi<Zi&&(Ki+=500,xa())}function Ta(){La(),ta=!1,Ba()}function La(){Qi=0,Ki=1e4}function Ba(){var e,t="https://api.twitch.tv/kraken/users/"+Ka[Ac.Users_Position].id+"/subscriptions/"+ia;if(fr){if(!(e=Android.mreadUrl(t,Ki,3,Ka[Ac.Users_Position].access_token)))return void Oa();if(200===(e=JSON.parse(e)).status)ta=!0,fg();else if(422===e.status)ta=!1,_g();else if(404===e.status){if(-1!==(JSON.parse(e.responseText).error+"").indexOf("Not Found"))return ta=!1,void _g();Oa()}else 401===e.status||403===e.status?la(Ac.Users_Position,0,Ta,Ga):Oa()}else(e=new XMLHttpRequest).open("GET",t,!0),e.timeout=Ki,e.setRequestHeader(Kc,Zc),e.setRequestHeader($c,nr),e.setRequestHeader("Authorization","OAuth "+Ka[Ac.Users_Position].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState)if(200===e.status)ta=!0,fg();else if(422===e.status)ta=!1,_g();else if(404===e.status){if(-1!==(JSON.parse(e.responseText).error+"").indexOf("Not Found"))return ta=!1,void _g();Oa()}else 401===e.status||403===e.status?la(Ac.Users_Position,0,Ta,Ga):Oa()},e.send(null)}function Oa(){++Qi<Zi?(Ki+=500,Ba()):Ga()}function Ga(){ta=!1,_g()}function Ua(e){La(),Ra(e,0)}function Ra(e,t){var n,i="https://api.twitch.tv/kraken?oauth_token="+Ka[e].access_token;if(fr){if(!(n=Android.mreadUrl(i,3500,0,null)))return void Da(e,t);200===(n=JSON.parse(n)).status?Na(n.responseText,e):400===n.status?(La(),la(e,0,null,null)):Da(e,t)}else(n=new XMLHttpRequest).open("GET",i,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){4===n.readyState&&(200===n.status?Na(n.responseText,e):400===n.status?(La(),la(e,0,null,null)):Da(e,t))},n.send(null)}function Na(e,t){var n=JSON.parse(e);n.token.valid?ua(n.token.authorization.scopes)||ma():(La(),la(t,0,null,null))}function Da(e,t){++t<Zi&&Ra(e,t)}function Va(){La(),Ja()}function Ja(){var e=new XMLHttpRequest;e.open("PUT","https://api.twitch.tv/api/users/"+Ka[Ac.Users_Position].name+"/follows/games/"+encodeURIComponent(Ac.Main_gameSelected)+"?oauth_token="+Ka[Ac.Users_Position].access_token,!0),e.timeout=1e4,e.setRequestHeader(Kc,Zc),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return Wy=!0,void Py();401===e.status||403===e.status?la(Ac.Users_Position,0,Va,null):Ha()}},e.send(null)}function Ha(){++Qi<Zi&&(Ki+=500,Ja())}function Fa(){La(),qa()}function qa(){var e=new XMLHttpRequest;e.open("DELETE","https://api.twitch.tv/api/users/"+Ka[Ac.Users_Position].name+"/follows/games/"+encodeURIComponent(Ac.Main_gameSelected)+"?oauth_token="+Ka[Ac.Users_Position].access_token,!0),e.timeout=1e4,e.setRequestHeader(Kc,Zc),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(204===e.status)return Wy=!1,void Py();401===e.status||403===e.status?la(Ac.Users_Position,0,Fa,null):za()}},e.send(null)}function za(){++Qi<Zi&&(Ki+=500,qa())}function Xa(){La(),Ya()}function Ya(){var e,t="https://api.twitch.tv/api/users/"+Ka[Ac.Users_Position].name+"/follows/games/"+encodeURIComponent(Ac.Main_gameSelected);(e=new XMLHttpRequest).open("GET",t,!0),e.timeout=1e4,e.setRequestHeader(Kc,Zc),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState)return 200===e.status?(Wy=!0,void Py()):404===e.status?(Wy=!1,void Py()):void ja()},e.send(null)}function ja(){++Qi<Zi?(Ki+=500,Ya()):(Wy=!1,Py())}var Wa=0,Qa=5,Za=3500,Ka=[],$a=null,eo=!1,to=!1;function no(){Ac.Main_Go=tc,Ir("top_bar_user","icon_center_focus"),qr(),ql.placeholder=A,Er("add_user_scroll"),oo()}function io(){lo(!1),document.body.removeEventListener("keydown",ao),document.body.removeEventListener("keydown",co),Sr("top_bar_user","icon_center_focus"),Cr("add_user_scroll")}function ao(e){if(!eo&&!to&&Ac.Main_Go===tc)switch(e.keyCode){case zi:Yr()?Xr():Zr()?Qr():(0<Ka.length&&Ac.Main_Go!==fc?Ac.Main_Go=Ac.Main_Before:Ac.Main_Go=ec,io(),ou());break;case Ni:case Ri:case Di:case qi:oo()}}function oo(){document.body.removeEventListener("keydown",ao),document.body.addEventListener("keydown",co,!1),ql.placeholder=A,ql.focus(),to=!0}function so(){if(null!==ql){var e=ql.cloneNode(!0);ql.parentNode.replaceChild(e,ql),ql=document.getElementById("user_input")}}function lo(e){ql.blur(),so(),document.body.removeEventListener("keydown",co),ql.placeholder=C+A,e&&document.body.addEventListener("keydown",ao,!1),to=!1}function co(e){if(!eo&&Ac.Main_Go===tc)switch(e.keyCode){case zi:Yr()?Xr():Zr()?Qr():(0<Ka.length&&Ac.Main_Go!==fc?Ac.Main_Go=Ac.Main_Before:Ac.Main_Go=ec,io(),ou());break;case Wi:ql.value="";break;case Yi:case Fi:""!==ql.value&&null!==ql.value?bo($a=ql.value)?(Br(),Fr(_+$a+ie),window.setTimeout(function(){qr(),oo()},1500)):(Za=3500,eo=!(Wa=0),Cr("add_user_scroll"),Lr(),ro()):oo();break;case Xi:ql.value=ql.value.slice(0,-1);break;case ji:ql.value+=" "}}function ro(){v_("https://api.twitch.tv/kraken/users?login="+encodeURIComponent($a),Za,2,null,uo,_o)}function uo(e){JSON.parse(e)._total?(ql.value="",document.body.removeEventListener("keydown",ao),po(e)):fo()}function _o(){++Wa<Qa?(Za+=500,ro()):fo()}function fo(){$a=null,Br(),Fr(te),window.setTimeout(function(){no()},1e3),eo=!1}function ho(){if(0<(Ka=f_("AddUser_UsernameArray",[])).length)for(var e=0;e<Ka.length;e++)Ka[e].access_token&&Ua(e)}function mo(){return 0<Ka.length}function po(e){$a=JSON.parse(e).users[0],Ka.push({name:$a.name,id:$a._id,access_token:0,refresh_token:0}),go(),aM=!1,io(),sM(),eo=!1}function vo(e){var t=Ka.indexOf(Ka[e]);-1<t&&Ka.splice(t,1),0<Ka.length?(aM=!1,sM()):no(),go()}function go(){u_("AddUser_UsernameArray",JSON.stringify(Ka))}function yo(e){$a=Ka[0],Ka[0]=Ka[e],Ka[e]=$a,aM=!1,sM(),go(),Ac.Users_Position=0}function bo(e){return-1!==Ka.indexOf(e)}function wo(){return 0<Ka.length}var ko,Ao=0,Co=0,Eo=!1,Mo=0,Io=0,So=5,xo=3500,Po=0,To=!1,Lo=!1,Bo=["cc_thumbdiv","cc_img","cc_infodiv","cc_name","cc_createdon","cc_game","cc_viwers","cc_duration","cc_cell","sccempty_","channel_content_scroll"],Oo=!1,Go="",Uo=null,Ro="",No="",Do="",Vo="",Jo="",Ho={},Fo=!1,qo=null,zo="";function Xo(){Ac.Main_CenterLablesVectorPos=1,Ac.Main_Go=rc,Fo&&!Ac.Search_isSearching&&Ac.Main_selectedChannel_id&&ps(),Go!==Ac.Main_selectedChannel&&(Oo=!1),uu(),Ac.Main_selectedChannelDisplayname=Ac.Main_selectedChannelDisplayname.replace(j,""),Pr("top_bar_user",Ac.Main_selectedChannelDisplayname),Pr("top_bar_game",Ut),document.body.addEventListener("keydown",vs,!1),na=!1,Oo?(bu(Ao),Er(Bo[10]),us(),_s(),du()):jo()}function Yo(){ru(),document.body.removeEventListener("keydown",vs),Cr(Bo[10])}function jo(){pu("stream_table_channel_content"),Cr(Bo[10]),qo=null,Lr(),qr(),Go=Ac.Main_selectedChannel,Vo="",Eo=To=Oo=!1,ko=void(Ao=Co=Mo=Po=0),Wo(),Qo()}function Wo(){i_=!0,Io=0,xo=3500}function Qo(){v_("https://api.twitch.tv/kraken/streams/"+encodeURIComponent(void 0!==ko?ko:Ac.Main_selectedChannel_id),xo,2,null,Zo,Ko)}function Zo(e){null!==JSON.parse(e).stream?(Uo=e,Wo(),ns()):ko?(Uo=null,Wo(),ns()):(Wo(),$o())}function Ko(){++Io<So?(xo+=500,Qo()):(Uo=null,Wo(),ns())}function $o(){v_("https://tmi.twitch.tv/hosts?include_logins=1&host="+encodeURIComponent(Ac.Main_selectedChannel_id),xo,1,null,ts,es,!0)}function es(){++Io<So?(xo+=500,$o()):(Uo=null,Wo(),ns())}function ts(e){var t=JSON.parse(e);void 0!==(ko=t.hosts[0].target_id)?(Wo(),Qo()):(Uo=null,Wo(),ns())}function ns(){v_("https://api.twitch.tv/kraken/channels/"+Ac.Main_selectedChannel_id,Cv,2,null,is,as)}function is(e){var t=JSON.parse(e);qo=(qo=t.video_banner)?qo.replace("1920x1080",ir):qo,zo=t.profile_banner,Ro=t.views,No=t.followers,Do=t.description,Ac.Main_selectedChannelLogo=t.logo,os()}function as(){++Io<So?(xo+=500,ns()):(qo=null,zo=Ui,Do=No=Ro="",Ac.Main_selectedChannelLogo=Oi,os())}function os(){var e=document.createElement("tr"),t=0,n=document.getElementById("stream_table_channel_content");if((Lc=document.createElement("tr")).className="follower_banner",Lc.innerHTML='<div id="'+Bo[0]+'x_0" class="follower_banner"><img id="'+Bo[1]+'x_0" class="stream_img_banner"></div>',n.appendChild(Lc),null!==Uo){var i=JSON.parse(Uo);if(null!==i.stream){var a=void 0!==ko?Ac.Main_selectedChannelDisplayname+ne:"",o=i.stream;e.appendChild(ss("0_"+t,o.channel.name,o.preview.template,CI.parse(o.channel.status),o.game,eu(JSON.stringify(o.stream_type))+a+o.channel.display_name,y+Fm(o.created_at)+" "+m+Kr(o.viewers)+J,$r(o.video_height,o.average_fps,o.channel.broadcaster_language))),t++}else To=!0}else To=!0;e.appendChild(ds("0_"+t,Ac.Main_selectedChannelDisplayname,Ac.Main_selectedChannelDisplayname+O,"movie-play")),t++,e.appendChild(ds("0_"+t,Ac.Main_selectedChannelDisplayname,Ac.Main_selectedChannelDisplayname+U,"movie")),t<2&&(t++,e.appendChild(Au(Bo[9]+"0_"+t))),n.appendChild(e),(e=document.createElement("tr")).appendChild(ls("1_0",Ac.Main_selectedChannelDisplayname,Ac.Main_selectedChannelDisplayname,Ac.Main_selectedChannelLogo)),(Lc=document.createElement("td")).setAttribute("id",Bo[8]+"x_x"),Lc.className="stream_cell",Lc.innerHTML='<div id="'+Bo[0]+'x_x" class="stream_thumbnail_video" ><div id="'+Bo[4]+'x_x" class="stream_channel_info">'+CI.parse(Do)+"</div></div>",e.appendChild(Lc),n.appendChild(e),rs()}function ss(e,t,n,i,a,o,s,d){return Vo=n.replace("{width}x{height}",ir),(Lc=document.createElement("td")).setAttribute("id",Bo[8]+e),Lc.setAttribute(sr,t),Lc.className="stream_cell",Lc.innerHTML='<div id="'+Bo[0]+e+'" class="stream_thumbnail_video" ><img id="'+Bo[1]+e+'" class="stream_img"></div><div id="'+Bo[2]+e+'" class="stream_text"><div id="'+Bo[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;"><i class="icon-circle" style="color: '+(void 0!==ko?"#FED000":"red")+'; font-size: 90%; aria-hidden="true"></i> '+Pi+o+'</div><div id="'+Bo[7]+e+'"class="stream_info" style="width:33%; float: right; text-align: right; display: inline-block;">'+d+'</div><div id="'+Bo[4]+e+'"class="stream_info">'+i+'</div><div id="'+Bo[5]+e+'"class="stream_info">'+v+a+'</div><div id="'+Bo[6]+e+'"class="stream_info">'+s+"</div></div>",Lc}function ds(e,t,n,i){return(Lc=document.createElement("td")).setAttribute("id",Bo[8]+e),Lc.setAttribute(sr,t),Lc.className="stream_cell",Lc.innerHTML='<div id="'+Bo[0]+e+'" class="stream_thumbnail_video" ><div id="'+Bo[1]+e+'" class="stream_channel_content_icon"><i class="icon-'+i+'"></i></div></div><div id="'+Bo[2]+e+'" class="stream_text"><div id="'+Bo[3]+e+'" class="stream_channel" style="text-align: center">'+n+"</div></div>",Lc}function ls(e,t,n,i){return Jo=i,(Lc=document.createElement("td")).setAttribute("id",Bo[8]+e),Lc.setAttribute(sr,t),Lc.className="stream_cell",Lc.innerHTML='<div id="'+Bo[0]+e+'" class="stream_thumbnail_video" ><div id="schannel_cont_heart" style="position: absolute; top: 5%; left: 6%;"></div><img id="'+Bo[1]+e+'" class="stream_img_fallow"></div><div id="'+Bo[2]+e+'" class="stream_text_channel"><div id="'+Bo[3]+e+'" class="stream_channel">'+n+'</div><div id="'+Bo[5]+e+'"class="stream_info">'+Kr(Ro)+V+'</div><div id="'+Bo[6]+e+'"class="stream_info" >'+Kr(No)+Dt+"</div></div>",Lc}function cs(){ea?(xr("schannel_cont_heart",'<i class="icon-heart" style="color: #00b300; font-size: 600%; text-shadow: #FFFFFF 0 0 10px, #FFFFFF 0 0 10px, #FFFFFF 0 0 8px;"></i>'),Pr(Bo[3]+"1_0",Ac.Main_selectedChannelDisplayname+Mt)):(xr("schannel_cont_heart",'<i class="icon-heart-o" style="color: #FFFFFF; font-size: 600%; text-shadow: #000000 0 0 10px, #000000 0 0 10px, #000000 0 0 8px;"></i>'),mo()?Pr(Bo[3]+"1_0",Ac.Main_selectedChannelDisplayname+It):Pr(Bo[3]+"1_0",Ac.Main_selectedChannelDisplayname+Vt))}function rs(){Oo||(Oo=!0,""!==Vo&&pr(document.getElementById(Bo[1]+"0_0"),Vo,Gi),pr(document.getElementById(Bo[1]+"x_0"),zo,Ui),pr(document.getElementById(Bo[1]+"1_0"),Jo,Oi),_s(),du(),Er(Bo[10]),Br()),us(),i_=!1}function us(){Lo?cs():mo()?(ia=Ac.Main_selectedChannel_id,na=!1,ba()):(ea=!1,cs())}function _s(){Ir(Bo[0]+Ao+"_"+(Ao?0:Co),or),Mc&&fs(),Lu()}function fs(){Xu(Ao+"_"+(Ao?0:Co),Bo)}function hs(){if(Ao)mo()&&Ka[Ac.Users_Position].access_token?(na=!1,ia=Ac.Main_selectedChannel_id,ea?Sa():Ea()):(Fr(Bt),window.setTimeout(qr,2e3));else{document.body.removeEventListener("keydown",vs),Cr(Bo[10]);var e=To?1:0;Co===0-e?(Ac.Play_selectedChannel=document.getElementById(Bo[8]+Ao+"_"+Co).getAttribute(sr),Ac.Play_selectedChannelDisplayname=document.getElementById(Bo[3]+Ao+"_"+Co).textContent,-1!==Ac.Play_selectedChannelDisplayname.indexOf(ne)?(Ac.Play_isHost=!0,Ac.Play_DisplaynameHost=Ac.Play_selectedChannelDisplayname,Ac.Play_selectedChannelDisplayname=Ac.Play_selectedChannelDisplayname.split(ne)[1],Ac.Play_selectedChannel_id=ko):Ac.Play_selectedChannel_id=Ac.Main_selectedChannel_id,Ac.Play_gameSelected=document.getElementById(Bo[5]+Ao+"_"+Co).textContent.split(v)[1],Wu(Ju)):Co===1-e?Wu(Fs):Co===2-e&&(Wg=Ly,Wu(ey))}}function ms(){Ho={"Main_values.Main_selectedChannel_id":Ac.Main_selectedChannel_id,"Main_values.Main_selectedChannelLogo":Ac.Main_selectedChannelLogo,"Main_values.Main_selectedChannel":Ac.Main_selectedChannel,"Main_values.Main_selectedChannelDisplayname":Ac.Main_selectedChannelDisplayname,ChannelContent_UserChannels:Lo,"Main_values.Main_BeforeChannel":Ac.Main_BeforeChannel}}function ps(){Ac.Main_selectedChannel_id=Ac.Main_selectedChannel_id,Ac.Main_selectedChannelLogo=Ac.Main_selectedChannelLogo,Ac.Main_selectedChannel=Ac.Main_selectedChannel,Ac.Main_selectedChannelDisplayname=Ac.Main_selectedChannelDisplayname,Lo=Ho.ChannelContent_UserChannels,Ac.Main_BeforeChannel=Ac.Main_BeforeChannel,Fo=!(Ho={})}function vs(e){if(!i_&&!Gu())switch(Ou(),e.keyCode){case zi:Zr()?Qr():Yr()?Xr():(fs(),o_(vs)),sA();break;case Vi:Co?Ao||(fs(),--Co<0&&(Co=To?1:2),_s()):(fs(),lA(vs,!0));break;case Hi:Ao||(fs(),(To?1:2)<++Co&&(Co=0),_s());break;case Ji:Ao?(fs(),Ao=0,_s()):(fs(),o_(vs));break;case Fi:Ao||(fs(),Ao=1,_s());break;case Ni:case Ri:case Di:case qi:hs()}}var gs=0,ys=0,bs=!1,ws=0,ks={},As=[],Cs=!1,Es=0,Ms=5,Is=3500,Ss=0,xs=0,Ps=0,Ts=!1,Ls=!1,Bs="",Os=!1,Gs=["cv_thumbdiv","cv_img","cv_infodiv","cv_title","cv_streamon","cv_duration","cv_viwers","cv_quality","cv_cell","cvempty_","channel_vod_scroll","cv_game"],Us=!1,Rs=!1,Ns="",Ds="",Vs="",Js="",Hs=0;function Fs(){Ac.Main_CenterLablesVectorPos=1,Ac.Main_Go=uc,!Ac.Search_isSearching&&Ac.Main_selectedChannel_id&&ps(),Ac.Main_selectedChannel!==Ns&&(Us=!1),uu(),Ar("label_side_panel","icon-arrow-circle-left",I),Pr("top_bar_user",Ac.Main_selectedChannelDisplayname),document.body.addEventListener("keydown",ad,!1),Us?(bu(gs),Pr("top_bar_game",Rs?G:O),Er(Gs[10]),ed(),du()):zs()}function qs(){Us&&td(),ru(),document.body.removeEventListener("keydown",ad),Cr(Gs[10]),qr()}function zs(){Us&&td(),pu("stream_table_channel_vod"),Cr(Gs[10]),Pr("top_bar_game",Rs?G:O),Lr(),qr(),Ns=Ac.Main_selectedChannel,Os=Us=!1,i_=!(Ls=!(As=[])),gs=ys=ws=xs=Ss=0,bs=!(ks={}),Dr(),Xs(),Ys()}function Xs(){gu(),Cs=!0,Es=0,Is=3500}function Ys(){var e=ws+Ss;e&&xs-1<e&&(e=xs-Jc,bs=!0);var t="https://api.twitch.tv/kraken/channels/"+encodeURIComponent(Ac.Main_selectedChannel_id)+"/videos?limit="+Jc+"&broadcast_type="+(Rs?"highlight":"archive")+"&sort=time&offset="+e;fr&&!ws?y_(t,Is,2,null,Ws,js):b_(t,Is,2,null,Ws,js,!1)}function js(){++Es<Ms?(Is+=500,Ys()):(Cs=!1,ws?(bs=!0,Qs()):(i_=!1,Br(),Fr(P),o_(ad)))}function Ws(e){var t=JSON.parse(e),n=t.videos.length;xs=parseInt(t._total),n<Jc&&(bs=!0);var i=ws;Ts=!(ws+=n);var a=n/Hc;0<n%Hc&&a++;var o,s,d,l,c,r,u,_=0,f=document.getElementById("stream_table_channel_vod");if(!Os){Os=!0,d=document.createElement("tr");var h='<i class="icon-movie-play stream_channel_fallow_icon"></i>'+Pi+Pi+p;(Lc=document.createElement("td")).setAttribute("id",Gs[8]+"y_0"),Lc.className="stream_cell",Lc.innerHTML='<div id="'+Gs[0]+'y_0" class="stream_thumbnail_channel_vod" ><div id="'+Gs[3]+'y_0" class="stream_channel_fallow_game">'+h+"</div></div>",d.appendChild(Lc),d.appendChild(document.createElement("tr")),d.appendChild(document.createElement("tr")),f.appendChild(d)}for(var m=0;m<a;m++){for(s=i/Hc+m,d=document.createElement("tr"),o=0;o<Hc&&_<n;o++,_++)c=(l=t.videos[_])._id,r=-1!==((u=l.preview.template)+"").indexOf("404_processing"),s||o||!r||(r=!1,u=null!==qo?qo:Gi),r||ks[c]?o--:(ks[c]=1,d.appendChild(uI(s,s+"_"+o,[c,l.length,l.channel.broadcaster_language,l.game,l.channel.name,l.increment_view_count_url],[u.replace("{width}x{height}",ir),l.channel.display_name,N+fu(l.created_at),CI.parse(l.title)+pi+Qt+v+l.game,Kr(l.views)+V,$r(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.channel.broadcaster_language),D+Jm(l.length),l.animated_preview_url],Gs)));for(;o<Hc;o++)bs&&!Ls&&(Ls=!0,ws=s*Hc+o),d.appendChild(Au(Gs[9]+s+"_"+o)),As.push(Gs[9]+s+"_"+o);f.appendChild(d)}Qs()}function Qs(){if(Us?(ed(!0),vu(null!==qo?qo:Gi)):(Ts?(o_(ad),Fr(T+(Rs?G:O)+L+M)):(Us=!0,vu(null!==qo?qo:Gi),ed(),du()),Er(Gs[10]),i_=!1,Br()),0<As.length&&!bs)return Xs(),void Zs();Cs=!(As=[])}function Zs(){Hr(As.length);var e=ws+Ss;e&&xs-1<e&&(e=xs-Qc,bs=!0),v_("https://api.twitch.tv/kraken/channels/"+encodeURIComponent(Ac.Main_selectedChannel_id)+"/videos?limit="+Qc+"&broadcast_type="+(Rs?"highlight":"archive")+"&sort=time&offset="+e,Is,2,null,$s,Ks)}function Ks(){++Es<Ms?(Is+=500,Zs()):(bs=!0,ws-=As.length,As=[],Qs())}function $s(e){var t,n,i=JSON.parse(e),a=i.videos.length,o=0,s=0,d=[];for(xs=parseInt(i._total);o<As.length&&s<a;o++,s++)n=(t=i.videos[s])._id,-1!==(t.preview.template+"").indexOf("404_processing")||ks[n]?o--:(ks[n]=1,fI(As[o],[n,t.length,t.channel.broadcaster_language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",ir),t.channel.display_name,N+fu(t.created_at),CI.parse(t.title)+pi+Qt+v+t.game,Kr(t.views)+V,$r(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.channel.broadcaster_language),D+Jm(t.length),t.animated_preview_url],Gs),d.push(o));for(o=d.length-1;-1<o;o--)As.splice(d[o],1);Ss+=s,bs&&(ws-=As.length,As=[]),Qs()}function ed(e){gs<0?nd():(Ru(gs,ys,Gs,Hc,ws,e),mI(Gs,gs+"_"+ys),ws/Hc<gs+Fc&&!bs&&!Cs&&(Xs(),Ys()),Mc&&td())}function td(){window.clearInterval(cI),-1<gs&&ws?(Er(Gs[1]+gs+"_"+ys),Xu(gs+"_"+ys,Gs)):id()}function nd(){Ir(Gs[0]+"y_0",or)}function id(){Sr(Gs[0]+"y_0",or)}function ad(e){var t;if(!i_&&!Gu())switch(Ou(),e.keyCode){case zi:Zr()?Qr():Yr()?Xr():(td(),o_(ad)),sA();break;case Vi:if(ys){if(tu(gs,ys-1,Gs[0]))td(),ys--,ed();else for(t=Hc-1;-1<t;t--)if(tu(gs-1,t,Gs[0])){td(),gs--,ys=t,ed();break}}else td(),lA(ad,!0);break;case Hi:tu(gs,ys+1,Gs[0])?(td(),ys++,ed()):tu(gs+1,0,Gs[0])&&(td(),gs++,ys=0,ed());break;case Ji:if(-1===gs)td(),gs=0,o_(ad);else if(gs){for(t=0;t<Hc;t++)if(tu(gs-1,ys-t,Gs[0])){td(),gs--,ys-=t,ed();break}}else td(),gs=-1,nd();break;case Fi:if(-1!==gs||Ts){for(t=0;t<Hc;t++)if(tu(gs+1,ys-t,Gs[0])){td(),gs++,ys-=t,ed();break}}else gs=0,id(),ed();break;case Ni:case Ri:case Di:case qi:-1===gs?(u_("ChannelVod_highlight",(Rs=!Rs)?"true":"false"),zs()):Fu(gs+"_"+ys,Gs,ad)}}var od,sd,dd,ld,cd,rd,ud=0,_d=10,fd=!1,hd=0,md=null,pd=!1,vd=0,gd={bbtv:{},ffz:{}},yd={};function bd(){qd(),Ac.Play_ChatForceDisable?(Qd||ul(),pd=!1,Wu(function(){hd=(new Date).getTime(),cd=Ac.Play_selectedChannel_id,rd=Ac.Play_selectedChannel,wd(hd,Cd)})):Dl()}function wd(e,t){ud=0,kd(e,t)}function kd(e,t){var n="https://badges.twitch.tv/v1/badges/channels/"+cd+"/display",i=new XMLHttpRequest;i.open("GET",n,!0),i.timeout=1e4,i.ontimeout=function(){},i.onreadystatechange=function(){if(4===i.readyState){if(200===i.status)return void t(i.responseText,e);Ad(e,t)}},i.send(null)}function Ad(e,t){++ud<_d?kd(e,t):sd=window.setTimeout(function(){kd(e,t)},500)}function Cd(e,t){Al(e),Ed(),xd(),hd===t&&Gd()}function Ed(){gd.bbtv[cd]||(ud=0,Md())}function Md(){var e="https://api.betterttv.net/2/channels/"+encodeURIComponent(rd),t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=1e4,t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?Sd(t.responseText):404===t.status?gd.bbtv[cd]=1:Id())},t.send(null)}function Id(){++ud<_d&&Md()}function Sd(e){Bd(JSON.parse(e)),gd.bbtv[cd]=1}function xd(){gd.ffz[cd]||(ud=0,Pd())}function Pd(){var e="https://api.frankerfacez.com/v1/room/"+encodeURIComponent(rd),t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=1e4,t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?Ld(t.responseText):404===t.status?gd.ffz[cd]=1:Td())},t.send(null)}function Td(){++ud<_d&&Pd()}function Ld(e){Od(JSON.parse(e)),gd.ffz[cd]=1}function Bd(t){t.emotes.forEach(function(e){yd[e.code]={code:e.code,id:e.id,"3x":"https:"+t.urlTemplate.replace("{{id}}",e.id).replace("{{image}}","3x")}})}function Od(t){Object.keys(t.sets).forEach(function(e){((e=t.sets[e]).emoticons||Array.isArray(e.emoticons))&&e.emoticons.forEach(function(e){e.name&&e.id&&"string"==typeof e.name&&"number"==typeof e.id&&(yd[e.name]||e.urls&&"object"==typeof e.urls&&"string"==typeof e.urls[1]&&(e.urls[2]&&"string"!=typeof e.urls[2]||(yd[e.name]={code:e.name,id:e.id,"3x":"https:"+(e.urls[4]||e.urls[2]||e.urls[1].replace(/1$/,"2"))})))})})}function Gd(){Nd(),Ud()}function Ud(){(md=new ReconnectingWebSocket("wss://irc-ws.chat.twitch.tv","irc",{reconnectInterval:3e3})).onopen=function(){md.send("PASS blah\r\n"),md.send("NICK justinfan12345\r\n"),md.send("CAP REQ :twitch.tv/commands twitch.tv/tags\r\n"),md.send("JOIN #"+rd+"\r\n")},md.onclose=function(){fd=!0},md.onmessage=function(e){var t=window.parseIRC(e.data.trim());if(t.command)switch(t.command){case"PING":md.send("PONG "+t.params[0]);break;case"JOIN":pd=!0,Jd('&nbsp;<span class="message">'+pi+bn+Ac.Play_selectedChannelDisplayname+" "+f+"</span>");break;case"PRIVMSG":Dd(t)}},dd=window.setTimeout(Rd,5e3)}function Rd(){pd?ld=window.setInterval(Hd,1e3):(md.close(1e3),Gd())}function Nd(){window.clearTimeout(dd)}function Dd(e){var t="",n=e.tags;if(n.hasOwnProperty("badges")&&"string"==typeof n.badges&&n.badges.split(",").forEach(function(e){e=e.split("/"),t+='<span class="'+e[0]+"-"+e[1]+' tag"></span>'}),n.hasOwnProperty("display-name")){var i=n["display-name"];"string"==typeof i&&(t+='<span class="nick" style="color: #'+al[i.charCodeAt(0)%ol]+';">'+i+"</span>&#58;&nbsp;")}var a=e.params[1];/^\x01ACTION.*\x01$/.test(a)&&(a=a.replace(/^\x01ACTION/,"").replace(/\x01$/,"").trim());var o={};n.hasOwnProperty("emotes")&&"string"==typeof n.emotes&&(n.emotes=n.emotes.split("/"),n.emotes.forEach(function(t){t=t.split(":"),o[t[0]]||(o[t[0]]=[]),t[1].split(",").forEach(function(e){e=e.split("-"),o[t[0]].push([parseInt(e[0]),parseInt(e[1])])})})),Jd(t+='<span class="message">'+Vd(wI(a,o))+"</span>")}function Vd(e){for(var t=0;t<e.length;t++)"string"==typeof e[t]?e[t]=bI(e[t]):e[t]=e[t][0];return CI.parse(e.join(" "),!0,!0)}function Jd(e){var t=document.createElement("div");t.className="chat_line",t.innerHTML=e,jd.appendChild(t),Hd(),100<++vd&&(vd=0,Jl())}function Hd(){jd.scrollTop=jd.scrollHeight}function Fd(){Nd(),window.clearTimeout(sd),window.clearTimeout(od),window.clearInterval(ld)}function qd(){Fd(),md&&md.close(1e3),hd=0,pu("chat_box"),pd=fd=!1}var zd,Xd,Yd,jd,Wd,Qd=!1,Zd=0,Kd=[],$d=[],el=10,tl=null,nl=0,il="",al=["fe2424","fc5a24","ff9020","fEc723","ffff1d","bfff00","c3ff12","56fe1d","1eff1e","16ff51","00ff80","00ffbf","00ffff","1dc6ff","158aff","3367ff","ff4dff","ff4ad2","ff62b1","ff4272"],ol=al.length,sl=0,dl=!1,ll=0;function cl(){jd=document.getElementById("chat_box"),ul()}function rl(){Bl(),fr&&Ac.Play_ChatForceDisable?(Qd||ul(),Wu(function(){ll=(new Date).getTime(),cd=Ac.Main_selectedChannel_id,rd=Ac.Main_selectedChannel,wd(ll,Cl)})):Dl()}function ul(){Zd=0,Qd=!(yd={}),_l()}function _l(){b_("https://badges.twitch.tv/v1/badges/global/display",1e4,0,null,hl,fl,!1)}function fl(){++Zd<el?_l():Qd=!1}function hl(e){kI(JSON.parse(e).badge_sets).forEach(function(t){t.versions.forEach(function(e){AI(t.type,e.type,e.image_url_4x,null)})}),ml()}function ml(){Zd=0,pl()}function pl(){b_("https://api.betterttv.net/2/emotes",1e4,0,null,gl,vl,!1)}function vl(){++Zd<el?pl():Qd=!1}function gl(e){Bd(JSON.parse(e)),yl()}function yl(){Zd=0,bl()}function bl(){b_("https://api.frankerfacez.com/v1/set/global",1e4,0,null,kl,wl,!1)}function wl(){++Zd<el?bl():Qd=!1}function kl(e){Od(JSON.parse(e)),Qd=!0}function Al(e){kI(JSON.parse(e).badge_sets).forEach(function(t){t.versions.forEach(function(e){AI(t.type,e.type,e.image_url_4x,jd)})})}function Cl(e,t){Al(e),Ed(),xd(),ll===t&&El(t)}function El(e){Zd=0,ll===e&&Ml(e)}function Ml(e){var t="https://api.twitch.tv/v5/videos/"+Ac.ChannelVod_vodId+"/comments?client_id="+Zc+(nl?"&content_offset_seconds="+parseInt(nl):""),n=new XMLHttpRequest;n.open("GET",t,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){if(4===n.readyState){if(200===n.status)return void(ll===e&&Sl(n.responseText,e));ll===e&&Il(e)}},n.send(null)}function Il(e){Zd++,ll===e&&(Zd<el?Ml(e):Xd=window.setTimeout(function(){Ml(e)},2500))}function Sl(e,t){e=JSON.parse(e);var n,i,a=null===tl;a&&(n="&nbsp;",n+='<span class="message">',n+=pi+bn+Ac.Main_selectedChannelDisplayname+" "+il,xl(n+="</span>",0)),nl=0,tl=e._next,e.comments.forEach(function(e){n="",(i=e.message).hasOwnProperty("user_badges")&&i.user_badges.forEach(function(e){n+='<span class="'+e._id+"-"+e.version+' tag"></span>'}),n+='<span class="nick" style="color: #'+al[e.commenter.display_name.charCodeAt(0)%ol]+';">'+e.commenter.display_name+"</span>&#58;&nbsp;",n+='<span class="message">',i.fragments.forEach(function(e){e.hasOwnProperty("emoticon")?n+='<img class="emoticon" src="https://static-cdn.jtvnw.net/emoticons/v1/'+e.emoticon.emoticon_id+'/1.0" srcset="https://static-cdn.jtvnw.net/emoticons/v1/'+e.emoticon.emoticon_id+"/2.0 2x, https://static-cdn.jtvnw.net/emoticons/v1/"+e.emoticon.emoticon_id+'/3.0 4x">':n+=Vd([e.text])}),n+="</span>",a?xl(n,e.content_offset_seconds):void 0!==tl&&Pl(n,e.content_offset_seconds)}),a&&ll===t&&(Tl(t),void 0!==tl&&Gl(t))}function xl(e,t){Kd.push({time:t,message:e})}function Pl(e,t){$d.push({time:t,message:e})}function Tl(e){dl||ll!==e||(zd=window.setInterval(function(){Ol(e),jd.scrollTop=jd.scrollHeight},1e3))}function Ll(){dl||(window.clearTimeout(Wd),window.clearTimeout(Xd),window.clearTimeout(Yd),window.clearInterval(zd))}function Bl(){Ll(),ll=0,pu("chat_box"),dl=!1,tl=null,Kd=[],$d=[],sl=0}function Ol(e){var t;if(sl<Kd.length-1)for(var n=sl;n<Kd.length&&Kd[n].time<Hs+Android.gettime()/1e3;n++,sl++)(t=document.createElement("div")).className="chat_line",t.innerHTML=Kd[n].message,jd.appendChild(t);else if(Ll(),void 0!==tl)Kd=$d.slice(),sl=0,Tl(e),$d=[],ll===e&&Gl(e),Jl();else{var i="&nbsp;";i+='<span class="message">',i+=pi+pi+Cn+pi+pi,i+="</span>",(t=document.createElement("div")).className="chat_line",t.innerHTML=i,jd.appendChild(t),dl=!0,jd.scrollTop=jd.scrollHeight,window.clearInterval(zd),zd=window.setInterval(function(){jd.scrollTop=jd.scrollHeight},1e3)}}function Gl(e){Zd=0,dl||ll!==e||Ul(e)}function Ul(e){var t="https://api.twitch.tv/v5/videos/"+Ac.ChannelVod_vodId+"/comments?client_id="+Zc+(null!==tl?"&cursor="+tl:""),n=new XMLHttpRequest;n.open("GET",t,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){if(4===n.readyState){if(200===n.status)return void(dl||ll!==e||Sl(n.responseText,e));dl||ll!==e||Rl(e)}},n.send(null)}function Rl(e){Zd++,ll===e&&(Zd<el?Ul(e):Yd=window.setTimeout(function(){Ul(e)},2500))}function Nl(){Bl(),Vl(ln+pi+cn)}function Dl(){Bl(),Vl($n)}function Vl(e){var t="&nbsp;";t+='<span class="message">',t+=pi+pi+pi+pi+pi+pi+pi+pi+pi+pi,t+=e,t+="</span>";var n=document.createElement("div");n.className="chat_line",n.innerHTML=t,jd.appendChild(n)}function Jl(){var e=document.getElementsByClassName("chat_line");if(0<e.length-100)for(var t=0;t<e.length-100;t++)e[0].parentNode.removeChild(e[0]);Hd()}var Hl,Fl,ql,zl,Xl,Yl,jl,Wl=!0,Ql=!1,Zl=!1,Kl=-1,$l=new Image,ec=1,tc=2,nc=3,ic=4,ac=5,oc=6,sc=7,dc=8,lc=9,cc=10,rc=11,uc=12,_c=13,fc=14,hc=15,mc=16,pc=17,vc=18,gc=19,yc=20,bc=21,wc=22,kc="",Ac={Main_Go:1,Main_Before:1,Main_BeforeSearch:1,Main_BeforeChannel:1,Main_BeforeAgame:nc,Main_BeforeChannelisSet:!1,Main_BeforeAgameisSet:!1,Main_selectedChannel:"",Main_selectedChannelDisplayname:"",Main_selectedChannelLogo:"",Main_selectedChannel_id:"",Main_gameSelected:"",Main_OldgameSelected:null,Play_isHost:!1,Play_DisplaynameHost:"",Play_selectedChannelDisplayname:"",Play_selectedChannel:"",Play_gameSelected:"",Users_Position:0,Users_AddcodePosition:0,Play_WasPlaying:0,ChannelVod_vodId:"",vodOffset:0,Search_data:"",isLastSChannels:!1,gameSelectedOld:"",Games_return:!1,Search_isSearching:!1,Play_ChatForceDisable:!1,Never_run:!0,Main_CenterLablesVectorPos:0},Cc=!0,Ec=!0,Mc=!1,Ic=[],Sc=0,xc=0,Pc=null,Tc=!0,Lc="",Bc=!1,Oc="",Gc=["label_side_panel","label_refresh","top_bar_live","top_bar_user","top_bar_featured","top_bar_game","top_bar_vod","top_bar_clip"],Uc=[],Rc=0,Nc=!0,Dc=1.35,Vc=1.5,Jc=45,Hc=3,Fc=Math.floor(Jc/Hc/Vc),qc=45,zc=5,Xc=Math.floor(qc/zc/Dc),Yc=48,jc=6,Wc=Math.floor(Yc/jc/Vc),Qc=6,Zc="5seja5ptej058mxqy7gh5tcudjqtm9",Kc="Client-ID",$c="Accept",er="Authorization",tr="OAuth ",nr="application/vnd.twitchtv.v5+json",ir="528x297",ar="340x475",or="stream_thumbnail_focused",sr="data_attribute",dr="1.0",lr=".21",cr="053019",rr=dr+lr+"-"+cr,ur="",_r=0,fr=0,hr="?"+Math.random(),mr="https://cors-anywhere.herokuapp.com/",pr=function(e,t,n){e.onerror=function(){this.onerror=null,this.src=n},e.src=t};function vr(){(Zl=h_("Main_isDebug",!1))&&Wl?gr():"loading"===document.readyState?document.addEventListener("DOMContentLoaded",function(){yr(window.navigator.userLanguage||window.navigator.language)}):yr(window.navigator.userLanguage||window.navigator.language)}function gr(){console.log("Debug mod start");var e=document.createElement("script");e.src="https://fgl27.github.io/SmartTwitchTV/release/githubio/js/masterdebug.js",document.head.appendChild(e)}function yr(e){Yu(),Wu(function(){try{fr=Android.getAndroid(),ur=Android.getversion()}catch(e){ur="1.0.0",fr=0,document.body.style.backgroundColor="rgba(0, 0, 0, 1)",Ql=Zl=!0,console.log("Main_isReleased: "+Wl),console.log("Main_isDebug: "+Zl),console.log("Main_isBrowser: "+Ql)}fr&&(document.body.addEventListener("keydown",A_,!1),document.body.addEventListener("keyup",C_,!1)),pk(),Li(),Vk(),console.log("language is "+e),Ti(),-1!==window.location.href.indexOf("code")&&p_(window.location.href),br()})}function br(){Qg(),wr(!0),Hl=document.getElementById("scrollbar"),lu(),kc=Ac.Main_Go,Wu(function(){cl(),dm(),ho(),mo()&&(jl=window.setInterval($u,6e5)),document.body.addEventListener("keyup",Lu,!1),Zg(),document.getElementById("side_panel").style.marginLeft="",hu(),kr(),Rs=h_("ChannelVod_highlight",!1),HM=h_("UserVod_highlight",!1),NM=__("UserVod_TypeNumber",1),Ng(),Fl=document.getElementById("search_input"),ql=document.getElementById("user_input"),ku(Gi),ku(Bi),ku(Oi),document.addEventListener("visibilitychange",Zu,!1),Xl=window.setInterval(Ku,6e4),Wg=Uy,ey(),zl=window.setTimeout(iu,5e3),Er("topbar"),document.getElementById("scenefeed").style.display="block"})}function wr(e){Ku(),Ar("label_refresh","icon-refresh",t+":"+Yt),xr("label_update",'<div class="strokedextramini" style="vertical-align: middle; display: inline-block;"><i class="icon-arrow-up" style="color: #FF0000; font-size: 115%; "></i></div><div class="strokedextramini" style="vertical-align: middle; display: inline-block; color: #FF0000">'+Pi+_t+"</div>"),Ar("label_side_panel","icon-ellipsis",Rn),Ar("icon_feed_refresh","icon-refresh",t+":"+_i),Pr("top_bar_live",f),Pr("top_bar_user",e?_:i),Pr("top_bar_featured",an),Pr("top_bar_game",h),Pr("top_bar_vod",Kt),Pr("top_bar_clip",U),xr("scene2_search_text",Pi+n),xr("scene2_channel_text",Pi+Ut),xr("scene2_game_text",Pi+Jt),Pr("dialog_end_next_text",si),Pr("dialog_end_replay_text",en),Pr("dialog_end_vod_text",sn),Pr("dialog_end_channel_text",Ut),Pr("dialog_end_game_text",Jt),xr("dialog_about_text",Mi+Ii),Uc=[de,le,ce,re],e?rk():(mk(),hu())}function kr(){Pr("play_dialog_exit_text",H),Pr("side_panel_search",n),Pr("side_panel_settings",i),Pr("side_panel_about",a),Pr("side_panel_controls",e),Pr("side_panel_exit",q),Pr("side_panel_feed_settings",ui),Pr("side_panel_feed_refresh",t),Pr("side_panel_live",f),Pr("side_panel_user",_),Pr("side_panel_featured",an),Pr("side_panel_games",h),Pr("side_panel_videos",Kt),Pr("side_panel_clips",U),Pr("side_panel_hide",o),Pr("side_panel_back",fi),Pr("chanel_button",E),Pr("game_button",h),Pr("live_button",f),Pr("exit_app_cancel",Y),Pr("exit_app_close",z),Pr("remove_cancel",Y),Pr("remove_yes",Ht),Pr("exit_app_minimize",X),Pr("main_dialog_exit_text",F),xr("dialog_controls_text",Ei),Pr("dialog_vod_text",wn),xr("dialog_vod_start_text",An)}function Ar(e,t,n){xr(e,'<div class="strokedextramini" style="vertical-align: middle; display: inline-block;"><i class="'+t+'" style="color: #FFFFFF; font-size: 115%; "></i></div><div class="strokedextramini" style="vertical-align: middle; display: inline-block">'+Pi+n+"</div>")}function Cr(e){document.getElementById(e).classList.add("hide")}function Er(e){document.getElementById(e).classList.remove("hide")}function Mr(e){return-1===document.getElementById(e).className.indexOf("hide")}function Ir(e,t){document.getElementById(e).classList.add(t)}function Sr(e,t){document.getElementById(e).classList.remove(t)}function xr(e,t){document.getElementById(e).innerHTML=t}function Pr(e,t){document.getElementById(e).textContent=t}function Tr(e){var t=document.getElementById(e).getElementsByClassName("emoji");if(t){for(var n=0;n<t.length;n++)t[n].classList.add("emoticon");for(t=document.getElementById(e).getElementsByClassName("emoticon"),n=0;n<t.length;n++)t[n].classList.remove("emoji")}}function Lr(){bu(-1),fr?Android.mshowLoading(!0):Er("dialog_loading")}function Br(){fr?Android.mshowLoading(!1):Cr("dialog_loading")}function Or(){window.clearTimeout(Pc)}function Gr(){Pc=window.setTimeout(Rr,6e3)}function Ur(){Gr(),Er("main_dialog_exit"),document.body.addEventListener("keydown",e_,!1)}function Rr(){document.body.removeEventListener("keydown",e_,!1),Kk?(Kk=!1,su()):o_(Zk),Or(),Cr("main_dialog_exit"),xc=0,Nr()}function Nr(){Sr("exit_app_cancel","button_search_focused"),Sr("exit_app_minimize","button_search_focused"),Sr("exit_app_close","button_search_focused"),Ir(xc?1===xc?"exit_app_minimize":"exit_app_close":"exit_app_cancel","button_search_focused")}function Dr(){pu("dialog_counter_text"),Jr(0,0,0)}function Vr(e,t,n,i){0<i?(Pr("dialog_counter_text",t*n+(e+1)+"/"+i),Jr(t,n,i)):Dr()}function Jr(e,t,n){var i=screen.height/100*7;if(3===t&&9<n||5===t&&10<n||6===t&&12<n){var a=Ac.Main_Go===ic||Ac.Main_Go===gc||Ac.Main_Go===yc||Ac.Main_Go===uc||Ac.Main_Go===wc||Ac.Main_Go===pc||Ac.Main_Go===vc||Ac.Main_Go===_c,o=Math.ceil((screen.height-3*i)/(Math.ceil(n/t)-1)*e+i*(a?1.8:1));Hl.style.top=o+"px",Tc&&(Tc=!1,Hl.style.backgroundColor="#777777")}else Hl.style.backgroundColor="#000000",Hl.style.top=i+"px",Tc=!0}function Hr(e){(Qc=12)/3<e&&(Qc=3*e),99<Qc&&(Qc=99)}function Fr(e){Pr("dialog_warning_text",e),Er("dialog_warning")}function qr(){Cr("dialog_warning")}function zr(){Qr(),Er("dialog_about")}function Xr(){Cr("dialog_about")}function Yr(){return Mr("dialog_about")}function jr(){Qr(),qr(),cu(Ac.Main_Go),Dr(),lk()}function Wr(){Xr(),Er("dialog_controls")}function Qr(){Cr("dialog_controls")}function Zr(){return Mr("dialog_controls")}function Kr(e){return(e+"").replace(/\B(?=(\d{3})+(?!\d))/g,",")}function $r(e,t,n){return(e+="").indexOf("x")||(e=e.slice(-3)),e+"p"+(t=58<t?60:t<32?30:Math.ceil(t))+(""!==n?" ["+n.toUpperCase()+"]":"")}function eu(e){return-1!==e.indexOf("live")?"":j}function tu(e,t,n){return null!==document.getElementById(n+e+"_"+t)}function nu(){Ku(),ou(),document.body.addEventListener("keyup",Lu,!1)}function iu(){for(var e,t=0;t<Gc.length;t++)t<2?document.getElementById(Gc[t]).style.opacity="0.5":-1===(e=document.getElementById(Gc[t])).className.indexOf("icon_center_focus")&&(e.style.opacity="0.5");Ir("topbar","topbar_dim")}function au(){for(var e=0;e<Gc.length;e++)document.getElementById(Gc[e]).style.opacity="1";Sr("topbar","topbar_dim")}function ou(e){window.clearTimeout(zl),au(),Wu(function(){su(e)})}function su(e){qr(),Ac.Main_Go!==rc&&(Ac.Main_BeforeChannelisSet=!1),Ac.Main_Go!==ic&&(Ac.Main_BeforeAgameisSet=!1),Dr(),Ac.Main_Go===ec?(Wg=Uy,ey()):Ac.Main_Go===tc?no():Ac.Main_Go===nc?(Wg=Oy,ey()):Ac.Main_Go===ic?(Wg=Ny,ey()):Ac.Main_Go===dc?vw():Ac.Main_Go===lc?nw():Ac.Main_Go===cc?Fw():Ac.Main_Go===rc?Xo():Ac.Main_Go===uc?Fs():Ac.Main_Go===_c?(Wg=Ly,ey()):Ac.Main_Go===fc?sM():Ac.Main_Go===ac?BE():Ac.Main_Go===oc?uC():Ac.Main_Go===sc?(Wg=Gy,ey()):Ac.Main_Go===hc?BA():Ac.Main_Go===mc?Sb():Ac.Main_Go===pc?(Wg=Dy,ey()):Ac.Main_Go===vc?(Wg=Ty,ey()):Ac.Main_Go===gc?(Wg=Vy,ey()):Ac.Main_Go===yc?(Wg=By,ey()):Ac.Main_Go===bc?(Wg=Ry,ey()):Ac.Main_Go===wc&&FM(),zl=window.setTimeout(iu,3e3),e&&c_()}function du(){u_("Main_values",JSON.stringify(Ac))}function lu(){Ac=$g(Ac,f_("Main_values",{}))}function cu(e){e===ec?ty():e===tc?io():e===nc?ty():e===ic?ty():e===dc?gw():e===lc?iw():e===cc?qw():e===rc?Yo():e===uc?qs():e===_c?ty():e===fc?dM():e===ac?OE():e===oc?_C():e===sc?ty():e===hc?OA():e===mc?xb():e===pc?ty():e===vc?ty():e===gc?ty():e===yc?ty():e===bc?ty():e===wc&&qM(),Mr("settings_scroll")&&ck()}function ru(){Ar("label_refresh","icon-refresh",t+":"+Yt),Ar("label_side_panel","icon-ellipsis",Rn),Sr("top_bar_user","icon_center_focus"),Pr("top_bar_live",f),Pr("top_bar_user",_),Pr("top_bar_featured",an),Pr("top_bar_game",h),Pr("top_bar_vod",Kt),Pr("top_bar_clip",U)}function uu(){Ar("label_side_panel","icon-arrow-circle-left",I),pu("top_bar_live"),pu("top_bar_game"),pu("top_bar_vod"),pu("top_bar_clip"),pu("top_bar_featured"),Ir("top_bar_user","icon_center_focus")}function _u(e){return'<div style="font-size: 30%; position: fixed; line-height: 0; text-shadow: #000000 0 0 5.7px, #000000 0 0 5.7px, #000000 0 0 4px">'+e+"</div>"}function fu(e){return e=new Date(e),Bc?e.getDate()+" "+jt[e.getMonth()]+" "+e.getFullYear():jt[e.getMonth()]+" "+e.getDate()+" "+e.getFullYear()}function hu(){fr&&(rr="Android: "+ur+" Web: "+cr,mu(ur)&&Er("label_update")),xr("dialog_about_text",Mi+ye+rr+Ii)}function mu(e){return e=e.split("."),parseFloat(e[0]+"."+e[1])<parseFloat(dr)||parseInt(e[2])<parseInt(lr.split(".")[1])}function pu(e){for(e=document.getElementById(e);e.firstChild;)e.removeChild(e.firstChild)}function vu(e){for(var t,n=0;n<Ic.length;n++)null!==(t=document.getElementById(Ic[n].id))&&pr(t,Ic[n].src+hr,e)}function gu(){Ic=[]}function yu(e,t){Ic.push({id:e,src:t})}function bu(e){Kl=e}function wu(e){var t=0;return Kl<e?t=-1:e<Kl&&(t=1),Kl=e,t}function ku(e){$l.src=e}function Au(e){return(Lc=document.createElement("td")).setAttribute("id",e),Lc.className="stream_cell",Lc}function Cu(e,t,n){return(Lc=document.createElement("td")).setAttribute("id",t[4]+e),Lc.setAttribute(sr,n[0]),Lc.setAttribute("data-id",n[1]),Lc.className="stream_cell",Lc.innerHTML=Mu(e,t,n),Lc}function Eu(e,t,n){var i=document.getElementById(e),a=e.split(n[5])[1];i.setAttribute(sr,t[0]),i.setAttribute("data-id",t[1]),i.innerHTML=Mu(a,n,t),i.setAttribute("id",n[4]+a)}function Mu(e,t,n){return yu(t[1]+e,n[2]),'<div id="'+t[0]+e+'" class="stream_thumbnail_channel" ><img id="'+t[1]+e+'" class="stream_img"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel">'+n[3]+"</div></div>"}function Iu(e,t,n,i,a){return e<Hc&&ku(a[0]),(Lc=document.createElement("td")).setAttribute("id",i[8]+t),Lc.setAttribute(sr,JSON.stringify(n)),Lc.className="stream_cell",Lc.innerHTML=xu(t,i,a),Lc}function Su(e,t,n,i){var a=document.getElementById(e),o=e.split(i[9])[1];a.setAttribute(sr,JSON.stringify(t)),a.innerHTML=xu(o,i,n),a.setAttribute("id",i[8]+o)}function xu(e,t,n){return yu(t[1]+e,n[0]),'<div id="'+t[0]+e+'" class="stream_thumbnail_video" ><img id="'+t[1]+e+'" class="stream_img"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;">'+n[1]+'</div><div id="'+t[7]+e+'"class="stream_info" style="width:33%; float: right; text-align: right; display: inline-block;">'+n[5]+'</div><div id="'+t[4]+e+'"class="stream_info">'+CI.parse(n[2])+'</div><div id="'+t[5]+e+'"class="stream_info">'+v+n[3]+'</div><div id="'+t[6]+e+'"class="stream_info">'+n[4]+"</div></div>"}function Pu(e,t,n){return(Lc=document.createElement("td")).setAttribute("id",t[5]+e),Lc.setAttribute(sr,n[0]),Lc.className="stream_cell",Lc.innerHTML=Tu(e,t,n),Lc}function Tu(e,t,n){return yu(t[1]+e,n[1]),'<div id="'+t[0]+e+'" class="stream_thumbnail_game" ><img id="'+t[1]+e+'" class="stream_img"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel">'+n[0]+'</div><div id="'+t[4]+e+'"class="stream_info" style="width: 100%; display: inline-block;">'+n[2]+"</div></div>"}function Lu(){Ec=!0}function Bu(){Cc=!0}function Ou(){Cc=!1,window.setTimeout(Bu)}function Gu(){return!Cc||!Ec}function Uu(e,t,n,i,a,o){Ir(n[0]+e+"_"+t,or),Vr(t,e,i,a),wu(e)||o?1<e?tu(e+1,0,n[0])?zu(n[6],-1*document.getElementById(n[4]+e+"_"+t).offsetTop+.42*screen.height):Lu():zu(n[6],.07*screen.height):Lu()}function Ru(e,t,n,i,a,o){Ir(n[0]+e+"_"+t,or),Vr(t,e,i,a),wu(e)||o?e?tu(e+1,0,n[0])&&zu(n[10],-1*document.getElementById(n[8]+(e-1)+"_"+t).offsetTop):zu(n[10],.07*screen.height):Lu()}function Nu(e,t,n,i,a){Ir(n[0]+e+"_"+t,or),Vr(t,e,i,a),wu(e)?zu(n[10]?n[10]:n[7],e?-1*document.getElementById(n[5]+(e-1)+"_"+t).offsetTop+.025*screen.height:-1*document.getElementById(n[5]+e+"_"+t).offsetTop+.025*screen.height):Lu()}function Du(e,t){return null===document.getElementById(t+e)}function Vu(e,t,n){Du(e,t[0])||(document.body.removeEventListener("keydown",n),Ac.Play_selectedChannel=JSON.parse(document.getElementById(t[8]+e).getAttribute(sr)),Ac.Play_selectedChannel_id=Ac.Play_selectedChannel[1],Ac.Play_selectedChannel=Ac.Play_selectedChannel[0],Ac.Play_isHost=Ac.Main_Go===oc&&!em,Ac.Play_isHost?(Ac.Play_DisplaynameHost=document.getElementById(t[3]+e).textContent,Ac.Play_selectedChannelDisplayname=Ac.Play_DisplaynameHost.split(ne)[1]):Ac.Play_selectedChannelDisplayname=document.getElementById(t[3]+e).textContent,Ac.Play_gameSelected=document.getElementById(t[5]+e).textContent.split(v)[1],Ac.Main_Go===ic&&(Ac.Main_OldgameSelected=Ac.Main_gameSelected),Ju())}function Ju(){document.body.addEventListener("keydown",iv,!1),Cr("scene1"),Er("scene2"),rp(),pp(),Bp(),mo()&&!MC&&UC&&rE(),Wu(rm)}function Hu(e,t,n){Du(e,t[0])||(document.body.removeEventListener("keydown",n),zy=JSON.parse(document.getElementById(t[8]+e).getAttribute(sr)),K_=parseInt(zy[1]),Ac.Play_gameSelected=zy[2],Ac.Main_selectedChannel=zy[3],Ac.Main_selectedChannelDisplayname=zy[4],Ac.Main_selectedChannelLogo=zy[5],Ac.Main_selectedChannel_id=zy[6],Ac.ChannelVod_vodId=zy[7],Hs=parseInt(zy[8]),qy=zy[9],Yy=zy[10],Hy=zy[11],zy=zy[0],Xy=document.getElementById(t[4]+e).textContent,Fy=document.getElementById(t[6]+e).textContent,document.body.addEventListener("keydown",Uf,!1),Cr("scene1"),Er("scene2"),pp(),sp(),$m(),np(),mo()&&!MC&&UC&&rE(),Wu(sf))}function Fu(e,t,n){Du(e,t[0])||(document.body.removeEventListener("keydown",n),Ac.ChannelVod_vodId=JSON.parse(document.getElementById(t[8]+e).getAttribute(sr)),Ps=parseInt(Ac.ChannelVod_vodId[1]),Bs=Ac.ChannelVod_vodId[2],Ac.Play_gameSelected=Ac.ChannelVod_vodId[3],Ac.Main_selectedChannel=Ac.ChannelVod_vodId[4],Kh=Ac.ChannelVod_vodId[5],Ac.ChannelVod_vodId=Ac.ChannelVod_vodId[0].substr(1),Ac.Main_selectedChannelDisplayname=document.getElementById(t[3]+e).textContent,Vs=document.getElementById(t[4]+e).textContent,Js=document.getElementById(t[5]+e).textContent,Ds=document.getElementById(t[11]+e).innerHTML+" "+document.getElementById(t[6]+e).textContent,qu())}function qu(){document.body.addEventListener("keydown",jg,!1),Cr("scene1"),Er("scene2"),kg(),pp(),sp(),np(),Jv=!1,mo()&&!MC&&UC&&rE(),Wu(jv)}function zu(e,t){document.getElementById(e).style.top=t+"px",window.setTimeout(Lu,10)}function Xu(e,t){Ec=!1,Sr(t[0]+e,or)}function Yu(){var e=document.createElement("span");e.className="fa",e.style.display="none",document.body.insertBefore(e,document.body.firstChild),"icons"!==window.getComputedStyle(e,null).getPropertyValue("font-family")?(Zl&&console.log("Main_Checktylesheet reloading"),ju("https://fgl27.github.io/SmartTwitchTV/release/githubio/css/icons.min.css")):Zl&&console.log("Main_Checktylesheet loaded OK"),document.body.removeChild(e)}function ju(e){var t=document.createElement("link");t.rel="stylesheet",t.href=e,document.getElementsByTagName("head")[0].appendChild(t)}function Wu(e){"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?window.setTimeout(e):document.addEventListener("DOMContentLoaded",e)}function Qu(){var e=(new Date).getTime()+_r;return e=new Date(e),(Bc?Wt[e.getDay()]+" "+e.getDate()+" "+jt[e.getMonth()]:Wt[e.getDay()]+" "+jt[e.getMonth()]+" "+e.getDate())+" "+Vm(e.getHours())+":"+Vm(e.getMinutes())}function Zu(){document.hidden||(Ku(),window.setTimeout(Ku,2e4))}function Ku(){document.hidden||(Pr("label_clock",Qu()),hr="?"+Math.random())}function $u(){document.hidden||mo()&&window.setTimeout(function(){eE()||MC||($f=Ka[Ac.Users_Position].name,JC())},5e3)}function e_(e){switch(e.keyCode){case zi:Rr();break;case Hi:2<++xc&&(xc=0),Nr(),Or(),Gr();break;case Vi:--xc<0&&(xc=2),Nr(),Or(),Gr();break;case qi:fr&&xc?1===xc?(Rr(),Android.mclose(!1)):2===xc&&Android.mclose(!0):Rr()}}vr();var t_=["top_bar_live","top_bar_user","top_bar_featured","top_bar_game","top_bar_vod","top_bar_clip"],n_=[ec,fc,bc,nc,pc,vc],i_=!1;function a_(e){if(!(i_||Wg.FirstLoad||Gu()))switch(e.keyCode){case zi:Zr()?(d_(),Qr()):Yr()?(d_(),Xr()):Ac.Main_Go===ic?(Ac.Main_OldgameSelected=Ac.Main_gameSelected,Ac.Games_return?(Ac.Main_Go=lc,Ac.Main_gameSelected=Ac.gameSelectedOld):(Ac.Main_Go=Ac.Main_BeforeAgame,Ac.Main_BeforeAgame=ec),ky(Ac.Main_Go),s_(),su()):Ac.Main_Go===yc?(ky(ic),s_(),su()):Ac.Main_Go===sc?(ky(fc),s_(),su()):Ac.Main_Go===_c?(ky(rc),s_(),su()):Ac.Main_Go===gc?(ky(ic),s_(),su()):Ac.Main_Go===ac?(Ac.Main_Go=fc,OE(),s_(),su()):Ac.Main_Go===oc?(Ac.Main_Go=fc,_C(),s_(),su()):Ac.Main_Go===wc?(Ac.Main_Go=fc,qM(),s_(),su()):Ac.Main_Go===hc?(Ac.Main_Go=fc,OA(),s_(),su()):Ac.Main_Go===rc?(Ac.Main_Go=Ac.Main_BeforeChannel,Ac.Main_BeforeChannel=ec,Yo(),Ac.Main_selectedChannel_id="",s_(),su()):Ac.Main_Go===uc?(Ac.Main_Go=rc,qs(),s_(),su()):Ac.Main_Go===cc?(Ac.Main_Go===Ac.Main_BeforeSearch?Ac.Main_Go=ec:Ac.Main_Go=Ac.Main_BeforeSearch,qw(),Ac.Search_isSearching=!1,s_(),su()):Ac.Main_Go===lc?(Ac.Main_Go===Ac.Main_BeforeSearch?Ac.Main_Go=ec:Ac.Main_Go=Ac.Main_BeforeSearch,Ac.Search_isSearching=!1,iw(),s_(),su()):Ac.Main_Go===mc?(Ac.Main_Go===Ac.Main_BeforeSearch?Ac.Main_Go=ec:Ac.Main_Go=Ac.Main_BeforeSearch,Ac.Main_selectedChannel_id&&ps(),xb(),Ac.Search_isSearching=!1,s_(),su()):(s_(),lA(a_));break;case Hi:if(Ac.Search_isSearching||Ac.Main_Go===rc||Ac.Main_Go===uc||Ac.Main_Go===_c||Ac.Main_Go===cc||Ac.Main_Go===lc||Ac.Main_Go===mc)break;Sr(t_[Ac.Main_CenterLablesVectorPos],"icon_center_line"),Ac.Main_CenterLablesVectorPos++,5<Ac.Main_CenterLablesVectorPos&&(Ac.Main_CenterLablesVectorPos=0),d_(),l_();break;case Vi:if(Ac.Search_isSearching||Ac.Main_Go===rc||Ac.Main_Go===uc||Ac.Main_Go===_c||Ac.Main_Go===cc||Ac.Main_Go===lc||Ac.Main_Go===mc)break;Sr(t_[Ac.Main_CenterLablesVectorPos],"icon_center_line"),Ac.Main_CenterLablesVectorPos--,Ac.Main_CenterLablesVectorPos<0&&(Ac.Main_CenterLablesVectorPos=5),d_(),l_();break;case Fi:Sr(t_[Ac.Main_CenterLablesVectorPos],"icon_center_line"),document.body.removeEventListener("keydown",a_),Mc=!1,su();break;case qi:r_()}}function o_(e){window.clearTimeout(zl),au(),document.body.removeEventListener("keydown",e),document.body.removeEventListener("keydown",a_),document.body.addEventListener("keydown",a_,!1),d_()}function s_(){Sr(t_[Ac.Main_CenterLablesVectorPos],"icon_center_line"),document.body.removeEventListener("keydown",a_),Mc=!1}function d_(){Mc=!0,Ir(t_[Ac.Main_CenterLablesVectorPos],"icon_center_line")}function l_(){cu(Ac.Main_Go),Ac.Main_Go=n_[Ac.Main_CenterLablesVectorPos],Ac.Main_Go!==fc||wo()?ou(!0):(Ac.Main_Go=tc,s_(),ou())}function c_(){Ac.Main_Go===ec?(Wg=Uy,document.body.removeEventListener("keydown",Ey)):Ac.Main_Go===fc?document.body.removeEventListener("keydown",kM):Ac.Main_Go===ic?(Wg=Ny,document.body.removeEventListener("keydown",Ey)):Ac.Main_Go===bc?(Wg=Ry,document.body.removeEventListener("keydown",Ey)):Ac.Main_Go===cc?document.body.removeEventListener("keydown",nk):Ac.Main_Go===lc?document.body.removeEventListener("keydown",fw):Ac.Main_Go===mc?document.body.removeEventListener("keydown",Hb):Ac.Main_Go===uc?document.body.removeEventListener("keydown",ad):Ac.Main_Go===rc?document.body.removeEventListener("keydown",vs):Ac.Main_Go===oc?document.body.removeEventListener("keydown",CC):Ac.Main_Go===wc?document.body.removeEventListener("keydown",dI):Ac.Main_Go===hc?document.body.removeEventListener("keydown",YA):Ac.Main_Go===nc?(Wg=Oy,document.body.removeEventListener("keydown",Ey)):Ac.Main_Go===_c?(Wg=Ly,document.body.removeEventListener("keydown",Ey)):Ac.Main_Go===pc?(Wg=Dy,document.body.removeEventListener("keydown",Ey)):Ac.Main_Go===vc?(Wg=Ty,document.body.removeEventListener("keydown",Ey)):Ac.Main_Go===yc?(Wg=By,document.body.removeEventListener("keydown",Ey)):Ac.Main_Go===sc?(Wg=Gy,document.body.removeEventListener("keydown",Ey)):Ac.Main_Go===gc?(Wg=Vy,document.body.removeEventListener("keydown",Ey)):Ac.Main_Go===ac&&document.body.removeEventListener("keydown",ZE)}function r_(){window.clearTimeout(zl),au(),Ac.Main_Go!==rc&&(Ac.Main_BeforeChannelisSet=!1),Ac.Main_Go!==ic&&(Ac.Main_BeforeAgameisSet=!1),Dr(),Ac.Main_Go===ec?(Wg=Uy,ny()):Ac.Main_Go===fc?lM():Ac.Main_Go===bc?(Wg=Ry,ny()):Ac.Main_Go===ic?(Wg=Ny,ny()):Ac.Main_Go===hc?GA():Ac.Main_Go===rc?jo():Ac.Main_Go===uc?zs():Ac.Main_Go===cc?zw():Ac.Main_Go===lc?aw():Ac.Main_Go===mc?Pb():Ac.Main_Go===nc?(Wg=Oy,ny()):Ac.Main_Go===sc?(Wg=Gy).loadingData||Wg.key_refresh():Ac.Main_Go===pc?(Wg=Dy,ny()):Ac.Main_Go===vc?(Wg=Ty,ny()):Ac.Main_Go===yc?(Wg=By,ny()):Ac.Main_Go===_c?(Wg=Ly,ny()):Ac.Main_Go===gc?(Wg=Vy,ny()):Ac.Main_Go===ac?GE():Ac.Main_Go===oc?fC():Ac.Main_Go===wc&&zM(),zl=window.setTimeout(iu,3e3)}function u_(e,t){localStorage.setItem(e,t)}function __(e,t){return parseInt(localStorage.getItem(e))||t}function f_(e,t){return JSON.parse(localStorage.getItem(e))||t}function h_(e,t){var n=t.toString();return(localStorage.getItem(e)||n)===n?t:!t}function m_(e){console.log(e);for(var t=0;t<e.length;t++)console.log("Character is: "+e.charAt(t)+" it's Unicode is: \\u"+e.charCodeAt(t).toString(16).toUpperCase())}function p_(e){console.log("processCode");var t="";t=e.match(/code=(\w+)/),Sc=t?(t=t[1],console.log("if code "+t),t):(console.log("else code "+t),0)}function v_(e,t,n,i,a,o,s){fr?y_(e,t,n,i,a,o):b_(e,t,n,i,a,o,s)}function g_(e,t,n,i,a,o,s,d){fr&&d?y_(e,t,n,i,a,o):b_(e,t,n,i,a,o,s)}function y_(e,t,n,i,a,o){var s=Android.mreadUrl(e,t,n,i);s&&200===(s=JSON.parse(s)).status?a(s.responseText):o()}function b_(e,t,n,i,a,o,s){var d=new XMLHttpRequest;d.open("GET",(s?mr:"")+e,!0),d.timeout=t,0<n&&d.setRequestHeader(Kc,Zc),1<n&&d.setRequestHeader($c,nr),2<n&&d.setRequestHeader(er,i),d.ontimeout=function(){},d.onreadystatechange=function(){if(4===d.readyState){if(200===d.status)return void a(d.responseText);o()}},d.send(null)}function w_(e,t,n,i,a,o,s){fr?k_(e,t,n,i,a,o):b_(e,t,n,i,a,o,s)}function k_(e,t,n,i,a,o){var s=Android.mreadUrl(e,t,n,i,!0);s&&200===(s=JSON.parse(s)).status?a(s.responseText):o()}function k_(e,t,n,i,a,o,s){var d=new XMLHttpRequest;d.open("POST",(s?mr:"")+e,!0),d.timeout=t,0<n&&d.setRequestHeader(Kc,Zc),1<n&&d.setRequestHeader($c,nr),2<n&&d.setRequestHeader(er,i),d.ontimeout=function(){},d.onreadystatechange=function(){if(4===d.readyState){if(200===d.status)return void a(d.responseText);o()}},d.send(null)}function A_(e){e.keyCode===zi&&E_()}function C_(e){e.keyCode===zi&&M_()}function E_(){Yl=window.setTimeout(function(){Android.mclose(!0)},5e3)}function M_(){window.clearTimeout(Yl)}var I_=0,S_=null,x_=0,P_=!1,T_=0,L_=0,B_=!1,O_=0,G_=2e3,U_=5,R_="source",N_=R_,D_=0,V_=[],J_="",H_=!1,F_=0,q_=0,z_=1,X_=!1,Y_=0,j_=!1,W_=!1,Q_=2e3,Z_=[0,5],K_=0,$_=!1,ef=!1,tf=["next_button","back_button"],nf=0,af=!1,of=!0;function sf(){Qm(),Bp(),bm(document.getElementById("stream_info_icon"),Ac.Main_selectedChannelLogo),Pr("stream_info_name",Ac.Main_selectedChannelDisplayname),xr("stream_info_title",qy),xr("stream_info_game",Hy+" "+Fy+" "+Yy),Pr("stream_live_icon",Xy),Pr("progress_bar_duration",Jm(K_)),Og(($h=Z_)[1]),Tr("stream_info_title"),Ac.Play_isHost=!1,Pr("progress_bar_current_time",Jm(0)),Pr("stream_live_time",""),Pr("stream_watching_time",""),X_=null!==Ac.ChannelVod_vodId,il=Gt+".",X_?(nl=Hs,rl()):Nl(),xr("pause_button",'<i class="pause_button3d icon-pause"></i>'),Er("progress_pause_holder"),Of(),Er("scene_channel_panel_bottom"),x_=Y_=0,window.clearInterval(S_),W_=!1,zf=-13,F_=q_=0,D_=2,bf(),Jp(3),Oh=!1,Sp(),mo()?(na=!0,ia=Ac.Main_selectedChannel_id,ba()):Wm(),document.addEventListener("visibilitychange",mf,!1),P_=!1,B_=!(L_=T_=0),df(),document.body.removeEventListener("keyup",Lu)}function df(){O_=0,G_=2e3,lf()}function lf(){v_("https://clips.twitch.tv/api/v2/clips/"+zy+"/status",G_,1,null,rf,cf,!0)}function cf(){++O_<U_?(G_+=250,lf()):(Zm(),Yp(3))}function rf(e){V_=[],e=JSON.parse(e).quality_options;for(var t=0;t<e.length;t++)V_.length?V_.push({id:e[t].quality+"p"+uf(e[t].frame_rate),url:e[t].source}):V_.push({id:e[t].quality+"p"+uf(e[t].frame_rate)+" (source)",url:e[t].source});q_=z_,_f()}function uf(e){return 40<e?60:""}function _f(){window.clearInterval(S_),J_=V_[D_=0].url,-1!==R_.indexOf("source")&&(R_="source");for(var e=0;e<Tf();e++){if(V_[e].id===R_){J_=V_[D_=e].url;break}-1!==V_[e].id.indexOf(R_)&&(J_=V_[D_=e].url)}N_=R_,Zl&&console.log("PlayClip_onPlayer:",'\n\n"'+J_+'"\n'),q_=z_,fr&&B_&&Android.startVideoOffset(J_,3,H_?-1:Android.gettime()),H_=!1,ff()}function ff(){fh&&!vp()&&mp(),fr&&(x_=0,Wh=1+Q_/1e3,j_=!1,window.clearInterval(S_),S_=window.setInterval(pf,Qh))}function hf(e){Pr("progress_bar_duration",Jm(K_=e/1e3)),xf()}function mf(){document.hidden&&gf()}function pf(){fr&&(F_=Android.gettime()),K_<F_/1e3&&(fr&&Android.play(!1),Play_PannelEndStart(3)),B_&&I_===F_&&!Nm()?++x_>Wh&&(j_&&W_&&D_<Tf()-1?D_++:!j_&&W_&&Y_++,navigator.onLine?1<Y_?Rm(Y_,3,vf):(Lf(),_f(),W_=!0):Um(!1,3)):(x_=Y_=0,W_=!1),I_=F_}function vf(e){if(!e){if(!(D_<Tf()-1))return void Um(!1,3);D_++}Y_=0,Lf(),_f(),W_=!0}function gf(){B_&&(af=!1,yf(),np(),Xm())}function yf(){If(),V_=[],window.clearInterval(S_),fr&&Android.stopVideo(3),B_=!1,Bl(),Ym(),nE(),document.body.removeEventListener("keydown",Uf),document.removeEventListener("visibilitychange",mf),document.getElementById("scene2_pannel_0").style.display="none",document.getElementById("quality_name").style.width="25ch",Hs=0}function bf(){var e,t=wf(1,0),n=wf(-1,Wg.ColoumnsCount-1);ef=$_=!1,t?($_=!0,Pr("next_button_text_name",(e=JSON.parse(document.getElementById(Wg.ids[8]+t).getAttribute(sr)))[4]),xr("next_button_text_title",e[9]),Pr("end_next_button_text_name",e[4]),xr("end_next_button_text_title",e[9]),kf(0,1)):kf(0,0),n?(ef=!0,Pr("back_button_text_name",(e=JSON.parse(document.getElementById(Wg.ids[8]+n).getAttribute(sr)))[4]),xr("back_button_text_title",e[9]),kf(1,1)):kf(1,0)}function wf(e,t){return tu(Wg.posY,Wg.posX+e,Wg.ids[0])?Wg.posY+"_"+(Wg.posX+e):tu(Wg.posY+e,t,Wg.ids[0])?Wg.posY+e+"_"+t:null}function kf(e,t){document.getElementById(tf[e]).style.opacity=t}function Af(){nf?1===nf?Cf():-1===nf&&Ef():(X_&&Ac.Play_ChatForceDisable&&(Nm()?Tl(ll):Ll()),Op()||Ip(3))}function Cf(){Cy(1,0),Mf()}function Ef(){Cy(-1,Wg.ColoumnsCount-1),Mf()}function Mf(){var e=document.getElementById("scene_channel_panel");e.style.transition="none",e.style.opacity="0",Wu(function(){yf(),Hu(Wg.posY+"_"+Wg.posX,Wg.ids,Ey),e.style.transition=""})}function If(){Bv=!1,Lv=Ov=0,fp(),R_=N_,document.getElementById("scene_channel_panel").style.opacity="0",fr&&Tg(Android.gettime()/1e3,K_,!0),xr("progress_bar_jump_to",Pi),document.getElementById("progress_bar_steps").style.display="none",window.clearInterval(sv)}function Sf(){xf(),Dm(),sv=window.setInterval(xf,1e3),np(),Eg(),Pf(),Lf(),document.getElementById("scene_channel_panel").style.opacity="1",Bf()}function xf(){fr&&Tg(Android.gettime()/1e3,K_,!Bv)}function Pf(){for(var e=D_=0;e<Tf();e++){if(V_[e].id===R_){D_=e;break}-1!==V_[e].id.indexOf(R_)&&(D_=e)}}function Tf(){return V_.length}function Lf(){1===Tf()?(document.getElementById("quality_arrow_up").style.opacity="0",document.getElementById("quality_arrow_down").style.opacity="0"):D_?D_===Tf()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(R_=V_[D_].id).indexOf("source")?Pr("quality_name",R_.replace("source",ge)):Pr("quality_name",R_)}function Bf(){jf=window.setTimeout(If,5e3+Hv)}function Of(){document.getElementById("quality_name").style.width="16ch",Pr("open_vod_text",X_?sn:dn),document.getElementById("scene2_pannel_0").style.display="inline-block"}function Gf(){X_?(Ac.vodOffset=Hs,yf(),document.body.addEventListener("keydown",jg,!1),Sp(),Wu(jv)):(Oh=!0,Km(ln),window.setTimeout(function(){Oh=!1,$m()},2e3))}function Uf(e){if(q_!==z_)switch(e.keyCode){case zi:ip()?(np(),gf()):tp()}else switch(e.keyCode){case Vi:eE()?eh&&!MC&&(_E(),eh--,dE()):Zf&&!cp()&&vp()?(Ff++,Cp()):cp()?(fp(),2===Vv?(Pp(),5<++Bh&&(Bh=0),xp()):Vv?1===Vv&&-1<nf&&(nf--,ef||!nf?Mg():nf++):(Ug(-1,K_),Hv=2500),Bf()):Op()?(Dp(),Rp(),--Dh<($_?-1:0)&&(Dh=3),Up()):Sf();break;case Hi:eE()?eh<TC-1&&!MC&&(_E(),eh++,dE()):!Zf||cp()||Op()?cp()?(fp(),2===Vv?(Pp(),--Bh<0&&(Bh=5),xp()):Vv?1===Vv&&nf<1&&(nf++,$_||!nf?Mg():nf--):(Ug(1,K_),Hv=2500),Bf()):Op()?(Dp(),Rp(),3<++Dh&&(Dh=$_?-1:0),Up()):Sf():u_("ChatEnable",(fh=vp()||Op()?(pp(),!1):(mp(),!0))?"true":"false");break;case Ji:Op()?Dp():cp()?(2===Vv&&1!==Bh?(Vv--,Mg()):1===Vv?(Vv--,Mg()):0<D_&&1===Bh&&(D_--,Lf()),fp(),Bf()):eE()?eE()?sE():Sf():tE();break;case Fi:Op()?Dp():cp()?(Vv?1===Vv?(Vv++,Mg()):D_<Tf()-1&&1===Bh&&(D_++,Lf()):(Vv++,Mg()),fp(),Bf()):eE()?nE():Zf&&vp()?(4<++Yf?Ap(!(Yf=1)):4===Yf&&Ap(!0),wp(!0)):Sf();break;case qi:Op()?Vp(3):cp()?Vv?1===Vv?Af():Xp(3):(fp(),Bf(),Lv&&Lg()):eE()?(yf(),Vu(eh,DC,iv)):Sf();break;case zi:cp()?If():eE()?nE():ip()?(np(),gf()):tp();break;case Ni:case Ri:case Di:X_&&!Ac.Play_ChatForceDisable&&(Nm()?Tl(ll):Ll()),Op()||Ip(3)}}var Rf,Nf,Df,Vf,Jf,Hf,Ff=0,qf=Ff,zf=-5,Xf=.55,Yf=3,jf=null,Wf="source",Qf=Wf,Zf=!0,Kf=!1,$f="",eh=0,th=2e3,nh=0,ih=1,ah=2,oh=0,sh=null,dh=0,lh=0,ch=0,rh="",uh=[],_h=0,fh=!1,hh=null,mh=null,ph=null,vh="",gh=0,yh=5,bh=0,wh=5,kh=0,Ah=!1,Ch=null,Eh=!1,Mh=0,Ih=null,Sh=0,xh=0,Ph=!1,Th=!1,Lh=!1,Bh=1,Oh=!1,Gh=!1,Uh=1e4,Rh=2e3,Nh="",Dh=0,Vh=3,Jh=null,Hh="",Fh=0,qh=0,zh="",Xh=!0,Yh=!1,jh=!1,Wh=7,Qh=1e3,Zh=0,Kh="",$h=[],em=!1,tm=[{top:51.8,left:75.1,sizeOffset:[31,16,0,0]},{top:33,left:75.1,sizeOffset:[12.5,0,-6.25,0]},{top:.2,left:75.1,sizeOffset:[0,0,0,0]},{top:.2,left:38.3,sizeOffset:[0,0,0,0]},{top:.2,left:.2,sizeOffset:[0,0,0,0]},{top:33,left:.2,sizeOffset:[12.5,0,-6.25,0]},{top:51.8,left:.2,sizeOffset:[31,16,0,0]},{top:51.8,left:38.3,sizeOffset:[31,16,0,0]}],nm=[0,0,0,1,2,2,2,1],im=[[0,1,2,2,2,1,0,0],[7,3,3,3,3,3,7,7],[6,5,4,4,4,5,6,6]],am=[{containerHeight:17,percentage:"12.5%",dialogTop:15},{containerHeight:32,percentage:"25%",dialogTop:30},{containerHeight:48,percentage:"50%",dialogTop:50},{containerHeight:99.6,percentage:"100%",dialogTop:115}],om=1,sm=["chat_extra_small","chat_size_small","chat_size_default","chat_size_biger","chat_size_bigest"];function dm(){Jf=document.getElementById("chat_container"),Hf=document.getElementById("inner_progress_bar"),Ff=__("ChatPositionsValue",0),Yf=__("ChatSizeValue",3),fh=h_("ChatEnable",!1),Zf=h_("Play_isFullScreen",!0),wp(!1),kp(!1),cm()}function lm(e){e?void 0!==Rf&&(Ff=Rf,Yf=Df,(fh=Nf)||pp(),wp(!1)):(Rf=Ff,Nf=fh,Df=Yf,Ff=0,mp(),Yf=4,Ap(fh=!0),wp(!1),jd&&(jd.scrollTop=jd.scrollHeight)),u_("Play_isFullScreen",Zf)}function cm(){om=gk("chat_font_size");for(var e=0;e<sm.length;e++)Sr("chat_inner_container",sm[e]);Ir("chat_inner_container",sm[om])}function rm(){Qm(),xr("stream_live_icon",'<div style="vertical-align: middle; display: inline-block"><i class="icon-circle" style="color: red; font-size: 105%; "></i></div><div style="display: inline-block">'+Pi+f.toUpperCase()+"</div>"),pu("stream_info_title"),X_=!(Gh=!1),bm(document.getElementById("stream_info_icon"),Oi),Ac.Play_isHost?Pr("stream_info_name",Ac.Play_DisplaynameHost):Pr("stream_info_name",Ac.Play_selectedChannelDisplayname),kf(0,0),kf(1,0),Ac.Play_WasPlaying=1,du(),Kf=Ac.Play_isHost,Ac.Play_isHost=!1,Yh=!1,Er("scene_channel_panel_bottom"),qh=Fh=0,Pr("stream_watching_time",g+Jm(0)),vh=Hm(0),Pr("stream_live_time",y+vh),Cr("progress_pause_holder"),em=!1,Jp(1),zf=-5,Sh=xh=Zh=0,window.clearInterval(Ih),Th=!1,Uh=3e3,Xh=!(bh=0),oh=nh,Lh=!(Ah=!(ch=lh=dh=Eh=0)),document.addEventListener("visibilitychange",_m,!1),hm(),wm(),document.body.removeEventListener("keyup",Lu),sh=window.setInterval(vm,6e4)}function um(e){Km(e)}function Play_CheckResume(){Ah&&_m(),bv&&ig(),B_&&(gf(),window.clearInterval(S_))}function _m(){document.hidden?Op()?(np(),pp(),qm()):(Ym(),Lh=!1,qd(),window.clearInterval(sh)):(Ah=!0,sp(),Ah&&(Qm(),Uh=3e3,Yh=!(bh=0),Gh?vm():hm(),oh=nh,kh=0,navigator.onLine?wm():Vf=window.setInterval(fm,100),sh=window.setInterval(vm,6e4)))}function fm(){(navigator.onLine||200<kh)&&(window.clearInterval(Vf),wm()),kh++}function hm(){b_("https://api.twitch.tv/kraken/streams/"+Ac.Play_selectedChannel_id,Uh,2,null,mm,pm,!1)}function mm(e){null!==(e=JSON.parse(e)).stream&&(Pr("stream_info_name",Kf?Ac.Play_DisplaynameHost:Ac.Play_selectedChannelDisplayname),Ac.Play_selectedChannel_id=e.stream.channel._id,xr("stream_info_title",CI.parse(e.stream.channel.status,!1,!0)),Ac.Play_gameSelected=e.stream.game,Nh=" ["+e.stream.channel.broadcaster_language.toUpperCase()+"]",Pr("stream_info_game",v+Ac.Play_gameSelected+m+Kr(e.stream.viewers)+" "+J+Nh),Ac.Play_selectedChannelLogo=e.stream.channel.logo,Gh=!0,bm(document.getElementById("stream_info_icon"),Ac.Play_selectedChannelLogo),vh=e.stream.created_at,mo()?(na=!0,ia=Ac.Play_selectedChannel_id,ba()):Wm())}function pm(){bh<wh&&(Uh+=500,window.setTimeout(function(){Ah&&hm()},750)),bh++}function vm(){b_("https://api.twitch.tv/kraken/streams/"+Ac.Play_selectedChannel_id,3e3,2,null,gm,ym,!1)}function gm(e){null!==(e=JSON.parse(e)).stream&&(xr("stream_info_title",CI.parse(e.stream.channel.status,!1,!0)),Ac.Play_gameSelected=e.stream.game,Pr("stream_info_game",v+Ac.Play_gameSelected+m+Kr(e.stream.viewers)+" "+J+Nh),Gh||bm(document.getElementById("stream_info_icon"),e.stream.channel.logo))}function ym(){Zh<wh?(window.setTimeout(function(){Ah&&vm()},2500),Zh++):Zh=0}function bm(e,t){e.onerror=function(){this.src=Oi,Gh=!1},e.src=t}function wm(){gh=0,Rh=2e3+(Yh?3e3:0),km()}function km(){var e,t;if(e=oh===nh?"https://api.twitch.tv/api/channels/"+Ac.Play_selectedChannel+"/access_token"+(mo()&&Ka[Ac.Users_Position].access_token?"?oauth_token="+Ka[Ac.Users_Position].access_token:""):"https://usher.ttvnw.net/api/channel/hls/"+Ac.Play_selectedChannel+".m3u8?&token="+encodeURIComponent(dh.token)+"&sig="+dh.sig+"&allow_source=true&allow_audi_only=true&fast_bread=true&allow_spectre=false",fr){if(!(t=Android.mreadUrl(e,Rh,1,null)))return void Cm();200===(t=JSON.parse(t)).status?(gh=0,Ah&&Im(t.responseText)):403===t.status?Em():404===t.status?jp():Cm()}else(t=new XMLHttpRequest).open("GET",mr+e,!0),t.timeout=Rh,t.setRequestHeader(Kc,Zc),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?(gh=0,Ah&&Im(t.responseText)):403===t.status?(Am(t),Ql?Mm():Em()):404===t.status?(Am(t),Ql?Mm():jp()):(Am(t),Cm()))},t.send(null)}function Am(e){Zl&&(console.log(e.status),console.log(e.responseText))}function Cm(){Ah&&Xh&&(++gh<yh+(Yh?7:0)?(Rh+=250,Yh?window.setTimeout(km,500):km()):Ql?Mm():jp())}function Em(){Zm(),Km(Vn),window.setTimeout(function(){Ah&&jp()},4e3)}function Mm(){uh=[{id:"1080p60(Source)",band:"(10.00Mbps)",url:"http://fake"}],oh=ah,Ah&&Tm()}function Im(e){oh===nh?(dh=JSON.parse(e),oh=ih,wm()):oh===ih&&(uh=Sm(lh=e),oh=ah,Ah&&Tm())}function Sm(e){for(var t,n=[],i="",a=1,o=Pm(e),s=0;s<o.length;s++)i=o[s].split('NAME="')[1].split('"')[0],t=xm(o[s].split("BANDWIDTH=")[1].split(",")[0]),n.length?n[s-a].id!==i&&n[s-a].id!==i+" (source)"?n.push({id:i,band:t,url:o[s].split("\n")[2]}):a++:(-1===i.indexOf("ource")&&(i+=" (source)"),n.push({id:i,band:t,url:o[s].split("\n")[2]}));return n}function xm(e){return 0<(e=parseInt(e))?" ("+parseFloat(e/1e6).toFixed(2)+"Mbps)":""}function Pm(e){for(var t,n=[],i=/#EXT-X-MEDIA:(.)*\n#EXT-X-STREAM-INF:(.)*\n(.)*/g;t=i.exec(e);)n.push(t[0]);return n}function Tm(){window.clearInterval(Ih),rh=uh[_h=0].url,-1!==Wf.indexOf("source")&&(Wf="source");for(var e=0;e<bp();e++){if(uh[e].id===Wf){rh=uh[_h=e].url;break}-1!==uh[e].id.indexOf(Wf)&&(rh=uh[_h=e].url)}Qf=Wf,oh=ah,Zl&&console.log("Play_onPlayer:",'\n\n"'+rh+'"\n'),fr&&Ah&&Android.startVideo(rh,1),Lm()}function Lm(){jh=!1,fh&&!vp()&&mp(),Lh=!0,Bm(),fr&&(Sh=0,Wh=1+th/1e3,Ph=!1,window.clearInterval(Ih),Ih=window.setInterval(Om,Qh))}function Bm(){Ac.Play_ChatForceDisable?bd():Dl()}function Om(){var e=!Nm();fr&&(Fh=Android.gettime()),Ah&&Mh===Fh&&e?Wh<++Sh&&(Ph&&Th&&_h<bp()-1?_h++:!Ph&&Th&&xh++,navigator.onLine?1<xh?Rm(xh,1,Gm):(yp(),Tm(),Th=!0):Um(!1,1)):(Sh=xh=0,Th=!1),Mh=Fh,e&&qh++}function Gm(e){if(!e){if(!(_h<bp()-1))return void jp();_h++}xh=0,yp(),Tm(),Th=!0}function Um(e,t){Ac.Play_isHost=e,Jp(t),Yp(t)}function Rm(e,t,n){var i=new XMLHttpRequest;i.timeout=1e3,i.open("GET","https://static-cdn.jtvnw.net/jtv-static/404_preview-10x10.png?"+Math.random(),!0),i.onreadystatechange=function(){4===i.readyState&&(200===i.status?n(2<e):12<e&&Um(!1,t))},i.send(null)}function Nm(){return!!fr&&!Android.getPlaybackState()}function Dm(){var e=Qu();Pr("stream_clock",e),Pr("label_clock",e)}function Vm(e){return e<10?"0"+e:e}function Jm(e){var t,n,i;return t=Vm(parseInt(e)%60),n=Vm((e=Math.floor(e/60))%60),i=Vm(e=Math.floor(e/60)),e?i+":"+n+":"+t:n+":"+t}function Hm(e){return Jm(parseInt(e/1e3))}function Fm(e){return Hm((new Date).getTime()-new Date(e).getTime())}function qm(){Ah&&(zm(),Ac.Play_WasPlaying=0,Xm())}function zm(){fr&&Android.stopVideo(1),Ah=!1,nE(),Bl(),Ym(),jm(),Ac.Play_selectedChannel_id=""}function Xm(){Tg(0,0),Er("scene1"),Cr("scene2"),nu()}function Ym(){rp(),sp(),$m(),Bp(),Kh="",_h===bp()-1&&(Qf=uh[0].id),vv===Pg()-1&&(cv=pv[0].id),D_===Tf()-1&&(N_=V_[0].id)}function jm(){Lh=!1,document.body.removeEventListener("keydown",iv),document.removeEventListener("visibilitychange",_m),qd(),window.clearInterval(sh),window.clearInterval(Ih),Oh=!1}function Wm(){xr("fallow_text",Pi+Lt),ea=!1}function Qm(){fr?Android.mshowLoading(!0):Er("dialog_loading_play")}function Zm(){fr?Android.mshowLoading(!1):Cr("dialog_loading_play")}function Km(e){Pr("dialog_warning_play_text",e),Er("dialog_warning_play")}function $m(){Cr("dialog_warning_play")}function ep(){return Mr("dialog_warning_play")}function tp(){ip()?np():(Er("play_dialog_exit"),hh=window.setTimeout(tp,3e3))}function np(){window.clearTimeout(hh),Cr("play_dialog_exit")}function ip(){return Mr("play_dialog_exit")}function ap(){window.clearTimeout(mh)}function op(){window.clearTimeout(ph)}function sp(){ap(),op(),Cr("play_dialog_simple_pause")}function dp(){Zm(),Nm()?lp()?(Cr("play_dialog_simple_pause"),ph=window.setTimeout(dp,8e3)):(Er("play_dialog_simple_pause"),mh=window.setTimeout(dp,1500)):sp()}function lp(){return Mr("play_dialog_simple_pause")}function cp(){return"1"===document.getElementById("scene_channel_panel").style.opacity}function rp(){fp(),document.getElementById("scene_channel_panel").style.opacity="0",Wf=Qf,window.clearInterval(sv)}function up(){Sp(),gp(),yp(),_p(),sv=window.setInterval(_p,1e3),Dm(),np(),document.getElementById("scene_channel_panel").style.opacity="1",hp()}function _p(){Pr("stream_watching_time",g+Jm(qh)),Pr("stream_live_time",y+(-1===vh.indexOf("00:00")?Fm(vh):"00:00"))}function fp(){window.clearTimeout(jf),Hv=0}function hp(){jf=window.setTimeout(rp,5e3)}function mp(){Cp(),Er("chat_container")}function pp(){Cr("chat_container")}function vp(){return Mr("chat_container")}function gp(){for(var e=_h=0;e<bp();e++){if(uh[e].id===Wf){_h=e;break}-1!==uh[e].id.indexOf(Wf)&&(_h=e)}}function yp(){1===bp()?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):_h?_h===bp()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(Wf=uh[_h].id).indexOf("source")?Pr("quality_name",Wf.replace("source",ge)+uh[_h].band):Pr("quality_name",Wf+uh[_h].band)}function bp(){return uh.length}function wp(e){Jf.style.height=am[Yf-1].containerHeight+"%",document.getElementById("play_chat_dialog").style.marginTop=am[Yf-1].dialogTop+"%",Cp(),Hd(),e&&Ep(Nn+am[Yf-1].percentage),window.setTimeout(function(){jd&&(jd.scrollTop=jd.scrollHeight)},500),u_("ChatSizeValue",Yf)}function kp(e){Jf.style.backgroundColor="rgba(0, 0, 0, "+Xf+")",e&&Ep(Dn+(100*Xf).toFixed(0)+"%")}function Ap(e){Ff=e?nm[qf=Ff]:im[Ff][qf]}function Cp(){var e=4===Yf;Ff<0?Ff=e?2:7:(e?2:7)<Ff&&(Ff=0),Jf.style.top=(e?.2:tm[Ff].top+tm[Ff].sizeOffset[Yf-1])+"%",Jf.style.left=tm[Ff+(e?2:0)].left+"%",u_("ChatPositionsValue",Ff)}function Ep(e){window.clearTimeout(Ch),Pr("play_chat_dialog_text",e),Er("play_chat_dialog"),Ch=window.setTimeout(Mp,1e3)}function Mp(){Cr("play_chat_dialog")}function Ip(e){Nm()?(sp(),xr("pause_button",'<i class="pause_button3d icon-pause"></i>'),1===e?(cp()&&rp(),window.clearInterval(Ih),Ih=window.setInterval(Om,Qh)):2===e?(cp()&&kg(),window.clearInterval(Mv),Mv=window.setInterval(vg,Qh)):3===e&&(cp()&&If(),window.clearInterval(S_),S_=window.setInterval(pf,Qh)),fr&&Android.play(!0)):(window.clearInterval(Ih),window.clearInterval(Mv),window.clearInterval(S_),xr("pause_button",'<i class="pause_button3d icon-play-1"></i>'),dp(),fr&&Android.play(!1))}function Sp(){Pp(),Bh=1,xp()}function xp(){Ir("scene2_pannel_"+Bh,"playbotton_focus")}function Pp(){Sr("scene2_pannel_"+Bh,"playbotton_focus")}function Tp(e){rv=oh=-1,q_=-1,nE(),pp(),rp(),If(),kg(),Oh||$m(),Zm(),np(),3===e&&$_&&(af||of)&&(Rp(),Dh=-1),Up()}function Lp(){Er("dialog_end_stream")}function Bp(){Cr("dialog_end_stream"),Dp(),Gp()}function Op(){return Mr("dialog_end_stream")}function Gp(){Rp(),Dh=0,Up()}function Up(){Ir("dialog_end_"+Dh,"dialog_end_icons_focus")}function Rp(){Sr("dialog_end_"+Dh,"dialog_end_icons_focus")}function Np(e){1===e?Hh=Ac.Play_selectedChannelDisplayname+" "+f:2===e?Hh=Ac.Main_selectedChannelDisplayname+$t:3===e&&(Hh=Ac.Main_selectedChannelDisplayname+Gt),xr("dialog_end_stream_text",Hh+S+pi+(3===e&&$_&&(af||of)?li:tn)+Vh+"..."),Op()?(rv=oh=ah,q_=z_,-1===--Vh?(xr("dialog_end_stream_text",Hh+S+pi+tn+"0..."),np(),pp(),1===e?qm():2===e?yg():3===e&&($_&&(af||of)?Cf():gf())):Jh=window.setTimeout(function(){Np(e)},1e3)):Jh=window.setTimeout(function(){Np(e)},50)}function Dp(){window.clearTimeout(Jh),xr("dialog_end_stream_text",Hh+S+pi+nn)}function Vp(e){var t=!0;-1===Dh&&$_?Cf():Dh?1===Dh?Ac.Play_isHost?(Ac.Play_DisplaynameHost=Ac.Play_selectedChannelDisplayname+ne,Ac.Play_selectedChannel=zh.target_login,Ac.Play_selectedChannelDisplayname=zh.target_display_name,Ac.Play_DisplaynameHost=Ac.Play_DisplaynameHost+Ac.Play_selectedChannelDisplayname,zm(),document.body.addEventListener("keydown",iv,!1),Ac.Play_selectedChannel_id=zh.target_id,Wu(rm)):Gf():2===Dh?Hp(e):3===Dh&&qp(e):2===e?pv.length?(Sv=!(zv=!0),hg(),sp(),nl=Rv=0,rl()):(t=!1,Km(ei),window.setTimeout(function(){$m()},2e3)):3===e&&(V_.length?(j_=!(H_=!0),_f(),sp(),X_?(Rv=0,nl=Hs,rl()):Nl()):(t=!1,Km(ei),window.setTimeout(function(){$m()},2e3))),1!==Dh&&3===Dh&&""===Ac.Play_gameSelected&&(t=!1),t&&Bp()}function Jp(e){e?1===e?(Rp(),Dh=2,Up(),document.getElementById("dialog_end_-1").style.display="none",document.getElementById("dialog_end_0").style.display="none",document.getElementById("dialog_end_1").style.display="none"):2===e?(Gp(),document.getElementById("dialog_end_-1").style.display="none",document.getElementById("dialog_end_0").style.display="inline-block",document.getElementById("dialog_end_1").style.display="none"):3===e&&(Gp(),document.getElementById("dialog_end_-1").style.display=$_?"inline-block":"none",document.getElementById("dialog_end_0").style.display="inline-block",document.getElementById("dialog_end_1").style.display="inline-block",Pr("dialog_end_vod_text",X_?sn:dn)):(Rp(),Dh=1,Up(),document.getElementById("dialog_end_-1").style.display="none",document.getElementById("dialog_end_0").style.display="none",document.getElementById("dialog_end_1").style.display="inline-block",Pr("dialog_end_vod_text",un))}function Hp(e){Ac.Main_BeforeChannelisSet||Ac.Main_Go===uc||Ac.Main_Go===_c||(Ac.Main_BeforeChannel=Ac.Main_BeforeAgameisSet&&Ac.Main_Go!==ic?Ac.Main_BeforeAgame:Ac.Main_Go,Ac.Main_BeforeChannelisSet=!0),cu(Ac.Main_Go),Ac.Main_Go=rc,1===e?(Ac.Main_selectedChannel_id=Ac.Play_selectedChannel_id,Ac.Main_selectedChannel=Ac.Play_selectedChannel,Ac.Main_selectedChannelDisplayname=Ac.Play_selectedChannelDisplayname,Lo=ea,pp(),qm()):2===e?yg():3===e&&gf()}function Fp(e){Ac.Search_isSearching||(Ac.Main_BeforeSearch=Ac.Main_Go),cu(Ac.Main_Go),Ac.Main_Go=dc,1===e?(pp(),qm()):2===e?yg():3===e&&gf()}function qp(e){if(""===Ac.Play_gameSelected)return Oh=!0,Km(Qn),void window.setTimeout(function(){Oh=!1,$m()},2e3);Ac.Main_BeforeAgameisSet||Ac.Main_Go===gc||Ac.Main_Go===yc||(Ac.Main_BeforeAgame=Ac.Main_BeforeChannelisSet&&Ac.Main_Go!==rc&&Ac.Main_Go!==uc&&Ac.Main_Go!==_c?Ac.Main_BeforeChannel:Ac.Main_Go,Ac.Main_BeforeAgameisSet=!0),cu(Ac.Main_Go),Ac.Main_Go=ic,Ac.Main_gameSelected=Ac.Play_gameSelected,pp(),1===e?qm():2===e?yg():3===e&&gf()}function zp(){mo()&&Ka[Ac.Users_Position].access_token?ea?Sa():Ea():(Km(Bt),Oh=!0,window.setTimeout(function(){$m(),Oh=!1},2e3))}function Xp(e){var t=document.getElementById("scene_channel_panel");2!==Bh&&(t.style.transition="none",t.style.opacity="0"),Wu(function(){Bh?1===Bh?(1===e?(Tm(),rp()):2===e?(Sv=!1,hg(),kg()):3===e&&(j_=!1,_f(),If()),sp()):2===Bh?(ia=1===e?Ac.Play_selectedChannel_id:Ac.Main_selectedChannel_id,zp(),fp(),1===e?hp():2===e?Ig():3===e&&Bf()):3===Bh?qp(e):4===Bh?Hp(e):5===Bh&&Fp(e):Gf(),t.style.transition=""})}function Play_PannelEndStart(e){1===e?(window.clearInterval(Ih),jp()):Yp(e)}function Yp(e){window.clearInterval(Ih),window.clearInterval(S_),window.clearInterval(Mv),Tp(e),Vh=3,Np(e),Lp()}function jp(){Qm(),oh=-1,gh=0,Rh=2e3,qd(),window.clearInterval(sh),window.clearInterval(Ih),""!==Ac.Play_selectedChannel_id?Kp():Wp()}function Wp(){b_("https://api.twitch.tv/kraken/users?login="+Ac.Play_selectedChannel,Rh,2,null,Qp,Zp,!1)}function Qp(e){void 0!==(e=JSON.parse(e).users[0])?(Ac.Play_selectedChannel_id=e._id,gh=0,Rh=2e3,Kp()):Yp(1)}function Zp(){++gh<yh?(Rh+=250,Wp()):Um(!1,1)}function Kp(){v_("https://tmi.twitch.tv/hosts?include_logins=1&host="+encodeURIComponent(Ac.Play_selectedChannel_id),Rh,1,null,ev,$p,!0)}function $p(){++gh<yh?(Rh+=250,Kp()):Um(!1,1)}function ev(e){void 0!==(zh=JSON.parse(e).hosts[0]).target_login?(Oh=!0,Km(Ac.Play_selectedChannelDisplayname+rn+ne+zh.target_display_name),window.setTimeout(function(){Oh=!1},4e3),Jp(0),Ac.Play_isHost=!0):(Jp(1),Ac.Play_isHost=!1),Yp(1)}function Play_UpdateDuration(e,t){0<t&&(2===e?pg(t):3===e&&hf(t))}function tv(){ea?(xr("fallow_heart",'<i class="icon-heart strokicon" style="color: #00b300;"></i>'),xr("fallow_text",Pi+Mt)):(xr("fallow_heart",'<i class="icon-heart-o strokicon" style="color: #FFFFFF;"></i>'),xr("fallow_text",Pi+It))}function nv(e){Op()&&!ip()?(Dp(),tp()):eE()?nE():cp()&&!Fg()?e?kg():rp():Fg()&&ip()?(Hg(),bg(!1),Xm()):ip()?(np(),pp(),e?yg():qm()):(ep()&&$m(),tp())}function iv(e){if(oh!==ah)switch(e.keyCode){case zi:ip()?(np(),pp(),qm()):tp()}else switch(e.keyCode){case Vi:eE()?eh&&!MC&&(_E(),eh--,dE()):Zf&&!cp()&&vp()?(Ff++,Cp()):cp()?(Pp(),5<++Bh&&(Bh=1),xp(),fp(),hp()):Op()?(Dp(),Rp(),--Dh<(Ac.Play_isHost?1:2)&&(Dh=3),Up()):up();break;case Hi:eE()?eh<TC-1&&!MC&&(_E(),eh++,dE()):!Zf||cp()||Op()?cp()?(Pp(),--Bh<1&&(Bh=5),xp(),fp(),hp()):Op()?(Dp(),Rp(),3<++Dh&&(Dh=Ac.Play_isHost?1:2),Up()):up():u_("ChatEnable",(fh=vp()||Op()?(pp(),!1):(mp(),!0))?"true":"false");break;case Ji:cp()?(0<_h&&1===Bh&&(_h--,yp()),fp(),hp()):!eE()&&mo()?tE():Op()?Dp():eE()&&sE();break;case Fi:cp()?(_h<bp()-1&&1===Bh&&(_h++,yp()),fp(),hp()):eE()?nE():Zf&&vp()?(4<++Yf?Ap(!(Yf=1)):4===Yf&&Ap(!0),wp(!0)):Op()?Dp():up();break;case qi:if(Op())Vp(1);else if(cp())Xp(1);else if(eE()){var t=document.getElementById(DC[8]+eh);null===t?iE():Ac.Play_selectedChannel!==JSON.parse(t.getAttribute(sr))[0]?(zm(),Ac.Play_isHost=!1,em=!0,Vu(eh,DC,iv)):iE()}else up();break;case zi:nv(!1);break;case Ni:case Ri:case Di:Op()||Ip(1)}}var av,ov,sv,dv,lv="source",cv=lv,rv=0,uv=null,_v=0,fv=0,hv=0,mv="",pv=[],vv=0,gv=0,yv=5,bv=!1,wv=2e3,kv=0,Av=5,Cv=1e4,Ev=0,Mv=null,Iv=0,Sv=!1,xv=0,Pv=!1,Tv=!1,Lv=0,Bv=!1,Ov=0,Gv=2e3,Uv=!1,Rv=0,Nv={},Dv=0,Vv=0,Jv=!0,Hv=0,Fv=0,qv=0,zv=!1,Xv=[0,10,30,60,120,300,600,900,1200,1800],Yv=!1;function jv(){Qm(),Bp(),Rv=0,Pr("stream_live_time",""),Pr("stream_watching_time",""),Pr("progress_bar_current_time",Jm(0)),il=O+".",xr("pause_button",'<i class="pause_button3d icon-pause"></i>'),Cr("progress_pause_holder"),Fv=0,Og(($h=Xv)[1]),rv=nh,X_=!0,Hs=0,Ac.Play_isHost=!1,kf(0,0),kf(1,0),Ac.vodOffset?(Qv(),eg()):(Jv&&""!==Ac.Main_selectedChannel_id?(bm(document.getElementById("stream_info_icon"),Ac.Main_selectedChannelLogo),Nv["#"+Ac.ChannelVod_vodId]||rl(),mo()?(ia=Ac.Main_selectedChannel_id,na=!0,ba()):Wm()):(Qv(),Zv()),Pr("stream_info_name",Ac.Main_selectedChannelDisplayname),xr("stream_info_title",""),xr("stream_info_game",Ds+" ["+Bs.toUpperCase()+"]"),Pr("stream_live_icon",Vs),Tr("stream_info_game")),Nv["#"+Ac.ChannelVod_vodId]&&!Ac.vodOffset?(Zm(),Jg()):Wv()}function Wv(){window.setTimeout(function(){Er("scene_channel_panel_bottom"),Er("progress_pause_holder")},1e3),Pr("progress_bar_duration",Jm(Ps)),Ac.Play_WasPlaying=2,du(),dv=window.setInterval(og,6e4),ku(Kh),Iv=xv=0,window.clearInterval(Mv),Oh=Uv=Pv=!(zf=-13),Bv=!1,hv=fv=_v=Ov=0,document.addEventListener("visibilitychange",ig,!1),Yv=!(bv=!(Tv=!1)),sg(),Jp(2),document.body.removeEventListener("keyup",Lu)}function Qv(){kv=0,Av=5,Cv=1e4}function Zv(){b_("https://api.twitch.tv/kraken/users?login="+encodeURIComponent(Ac.Main_selectedChannel),Cv,2,null,Kv,$v,!1)}function Kv(e){void 0!==(e=JSON.parse(e).users[0])?(Ac.Main_selectedChannelLogo=e.logo,Ac.Main_selectedChannel_id=e._id,Nv["#"+Ac.ChannelVod_vodId]||rl(),mo()?(ia=Ac.Main_selectedChannel_id,na=!0,ba()):Wm()):(Ac.Main_selectedChannelLogo=Oi,Ac.Main_selectedChannel_id=""),bm(document.getElementById("stream_info_icon"),Ac.Main_selectedChannelLogo)}function $v(){++kv<Av?(Cv+=500,window.setTimeout(function(){bv&&Zv()},750)):ov=window.setTimeout(Zv,2500)}function eg(){b_("https://api.twitch.tv/kraken/videos/"+Ac.ChannelVod_vodId,Cv,2,null,ng,tg,!1)}function tg(){++kv<Av&&(Cv+=2e3,eg())}function ng(e){e=JSON.parse(e),xr("stream_info_title",CI.parse(e.title,!1,!0)),xr("stream_info_game",Qt+v+e.game+" "+Kr(e.views)+V+" ["+e.channel.broadcaster_language.toUpperCase()+"]"),Pr("stream_live_icon",N+fu(e.created_at)),Pr("progress_bar_duration",Jm(Ps=parseInt(e.length))),Rv=1e3*Ac.vodOffset,Tg(Ac.vodOffset,Ps,!0),Ac.Main_selectedChannelDisplayname=e.channel.display_name,Pr("stream_info_name",Ac.Main_selectedChannelDisplayname),Ac.Main_selectedChannelLogo=e.channel.logo,bm(document.getElementById("stream_info_icon"),Ac.Main_selectedChannelLogo),Ac.Main_selectedChannel_id=e.channel._id,Ac.Main_selectedChannel=e.channel.name,mo()?(na=!0,ia=Ac.Main_selectedChannel_id,ba()):Wm(),ku(e.increment_view_count_url)}function ig(){document.hidden?Op()?(np(),pp(),yg()):(og(),Rg(),Ll(),Ym(),window.clearInterval(Mv),window.clearInterval(dv)):(bv=!0,sp(),bv&&(Qm(),kh=kh=0,navigator.onLine?mg():Vf=window.setInterval(ag,100),Tl(ll),Jp(2),dv=window.setInterval(og,6e4)))}function ag(){(navigator.onLine||200<kh)&&(window.clearInterval(Vf),rv=nh,sg()),kh++}function og(){Ac.vodOffset=fr?parseInt(Android.gettime()/1e3):0,du(),Ac.vodOffset=0}function sg(){gv=0,Gv=2e3,dg()}function dg(){v_(rv===nh?"https://api.twitch.tv/api/vods/"+Ac.ChannelVod_vodId+"/access_token"+(mo()&&Ka[Ac.Users_Position].access_token?"?oauth_token="+Ka[Ac.Users_Position].access_token:""):"https://usher.ttvnw.net/vod/"+Ac.ChannelVod_vodId+".m3u8?&nauth="+encodeURIComponent(_v.token)+"&nauthsig="+_v.sig+"&allow_source=true&allow_audi_only=true&allow_spectre=false",Rh,1,null,rg,lg,!0)}function lg(){if(bv){var e;if(_v.token&&(e=JSON.parse(_v.token)),e&&0!==JSON.parse(_v.token).chansub.restricted_bitrates.length)return void ug();++gv<yv?(Gv+=250,dg()):Ql?cg():(Zm(),Yp(2))}}function cg(){pv=[{id:"1080p60(Source)",band:"(10.00Mbps)",url:"http://fake"}],rv=ah,bv&&hg()}function rg(e){rv===nh?(_v=JSON.parse(e),rv=ih,sg()):rv===ih&&(pv=Sm(fv=e),rv=ah,bv&&hg())}function ug(){mo()&&Ka[Ac.Users_Position].access_token?(ia=Ac.Main_selectedChannel_id,Ta()):(Zm(),Km(x+St),window.setTimeout(function(){bv&&yg()},4e3))}function _g(){Zm(),Km(x+xt),window.setTimeout(function(){bv&&yg()},4e3)}function fg(){Yv?(Zm(),Km(x+Pt),window.setTimeout(function(){bv&&yg()},4e3)):(Yv=!0,rv=nh,sg())}function hg(){window.clearInterval(Mv),mv=pv[vv=0].url,-1!==lv.indexOf("source")&&(lv="source");for(var e=0;e<Pg();e++){if(pv[e].id===lv){mv=pv[vv=e].url;break}-1!==pv[e].id.indexOf(lv)&&(mv=pv[vv=e].url)}cv=lv,mg()}function mg(){Zl&&console.log("PlayVod_onPlayer:",'\n\n"'+mv+'"\n'),Ac.vodOffset?(nl=Ac.vodOffset,rl(),fr&&bv&&Android.startVideoOffset(mv,2,zv?-1:1e3*Ac.vodOffset),Ac.vodOffset=0):fr&&bv&&Android.startVideoOffset(mv,2,zv?-1:Android.gettime()),zv=!1,fh&&!vp()&&mp(),fr&&(Iv=0,Wh=3+wv/1e3,Sv=!1,window.clearInterval(Mv),Mv=window.setInterval(vg,Qh))}function pg(e){Pr("progress_bar_duration",Jm(Ps=e/1e3)),Cg()}function vg(){fr&&(Rv=Android.gettime()),Ps<Rv/1e3&&(fr&&Android.play(!1),Play_PannelEndStart(2)),bv&&Ev===Rv&&!Nm()?++Iv>Wh&&(Sv&&Pv&&vv<Pg()-1?vv++:!Sv&&Pv&&xv++,navigator.onLine?1<xv?Rm(xv,2,gg):(xg(),hg(),Pv=!0):Um(!1,2)):(Iv=xv=0,Pv=!1),Ev=Rv}function gg(e){if(!e){if(!(vv<Pg()-1))return void Um(!1,2);vv++}xv=0,xg(),hg(),Pv=!0}function yg(){bv&&(pv=[],bg(!0),Xm())}function bg(e){e&&Rg(),fr&&Android.stopVideo(2),bv=!1,window.clearInterval(dv),window.clearInterval(ov),Ac.Play_WasPlaying=0,Jv=!0,Bl(),nE(),Ym(),wg()}function wg(){document.body.removeEventListener("keydown",jg),document.removeEventListener("visibilitychange",ig),Ac.vodOffset=0,window.clearInterval(uv),window.clearInterval(Mv),Ps=0}function kg(){Bv=!1,Lv=Ov=0,fp(),document.getElementById("scene_channel_panel").style.opacity="0",fr&&Tg(Android.gettime()/1e3,Ps,!0),xr("progress_bar_jump_to",Pi),document.getElementById("progress_bar_steps").style.display="none",lv=cv,window.clearInterval(sv)}function Ag(e){Cg(),Dm(),np(),sv=window.setInterval(Cg,1e3),e&&(Eg(),Sg(),xg(),Ig()),document.getElementById("scene_channel_panel").style.opacity="1"}function Cg(){fr&&Tg(Android.gettime()/1e3,Ps,!Bv)}function Eg(){Vv=1,nf=0,Mg()}function Mg(){Sr("pause_button","progress_bar_div_focus"),Sr("next_button","progress_bar_div_focus"),Sr("back_button","progress_bar_div_focus"),Sr("progress_bar_div","progress_bar_div_focus"),Vv?1===Vv?(nf?1===nf?Ir("next_button","progress_bar_div_focus"):-1===nf&&Ir("back_button","progress_bar_div_focus"):Ir("pause_button","progress_bar_div_focus"),Pp(),xr("progress_bar_jump_to",Pi),document.getElementById("progress_bar_steps").style.display="none"):2===Vv&&(xp(),xr("progress_bar_jump_to",Pi),document.getElementById("progress_bar_steps").style.display="none"):(Ir("progress_bar_div","progress_bar_div_focus"),Pp(),Lv&&(Gg(),document.getElementById("progress_bar_steps").style.display="inline-block"))}function Ig(){jf=window.setTimeout(kg,5e3+Hv)}function Sg(){for(var e=vv=0;e<Pg();e++){if(pv[e].id===lv){vv=e;break}-1!==pv[e].id.indexOf(lv)&&(vv=e)}}function xg(){1===Pg()?(document.getElementById("quality_arrow_up").style.opacity="0",document.getElementById("quality_arrow_down").style.opacity="0"):vv?vv===Pg()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(lv=pv[vv].id).indexOf("source")?Pr("quality_name",lv.replace("source",ge)+pv[vv].band):Pr("quality_name",lv+pv[vv].band)}function Pg(){return pv.length}function Tg(e,t,n){Pr("progress_bar_current_time",Jm(e)),n&&(Hf.style.width=e/t*100+"%")}function Lg(){sp(),Op()||(j_=Sv=!1,bv?(fr&&Android.startVideoOffset(mv,2,0<qv?1e3*qv:-1),nl=qv):(nl=Hs,fr&&Android.startVideoOffset(J_,3,0<qv?1e3*qv:-1)),X_&&rl()),xr("progress_bar_jump_to",Pi),document.getElementById("progress_bar_steps").style.display="none",Bv=!1,qv=Lv=Ov=0}function Bg(){Fv=Ov=0,Og($h[1])}function Og(e){Lv&&!Vv&&(document.getElementById("progress_bar_steps").style.display="inline-block"),60<Math.abs(e)?Pr("progress_bar_steps",Jn+e/60+Fn):Pr("progress_bar_steps",e?Jn+e+Hn:Jn+$h[1]+Hn)}function Gg(){Pr("progress_bar_jump_to",ue+" ("+(Lv<0?"-":"")+Jm(Math.abs(Lv))+")"+_e+Jm(qv))}function Ug(e,t){var n=fr?Android.gettime()/1e3:0;window.clearTimeout(av),Bv=!0,Ov<$h.length-1&&Fv++%6==0&&Ov++,Lv+=$h[Ov]*e,qv=n+Lv,bv&&(qv=10*Math.floor(qv/10)),t<qv?(Lv=t-n-$h[1],qv=n+Lv,Fv=Ov=0):qv<0&&(Lv=0-n,qv=Fv=Ov=0),Gg(),Hf.style.width=qv/t*100+"%",Og($h[Ov]*e),av=window.setTimeout(Bg,1e3)}function Rg(){var e=fr?parseInt(Android.gettime()/1e3):0,t="#"+Ac.ChannelVod_vodId;300<e&&e<Ps-300?(Nv[t]&&delete Nv[t],Nv[t]=e,u_("PlayVod_VodIds",JSON.stringify(Nv))):Ps-300<e&&Nv[t]&&(delete Nv[t],u_("PlayVod_VodIds",JSON.stringify(Nv)))}function Ng(){Nv=f_("PlayVod_VodIds",{});var e=Dg();250<e&&Vg(e-250)}function Dg(){var e=0;for(var t in Nv)Nv.hasOwnProperty(t)&&e++;return e}function Vg(e){var t=0;for(var n in Nv){if(!(t<e))break;delete Nv[n],t++}u_("PlayVod_VodIds",JSON.stringify(Nv))}function Jg(){Cr("scene_channel_panel_bottom"),Ag(!1),xr("dialog_vod_saved_text",kn+Hm(1e3*Nv["#"+Ac.ChannelVod_vodId])),Er("dialog_vod_start")}function Hg(){kg(),Cr("dialog_vod_start"),qg(),window.setTimeout(function(){Er("scene_channel_panel_bottom")},1e3)}function Fg(){return Mr("dialog_vod_start")}function qg(){Xg(),Dv=0,zg()}function zg(){Ir("dialog_vod_"+Dv,"dialog_end_icons_focus")}function Xg(){Sr("dialog_vod_"+Dv,"dialog_end_icons_focus")}function Yg(e){Hg(),e?(delete Nv["#"+Ac.ChannelVod_vodId],Ac.vodOffset=0,jv()):(Ac.vodOffset=Nv["#"+Ac.ChannelVod_vodId],Rv=1e3*Ac.vodOffset,Tg(Ac.vodOffset,Ps,!0),Wv())}function jg(e){if(rv===ah||Fg())switch(e.keyCode){case Vi:eE()?eh&&!MC&&(_E(),eh--,dE()):Zf&&!cp()&&vp()?(Ff++,Cp()):cp()&&!Fg()?(fp(),2===Vv?(Pp(),5<++Bh&&(Bh=1),xp()):Vv||(Ug(-1,Ps),Hv=2500),Ig()):Fg()?(Xg(),Dv?Dv--:Dv++,zg()):Op()?(Dp(),Rp(),--Dh<0&&(Dh=3),1===Dh&&(Dh=0),Up()):Fg()||Ag(!0);break;case Hi:console.log(Vv),eE()?eh<TC-1&&!MC&&(_E(),eh++,dE()):!Zf||cp()||Op()?cp()&&!Fg()?(fp(),2===Vv?(Pp(),--Bh<1&&(Bh=5),xp()):Vv||(Ug(1,Ps),Hv=2500),Ig()):Fg()?(Xg(),Dv?Dv--:Dv++,zg()):Op()?(Dp(),Rp(),3<++Dh&&(Dh=0),1===Dh&&(Dh=2),Up()):Fg()||Ag(!0):u_("ChatEnable",(fh=vp()||Op()?(pp(),!1):(mp(),!0))?"true":"false");break;case Ji:Op()?Dp():cp()&&!Fg()?(2===Vv&&1!==Bh?(Vv--,Mg()):1===Vv?(Vv--,Mg()):0<vv&&1===Bh&&(vv--,xg()),fp(),Ig()):eE()?eE()?sE():Fg()||Ag(!0):tE();break;case Fi:Op()?Dp():cp()&&!Fg()?(Vv?1===Vv?(Vv++,Mg()):vv<Pg()-1&&1===Bh&&(vv++,xg()):(Vv++,Mg()),fp(),Ig()):eE()?nE():Zf&&vp()?(4<++Yf?Ap(!(Yf=1)):4===Yf&&Ap(!0),wp(!0)):Fg()||Ag(!0);break;case qi:Fg()?Yg(Dv):Op()?Vp(2):cp()?Vv?1===Vv?(Ac.Play_ChatForceDisable&&(Nm()?Tl(ll):Ll()),Op()||Ip(2)):Xp(2):(fp(),Ig(),Lv&&Lg()):eE()?(bg(!0),Vu(eh,DC,iv)):Ag(!0);break;case zi:nv(!0);break;case Ni:case Ri:case Di:Ac.Play_ChatForceDisable&&(Nm()?Tl(ll):Ll()),Op()||Ip(2)}else switch(e.keyCode){case zi:ip()?(np(),yg()):tp()}}var Wg={};function Qg(){console.log("InitScreens place holder")}function Zg(){tb(),ib(),nb(),ob(),sb(),db(),cb(),rb(),Ky(),$y()}function Kg(e){return[e+"_thumbdiv",e+"_img",e+"_infodiv",e+"_title",e+"_createdon",e+"_game",e+"_viwers",e+"_duration",e+"_cell","cpempty_",e+"_scroll",e+"_lang",e+"_row"]}function $g(){for(var e,t={},n=0;n<arguments.length;n+=1){var i=arguments[n],a=Object.keys(i);for(e=0;e<a.length;e+=1)t[a[e]]=i[a[e]]}return t}function ey(){Rc=-1,Ac.Main_Go=Wg.screen,Wg.label_init(),document.body.addEventListener("keydown",Ey,!1),Er(Wg.ids[10]),Wg.status?(bu(Wg.posY),hy(!0),du()):ny()}function ty(){Rc=0,Wg.label_exit(),document.body.removeEventListener("keydown",Ey),Cr(Wg.ids[10]),qr()}function ny(){Lr(),pu(Wg.table),qr(),Wg.cursor=null,Wg.status=!1,Wg.row=document.createElement("div"),Wg.MaxOffset=0,Wg.TopRowCreated=!1,Wg.offset=0,Wg.idObject={},Wg.Cells=[],Wg.FirstLoad=!0,Wg.itemsCount=0,Wg.posX=0,Wg.posY=0,Wg.row_id=0,Wg.currY=0,Wg.coloumn_id=0,Wg.data=null,Wg.data_cursor=0,Wg.dataEnded=!1,Dr(),iy(),ay()}function iy(){Wg.loadingData=!0,Wg.loadingDataTry=0,Wg.loadingDataTimeout=3500}function ay(){Wg.set_url(),fr&&!Wg.itemsCount?y_(Wg.url,Wg.loadingDataTimeout,2,null,sy,oy):b_(Wg.url,Wg.loadingDataTimeout,2,null,sy,oy,!1)}function oy(){Wg.loadingDataTry++,Wg.loadingDataTry<Wg.loadingDataTryMax?(Wg.loadingDataTimeout+=500,ay()):(Wg.loadingData=!1,Wg.itemsCount?Wg.dataEnded=!0:(Wg.FirstLoad=!1,Br(),Fr(P),Wg.key_exit()))}function sy(e){Wg.concatenate(e)}function dy(){var e=Wg.data.length-Wg.data_cursor;if(e>Wg.ItemsLimit?e=Wg.ItemsLimit:Wg.loadingData||(Wg.dataEnded=!0),Wg.HasSwitches&&!Wg.TopRowCreated&&Wg.addSwitches(),e){Wg.row_id||(Wg.row=document.createElement("div"),Wg.row.id=this.ids[12]+Wg.row_id);var t=Math.ceil(e/Wg.ColoumnsCount),n=Wg.row_id+t;for(Wg.row_id;Wg.row_id<n;){for(Wg.coloumn_id===Wg.ColoumnsCount&&(Wg.row=document.createElement("div"),Wg.row.id=this.ids[12]+Wg.row_id,Wg.coloumn_id=0),Wg.coloumn_id;Wg.coloumn_id<Wg.ColoumnsCount&&Wg.data_cursor<Wg.data.length;Wg.data_cursor++)Wg.data[Wg.data_cursor]&&Wg.addCell(Wg.data[Wg.data_cursor]);if(Wg.coloumn_id===Wg.ColoumnsCount)Wg.Cells[Wg.row_id]=Wg.row,Wg.row_id++;else if(Wg.data_cursor>=Wg.data.length){""!==Wg.row.innerHTML&&(Wg.Cells[Wg.row_id]=Wg.row);break}}}Wg.emptyContent=!e&&!Wg.status,fy()}function ly(e,t){var n=e+"_"+t;return(Lc=document.createElement("div")).style.cssText=Wg.ThumbCssText,n}function cy(e,t,n,i,a,o){var s=ly(e,t);return Lc.setAttribute("id",n[5]+s),Lc.setAttribute(sr,a),Lc.innerHTML='<div id="'+n[0]+s+'" class="stream_thumbnail_game"><div><img id="'+n[1]+s+'" class="stream_img" src="'+i+'" onerror="this.onerror=null;this.src=\''+Wg.img_404+'\'"></div><div id="'+n[2]+s+'" class="stream_text2"><div id="<div id="'+n[3]+s+'" class="stream_channel">'+a+"</div>"+(""!==o?'<div id="'+n[4]+s+'"class="stream_info" style="width: 100%; display: inline-block;">'+o+"</div>":"")+"</div></div>",Lc}function ry(e,t,n,i,a,o,s,d,l,c,r,u,_,f,h,m){var p=ly(e,t);return Lc.setAttribute("id",n[8]+p),Lc.setAttribute(sr,JSON.stringify([r,c,s[2],u,a,_,f,h,m,s[0],l,s[1]+s[2]])),Lc.innerHTML='<div id="'+n[0]+p+'" class="stream_thumbnail_clip"><div><img id="'+n[1]+p+'" class="stream_img" src="'+i+'" onerror="this.onerror=null;this.src=\''+Wg.img_404+'\'"></div><div id="'+n[2]+p+'" class="stream_text2"><div style="line-height: 14px;"><div id="'+n[3]+p+'" class="stream_channel" style="width: 72%; display: inline-block; font-size: 85%;">'+a+'</div><div id="'+n[7]+p+'"class="stream_info" style="width:27%; float: right; text-align: right; display: inline-block;">'+l+'</div></div><div id="'+n[11]+p+'"class="stream_info">'+s[0]+pi+s[1]+s[2]+'</div><div id="'+n[6]+p+'"class="stream_info">'+d+V+'</div><div  style="line-height: 12px;"><div id="'+n[4]+p+'"class="stream_info" style="width: 59%; display: inline-block;">'+o[0]+o[1]+'</div><div id="'+n[5]+p+'"class="stream_info" style="width: 39%; display: inline-block; float: right; text-align: right;">'+D+Jm(c)+"</div></div></div></div>",Lc}function uy(e,t,n,i,a){var o=ly(e,t);return Lc.setAttribute("id",i[8]+o),Lc.setAttribute(sr,JSON.stringify(n)),Lc.innerHTML='<div id="'+i[0]+o+'" class="stream_thumbnail_clip"><div><img id="'+i[1]+o+'" class="stream_img" src="'+a[0]+hr+'" onerror="this.onerror=null;this.src=\''+Wg.img_404+'\'"></div><div id="'+i[2]+o+'" class="stream_text2"><div style="line-height: 14px;"><div id="'+i[3]+o+'" class="stream_channel" style="width: 66%; display: inline-block;">'+a[1]+'</div><div id="'+i[7]+o+'"class="stream_info" style="width:33%; float: right; text-align: right; display: inline-block;">'+a[5]+'</div></div><div id="'+i[4]+o+'"class="stream_info">'+CI.parse(a[2])+'</div><div id="'+i[5]+o+'"class="stream_info">'+v+a[3]+'</div><div id="'+i[6]+o+'"class="stream_info">'+a[4]+"</div></div></div>",Lc}function _y(e,t,n,i,a){var o=ly(e,t);return Lc.setAttribute("id",i[8]+o),Lc.setAttribute(sr,JSON.stringify(n)),Lc.innerHTML='<div id="'+i[0]+o+'" class="stream_thumbnail_clip"'+(a[7]?' style="background-size: 0 0; background-image: url('+a[7]+');"':"")+'><div><img id="'+i[1]+o+'" class="stream_img" src="'+a[0]+'" onerror="this.onerror=null;this.src=\''+Wg.img_404+'\'"></div><div id="'+i[2]+o+'" class="stream_text2"><div style="line-height: 14px;"><div id="'+i[3]+o+'" class="stream_channel" style="width: 72%; display: inline-block; font-size: 85%;">'+a[1]+'</div><div id="'+i[7]+o+'"class="stream_info" style="width:27%; float: right; text-align: right; display: inline-block;">'+a[5]+'</div></div><div id="'+i[11]+o+'"class="stream_info">'+a[3]+'</div><div id="'+i[6]+o+'"class="stream_info">'+a[4]+'</div><div style="line-height: 12px;"><div id="'+i[4]+o+'"class="stream_info" style="width: 59%; display: inline-block;">'+a[2]+'</div><div id="'+i[5]+o+'"class="stream_info" style="width: 39%; display: inline-block; float: right; text-align: right;">'+a[6]+"</div></div></div></div>",Lc}function fy(){if(Wg.status)Vr(Wg.posX,Wg.posY,Wg.ColoumnsCount,Wg.itemsCount);else{if(Ac.Main_Go===ic&&xy(),Wg.emptyContent)Fr(Wg.empty_str());else{Wg.status=!0;for(var e=document.getElementById(Wg.table),t=0;t<(Wg.Cells.length<Wg.visiblerows?Wg.Cells.length:Wg.visiblerows);t++)e.appendChild(Wg.Cells[t])}Nc&&Wg.status&&ak.restor_playback.defaultValue?Ac.Play_WasPlaying?(cu(Ac.Main_Go),Ac.Main_Go=kc,Ac.vodOffset||(Ac.vodOffset=1),Ps=Ac.vodOffset+1,Km(qn),1===Ac.Play_WasPlaying?Ju():qu(),ou(!0),window.setTimeout(function(){Oh||$m()},2e3)):1!==kc?(cu(Ac.Main_Go),Ac.Main_Go=kc,Xu(Wg.posY+"_"+Wg.posX,Wg.ids),ou()):(Ac.Never_run&&Wr(),Ac.Never_run=!1,hy(),du()):(hy(),du()),Nc=!1,Wg.FirstLoad=!1,Br()}}function hy(e){if(Wg.emptyContent){if(!Wg.HasSwitches)return void Wg.key_exit();Wg.posY=-1}if(Wg.posY<0)return by(),void(Wg.emptyContent||Vr(Wg.posX,Wg.posY+1,Wg.ColoumnsCount,Wg.itemsCount));py(e),2<Wg.posY&&Wg.data_cursor+Jy>Wg.data.length&&!Wg.dataEnded&&!Wg.loadingData?(iy(),ay()):Wg.posY+Wg.ItemsReloadLimit>Wg.itemsCount/Wg.ColoumnsCount&&Wg.data_cursor<Wg.data.length&&Wu(function(){Wg.loadDataSuccess()}),Mc&&Xu(Wg.posY+"_"+Wg.posX,Wg.ids)}function my(e){return null!==document.getElementById(e)}function py(e){if(Wg.currY<Wg.posY)1<Wg.posY&&Wg.Cells.length-1>=Wg.posY+1&&(document.getElementById(Wg.table).appendChild(Wg.Cells[Wg.posY+1]),my(Wg.ids[12]+(Wg.posY-2))&&document.getElementById(Wg.ids[12]+(Wg.posY-2)).remove());else if(Wg.currY>Wg.posY&&Wg.posY){var t=document.getElementById(Wg.table);t.insertBefore(Wg.Cells[Wg.posY-1],t.childNodes[Wg.HasSwitches?1:0]),my(Wg.ids[12]+(Wg.posY+2))&&document.getElementById(Wg.ids[12]+(Wg.posY+2)).remove()}Wg.currY=Wg.posY,Ir(Wg.ids[0]+Wg.posY+"_"+Wg.posX,or),Vr(Wg.posX,Wg.posY,Wg.ColoumnsCount,Wg.itemsCount),Wg.addFocus(Wg.posY,Wg.posX,Wg.ids,e)}function vy(e,t,n,i){e<2&&wu(e)||i?e?tu(e+1,0,n[0])&&zu(n[10],-1*document.getElementById(n[8]+(e-1)+"_"+t).offsetTop-10):zu(n[10],.07*screen.height):Lu()}function gy(e,t,n,i){wu(e)||i?Wg.posY<Wg.Cells.length-1&&zu(n[10]?n[10]:n[7],-1*document.getElementById(n[5]+e+"_"+t).offsetTop+.025*screen.height):Wg.Cells.length-1===e&&tu(e-1,t,n[0])?zu(n[10]?n[10]:n[7],-1*document.getElementById(n[5]+(e-1)+"_"+t).offsetTop+.025*screen.height):Lu()}function yy(e,t){Xu(Wg.posY+"_"+Wg.posX,Wg.ids),Wg.HasAnimateThumb&&Er(Wg.ids[1]+Wg.posY+"_"+Wg.posX),Wg.posY+=e,Wg.posX=t,hy()}function by(){Wg.posX>Wg.SwitchesIcons.length-1?Wg.posX=0:Wg.posX<0&&(Wg.posX=Wg.SwitchesIcons.length-1),Ir(Wg.ids[0]+"y_"+Wg.posX,or)}function wy(){Wg.posX>Wg.SwitchesIcons.length-1?Wg.posX=0:Wg.posX<0&&(Wg.posX=Wg.SwitchesIcons.length-1),Sr(Wg.ids[0]+"y_"+Wg.posX,or)}function ky(e){Zr()?Qr():Yr()?Xr():(e===Wg.screen?Ac.Main_Go=ec:Ac.Main_Go=e,ty())}function Ay(e){if(!Wg.HasSwitches||Wg.posY||-1!==e||Wg.emptyContent){if(Wg.HasSwitches&&-1===Wg.posY&&tu(0,Wg.posX,Wg.ids[0]))Wg.posY=0,hy(),wy();else for(var t=0;t<Wg.ColoumnsCount;t++)if(tu(Wg.posY+e,Wg.posX-t,Wg.ids[0]))return void yy(e,Wg.posX-t)}else Xu(Wg.posY+"_"+Wg.posX,Wg.ids),Wg.HasAnimateThumb&&(window.clearInterval(this.AnimateThumbId),Er(Wg.ids[1]+Wg.posY+"_"+Wg.posX)),Wg.posY=-1,Wg.posX>Wg.SwitchesIcons.length-1&&(Wg.posX=1),by()}function Cy(e,t){Wg.HasSwitches&&-1===Wg.posY?(Wg.posY=-1,wy(),Wg.posX++,by()):tu(Wg.posY,Wg.posX+e,Wg.ids[0])?yy(0,Wg.posX+e):tu(Wg.posY+e,t,Wg.ids[0])&&yy(e,t)}function Ey(e){if(!Wg.FirstLoad&&!Gu())switch(Ou(),e.keyCode){case zi:Wg.loadingData||Wg.key_exit();break;case Vi:if(Wg.loadingData)break;Wg.posX?Cy(-1,Wg.ColoumnsCount-1):(Ac.Main_Go===ic&&(Ac.Main_OldgameSelected=Ac.Main_gameSelected),Wg.key_exit(!0),document.body.removeEventListener("keydown",Ey),lA(Ey,!0));break;case Hi:Wg.dataEnded||Wg.posX<Wg.ColoumnsCount-1||Wg.Cells.length-1>=Wg.posY+2?Cy(1,0):hy(!0);break;case Ji:Wg.HasSwitches?-1===Wg.posY?Wg.key_exit():Ay(-1):Wg.posY?Ay(-1):Wg.key_exit();break;case Fi:Wg.dataEnded||Wg.Cells.length-1>=Wg.posY+2?Ay(1):hy(!0);break;case Ni:case Ri:case Di:case qi:Wg.key_play()}}function My(){Wg.posX?1===Wg.posX?(Ac.Main_Go=yc,Ac.Main_OldgameSelected=Ac.Main_gameSelected,Iy(),su()):Sy():(Ac.Main_Go=gc,Ac.Main_OldgameSelected=Ac.Main_gameSelected,Iy(),su())}function Iy(){Wg.status&&-1===Wg.posY&&(wy(),Wg.posY=0,Wg.posX=0,Ir(Wg.ids[0]+"0_"+Wg.posX,or)),document.body.removeEventListener("keydown",Ey),Cr(Wg.ids[10])}function Sy(){mo()&&Ka[Ac.Users_Position].access_token?Wy?Fa():Va():(Fr(Bt),window.setTimeout(function(){Wg.emptyContent&&Ac.Main_Go===ic?Fr(T+Z):qr()},2e3))}function xy(){mo()?Xa():(Wy=!1,Py())}function Py(){xr(Ny.ids[3]+"y_2",Wy?'<i class="icon-heart" style="color: #00b300; font-size: 100%;"></i>'+Pi+Pi+Mt:'<i class="icon-heart-o" style="color: #FFFFFF; font-size: 100%; "></i>'+Pi+Pi+(mo()?It:Lt))}Wg.FirstLoad=!1;var Ty,Ly,By,Oy,Gy,Uy,Ry,Ny,Dy,Vy,Jy=100,Hy="",Fy="",qy="",zy="",Xy="",Yy="",jy=1,Wy=!1,Qy={posX:0,posY:0,currY:0,row_id:0,coloumn_id:0,dataEnded:!1,idObject:{},loadingData:!1,itemsCount:0,loadingDataTryMax:5,loadingDataTimeout:3500,MaxOffset:0,offset:0,status:!1,emptyContent:!1,itemsCountCheck:!1,FirstLoad:!1,row:0,data:null,data_cursor:0,loadDataSuccess:dy,set_ThumbSize:function(){this.ThumbCssText="width: "+this.ThumbSize+"%; display: inline-block; padding: 3px;"},key_exit:function(e){Zr()?Qr():Yr()?Xr():(tu(this.posY,this.posX,this.ids[0])?Xu(this.posY+"_"+this.posX,this.ids):this.posY<0&&(wy(),this.posY=0),e||o_(Ey)),sA()}},Zy={ThumbSize:32.65,visiblerows:3,ItemsLimit:Jc,ItemsReloadLimit:Fc,ColoumnsCount:Hc,addFocus:function(e,t,n,i){this.AnimateThumb(this),vy(e,t,n,i)},img_404:Gi,HasSwitches:!0,period:["day","week","month","all"],empty_str:function(){return T+(this.highlight?G:O)},SwitchesIcons:["movie-play","history"],addSwitches:function(){this.TopRowCreated=!0,this.row=document.createElement("div");for(var e,t,n=[Pi+Pi+p,Pi+Pi+r],i=0;i<n.length;i++)e='<i class="icon-'+this.SwitchesIcons[i]+' stream_channel_fallow_icon"></i>'+n[i],(t=document.createElement("div")).setAttribute("id",this.ids[8]+"y_"+i),t.className="stream_cell_period",t.innerHTML='<div id="'+this.ids[0]+"y_"+i+'" class="stream_thumbnail_channel_vod" ><div id="'+this.ids[3]+"y_"+i+'" class="stream_channel_fallow_game">'+e+"</div></div>",this.row.appendChild(t);document.getElementById(this.table).appendChild(this.row)},key_play:function(){-1===this.posY?0===this.posX?(this.highlight=!this.highlight,this.SetPeriod(),ny(),u_(this.highlightSTR,this.highlight?"true":"false")):(this.periodPos++,4<this.periodPos&&(this.periodPos=1),this.SetPeriod(),ny()):Fu(this.posY+"_"+this.posX,this.ids,Ey)},AnimateThumbId:null,HasAnimateThumb:!0,AnimateThumb:function(t){if(window.clearInterval(this.AnimateThumbId),jy){var n=document.getElementById(this.ids[0]+this.posY+"_"+this.posX);rI.onload=function(){this.onload=null,Cr(t.ids[1]+t.posY+"_"+t.posX),n.style.backgroundSize="612px";var e=0;t.AnimateThumbId=window.setInterval(function(){n.style.backgroundPosition="0px "+ ++e%10*-344+"px"},650)},rI.src=n.style.backgroundImage.replace(/url\(['"]?(.*?)['"]?\)/i,"$1")}}};function Ky(){(Dy=$g(Dy=$g({ids:Kg("Vod"),table:"stream_table_vod",screen:pc,highlightSTR:"Vod_highlight",highlight:h_("Vod_highlight",!1),periodPos:__("vod_periodPos",2),base_url:"https://api.twitch.tv/kraken/videos/top?limit="+Jy,set_url:function(){this.offset&&this.offset+Jy>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+"&broadcast_type="+(this.highlight?"highlight":"archive")+"&sort=views&offset="+this.offset+"&period="+this.period[this.periodPos-1]+(""!==Oc?"&language="+Oc:"")},label_init:function(){Ac.Main_CenterLablesVectorPos=4,Ir("top_bar_vod","icon_center_focus"),this.SetPeriod()},label_exit:function(){Pr("top_bar_vod",Kt),Sr("top_bar_vod","icon_center_focus")},SetPeriod:function(){xr("top_bar_vod",Kt+_u((this.highlight?G:O)+Uc[this.periodPos-1])),u_("vod_periodPos",this.periodPos)},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.MaxOffset=t._total,this.data=this.data.concat(t.vods),this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadingData=!1}else this.data=JSON.parse(e),this.MaxOffset=this.data._total,this.data=this.data.vods,this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadDataSuccess(),this.loadingData=!1},addCell:function(e){this.idObject[e._id]||-1!==(e.preview.template+"").indexOf("404_processing")||(this.itemsCount++,this.idObject[e._id]=1,this.row.appendChild(_y(this.row_id,this.coloumn_id,[e._id,e.length,e.channel.broadcaster_language,e.game,e.channel.name,e.increment_view_count_url],this.ids,[e.preview.template.replace("{width}x{height}",ir),e.channel.display_name,N+fu(e.created_at),CI.parse(e.title)+pi+Qt+v+e.game,Kr(e.views)+V,$r(e.resolutions.chunked.slice(-4),parseInt(e.fps.chunked)||0,e.channel.broadcaster_language),D+Jm(e.length),e.animated_preview_url])),this.coloumn_id++)}},Qy),Zy)).set_ThumbSize()}function $y(){(Vy=$g(Vy=$g({ids:Kg("AGameVod"),table:"stream_table_a_game_vod",screen:gc,highlightSTR:"AGameVod_highlight",highlight:h_("AGameVod_highlight",!1),periodPos:__("AGameVod_periodPos",2),base_url:"https://api.twitch.tv/kraken/videos/top?game=",set_url:function(){this.offset&&this.offset+Jy>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+encodeURIComponent(Ac.Main_gameSelected)+"&limit="+Jy+"&broadcast_type="+(this.highlight?"highlight":"archive")+"&sort=views&offset="+this.offset+"&period="+this.period[this.periodPos-1]+(""!==Oc?"&language="+Oc:"")},OldgameSelected:"",label_init:function(){null===Ac.Main_OldgameSelected&&(Ac.Main_OldgameSelected=Ac.Main_gameSelected),this.OldgameSelected!==Ac.Main_gameSelected&&(this.status=!1),Ac.Main_CenterLablesVectorPos=3,Ir("top_bar_game","icon_center_focus"),this.SetPeriod()},label_exit:function(){this.OldgameSelected=Ac.Main_gameSelected,Pr("top_bar_game",b),Sr("top_bar_game","icon_center_focus")},SetPeriod:function(){xr("top_bar_game",b+_u((this.highlight?G:O)+Uc[this.periodPos-1])),u_("AGameVod_periodPos",this.periodPos)},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.MaxOffset=t._total,this.data=this.data.concat(t.vods),this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadingData=!1}else this.data=JSON.parse(e),this.MaxOffset=this.data._total,this.data=this.data.vods,this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadDataSuccess(),this.loadingData=!1},addCell:function(e){this.idObject[e._id]||-1!==(e.preview.template+"").indexOf("404_processing")||(this.itemsCount++,this.idObject[e._id]=1,this.row.appendChild(_y(this.row_id,this.coloumn_id,[e._id,e.length,e.channel.broadcaster_language,e.game,e.channel.name,e.increment_view_count_url],this.ids,[e.preview.template.replace("{width}x{height}",ir),e.channel.display_name,N+fu(e.created_at),CI.parse(e.title)+pi+Qt+v+e.game,Kr(e.views)+V,$r(e.resolutions.chunked.slice(-4),parseInt(e.fps.chunked)||0,e.channel.broadcaster_language),D+Jm(e.length),e.animated_preview_url])),this.coloumn_id++)}},Qy),Zy)).set_ThumbSize()}var eb={ThumbSize:32.65,visiblerows:3,ItemsLimit:Jc,ItemsReloadLimit:Fc,ColoumnsCount:Hc,addFocus:vy,img_404:Gi,empty_str:function(){return T+W}};function tb(){(Uy=$g(Uy=$g({ids:Kg("Live"),table:"stream_table_live",screen:ec,base_url:"https://api.twitch.tv/kraken/streams?limit="+Jy,set_url:function(){this.offset&&this.offset+Jy>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+"&offset="+this.offset+(""!==Oc?"&broadcaster_language="+Oc:"")},label_init:function(){Ac.Main_CenterLablesVectorPos=0,Ir("top_bar_live","icon_center_focus")},label_exit:function(){Sr("top_bar_live","icon_center_focus")},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.MaxOffset=t._total,this.data=this.data.concat(t.streams),this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadingData=!1}else this.data=JSON.parse(e),this.MaxOffset=this.data._total,this.data=this.data.streams,this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadDataSuccess(),this.loadingData=!1},addCell:function(e){this.idObject[e.channel._id]||(this.itemsCount++,this.idObject[e.channel._id]=1,this.row.appendChild(uy(this.row_id,this.coloumn_id,[e.channel.name,e.channel._id,e.channel.status],this.ids,[e.preview.template.replace("{width}x{height}",ir),eu(JSON.stringify(e.stream_type))+e.channel.display_name,e.channel.status,e.game,y+Fm(e.created_at)+" "+m+Kr(e.viewers)+J,$r(e.video_height,e.average_fps,e.channel.broadcaster_language)])),this.coloumn_id++)},key_play:function(){Vu(this.posY+"_"+this.posX,this.ids,Ey)}},Qy),eb)).set_ThumbSize()}function nb(){(Ny=$g(Ny=$g({ids:Kg("AGame"),table:"stream_table_a_game",screen:ic,base_url:"https://api.twitch.tv/kraken/streams?game=",set_url:function(){this.offset&&this.offset+Jy>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+encodeURIComponent(Ac.Main_gameSelected)+"&limit="+Jy+"&offset="+this.offset+(""!==Oc?"&broadcaster_language="+Oc:"")},label_init:function(){null===Ac.Main_OldgameSelected&&(Ac.Main_OldgameSelected=Ac.Main_gameSelected),Ac.Main_CenterLablesVectorPos=3,Ir("top_bar_game","icon_center_focus"),Ar("label_side_panel","icon-arrow-circle-left",I),Sr("top_bar_user","icon_center_focus"),Ar("label_refresh","icon-refresh",t+Yt),Pr("top_bar_user",_),Ac.Main_OldgameSelected!==Ac.Main_gameSelected&&(this.status=!1),Ac.Search_isSearching&&(uu(),xr("top_bar_user",n+_u(h+" '"+Ac.Search_data+"'"))),xr("top_bar_game",b+_u(f+": "+Ac.Main_gameSelected))},label_exit:function(){Ac.Main_OldgameSelected=Ac.Main_gameSelected,Ar("label_side_panel","icon-ellipsis",Rn),xr("top_bar_game",h),Sr("top_bar_game","icon_center_focus")},HasSwitches:!0,SwitchesIcons:["movie-play","movie","heart-o"],addSwitches:function(){this.TopRowCreated=!0,this.row=document.createElement("div");for(var e,t,n=[Pi+Pi+Kt,Pi+Pi+U,Pi+Pi+It],i=0;i<n.length;i++)e='<i class="icon-'+this.SwitchesIcons[i]+' stream_channel_fallow_icon"></i>'+n[i],(t=document.createElement("div")).setAttribute("id",this.ids[8]+"y_"+i),t.className="stream_cell_period",t.innerHTML='<div id="'+this.ids[0]+"y_"+i+'" class="stream_thumbnail_channel_vod" ><div id="'+this.ids[3]+"y_"+i+'" class="stream_channel_fallow_game">'+e+"</div></div>",this.row.appendChild(t);document.getElementById(this.table).appendChild(this.row)},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.MaxOffset=t._total,this.data=this.data.concat(t.streams),this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadingData=!1}else this.data=JSON.parse(e),this.MaxOffset=this.data._total,this.data=this.data.streams,this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadDataSuccess(),this.loadingData=!1},addCell:function(e){this.idObject[e.channel._id]||(this.itemsCount++,this.idObject[e.channel._id]=1,this.row.appendChild(uy(this.row_id,this.coloumn_id,[e.channel.name,e.channel._id,e.channel.status],this.ids,[e.preview.template.replace("{width}x{height}",ir),eu(JSON.stringify(e.stream_type))+e.channel.display_name,e.channel.status,e.game,y+Fm(e.created_at)+" "+m+Kr(e.viewers)+J,$r(e.video_height,e.average_fps,e.channel.broadcaster_language)])),this.coloumn_id++)},key_play:function(){-1!==this.posY?Vu(this.posY+"_"+this.posX,this.ids,Ey):My()}},Qy),eb)).set_ThumbSize()}function ib(){(Ry=$g(Ry=$g({ids:Kg("Featured"),table:"stream_table_featured",screen:bc,base_url:"https://api.twitch.tv/kraken/streams/featured?limit="+Jy,set_url:function(){this.url=this.base_url+"&offset="+this.offset+(mo()&&Ka[Ac.Users_Position].access_token?"&oauth_token="+Ka[Ac.Users_Position].access_token:"")},label_init:function(){Ac.Main_CenterLablesVectorPos=2,Ir("top_bar_featured","icon_center_focus")},label_exit:function(){Sr("top_bar_featured","icon_center_focus")},concatenate:function(e){this.data=JSON.parse(e),this.data=this.data.featured,this.dataEnded=!0,this.loadDataSuccess(),this.loadingData=!1},addCell:function(e){e=e.stream,this.idObject[e.channel._id]||(this.itemsCount++,this.idObject[e.channel._id]=1,this.row.appendChild(uy(this.row_id,this.coloumn_id,[e.channel.name,e.channel._id,e.channel.status],this.ids,[e.preview.template.replace("{width}x{height}",ir),eu(JSON.stringify(e.stream_type))+e.channel.display_name,e.channel.status,e.game,y+Fm(e.created_at)+" "+m+Kr(e.viewers)+J,$r(e.video_height,e.average_fps,e.channel.broadcaster_language)])),this.coloumn_id++)},key_play:function(){Vu(this.posY+"_"+this.posX,this.ids,Ey)}},Qy),eb)).set_ThumbSize()}var ab={ThumbSize:32.65,ItemsLimit:Jc,TopRowCreated:!1,ItemsReloadLimit:Fc,ColoumnsCount:Hc,addFocus:vy,cursor:null,visiblerows:3,period:["day","week","month","all"],img_404:Gi,empty_str:function(){return T+U},HasSwitches:!0,SwitchesIcons:["history","play-1"],addSwitches:function(){this.TopRowCreated=!0,this.row=document.createElement("div");for(var e,t,n=[Pi+Pi+r,Pi+Pi+di],i=0;i<n.length;i++)e='<i class="icon-'+this.SwitchesIcons[i]+' stream_channel_fallow_icon"></i>'+n[i],(t=document.createElement("div")).setAttribute("id",this.ids[8]+"y_"+i),t.className="stream_cell_period",t.innerHTML='<div id="'+this.ids[0]+"y_"+i+'" class="stream_thumbnail_channel_vod" ><div id="'+this.ids[3]+"y_"+i+'" class="stream_channel_fallow_game">'+e+"</div></div>",this.row.appendChild(t);document.getElementById(this.table).appendChild(this.row)},key_play:function(){-1===this.posY?this.loadingData||(this.posX?(af=!0,wy(),this.posX=0,this.posY=0,Hu(this.posY+"_"+this.posX,this.ids,Ey)):(this.periodPos++,4<this.periodPos&&(this.periodPos=1),this.SetPeriod(),ny())):Hu(this.posY+"_"+this.posX,this.ids,Ey)},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.cursor=t._cursor,""===this.cursor&&(this.dataEnded=!0),this.data=this.data.concat(t.clips),this.loadingData=!1}else this.data=JSON.parse(e),this.cursor=this.data._cursor,""===this.cursor&&(this.dataEnded=!0),this.data=this.data.clips,this.loadDataSuccess(),this.loadingData=!1},Cells:[],addCell:function(e){this.idObject[e.tracking_id]||(this.itemsCount++,this.idObject[e.tracking_id]=1,this.row.appendChild(ry(this.row_id,this.coloumn_id,this.ids,e.thumbnails.medium,e.broadcaster.display_name,[on,fu(e.created_at)],[CI.parse(e.title),v,e.game],Kr(e.views),"["+e.language.toUpperCase()+"]",e.duration,e.slug,e.broadcaster.name,e.broadcaster.logo.replace("150x150","300x300"),e.broadcaster.id,null!==e.vod?e.vod.id:null,null!==e.vod?e.vod.offset:null)),this.coloumn_id++)}};function ob(){(Ty=$g(Ty=$g({ids:Kg("Clip"),table:"stream_table_clip",screen:vc,periodPos:__("Clip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?limit="+Jy,set_url:function(){this.url=this.base_url+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")+(""!==Oc?"&language="+Oc:"")},SetPeriod:function(){xr("top_bar_clip",U+_u(Uc[this.periodPos-1])),u_("Clip_periodPos",this.periodPos)},label_init:function(){Ac.Main_CenterLablesVectorPos=5,this.SetPeriod(),Ir("top_bar_clip","icon_center_focus"),Ar("label_refresh","icon-refresh",t+Yt)},label_exit:function(){ru(),Sr("top_bar_clip","icon_center_focus"),Ar("label_refresh","icon-refresh",t+Yt)}},Qy),ab)).set_ThumbSize()}function sb(){(Ly=$g(Ly=$g({ids:Kg("ChannelClip"),table:"stream_table_channel_clip",screen:_c,periodPos:__("ChannelClip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?channel=",set_url:function(){this.url=this.base_url+encodeURIComponent(Ac.Main_selectedChannel)+"&limit="+Jy+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")},SetPeriod:function(){xr("top_bar_game",U+Uc[this.periodPos-1]),u_("ChannelClip_periodPos",this.periodPos)},label_init:function(){Ac.Main_CenterLablesVectorPos=1,!Ac.Search_isSearching&&Ac.Main_selectedChannel_id&&ps(),Ac.Main_selectedChannel!==this.lastselectedChannel&&(this.status=!1),uu(),this.SetPeriod(),Pr("top_bar_user",Ac.Main_selectedChannelDisplayname),Ar("label_side_panel","icon-arrow-circle-left",I),this.lastselectedChannel=Ac.Main_selectedChannel},label_exit:ru},Qy),ab)).set_ThumbSize()}function db(){(By=$g(By=$g({ids:Kg("AGameClip"),table:"stream_table_a_game_clip",screen:yc,periodPos:__("AGameClip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?game=",set_url:function(){this.url=this.base_url+encodeURIComponent(Ac.Main_gameSelected)+"&limit="+Jy+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")+(""!==Oc?"&language="+Oc:"")},SetPeriod:function(){xr("top_bar_game",b+_u(U+Uc[this.periodPos-1]+": "+Ac.Main_gameSelected)),u_("AGameClip_periodPos",this.periodPos)},label_init:function(){Ac.Main_CenterLablesVectorPos=3,this.SetPeriod(),Ir("top_bar_game","icon_center_focus"),Ar("label_side_panel","icon-arrow-circle-left",I),this.gameSelected!==Ac.Main_gameSelected&&(this.status=!1),this.gameSelected=Ac.Main_gameSelected},label_exit:function(){Sr("top_bar_game","icon_center_focus"),xr("top_bar_game",h),Ar("label_side_panel","icon-ellipsis",Rn)}},Qy),ab)).set_ThumbSize()}var lb={ThumbSize:19.35,visiblerows:3,ItemsLimit:qc,ItemsReloadLimit:Xc,ColoumnsCount:zc,addFocus:gy,img_404:Bi,empty_str:function(){return T+Z},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.MaxOffset=t._total,this.data=this.data.concat(this.screen===sc?t.follows:t.top),this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadingData=!1}else this.data=JSON.parse(e),this.MaxOffset=this.data._total,this.data=this.screen===sc?this.data.follows:this.data.top,this.offset=this.data.length,this.isLive?this.dataEnded=!0:this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadDataSuccess(),this.loadingData=!1},key_play:function(){Ac.Main_gameSelected=document.getElementById(this.ids[5]+this.posY+"_"+this.posX).getAttribute(sr),document.body.removeEventListener("keydown",Ey),Ac.Main_BeforeAgame=this.screen,Ac.Main_Go=ic,Ac.Main_BeforeAgameisSet=!0,Rc=0,document.body.removeEventListener("keydown",Ey),Cr(this.ids[10]),su(),Xu(this.posY+"_"+this.posX,this.ids)},addCell:function(e){var t=this.isLive||this.screen===nc,n=t?e.game:e;this.idObject[n._id]||(this.itemsCount++,this.idObject[n._id]=1,this.row.appendChild(cy(this.row_id,this.coloumn_id,this.ids,n.box.template.replace("{width}x{height}",ar),n.name,t?Kr(e.channels)+" "+E+m+Kr(e.viewers)+J:"")),this.coloumn_id++)}};function cb(){(Oy=$g(Oy=$g({ids:Kg("Game"),table:"stream_table_games",screen:nc,base_url:"https://api.twitch.tv/kraken/games/top?limit="+Jy,set_url:function(){this.offset&&this.offset+Jy>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+"&offset="+this.offset},label_init:function(){Ac.Main_CenterLablesVectorPos=3,Ir("top_bar_game","icon_center_focus")},label_exit:function(){Sr("top_bar_game","icon_center_focus")}},Qy),lb)).set_ThumbSize()}function rb(){(Gy=$g(Gy=$g({ids:Kg("UserGames"),table:"stream_table_user_games",screen:sc,isLive:h_("user_Games_live",!0),OldUserName:"",base_url:"https://api.twitch.tv/api/users/",set_url:function(){this.offset&&this.offset+Jy>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+encodeURIComponent(Ka[Ac.Users_Position].name)+"/follows/games",this.isLive?this.url+="/live?limit=750":this.url+="?limit="+Jy+"&offset="+this.offset},key_refresh:function(){this.isLive=!this.isLive,xr("top_bar_user",_+_u(Ka[Ac.Users_Position].name+" "+(this.isLive?Z:zt))),ny(),u_("user_Games_live",this.isLive?"true":"false"),aM&&_M()},label_init:function(){Ac.Main_CenterLablesVectorPos=1,Ar("label_refresh","icon-refresh",Xt+Z+"/"+zt+":"+Yt),Ar("label_side_panel","icon-arrow-circle-left",I),Ir("top_bar_user","icon_center_focus"),this.OldUserName!==Ka[Ac.Users_Position].name&&(this.status=!1),this.OldUserName=Ka[Ac.Users_Position].name,xr("top_bar_user",_+_u(Ka[Ac.Users_Position].name+" "+(this.isLive?Z:zt)))},label_exit:function(){Ac.Users_Position=0,Sr("top_bar_user","icon_center_focus"),Ar("label_refresh","icon-refresh",t+Yt),Pr("top_bar_user",_),Ar("label_side_panel","icon-ellipsis",Rn)}},Qy),lb)).set_ThumbSize()}var ub=0,_b=0,fb=!1,hb=0,mb={},pb=[],vb=!1,gb=0,yb=5,bb=3500,wb=0,kb=0,Ab=!1,Cb=!1,Eb="",Mb=!1,Ib=["sc_thumbdiv","sc_img","sc_infodiv","sc_displayname","sc_cell","scempty_","search_channel_scroll"];function Sb(){Ac.Main_CenterLablesVectorPos=1,Ac.Main_Go=mc,Ac.isLastSChannels=!0,Ac.Search_isSearching=!0,Eb!==Ac.Search_data&&(Cb=!1),uu(),xr("top_bar_user",n+_u(E+" '"+Ac.Search_data+"'")),document.body.addEventListener("keydown",Hb,!1),Cb?(bu(ub),Er(Ib[6]),Vb(),du()):Pb()}function xb(){ru(),document.body.removeEventListener("keydown",Hb),Cr(Ib[6])}function Pb(){pu("stream_table_search_channel"),Cr(Ib[6]),Lr(),qr(),Eb=Ac.Search_data,Cb=!1,mb={},i_=!(hb=kb=wb=0),ub=_b=0,fb=Mb=!(pb=[]),Dr(),Tb(),Lb()}function Tb(){gu(),vb=!0,gb=0,bb=3500}function Lb(){var e=hb+wb;e&&kb-1<e&&(e=kb-Yc,fb=!0);var t="https://api.twitch.tv/kraken/search/channels?query="+encodeURIComponent(Ac.Search_data)+"&limit="+Yc+"&offset="+e;fr&&!hb?y_(t,bb,2,null,Ob,Bb):b_(t,bb,2,null,Ob,Bb,!1)}function Bb(){++gb<yb?(bb+=500,Lb()):(vb=!1,hb?(fb=!0,Ub()):(i_=!1,Br(),Fr(P)))}function Ob(e){var t=JSON.parse(e),n=t.channels.length;kb=parseInt(t._total),n<Yc&&(fb=!0);var i=hb;Ab=!(hb+=n);var a=n/jc;0<n%jc&&a++;for(var o,s,d,l,c,r=0,u=document.getElementById("stream_table_search_channel"),_=0;_<a;_++){for(s=i/jc+_,d=document.createElement("tr"),o=0;o<jc&&r<n;o++,r++)c=(l=t.channels[r])._id,mb[c]?o--:(mb[c]=1,d.appendChild(Gb(s,s+"_"+o,[l.name,c,l.logo,l.display_name])));for(;o<jc;o++)fb&&!Mb&&(Mb=!0,hb=s*jc+o),d.appendChild(Au(Ib[5]+s+"_"+o)),pb.push(Ib[5]+s+"_"+o);u.appendChild(d)}Ub()}function Gb(e,t,n){return e<4&&ku(n[2]),Cu(t,Ib,n)}function Ub(){if(Cb){if(vu(Oi),0<pb.length&&!fb)return Tb(),void Rb();Vb(!0),pb=[]}else Ab?Fr(d):(Cb=!0,vu(Oi),Vb(),du()),Er(Ib[6]),i_=!1,Br();vb=!1}function Rb(){Hr(pb.length);var e=hb+wb;e&&kb-1<e&&(e=kb-Qc,fb=!0),v_("https://api.twitch.tv/kraken/search/channels?query="+encodeURIComponent(Ac.Search_data)+"&limit="+Qc+"&offset="+e,bb,2,null,Db,Nb)}function Nb(){++gb<yb?(bb+=500,Rb()):(fb=!0,hb-=pb.length,pb=[],Ub())}function Db(e){var t,n,i=JSON.parse(e),a=i.channels.length,o=0,s=0,d=[];for(kb=parseInt(i._total),a<Qc&&(fb=!0);o<pb.length&&s<a;o++,s++)n=(t=i.channels[s])._id,mb[n]?o--:(mb[n]=1,Eu(pb[o],[t.name,n,t.logo,t.display_name],Ib),d.push(o));for(o=d.length-1;-1<o;o--)pb.splice(d[o],1);wb+=s,fb&&(hb-=pb.length,pb=[]),Ub()}function Vb(e){Uu(ub,_b,Ib,jc,hb,e),hb/jc<ub+Wc&&!fb&&!vb&&(Tb(),Lb()),Mc&&Jb()}function Jb(){hb&&Xu(ub+"_"+_b,Ib)}function Hb(e){var t;if(!i_&&!Gu())switch(Ou(),e.keyCode){case zi:Zr()?Qr():Yr()?Xr():(Jb(),o_(Hb)),sA();break;case Vi:if(_b){if(tu(ub,_b-1,Ib[0]))Jb(),_b--,Vb();else for(t=jc-1;-1<t;t--)if(tu(ub-1,t,Ib[0])){Jb(),ub--,_b=t,Vb();break}}else Jb(),lA(Hb,!0);break;case Hi:tu(ub,_b+1,Ib[0])?(Jb(),_b++,Vb()):tu(ub+1,0,Ib[0])&&(Jb(),ub++,_b=0,Vb());break;case Ji:if(ub){for(t=0;t<jc;t++)if(tu(ub-1,_b-t,Ib[0])){Jb(),ub--,_b-=t,Vb();break}}else Jb(),o_(Hb);break;case Fi:for(t=0;t<jc;t++)if(tu(ub+1,_b-t,Ib[0])){Jb(),ub++,_b-=t,Vb();break}break;case Ni:case Ri:case Di:case qi:Ac.Main_selectedChannel=document.getElementById(Ib[4]+ub+"_"+_b).getAttribute(sr),Ac.Main_selectedChannel_id=document.getElementById(Ib[4]+ub+"_"+_b).getAttribute("data-id"),Ac.Main_selectedChannelDisplayname=document.getElementById(Ib[3]+ub+"_"+_b).textContent,document.body.removeEventListener("keydown",Hb),Ac.Main_BeforeChannel=mc,Ac.Main_Go=rc,Ac.Main_BeforeChannelisSet=!0,Lo=ea=!1,Cr(Ib[6]),ou()}}var Fb=!1,qb=0,zb=0,Xb=0,Yb=0,jb=5,Wb=3500,Qb=0,Zb=0,Kb=!1,$b=!1,ew="",tw=["sgthumbdiv","sgimg","sginfodiv","sgdisplayname","sgviwers","sgcell","sgempty_","search_games_scroll"];function nw(){Ac.Main_CenterLablesVectorPos=1,Ac.Main_Go=lc,Ac.Search_isSearching=!0,uu(),ew!==Ac.Search_data&&(Fb=!1),xr("top_bar_user",n+_u(h+" '"+Ac.Search_data+"'")),document.body.addEventListener("keydown",fw,!1),Fb?(bu(qb),Er(tw[7]),uw(),du()):aw()}function iw(){Ac.Search_isSearching||ru(),document.body.removeEventListener("keydown",fw),Ac.Games_return=!1,Cr(tw[7])}function aw(){pu("stream_table_search_game"),Cr(tw[7]),Lr(),qr(),ew=Ac.Search_data,$b=Fb=!1,qb=zb=Xb=Zb=Qb=0,Dr(),ow(),sw()}function ow(){gu(),i_=!0,Yb=0,Wb=3500}function sw(){v_("https://api.twitch.tv/kraken/search/games?query="+encodeURIComponent(Ac.Search_data),Wb,2,null,lw,dw)}function dw(){++Yb<jb?(Wb+=500,sw()):(i_=!1,Xb?rw():(Br(),Fr(P)))}function lw(e){var t=JSON.parse(e),n=0;null!==t.games&&(n=t.games.length);var i=Xb;Kb=!(Xb+=n);var a=n/zc;0<n%zc&&a++;for(var o,s,d,l,c=0,r=document.getElementById("stream_table_search_game"),u=0;u<a;u++){for(s=i/zc+u,d=document.createElement("tr"),o=0;o<zc&&c<n;o++,c++)l=t.games[c],d.appendChild(cw(s,s+"_"+o,[l.name,l.box.template.replace("{width}x{height}",ar),""]));for(;o<zc;o++)$b||($b=!0,Xb=s*zc+o),d.appendChild(Au(tw[6]+s+"_"+o));r.appendChild(d)}rw()}function cw(e,t,n){return e<2&&ku(n[1]),Pu(t,tw,n)}function rw(){Fb||(Kb?Fr(d):(Fb=!0,vu(Gi),uw(),du()),Br()),Er(tw[7]),i_=!1,Vr(zb,qb,zc,Xb)}function uw(){Nu(qb,zb,tw,zc,Xb),Mc&&_w()}function _w(){Xb&&Xu(qb+"_"+zb,tw)}function fw(e){var t;if(!i_&&!Gu())switch(Ou(),e.keyCode){case zi:Zr()?Qr():Yr()?Xr():(_w(),o_(fw)),sA();break;case Vi:if(zb){if(tu(qb,zb-1,tw[0]))_w(),zb--,uw();else for(t=zc-1;-1<t;t--)if(tu(qb-1,t,tw[0])){_w(),qb--,zb=t,uw();break}}else _w(),lA(fw,!0);break;case Hi:tu(qb,zb+1,tw[0])?(_w(),zb++,uw()):tu(qb+1,0,tw[0])&&(_w(),qb++,zb=0,uw());break;case Ji:if(qb){for(t=0;t<zc;t++)if(tu(qb-1,zb-t,tw[0])){_w(),qb--,zb-=t,uw();break}}else _w(),o_(fw);break;case Fi:for(t=0;t<zc;t++)if(tu(qb+1,zb-t,tw[0])){_w(),qb++,zb-=t,uw();break}break;case Ni:case Ri:case Di:case qi:Ac.gameSelectedOld=Ac.Main_gameSelected,iw(),Ac.Main_gameSelected=document.getElementById(tw[5]+qb+"_"+zb).getAttribute(sr),document.body.removeEventListener("keydown",fw),Ac.Main_Go=ic,Ac.Games_return=!0,ou()}}var hw=0,mw=0,pw=!1;function vw(){qr(),Cr("label_refresh"),Ar("label_side_panel","icon-arrow-circle-left",I),Pr("top_bar_user",n),document.getElementById("top_lables").style.marginLeft="14%",document.getElementById("top_bar_live").style.display="none",document.getElementById("top_bar_featured").style.display="none",document.getElementById("top_bar_game").style.display="none",document.getElementById("top_bar_vod").style.display="none",document.getElementById("top_bar_clip").style.display="none",Fl.placeholder=w,Ir("top_bar_user","icon_center_focus"),Er("search_scroll"),mw=hw=0,bw(),kw()}function gw(){Aw(!1),document.body.removeEventListener("keydown",ww),bw(),Ac.Main_Go=Ac.Main_BeforeSearch,document.getElementById("top_lables").style.marginLeft="18.5%",Pr("top_bar_user",_),Sr("top_bar_user","icon_center_focus"),Ar("label_side_panel","icon-ellipsis",Rn),Er("label_refresh"),document.getElementById("top_bar_live").style.display="inline-block",document.getElementById("top_bar_featured").style.display="inline-block",document.getElementById("top_bar_game").style.display="inline-block",document.getElementById("top_bar_vod").style.display="inline-block",document.getElementById("top_bar_clip").style.display="inline-block",Fl.value="",Cr("search_scroll")}function yw(){gw(),Wu(function(){mw?1===mw?nw():2===mw&&Fw():Sb()})}function bw(){Sr("chanel_button","button_search_focused"),Sr("game_button","button_search_focused"),Sr("live_button","button_search_focused"),hw&&(mw?1===mw?Ir("game_button","button_search_focused"):2===mw&&Ir("live_button","button_search_focused"):Ir("chanel_button","button_search_focused"))}function ww(e){if(!pw)switch(e.keyCode){case zi:Zr()?Qr():Yr()?Xr():(gw(),ou());break;case Vi:1===hw&&(--mw<0&&(mw=2),bw());break;case Hi:1===hw&&(2<++mw&&(mw=0),bw());break;case Ji:1===hw&&(hw=0,bw(),kw());break;case Fi:hw?1===hw&&(hw=0,bw(),kw()):(Aw(!1),hw=1,bw());break;case Ni:case Ri:case Di:case qi:hw?""!==Fl.value&&null!==Fl.value?(Ac.Search_data=Fl.value,Fl.value="",yw()):(Fr(s),window.setTimeout(function(){qr()},1e3)):kw()}}function kw(){document.body.removeEventListener("keydown",ww),document.body.addEventListener("keydown",Ew,!1),Fl.placeholder=w,Fl.focus(),pw=!0}function Aw(e){Fl.blur(),Cw(),document.body.removeEventListener("keydown",Ew),Fl.placeholder=C+w,e&&document.body.addEventListener("keydown",ww,!1),pw=!1}function Cw(){if(null!==Fl){var e=Fl.cloneNode(!0);Fl.parentNode.replaceChild(e,Fl),Fl=document.getElementById("search_input")}}function Ew(e){switch(e.keyCode){case zi:Yr()?Xr():Zr()?Qr():(gw(),ou());break;case Wi:Fl.value="";break;case Yi:case Fi:Aw(!0),hw=1,bw();break;case Xi:Fl.value=Fl.value.slice(0,-1);break;case ji:Fl.value+=" "}}var Mw=0,Iw=0,Sw=!1,xw=0,Pw={},Tw=[],Lw=!1,Bw=0,Ow=5,Gw=3500,Uw=0,Rw=0,Nw=!1,Dw=!1,Vw=!1,Jw="",Hw=["sl_thumbdiv","sl_img","sl_infodiv","sl_displayname","sl_streamtitle","sl_streamgame","sl_viwers","sl_quality","sl_cell","slempty_","search_live_scroll"];function Fw(){Ac.Main_CenterLablesVectorPos=1,Ac.Main_Go=cc,Ac.Search_isSearching=!0,uu(),Jw!==Ac.Search_data&&(Dw=!1),xr("top_bar_user",n+_u(f+" '"+Ac.Search_data+"'")),document.body.addEventListener("keydown",nk,!1),Dw?(bu(Mw),Er(Hw[10]),ek(),du()):zw()}function qw(){ru(),document.body.removeEventListener("keydown",nk),Cr(Hw[10])}function zw(){pu("stream_table_search_live"),Cr(Hw[10]),Lr(),qr(),Jw=Ac.Search_data,Dw=!1,i_=!(Vw=!(Tw=[])),Mw=Iw=xw=Rw=Uw=0,Sw=!(Pw={}),Dr(),Xw(),Yw()}function Xw(){gu(),Lw=!0,Bw=0,Gw=3500}function Yw(){var e=xw+Uw;e&&Rw-1<e&&(e=Rw-Jc,Sw=!0);var t="https://api.twitch.tv/kraken/search/streams?query="+encodeURIComponent(Ac.Search_data)+"&limit="+Jc+"&offset="+e;fr&&!xw?y_(t,Gw,2,null,Ww,jw):b_(t,Gw,2,null,Ww,jw,!1)}function jw(){++Bw<Ow?(Gw+=500,Yw()):(Lw=!1,xw?(Sw=!0,Qw()):(i_=!1,Br(),Fr(P)))}function Ww(e){var t=JSON.parse(e),n=t.streams.length;Rw=parseInt(t._total),n<Jc&&(Sw=!0);var i=xw;Nw=!(xw+=n);var a=n/Hc;0<n%Hc&&a++;for(var o,s,d,l,c,r=0,u=document.getElementById("stream_table_search_live"),_=0;_<a;_++){for(s=i/Hc+_,d=document.createElement("tr"),o=0;o<Hc&&r<n;o++,r++)c=(l=t.streams[r]).channel._id,Pw[c]?o--:(Pw[c]=1,d.appendChild(Iu(s,s+"_"+o,[l.channel.name,c],Hw,[l.preview.template.replace("{width}x{height}",ir),eu(JSON.stringify(l.stream_type))+l.channel.display_name,l.channel.status,l.game,y+Fm(l.created_at)+" "+m+Kr(l.viewers)+J,$r(l.video_height,l.average_fps,l.channel.broadcaster_language)])));for(;o<Hc;o++)Sw&&!Vw&&(Vw=!0,xw=s*Hc+o),d.appendChild(Au(Hw[9]+s+"_"+o)),Tw.push(Hw[9]+s+"_"+o);u.appendChild(d)}Qw()}function Qw(){if(Dw){if(vu(Gi),0<Tw.length&&!Sw)return Xw(),void Zw();ek(!0),Tw=[]}else Nw?Fr(d):(Dw=!0,vu(Gi),ek(),du()),Er(Hw[10]),i_=!1,Br();Lw=!1}function Zw(){Hr(Tw.length);var e=xw+Uw;e&&Rw-1<e&&(e=Rw-Qc,Sw=!0),v_("https://api.twitch.tv/kraken/search/streams?query="+encodeURIComponent(Ac.Search_data)+"&limit="+Qc+"&offset="+e,Gw,2,null,$w,Kw)}function Kw(){++Bw<Ow?(Gw+=500,Zw()):(Sw=!0,xw-=Tw.length,Tw=[],Qw())}function $w(e){var t,n,i=JSON.parse(e),a=i.streams.length,o=0,s=0,d=[];for(Rw=parseInt(i._total),a<Qc&&(Sw=!0);o<Tw.length&&s<a;o++,s++)n=(t=i.streams[s]).channel._id,Pw[n]?o--:(Pw[n]=1,Su(Tw[o],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",ir),eu(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+Fm(t.created_at)+" "+m+Kr(t.viewers)+J,$r(t.video_height,t.average_fps,t.channel.broadcaster_language)],Hw),d.push(o));for(o=d.length-1;-1<o;o--)Tw.splice(d[o],1);Uw+=s,Sw&&(xw-=Tw.length,Tw=[]),Qw()}function ek(e){Ru(Mw,Iw,Hw,Hc,xw,e),xw/Hc<Mw+Fc&&!Sw&&!Lw&&(Xw(),Yw()),Mc&&tk()}function tk(){xw&&Xu(Mw+"_"+Iw,Hw)}function nk(e){var t;if(!i_&&!Gu())switch(Ou(),e.keyCode){case zi:Zr()?Qr():Yr()?Xr():(tk(),o_(nk)),sA();break;case Vi:if(Iw){if(tu(Mw,Iw-1,Hw[0]))tk(),Iw--,ek();else for(t=Hc-1;-1<t;t--)if(tu(Mw-1,t,Hw[0])){tk(),Mw--,Iw=t,ek();break}}else tk(),lA(nk,!0);break;case Hi:tu(Mw,Iw+1,Hw[0])?(tk(),Iw++,ek()):tu(Mw+1,0,Hw[0])&&(tk(),Mw++,Iw=0,ek());break;case Ji:if(Mw){for(t=0;t<Hc;t++)if(tu(Mw-1,Iw-t,Hw[0])){tk(),Mw--,Iw-=t,ek();break}}else tk(),o_(nk);break;case Fi:for(t=0;t<Hc;t++)if(tu(Mw+1,Iw-t,Hw[0])){tk(),Mw++,Iw-=t,ek();break}break;case Ni:case Ri:case Di:case qi:Vu(Mw+"_"+Iw,Hw,nk)}}var ik=0,ak={restor_playback:{values:["no","yes"],defaultValue:2},chat_font_size:{values:["60%","80%","100%","120%","140%"],defaultValue:3},chat_brightness:{values:["0%","5%","10%","15%","20%","25%","30%","35%","40%","45%","50%","55%","60%","65%","70%","75%","80%","85%","90%","95%","100%"],defaultValue:11},force_disable_chat:{values:["no","yes"],defaultValue:2},clip_auto_play_next:{values:["no","yes"],defaultValue:2},buffer_live:{values:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],defaultValue:4},buffer_vod:{values:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],defaultValue:4},buffer_clip:{values:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],defaultValue:3},videos_animation:{values:["no","yes"],defaultValue:2},clock_offset:{values:ok(),defaultValue:49},content_lang:{values:["All"],set_values:[""],defaultValue:1}};function ok(){for(var e=[],t=43200,n=0;n<48;n++)e.push("-"+Jm(t)),t-=900;for(e.push(Jm(0)),t=900,n=0;n<48;n++)e.push(Jm(t)),t+=900;return e}var sk=[],dk=0;function lk(){au(),Cr("label_side_panel"),Ar("label_refresh","icon-arrow-circle-left",ai),document.body.addEventListener("keydown",Sk,!1),Pr("top_bar_user",i),document.getElementById("top_lables").style.marginLeft="14%",document.getElementById("top_bar_live").style.display="none",document.getElementById("top_bar_featured").style.display="none",document.getElementById("top_bar_game").style.display="none",document.getElementById("top_bar_vod").style.display="none",document.getElementById("top_bar_clip").style.display="none",Ir("top_bar_user","icon_center_focus"),Er("settings_scroll"),bk(ik=0),hk("content_lang",Yn,Pk)}function ck(){document.body.removeEventListener("keydown",Sk),Er("label_side_panel"),wk(),Pr("top_bar_user",_),document.getElementById("top_lables").style.marginLeft="18.5%",document.getElementById("top_bar_live").style.display="inline-block",document.getElementById("top_bar_featured").style.display="inline-block",document.getElementById("top_bar_game").style.display="inline-block",document.getElementById("top_bar_vod").style.display="inline-block",document.getElementById("top_bar_clip").style.display="inline-block",Sr("top_bar_user","icon_center_focus"),Ar("label_refresh","icon-refresh",t+Yt),Cr("settings_scroll")}function rk(){var e,t="";t+=uk("general",gn),e="content_lang",sk.push(e),ak[e].values=[jn],t+=fk(e,Yn,""),e="clock_offset",sk.push(e),t+=_k(e,zn),e="restor_playback",sk.push(e),ak[e].values=[T,Ht],t+=fk(e,Tn,Ln),e="videos_animation",sk.push(e),ak[e].values=[T,Ht],t+=_k(e,Un),e="clip_auto_play_next",sk.push(e),ak[e].values=[T,Ht],t+=_k(e,ci),t+=uk("play",_n),e="chat_font_size",sk.push(e),t+=fk(e,Bn,On),e="chat_brightness",sk.push(e),t+=_k(e,ii),e="force_disable_chat",sk.push(e),ak[e].values=[Ht,T],t+=fk(e,ti,ni),t+='<div id="setting_title_buffers" class="settings_title">'+fn+'</div><div id="setting_title_buffers_summary" class="settings_summary">'+hn+"</div>",e="buffer_live",sk.push(e),t+=_k(e,mn),e="buffer_vod",sk.push(e),t+=_k(e,pn),e="buffer_clip",sk.push(e),xr("settings_main",t+=_k(e,vn)),dk=sk.length,Nk()}function uk(e,t){return'<div id="setting_title_'+e+'" class="settings_section">'+t+"</div>"}function _k(e,t){return'<div id="'+e+'_div" class="settings_div"><div id="'+e+'_name" class="settings_name">'+t+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_left" class="left"></div></div><div id="'+e+'" class="strokedextramini settings_value">'+vk(e)+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_right" class="right"></div></div></div>'}function fk(e,t,n){return'<div id="'+e+'_div" class="settings_div"><div id="'+e+'_name" class="settings_name">'+t+'<div id="'+e+'_summary" class="settings_summary" style="font-size: 65%;">'+n+'</div></div><div class="settings_arraw_div"><div id="'+e+'arrow_left" class="left"></div></div><div id="'+e+'" class="strokedextramini settings_value">'+vk(e)+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_right" class="right"></div></div></div>'}function hk(e,t,n){xr(e+"_name",t+'<div id="'+e+'_summary" class="settings_summary" style="font-size: 65%;">'+n+"</div>")}function mk(){var e="";for(e in Pr("setting_title_general",gn),Pr((e="clock_offset")+"_name",zn),Pr((e="content_lang")+"_name",Yn),Pr(e,vk(e)),ak[e].values=[jn],Pr("setting_title_play",_n),Pr("setting_title_buffers",fn),Pr("setting_title_buffers_summary",hn),Pr((e="buffer_live")+"_name",mn),Pr((e="buffer_vod")+"_name",pn),Pr((e="buffer_clip")+"_name",vn),hk(e="restor_playback",Tn,Ln),ak[e].values=[Ht,T],hk(e="chat_font_size",Bn,On),hk(e="force_disable_chat",ti,ni),ak[e].values=[Ht,T],Pr((e="videos_animation")+"_name",Un),ak[e].values=[Ht,T],Pr((e="clip_auto_play_next")+"_name",ci),ak[e].values=[T,Ht],Pr((e="chat_brightness")+"_name",ii),ak)ak.hasOwnProperty(e)&&Pr(e,vk(e));Rk()}function pk(){for(var e in ak)ak[e].defaultValue=__(e,ak[e].defaultValue),ak[e].defaultValue-=1,ak[e].defaultValue>yk(e)&&(ak[e].defaultValue=0);Ek(0),Mk(),Xf=(.05*gk("chat_brightness")).toFixed(2),jy=gk("videos_animation"),of=gk("clip_auto_play_next"),Ac.Play_ChatForceDisable=gk("force_disable_chat")}function vk(e){return ak[e].values[gk(e)]}function gk(e){return ak[e].defaultValue}function yk(e){return ak[e].values.length-1}function bk(e){var t=sk[ik];Ir(t,"settings_value_focus"),Ir(t+"_div","settings_div_focus"),Ak(e),Ik()}function wk(){var e=sk[ik];document.getElementById(e+"arrow_left").style.opacity="0",document.getElementById(e+"arrow_right").style.opacity="0",Sr(e,"settings_value_focus"),Sr(e+"_div","settings_div_focus")}function kk(e){var t=sk[e];u_(t,gk(t)+1),Pr(t,vk(t)),Ak(e),Ck(e)}function Ak(e){var t=sk[e];if(yk(t)){var n=gk(t),i=yk(t);0<n&&n<i?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="1"):n===i?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="0.2"):(document.getElementById(t+"arrow_left").style.opacity="0.2",document.getElementById(t+"arrow_right").style.opacity="1")}}function Ck(e){"videos_animation"===(e=sk[e])?jy=gk("videos_animation"):"clip_auto_play_next"===e?of=gk("clip_auto_play_next"):"buffer_live"===e?Ek(1):"buffer_vod"===e?Ek(2):"buffer_clip"===e?Ek(3):"chat_brightness"===e?(Xf=(.05*gk("chat_brightness")).toFixed(2),kp(!1)):"force_disable_chat"===e?Ac.Play_ChatForceDisable=gk("force_disable_chat"):"chat_font_size"===e?cm():"clock_offset"===e&&(Mk(),Ku())}function Ek(e){try{e?1===e?(th=1e3*vk("buffer_live"),fr&&Android.SetBuffer(1,th)):2===e?(wv=1e3*vk("buffer_vod"),fr&&Android.SetBuffer(2,wv)):3===e&&(Q_=1e3*vk("buffer_clip"),fr&&Android.SetBuffer(3,Q_)):(th=1e3*vk("buffer_live"),wv=1e3*vk("buffer_vod"),Q_=1e3*vk("buffer_clip"),fr&&(Android.SetBuffer(1,th),Android.SetBuffer(2,wv),Android.SetBuffer(3,Q_)))}catch(e){}}function Mk(){var e=gk("clock_offset");_r=e<48?-9e5*(48-e):9e5*(e-48)}function Ik(){var e=screen.height;4<ik?(e*=.09,e+=-1*document.getElementById(sk[0]).offsetTop,document.getElementById("settings_scroll").style.top=e+"px"):e*=.077,document.getElementById("settings_scroll").style.top=e+"px"}function Sk(e){var t;switch(e.keyCode){case zi:Yr()?Xr():Zr()?Qr():(ck(),ou());break;case Vi:0<gk(t=sk[ik])&&(ak[t].defaultValue-=1,kk(ik));break;case Hi:gk(t=sk[ik])<yk(t)&&(ak[t].defaultValue+=1,kk(ik));break;case Ji:0<ik&&(wk(),bk(--ik));break;case Fi:ik<dk-1&&(wk(),bk(++ik));break;case qi:ik||Ok()}}var xk=0,Pk="",Tk={All:{values:["off","on"],defaultValue:2,set_values:""},"Dansk [DA]":{values:["off","on"],defaultValue:1,set_values:"da"},"Deutsch [DE]":{values:["off","on"],defaultValue:1,set_values:"de"},"English [EN]":{values:["off","on"],defaultValue:1,set_values:"en,en-gb"},"Espaol [ES]":{values:["off","on"],defaultValue:1,set_values:"es,es-mx"},"Franais [FR]":{values:["off","on"],defaultValue:1,set_values:"fr"},"Italiano [IT]":{values:["off","on"],defaultValue:1,set_values:"it"},"Magyar [HU]":{values:["off","on"],defaultValue:1,set_values:"hu"},"Nederlands [NL]":{values:["off","on"],defaultValue:1,set_values:"nl"},"Norsk [NO]":{values:["off","on"],defaultValue:1,set_values:"no"},"Polski [PL]":{values:["off","on"],defaultValue:1,set_values:"pl"},"Portugus [PT]":{values:["off","on"],defaultValue:1,set_values:"pt,pt-br"},"Slovenina [SK]":{values:["off","on"],defaultValue:1,set_values:"sk"},"Suomi [FI]":{values:["off","on"],defaultValue:1,set_values:"fi"},"Svenska [SV]":{values:["off","on"],defaultValue:1,set_values:"sv"},"Ting Vit [VI]":{values:["off","on"],defaultValue:1,set_values:"vi"},"Trke [TR]":{values:["off","on"],defaultValue:1,set_values:"tr"},"etina [CS]":{values:["off","on"],defaultValue:1,set_values:"cs"}," [EL]":{values:["off","on"],defaultValue:1,set_values:"el"}," [RU]":{values:["off","on"],defaultValue:1,set_values:"ru"}," [TH]":{values:["off","on"],defaultValue:1,set_values:"th"}," [ZH]":{values:["off","on"],defaultValue:1,set_values:"zh-cn,zh-tw"}," [JA]":{values:["off","on"],defaultValue:1,set_values:"ja"}," [KO]":{values:["off","on"],defaultValue:1,set_values:"ko"},"Romn [RO]":{values:["off","on"],defaultValue:1,set_values:"ro"}},Lk=[],Bk=0;function Ok(){au(),document.body.removeEventListener("keydown",Sk),Cr("settings_main"),Er("settings_lang"),Wk(),Pr("top_bar_featured",yn),document.getElementById("top_bar_featured").style.display="inline-block",document.body.addEventListener("keydown",Qk,!1),qk(xk=0),Uk()}function Gk(){document.body.removeEventListener("keydown",Qk),document.body.addEventListener("keydown",Sk,!1),Ik(),Er("settings_main"),Cr("settings_lang"),Pr("top_bar_featured",an),document.getElementById("top_bar_featured").style.display="none",zk(),Rk(),Uk()}function Uk(){""===Oc&&(Pk=Wn,Tk.All.defaultValue=1,Yk(0),Ir(Lk[0],"strokedextraminired"),Wk()),hk("content_lang",Yn,Pk)}function Rk(){if(Oc="",!Hk("All")){for(var e in Tk)Hk(e)&&(Oc+=","+Tk[e].set_values);Oc=Oc.slice(1)}Pk=""===Oc?Wn:Oc.toUpperCase()}function Nk(){var e="";for(var t in Tk)Lk.push(t),Tk[t].values=[T,Ht],e+=Dk(t,t);xr("settings_lang",e),Bk=Lk.length}function Dk(e,t){return'<div id="'+e+'_div" class="settings_div"><div id="'+e+'_name" class="settings_name">'+t+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_left" class="left"></div></div><div id="'+e+'" class="'+(Hk(e)?"strokedextraminired ":"")+'strokedextramini settings_value">'+Jk(e)+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_right" class="right"></div></div></div>'}function Vk(){for(var e in Tk)Tk[e].defaultValue=__(e,Tk[e].defaultValue),Tk[e].defaultValue-=1;Rk()}function Jk(e){return Tk[e].values[Hk(e)]}function Hk(e){return Tk[e].defaultValue}function Fk(e){return Tk[e].values.length-1}function qk(e){var t=Lk[xk];Ir(t,"settings_value_focus"),Ir(t+"_div","settings_div_focus"),jk(e),Xk(t)}function zk(){var e=Lk[xk];document.getElementById(e+"arrow_left").style.opacity="0",document.getElementById(e+"arrow_right").style.opacity="0",Sr(e,"settings_value_focus"),Sr(e+"_div","settings_div_focus")}function Xk(){var e=screen.height;7<xk?(e*=.093,e+=-1*document.getElementById(Lk[xk-7]).offsetTop):e*=.077,xk<18&&(document.getElementById("settings_scroll").style.top=e+"px")}function Yk(e){var t=Lk[e];u_(t,Hk(t)+1),Pr(t,Jk(t)),jk(e)}function jk(e){var t=Lk[e],n=Hk(t),i=Fk(t);0<n&&n<i?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="1"):n===i?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="0.2"):(document.getElementById(t+"arrow_left").style.opacity="0.2",document.getElementById(t+"arrow_right").style.opacity="1")}function Wk(){for(var e in Tk)-1===e.indexOf("All")&&(document.getElementById(e+"_div").style.display=Hk("All")?"none":"inline-block")}function Qk(e){var t;switch(e.keyCode){case zi:Gk();break;case Vi:0<Hk(t=Lk[xk])&&(Tk[t].defaultValue-=1,Yk(xk),Sr(Lk[xk],"strokedextraminired"),-1!==t.indexOf("All")&&Wk());break;case Hi:Hk(t=Lk[xk])<Fk(t)&&(Tk[t].defaultValue+=1,Yk(xk),Ir(Lk[xk],"strokedextraminired"),-1!==t.indexOf("All")&&Wk());break;case Ji:0<xk&&(zk(),qk(--xk));break;case Fi:!Hk("All")&&xk<Bk-1&&(zk(),qk(++xk))}}var Zk,Kk=!1,$k=0,eA=0;function tA(){Ir("side_panel_"+$k,"side_panel_text_focus")}function nA(){Sr("side_panel_"+$k,"side_panel_text_focus")}function iA(){Ir(VC[2]+eA,"side_panel_feed_text_focus"),uA()}function aA(){Sr(VC[2]+eA,"side_panel_feed_text_focus")}function oA(){$k?1===$k?jr():2===$k?(document.body.addEventListener("keydown",Zk,!1),zr()):3===$k?(document.body.addEventListener("keydown",Zk,!1),Wr()):4===$k?Ur(Zk):5===$k?dA(ec):6===$k?dA(wo()?fc:tc):7===$k?dA(bc):8===$k?dA(nc):9===$k?dA(pc):10===$k&&dA(vc):Ac.Main_Go!==dc?(Ac.Search_isSearching||Ac.Main_Go!==rc&&Ac.Main_Go!==_c&&Ac.Main_Go!==uc||ms(),Ac.Search_isSearching||(Ac.Main_BeforeSearch=Ac.Main_Go),cu(Ac.Main_Go),Ac.Main_Go=dc,ou()):document.body.addEventListener("keydown",Zk,!1),rA()}function sA(){Kk&&(Kk=!1,su())}function dA(e){e===Ac.Main_Go?document.body.addEventListener("keydown",Zk,!1):(Ac.Main_Before=Ac.Main_Go,Ac.Main_Go=e,cu(Ac.Main_Before),ou())}function lA(e,t){Zk=e,Kk=t,document.body.removeEventListener("keydown",Zk),cA()}function cA(){var e=mo();e&&($f!==Ka[Ac.Users_Position].name&&(UC=!1),$f=Ka[Ac.Users_Position].name),e&&uE(0,DC[0])||(UC=!1),UC||MC||JC(),e?Mr("side_panel_feed_holder")?(document.body.addEventListener("keydown",_A,!1),null!==document.getElementById(VC[2]+eA)&&iA()):document.body.addEventListener("keydown",fA,!1):(Cr("side_panel_feed_holder"),Er("side_panel_etc"),document.body.addEventListener("keydown",fA,!1)),Sr("side_panel","side_panel_hide")}function rA(){document.body.removeEventListener("keydown",_A),document.body.removeEventListener("keydown",fA),Ir("side_panel","side_panel_hide"),nA(),$k=0,tA()}function uA(){if(4<eA){if(eA<TC-6){var e=-1*document.getElementById(VC[8]+(eA-4)).offsetTop;e+=document.getElementById(VC[8]+0).offsetTop,document.getElementById("side_panel_feed_scroll").style.marginTop=e+"px"}}else document.getElementById("side_panel_feed_scroll").style.marginTop=0}function _A(e){switch(e.keyCode){case zi:rA(),Kk?(Kk=!1,su()):(document.body.addEventListener("keydown",Zk,!1),d_());break;case Vi:document.body.removeEventListener("keydown",_A),document.body.addEventListener("keydown",fA,!1),Cr("side_panel_feed_holder"),Er("side_panel_etc");break;case Hi:sE();break;case Ji:eA&&!MC&&(aA(),eA--,iA());break;case Fi:eA<TC-1&&!MC&&(aA(),eA++,iA());break;case qi:rA(),Ac.Play_isHost=!1,em=!0,Wu(function(){Vu(eA,VC,_A)})}}function fA(e){switch(e.keyCode){case zi:case Vi:rA(),Kk?(Kk=!1,su()):(document.body.addEventListener("keydown",Zk,!1),d_());break;case Hi:mo()?(document.body.removeEventListener("keydown",fA),document.body.addEventListener("keydown",_A,!1),Cr("side_panel_etc"),Er("side_panel_feed_holder")):(Fr(hi),window.setTimeout(qr,2e3));break;case Ji:$k&&(nA(),$k--,tA());break;case Fi:$k<10&&(nA(),$k++,tA());break;case qi:oA()}}var hA=0,mA=0,pA=!1,vA=0,gA=!1,yA=0,bA=5,wA=3500,kA=[],AA=0,CA=0,EA=!1,MA=!1,IA="",SA=!1,xA={},PA=[],TA=0,LA=["uc_thumbdiv","uc_img","uc_infodiv","uc_displayname","uc_cell","ucempty_","user_channels_scroll"];function BA(){Ac.Main_CenterLablesVectorPos=1,Ac.Main_Go=hc,Ac.isLastSChannels=!1,Ar("label_side_panel","icon-arrow-circle-left",I),Ir("top_bar_user","icon_center_focus"),xr("top_bar_user",_+_u(Ka[Ac.Users_Position].name+K)),document.body.addEventListener("keydown",YA,!1),IA!==Ka[Ac.Users_Position].name&&(MA=!1),MA?(bu(hA),Er(LA[6]),zA(),du()):GA()}function OA(){Ac.Users_Position=0,Sr("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",YA),Pr("top_bar_user",_),Ar("label_side_panel","icon-ellipsis",Rn),Cr(LA[6])}function GA(){pu("stream_table_user_channels"),Cr(LA[6]),Lr(),qr(),IA=Ka[Ac.Users_Position].name,MA=!1,xA={},hA=mA=vA=TA=AA=CA=0,i_=!(SA=pA=!(PA=[])),Dr(),kA=[],UA(),RA()}function UA(){gu(),gA=!0,yA=0,wA=3500}function RA(){var e=vA+CA;e&&TA-1<e&&(e=TA-Yc,pA=!0);var t="https://api.twitch.tv/kraken/users/"+encodeURIComponent(Ka[Ac.Users_Position].id)+"/follows/channels?limit="+Yc+"&offset="+e+"&sortby=login&direction=asc";fr&&!vA?y_(t,wA,2,null,DA,NA):b_(t,wA,2,null,DA,NA,!1)}function NA(){++yA<bA?(wA+=500,RA()):(gA=!1,vA?(pA=!0,JA()):(i_=!1,Br(),Fr(P),o_(YA)))}function DA(e){var t=JSON.parse(e),n=t.follows.length;TA=parseInt(t._total),n<Yc&&(pA=!0);var i=vA;EA=!(vA+=n);var a=n/jc;0<n%jc&&a++;for(var o,s,d,l,c,r=0,u=document.getElementById("stream_table_user_channels"),_=0;_<a;_++){for(s=i/jc+_,d=document.createElement("tr"),o=0;o<jc&&r<n;o++,r++)c=(l=t.follows[r].channel)._id,xA[c]?o--:(xA[c]=1,d.appendChild(VA(s,s+"_"+o,[l.name,c,l.logo,l.display_name])));for(;o<jc;o++)pA&&!SA&&(SA=!0,vA=s*jc+o),d.appendChild(Au(LA[5]+s+"_"+o)),PA.push(LA[5]+s+"_"+o);u.appendChild(d)}JA()}function VA(e,t,n){return e<4&&ku(n[2]),Cu(t,LA,n)}function JA(){if(MA){if(vu(Oi),0<PA.length&&!pA)return UA(),void HA();zA(!0),PA=[]}else EA?(Fr(T+K),o_(YA)):(MA=!0,vu(Oi),zA(),du()),Er(LA[6]),i_=!1,Br();gA=!1}function HA(){Hr(PA.length);var e=vA+CA;e&&TA-1<e&&(e=TA-Qc,pA=!0),v_("https://api.twitch.tv/kraken/users/"+encodeURIComponent(Ka[Ac.Users_Position].id)+"/follows/channels?limit="+Qc+"&offset="+AA+"&sortby=login&direction=asc",wA,2,null,qA,FA)}function FA(){++yA<bA?(wA+=500,HA()):(pA=!0,vA-=PA.length,PA=[],JA())}function qA(e){var t,n,i=JSON.parse(e),a=i.follows.length,o=0,s=0,d=[];for(TA=parseInt(i._total),a<Qc&&(pA=!0);o<PA.length&&s<a;o++,s++)n=(t=i.follows[s].channel)._id,xA[n]?o--:(xA[n]=1,Eu(PA[o],[t.name,n,t.logo,t.display_name],LA),d.push(o));for(o=d.length-1;-1<o;o--)PA.splice(d[o],1);CA+=s,pA&&(vA-=PA.length,PA=[]),JA()}function zA(e){Uu(hA,mA,LA,jc,vA,e),vA/jc<hA+Wc&&!pA&&!gA&&(UA(),RA()),Mc&&XA()}function XA(){vA&&Xu(hA+"_"+mA,LA)}function YA(e){var t;if(!i_&&!Gu())switch(Ou(),e.keyCode){case zi:Zr()?Qr():Yr()?Xr():(XA(),o_(YA)),sA();break;case Vi:if(mA){if(tu(hA,mA-1,LA[0]))XA(),mA--,zA();else for(t=jc-1;-1<t;t--)if(tu(hA-1,t,LA[0])){XA(),hA--,mA=t,zA();break}}else XA(),lA(YA,!0);break;case Hi:tu(hA,mA+1,LA[0])?(XA(),mA++,zA()):tu(hA+1,0,LA[0])&&(XA(),hA++,mA=0,zA());break;case Ji:if(hA){for(t=0;t<jc;t++)if(tu(hA-1,mA-t,LA[0])){XA(),hA--,mA-=t,zA();break}}else XA(),o_(YA);break;case Fi:for(t=0;t<jc;t++)if(tu(hA+1,mA-t,LA[0])){XA(),hA++,mA-=t,zA();break}break;case Ni:case Ri:case Di:case qi:if(Du(hA+"_"+mA,LA[0]))return;Ac.Main_selectedChannel=document.getElementById(LA[4]+hA+"_"+mA).getAttribute(sr),Ac.Main_selectedChannel_id=document.getElementById(LA[4]+hA+"_"+mA).getAttribute("data-id"),Ac.Main_selectedChannelDisplayname=document.getElementById(LA[3]+hA+"_"+mA).textContent,Ac.Main_selectedChannelLogo=document.getElementById(LA[1]+hA+"_"+mA).src,document.body.removeEventListener("keydown",YA),Ac.Main_BeforeChannel=hc,Ac.Main_Go=rc,Ac.Main_BeforeChannelisSet=!0,Lo=ea=!0,Cr(LA[6]),ou()}}var jA=0,WA=0,QA=!1,ZA=0,KA={},$A=[],eC=!1,tC=0,nC=5,iC=3500,aC=0,oC=0,sC=!1,dC=["uh_thumbdiv","uh_img","uh_infodiv","uh_displayname","uh_hosttitle","uh_hostgame","uh_viwers","uh_quality","uh_cell","uhempty_","user_host_scroll"],lC=!1,cC="",rC=!1;function uC(){Ac.Main_CenterLablesVectorPos=1,Ac.Main_Go=oc,Ar("label_side_panel","icon-arrow-circle-left",I),Ir("top_bar_user","icon_center_focus"),xr("top_bar_user",_+_u(Ka[Ac.Users_Position].name+Q)),document.body.addEventListener("keydown",CC,!1),cC!==Ka[Ac.Users_Position].name&&(lC=!1),lC?(bu(jA),Er(dC[10]),kC(),du()):fC()}function _C(){Ac.Users_Position=0,Sr("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",CC),Pr("top_bar_user",_),Ar("label_side_panel","icon-ellipsis",Rn),Cr(dC[10])}function fC(){pu("stream_table_user_host"),Cr(dC[10]),Lr(),qr(),cC=Ka[Ac.Users_Position].name,lC=!1,KA={},i_=!(ZA=oC=aC=0),jA=WA=0,QA=rC=!($A=[]),Dr(),hC(),mC()}function hC(){gu(),eC=!0,tC=0,iC=3500}function mC(){var e=ZA+aC;e&&oC-1<e&&(e=oC-Jc,QA=!0),g_("https://api.twitch.tv/api/users/"+encodeURIComponent(Ka[Ac.Users_Position].name)+"/followed/hosting?limit="+Jc+"&offset="+e,iC,2,null,vC,pC,!1,!ZA)}function pC(){++tC<nC?(iC+=500,mC()):(eC=!1,ZA?(QA=!0,gC()):(i_=!1,Br(),Fr(P),o_(CC)))}function vC(e){var t=JSON.parse(e),n=t.hosts.length;oC=parseInt(t._total),n<Jc&&(QA=!0);var i=ZA;sC=!(ZA+=n);var a=n/Hc;0<n%Hc&&a++;for(var o,s,d,l,c,r=0,u=document.getElementById("stream_table_user_host"),_=0;_<a;_++){for(s=i/Hc+_,d=document.createElement("tr"),o=0;o<Hc&&r<n;o++,r++)c=(l=t.hosts[r]).target._id+""+l._id,KA[c]?o--:(KA[c]=1,d.appendChild(Iu(s,s+"_"+o,[l.target.channel.name,l.target._id],dC,[l.target.preview_urls.template.replace("{width}x{height}",ir),l.display_name+ne+l.target.channel.display_name,l.target.title,l.target.meta_game,m.charAt(1).toUpperCase()+m.slice(2)+Kr(l.target.viewers)+J,""])));for(;o<Hc;o++)QA&&!rC&&(rC=!0,ZA=s*Hc+o),d.appendChild(Au(dC[9]+s+"_"+o)),$A.push(dC[9]+s+"_"+o);u.appendChild(d)}gC()}function gC(){if(lC){if(vu(Gi),0<$A.length&&!QA)return hC(),void yC();kC(!0),$A=[]}else sC?(Fr(T+Q),o_(CC)):(lC=!0,kC(),vu(Gi),du()),Er(dC[10]),i_=!1,Br();eC=!1}function yC(){Hr($A.length);var e=ZA+aC;e&&oC-1<e&&(e=oC-Qc,QA=!0),v_("https://api.twitch.tv/api/users/"+encodeURIComponent(Ka[Ac.Users_Position].name)+"/followed/hosting?limit="+Qc+"&offset="+e,iC,2,null,wC,bC)}function bC(){++tC<nC?(iC+=500,yC()):(QA=!0,ZA-=$A.length,$A=[],gC())}function wC(e){var t,n,i=JSON.parse(e),a=i.streams.length,o=0,s=0,d=[];for(oC=parseInt(i._total),a<Qc&&(QA=!0);o<$A.length&&s<a;o++,s++)n=(t=i.hosts[s]).target._id+""+t._id,KA[n]?o--:(KA[n]=1,Su($A[o],[t.target.channel.name,t.target._id],[t.target.preview_urls.template.replace("{width}x{height}",ir),t.display_name+ne+t.target.channel.display_name,t.target.title,t.target.meta_game,m.charAt(1).toUpperCase()+m.slice(2)+Kr(t.target.viewers)+J,""],dC),d.push(o));for(o=d.length-1;-1<o;o--)$A.splice(d[o],1);aC+=s,QA&&(ZA-=$A.length,$A=[]),gC()}function kC(e){Ru(jA,WA,dC,Hc,ZA,e),ZA/Hc<jA+Fc&&!QA&&!eC&&(hC(),mC()),Mc&&AC()}function AC(){ZA&&Xu(jA+"_"+WA,dC)}function CC(e){var t;if(!i_&&!Gu())switch(Ou(),e.keyCode){case zi:Zr()?Qr():Yr()?Xr():(AC(),o_(CC)),sA();break;case Vi:if(WA){if(tu(jA,WA-1,dC[0]))AC(),WA--,kC();else for(t=Hc-1;-1<t;t--)if(tu(jA-1,t,dC[0])){AC(),jA--,WA=t,kC();break}}else AC(),lA(CC,!0);break;case Hi:tu(jA,WA+1,dC[0])?(AC(),WA++,kC()):tu(jA+1,0,dC[0])&&(AC(),jA++,WA=0,kC());break;case Ji:if(jA){for(t=0;t<Hc;t++)if(tu(jA-1,WA-t,dC[0])){AC(),jA--,WA-=t,kC();break}}else AC(),o_(CC);break;case Fi:for(t=0;t<Hc;t++)if(tu(jA+1,WA-t,dC[0])){AC(),jA++,WA-=t,kC();break}break;case Ni:case Ri:case Di:case qi:Vu(jA+"_"+WA,dC,CC)}}var EC,MC=!1,IC=0,SC=3500,xC=0,PC=5,TC=0,LC=!1,BC="",OC=0,GC={},UC=!1,RC=null,NC=null,DC=["ulf_thumbdiv","ulf_img","ulf_infodiv","ulf_displayname","ulf_streamtitle","ulf_streamgame","ulf_viwers","ulf_quality","ulf_cell","ulempty_","user_live_scroll"],VC=["usf_thumbdiv","usf_img","usf_infodiv","usf_displayname","usf_streamtitle","usf_streamgame","usf_viwers","usf_quality","usf_cell","ulempty_","user_live_scroll"];function JC(){mo()&&(aE(),UC?uE(eh,DC[0])&&(RC=JSON.parse(document.getElementById(DC[8]+eh).getAttribute(sr))[0]):RC=null,pu("user_feed_scroll"),eA=0,pu("side_panel_feed_scroll"),UC=!1,document.getElementById("user_feed_scroll").style.left="2.5px",document.getElementById("user_feed").style.bottom="0.1%",Er("dialog_loading_feed"),Er("dialog_loading_side_feed"),BC="",eh=OC=TC=xC=0,GC={},Wu(function(){FC(),HC()}))}function HC(){(NC=Ka[Ac.Users_Position].access_token)?(NC=tr+NC,YC()):(FC(),NC=null,qC())}function FC(){MC=!0,IC=0,SC=3500}function qC(){b_("https://api.twitch.tv/kraken/users/"+encodeURIComponent(Ka[Ac.Users_Position].id)+"/follows/channels?limit=100&offset="+xC+"&sortby=created_at",SC,2,null,XC,zC,!1)}function zC(){++IC<PC?(SC+=500,qC()):(MC=!1,TC?(LC=!0,ZC()):(Cr("dialog_loading_feed"),Cr("dialog_loading_side_feed"),eE()&&(Km(P),window.setTimeout(function(){$m()},2e3))))}function XC(e){var t=JSON.parse(e).follows,n=t.length;if(n){for(var i="",a=0;a<n;a++)i=t[a].channel._id+",",-1===BC.indexOf(i)&&(BC+=i);xC+=n,FC(),qC()}else BC=BC.slice(0,-1),FC(),Wu(YC)}function YC(){var e="https://api.twitch.tv/kraken/streams/";e+=NC?"followed?":"?channel="+encodeURIComponent(BC)+"&",jC(e+="limit=100&offset=0&stream_type=all")}function jC(e){var t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=SC,t.setRequestHeader(Kc,Zc),t.setRequestHeader($c,nr),NC&&t.setRequestHeader(er,NC),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?QC(t.responseText):!NC||401!==t.status&&403!==t.status?WC():la(Ac.Users_Position,0,HC,HC))},t.send(null)}function WC(){++IC<PC?(SC+=500,YC()):(MC=!1,Cr("dialog_loading_feed"),Cr("dialog_loading_side_feed"),eE()&&(Km(P),window.setTimeout(function(){$m()},2e3)))}function QC(e){var t=JSON.parse(e),n=t.streams.length;n<Jc&&(LC=!0),TC+=n;for(var i,a,o=document.getElementById("user_feed_scroll"),s=document.getElementById("side_panel_feed_scroll"),d=0;d<n;d++)a=(i=t.streams[d]).channel._id,GC[a]||(GC[a]=1,null!==RC&&RC===i.channel.name&&(eh=d),o.appendChild(KC(d,[i.channel.name,a],[i.preview.template.replace("{width}x{height}",ir),eu(JSON.stringify(i.stream_type))+i.channel.display_name,i.game])),s.appendChild($C(d,[i.channel.name,a],[i.channel.logo,eu(JSON.stringify(i.stream_type))+i.channel.display_name,i.channel.display_name,i.game,Kr(i.viewers)])));ZC()}function ZC(){UC=!(MC=!1),Wu(function(){Cr("dialog_loading_feed"),Cr("dialog_loading_side_feed"),dE(),iA()})}function KC(e,t,n){return(Lc=document.createElement("div")).setAttribute("id",DC[8]+e),Lc.setAttribute(sr,JSON.stringify(t)),Lc.className="user_feed_thumb",Lc.innerHTML='<div id="'+DC[0]+e+'" class="stream_thumbnail_clip" ><div><img id="'+DC[1]+e+'" class="stream_img" src="'+n[0]+'" onerror="this.onerror=null;this.src=\''+Gi+'\'"></div><div id="'+DC[2]+e+'" class="stream_text2"><div id="'+DC[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;">'+n[1]+'</div><div id="'+DC[5]+e+'"class="stream_info">'+v+n[2]+"</div></div></div>",Lc}function $C(e,t,n){return(Lc=document.createElement("div")).setAttribute("id",VC[8]+e),Lc.setAttribute(sr,JSON.stringify(t)),Lc.className="side_panel_feed",Lc.innerHTML='<div id="'+VC[0]+e+'"><img id="'+VC[1]+e+'" style="vertical-align: middle; display: inline-block; width: 16%;" src="'+n[0]+'" onerror="this.onerror=null;this.src=\''+Gi+'\'"><div id="'+VC[2]+e+'" class="side_panel_feed_text"><div id="'+VC[3]+e+'" style="display: none;">'+n[1]+'</div><div id="'+VC[4]+e+'" style="width: 74%; display: inline-block; font-size: 110%; font-weight: bold; overflow: hidden;  white-space: nowrap; text-overflow: ellipsis;">'+n[2]+'</div><div style="width:25%; float: right; text-align: right; vertical-align: middle; display: inline-block"><div  style="text-align: center;" ><i class="icon-'+(-1===n[1].indexOf(j)?'circle" style="color: red;':'refresh" style="')+' font-size: 80%; "></i><div style="font-size: 85%;">'+n[4]+'</div></div></div><div id="'+VC[5]+e+'" style="font-size: 90%; overflow: hidden;  white-space: nowrap; text-overflow: ellipsis;">'+n[3]+"</div></div></div>",Lc}function eE(){return Mr("user_feed")}function tE(){var e=mo();e&&($f!==Ka[Ac.Users_Position].name&&(UC=!1),$f=Ka[Ac.Users_Position].name),e&&uE(0,DC[0])||(UC=!1),UC||MC||JC(),e&&(document.getElementById("user_feed").style.bottom="0.1%",Er("user_feed"),dE())}function nE(){Cr("user_feed")}function iE(){aE(),oE()}function aE(){window.clearTimeout(EC)}function oE(){eE()&&(EC=window.setTimeout(nE,5500))}function sE(){aE(),MC?window.setTimeout(function(){MC=!1},15e3):JC()}function dE(){iE(),uE(eh,DC[0])&&(Ir(DC[0]+eh,"feed_thumbnail_focused"),eE()?cE():Mr("scene2")&&rE())}function lE(){return eh<3?2.5:uE(eh+2,DC[0])?-1*document.getElementById(DC[8]+(eh-2)).offsetLeft:uE(eh+1,DC[0])?-1*document.getElementById(DC[8]+(eh-3)).offsetLeft:-1*document.getElementById(DC[8]+(eh-(3<eh?4:3))).offsetLeft}function cE(){var e=lE();e&&(document.getElementById("user_feed_scroll").style.left=e+"px")}function rE(){document.getElementById("user_feed").style.bottom="-1000%",Er("user_feed");var e=cE();e&&(document.getElementById("user_feed_scroll").style.left=e+"px"),document.getElementById("user_feed").style.bottom="0.1%",Cr("user_feed")}function uE(e,t){return null!==document.getElementById(t+e)}function _E(){uE(eh,DC[0])&&Sr(DC[0]+eh,"feed_thumbnail_focused")}var fE=0,hE=0,mE=!1,pE=0,vE={},gE=[],yE=!1,bE=0,wE=5,kE=3500,AE=0,CE=0,EE=0,ME=!1,IE=["ul_thumbdiv","ul_img","ul_infodiv","ul_displayname","ul_streamtitle","ul_streamgame","ul_viwers","ul_quality","ul_cell","ulempty_","user_live_scroll"],SE=!1,xE="",PE="",TE=!1,LE=null;function BE(){Ac.Main_CenterLablesVectorPos=1,Ac.Main_Go=ac,Ar("label_side_panel","icon-arrow-circle-left",I),Ir("top_bar_user","icon_center_focus"),xr("top_bar_user",_+_u(Ka[Ac.Users_Position].name+W)),document.body.addEventListener("keydown",ZE,!1),PE!==Ka[Ac.Users_Position].name&&(SE=!1),SE?(bu(fE),Er(IE[10]),WE(),du()):GE()}function OE(){Ac.Users_Position=0,Sr("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",ZE),Pr("top_bar_user",_),Ar("label_side_panel","icon-ellipsis",Rn),Cr(IE[10])}function GE(){pu("stream_table_user_live"),Cr(IE[10]),Lr(),qr(),SE=!1,PE=Ka[Ac.Users_Position].name,i_=!(TE=!(gE=[])),fE=hE=pE=CE=AE=EE=0,mE=!(vE={}),xE="",Dr(),RE(),UE()}function UE(){(LE=Ka[Ac.Users_Position].access_token)?(LE=tr+LE,JE()):(LE=null,RE(),NE())}function RE(){gu(),yE=!0,bE=0,kE=3500}function NE(){v_("https://api.twitch.tv/kraken/users/"+encodeURIComponent(Ka[Ac.Users_Position].id)+"/follows/channels?limit=100&offset="+EE+"&sortby=created_at",kE,2,null,VE,DE)}function DE(){++bE<wE?(kE+=500,NE()):(yE=!1,pE?(mE=!0,zE()):(i_=!1,Br(),Fr(P),o_(ZE)))}function VE(e){var t=JSON.parse(e).follows,n=t.length;if(n){for(var i="",a=0;a<n;a++)i=t[a].channel._id+",",-1===xE.indexOf(i)&&(xE+=i);EE+=n,RE(),NE()}else xE=xE.slice(0,-1),RE(),JE()}function JE(){var e=pE+AE;e&&CE-1<e&&(e=CE-Jc,mE=!0);var t="https://api.twitch.tv/kraken/streams/";t+=LE?"followed?":"?channel="+encodeURIComponent(xE)+"&",HE(t+="limit="+Jc+"&offset="+e+"&stream_type=all",qE,FE,UE)}function HE(e,t,n,i){var a;if(fr&&!pE){if(!(a=Android.mreadUrl(e,kE,LE?3:2,LE)))return void WM();200===(a=JSON.parse(a)).status?t(a.responseText):!LE||401!==a.status&&403!==a.status?n():la(Ac.Users_Position,0,i,i)}else(a=new XMLHttpRequest).open("GET",e,!0),a.timeout=kE,a.setRequestHeader(Kc,Zc),a.setRequestHeader($c,nr),LE&&a.setRequestHeader(er,LE),a.ontimeout=function(){},a.onreadystatechange=function(){4===a.readyState&&(200===a.status?t(a.responseText):!LE||401!==a.status&&403!==a.status?n():la(Ac.Users_Position,0,i,i))},a.send(null)}function FE(){++bE<wE?(kE+=500,JE()):(yE=!1,pE?(mE=!0,zE()):(i_=!1,Br(),Fr(P),o_(ZE)))}function qE(e){var t=JSON.parse(e),n=t.streams.length;CE=parseInt(t._total),n<Jc&&(mE=!0);var i=pE;ME=!(pE+=n);var a=n/Hc;0<n%Hc&&a++;for(var o,s,d,l,c,r=0,u=document.getElementById("stream_table_user_live"),_=0;_<a;_++){for(s=i/Hc+_,d=document.createElement("tr"),o=0;o<Hc&&r<n;o++,r++)c=(l=t.streams[r]).channel._id,vE[c]?o--:(vE[c]=1,d.appendChild(Iu(s,s+"_"+o,[l.channel.name,c],IE,[l.preview.template.replace("{width}x{height}",ir),eu(JSON.stringify(l.stream_type))+l.channel.display_name,l.channel.status,l.game,y+Fm(l.created_at)+" "+m+Kr(l.viewers)+J,$r(l.video_height,l.average_fps,l.channel.broadcaster_language)])));for(;o<Hc;o++)mE&&!TE&&(TE=!0,pE=s*Hc+o),d.appendChild(Au(IE[9]+s+"_"+o)),gE.push(IE[9]+s+"_"+o);u.appendChild(d)}zE()}function zE(){if(SE){if(vu(Gi),0<gE.length&&!mE)return RE(),void XE();WE(!0),gE=[]}else ME?(o_(ZE),Fr(T+W)):(SE=!0,WE(),vu(Gi),du()),Er(IE[10]),i_=!1,Br();yE=!1}function XE(){Hr(gE.length);var e=pE+AE;e&&CE-1<e&&(e=CE-Qc,mE=!0);var t="https://api.twitch.tv/kraken/streams/";t+=LE?"followed?":"?channel="+encodeURIComponent(xE)+"&",HE(t+="followed?limit=limit="+Qc+"&offset="+e+"&stream_type=all",jE,YE,XE)}function YE(){++bE<wE?(kE+=500,XE()):(mE=!0,pE-=gE.length,gE=[],zE())}function jE(e){var t,n,i=JSON.parse(e),a=i.streams.length,o=0,s=0,d=[];for(CE=parseInt(i._total),a<Qc&&(mE=!0);o<gE.length&&s<a;o++,s++)n=(t=i.streams[s]).channel._id,vE[n]?o--:(vE[n]=1,Su(gE[o],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",ir),eu(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+Fm(t.created_at)+" "+m+Kr(t.viewers)+J,$r(t.video_height,t.average_fps,t.channel.broadcaster_language)],IE),d.push(o));for(o=d.length-1;-1<o;o--)gE.splice(d[o],1);AE+=s,mE&&(pE-=gE.length,gE=[]),zE()}function WE(e){Ru(fE,hE,IE,Hc,pE,e),pE/Hc<fE+Fc&&!mE&&!yE&&(RE(),NE()),Mc&&QE()}function QE(){pE&&Xu(fE+"_"+hE,IE)}function ZE(e){var t;if(!i_&&!Gu())switch(Ou(),e.keyCode){case zi:Zr()?Qr():Yr()?Xr():(QE(),o_(ZE)),sA();break;case Vi:if(hE){if(tu(fE,hE-1,IE[0]))QE(),hE--,WE();else for(t=Hc-1;-1<t;t--)if(tu(fE-1,t,IE[0])){QE(),fE--,hE=t,WE();break}}else QE(),lA(ZE,!0);break;case Hi:tu(fE,hE+1,IE[0])?(QE(),hE++,WE()):tu(fE+1,0,IE[0])&&(QE(),fE++,hE=0,WE());break;case Ji:if(fE){for(t=0;t<Hc;t++)if(tu(fE-1,hE-t,IE[0])){QE(),fE--,hE-=t,WE();break}}else QE(),o_(ZE);break;case Fi:for(t=0;t<Hc;t++)if(tu(fE+1,hE-t,IE[0])){QE(),fE++,hE-=t,WE();break}break;case Ni:case Ri:case Di:case qi:Vu(fE+"_"+hE,IE,ZE)}}var KE=0,$E=0,eM=8,tM=0,nM=null,iM=["u_thumbdiv","u_img","u_infodiv","u_displayname","u_cell","user_scroll"],aM=!1,oM=!0;function sM(){return Sc?(dM(),void da(Sc)):wo()?(Ac.Main_CenterLablesVectorPos=1,Ac.Main_Go=fc,document.getElementById("screens_holder").style.top=screen.height/100*7+"px",qr(),Ir("top_bar_user","icon_center_focus"),document.body.addEventListener("keydown",kM,!1),void(aM?(bu(KE),Er(iM[5]),fM(),du()):lM())):(Ac.Main_Go=ec,dM(),void ou())}function dM(){Ac.Users_Position=0,Sr("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",kM),Cr(iM[5]),document.getElementById("screens_holder").style.top="0"}function lM(){pu("stream_table_user"),Cr(iM[5]),Lr(),qr(),i_=!(aM=!1),oM=!(KE=$E=0),Wu(function(){cM()})}function cM(){for(var e,t,n,i=document.createElement("tbody"),a=document.getElementById("stream_table_user"),o=0;o<Ka.length;o++)t=0,n=o%2?"B5B5B5":"FFFFFF",(Lc=document.createElement("tr")).className="follower_header",Lc.innerHTML='<div class="follower_header">'+(o?"":oe)+Ka[o].name+R+"</div>",a.appendChild(i),a.appendChild(Lc),(e=document.createElement("tr")).appendChild(rM(o+"_"+t,Ac.Main_selectedChannelDisplayname,W,"play",n)),t++,e.appendChild(rM(o+"_"+t,Ac.Main_selectedChannelDisplayname,Q,"users",n)),t++,e.appendChild(rM(o+"_"+t,Ac.Main_selectedChannelDisplayname,Gy.isLive?Z:zt,"gamepad",n)),t++,e.appendChild(rM(o+"_"+t,Ac.Main_selectedChannelDisplayname,Kt,"movie-play",n)),t++,e.appendChild(rM(o+"_"+t,Ac.Main_selectedChannelDisplayname,K,"filmstrip",n)),t++,o?e.appendChild(rM(o+"_"+t,Ac.Main_selectedChannelDisplayname,ae,"arrow-up",n)):e.appendChild(rM(o+"_"+t,Ac.Main_selectedChannelDisplayname,$,"user-plus",n)),t++,e.appendChild(rM(o+"_"+t,Ac.Main_selectedChannelDisplayname,ee,"user-times",n)),t++,e.appendChild(rM(o+"_"+t,Ac.Main_selectedChannelDisplayname,Ka[o].access_token?wt:bt,"key",n)),a.appendChild(e);uM()}function rM(e,t,n,i,a){return(Lc=document.createElement("td")).setAttribute("id",iM[4]+e),Lc.setAttribute(sr,t),Lc.className="stream_cell",Lc.innerHTML='<div id="'+iM[0]+e+'" class="stream_thumbnail_channel" ><div id="'+iM[1]+e+'" class="stream_user_icon" style="color: #'+a+';"><i class="icon-'+i+'"></i></div></div><div id="'+iM[2]+e+'" class="stream_text"><div id="'+iM[3]+e+'" class="stream_channel" style="text-align: center;">'+n+"</div></div>",Lc}function uM(){Wu(function(){aM||(aM=!0,fM(),Br(),du()),Er(iM[5]),oM=i_=!1})}function _M(){for(var e=0;e<Ka.length;e++)Pr(iM[3]+e+"_2",Gy.isLive?Z:zt)}function fM(){Ir(iM[0]+KE+"_"+$E,"stream_thumbnail_focused"),wu(KE)?1<KE?tu(KE+1,0,iM[0])&&zu(iM[5],-1*document.getElementById(iM[4]+KE+"_"+$E).offsetTop+.42*screen.height):zu(iM[5],screen.height/100*7):Lu(),Mc&&hM()}function hM(){Ec=!1,Sr(iM[0]+KE+"_"+$E,"stream_thumbnail_focused")}function mM(){return Ac.Users_Position=KE,3!==$E||Ka[Ac.Users_Position].access_token?7===$E&&Ka[Ac.Users_Position].access_token?(Fr(wt),void window.setTimeout(qr,1500)):(6!==$E&&7!==$E&&(Cr(iM[5]),document.body.removeEventListener("keydown",kM),document.getElementById("screens_holder").style.top="0"),void Wu(function(){$E?1===$E?uC():2===$E?(Wg=Gy,ey()):3===$E?FM():4===$E?BA():5===$E?KE?yo(KE):(Ac.Main_Before=fc,no()):6===$E?gM():7!==$E||Ka[Ac.Users_Position].access_token||gM():BE()})):(Fr(In),void window.setTimeout(qr,5e3))}function pM(){window.clearTimeout(nM)}function vM(){nM=window.setTimeout(yM,2e4)}function gM(){vM(),6===$E?xr("main_dialog_remove",Ft+pi+Ka[Ac.Users_Position].name+"?"):7===$E&&xr("main_dialog_remove",ft+" "+Ka[Ac.Users_Position].name+"?"),Er("main_remove_dialog")}function yM(){pM(),Cr("main_remove_dialog"),tM=0,wM()}function bM(){return Mr("main_remove_dialog")}function wM(){tM?(Sr("remove_cancel","button_search_focused"),Ir("remove_yes","button_search_focused")):(Ir("remove_cancel","button_search_focused"),Sr("remove_yes","button_search_focused"))}function kM(e){var t;if(!i_&&!Gu())switch(Ou(),e.keyCode){case zi:bM()?yM():Yr()?Xr():Zr()?Qr():(hM(),o_(kM)),sA();break;case Vi:if(bM())--tM<0&&(tM=1),wM(),pM(),vM();else if($E)if(tu(KE,$E-1,iM[0]))hM(),$E--,fM();else if(tu(KE-1,0,iM[0])){for(t=eM-1;-1<t;t--)if(tu(KE-1,t,iM[0])){hM(),KE--,$E=t,fM();break}}else hM(),$E=eM-1,fM();else hM(),lA(kM,!0);break;case Hi:bM()?(1<++tM&&(tM=0),wM(),pM(),vM()):(tu(KE,$E+1,iM[0])?(hM(),$E++):(tu(KE+1,0,iM[0])?(hM(),KE++):hM(),$E=0),fM());break;case Ji:if(KE){for(t=0;t<eM;t++)if(tu(KE-1,$E-t,iM[0])){hM(),KE--,$E-=t,fM();break}}else hM(),o_(kM);break;case Fi:for(t=0;t<eM;t++)if(tu(KE+1,$E-t,iM[0])){hM(),KE++,$E-=t,fM();break}break;case Ni:case Ri:case Di:case qi:var n;if(bM()){if(6===$E)n=tM,yM(),n&&(document.body.removeEventListener("keydown",kM),dM(),vo(KE));else if(n=tM,yM(),n){Ac.Users_AddcodePosition=Ac.Users_Position,du();var i=aa,a="https://id.twitch.tv/oauth2/authorize?response_type=code&client_id="+encodeURIComponent(Zc)+"&redirect_uri="+i+"&scope=user_read+user_follows_edit+user_subscriptions&force_verify=true";window.location=a}}else mM()}}var AM=0,CM=0,EM=!1,MM=0,IM={},SM=[],xM=!1,PM=0,TM=5,LM=3500,BM=0,OM=0,GM=!1,UM=!1,RM="time",NM=2,DM=!1,VM=["uv_thumbdiv","uv_img","uv_infodiv","uv_title","uv_streamon","uv_duration","uv_viwers","uv_quality","uv_cell","uvempty_","user_vod_scroll","uv_game"],JM=!1,HM=!1;function FM(){Ac.Main_CenterLablesVectorPos=1,Ac.Main_Go=wc,Ir("top_bar_user","icon_center_focus"),Ar("label_side_panel","icon-arrow-circle-left",I),xr("top_bar_user",_+_u(Ka[Ac.Users_Position].name+(HM?G:O))),document.body.addEventListener("keydown",dI,!1),JM?(bu(AM),Er(VM[10]),lI(),iI(),du()):zM()}function qM(){Ac.Users_Position=0,JM&&aI(),Sr("top_bar_user","icon_center_focus"),Ar("label_side_panel","icon-ellipsis",Rn),document.body.removeEventListener("keydown",dI),Pr("top_bar_user",_),Cr(VM[10])}function zM(){JM&&aI(),pu("stream_table_user_vod"),Cr(VM[10]),Lr(),lI(),qr(),DM=JM=!1,i_=!(UM=!(SM=[])),AM=CM=MM=OM=BM=0,EM=!(IM={}),Dr(),YM()}function XM(){gu(),xM=!0,PM=0,LM=3500}function YM(){XM(),jM()}function jM(){var e=MM+BM;e&&OM-1<e&&(e=OM-Jc,EM=!0);var t,n="https://api.twitch.tv/kraken/videos/followed?limit="+Jc+"&broadcast_type="+(HM?"highlight":"archive")+"&sort="+RM+"&offset="+e;if(fr&&!MM){if(!(t=Android.mreadUrl(n,LM,3,tr+Ka[Ac.Users_Position].access_token)))return void WM();200===(t=JSON.parse(t)).status?ZM(t.responseText):401===t.status||403===t.status?la(Ac.Users_Position,0,YM,QM):WM()}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=LM,t.setRequestHeader($c,nr),t.setRequestHeader(Kc,Zc),t.setRequestHeader(er,tr+Ka[Ac.Users_Position].access_token),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?ZM(t.responseText):401===t.status||403===t.status?la(Ac.Users_Position,0,YM,QM):WM())},t.send(null)}function WM(){++PM<TM?(LM+=500,jM()):QM()}function QM(){xM=!1,MM?(EM=!0,KM()):(i_=!1,Br(),Fr(P),o_(CC),Ka[Ac.Users_Position].access_token||(qM(),Ac.Main_Go=fc,qM(),s_(),su()))}function ZM(e){var t=JSON.parse(e),n=t.videos.length;OM=parseInt(t._total),n<Jc&&(EM=!0);var i=MM;GM=!(MM+=n);var a=n/Hc;0<n%Hc&&a++;var o,s,d,l,c,r=0,u=document.getElementById("stream_table_user_vod");if(!DM){var _;for(DM=!0,d=document.createElement("tr"),f=0;f<2;f++)_=f?'<i class="icon-history stream_channel_fallow_icon"></i>'+Pi+Pi+Sn:'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+Pi+Pi+p,(Lc=document.createElement("td")).setAttribute("id",VM[8]+"y_"+f),Lc.className="stream_cell",Lc.innerHTML='<div id="'+VM[0]+"y_"+f+'" class="stream_thumbnail_channel_vod" ><div id="'+VM[3]+"y_"+f+'" class="stream_channel_fallow_game">'+_+"</div></div>",d.appendChild(Lc);d.appendChild(document.createElement("tr")),u.appendChild(d)}for(var f=0;f<a;f++){for(s=i/Hc+f,d=document.createElement("tr"),o=0;o<Hc&&r<n;o++,r++)c=(l=t.videos[r])._id,-1!==(l.preview.template+"").indexOf("404_processing")||IM[c]?o--:(IM[c]=1,d.appendChild(uI(s,s+"_"+o,[c,l.length,l.channel.broadcaster_language,l.game,l.channel.name,l.increment_view_count_url],[l.preview.template.replace("{width}x{height}",ir),l.channel.display_name,N+fu(l.created_at),CI.parse(l.title)+pi+Qt+v+l.game,Kr(l.views)+V,$r(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.channel.broadcaster_language),D+Jm(l.length),l.animated_preview_url],VM)));for(;o<Hc;o++)EM&&!UM&&(UM=!0,MM=s*Hc+o),d.appendChild(Au(VM[9]+s+"_"+o)),SM.push(VM[9]+s+"_"+o);u.appendChild(d)}KM()}function KM(){JM?(vu(Gi),iI(!0)):(GM?(Fr(T+(HM?G:O)+L+M),o_(dI)):(JM=!0,iI(),vu(Gi),du()),Er(VM[10]),i_=!1,Br()),0<SM.length&&!EM?$M():xM=!(SM=[])}function $M(){XM(),eI()}function eI(){Hr(SM.length);var e=MM+BM;e&&OM-1<e&&(e=OM-Qc,EM=!0);var t,n="https://api.twitch.tv/kraken/videos/followed?limit="+Qc+"&broadcast_type="+(HM?"highlight":"archive")+"&sort="+RM+"&offset="+e;if(fr){if(!(t=Android.mreadUrl(n,LM,3,tr+Ka[Ac.Users_Position].access_token)))return void tI();if(200===(t=JSON.parse(t)).status)return void nI(t.responseText);401===t.status||403===t.status?la(Ac.Users_Position,0,YM,QM):tI()}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=LM,t.setRequestHeader($c,nr),t.setRequestHeader(Kc,Zc),t.setRequestHeader(er,tr+Ka[Ac.Users_Position].access_token),t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void nI(t.responseText);401===t.status||403===t.status?la(Ac.Users_Position,0,YM,QM):tI()}},t.send(null)}function tI(){++PM<TM?(LM+=500,eI()):(EM=!0,MM-=SM.length,SM=[],KM())}function nI(e){var t,n,i=JSON.parse(e),a=i.videos.length,o=0,s=0,d=[];for(OM=parseInt(i._total);o<SM.length&&s<a;o++,s++)n=(t=i.videos[s])._id,-1!==(t.preview.template+"").indexOf("404_processing")||IM[n]?o--:(IM[n]=1,fI(SM[o],[n,t.length,t.channel.broadcaster_language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",ir),t.channel.display_name,N+fu(t.created_at),CI.parse(t.title)+pi+Qt+v+t.game,Kr(t.views)+V,$r(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.channel.broadcaster_language),D+Jm(t.length),t.animated_preview_url],VM),d.push(o));for(o=d.length-1;-1<o;o--)SM.splice(d[o],1);BM+=s,EM&&(MM-=SM.length,SM=[]),KM()}function iI(e){AM<0?oI():(Ru(AM,CM,VM,Hc,MM,e),mI(VM,AM+"_"+CM),MM/Hc<AM+Fc&&!EM&&!xM&&YM(),Mc&&aI())}function aI(){window.clearInterval(cI),-1<AM&&MM?(Er(VM[1]+AM+"_"+CM),Xu(AM+"_"+CM,VM)):sI()}function oI(){var e=1<CM?1:CM;Ir(VM[0]+"y_"+e,or)}function sI(){var e=1<CM?1:CM;Sr(VM[0]+"y_"+e,or)}function dI(e){var t;if(!i_&&!Gu())switch(Ou(),e.keyCode){case zi:Yr()?Xr():Yr()?Xr():Zr()?Qr():(aI(),o_(dI)),sA();break;case Vi:if(CM)if(-1===AM)sI(),--CM<0&&(CM=1),oI();else if(AM||CM){if(tu(AM,CM-1,VM[0]))aI(),CM--,iI();else for(t=Hc-1;-1<t;t--)if(tu(AM-1,t,VM[0])){aI(),AM--,CM=t,iI();break}}else aI(),sI(),AM=-1,CM=1,oI();else-1===AM?(AM=0,sI()):aI(),lA(dI,!0);break;case Hi:-1===AM?(sI(),1<++CM?(CM=0,GM?oI():(AM=0,iI())):oI()):tu(AM,CM+1,VM[0])?(aI(),CM++,iI()):tu(AM+1,0,VM[0])&&(aI(),AM++,CM=0,iI());break;case Ji:if(-1===AM)aI(),o_(dI),AM=0;else if(AM){for(t=0;t<Hc;t++)if(tu(AM-1,CM-t,VM[0])){aI(),AM--,CM-=t,iI();break}}else aI(),AM=-1,oI();break;case Fi:if(-1!==AM||GM){for(t=0;t<Hc;t++)if(tu(AM+1,CM-t,VM[0])){aI(),AM++,CM-=t,iI();break}}else AM=0,sI(),iI();break;case Ni:case Ri:case Di:case qi:-1===AM?(0===CM?u_("UserVod_highlight",(HM=!HM)?"true":"false"):1===NM?NM++:NM--,zM()):Fu(AM+"_"+CM,VM,dI)}}function lI(){1===NM?(xr("top_bar_user",_+_u(Ka[Ac.Users_Position].name+" "+(HM?G:O)+En)),RM="time"):2===NM&&(xr("top_bar_user",_+_u(Ka[Ac.Users_Position].name+" "+(HM?G:O)+Mn)),RM="views"),u_("UserVod_TypeNumber",NM)}var cI,rI=new Image;function uI(e,t,n,i,a){return e<Hc&&ku(i[0]),_I(n,t,i,a)}function _I(e,t,n,i){return(Lc=document.createElement("td")).setAttribute("id",i[8]+t),Lc.setAttribute(sr,JSON.stringify(e)),Lc.className="stream_cell",Lc.innerHTML=hI(t,n,i),Lc}function fI(e,t,n,i){var a=document.getElementById(e),o=e.split(i[9])[1];a.setAttribute(sr,JSON.stringify(t)),a.innerHTML=hI(o,n,i),a.setAttribute("id",i[8]+o)}function hI(e,t,n){return yu(n[1]+e,t[0]),'<div id="'+n[0]+e+'" class="stream_thumbnail_clip"'+(t[7]?' style="background-size: 0 0; background-image: url('+t[7]+');"':"")+'><div><img id="'+n[1]+e+'" class="stream_img"></div><div id="'+n[2]+e+'" class="stream_text2"><div style="line-height: 14px;"><div id="'+n[3]+e+'" class="stream_channel" style="width: 72%; display: inline-block; font-size: 85%;">'+t[1]+'</div><div id="'+n[7]+e+'"class="stream_info" style="width:27%; float: right; text-align: right; display: inline-block;">'+t[5]+'</div></div><div id="'+n[11]+e+'"class="stream_info">'+t[3]+'</div><div id="'+n[6]+e+'"class="stream_info">'+t[4]+'</div><div style="line-height: 12px;"><div id="'+n[4]+e+'"class="stream_info" style="width: 59%; display: inline-block;">'+t[2]+'</div><div id="'+n[5]+e+'"class="stream_info" style="width: 39%; display: inline-block; float: right; text-align: right;">'+t[6]+"</div></div></div></div>"}function mI(t,n){if(window.clearInterval(cI),jy){var i=document.getElementById(t[0]+n);rI.onload=function(){this.onload=null,Cr(t[1]+n),i.style.backgroundSize="612px";var e=0;cI=window.setInterval(function(){i.style.backgroundPosition="0px "+ ++e%10*-344+"px"},650)},rI.src=i.style.backgroundImage.replace(/url\(['"]?(.*?)['"]?\)/i,"$1")}}function pI(e,t){return e.replace(t.code,vI(t))}function vI(e){return'<img class="emoticon" src="'+e["3x"]+'"/>'}function gI(e){return'<img class="emoticon" src="https://static-cdn.jtvnw.net/emoticons/v1/'+e+'/3.0"/>'}function yI(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;")}function bI(e){for(var t=e.split(" "),n=0;n<t.length;n++){var i=(e=t[n]).replace(/(^[~!@#$%\^&\*\(\)]+|[~!@#$%\^&\*\(\)]+$)/g,""),a=yd[i]||yd[e];e=a?pI(e,a):yI(e),t[n]=e}return t.join(" ")}function wI(t,i){if(!i)return[t];var n=[],e=Object.keys(i),a=[];return e.forEach(function(e){for(var t=i[e],n=t.length-1;0<=n;n--)a.push({id:e,first:t[n][0],last:t[n][1]})}),a.sort(function(e,t){return t.first-e.first}),t=punycode.ucs2.decode(t),a.forEach(function(e){n.unshift(punycode.ucs2.encode(t.slice(e.last+1))),n.unshift([gI(e.id)]),t=t.slice(0,e.first)}),n.unshift(punycode.ucs2.encode(t)),n}function kI(i){return Object.keys(i).map(function(n){var e=i[n];return e.type=n,e.versions=Object.keys(i[n].versions).map(function(e){var t=i[n].versions[e];return t.type=e,t}),e})}function AI(e,t,n,i){var a=document.createElement("style");a.type="text/css",a.innerHTML="."+e+"-"+t+' { background-image: url("'+n.replace("http:","https:")+'"); }',i?i.appendChild(a):document.head.appendChild(a)}window.parseIRC=function(e){var t={raw:e,tags:{},prefix:null,command:null,params:[]},n=0,i=0;if(64===e.charCodeAt(0)){if(-1===(i=e.indexOf(" ")))return null;for(var a=e.slice(1,i).split(";"),o=0;o<a.length;o++){var s=a[o].split("=");t.tags[s[0]]=s[1]||!0}n=i+1}for(;32===e.charCodeAt(n);)n++;if(58===e.charCodeAt(n)){if(-1===(i=e.indexOf(" ",n)))return null;for(t.prefix=e.slice(n+1,i),n=i+1;32===e.charCodeAt(n);)n++}if(-1===(i=e.indexOf(" ",n)))return e.length>n?(t.command=e.slice(n),t):null;for(t.command=e.slice(n,i),n=i+1;32===e.charCodeAt(n);)n++;for(;n<e.length;){if(i=e.indexOf(" ",n),58===e.charCodeAt(n)){t.params.push(e.slice(n+1));break}if(-1===i){if(-1===i){t.params.push(e.slice(n));break}}else for(t.params.push(e.slice(n,i)),n=i+1;32===e.charCodeAt(n);)n++}return t},function(e){var t="object"==typeof global&&global;t.global!==t&&t.window!==t&&t.self!==t||(e=t);var n,v=2147483647,g=36,y=26,a=38,o=700,i=/^xn--/,s=/[^\x20-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,l={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},c=g-1,b=Math.floor,w=String.fromCharCode;function k(e){throw new RangeError(l[e])}function r(e,t){for(var n=e.length,i=[];n--;)i[n]=t(e[n]);return i}function u(e,t){var n=e.split("@"),i="";return 1<n.length&&(i=n[0]+"@",e=n[1]),i+r((e=e.replace(d,".")).split("."),t).join(".")}function A(e){for(var t,n,i=[],a=0,o=e.length;a<o;)55296<=(t=e.charCodeAt(a++))&&t<=56319&&a<o?56320==(64512&(n=e.charCodeAt(a++)))?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),a--):i.push(t);return i}function C(e){return r(e,function(e){var t="";return 65535<e&&(t+=w((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+w(e)}).join("")}function E(e,t){return e+22+75*(e<26)-((0!==t)<<5)}function M(e,t,n){var i=0;for(e=n?b(e/o):e>>1,e+=b(e/t);c*y>>1<e;i+=g)e=b(e/c);return b(i+(c+1)*e/(e+a))}function _(e){var t,n,i,a,o,s,d,l,c,r,u,_=[],f=e.length,h=0,m=128,p=72;for((n=e.lastIndexOf("-"))<0&&(n=0),i=0;i<n;++i)128<=e.charCodeAt(i)&&k("not-basic"),_.push(e.charCodeAt(i));for(a=0<n?n+1:0;a<f;){for(o=h,s=1,d=g;f<=a&&k("invalid-input"),u=e.charCodeAt(a++),(g<=(l=u-48<10?u-22:u-65<26?u-65:u-97<26?u-97:g)||l>b((v-h)/s))&&k("overflow"),h+=l*s,!(l<(c=d<=p?1:p+y<=d?y:d-p));d+=g)s>b(v/(r=g-c))&&k("overflow"),s*=r;p=M(h-o,t=_.length+1,0===o),b(h/t)>v-m&&k("overflow"),m+=b(h/t),h%=t,_.splice(h++,0,m)}return C(_)}function f(e){var t,n,i,a,o,s,d,l,c,r,u,_,f,h,m,p=[];for(_=(e=A(e)).length,t=128,o=72,s=n=0;s<_;++s)(u=e[s])<128&&p.push(w(u));for(i=a=p.length,a&&p.push("-");i<_;){for(d=v,s=0;s<_;++s)t<=(u=e[s])&&u<d&&(d=u);for(d-t>b((v-n)/(f=i+1))&&k("overflow"),n+=(d-t)*f,t=d,s=0;s<_;++s)if((u=e[s])<t&&++n>v&&k("overflow"),u===t){for(l=n,c=g;!(l<(r=c<=o?1:o+y<=c?y:c-o));c+=g)m=l-r,h=g-r,p.push(w(E(r+m%h,0))),l=b(m/h);p.push(w(E(l,0))),o=M(n,f,i===a),n=0,++i}++n,++t}return p.join("")}n={version:"1.4.1",ucs2:{decode:A,encode:C},decode:_,encode:f,toASCII:function(e){return u(e,function(e){return s.test(e)?"xn--"+f(e):e})},toUnicode:function(e){return u(e,function(e){return i.test(e)?_(e.slice(4).toLowerCase()):e})}},e.punycode=n}(this),function(e){e.ReconnectingWebSocket=function(){if("WebSocket"in window)return u.prototype.onopen=function(){},u.prototype.onclose=function(){},u.prototype.onconnecting=function(){},u.prototype.onmessage=function(){},u.prototype.onerror=function(){},u.debugAll=!1,u.CONNECTING=WebSocket.CONNECTING,u.OPEN=WebSocket.OPEN,u.CLOSING=WebSocket.CLOSING,u.CLOSED=WebSocket.CLOSED,u;function u(e,t,n){var i={debug:!1,automaticOpen:!0,reconnectInterval:1e3,maxReconnectInterval:3e4,reconnectDecay:1.5,timeoutInterval:3e3,maxReconnectAttempts:null,binaryType:"blob"};for(var a in n=n||{},i)void 0!==n[a]?this[a]=n[a]:this[a]=i[a];this.url=e,this.reconnectAttempts=0,this.readyState=WebSocket.CONNECTING,this.protocol=null;var o,s=this,d=!1,l=!1,c=document.createElement("div");function r(e,t){var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}c.addEventListener("open",function(e){s.onopen(e)}),c.addEventListener("close",function(e){s.onclose(e)}),c.addEventListener("connecting",function(e){s.onconnecting(e)}),c.addEventListener("message",function(e){s.onmessage(e)}),c.addEventListener("error",function(e){s.onerror(e)}),this.addEventListener=c.addEventListener.bind(c),this.removeEventListener=c.removeEventListener.bind(c),this.dispatchEvent=c.dispatchEvent.bind(c),this.open=function(i){if((o=new WebSocket(s.url,t||[])).binaryType=this.binaryType,i){if(this.maxReconnectAttempts&&this.reconnectAttempts>this.maxReconnectAttempts)return}else c.dispatchEvent(r("connecting")),this.reconnectAttempts=0;(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","attempt-connect",s.url);var e=o,a=setTimeout(function(){(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","connection-timeout",s.url),l=!0,e.close(),l=!1},s.timeoutInterval);o.onopen=function(){clearTimeout(a),(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","onopen",s.url),s.protocol=o.protocol,s.readyState=WebSocket.OPEN,s.reconnectAttempts=0;var e=r("open");e.isReconnect=i,i=!1,c.dispatchEvent(e)},o.onclose=function(e){if(clearTimeout(a),o=null,d)s.readyState=WebSocket.CLOSED,c.dispatchEvent(r("close"));else{s.readyState=WebSocket.CONNECTING;var t=r("connecting");t.code=e.code,t.reason=e.reason,t.wasClean=e.wasClean,c.dispatchEvent(t),i||l||((s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","onclose",s.url),c.dispatchEvent(r("close")));var n=s.reconnectInterval*Math.pow(s.reconnectDecay,s.reconnectAttempts);setTimeout(function(){s.reconnectAttempts++,s.open(!0)},n>s.maxReconnectInterval?s.maxReconnectInterval:n)}},o.onmessage=function(e){(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","onmessage",s.url,e.data);var t=r("message");t.data=e.data,c.dispatchEvent(t)},o.onerror=function(e){(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","onerror",s.url,e),c.dispatchEvent(r("error"))}},!0===this.automaticOpen&&this.open(!1),this.send=function(e){if(o)return(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","send",s.url,e),o.send(e);throw"INVALID_STATE_ERR : Pausing to reconnect websocket"},this.close=function(e,t){void 0===e&&(e=1e3),d=!0,o&&o.close(e,t)},this.refresh=function(){o&&o.close()}}}()}(this);var CI=function(){var e={parse:function(e,t,n){return t||(e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;")),i(e,function(e){var t=function(e){for(var t=e.indexOf(d)<0?e.replace(s,""):e,n=[],i=0,a=0,o=0;o<t.length;)i=t.charCodeAt(o++),a?(n.push((65536+(a-55296<<10)+(i-56320)).toString(16)),a=0):55296<=i&&i<=56319?a=i:n.push(i.toString(16));return n.join("-")}(e);return t?'<img class="'+(n?"emoticon":"emoji")+'" src="https://twemoji.maxcdn.com/2/72x72/'+t+'.png"/>':e})},replace:i},n=/(?:\ud83d[\udc68\udc69])(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddb0-\uddb3])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f)|[\u0023\u002a\u0030-\u0039]\ufe0f?\u20e3|(?:[\u00a9\u00ae\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\uddb5\uddb6\uddb8\uddb9\uddd1-\udddd]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a-\udc6d\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\udeeb\udeec\udef4-\udef9]|\ud83e[\udd10-\udd17\udd1d\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd40-\udd45\udd47-\udd70\udd73-\udd76\udd7a\udd7c-\udda2\uddb4\uddb7\uddc0-\uddc2\uddd0\uddde-\uddff]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g,s=/\uFE0F/g,d=String.fromCharCode(8205);return e;function i(e,t){return String(e).replace(n,t)}}();