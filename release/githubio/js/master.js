var n='<div id="scene1" class="screen_size"><div id="topbar" class="topbar hide"><div class="twitchicon"><img style="float:right;width:100%;" src="https://bhb27.github.io/smarttv-twitch/release/githubio/images/twitchlogo.png" alt="twitchlogo"><div style="text-align:center;"><div id="label_about" class="icon_top_label" style="text-align:center;"></div></div></div><div id="controls_div" class="controls_div"><div id="label_search" class="icon_top_label"></div><div id="label_controls" class="icon_top_label"></div><div id="label_refresh" class="icon_top_label"></div><div id="label_switch" class="icon_top_label"></div></div><div style="position:fixed;text-align:center;width:72%;margin-left:14%;"><div id="top_bar_live" class="icon_center_label"></div><div id="top_bar_user" class="icon_center_label"></div><div id="top_bar_game" class="icon_center_label"></div><div id="top_bar_vod" class="icon_center_label"></div><div id="top_bar_clip" class="icon_center_label"></div></div></div><div id="scrollbar_size" class="scroll_size"><div id="scrollbar" class="scroll"></div></div><div id="dialog_loading" class="screen_size dialogs" style="z-index:98;margin-top:24%;"><i class="icon icon-circle-o-notch fa fa-spin strokeloading" style="font-size:727%;"></i></div><div id="main_remove_dialog" class="dialog_exit hide" style="width:75%;margin-left:12.5%;"><div id="main_dialog_remove" class="exit_text"></div><div style="text-align:center;margin-bottom:4%;"><div id="remove_cancel" class="button_search_focused button_search" style="margin-left:0%;"></div><div id="remove_yes" class="button_search"></div></div></div><div id="main_dialog_exit" class="dialog_exit hide"><div id="main_dialog_exit_text" class="exit_text"></div><div style="text-align:center;margin-bottom:4%;"><div id="exit_app_cancel" class="button_search_focused button_search" style="margin-left:0%;"></div><div id="exit_app_minimize" class="button_search"></div><div id="exit_app_close" class="button_search"></div></div></div><div id="dialog_warning" class="strokedbig dialogs hide" style="z-index:101;margin-top:31%;"><div id="dialog_warning_text" class="strokedbig" style="font-size:300%;"></div></div><div id="dialog_about" class="info_dialogs hide" style="width:90%;margin-top:5.5%;margin-left:5%;"><div id="dialog_about_text" class="about_text"></div></div><div id="dialog_update" class="info_dialogs hide" style="width:70%;margin-top:6%;margin-left:15%;"><div id="dialog_update_text" class="about_text"></div></div><div id="dialog_controls" class="info_dialogs hide" style="width:70%;margin-top:6%;margin-left:15%;"><div id="dialog_controls_text" class="controls_text"></div></div><div id="dialog_counter" style="position:fixed;z-index:101;width:100%;bottom:0;"><div style="float:right;width:auto;height:auto;display:inline-block;border-radius:12px;background:linear-gradient(to top, black, rgba(0, 0, 0, 0.75));"><div id="dialog_counter_text" class="counter_class"></div></div></div><div id="blank_focus" class="screen_size"></div><div class="screen_size"></div><div id="oauth" class="imput_text_box" style="display:none;"><div id="oauth_text" class="strokedextramini" style="font-size:190%;font-weight:bold;"></div><input id="oauth_input" class="input_class" type="text" placeholder="" /></div><div class="screen_size"></div><div id="search" class="imput_text_box" style="display:none;"><input id="search_input" class="input_class" type="text" placeholder="" /><div id="chanel_button" class="button_search"></div><div id="game_button" class="button_search"></div><div id="live_button" class="button_search"></div></div><div class="screen_size"></div><div id="add_user" class="imput_text_box" style="display:none;"><input id="user_input" class="input_class" type="text" placeholder="" /></div><div class="screen_size"></div><table id="stream_table_live" class="streams_tables"></table><div class="screen_size"></div><table id="stream_table_user" class="streams_tables"></table><div class="screen_size"></div><table id="stream_table_user_live" class="streams_tables"></table><div class="screen_size"></div><table id="stream_table_user_host" class="streams_tables"></table><div class="screen_size"></div><table id="stream_table_user_games" class="streams_tables"></table><div class="screen_size"></div><table id="stream_table_user_channels" class="streams_tables"></table><div class="screen_size"></div><table id="stream_table_games" class="streams_tables"></table><div class="screen_size"></div><table id="stream_table_a_game" class="streams_tables"></table><div class="screen_size"></div><table id="stream_table_search_game" class="streams_tables"></table><div class="screen_size"></div><table id="stream_table_search_channel" class="streams_tables"></table><div class="screen_size"></div><table id="stream_table_search_live" class="streams_tables"></table><div class="screen_size"></div><table id="stream_table_search_channel_a" class="streams_tables"></table><div class="screen_size"></div><table id="stream_table_search_vod" class="streams_tables"></table><div class="screen_size"></div><table id="stream_table_search_clip" class="streams_tables"></table><div class="screen_size"></div><table id="stream_table_vod" class="streams_tables"></table><div class="screen_size"></div><table id="stream_table_clip" class="streams_tables"></table><div class="screen_size"></div><table id="stream_table_gclip" class="streams_tables"></table><div class="screen_size"></div><table id="stream_table_gvod" class="streams_tables"></table><div class="screen_size"></div></div><div id="scene2" class="screen_size hide"><div id="chat_container" class="chat_container hide"></div><div id="scene_channel_panel" class="screen_size hide" style="position:fixed;z-index:2;"><div style="width:100%;background:linear-gradient(to bottom, black, rgba(0, 0, 0, 0.040));"><div class="playsideinfo" style="float:right;padding-right:0.5%;padding-top:1.5%;"><div id="stream_live_icon"></div><div id="stream_live_time"></div><div id="stream_watching_time"></div><div id="stream_clock"></div><div id="stream_controls"></div></div><img id="stream_info_icon" style="padding-left:1%;padding-top:1%;padding-bottom:1%;display:inline-block;width:8%;" alt="stream_info"><div class="playmaininfo" style="vertical-align:top;padding-left:1%;padding-top:1.5%;display:inline-block;width:71%;"><div id="stream_info_name" style="font-size:130%;font-weight:bold;"></div><div id="stream_info_title"></div><div id="stream_info_game"></div></div></div><div style="z-order:-100;position:absolute;bottom:0;width:100%;height:53px;background:linear-gradient(to top, black, rgba(0, 0, 0, 0.040));text-align:center;"><div id="scene2_search" class="playbotton" style="z-order:6;width:12%;"><div id="ic_search" style="vertical-align:middle;display:inline-block"><i class="icon-search strokicon"></i></div><div id="scene2_search_text" class="strokedextramini playbottontext"></div></div><div id="scene2_channel" class="playbotton" style="z-order:5;width:19%;"><div id="channel_icon" style="vertical-align:middle;display:inline-block"><i class="icon-filmstrip strokicon"></i></div><div id="scene2_channel_text" class="strokedextramini playbottontext"></div></div><div id="scene2_game" class="playbotton" style="z-order:5;width:18%;"><div id="game_icon" style="vertical-align:middle;display:inline-block"><i class="icon-gamepad strokicon" style="font-size:238%;"></i></div><div id="scene2_game_text" class="strokedextramini playbottontext"></div></div><div id="scene2_heart" class="playbotton" style="z-order:3;width:15%;"><div id="fallow_heart" style="vertical-align:middle;display:inline-block"><i class="icon-heart-o strokicon"></i></div><div id="fallow_text" class="strokedextramini playbottontext"></div></div><div id="scene2_quality" class="playbotton" style="z-order:2;width:28%;margin-right:0;"><div id="quality_video" style="vertical-align:middle;display:inline-block"><i class="icon-videocamera strokicon"></i></div><div id="quality_arrows" style="height:auto;display:inline-block;">&nbsp;<div style="display:inline-block;"><div id="quality_arrow_up" class="up"></div><div id="quality_arrow_down" class="down"></div></div>&nbsp;&nbsp;</div><div id="quality_name" class="strokedextramini playmulti" style="font-size:185%;width:80%;"></div></div><div id="scene2_speed" class="playbotton" style="z-order:2;width:18%;margin-right:0;"><div id="spped_icon" style="vertical-align:middle;display:inline-block"><i class="icon-speedometer strokicon" style="font-size:225%;"></i></div><div id="speed_arrows" style="height:auto;display:inline-block;">&nbsp;<div style="display:inline-block;"><div id="speed_arrow_up" class="up"></div><div id="speed_arrow_down" class="down"></div></div>&nbsp;&nbsp;</div><div id="speed_name" class="strokedextramini playmulti" style="font-size:205%;width:55%;"></div></div></div></div><div id="scene2_dialogs" style="display:flex;position:absolute;top:4%;width:100%;height:50%;z-index:2;"><div id="dialog_controls_play" class="info_dialogs hide" style="width:98%;margin-left:1%;"><div id="dialog_controls_play_text" class="controls_text"></div></div><div id="play_dialog_simple_pause" class="dialogs hide" style="z-index:5;margin-top:27%;"><i class="strokedbig icon-pause" style="color:#FFFFFF;font-size:850%;"></i></div><div id="play_dialog_exit" class="dialogs hide" style="z-index:6;margin-top:17%;"><div id="play_dialog_exit_text" class="strokedbig" style="font-size:329%;"></div></div><div id="dialog_warning_play" class="dialogs hide" style="z-index:7;margin-top:20%;"><div id="dialog_warning_play_text" class="strokedbig" style="font-size:350%;"></div></div><div id="dialog_buffer_play" class="dialogs hide" style="z-index:98;margin-top:24%;"><div id="dialog_buffer_play_text" class="strokedbig" style="font-size:300%;"></div></div></div><video id="video_live" class="video-js" width="1920" height="1080" preload="metadata" poster="https://bhb27.github.io/smarttv-twitch/release/githubio/images/video_poster.png" style="background:black"></video></div>',e="Refresh and back to top",t="Search",i="Controls",o="About",r="The text you entered is empty.",a="The search result is empty.",s="Switch screen",l="Switch Past Broadcast and Highlight",c="Switch Period (24h, 7d, 30d, all)",u="Go to ",d="User ",h="Live",p="Games",f="Playing ",m=" for ",v="Watching time ",g="Since ",y=" ago",_="A Game",b="Write yours search...",w="Write yours authentication key...",k="Write user name...",T="Press Enter to ",E="Channels",C="Channel",x="Back to previously screen (Return)",S="The broadcast you were watching has ended",I="This video is only available to subscribers.",M="Connection failed, unable to load content hit refresh to try again",L="No",A=" for this ",B="Connection failed, unable to load video content exiting...",O=" Past Broadcast",j=" Highlight",H=" Clips",R=" Content",N="Streamed on ",P="Duration ",F=" Views",D="Buffering ",q=" Viewers",z="Click again to exit!",V="Do you wanna to exit Twitch?",U="Exit",G="Close",J="Minimize",X="Cancel",W="Not Live | ",K=" Channels Live",Y=" Hosts Live",$=" Games Live",Q=" Followed Channels",Z=" Add User",ee=" Remove User",te="User doesn't exist",ne=" hosting ",ie=" already set",oe="Make First",re=" (First user has it's content on SmartHub Preview, can Sub out side User screen when providing a key)",ae="Add a Twitch user to display it's Followed Channels content here",se=" (24h)",le=" (7d)",ce=" (30d)",ue=" (all)",de="Jumping ",he=" to ",pe="Jump Canceled",fe=" , jump time bigger then duration",me=" Sec",ve=" Min",ge=" Hr",ye="Source",_e="Version: ",be="Twitch.TV",we="Press return key to close this.",ke="Player Related:",Te="Chat Related:",Ee="General Related:",Ce="Update",xe="Current Major version ",Se=" Latest Major version ",Ie="This are the none players related controls, the player can show it's own controls.",Me="Play a video: Navigate using Directional pad (up/down/left/right), Select or Play/Pause keys to start playing",Le="Refresh screen content: Guide or info (Guide is channel press key on smart remote)",Ae="Close the application: from Live screen press return to see the options",Be="Force close the application (in case it freezes or miss behave): Hold return key until it force closes (Works for any application on Samsung TV's)",Oe=" Switch screen: Chanel Up (Move to right screen) or Chanel Down (Move to left screen)",je="Some screen will change its internal content (channel past broadcast or clips for example) instead of changing to another screen",He="Go back to Live from any screen: color button green or B",Re="Start a search: color button blue or D",Ne="After setting up the search text press return or click on DONE and use the Directional pad (left/right) to chose the type of search then press Select or Play/Pause, Directional pad (up) goes back to edit the search text",Pe="Controls list: color button yellow or C",Fe="About this application: color button red or A",De="This is a unofficial Twitch.Tv application develop by a individual on his free time, for TV's that don't have access to a official application, released for free to any one that wanna to use it.",qe="On 99% on the updates the app can update it self to add fixes and new featuring, the app will warn the user the day there is a need to update manually by reinstalling it via computer in the case you use a computer to install it.",ze="Developer information:",Ve="This is an open source applicationlication check it on my github",Ue="github.com/bhb27/smarttv-twitch",Ge="This application is licensed under the GNU General Public License v3.0, and uses following dependencies:",Je="Font Awesome - The iconic font and CSS toolkit by FortAwesome (https://github.com/FortAwesome/Font-Awesome)",Xe="Video.js - HTML5 Video Player (https://github.com/videojs/video.js)",We="UglifyJS - is a JavaScript parser, minifier, compressor and beautifier toolkit (https://github.com/mishoo/UglifyJS2)",Ke="JS Beautifier - Beautify, unpack or deobfuscate JavaScript and HTML, make JSON/JSONP readable, etc. (https://github.com/beautify-web/js-beautify)",Ye="JSHint - A Static Code Analysis Tool for JavaScript (https://github.com/jshint/jshint)",$e="Samsung WebApi API - this module defines the functionalities that are provides as the Samsung TV for Tizen Platform Product API (http://developer.samsung.com/tv/develop/api-references/samsung-product-api-references/webapi-api)",Qe="Show information panel: Select key if chat is showing or Directional pad (up/down/left/right) if not",Ze="Close the video: press return (click it twice under 3 seconds, click tree times if information panel or controls is open)",et="Play/Pause a video: Play or Pause keys",tt="Jump Forward/Backwards (not availably for live streams): Directional pad (right/left), multiple clicks add more time before jump",nt="Change video quality (not availably for clips): Open information panel, , navigate using use Directional pad (left/right), then use Directional pad (up/down) to choose the new quality after press Select key to confirm the change",it="Force refresh a video (in case it freezes) (not availably for clips): press select key twice, it will change the video quality to the same you are current watching, by opening information panel (first click) after second click will start re-buffering",ot="Show or hide the Chat (Only availably on live streams): Guide or info (Guide is channel press key on smart remote)",rt="Change Chat position (if chat it's showing and info panel is not): Chanel Up or Down",at="Change Chat size (if chat it's showing and info panel is not): Directional pad (up/down)",st="Change Chat background brightness (if chat it's showing and info panel is not): Directional pad (left/right)",lt="Force refresh the Chat (in case it freezes or doesn't load): Force refresh the video by pressing select key twice, it will change the video quality to the same you are current watching, by opening information panel (first click) after second click will start re-buffering and the chat will reload it self",ct="Change the speed (Only availably for clips): Open information panel, navigate using use Directional pad (left/right), then use Directional pad (up/down) to choose the new speed after press Select key to confirm the change",ut="Restart a clip (can also be used in case it freezes): color button blue or D",dt='Start a search: Open information panel, navigate using use Directional pad (left/right) to "Search" and press select',ht='Open Channel content: Open information panel, navigate using use Directional pad (left/right) to "Channel content" and press select',pt="A update is available, and the app can't self update this version ",ft="Major changes:",mt="Temp update 1",vt="Adding a authentication key allows the app to fallow and access subscribed only past broadcast (for channel you are Sub to) for the chosen user, enter the authentication key for user ",gt=" below, fallowing this steps:",yt="Access the site http://tiny.cc/twitchkey (using a computer or a smart phone)",_t='Click on the "Authorize" button it will take you to main Twitch.TV authentication site',bt="Login to Twitch.TV using the user name you are trying to add a key for",wt="Click on Authorize button of Twitch.TV site if you agree with the requested permissions",kt="The web page will update and show a key code, write that key code bellow",Tt=" Add Authentication key",Et="Key added OK (Click to test key)",Ct="Key test fail, it's needed to add new one",xt="Key test return OK",St="You try to add a key for user ",It=" but this key is for user ",Mt=" Following",Lt=" Follow",At=" And you have not set a authentication key the app can't check yours sub status.",Bt=" And you are not a sub of this channel",Ot=" You are a sub of this channel but the app fail to authenticate contact the developer email in about",jt="Fail authentication check with the provider key, please check and try again",Ht="No user",Rt="Set a user and a authentication key to be able to fallow/unfollow",Nt="Restart the",Pt=" Clip",Ft="Channel content",Dt="Network is disconnect, the application can't work without INTERNET",qt="Network connection reestablished",zt=" Followers",Vt=", Can't fallow or unfallow ",Ut="Game content",Gt="Yes",Jt="Are you sure you want to remove the user ",Xt="Press Up to ",Wt="Followed Games",Kt="Change between",Yt=" (Guide or Info)",$t=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"],Qt="Started ",Zt=" (CH Up/Down)",en="Videos",tn="fglfgl27@gmail.com",nn="<br>",on='<i class="icon-circle" style="font-size: 50%; vertical-align: middle; font-weight: bold;"></i>  ',rn='<div class="about_text_title">',an='<div class="about_text_title" style="text-align: left;">',sn='<div style="text-align: left;">',ln="",cn="",un="",dn="",hn="",pn="",fn="",mn="",vn="",gn="&nbsp;",yn="";function _n(){ln=i+" (C)",cn=t+" (D)",un=o+" (A)",s+=Zt,dn=rn+i+"</div>"+Ie+nn+nn+on+Me+nn+on+Le+nn+on+Ae+nn+on+Be+nn+on+Oe+nn+je+nn+on+He+nn+on+Re+nn+Ne+nn+on+Pe+nn+on+Fe+nn+rn+we+"</div>",hn=rn+be+"</div>",pn=De+nn+qe+nn+nn+rn+ze+"</div>"+tn+nn+nn+Ve+nn+Ue+nn+nn+an+Ge+"</div>"+sn+on+Je+nn+on+Xe+nn+on+We+nn+on+Ke+nn+on+Ye+nn+on+$e+nn+rn+we+"</div></div>",fn=rn+i+"</div>"+rn+Ee+"</div>"+on+Qe+nn+on+Ze+nn+on+dt+nn+on+ht+rn+ke+"</div>"+on+et+nn+on+tt+nn+on+ct+nn+on+nt+nn+on+it+nn+on+ut+rn+Te+"</div>"+on+ot+nn+on+rt+nn+on+at+nn+on+st+nn+on+lt+rn+we+"</div>",mn=rn+Ce+"</div>"+pt+nn,yn=nn+rn+ft+"</div>"+sn+on+mt+nn+nn+we+"</div>",vn=gt+nn+on+yt+nn+on+_t+nn+on+bt+nn+on+wt+nn+on+kt}function bn(){console.log("loading language pt_BR"),e="Atualizar e voltar pro topo",t="Pesquisar",i="Controles",o="Sobre",r="Nenhum texto foi inserido.",s="Trocar de tela",l="Transmissões Anteriores/Destaques",c="Período (24h, 7d, 30d, todos)",d="Usuário ",h="Ao Vivo",p="Jogos",f="Jogando ",v="Assistindo há ",g="Desde ",y=" atrás",_="Um jogo",b="entrar com a pesquisa...",k="entrar com usuário...",T="Pressione a tecla selecionar para ",E="Canais",C="Canal",x="Voltar (retornar)",S="A transmissão que você estava assistindo acabou.",M="Não foi possível carregar. Atualize para tentar novamente.",B="Não foi possível carregar o conteúdo do vídeo, pois a conexão falhou, encerrando...",L="Não há",O=" Transmissões Anterior",j=" Destaque",H=" Clipes",R=" Conteúdo",N="Transmitido em ",P="Duração ",F=" Visualizações",D="Carregando ",q=" Espectadores",z="Pressione novamente para sair!",V="Quer sair do Twitch?",U="Sair",G="Fechar",J="Minimizar",X="Cancelar",W="Retransmissão | ",K=" Canais Ao Vivo",Y=" Hosts Ao Vivo",$=" Jogos Ao Vivo",Z=" Adicionar Usuário",ee=" Remover Usuário",te="Usuário inexistente",ne=" hospedando ",ie=" já configurado",oe="Tornar o Principal",re=" (O conteúdo do usuário principal aparece no SmartHub Preview e consegue seguir quando fornece uma chave de acesso)",ue=" (todos)",de="Saltando ",he=m=" para ",pe="Slato cancelado",fe=" , o tempo de salto é maior que a duração",me=" Seg",ve=" Min",ge=" H",ye="Original",_e="Versão: ",be="Twitch.TV",we="Pressione retornar para fechar este.",ke="Relacionado ao Player:",Te="Relacionado ao Chat:",Ee="Gerais:",Ce="Atualização",xe="Versão Atual ",Se=" Última Versão ",Ie="Estes controles não estão relacionados ao player. O player pode mostrar os seus controles.",Me="Reproduzir um Vídeo: Navegue usando as setas direcionais, pressione PLAY/PAUSE para reproduzir.",Le="Atualizar Conteúdo: Pressione GUIDE ou INFO.",Ae="Fechar: Durante uma transmissão, pressione retornar pra ver as opções",Be="Forçar Encerramento  do aplicativo (caso necessário): Pressione retornar até o aplicativo seja encerrado.",Oe="Alternar entre Telas: CH Cima (Tela da Direita) ou CH Baixo (Tela da Esquerda).",je="Algumas telas irão atualizar o conteúdo (como as Transmissões Anteriores, por exemplo), ao invés de mudarem completamente.",He="Voltar para Ao Vivo: Botão Verde (B)",Re="Pesquisar: Botão Azul(D)",Ne="Após inserir o conteúdo da busca, pressione retornar ou clique em CONCLUÍDO e use as Setas Direcionais (esquerda/direita) para escolher o tipo de busca. Pressione a tecla selecionar ou PLAY/PAUSE para confirmar.",Pe="Controles: Botão Amarelo (C)",Fe="Sobre: Botão Vermelho (A)",De="Este é um aplicativo não oficial do Twitch.TV, desenvolvido por um individuo no seu tempo livre, feito para TVs que não possuem uma versão oficial. Seu uso é gratuito.",qe="Em 99% das vezes, o aplicativo se atualizará sozinho para adicionar correções e novas funções. O aplicativo avisará ao usuário quando houver necessidade de ser atualizado manualmente (através de uma nova instalação pelo computador no caso ter ter usado o computar pra instalar).",ze="Sobre o Desenvolvedor:",Ve="Este é um aplicativo Open Source. Confira no meu GitHub",Ue="github.com/bhb27/smarttv-twitch",Ge="Este aplicativo está licenciado sob a Licença Pública GNU v3.0 e usa as seguintes dependências:",Qe="Exibir Informações: Pressione a tecla selecionar caso o Chat esteja sendo exibido ou use as Setas Direcionais.",Ze="Fechar um vídeo: Pressione retornar duas vezes seguidas em menos de três segundos",et="Pausar/Reproduzir: Pressione PLAY ou PAUSE.",tt="Avançar/Retroceder (indisponível para Transmissões Ao Vivo): Setas Direcionais (esquerda/direita).",nt="Alterar qualidade (indisponível para Clipes): Abra o Painel de Informações, use as Setas Direcionais (Cima/Baixo) para escolher a qualidade e pressione a tecla selecionar para alterar.",it="Forçar a atualização de um vídeo (indisponível para Clipes): Pressione a tecla selecionar duas vezes. A qualidade do vídeo continuará sendo a mesma, mas após o segundo clique, o vídeo será recarregado.",ot="Exibir/Esconder o Chat (Somente disponível em transmissões ao vivo): GUIDE ou INFO.",rt="Posição do Chat (Se o chat esta visível): CH Para Cima ou Para Baixo.",at="Tamanho do Chat (Se o chat esta visível): Setas Direcionais (cima/baixo).",st="Brilho do Chat (Se o chat esta visível): Setas Direcionais (esquerda/direita).",lt="Forçar atualização do Chat (caso necessário): Pressione a tecla selecionar duas vezes. No primeiro clique, a qualidade continuará a mesma, mas após o segundo, o vídeo e o chat serão recarregados.",ct="Altere a velocidade (apenas disponível para clipes): abra o painel de informações, navegue usando o botão Direcional (esquerda / direita), use a tecla direcional (para cima / baixo) para escolher a nova velocidade depois de pressionar a tecla Selecionar para confirmar a alteração",ut="Reinicie um clipe (também pode ser usado no caso do clipe congelar): Botão Azul (D)",dt='Inicie uma pesquisa: abra o painel de informações, navegue usando o botão Direcional (esquerda / direita) para "Pesquisar" e pressione a tecla selecionar',ht='Abra o conteúdo do canal: abra o painel de informações, navegue usando o botão direcional (esquerda / direita) para "Conteúdo do canal" e pressione a tecla selecionar',pt="Há uma atualização disponível, mas o app não pôde ser atualizado automaticamente ",ft="Changelist:",mt="Atualização Temporária 1",vt="Adicionando uma chave de autenticação para um usuário, permite ao aplicativo seguir e assistir a transmissões anteriores reservadas somente para inscritos (Em canais que você é inscrito), entre com a chave de autenticação do usuário ",gt=" abaixo seguidos os passos:",yt="Acesse o site http://tiny.cc/twitchkey (usando um computador ou smart phone)",_t='Clique no botão "Authorize" assim vai abrir o site de autenticação do Twitch.TV',bt="Faço login no Twitch.TV usando o usuário que você esta tentando adicionar a chave",wt="Clique no botão de autorizar no site do Twitch.TV se você esta de acordo com as permissões",kt="A pagina vai atualizar e mostrar a chave de acesso no centro (só tem letra minuscula), escreva esta no aplicativo",Tt=" Adicione uma chave de autenticação",Et="Chave adicionada OK (Clique para testar)",Ct="O teste da chave falhou, sera necessário adicionar uma nova",xt="O teste da chave retornou OK",St="Você esta tentando adicionar uma chave para o usuário ",It=" mas esta é para o usuário ",Mt=Q=" Seguindo",Lt=" Seguir",At=" E você não definiu uma chave de autenticação, o aplicativo não pode verificar se é inscrito.",Bt=" E você não é um inscrito deste canal",Ot=" Você é um inscrito deste canal, mas o aplicativo falha ao tentar autenticar, contate o desenvolvedor através do e-mail no sobre",jt="Falhou o teste com a chave do informada, verifique e tente novamente",Ht="Sem Usuário",Rt="Adicione um usuário e uma chave de autenticação para poder seguir ou deixar de seguir",Nt="Reinicie o",Ft="Conteúdo do canal",Dt="A rede esta desconectada, o aplicativo não funciona sem INTERNET",qt="Conexão de rede restabelecida",zt=" Seguidores",Vt=", Não é possível seguir ou deixar de seguir ",Ut="Conteúdo do jogo",Gt="Sim",Jt="Tem certeza que deseja remover o usuário ",Xt="Pressione a tecla pra cima para ",Wt="Jogos seguidos",Kt="Troque entre",Yt=" (Guia ou Info)",$t=["Jan","Fev","Mar","Abr","Maio","Jun","Jul","Ago","Set","Out","Nov","Dez"],Qt="Começou ",en="Vídeo",Zt=" (CH Cima/Baixo)"}var wn=427,kn=428,Tn=458,En=19,Cn=415,xn=10252,Sn=457,In=37,Mn=39,Ln=38,An=40,Bn=13,On=403,jn=404,Hn=405,Rn=406,Nn=10009,Pn=8,Fn=65385,Dn=65376,qn=32,zn=46;!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.videojs=t()}(this,function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function t(e,t){return e(t={exports:{}},t.exports),t.exports}var n,p="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},i={},o=(Object.freeze||Object)({default:i}),r=o&&i||o,a=void 0!==e?e:"undefined"!=typeof window?window:{};"undefined"!=typeof document?n=document:(n=a["__GLOBAL_DOCUMENT_CACHE@4"])||(n=a["__GLOBAL_DOCUMENT_CACHE@4"]=r);var s,l,c,u,f=n,d=p.navigator&&p.navigator.userAgent||"",h=/AppleWebKit\/([\d.]+)/i.exec(d),m=h?parseFloat(h.pop()):null,v=/iPad/i.test(d),g=/iPhone/i.test(d)&&!v,y=/iPod/i.test(d),_=g||v||y,b=(s=d.match(/OS (\d+)_/i))&&s[1]?s[1]:null,w=/Android/i.test(d),k=function(){var e=d.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;var t=e[1]&&parseFloat(e[1]),n=e[2]&&parseFloat(e[2]);return t&&n?parseFloat(e[1]+"."+e[2]):t||null}(),T=w&&/webkit/i.test(d)&&k<2.3,E=w&&k<5&&m<537,C=/Firefox/i.test(d),x=/Edge/i.test(d),S=!x&&/Chrome/i.test(d),I=(l=d.match(/Chrome\/(\d+)/))&&l[1]?parseFloat(l[1]):null,M=/MSIE\s8\.0/.test(d),L=(!(u=(c=/MSIE\s(\d+)\.\d/.exec(d))&&parseFloat(c[1]))&&/Trident\/7.0/i.test(d)&&/rv:11.0/.test(d)&&(u=11),u),A=/Safari/i.test(d)&&!S&&!w&&!x,B=A||_,O=ie()&&("ontouchstart"in p||p.DocumentTouch&&p.document instanceof p.DocumentTouch),j=ie()&&"backgroundSize"in p.document.createElement("video").style,H=(Object.freeze||Object)({IS_IPAD:v,IS_IPHONE:g,IS_IPOD:y,IS_IOS:_,IOS_VERSION:b,IS_ANDROID:w,ANDROID_VERSION:k,IS_OLD_ANDROID:T,IS_NATIVE_ANDROID:E,IS_FIREFOX:C,IS_EDGE:x,IS_CHROME:S,CHROME_VERSION:I,IS_IE8:M,IE_VERSION:L,IS_SAFARI:A,IS_ANY_SAFARI:B,TOUCH_ENABLED:O,BACKGROUND_SIZE_SUPPORTED:j}),R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},P=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},F=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},D=function(e,t){return e.raw=t,e},q=Object.prototype.toString,z=function(e){return G(e)?Object.keys(e):[]};function V(t,n){z(t).forEach(function(e){return n(t[e],e)})}function U(n){for(var e=arguments.length,t=Array(1<e?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];return Object.assign?Object.assign.apply(Object,[n].concat(t)):(t.forEach(function(e){e&&V(e,function(e,t){n[t]=e})}),n)}function G(e){return!!e&&"object"===(void 0===e?"undefined":R(e))}function J(e){return G(e)&&"[object Object]"===q.call(e)&&e.constructor===Object}var X=void 0,W="info",K=[],Y=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!!L&&L<11,i=X.levels[W],o=new RegExp("^("+i+")$");if("log"!==e&&t.unshift(e.toUpperCase()+":"),K&&K.push([].concat(t)),t.unshift("VIDEOJS:"),p.console){var r=p.console[e];r||"debug"!==e||(r=p.console.info||p.console.log),r&&i&&o.test(e)&&(n&&(t=t.map(function(t){if(G(t)||Array.isArray(t))try{return JSON.stringify(t)}catch(e){return String(t)}return String(t)}).join(" ")),r.apply?r[Array.isArray(t)?"apply":"call"](p.console,t):r(t))}};(X=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];Y("log",t)}).levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:W},X.level=function(e){if("string"==typeof e){if(!X.levels.hasOwnProperty(e))throw new Error('"'+e+'" in not a valid log level');W=e}return W},X.history=function(){return K?[].concat(K):[]},X.history.clear=function(){K&&(K.length=0)},X.history.disable=function(){null!==K&&(K.length=0,K=null)},X.history.enable=function(){null===K&&(K=[])},X.error=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return Y("error",t)},X.warn=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return Y("warn",t)},X.debug=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return Y("debug",t)};var $=X,Q=function(e){for(var t="",n=0;n<arguments.length;n++)t+=e[n].replace(/\n\r?\s*/g,"")+(arguments[n+1]||"");return t};function Z(e,t){if(!e||!t)return"";if("function"==typeof p.getComputedStyle){var n=p.getComputedStyle(e);return n?n[t]:""}return e.currentStyle[t]||""}var ee=D(["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."],["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."]);function te(e){return"string"==typeof e&&/\S/.test(e)}function ne(e){if(/\s/.test(e))throw new Error("class has illegal whitespace characters")}function ie(){return f===p.document&&void 0!==f.createElement}function oe(e){return G(e)&&1===e.nodeType}function re(){try{return p.parent!==p.self}catch(e){return!0}}function ae(i){return function(e,t){if(!te(e))return f[i](null);te(t)&&(t=f.querySelector(t));var n=oe(t)?t:f;return n[i]&&n[i](e)}}function se(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"div",n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},i=arguments[3],o=f.createElement(e);return Object.getOwnPropertyNames(n).forEach(function(e){var t=n[e];-1!==e.indexOf("aria-")||"role"===e||"type"===e?($.warn(Q(ee,e,t)),o.setAttribute(e,t)):"textContent"===e?le(o,t):o[e]=t}),Object.getOwnPropertyNames(t).forEach(function(e){o.setAttribute(e,t[e])}),i&&Se(o,i),o}function le(e,t){return void 0===e.textContent?e.innerText=t:e.textContent=t,e}function ce(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)}function ue(e,t){return ne(t),e.classList?e.classList.contains(t):(n=t,new RegExp("(^|\\s)"+n+"($|\\s)")).test(e.className);var n}function de(e,t){return e.classList?e.classList.add(t):ue(e,t)||(e.className=(e.className+" "+t).trim()),e}function he(e,t){return e.classList?e.classList.remove(t):(ne(t),e.className=e.className.split(/\s+/).filter(function(e){return e!==t}).join(" ")),e}function pe(e,t,n){var i=ue(e,t);if("function"==typeof n&&(n=n(e,t)),"boolean"!=typeof n&&(n=!i),n!==i)return n?de(e,t):he(e,t),e}function fe(n,i){Object.getOwnPropertyNames(i).forEach(function(e){var t=i[e];null==t||!1===t?n.removeAttribute(e):n.setAttribute(e,!0===t?"":t)})}function me(e){var t={};if(e&&e.attributes&&0<e.attributes.length)for(var n=e.attributes,i=n.length-1;0<=i;i--){var o=n[i].name,r=n[i].value;"boolean"!=typeof e[o]&&-1===",autoplay,controls,playsinline,loop,muted,default,defaultMuted,".indexOf(","+o+",")||(r=null!==r),t[o]=r}return t}function ve(e,t){return e.getAttribute(t)}function ge(e,t,n){e.setAttribute(t,n)}function ye(e,t){e.removeAttribute(t)}function _e(){f.body.focus(),f.onselectstart=function(){return!1}}function be(){f.onselectstart=function(){return!0}}function we(e){if(e&&e.getBoundingClientRect&&e.parentNode){var t=e.getBoundingClientRect(),n={};return["bottom","height","left","right","top","width"].forEach(function(e){void 0!==t[e]&&(n[e]=t[e])}),n.height||(n.height=parseFloat(Z(e,"height"))),n.width||(n.width=parseFloat(Z(e,"width"))),n}}function ke(e){var t=void 0;if(e.getBoundingClientRect&&e.parentNode&&(t=e.getBoundingClientRect()),!t)return{left:0,top:0};var n=f.documentElement,i=f.body,o=n.clientLeft||i.clientLeft||0,r=p.pageXOffset||i.scrollLeft,a=t.left+r-o,s=n.clientTop||i.clientTop||0,l=p.pageYOffset||i.scrollTop,c=t.top+l-s;return{left:Math.round(a),top:Math.round(c)}}function Te(e,t){var n={},i=ke(e),o=e.offsetWidth,r=e.offsetHeight,a=i.top,s=i.left,l=t.pageY,c=t.pageX;return t.changedTouches&&(c=t.changedTouches[0].pageX,l=t.changedTouches[0].pageY),n.y=Math.max(0,Math.min(1,(a-l+r)/r)),n.x=Math.max(0,Math.min(1,(c-s)/o)),n}function Ee(e){return G(e)&&3===e.nodeType}function Ce(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}function xe(e){return"function"==typeof e&&(e=e()),(Array.isArray(e)?e:[e]).map(function(e){return"function"==typeof e&&(e=e()),oe(e)||Ee(e)?e:"string"==typeof e&&/\S/.test(e)?f.createTextNode(e):void 0}).filter(function(e){return e})}function Se(t,e){return xe(e).forEach(function(e){return t.appendChild(e)}),t}function Ie(e,t){return Se(Ce(e),t)}function Me(e){return void 0===e.button&&void 0===e.buttons||0===e.button&&void 0===e.buttons||9===L||0===e.button&&1===e.buttons}var Le=ae("querySelector"),Ae=ae("querySelectorAll"),Be=(Object.freeze||Object)({isReal:ie,isEl:oe,isInFrame:re,createEl:se,textContent:le,prependTo:ce,hasClass:ue,addClass:de,removeClass:he,toggleClass:pe,setAttributes:fe,getAttributes:me,getAttribute:ve,setAttribute:ge,removeAttribute:ye,blockTextSelection:_e,unblockTextSelection:be,getBoundingClientRect:we,findPosition:ke,getPointerPosition:Te,isTextNode:Ee,emptyEl:Ce,normalizeContent:xe,appendContent:Se,insertContent:Ie,isSingleLeftClick:Me,$:Le,$$:Ae}),Oe=1;function je(){return Oe++}var He={},Re="vdata"+(new Date).getTime();function Ne(e){var t=e[Re];return t||(t=e[Re]=je()),He[t]||(He[t]={}),He[t]}function Pe(e){var t=e[Re];return!!t&&!!Object.getOwnPropertyNames(He[t]).length}function Fe(e){var t=e[Re];if(t){delete He[t];try{delete e[Re]}catch(t){e.removeAttribute?e.removeAttribute(Re):e[Re]=null}}}function De(e,t){var n=Ne(e);0===n.handlers[t].length&&(delete n.handlers[t],e.removeEventListener?e.removeEventListener(t,n.dispatcher,!1):e.detachEvent&&e.detachEvent("on"+t,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),0===Object.getOwnPropertyNames(n).length&&Fe(e)}function qe(t,n,e,i){e.forEach(function(e){t(n,e,i)})}function ze(e){function t(){return!0}function n(){return!1}if(!e||!e.isPropagationStopped){var i=e||p.event;for(var o in e={},i)"layerX"!==o&&"layerY"!==o&&"keyLocation"!==o&&"webkitMovementX"!==o&&"webkitMovementY"!==o&&("returnValue"===o&&i.preventDefault||(e[o]=i[o]));if(e.target||(e.target=e.srcElement||f),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=function(){i.preventDefault&&i.preventDefault(),e.returnValue=!1,i.returnValue=!1,e.defaultPrevented=!0},e.defaultPrevented=!1,e.stopPropagation=function(){i.stopPropagation&&i.stopPropagation(),e.cancelBubble=!0,i.cancelBubble=!0,e.isPropagationStopped=t},e.isPropagationStopped=n,e.stopImmediatePropagation=function(){i.stopImmediatePropagation&&i.stopImmediatePropagation(),e.isImmediatePropagationStopped=t,e.stopPropagation()},e.isImmediatePropagationStopped=n,null!==e.clientX&&void 0!==e.clientX){var r=f.documentElement,a=f.body;e.pageX=e.clientX+(r&&r.scrollLeft||a&&a.scrollLeft||0)-(r&&r.clientLeft||a&&a.clientLeft||0),e.pageY=e.clientY+(r&&r.scrollTop||a&&a.scrollTop||0)-(r&&r.clientTop||a&&a.clientTop||0)}e.which=e.charCode||e.keyCode,null!==e.button&&void 0!==e.button&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}return e}var Ve=!1;!function(){try{var e=Object.defineProperty({},"passive",{get:function(){Ve=!0}});p.addEventListener("test",null,e),p.removeEventListener("test",null,e)}catch(e){}}();var Ue=["touchstart","touchmove"];function Ge(a,e,t){if(Array.isArray(e))return qe(Ge,a,e,t);var s=Ne(a);if(s.handlers||(s.handlers={}),s.handlers[e]||(s.handlers[e]=[]),t.guid||(t.guid=je()),s.handlers[e].push(t),s.dispatcher||(s.disabled=!1,s.dispatcher=function(e,t){if(!s.disabled){e=ze(e);var n=s.handlers[e.type];if(n)for(var i=n.slice(0),o=0,r=i.length;o<r&&!e.isImmediatePropagationStopped();o++)try{i[o].call(a,e,t)}catch(e){$.error(e)}}}),1===s.handlers[e].length)if(a.addEventListener){var n=!1;Ve&&-1<Ue.indexOf(e)&&(n={passive:!0}),a.addEventListener(e,s.dispatcher,n)}else a.attachEvent&&a.attachEvent("on"+e,s.dispatcher)}function Je(e,t,n){if(Pe(e)){var i=Ne(e);if(i.handlers){if(Array.isArray(t))return qe(Je,e,t,n);var o=function(e,t){i.handlers[t]=[],De(e,t)};if(void 0!==t){var r=i.handlers[t];if(r)if(n){if(n.guid)for(var a=0;a<r.length;a++)r[a].guid===n.guid&&r.splice(a--,1);De(e,t)}else o(e,t)}else for(var s in i.handlers)Object.prototype.hasOwnProperty.call(i.handlers||{},s)&&o(e,s)}}}function Xe(e,t,n){var i=Pe(e)?Ne(e):{},o=e.parentNode||e.ownerDocument;if("string"==typeof t?t={type:t,target:e}:t.target||(t.target=e),t=ze(t),i.dispatcher&&i.dispatcher.call(e,t,n),o&&!t.isPropagationStopped()&&!0===t.bubbles)Xe.call(null,o,t,n);else if(!o&&!t.defaultPrevented){var r=Ne(t.target);t.target[t.type]&&(r.disabled=!0,"function"==typeof t.target[t.type]&&t.target[t.type](),r.disabled=!1)}return!t.defaultPrevented}function We(t,n,i){if(Array.isArray(n))return qe(We,t,n,i);var e=function e(){Je(t,n,e),i.apply(this,arguments)};e.guid=i.guid=i.guid||je(),Ge(t,n,e)}var Ke=(Object.freeze||Object)({fixEvent:ze,on:Ge,off:Je,trigger:Xe,one:We}),Ye=!1,$e=void 0,Qe=function(){if(ie()){var e=f.getElementsByTagName("video"),t=f.getElementsByTagName("audio"),n=f.getElementsByTagName("video-js"),i=[];if(e&&0<e.length)for(var o=0,r=e.length;o<r;o++)i.push(e[o]);if(t&&0<t.length)for(var a=0,s=t.length;a<s;a++)i.push(t[a]);if(n&&0<n.length)for(var l=0,c=n.length;l<c;l++)i.push(n[l]);if(i&&0<i.length)for(var u=0,d=i.length;u<d;u++){var h=i[u];if(!h||!h.getAttribute){Ze(1);break}void 0===h.player&&null!==h.getAttribute("data-setup")&&$e(h)}else Ye||Ze(1)}};function Ze(e,t){t&&($e=t),p.setTimeout(Qe,e)}ie()&&"complete"===f.readyState?Ye=!0:We(p,"load",function(){Ye=!0});var et=function(e){var t=f.createElement("style");return t.className=e,t},tt=function(e,t){e.styleSheet?e.styleSheet.cssText=t:e.textContent=t},nt=function(e,t,n){t.guid||(t.guid=je());var i=function(){return t.apply(e,arguments)};return i.guid=n?n+"_"+t.guid:t.guid,i},it=function(t,n){var i=Date.now();return function(){var e=Date.now();n<=e-i&&(t.apply(void 0,arguments),i=e)}},ot=function(){};ot.prototype.allowedEvents_={},ot.prototype.addEventListener=ot.prototype.on=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},Ge(this,e,t),this.addEventListener=n},ot.prototype.removeEventListener=ot.prototype.off=function(e,t){Je(this,e,t)},ot.prototype.one=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},We(this,e,t),this.addEventListener=n},ot.prototype.dispatchEvent=ot.prototype.trigger=function(e){var t=e.type||e;"string"==typeof e&&(e={type:t}),e=ze(e),this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](e),Xe(this,e)};var rt=function(t){return t instanceof ot||!!t.eventBusEl_&&["on","one","off","trigger"].every(function(e){return"function"==typeof t[e]})},at=function(e){return"string"==typeof e&&/\S/.test(e)||Array.isArray(e)&&!!e.length},st=function(e){if(!e.nodeName&&!rt(e))throw new Error("Invalid target; must be a DOM node or evented object.")},lt=function(e){if(!at(e))throw new Error("Invalid event type; must be a non-empty string or array.")},ct=function(e){if("function"!=typeof e)throw new Error("Invalid listener; must be a function.")},ut=function(e,t){var n=t.length<3||t[0]===e||t[0]===e.eventBusEl_,i=void 0,o=void 0,r=void 0;return n?(i=e.eventBusEl_,3<=t.length&&t.shift(),o=t[0],r=t[1]):(i=t[0],o=t[1],r=t[2]),st(i),lt(o),ct(r),{isTargetingSelf:n,target:i,type:o,listener:r=nt(e,r)}},dt=function(e,t,n,i){st(e),e.nodeName?Ke[t](e,n,i):e[t](n,i)},ht={on:function(){for(var e=this,t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];var o=ut(this,n),r=o.isTargetingSelf,a=o.target,s=o.type,l=o.listener;if(dt(a,"on",s,l),!r){var c=function(){return e.off(a,s,l)};c.guid=l.guid;var u=function(){return e.off("dispose",c)};u.guid=l.guid,dt(this,"on","dispose",c),dt(a,"on","dispose",u)}},one:function(){for(var o=this,e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=ut(this,t),r=i.isTargetingSelf,a=i.target,s=i.type,l=i.listener;if(r)dt(a,"one",s,l);else{var c=function e(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];o.off(a,s,e),l.apply(null,n)};c.guid=l.guid,dt(a,"one",s,c)}},off:function(e,t,n){if(!e||at(e))Je(this.eventBusEl_,e,t);else{var i=e,o=t;st(i),lt(o),ct(n),n=nt(this,n),this.off("dispose",n),i.nodeName?(Je(i,o,n),Je(i,"dispose",n)):rt(i)&&(i.off(o,n),i.off("dispose",n))}},trigger:function(e,t){return Xe(this.eventBusEl_,e,t)}};function pt(e){var t=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).eventBusKey;if(t){if(!e[t].nodeName)throw new Error('The eventBusKey "'+t+'" does not refer to an element.');e.eventBusEl_=e[t]}else e.eventBusEl_=se("span",{className:"vjs-event-bus"});return U(e,ht),e.on("dispose",function(){e.off(),p.setTimeout(function(){e.eventBusEl_=null},0)}),e}var ft={state:{},setState:function(e){var n=this;"function"==typeof e&&(e=e());var i=void 0;return V(e,function(e,t){n.state[t]!==e&&((i=i||{})[t]={from:n.state[t],to:e}),n.state[t]=e}),i&&rt(this)&&this.trigger({changes:i,type:"statechanged"}),i}};function mt(e,t){return U(e,ft),e.state=U({},e.state,t),"function"==typeof e.handleStateChanged&&rt(e)&&e.on("statechanged",e.handleStateChanged),e}function vt(e){return"string"!=typeof e?e:e.charAt(0).toUpperCase()+e.slice(1)}function gt(){for(var n={},e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.forEach(function(e){e&&V(e,function(e,t){J(e)?(J(n[t])||(n[t]={}),n[t]=gt(n[t],e)):n[t]=e})}),n}var yt=function(){function l(e,t,n){if(N(this,l),!e&&this.play?this.player_=e=this:this.player_=e,this.options_=gt({},this.options_),t=this.options_=gt(this.options_,t),this.id_=t.id||t.el&&t.el.id,!this.id_){var i=e&&e.id&&e.id()||"no_player";this.id_=i+"_component_"+je()}this.name_=t.name||null,t.el?this.el_=t.el:!1!==t.createEl&&(this.el_=this.createEl()),!1!==t.evented&&pt(this,{eventBusKey:this.el_?"el_":null}),mt(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},!(this.childNameIndex_={})!==t.initChildren&&this.initChildren(),this.ready(n),!1!==t.reportTouchActivity&&this.enableTouchActivity()}return l.prototype.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var e=this.children_.length-1;0<=e;e--)this.children_[e].dispose&&this.children_[e].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),Fe(this.el_),this.el_=null),this.player_=null},l.prototype.player=function(){return this.player_},l.prototype.options=function(e){return $.warn("this.options() has been deprecated and will be moved to the constructor in 6.0"),e&&(this.options_=gt(this.options_,e)),this.options_},l.prototype.el=function(){return this.el_},l.prototype.createEl=function(e,t,n){return se(e,t,n)},l.prototype.localize=function(e,o){var t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:e,n=this.player_.language&&this.player_.language(),i=this.player_.languages&&this.player_.languages(),r=i&&i[n],a=n&&n.split("-")[0],s=i&&i[a],l=t;return r&&r[e]?l=r[e]:s&&s[e]&&(l=s[e]),o&&(l=l.replace(/\{(\d+)\}/g,function(e,t){var n=o[t-1],i=n;return void 0===n&&(i=e),i})),l},l.prototype.contentEl=function(){return this.contentEl_||this.el_},l.prototype.id=function(){return this.id_},l.prototype.name=function(){return this.name_},l.prototype.children=function(){return this.children_},l.prototype.getChildById=function(e){return this.childIndex_[e]},l.prototype.getChild=function(e){if(e)return e=vt(e),this.childNameIndex_[e]},l.prototype.addChild=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.children_.length,i=void 0,o=void 0;if("string"==typeof e){o=vt(e);var r=t.componentClass||o;t.name=o;var a=l.getComponent(r);if(!a)throw new Error("Component "+r+" does not exist");if("function"!=typeof a)return null;i=new a(this.player_||this,t)}else i=e;if(this.children_.splice(n,0,i),"function"==typeof i.id&&(this.childIndex_[i.id()]=i),(o=o||i.name&&vt(i.name()))&&(this.childNameIndex_[o]=i),"function"==typeof i.el&&i.el()){var s=this.contentEl().children[n]||null;this.contentEl().insertBefore(i.el(),s)}return i},l.prototype.removeChild=function(e){if("string"==typeof e&&(e=this.getChild(e)),e&&this.children_){for(var t=!1,n=this.children_.length-1;0<=n;n--)if(this.children_[n]===e){t=!0,this.children_.splice(n,1);break}if(t){this.childIndex_[e.id()]=null,this.childNameIndex_[e.name()]=null;var i=e.el();i&&i.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}}},l.prototype.initChildren=function(){var o=this,i=this.options_.children;if(i){var r=this.options_,e=void 0,n=l.getComponent("Tech");(e=Array.isArray(i)?i:Object.keys(i)).concat(Object.keys(this.options_).filter(function(t){return!e.some(function(e){return"string"==typeof e?t===e:t===e.name})})).map(function(e){var t=void 0,n=void 0;return"string"==typeof e?n=i[t=e]||o.options_[t]||{}:(t=e.name,n=e),{name:t,opts:n}}).filter(function(e){var t=l.getComponent(e.opts.componentClass||vt(e.name));return t&&!n.isTech(t)}).forEach(function(e){var t=e.name,n=e.opts;if(void 0!==r[t]&&(n=r[t]),!1!==n){!0===n&&(n={}),n.playerOptions=o.options_.playerOptions;var i=o.addChild(t,n);i&&(o[t]=i)}})}},l.prototype.buildCSSClass=function(){return""},l.prototype.ready=function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(e)return this.isReady_?void(t?e.call(this):this.setTimeout(e,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(e))},l.prototype.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var e=this.readyQueue_;this.readyQueue_=[],e&&0<e.length&&e.forEach(function(e){e.call(this)},this),this.trigger("ready")},1)},l.prototype.$=function(e,t){return Le(e,t||this.contentEl())},l.prototype.$$=function(e,t){return Ae(e,t||this.contentEl())},l.prototype.hasClass=function(e){return ue(this.el_,e)},l.prototype.addClass=function(e){de(this.el_,e)},l.prototype.removeClass=function(e){he(this.el_,e)},l.prototype.toggleClass=function(e,t){pe(this.el_,e,t)},l.prototype.show=function(){this.removeClass("vjs-hidden")},l.prototype.hide=function(){this.addClass("vjs-hidden")},l.prototype.lockShowing=function(){this.addClass("vjs-lock-showing")},l.prototype.unlockShowing=function(){this.removeClass("vjs-lock-showing")},l.prototype.getAttribute=function(e){return ve(this.el_,e)},l.prototype.setAttribute=function(e,t){ge(this.el_,e,t)},l.prototype.removeAttribute=function(e){ye(this.el_,e)},l.prototype.width=function(e,t){return this.dimension("width",e,t)},l.prototype.height=function(e,t){return this.dimension("height",e,t)},l.prototype.dimensions=function(e,t){this.width(e,!0),this.height(t)},l.prototype.dimension=function(e,t,n){if(void 0!==t)return null!==t&&t==t||(t=0),-1!==(""+t).indexOf("%")||-1!==(""+t).indexOf("px")?this.el_.style[e]=t:this.el_.style[e]="auto"===t?"":t+"px",void(n||this.trigger("componentresize"));if(!this.el_)return 0;var i=this.el_.style[e],o=i.indexOf("px");return-1!==o?parseInt(i.slice(0,o),10):parseInt(this.el_["offset"+vt(e)],10)},l.prototype.currentDimension=function(e){var t=0;if("width"!==e&&"height"!==e)throw new Error("currentDimension only accepts width or height value");if("function"==typeof p.getComputedStyle){var n=p.getComputedStyle(this.el_);t=n.getPropertyValue(e)||n[e]}if(0===(t=parseFloat(t))){var i="offset"+vt(e);t=this.el_[i]}return t},l.prototype.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},l.prototype.currentWidth=function(){return this.currentDimension("width")},l.prototype.currentHeight=function(){return this.currentDimension("height")},l.prototype.focus=function(){this.el_.focus()},l.prototype.blur=function(){this.el_.blur()},l.prototype.emitTapEvents=function(){var t=0,i=null,o=void 0;this.on("touchstart",function(e){1===e.touches.length&&(i={pageX:e.touches[0].pageX,pageY:e.touches[0].pageY},t=(new Date).getTime(),o=!0)}),this.on("touchmove",function(e){if(1<e.touches.length)o=!1;else if(i){var t=e.touches[0].pageX-i.pageX,n=e.touches[0].pageY-i.pageY;10<Math.sqrt(t*t+n*n)&&(o=!1)}});var e=function(){o=!1};this.on("touchleave",e),this.on("touchcancel",e),this.on("touchend",function(e){!(i=null)===o&&(new Date).getTime()-t<200&&(e.preventDefault(),this.trigger("tap"))})},l.prototype.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var t=nt(this.player(),this.player().reportUserActivity),n=void 0;this.on("touchstart",function(){t(),this.clearInterval(n),n=this.setInterval(t,250)});var e=function(e){t(),this.clearInterval(n)};this.on("touchmove",t),this.on("touchend",e),this.on("touchcancel",e)}},l.prototype.setTimeout=function(e,t){var n=this;e=nt(this,e);var i=p.setTimeout(e,t),o=function(){return n.clearTimeout(i)};return o.guid="vjs-timeout-"+i,this.on("dispose",o),i},l.prototype.clearTimeout=function(e){p.clearTimeout(e);var t=function(){};return t.guid="vjs-timeout-"+e,this.off("dispose",t),e},l.prototype.setInterval=function(e,t){var n=this;e=nt(this,e);var i=p.setInterval(e,t),o=function(){return n.clearInterval(i)};return o.guid="vjs-interval-"+i,this.on("dispose",o),i},l.prototype.clearInterval=function(e){p.clearInterval(e);var t=function(){};return t.guid="vjs-interval-"+e,this.off("dispose",t),e},l.prototype.requestAnimationFrame=function(e){var t=this;if(this.supportsRaf_){e=nt(this,e);var n=p.requestAnimationFrame(e),i=function(){return t.cancelAnimationFrame(n)};return i.guid="vjs-raf-"+n,this.on("dispose",i),n}return this.setTimeout(e,1e3/60)},l.prototype.cancelAnimationFrame=function(e){if(this.supportsRaf_){p.cancelAnimationFrame(e);var t=function(){};return t.guid="vjs-raf-"+e,this.off("dispose",t),e}return this.clearTimeout(e)},l.registerComponent=function(e,t){if("string"!=typeof e||!e)throw new Error('Illegal component name, "'+e+'"; must be a non-empty string.');var n=l.getComponent("Tech"),i=n&&n.isTech(t),o=l===t||l.prototype.isPrototypeOf(t.prototype);if(i||!o){throw new Error('Illegal component, "'+e+'"; '+(i?"techs must be registered using Tech.registerTech()":"must be a Component subclass")+".")}e=vt(e),l.components_||(l.components_={});var r=l.getComponent("Player");if("Player"===e&&r&&r.players){var a=r.players,s=Object.keys(a);if(a&&0<s.length&&s.map(function(e){return a[e]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return l.components_[e]=t},l.getComponent=function(e){if(e)return e=vt(e),l.components_&&l.components_[e]?l.components_[e]:void 0},l}();function _t(e,t,n,i){return function(e,t,n){if("number"!=typeof t||t<0||n<t)throw new Error("Failed to execute '"+e+"' on 'TimeRanges': The index provided ("+t+") is non-numeric or out of bounds (0-"+n+").")}(e,i,n.length-1),n[i][t]}function bt(e){return void 0===e||0===e.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:e.length,start:_t.bind(null,"start",0,e),end:_t.bind(null,"end",1,e)}}function wt(e,t){return Array.isArray(e)?bt(e):void 0===e||void 0===t?bt():bt([[e,t]])}function kt(e,t){var n=0,i=void 0,o=void 0;if(!t)return 0;e&&e.length||(e=wt(0,0));for(var r=0;r<e.length;r++)i=e.start(r),t<(o=e.end(r))&&(o=t),n+=o-i;return n/t}yt.prototype.supportsRaf_="function"==typeof p.requestAnimationFrame&&"function"==typeof p.cancelAnimationFrame,yt.registerComponent("Component",yt);for(var Tt={},Et=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],Ct=Et[0],xt=void 0,St=0;St<Et.length;St++)if(Et[St][1]in f){xt=Et[St];break}if(xt)for(var It=0;It<xt.length;It++)Tt[Ct[It]]=xt[It];function Mt(e){if(e instanceof Mt)return e;"number"==typeof e?this.code=e:"string"==typeof e?this.message=e:G(e)&&("number"==typeof e.code&&(this.code=e.code),U(this,e)),this.message||(this.message=Mt.defaultMessages[this.code]||"")}Mt.prototype.code=0,Mt.prototype.message="",Mt.prototype.status=null,Mt.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],Mt.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var Lt=0;Lt<Mt.errorTypes.length;Lt++)Mt[Mt.errorTypes[Lt]]=Lt,Mt.prototype[Mt.errorTypes[Lt]]=Lt;function At(e){return null!=e&&"function"==typeof e.then}function Bt(e){At(e)&&e.then(null,function(e){})}var Ot=function(i){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(e,t,n){return i[t]&&(e[t]=i[t]),e},{cues:i.cues&&Array.prototype.map.call(i.cues,function(e){return{startTime:e.startTime,endTime:e.endTime,text:e.text,id:e.id}})})},jt="vjs-modal-dialog",Ht=function(i){function o(e,t){N(this,o);var n=F(this,i.call(this,e,t));return n.opened_=n.hasBeenOpened_=n.hasBeenFilled_=!1,n.closeable(!n.options_.uncloseable),n.content(n.options_.content),n.contentEl_=se("div",{className:jt+"-content"},{role:"document"}),n.descEl_=se("p",{className:jt+"-description vjs-control-text",id:n.el().getAttribute("aria-describedby")}),le(n.descEl_,n.description()),n.el_.appendChild(n.descEl_),n.el_.appendChild(n.contentEl_),n}return P(o,i),o.prototype.createEl=function(){return i.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},o.prototype.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,i.prototype.dispose.call(this)},o.prototype.buildCSSClass=function(){return jt+" vjs-hidden "+i.prototype.buildCSSClass.call(this)},o.prototype.handleKeyPress=function(e){27===e.which&&this.closeable()&&this.close()},o.prototype.label=function(){return this.localize(this.options_.label||"Modal Window")},o.prototype.description=function(){var e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e},o.prototype.open=function(){if(!this.opened_){var e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.closeable()&&this.on(this.el_.ownerDocument,"keydown",nt(this,this.handleKeyPress)),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},o.prototype.opened=function(e){return"boolean"==typeof e&&this[e?"open":"close"](),this.opened_},o.prototype.close=function(){if(this.opened_){var e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.closeable()&&this.off(this.el_.ownerDocument,"keydown",nt(this,this.handleKeyPress)),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},o.prototype.closeable=function(e){if("boolean"==typeof e){var t=this.closeable_=!!e,n=this.getChild("closeButton");if(t&&!n){var i=this.contentEl_;this.contentEl_=this.el_,n=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=i,this.on(n,"close",this.close)}!t&&n&&(this.off(n,"close",this.close),this.removeChild(n),n.dispose())}return this.closeable_},o.prototype.fill=function(){this.fillWith(this.content())},o.prototype.fillWith=function(e){var t=this.contentEl(),n=t.parentNode,i=t.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,n.removeChild(t),this.empty(),Ie(t,e),this.trigger("modalfill"),i?n.insertBefore(t,i):n.appendChild(t);var o=this.getChild("closeButton");o&&n.appendChild(o.el_)},o.prototype.empty=function(){this.trigger("beforemodalempty"),Ce(this.contentEl()),this.trigger("modalempty")},o.prototype.content=function(e){return void 0!==e&&(this.content_=e),this.content_},o.prototype.conditionalFocus_=function(){var e=f.activeElement,t=this.player_.el_;this.previouslyActiveEl_=null,(t.contains(e)||t===e)&&(this.previouslyActiveEl_=e,this.focus(),this.on(f,"keydown",this.handleKeyDown))},o.prototype.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null),this.off(f,"keydown",this.handleKeyDown)},o.prototype.handleKeyDown=function(e){if(9===e.which){for(var t=this.focusableEls_(),n=this.el_.querySelector(":focus"),i=void 0,o=0;o<t.length;o++)if(n===t[o]){i=o;break}f.activeElement===this.el_&&(i=0),e.shiftKey&&0===i?(t[t.length-1].focus(),e.preventDefault()):e.shiftKey||i!==t.length-1||(t[0].focus(),e.preventDefault())}},o.prototype.focusableEls_=function(){var e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,function(e){return(e instanceof p.HTMLAnchorElement||e instanceof p.HTMLAreaElement)&&e.hasAttribute("href")||(e instanceof p.HTMLInputElement||e instanceof p.HTMLSelectElement||e instanceof p.HTMLTextAreaElement||e instanceof p.HTMLButtonElement)&&!e.hasAttribute("disabled")||e instanceof p.HTMLIFrameElement||e instanceof p.HTMLObjectElement||e instanceof p.HTMLEmbedElement||e.hasAttribute("tabindex")&&-1!==e.getAttribute("tabindex")||e.hasAttribute("contenteditable")})},o}(yt);Ht.prototype.options_={pauseOnOpen:!0,temporary:!0},yt.registerComponent("ModalDialog",Ht);var Rt=function(r){function a(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;N(this,a);var n=F(this,r.call(this));if(!t&&(t=n,M))for(var i in t=f.createElement("custom"),a.prototype)"constructor"!==i&&(t[i]=a.prototype[i]);t.tracks_=[],Object.defineProperty(t,"length",{get:function(){return this.tracks_.length}});for(var o=0;o<e.length;o++)t.addTrack(e[o]);return F(n,t)}return P(a,r),a.prototype.addTrack=function(e){var t=this.tracks_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.tracks_[t]}}),-1===this.tracks_.indexOf(e)&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack"}))},a.prototype.removeTrack=function(e){for(var t=void 0,n=0,i=this.length;n<i;n++)if(this[n]===e){(t=this[n]).off&&t.off(),this.tracks_.splice(n,1);break}t&&this.trigger({track:t,type:"removetrack"})},a.prototype.getTrackById=function(e){for(var t=null,n=0,i=this.length;n<i;n++){var o=this[n];if(o.id===e){t=o;break}}return t},a}(ot);for(var Nt in Rt.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"},Rt.prototype.allowedEvents_)Rt.prototype["on"+Nt]=null;var Pt=function(e,t){for(var n=0;n<e.length;n++)Object.keys(e[n]).length&&t.id!==e[n].id&&(e[n].enabled=!1)},Ft=function(a){function s(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];N(this,s);for(var n=void 0,i=t.length-1;0<=i;i--)if(t[i].enabled){Pt(t,t[i]);break}if(M){for(var o in n=f.createElement("custom"),Rt.prototype)"constructor"!==o&&(n[o]=Rt.prototype[o]);for(var r in s.prototype)"constructor"!==r&&(n[r]=s.prototype[r])}return(n=e=F(this,a.call(this,t,n))).changing_=!1,F(e,n)}return P(s,a),s.prototype.addTrack=function(e){var t=this;e.enabled&&Pt(this,e),a.prototype.addTrack.call(this,e),e.addEventListener&&e.addEventListener("enabledchange",function(){t.changing_||(t.changing_=!0,Pt(t,e),t.changing_=!1,t.trigger("change"))})},s}(Rt),Dt=function(e,t){for(var n=0;n<e.length;n++)Object.keys(e[n]).length&&t.id!==e[n].id&&(e[n].selected=!1)},qt=function(a){function s(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];N(this,s);for(var n=void 0,i=t.length-1;0<=i;i--)if(t[i].selected){Dt(t,t[i]);break}if(M){for(var o in n=f.createElement("custom"),Rt.prototype)"constructor"!==o&&(n[o]=Rt.prototype[o]);for(var r in s.prototype)"constructor"!==r&&(n[r]=s.prototype[r])}return(n=e=F(this,a.call(this,t,n))).changing_=!1,Object.defineProperty(n,"selectedIndex",{get:function(){for(var e=0;e<this.length;e++)if(this[e].selected)return e;return-1},set:function(){}}),F(e,n)}return P(s,a),s.prototype.addTrack=function(e){var t=this;e.selected&&Dt(this,e),a.prototype.addTrack.call(this,e),e.addEventListener&&e.addEventListener("selectedchange",function(){t.changing_||(t.changing_=!0,Dt(t,e),t.changing_=!1,t.trigger("change"))})},s}(Rt),zt=function(r){function a(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];N(this,a);var n=void 0;if(M){for(var i in n=f.createElement("custom"),Rt.prototype)"constructor"!==i&&(n[i]=Rt.prototype[i]);for(var o in a.prototype)"constructor"!==o&&(n[o]=a.prototype[o])}return e=F(this,r.call(this,t,n)),F(n=e,n)}return P(a,r),a.prototype.addTrack=function(e){r.prototype.addTrack.call(this,e),e.addEventListener("modechange",nt(this,function(){this.trigger("change")})),-1===["metadata","chapters"].indexOf(e.kind)&&e.addEventListener("modechange",nt(this,function(){this.trigger("selectedlanguagechange")}))},a}(Rt),Vt=function(){function r(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];N(this,r);var t=this;if(M)for(var n in t=f.createElement("custom"),r.prototype)"constructor"!==n&&(t[n]=r.prototype[n]);t.trackElements_=[],Object.defineProperty(t,"length",{get:function(){return this.trackElements_.length}});for(var i=0,o=e.length;i<o;i++)t.addTrackElement_(e[i]);if(M)return t}return r.prototype.addTrackElement_=function(e){var t=this.trackElements_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.trackElements_[t]}}),-1===this.trackElements_.indexOf(e)&&this.trackElements_.push(e)},r.prototype.getTrackElementByTrack_=function(e){for(var t=void 0,n=0,i=this.trackElements_.length;n<i;n++)if(e===this.trackElements_[n].track){t=this.trackElements_[n];break}return t},r.prototype.removeTrackElement_=function(e){for(var t=0,n=this.trackElements_.length;t<n;t++)if(e===this.trackElements_[t]){this.trackElements_.splice(t,1);break}},r}(),Ut=function(){function i(e){N(this,i);var t=this;if(M)for(var n in t=f.createElement("custom"),i.prototype)"constructor"!==n&&(t[n]=i.prototype[n]);if(i.prototype.setCues_.call(t,e),Object.defineProperty(t,"length",{get:function(){return this.length_}}),M)return t}return i.prototype.setCues_=function(e){var t=this.length||0,n=0,i=e.length;this.cues_=e,this.length_=e.length;var o=function(e){""+e in this||Object.defineProperty(this,""+e,{get:function(){return this.cues_[e]}})};if(t<i)for(n=t;n<i;n++)o.call(this,n)},i.prototype.getCueById=function(e){for(var t=null,n=0,i=this.length;n<i;n++){var o=this[n];if(o.id===e){t=o;break}}return t},i}(),Gt={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},Jt={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},Xt={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},Wt={disabled:"disabled",hidden:"hidden",showing:"showing"},Kt=function(s){function l(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};N(this,l);var t=F(this,s.call(this)),n=t;if(M)for(var i in n=f.createElement("custom"),l.prototype)"constructor"!==i&&(n[i]=l.prototype[i]);var o={id:e.id||"vjs_track_"+je(),kind:e.kind||"",label:e.label||"",language:e.language||""},r=function(e){Object.defineProperty(n,e,{get:function(){return o[e]},set:function(){}})};for(var a in o)r(a);return F(t,n)}return P(l,s),l}(ot),Yt=function(e){var t=["protocol","hostname","port","pathname","search","hash","host"],n=f.createElement("a");n.href=e;var i=""===n.host&&"file:"!==n.protocol,o=void 0;i&&((o=f.createElement("div")).innerHTML='<a href="'+e+'"></a>',n=o.firstChild,o.setAttribute("style","display:none; position:absolute;"),f.body.appendChild(o));for(var r={},a=0;a<t.length;a++)r[t[a]]=n[t[a]];return"http:"===r.protocol&&(r.host=r.host.replace(/:80$/,"")),"https:"===r.protocol&&(r.host=r.host.replace(/:443$/,"")),r.protocol||(r.protocol=p.location.protocol),i&&f.body.removeChild(o),r},$t=function(e){if("string"==typeof e){var t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i.exec(e);if(t)return t.pop().toLowerCase()}return""},Qt=function(e){var t=p.location,n=Yt(e);return(":"===n.protocol?t.protocol:n.protocol)+n.host!==t.protocol+t.host},Zt=(Object.freeze||Object)({parseUrl:Yt,getAbsoluteURL:function(e){if(!e.match(/^https?:\/\//)){var t=f.createElement("div");t.innerHTML='<a href="'+e+'">x</a>',e=t.firstChild.href}return e},getFileExtension:$t,isCrossOrigin:Qt}),en=function(e){var t=tn.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)},tn=Object.prototype.toString,nn=t(function(e,t){(t=e.exports=function(e){return e.replace(/^\s*|\s*$/g,"")}).left=function(e){return e.replace(/^\s*/,"")},t.right=function(e){return e.replace(/\s*$/,"")}}),on=Object.prototype.toString,rn=Object.prototype.hasOwnProperty,an=function(e){if(!e)return{};var r={};return function(e,t,n){if(!en(t))throw new TypeError("iterator must be a function");arguments.length<3&&(n=this),"[object Array]"===on.call(e)?function(e,t,n){for(var i=0,o=e.length;i<o;i++)rn.call(e,i)&&t.call(n,e[i],i,e)}(e,t,n):"string"==typeof e?function(e,t,n){for(var i=0,o=e.length;i<o;i++)t.call(n,e.charAt(i),i,e)}(e,t,n):function(e,t,n){for(var i in e)rn.call(e,i)&&t.call(n,e[i],i,e)}(e,t,n)}(nn(e).split("\n"),function(e){var t,n=e.indexOf(":"),i=nn(e.slice(0,n)).toLowerCase(),o=nn(e.slice(n+1));void 0===r[i]?r[i]=o:(t=r[i],"[object Array]"===Object.prototype.toString.call(t)?r[i].push(o):r[i]=[r[i],o])}),r},sn=function(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var i in n)ln.call(n,i)&&(e[i]=n[i])}return e},ln=Object.prototype.hasOwnProperty,cn=dn;function un(e,t,n){var i=e;return en(t)?(n=t,"string"==typeof e&&(i={uri:e})):i=sn(t,{uri:e}),i.callback=n,i}function dn(e,t,n){return hn(t=un(e,t,n))}function hn(i){if(void 0===i.callback)throw new Error("callback argument missing");var o=!1,r=function(e,t,n){o||(o=!0,i.callback(e,t,n))};function t(e){return clearTimeout(l),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,r(e,m)}function e(){if(!a){var e;clearTimeout(l),e=i.useXDR&&void 0===s.status?200:1223===s.status?204:s.status;var t=m,n=null;return 0!==e?(t={body:function(){var e=void 0;if(e=s.response?s.response:s.responseText||function(e){if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;return""!==e.responseType||t?null:e.responseXML}(s),f)try{e=JSON.parse(e)}catch(e){}return e}(),statusCode:e,method:u,headers:{},url:c,rawRequest:s},s.getAllResponseHeaders&&(t.headers=an(s.getAllResponseHeaders()))):n=new Error("Internal XMLHttpRequest Error"),r(n,t,t.body)}}var n,a,s=i.xhr||null;s||(s=i.cors||i.useXDR?new dn.XDomainRequest:new dn.XMLHttpRequest);var l,c=s.url=i.uri||i.url,u=s.method=i.method||"GET",d=i.body||i.data,h=s.headers=i.headers||{},p=!!i.sync,f=!1,m={body:void 0,headers:{},statusCode:0,method:u,url:c,rawRequest:s};if("json"in i&&!1!==i.json&&(f=!0,h.accept||h.Accept||(h.Accept="application/json"),"GET"!==u&&"HEAD"!==u&&(h["content-type"]||h["Content-Type"]||(h["Content-Type"]="application/json"),d=JSON.stringify(!0===i.json?d:i.json))),s.onreadystatechange=function(){4===s.readyState&&setTimeout(e,0)},s.onload=e,s.onerror=t,s.onprogress=function(){},s.onabort=function(){a=!0},s.ontimeout=t,s.open(u,c,!p,i.username,i.password),p||(s.withCredentials=!!i.withCredentials),!p&&0<i.timeout&&(l=setTimeout(function(){if(!a){a=!0,s.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",t(e)}},i.timeout)),s.setRequestHeader)for(n in h)h.hasOwnProperty(n)&&s.setRequestHeader(n,h[n]);else if(i.headers&&!function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(i.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in i&&(s.responseType=i.responseType),"beforeSend"in i&&"function"==typeof i.beforeSend&&i.beforeSend(s),s.send(d||null),s}dn.XMLHttpRequest=p.XMLHttpRequest||function(){},dn.XDomainRequest="withCredentials"in new dn.XMLHttpRequest?dn.XMLHttpRequest:p.XDomainRequest,function(e,t){for(var n=0;n<e.length;n++)t(e[n])}(["get","put","post","patch","head","delete"],function(i){dn["delete"===i?"del":i]=function(e,t,n){return(t=un(e,t,n)).method=i.toUpperCase(),hn(t)}});var pn=function(e,t){var n=new p.WebVTT.Parser(p,p.vttjs,p.WebVTT.StringDecoder()),i=[];n.oncue=function(e){t.addCue(e)},n.onparsingerror=function(e){i.push(e)},n.onflush=function(){t.trigger({type:"loadeddata",target:t})},n.parse(e),0<i.length&&(p.console&&p.console.groupCollapsed&&p.console.groupCollapsed("Text Track parsing errors for "+t.src),i.forEach(function(e){return $.error(e)}),p.console&&p.console.groupEnd&&p.console.groupEnd()),n.flush()},fn=function(d){function h(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(N(this,h),!t.tech)throw new Error("A tech was not provided.");var n=gt(t,{kind:Xt[t.kind]||"subtitles",language:t.language||t.srclang||""}),i=Wt[n.mode]||"disabled",o=n.default;"metadata"!==n.kind&&"chapters"!==n.kind||(i="hidden");var r=e=F(this,d.call(this,n));if(r.tech_=n.tech,M)for(var a in h.prototype)"constructor"!==a&&(r[a]=h.prototype[a]);r.cues_=[],r.activeCues_=[];var s=new Ut(r.cues_),l=new Ut(r.activeCues_),c=!1,u=nt(r,function(){this.activeCues,c&&(this.trigger("cuechange"),c=!1)});return"disabled"!==i&&r.tech_.ready(function(){r.tech_.on("timeupdate",u)},!0),Object.defineProperty(r,"default",{get:function(){return o},set:function(){}}),Object.defineProperty(r,"mode",{get:function(){return i},set:function(e){var t=this;Wt[e]&&("showing"===(i=e)&&this.tech_.ready(function(){t.tech_.on("timeupdate",u)},!0),this.trigger("modechange"))}}),Object.defineProperty(r,"cues",{get:function(){return this.loaded_?s:null},set:function(){}}),Object.defineProperty(r,"activeCues",{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return l;for(var e=this.tech_.currentTime(),t=[],n=0,i=this.cues.length;n<i;n++){var o=this.cues[n];o.startTime<=e&&o.endTime>=e?t.push(o):o.startTime===o.endTime&&o.startTime<=e&&o.startTime+.5>=e&&t.push(o)}if(c=!1,t.length!==this.activeCues_.length)c=!0;else for(var r=0;r<t.length;r++)-1===this.activeCues_.indexOf(t[r])&&(c=!0);return this.activeCues_=t,l.setCues_(this.activeCues_),l},set:function(){}}),n.src?(r.src=n.src,function(e,o){var t={uri:e},n=Qt(e);n&&(t.cors=n),cn(t,nt(this,function(e,t,n){if(e)return $.error(e,t);if(o.loaded_=!0,"function"!=typeof p.WebVTT){if(o.tech_){var i=function(){return pn(n,o)};o.tech_.on("vttjsloaded",i),o.tech_.on("vttjserror",function(){$.error("vttjs failed to load, stopping trying to process "+o.src),o.tech_.off("vttjsloaded",i)})}}else pn(n,o)}))}(n.src,r)):r.loaded_=!0,F(e,r)}return P(h,d),h.prototype.addCue=function(e){var t=e;if(p.vttjs&&!(e instanceof p.vttjs.VTTCue)){for(var n in t=new p.vttjs.VTTCue(e.startTime,e.endTime,e.text),e)n in t||(t[n]=e[n]);t.id=e.id,t.originalCue_=e}for(var i=this.tech_.textTracks(),o=0;o<i.length;o++)i[o]!==this&&i[o].removeCue(t);this.cues_.push(t),this.cues.setCues_(this.cues_)},h.prototype.removeCue=function(e){for(var t=this.cues_.length;t--;){var n=this.cues_[t];if(n===e||n.originalCue_&&n.originalCue_===e){this.cues_.splice(t,1),this.cues.setCues_(this.cues_);break}}},h}(Kt);fn.prototype.allowedEvents_={cuechange:"cuechange"};var mn=function(a){function s(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};N(this,s);var n=gt(t,{kind:Jt[t.kind]||""}),i=e=F(this,a.call(this,n)),o=!1;if(M)for(var r in s.prototype)"constructor"!==r&&(i[r]=s.prototype[r]);return Object.defineProperty(i,"enabled",{get:function(){return o},set:function(e){"boolean"==typeof e&&e!==o&&(o=e,this.trigger("enabledchange"))}}),n.enabled&&(i.enabled=n.enabled),i.loaded_=!0,F(e,i)}return P(s,a),s}(Kt),vn=function(a){function s(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};N(this,s);var n=gt(t,{kind:Gt[t.kind]||""}),i=e=F(this,a.call(this,n)),o=!1;if(M)for(var r in s.prototype)"constructor"!==r&&(i[r]=s.prototype[r]);return Object.defineProperty(i,"selected",{get:function(){return o},set:function(e){"boolean"==typeof e&&e!==o&&(o=e,this.trigger("selectedchange"))}}),n.selected&&(i.selected=n.selected),F(e,i)}return P(s,a),s}(Kt),gn=function(a){function s(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};N(this,s);var t=F(this,a.call(this)),n=void 0,i=t;if(M)for(var o in i=f.createElement("custom"),s.prototype)"constructor"!==o&&(i[o]=s.prototype[o]);var r=new fn(e);return i.kind=r.kind,i.src=r.src,i.srclang=r.language,i.label=r.label,i.default=r.default,Object.defineProperty(i,"readyState",{get:function(){return n}}),Object.defineProperty(i,"track",{get:function(){return r}}),n=0,r.addEventListener("loadeddata",function(){n=2,i.trigger({type:"load",target:i})}),M?F(t,i):t}return P(s,a),s}(ot);gn.prototype.allowedEvents_={load:"load"},gn.NONE=0,gn.LOADING=1,gn.LOADED=2,gn.ERROR=3;var yn={audio:{ListClass:Ft,TrackClass:mn,capitalName:"Audio"},video:{ListClass:qt,TrackClass:vn,capitalName:"Video"},text:{ListClass:zt,TrackClass:fn,capitalName:"Text"}};Object.keys(yn).forEach(function(e){yn[e].getterName=e+"Tracks",yn[e].privateName=e+"Tracks_"});var _n={remoteText:{ListClass:zt,TrackClass:fn,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:Vt,TrackClass:gn,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},bn=gt(yn,_n);_n.names=Object.keys(_n),yn.names=Object.keys(yn),bn.names=[].concat(_n.names).concat(yn.names);var wn=Object.create||function(){function t(){}return function(e){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return t.prototype=e,new t}}();function kn(e,t){this.name="ParsingError",this.code=e.code,this.message=t||e.message}function Tn(e){function t(e,t,n,i){return 3600*(0|e)+60*(0|t)+(0|n)+(0|i)/1e3}var n=e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return n?n[3]?t(n[1],n[2],n[3].replace(":",""),n[4]):59<n[1]?t(n[1],n[2],0,n[4]):t(0,n[1],n[2],n[4]):null}function En(){this.values=wn(null)}function Cn(e,t,n,i){var o=i?e.split(i):[e];for(var r in o)if("string"==typeof o[r]){var a=o[r].split(n);2===a.length&&t(a[0],a[1])}}function xn(t,e,r){var n,i,a,o=t;function s(){var e=Tn(t);if(null===e)throw new kn(kn.Errors.BadTimeStamp,"Malformed timestamp: "+o);return t=t.replace(/^[^\sa-zA-Z-]+/,""),e}function l(){t=t.replace(/^\s+/,"")}if(l(),e.startTime=s(),l(),"--\x3e"!==t.substr(0,3))throw new kn(kn.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+o);t=t.substr(3),l(),e.endTime=s(),l(),n=t,i=e,a=new En,Cn(n,function(e,t){switch(e){case"region":for(var n=r.length-1;0<=n;n--)if(r[n].id===t){a.set(e,r[n].region);break}break;case"vertical":a.alt(e,t,["rl","lr"]);break;case"line":var i=t.split(","),o=i[0];a.integer(e,o),a.percent(e,o)&&a.set("snapToLines",!1),a.alt(e,o,["auto"]),2===i.length&&a.alt("lineAlign",i[1],["start","middle","end"]);break;case"position":i=t.split(","),a.percent(e,i[0]),2===i.length&&a.alt("positionAlign",i[1],["start","middle","end"]);break;case"size":a.percent(e,t);break;case"align":a.alt(e,t,["start","middle","end","left","right"])}},/:/,/\s/),i.region=a.get("region",null),i.vertical=a.get("vertical",""),i.line=a.get("line","auto"),i.lineAlign=a.get("lineAlign","start"),i.snapToLines=a.get("snapToLines",!0),i.size=a.get("size",100),i.align=a.get("align","middle"),i.position=a.get("position",{start:0,left:0,middle:50,end:100,right:100},i.align),i.positionAlign=a.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},i.align)}((kn.prototype=wn(Error.prototype)).constructor=kn).Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},En.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,n){for(var i=0;i<n.length;++i)if(t===n[i]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&0<=(t=parseFloat(t))&&t<=100)&&(this.set(e,t),!0)}};var Sn={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"‎","&rlm;":"‏","&nbsp;":" "},In={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},Mn={v:"title",lang:"lang"},Ln={rt:"ruby"};function An(r,n){function e(){if(!n)return null;var e,t=n.match(/^([^<]*)(<[^>]*>?)?/);return e=t[1]?t[1]:t[2],n=n.substr(e.length),e}function t(e){return Sn[e]}function i(e){for(;f=e.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)e=e.replace(f[0],t);return e}function o(e,t){var n=In[e];if(!n)return null;var i=r.document.createElement(n);i.localName=n;var o=Mn[e];return o&&t&&(i[o]=t.trim()),i}for(var a,s,l,c=r.document.createElement("div"),u=c,d=[];null!==(a=e());)if("<"!==a[0])u.appendChild(r.document.createTextNode(i(a)));else{if("/"===a[1]){d.length&&d[d.length-1]===a.substr(2).replace(">","")&&(d.pop(),u=u.parentNode);continue}var h,p=Tn(a.substr(1,a.length-2));if(p){h=r.document.createProcessingInstruction("timestamp",p),u.appendChild(h);continue}var f=a.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!f)continue;if(!(h=o(f[1],f[3])))continue;if(s=u,Ln[(l=h).localName]&&Ln[l.localName]!==s.localName)continue;f[2]&&(h.className=f[2].substr(1).replace("."," ")),d.push(f[1]),u.appendChild(h),u=h}return c}var Bn=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function On(e){for(var t=0;t<Bn.length;t++){var n=Bn[t];if(e>=n[0]&&e<=n[1])return!0}return!1}function jn(){}function Hn(e,t,n){var i=/MSIE\s8\.0/.test(navigator.userAgent),o="rgba(255, 255, 255, 1)",r="rgba(0, 0, 0, 0.8)";i&&(o="rgb(255, 255, 255)",r="rgb(0, 0, 0)"),jn.call(this),this.cue=t,this.cueDiv=An(e,t.text);var a={color:o,backgroundColor:r,position:"relative",left:0,right:0,top:0,bottom:0,display:"inline"};i||(a.writingMode=""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",a.unicodeBidi="plaintext"),this.applyStyles(a,this.cueDiv),this.div=e.document.createElement("div"),a={textAlign:"middle"===t.align?"center":t.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},i||(a.direction=function(e){var t=[],n="";if(!e||!e.childNodes)return"ltr";function o(e,t){for(var n=t.childNodes.length-1;0<=n;n--)e.push(t.childNodes[n])}function r(e){if(!e||!e.length)return null;var t=e.pop(),n=t.textContent||t.innerText;if(n){var i=n.match(/^.*(\n|\r)/);return i?i[e.length=0]:n}return"ruby"===t.tagName?r(e):t.childNodes?(o(e,t),r(e)):void 0}for(o(t,e);n=r(t);)for(var i=0;i<n.length;i++)if(On(n.charCodeAt(i)))return"rtl";return"ltr"}(this.cueDiv),a.writingMode=""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl".stylesunicodeBidi="plaintext"),this.applyStyles(a),this.div.appendChild(this.cueDiv);var s=0;switch(t.positionAlign){case"start":s=t.position;break;case"middle":s=t.position-t.size/2;break;case"end":s=t.position-t.size}""===t.vertical?this.applyStyles({left:this.formatStyle(s,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(s,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})}}function Rn(e){var t,n,i,o,r=/MSIE\s8\.0/.test(navigator.userAgent);if(e.div){n=e.div.offsetHeight,i=e.div.offsetWidth,o=e.div.offsetTop;var a=(a=e.div.childNodes)&&(a=a[0])&&a.getClientRects&&a.getClientRects();e=e.div.getBoundingClientRect(),t=a?Math.max(a[0]&&a[0].height||0,e.height/a.length):0}this.left=e.left,this.right=e.right,this.top=e.top||o,this.height=e.height||n,this.bottom=e.bottom||o+(e.height||n),this.width=e.width||i,this.lineHeight=void 0!==t?t:e.lineHeight,r&&!this.lineHeight&&(this.lineHeight=13)}function Nn(e,t,s,l){var n=new Rn(t),i=t.cue,o=function(e){if("number"==typeof e.line&&(e.snapToLines||0<=e.line&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return-1;for(var t=e.track,n=t.textTrackList,i=0,o=0;o<n.length&&n[o]!==t;o++)"showing"===n[o].mode&&i++;return-1*++i}(i),r=[];if(i.snapToLines){var a;switch(i.vertical){case"":r=["+y","-y"],a="height";break;case"rl":r=["+x","-x"],a="width";break;case"lr":r=["-x","+x"],a="width"}var c=n.lineHeight,u=c*Math.round(o),d=s[a]+c,h=r[0];Math.abs(u)>d&&(u=u<0?-1:1,u*=Math.ceil(d/c)*c),o<0&&(u+=""===i.vertical?s.height:s.width,r=r.reverse()),n.move(h,u)}else{var p=n.lineHeight/s.height*100;switch(i.lineAlign){case"middle":o-=p/2;break;case"end":o-=p}switch(i.vertical){case"":t.applyStyles({top:t.formatStyle(o,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(o,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(o,"%")})}r=["+y","-x","+x","-y"],n=new Rn(t)}var f=function(e,t){for(var n,i=new Rn(e),o=1,r=0;r<t.length;r++){for(;e.overlapsOppositeAxis(s,t[r])||e.within(s)&&e.overlapsAny(l);)e.move(t[r]);if(e.within(s))return e;var a=e.intersectPercentage(s);a<o&&(n=new Rn(e),o=a),e=new Rn(i)}return n||i}(n,r);t.move(f.toCSSCompatValues(s))}function Pn(){}jn.prototype.applyStyles=function(e,t){for(var n in t=t||this.div,e)e.hasOwnProperty(n)&&(t.style[n]=e[n])},jn.prototype.formatStyle=function(e,t){return 0===e?0:e+t},(Hn.prototype=wn(jn.prototype)).constructor=Hn,Rn.prototype.move=function(e,t){switch(t=void 0!==t?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t}},Rn.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top},Rn.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1},Rn.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right},Rn.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}},Rn.prototype.intersectPercentage=function(e){return Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left))*Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top))/(this.height*this.width)},Rn.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}},Rn.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,n=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,i=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;return{left:(e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e).left,right:e.right,top:e.top||i,height:e.height||t,bottom:e.bottom||i+(e.height||t),width:e.width||n}},Pn.StringDecoder=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}},Pn.convertCueToDOMTree=function(e,t){return e&&t?An(e,t):null},Pn.processCues=function(i,o,e){if(!i||!o||!e)return null;for(;e.firstChild;)e.removeChild(e.firstChild);var r=i.document.createElement("div");if(r.style.position="absolute",r.style.left="0",r.style.right="0",r.style.top="0",r.style.bottom="0",r.style.margin="1.5%",e.appendChild(r),function(e){for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return!0;return!1}(o)){var a=[],s=Rn.getSimpleBoxPosition(r),l={font:Math.round(.05*s.height*100)/100+"px sans-serif"};!function(){for(var e,t,n=0;n<o.length;n++)t=o[n],e=new Hn(i,t,l),r.appendChild(e.div),Nn(0,e,s,a),t.displayState=e.div,a.push(Rn.getSimpleBoxPosition(e))}()}else for(var t=0;t<o.length;t++)r.appendChild(o[t].displayState)},(Pn.Parser=function(e,t,n){n||(n=t,t={}),t||(t={}),this.window=e,this.vttjs=t,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]}).prototype={reportOrThrowError:function(e){if(!(e instanceof kn))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(e){var t,r=this;function n(){for(var e=r.buffer,t=0;t<e.length&&"\r"!==e[t]&&"\n"!==e[t];)++t;var n=e.substr(0,t);return"\r"===e[t]&&++t,"\n"===e[t]&&++t,r.buffer=e.substr(t),n}e&&(r.buffer+=r.decoder.decode(e,{stream:!0}));try{var i;if("INITIAL"===r.state){if(!/\r\n|\n/.test(r.buffer))return this;var o=(i=n()).match(/^WEBVTT([ \t].*)?$/);if(!o||!o[0])throw new kn(kn.Errors.BadSignature);r.state="HEADER"}for(var a=!1;r.buffer;){if(!/\r\n|\n/.test(r.buffer))return this;switch(a?a=!1:i=n(),r.state){case"HEADER":/:/.test(i)?(t=i).match(/X-TIMESTAMP-MAP/)?Cn(t,function(e,t){switch(e){case"X-TIMESTAMP-MAP":n=t,i=new En,Cn(n,function(e,t){switch(e){case"MPEGT":i.integer(e+"S",t);break;case"LOCA":i.set(e+"L",Tn(t))}},/[^\d]:/,/,/),r.ontimestampmap&&r.ontimestampmap({MPEGTS:i.get("MPEGTS"),LOCAL:i.get("LOCAL")})}var n,i},/=/):Cn(t,function(e,t){switch(e){case"Region":!function(e){var o=new En;if(Cn(e,function(e,t){switch(e){case"id":o.set(e,t);break;case"width":o.percent(e,t);break;case"lines":o.integer(e,t);break;case"regionanchor":case"viewportanchor":var n=t.split(",");if(2!==n.length)break;var i=new En;if(i.percent("x",n[0]),i.percent("y",n[1]),!i.has("x")||!i.has("y"))break;o.set(e+"X",i.get("x")),o.set(e+"Y",i.get("y"));break;case"scroll":o.alt(e,t,["up"])}},/=/,/\s/),o.has("id")){var t=new(r.vttjs.VTTRegion||r.window.VTTRegion);t.width=o.get("width",100),t.lines=o.get("lines",3),t.regionAnchorX=o.get("regionanchorX",0),t.regionAnchorY=o.get("regionanchorY",100),t.viewportAnchorX=o.get("viewportanchorX",0),t.viewportAnchorY=o.get("viewportanchorY",100),t.scroll=o.get("scroll",""),r.onregion&&r.onregion(t),r.regionList.push({id:o.get("id"),region:t})}}(t)}},/:/):i||(r.state="ID");continue;case"NOTE":i||(r.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(i)){r.state="NOTE";break}if(!i)continue;if(r.cue=new(r.vttjs.VTTCue||r.window.VTTCue)(0,0,""),r.state="CUE",-1===i.indexOf("--\x3e")){r.cue.id=i;continue}case"CUE":try{xn(i,r.cue,r.regionList)}catch(e){r.reportOrThrowError(e),r.cue=null,r.state="BADCUE";continue}r.state="CUETEXT";continue;case"CUETEXT":var s=-1!==i.indexOf("--\x3e");if(!i||s&&(a=!0)){r.oncue&&r.oncue(r.cue),r.cue=null,r.state="ID";continue}r.cue.text&&(r.cue.text+="\n"),r.cue.text+=i;continue;case"BADCUE":i||(r.state="ID");continue}}}catch(e){r.reportOrThrowError(e),"CUETEXT"===r.state&&r.cue&&r.oncue&&r.oncue(r.cue),r.cue=null,r.state="INITIAL"===r.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var t=this;try{if(t.buffer+=t.decoder.decode(),(t.cue||"HEADER"===t.state)&&(t.buffer+="\n\n",t.parse()),"INITIAL"===t.state)throw new kn(kn.Errors.BadSignature)}catch(e){t.reportOrThrowError(e)}return t.onflush&&t.onflush(),this}};var Fn=Pn,Dn={"":!0,lr:!0,rl:!0},qn={start:!0,middle:!0,end:!0,left:!0,right:!0};function zn(e){return"string"==typeof e&&!!qn[e.toLowerCase()]&&e.toLowerCase()}function Vn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)e[i]=n[i]}return e}function Un(e,t,n){var i=this,o=/MSIE\s8\.0/.test(navigator.userAgent),r={};o?i=document.createElement("custom"):r.enumerable=!0,i.hasBeenReset=!1;var a="",s=!1,l=e,c=t,u=n,d=null,h="",p=!0,f="auto",m="start",v=50,g="middle",y=50,_="middle";if(Object.defineProperty(i,"id",Vn({},r,{get:function(){return a},set:function(e){a=""+e}})),Object.defineProperty(i,"pauseOnExit",Vn({},r,{get:function(){return s},set:function(e){s=!!e}})),Object.defineProperty(i,"startTime",Vn({},r,{get:function(){return l},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");l=e,this.hasBeenReset=!0}})),Object.defineProperty(i,"endTime",Vn({},r,{get:function(){return c},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");c=e,this.hasBeenReset=!0}})),Object.defineProperty(i,"text",Vn({},r,{get:function(){return u},set:function(e){u=""+e,this.hasBeenReset=!0}})),Object.defineProperty(i,"region",Vn({},r,{get:function(){return d},set:function(e){d=e,this.hasBeenReset=!0}})),Object.defineProperty(i,"vertical",Vn({},r,{get:function(){return h},set:function(e){var t,n="string"==typeof(t=e)&&!!Dn[t.toLowerCase()]&&t.toLowerCase();if(!1===n)throw new SyntaxError("An invalid or illegal string was specified.");h=n,this.hasBeenReset=!0}})),Object.defineProperty(i,"snapToLines",Vn({},r,{get:function(){return p},set:function(e){p=!!e,this.hasBeenReset=!0}})),Object.defineProperty(i,"line",Vn({},r,{get:function(){return f},set:function(e){if("number"!=typeof e&&"auto"!==e)throw new SyntaxError("An invalid number or illegal string was specified.");f=e,this.hasBeenReset=!0}})),Object.defineProperty(i,"lineAlign",Vn({},r,{get:function(){return m},set:function(e){var t=zn(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");m=t,this.hasBeenReset=!0}})),Object.defineProperty(i,"position",Vn({},r,{get:function(){return v},set:function(e){if(e<0||100<e)throw new Error("Position must be between 0 and 100.");v=e,this.hasBeenReset=!0}})),Object.defineProperty(i,"positionAlign",Vn({},r,{get:function(){return g},set:function(e){var t=zn(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");g=t,this.hasBeenReset=!0}})),Object.defineProperty(i,"size",Vn({},r,{get:function(){return y},set:function(e){if(e<0||100<e)throw new Error("Size must be between 0 and 100.");y=e,this.hasBeenReset=!0}})),Object.defineProperty(i,"align",Vn({},r,{get:function(){return _},set:function(e){var t=zn(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");_=t,this.hasBeenReset=!0}})),i.displayState=void 0,o)return i}Un.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var Gn=Un,Jn={"":!0,up:!0};function Xn(e){return"number"==typeof e&&0<=e&&e<=100}var Wn=function(){var t=100,n=3,i=0,o=100,r=0,a=100,s="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(e){if(!Xn(e))throw new Error("Width must be between 0 and 100.");t=e}},lines:{enumerable:!0,get:function(){return n},set:function(e){if("number"!=typeof e)throw new TypeError("Lines must be set to a number.");n=e}},regionAnchorY:{enumerable:!0,get:function(){return o},set:function(e){if(!Xn(e))throw new Error("RegionAnchorX must be between 0 and 100.");o=e}},regionAnchorX:{enumerable:!0,get:function(){return i},set:function(e){if(!Xn(e))throw new Error("RegionAnchorY must be between 0 and 100.");i=e}},viewportAnchorY:{enumerable:!0,get:function(){return a},set:function(e){if(!Xn(e))throw new Error("ViewportAnchorY must be between 0 and 100.");a=e}},viewportAnchorX:{enumerable:!0,get:function(){return r},set:function(e){if(!Xn(e))throw new Error("ViewportAnchorX must be between 0 and 100.");r=e}},scroll:{enumerable:!0,get:function(){return s},set:function(e){var t,n="string"==typeof(t=e)&&!!Jn[t.toLowerCase()]&&t.toLowerCase();if(!1===n)throw new SyntaxError("An invalid or illegal string was specified.");s=n}}})},Kn=t(function(e){var t=e.exports={WebVTT:Fn,VTTCue:Gn,VTTRegion:Wn};p.vttjs=t,p.WebVTT=t.WebVTT;var n=t.VTTCue,i=t.VTTRegion,o=p.VTTCue,r=p.VTTRegion;t.shim=function(){p.VTTCue=n,p.VTTRegion=i},t.restore=function(){p.VTTCue=o,p.VTTRegion=r},p.VTTCue||t.shim()}),Yn=function(t){function o(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(){};N(this,o),n.reportTouchActivity=!1;var i=F(this,t.call(this,null,n,e));return i.hasStarted_=!1,i.on("playing",function(){this.hasStarted_=!0}),i.on("loadstart",function(){this.hasStarted_=!1}),bn.names.forEach(function(e){var t=bn[e];n&&n[t.getterName]&&(i[t.privateName]=n[t.getterName])}),i.featuresProgressEvents||i.manualProgressOn(),i.featuresTimeupdateEvents||i.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(e){!1===n["native"+e+"Tracks"]&&(i["featuresNative"+e+"Tracks"]=!1)}),!1===n.nativeCaptions||!1===n.nativeTextTracks?i.featuresNativeTextTracks=!1:!0!==n.nativeCaptions&&!0!==n.nativeTextTracks||(i.featuresNativeTextTracks=!0),i.featuresNativeTextTracks||i.emulateTextTracks(),i.autoRemoteTextTracks_=new bn.text.ListClass,i.initTrackListeners(),n.nativeControlsForTouch||i.emitTapEvents(),i.constructor&&(i.name_=i.constructor.name||"Unknown Tech"),i}return P(o,t),o.prototype.triggerSourceset=function(e){var t=this;this.isReady_||this.one("ready",function(){return t.setTimeout(function(){return t.triggerSourceset(e)},1)}),this.trigger({src:e,type:"sourceset"})},o.prototype.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},o.prototype.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},o.prototype.trackProgress=function(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(nt(this,function(){var e=this.bufferedPercent();this.bufferedPercent_!==e&&this.trigger("progress"),1===(this.bufferedPercent_=e)&&this.stopTrackingProgress()}),500)},o.prototype.onDurationChange=function(e){this.duration_=this.duration()},o.prototype.buffered=function(){return wt(0,0)},o.prototype.bufferedPercent=function(){return kt(this.buffered(),this.duration_)},o.prototype.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},o.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},o.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},o.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},o.prototype.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},o.prototype.dispose=function(){this.clearTracks(yn.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),t.prototype.dispose.call(this)},o.prototype.clearTracks=function(e){var o=this;(e=[].concat(e)).forEach(function(e){for(var t=o[e+"Tracks"]()||[],n=t.length;n--;){var i=t[n];"text"===e&&o.removeRemoteTextTrack(i),t.removeTrack(i)}})},o.prototype.cleanupAutoTextTracks=function(){for(var e=this.autoRemoteTextTracks_||[],t=e.length;t--;){var n=e[t];this.removeRemoteTextTrack(n)}},o.prototype.reset=function(){},o.prototype.error=function(e){return void 0!==e&&(this.error_=new Mt(e),this.trigger("error")),this.error_},o.prototype.played=function(){return this.hasStarted_?wt(0,0):wt()},o.prototype.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},o.prototype.initTrackListeners=function(){var o=this;yn.names.forEach(function(e){var t=yn[e],n=function(){o.trigger(e+"trackchange")},i=o[t.getterName]();i.addEventListener("removetrack",n),i.addEventListener("addtrack",n),o.on("dispose",function(){i.removeEventListener("removetrack",n),i.removeEventListener("addtrack",n)})})},o.prototype.addWebVttScript_=function(){var e=this;if(!p.WebVTT)if(f.body.contains(this.el())){if(!this.options_["vtt.js"]&&J(Kn)&&0<Object.keys(Kn).length)return void this.trigger("vttjsloaded");var t=f.createElement("script");t.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.12.4/vtt.min.js",t.onload=function(){e.trigger("vttjsloaded")},t.onerror=function(){e.trigger("vttjserror")},this.on("dispose",function(){t.onload=null,t.onerror=null}),p.WebVTT=!0,this.el().parentNode.appendChild(t)}else this.ready(this.addWebVttScript_)},o.prototype.emulateTextTracks=function(){var e=this,n=this.textTracks(),t=this.remoteTextTracks(),i=function(e){return n.addTrack(e.track)},o=function(e){return n.removeTrack(e.track)};t.on("addtrack",i),t.on("removetrack",o),this.addWebVttScript_();var r=function(){return e.trigger("texttrackchange")},a=function(){r();for(var e=0;e<n.length;e++){var t=n[e];t.removeEventListener("cuechange",r),"showing"===t.mode&&t.addEventListener("cuechange",r)}};a(),n.addEventListener("change",a),n.addEventListener("addtrack",a),n.addEventListener("removetrack",a),this.on("dispose",function(){t.off("addtrack",i),t.off("removetrack",o),n.removeEventListener("change",a),n.removeEventListener("addtrack",a),n.removeEventListener("removetrack",a);for(var e=0;e<n.length;e++)n[e].removeEventListener("cuechange",r)})},o.prototype.addTextTrack=function(e,t,n){if(!e)throw new Error("TextTrack kind is required but was not provided");return function(e,t,n,i){var o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{},r=e.textTracks();o.kind=t,n&&(o.label=n),i&&(o.language=i),o.tech=e;var a=new bn.text.TrackClass(o);return r.addTrack(a),a}(this,e,t,n)},o.prototype.createRemoteTextTrack=function(e){var t=gt(e,{tech:this});return new _n.remoteTextEl.TrackClass(t)},o.prototype.addRemoteTextTrack=function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1],i=this.createRemoteTextTrack(t);return!0!==n&&!1!==n&&($.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),n=!0),this.remoteTextTrackEls().addTrackElement_(i),this.remoteTextTracks().addTrack(i.track),!0!==n&&this.ready(function(){return e.autoRemoteTextTracks_.addTrack(i.track)}),i},o.prototype.removeRemoteTextTrack=function(e){var t=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(t),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)},o.prototype.getVideoPlaybackQuality=function(){return{}},o.prototype.setPoster=function(){},o.prototype.playsinline=function(){},o.prototype.setPlaysinline=function(){},o.prototype.canPlayType=function(){return""},o.canPlayType=function(){return""},o.canPlaySource=function(e,t){return o.canPlayType(e.type)},o.isTech=function(e){return e.prototype instanceof o||e instanceof o||e===o},o.registerTech=function(e,t){if(o.techs_||(o.techs_={}),!o.isTech(t))throw new Error("Tech "+e+" must be a Tech");if(!o.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!o.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=vt(e),o.techs_[e]=t,"Tech"!==e&&o.defaultTechOrder_.push(e),t},o.getTech=function(e){if(e)return e=vt(e),o.techs_&&o.techs_[e]?o.techs_[e]:p&&p.videojs&&p.videojs[e]?($.warn("The "+e+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),p.videojs[e]):void 0},o}(yt);bn.names.forEach(function(e){var t=bn[e];Yn.prototype[t.getterName]=function(){return this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName]}}),Yn.prototype.featuresVolumeControl=!0,Yn.prototype.featuresFullscreenResize=!1,Yn.prototype.featuresPlaybackRate=!1,Yn.prototype.featuresProgressEvents=!1,Yn.prototype.featuresSourceset=!1,Yn.prototype.featuresTimeupdateEvents=!1,Yn.prototype.featuresNativeTextTracks=!1,Yn.withSourceHandlers=function(o){o.registerSourceHandler=function(e,t){var n=o.sourceHandlers;n||(n=o.sourceHandlers=[]),void 0===t&&(t=n.length),n.splice(t,0,e)},o.canPlayType=function(e){for(var t=o.sourceHandlers||[],n=void 0,i=0;i<t.length;i++)if(n=t[i].canPlayType(e))return n;return""},o.selectSourceHandler=function(e,t){for(var n=o.sourceHandlers||[],i=0;i<n.length;i++)if(n[i].canHandleSource(e,t))return n[i];return null},o.canPlaySource=function(e,t){var n=o.selectSourceHandler(e,t);return n?n.canHandleSource(e,t):""},["seekable","seeking","duration"].forEach(function(e){var t=this[e];"function"==typeof t&&(this[e]=function(){return this.sourceHandler_&&this.sourceHandler_[e]?this.sourceHandler_[e].apply(this.sourceHandler_,arguments):t.apply(this,arguments)})},o.prototype),o.prototype.setSource=function(e){var t=o.selectSourceHandler(e,this.options_);t||(o.nativeSourceHandler?t=o.nativeSourceHandler:$.error("No source hander found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),t!==o.nativeSourceHandler&&(this.currentSource_=e),this.sourceHandler_=t.handleSource(e,this,this.options_),this.on("dispose",this.disposeSourceHandler)},o.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},yt.registerComponent("Tech",Yn),Yn.registerTech("Tech",Yn),Yn.defaultTechOrder_=[];var $n={},Qn={},Zn={};function ei(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,o="call"+vt(n),r=e.reduce(oi(o),i),a=r===Zn,s=a?null:t[n](r);return function(e,t,n,i){for(var o=e.length-1;0<=o;o--){var r=e[o];r[t]&&r[t](i,n)}}(e,n,s,a),s}var ti={buffered:1,currentTime:1,duration:1,seekable:1,played:1,paused:1},ni={setCurrentTime:1},ii={play:1,pause:1};function oi(n){return function(e,t){return e===Zn?Zn:t[n]?t[n](e):e}}var ri={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",mp3:"audio/mpeg",aac:"audio/aac",oga:"audio/ogg",m3u8:"application/x-mpegURL"};function ai(e){var t=$t(e.src),n=ri[t.toLowerCase()];return!e.type&&n&&(e.type=n),e}var si=function(c){function u(e,t,n){N(this,u);var i=gt({createEl:!1},t),o=F(this,c.call(this,e,i,n));if(t.playerOptions.sources&&0!==t.playerOptions.sources.length)e.src(t.playerOptions.sources);else for(var r=0,a=t.playerOptions.techOrder;r<a.length;r++){var s=vt(a[r]),l=Yn.getTech(s);if(s||(l=yt.getComponent(s)),l&&l.isSupported()){e.loadTech_(s);break}}return o}return P(u,c),u}(yt);yt.registerComponent("MediaLoader",si);var li=function(o){function i(e,t){N(this,i);var n=F(this,o.call(this,e,t));return n.emitTapEvents(),n.enable(),n}return P(i,o),i.prototype.createEl=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"div",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};t=U({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass(),tabIndex:0},t),"button"===e&&$.error("Creating a ClickableComponent with an HTML element of "+e+" is not supported; use a Button instead."),n=U({role:"button","aria-live":"polite"},n),this.tabIndex_=t.tabIndex;var i=o.prototype.createEl.call(this,e,t,n);return this.createControlTextEl(i),i},i.prototype.dispose=function(){this.controlTextEl_=null,o.prototype.dispose.call(this)},i.prototype.createControlTextEl=function(e){return this.controlTextEl_=se("span",{className:"vjs-control-text"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_},i.prototype.controlText=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.el();if(void 0===e)return this.controlText_||"Need Text";var n=this.localize(e);this.controlText_=e,le(this.controlTextEl_,n),this.nonIconControl||t.setAttribute("title",n)},i.prototype.buildCSSClass=function(){return"vjs-control vjs-button "+o.prototype.buildCSSClass.call(this)},i.prototype.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),void 0!==this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur))},i.prototype.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),void 0!==this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off(["tap","click"],this.handleClick),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur)},i.prototype.handleClick=function(e){},i.prototype.handleFocus=function(e){Ge(f,"keydown",nt(this,this.handleKeyPress))},i.prototype.handleKeyPress=function(e){32===e.which||13===e.which?(e.preventDefault(),this.trigger("click")):o.prototype.handleKeyPress&&o.prototype.handleKeyPress.call(this,e)},i.prototype.handleBlur=function(e){Je(f,"keydown",nt(this,this.handleKeyPress))},i}(yt);yt.registerComponent("ClickableComponent",li);var ci=function(i){function o(e,t){N(this,o);var n=F(this,i.call(this,e,t));return n.update(),e.on("posterchange",nt(n,n.update)),n}return P(o,i),o.prototype.dispose=function(){this.player().off("posterchange",this.update),i.prototype.dispose.call(this)},o.prototype.createEl=function(){var e=se("div",{className:"vjs-poster",tabIndex:-1});return j||(this.fallbackImg_=se("img"),e.appendChild(this.fallbackImg_)),e},o.prototype.update=function(e){var t=this.player().poster();this.setSrc(t),t?this.show():this.hide()},o.prototype.setSrc=function(e){if(this.fallbackImg_)this.fallbackImg_.src=e;else{var t="";e&&(t='url("'+e+'")'),this.el_.style.backgroundImage=t}},o.prototype.handleClick=function(e){this.player_.controls()&&(this.player_.paused()?this.player_.play():this.player_.pause())},o}(li);yt.registerComponent("PosterImage",ci);var ui="#222",di={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function hi(e,t){return"rgba("+parseInt(e[1]+e[1],16)+","+parseInt(e[2]+e[2],16)+","+parseInt(e[3]+e[3],16)+","+t+")"}function pi(e,t,n){try{e.style[t]=n}catch(e){return}}var fi=function(o){function r(n,e,t){N(this,r);var i=F(this,o.call(this,n,e,t));return n.on("loadstart",nt(i,i.toggleDisplay)),n.on("texttrackchange",nt(i,i.updateDisplay)),n.on("loadstart",nt(i,i.preselectTrack)),n.ready(nt(i,function(){if(n.tech_&&n.tech_.featuresNativeTextTracks)this.hide();else{n.on("fullscreenchange",nt(this,this.updateDisplay));for(var e=this.options_.playerOptions.tracks||[],t=0;t<e.length;t++)this.player_.addRemoteTextTrack(e[t],!0);this.preselectTrack()}})),i}return P(r,o),r.prototype.preselectTrack=function(){for(var e={captions:1,subtitles:1},t=this.player_.textTracks(),n=this.player_.cache_.selectedLanguage,i=void 0,o=void 0,r=void 0,a=0;a<t.length;a++){var s=t[a];n&&n.enabled&&n.language===s.language?s.kind===n.kind?r=s:r||(r=s):n&&!n.enabled?o=i=r=null:s.default&&("descriptions"!==s.kind||i?s.kind in e&&!o&&(o=s):i=s)}r?r.mode="showing":o?o.mode="showing":i&&(i.mode="showing")},r.prototype.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},r.prototype.createEl=function(){return o.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},r.prototype.clearDisplay=function(){"function"==typeof p.WebVTT&&p.WebVTT.processCues(p,[],this.el_)},r.prototype.updateDisplay=function(){var e=this.player_.textTracks();this.clearDisplay();for(var t=null,n=null,i=e.length;i--;){var o=e[i];"showing"===o.mode&&("descriptions"===o.kind?t=o:n=o)}n?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(n)):t&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(t))},r.prototype.updateForTrack=function(e){if("function"==typeof p.WebVTT&&e.activeCues){for(var t=[],n=0;n<e.activeCues.length;n++)t.push(e.activeCues[n]);if(p.WebVTT.processCues(p,t,this.el_),this.player_.textTrackSettings)for(var i=this.player_.textTrackSettings.getValues(),o=t.length;o--;){var r=t[o];if(r){var a=r.displayState;if(i.color&&(a.firstChild.style.color=i.color),i.textOpacity&&pi(a.firstChild,"color",hi(i.color||"#fff",i.textOpacity)),i.backgroundColor&&(a.firstChild.style.backgroundColor=i.backgroundColor),i.backgroundOpacity&&pi(a.firstChild,"backgroundColor",hi(i.backgroundColor||"#000",i.backgroundOpacity)),i.windowColor&&(i.windowOpacity?pi(a,"backgroundColor",hi(i.windowColor,i.windowOpacity)):a.style.backgroundColor=i.windowColor),i.edgeStyle&&("dropshadow"===i.edgeStyle?a.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px "+ui:"raised"===i.edgeStyle?a.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px "+ui:"depressed"===i.edgeStyle?a.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px "+ui:"uniform"===i.edgeStyle&&(a.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px "+ui)),i.fontPercent&&1!==i.fontPercent){var s=p.parseFloat(a.style.fontSize);a.style.fontSize=s*i.fontPercent+"px",a.style.height="auto",a.style.top="auto",a.style.bottom="2px"}i.fontFamily&&"default"!==i.fontFamily&&("small-caps"===i.fontFamily?a.firstChild.style.fontVariant="small-caps":a.firstChild.style.fontFamily=di[i.fontFamily])}}}},r}(yt);yt.registerComponent("TextTrackDisplay",fi);var mi=function(o){function e(){return N(this,e),F(this,o.apply(this,arguments))}return P(e,o),e.prototype.createEl=function(){var e=this.player_.isAudio(),t=this.localize(e?"Audio Player":"Video Player"),n=se("span",{className:"vjs-control-text",innerHTML:this.localize("{1} is loading.",[t])}),i=o.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return i.appendChild(n),i},e}(yt);yt.registerComponent("LoadingSpinner",mi);var vi=function(t){function e(){return N(this,e),F(this,t.apply(this,arguments))}return P(e,t),e.prototype.createEl=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};t=U({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass()},t),n=U({type:"button","aria-live":"polite"},n);var i=yt.prototype.createEl.call(this,"button",t,n);return this.createControlTextEl(i),i},e.prototype.addChild=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=this.constructor.name;return $.warn("Adding an actionable (user controllable) child to a Button ("+n+") is not supported; use a ClickableComponent instead."),yt.prototype.addChild.call(this,e,t)},e.prototype.enable=function(){t.prototype.enable.call(this),this.el_.removeAttribute("disabled")},e.prototype.disable=function(){t.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},e.prototype.handleKeyPress=function(e){32!==e.which&&13!==e.which&&t.prototype.handleKeyPress.call(this,e)},e}(li);yt.registerComponent("Button",vi);var gi=function(i){function o(e,t){N(this,o);var n=F(this,i.call(this,e,t));return n.mouseused_=!1,n.on("mousedown",n.handleMouseDown),n}return P(o,i),o.prototype.buildCSSClass=function(){return"vjs-big-play-button"},o.prototype.handleClick=function(e){var t=this.player_.play();if(!(this.mouseused_&&e.clientX&&e.clientY)){var n=this.player_.getChild("controlBar"),i=n&&n.getChild("playToggle");if(i){var o=function(){return i.focus()};At(t)?t.then(o,function(){}):this.setTimeout(o,1)}else this.player_.focus()}},o.prototype.handleKeyPress=function(e){this.mouseused_=!1,i.prototype.handleKeyPress.call(this,e)},o.prototype.handleMouseDown=function(e){this.mouseused_=!0},o}(vi);gi.prototype.controlText_="Play Video",yt.registerComponent("BigPlayButton",gi);var yi=function(i){function o(e,t){N(this,o);var n=F(this,i.call(this,e,t));return n.controlText(t&&t.controlText||n.localize("Close")),n}return P(o,i),o.prototype.buildCSSClass=function(){return"vjs-close-button "+i.prototype.buildCSSClass.call(this)},o.prototype.handleClick=function(e){this.trigger({type:"close",bubbles:!1})},o}(vi);yt.registerComponent("CloseButton",yi);var _i=function(i){function o(e,t){N(this,o);var n=F(this,i.call(this,e,t));return n.on(e,"play",n.handlePlay),n.on(e,"pause",n.handlePause),n.on(e,"ended",n.handleEnded),n}return P(o,i),o.prototype.buildCSSClass=function(){return"vjs-play-control "+i.prototype.buildCSSClass.call(this)},o.prototype.handleClick=function(e){this.player_.paused()?this.player_.play():this.player_.pause()},o.prototype.handleSeeked=function(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)},o.prototype.handlePlay=function(e){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},o.prototype.handlePause=function(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},o.prototype.handleEnded=function(e){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",this.handleSeeked)},o}(vi);_i.prototype.controlText_="Play",yt.registerComponent("PlayToggle",_i);var bi=function(e,t){e=e<0?0:e;var n=Math.floor(e%60),i=Math.floor(e/60%60),o=Math.floor(e/3600),r=Math.floor(t/60%60),a=Math.floor(t/3600);return(isNaN(e)||e===1/0)&&(o=i=n="-"),(o=0<o||0<a?o+":":"")+(i=((o||10<=r)&&i<10?"0"+i:i)+":")+(n<10?"0"+n:n)},wi=bi,ki=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:e;return wi(e,t)},Ti=function(i){function o(e,t){N(this,o);var n=F(this,i.call(this,e,t));return n.throttledUpdateContent=it(nt(n,n.updateContent),25),n.on(e,"timeupdate",n.throttledUpdateContent),n}return P(o,i),o.prototype.createEl=function(e){var t=this.buildCSSClass(),n=i.prototype.createEl.call(this,"div",{className:t+" vjs-time-control vjs-control"});return this.contentEl_=se("div",{className:t+"-display"},{"aria-live":"off"},se("span",{className:"vjs-control-text",textContent:this.localize(this.controlText_)})),this.updateTextNode_(),n.appendChild(this.contentEl_),n},o.prototype.dispose=function(){this.contentEl_=null,this.textNode_=null,i.prototype.dispose.call(this)},o.prototype.updateTextNode_=function(){if(this.contentEl_){for(;this.contentEl_.firstChild;)this.contentEl_.removeChild(this.contentEl_.firstChild);this.textNode_=f.createTextNode(this.formattedTime_||this.formatTime_(0)),this.contentEl_.appendChild(this.textNode_)}},o.prototype.formatTime_=function(e){return ki(e)},o.prototype.updateFormattedTime_=function(e){var t=this.formatTime_(e);t!==this.formattedTime_&&(this.formattedTime_=t,this.requestAnimationFrame(this.updateTextNode_))},o.prototype.updateContent=function(e){},o}(yt);Ti.prototype.controlText_="Time",yt.registerComponent("TimeDisplay",Ti);var Ei=function(i){function o(e,t){N(this,o);var n=F(this,i.call(this,e,t));return n.on(e,"ended",n.handleEnded),n}return P(o,i),o.prototype.buildCSSClass=function(){return"vjs-current-time"},o.prototype.updateContent=function(e){var t=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.updateFormattedTime_(t)},o.prototype.handleEnded=function(e){this.player_.duration()&&this.updateFormattedTime_(this.player_.duration())},o}(Ti);Ei.prototype.controlText_="Current Time",yt.registerComponent("CurrentTimeDisplay",Ei);var Ci=function(i){function o(e,t){N(this,o);var n=F(this,i.call(this,e,t));return n.on(e,"durationchange",n.updateContent),n.on(e,"loadedmetadata",n.throttledUpdateContent),n}return P(o,i),o.prototype.buildCSSClass=function(){return"vjs-duration"},o.prototype.updateContent=function(e){var t=this.player_.duration();t&&this.duration_!==t&&(this.duration_=t,this.updateFormattedTime_(t))},o}(Ti);Ci.prototype.controlText_="Duration Time",yt.registerComponent("DurationDisplay",Ci);var xi=function(e){function t(){return N(this,t),F(this,e.apply(this,arguments))}return P(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},t}(yt);yt.registerComponent("TimeDivider",xi);var Si=function(i){function o(e,t){N(this,o);var n=F(this,i.call(this,e,t));return n.on(e,"durationchange",n.throttledUpdateContent),n.on(e,"ended",n.handleEnded),n}return P(o,i),o.prototype.buildCSSClass=function(){return"vjs-remaining-time"},o.prototype.formatTime_=function(e){return"-"+i.prototype.formatTime_.call(this,e)},o.prototype.updateContent=function(e){this.player_.duration()&&(this.player_.remainingTimeDisplay?this.updateFormattedTime_(this.player_.remainingTimeDisplay()):this.updateFormattedTime_(this.player_.remainingTime()))},o.prototype.handleEnded=function(e){this.player_.duration()&&this.updateFormattedTime_(0)},o}(Ti);Si.prototype.controlText_="Remaining Time",yt.registerComponent("RemainingTimeDisplay",Si);var Ii=function(i){function o(e,t){N(this,o);var n=F(this,i.call(this,e,t));return n.updateShowing(),n.on(n.player(),"durationchange",n.updateShowing),n}return P(o,i),o.prototype.createEl=function(){var e=i.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=se("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+"</span>"+this.localize("LIVE")},{"aria-live":"off"}),e.appendChild(this.contentEl_),e},o.prototype.dispose=function(){this.contentEl_=null,i.prototype.dispose.call(this)},o.prototype.updateShowing=function(e){this.player().duration()===1/0?this.show():this.hide()},o}(yt);yt.registerComponent("LiveDisplay",Ii);var Mi=function(i){function o(e,t){N(this,o);var n=F(this,i.call(this,e,t));return n.bar=n.getChild(n.options_.barName),n.vertical(!!n.options_.vertical),n.enable(),n}return P(o,i),o.prototype.enabled=function(){return this.enabled_},o.prototype.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown),this.on("touchstart",this.handleMouseDown),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur),this.on("click",this.handleClick),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},o.prototype.disable=function(){if(this.enabled()){var e=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown),this.off("touchstart",this.handleMouseDown),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur),this.off("click",this.handleClick),this.off(this.player_,"controlsvisible",this.update),this.off(e,"mousemove",this.handleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchmove",this.handleMouseMove),this.off(e,"touchend",this.handleMouseUp),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},o.prototype.createEl=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return t.className=t.className+" vjs-slider",t=U({tabIndex:0},t),n=U({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},n),i.prototype.createEl.call(this,e,t,n)},o.prototype.handleMouseDown=function(e){var t=this.bar.el_.ownerDocument;e.preventDefault(),_e(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(t,"mousemove",this.handleMouseMove),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchmove",this.handleMouseMove),this.on(t,"touchend",this.handleMouseUp),this.handleMouseMove(e)},o.prototype.handleMouseMove=function(e){},o.prototype.handleMouseUp=function(){var e=this.bar.el_.ownerDocument;be(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(e,"mousemove",this.handleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchmove",this.handleMouseMove),this.off(e,"touchend",this.handleMouseUp),this.update()},o.prototype.update=function(){if(this.el_){var e=this.getPercent(),t=this.bar;if(t){("number"!=typeof e||e!=e||e<0||e===1/0)&&(e=0);var n=(100*e).toFixed(2)+"%",i=t.el().style;return this.vertical()?i.height=n:i.width=n,e}}},o.prototype.calculateDistance=function(e){var t=Te(this.el_,e);return this.vertical()?t.y:t.x},o.prototype.handleFocus=function(){this.on(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},o.prototype.handleKeyPress=function(e){37===e.which||40===e.which?(e.preventDefault(),this.stepBack()):38!==e.which&&39!==e.which||(e.preventDefault(),this.stepForward())},o.prototype.handleBlur=function(){this.off(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},o.prototype.handleClick=function(e){e.stopImmediatePropagation(),e.preventDefault()},o.prototype.vertical=function(e){if(void 0===e)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},o}(yt);yt.registerComponent("Slider",Mi);var Li=function(i){function o(e,t){N(this,o);var n=F(this,i.call(this,e,t));return n.partEls_=[],n.on(e,"progress",n.update),n}return P(o,i),o.prototype.createEl=function(){return i.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+"</span>: 0%</span>"})},o.prototype.dispose=function(){this.partEls_=null,i.prototype.dispose.call(this)},o.prototype.update=function(e){var t=this.player_.buffered(),n=this.player_.duration(),i=this.player_.bufferedEnd(),o=this.partEls_,r=function(e,t){var n=e/t||0;return 100*(1<=n?1:n)+"%"};this.el_.style.width=r(i,n);for(var a=0;a<t.length;a++){var s=t.start(a),l=t.end(a),c=o[a];c||(c=this.el_.appendChild(se()),o[a]=c),c.style.left=r(s,i),c.style.width=r(l-s,i)}for(var u=o.length;u>t.length;u--)this.el_.removeChild(o[u-1]);o.length=t.length},o}(yt);yt.registerComponent("LoadProgressBar",Li);var Ai=function(e){function t(){return N(this,t),F(this,e.apply(this,arguments))}return P(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"})},t.prototype.update=function(e,t,n){var i=we(this.el_),o=we(this.player_.el()),r=e.width*t;if(o&&i){var a=e.left-o.left+r,s=e.width-r+(o.right-e.right),l=i.width/2;a<l?l+=l-a:s<l&&(l=s),l<0?l=0:l>i.width&&(l=i.width),this.el_.style.right="-"+l+"px",le(this.el_,n)}},t}(yt);yt.registerComponent("TimeTooltip",Ai);var Bi=function(e){function t(){return N(this,t),F(this,e.apply(this,arguments))}return P(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"})},t.prototype.update=function(i,o){var r=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame(function(){var e=r.player_.scrubbing()?r.player_.getCache().currentTime:r.player_.currentTime(),t=ki(e,r.player_.duration()),n=r.getChild("timeTooltip");n&&n.update(i,o,t)})},t}(yt);Bi.prototype.options_={children:[]},L&&!(8<L)||_||w||Bi.prototype.options_.children.push("timeTooltip"),yt.registerComponent("PlayProgressBar",Bi);var Oi=function(i){function o(e,t){N(this,o);var n=F(this,i.call(this,e,t));return n.update=it(nt(n,n.update),25),n}return P(o,i),o.prototype.createEl=function(){return i.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},o.prototype.update=function(n,i){var o=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame(function(){var e=o.player_.duration(),t=ki(i*e,e);o.el_.style.left=n.width*i+"px",o.getChild("timeTooltip").update(n,i,t)})},o}(yt);Oi.prototype.options_={children:["timeTooltip"]},yt.registerComponent("MouseTimeDisplay",Oi);var ji=function(i){function o(e,t){N(this,o);var n=F(this,i.call(this,e,t));return n.setEventHandlers_(),n}return P(o,i),o.prototype.setEventHandlers_=function(){var e=this;this.update=it(nt(this,this.update),30),this.on(this.player_,"timeupdate",this.update),this.on(this.player_,"ended",this.handleEnded),this.updateInterval=null,this.on(this.player_,["playing"],function(){e.clearInterval(e.updateInterval),e.updateInterval=e.setInterval(function(){e.requestAnimationFrame(function(){e.update()})},30)}),this.on(this.player_,["ended","pause","waiting"],function(){e.clearInterval(e.updateInterval)}),this.on(this.player_,["timeupdate","ended"],this.update)},o.prototype.createEl=function(){return i.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},o.prototype.update_=function(e,t){var n=this.player_.duration();this.el_.setAttribute("aria-valuenow",(100*t).toFixed(2)),this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[ki(e,n),ki(n,n)],"{1} of {2}")),this.bar.update(we(this.el_),t)},o.prototype.update=function(e){var t=i.prototype.update.call(this);return this.update_(this.getCurrentTime_(),t),t},o.prototype.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},o.prototype.handleEnded=function(e){this.update_(this.player_.duration(),1)},o.prototype.getPercent=function(){var e=this.getCurrentTime_()/this.player_.duration();return 1<=e?1:e},o.prototype.handleMouseDown=function(e){Me(e)&&(e.stopPropagation(),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),i.prototype.handleMouseDown.call(this,e))},o.prototype.handleMouseMove=function(e){if(Me(e)){var t=this.calculateDistance(e)*this.player_.duration();t===this.player_.duration()&&(t-=.1),this.player_.currentTime(t)}},o.prototype.enable=function(){i.prototype.enable.call(this);var e=this.getChild("mouseTimeDisplay");e&&e.show()},o.prototype.disable=function(){i.prototype.disable.call(this);var e=this.getChild("mouseTimeDisplay");e&&e.hide()},o.prototype.handleMouseUp=function(e){i.prototype.handleMouseUp.call(this,e),e&&e.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying&&Bt(this.player_.play())},o.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},o.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},o.prototype.handleAction=function(e){this.player_.paused()?this.player_.play():this.player_.pause()},o.prototype.handleKeyPress=function(e){32===e.which||13===e.which?(e.preventDefault(),this.handleAction(e)):i.prototype.handleKeyPress&&i.prototype.handleKeyPress.call(this,e)},o}(Mi);ji.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},L&&!(8<L)||_||w||ji.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),ji.prototype.playerEvent="timeupdate",yt.registerComponent("SeekBar",ji);var Hi=function(i){function o(e,t){N(this,o);var n=F(this,i.call(this,e,t));return n.handleMouseMove=it(nt(n,n.handleMouseMove),25),n.throttledHandleMouseSeek=it(nt(n,n.handleMouseSeek),25),n.enable(),n}return P(o,i),o.prototype.createEl=function(){return i.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},o.prototype.handleMouseMove=function(e){var t=this.getChild("seekBar");if(t){var n=t.getChild("mouseTimeDisplay"),i=t.el(),o=we(i),r=Te(i,e).x;1<r?r=1:r<0&&(r=0),n&&n.update(o,r)}},o.prototype.handleMouseSeek=function(e){var t=this.getChild("seekBar");t&&t.handleMouseMove(e)},o.prototype.enabled=function(){return this.enabled_},o.prototype.disable=function(){this.children().forEach(function(e){return e.disable&&e.disable()}),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDown),this.off(this.el_,"mousemove",this.handleMouseMove),this.handleMouseUp(),this.addClass("disabled"),this.enabled_=!1)},o.prototype.enable=function(){this.children().forEach(function(e){return e.enable&&e.enable()}),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDown),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},o.prototype.handleMouseDown=function(e){var t=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseDown(e),this.on(t,"mousemove",this.throttledHandleMouseSeek),this.on(t,"touchmove",this.throttledHandleMouseSeek),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchend",this.handleMouseUp)},o.prototype.handleMouseUp=function(e){var t=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseUp(e),this.off(t,"mousemove",this.throttledHandleMouseSeek),this.off(t,"touchmove",this.throttledHandleMouseSeek),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchend",this.handleMouseUp)},o}(yt);Hi.prototype.options_={children:["seekBar"]},yt.registerComponent("ProgressControl",Hi);var Ri=function(i){function o(e,t){N(this,o);var n=F(this,i.call(this,e,t));return n.on(e,"fullscreenchange",n.handleFullscreenChange),n}return P(o,i),o.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+i.prototype.buildCSSClass.call(this)},o.prototype.handleFullscreenChange=function(e){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},o.prototype.handleClick=function(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},o}(vi);Ri.prototype.controlText_="Fullscreen",yt.registerComponent("FullscreenToggle",Ri);var Ni=function(e,t){t.tech_&&!t.tech_.featuresVolumeControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",function(){t.tech_.featuresVolumeControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})},Pi=function(e){function t(){return N(this,t),F(this,e.apply(this,arguments))}return P(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},t}(yt);yt.registerComponent("VolumeLevel",Pi);var Fi=function(i){function o(e,t){N(this,o);var n=F(this,i.call(this,e,t));return n.on("slideractive",n.updateLastVolume_),n.on(e,"volumechange",n.updateARIAAttributes),e.ready(function(){return n.updateARIAAttributes()}),n}return P(o,i),o.prototype.createEl=function(){return i.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},o.prototype.handleMouseDown=function(e){Me(e)&&i.prototype.handleMouseDown.call(this,e)},o.prototype.handleMouseMove=function(e){Me(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))},o.prototype.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},o.prototype.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},o.prototype.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},o.prototype.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},o.prototype.updateARIAAttributes=function(e){var t=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",t),this.el_.setAttribute("aria-valuetext",t+"%")},o.prototype.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},o.prototype.updateLastVolume_=function(){var e=this,t=this.player_.volume();this.one("sliderinactive",function(){0===e.player_.volume()&&e.player_.lastVolume_(t)})},o}(Mi);Fi.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},Fi.prototype.playerEvent="volumechange",yt.registerComponent("VolumeBar",Fi);var Di=function(i){function o(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};N(this,o),t.vertical=t.vertical||!1,(void 0===t.volumeBar||J(t.volumeBar))&&(t.volumeBar=t.volumeBar||{},t.volumeBar.vertical=t.vertical);var n=F(this,i.call(this,e,t));return Ni(n,e),n.throttledHandleMouseMove=it(nt(n,n.handleMouseMove),25),n.on("mousedown",n.handleMouseDown),n.on("touchstart",n.handleMouseDown),n.on(n.volumeBar,["focus","slideractive"],function(){n.volumeBar.addClass("vjs-slider-active"),n.addClass("vjs-slider-active"),n.trigger("slideractive")}),n.on(n.volumeBar,["blur","sliderinactive"],function(){n.volumeBar.removeClass("vjs-slider-active"),n.removeClass("vjs-slider-active"),n.trigger("sliderinactive")}),n}return P(o,i),o.prototype.createEl=function(){var e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),i.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+e})},o.prototype.handleMouseDown=function(e){var t=this.el_.ownerDocument;this.on(t,"mousemove",this.throttledHandleMouseMove),this.on(t,"touchmove",this.throttledHandleMouseMove),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchend",this.handleMouseUp)},o.prototype.handleMouseUp=function(e){var t=this.el_.ownerDocument;this.off(t,"mousemove",this.throttledHandleMouseMove),this.off(t,"touchmove",this.throttledHandleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchend",this.handleMouseUp)},o.prototype.handleMouseMove=function(e){this.volumeBar.handleMouseMove(e)},o}(yt);Di.prototype.options_={children:["volumeBar"]},yt.registerComponent("VolumeControl",Di);var qi=function(i){function o(e,t){N(this,o);var n=F(this,i.call(this,e,t));return Ni(n,e),n.on(e,["loadstart","volumechange"],n.update),n}return P(o,i),o.prototype.buildCSSClass=function(){return"vjs-mute-control "+i.prototype.buildCSSClass.call(this)},o.prototype.handleClick=function(e){var t=this.player_.volume(),n=this.player_.lastVolume_();if(0===t){var i=n<.1?.1:n;this.player_.volume(i),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},o.prototype.update=function(e){this.updateIcon_(),this.updateControlText_()},o.prototype.updateIcon_=function(){var e=this.player_.volume(),t=3;0===e||this.player_.muted()?t=0:e<.33?t=1:e<.67&&(t=2);for(var n=0;n<4;n++)he(this.el_,"vjs-vol-"+n);de(this.el_,"vjs-vol-"+t)},o.prototype.updateControlText_=function(){var e=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==e&&this.controlText(e)},o}(vi);qi.prototype.controlText_="Mute",yt.registerComponent("MuteToggle",qi);var zi=function(i){function o(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};N(this,o),void 0!==t.inline?t.inline=t.inline:t.inline=!0,(void 0===t.volumeControl||J(t.volumeControl))&&(t.volumeControl=t.volumeControl||{},t.volumeControl.vertical=!t.inline);var n=F(this,i.call(this,e,t));return Ni(n,e),n.on(n.volumeControl,["slideractive"],n.sliderActive_),n.on(n.volumeControl,["sliderinactive"],n.sliderInactive_),n}return P(o,i),o.prototype.sliderActive_=function(){this.addClass("vjs-slider-active")},o.prototype.sliderInactive_=function(){this.removeClass("vjs-slider-active")},o.prototype.createEl=function(){var e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),i.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+e})},o}(yt);zi.prototype.options_={children:["muteToggle","volumeControl"]},yt.registerComponent("VolumePanel",zi);var Vi=function(i){function o(e,t){N(this,o);var n=F(this,i.call(this,e,t));return t&&(n.menuButton_=t.menuButton),n.focusedChild_=-1,n.on("keydown",n.handleKeyPress),n}return P(o,i),o.prototype.addItem=function(t){this.addChild(t),t.on("click",nt(this,function(e){this.menuButton_&&(this.menuButton_.unpressButton(),"CaptionSettingsMenuItem"!==t.name()&&this.menuButton_.focus())}))},o.prototype.createEl=function(){var e=this.options_.contentElType||"ul";this.contentEl_=se(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var t=i.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return t.appendChild(this.contentEl_),Ge(t,"click",function(e){e.preventDefault(),e.stopImmediatePropagation()}),t},o.prototype.dispose=function(){this.contentEl_=null,i.prototype.dispose.call(this)},o.prototype.handleKeyPress=function(e){37===e.which||40===e.which?(e.preventDefault(),this.stepForward()):38!==e.which&&39!==e.which||(e.preventDefault(),this.stepBack())},o.prototype.stepForward=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_+1),this.focus(e)},o.prototype.stepBack=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_-1),this.focus(e)},o.prototype.focus=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=this.children().slice();t.length&&t[0].className&&/vjs-menu-title/.test(t[0].className)&&t.shift(),0<t.length&&(e<0?e=0:e>=t.length&&(e=t.length-1),t[this.focusedChild_=e].el_.focus())},o}(yt);yt.registerComponent("Menu",Vi);var Ui=function(o){function r(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};N(this,r);var n=F(this,o.call(this,e,t));n.menuButton_=new vi(e,t),n.menuButton_.controlText(n.controlText_),n.menuButton_.el_.setAttribute("aria-haspopup","true");var i=vi.prototype.buildCSSClass();return n.menuButton_.el_.className=n.buildCSSClass()+" "+i,n.menuButton_.removeClass("vjs-control"),n.addChild(n.menuButton_),n.update(),n.enabled_=!0,n.on(n.menuButton_,"tap",n.handleClick),n.on(n.menuButton_,"click",n.handleClick),n.on(n.menuButton_,"focus",n.handleFocus),n.on(n.menuButton_,"blur",n.handleBlur),n.on("keydown",n.handleSubmenuKeyPress),n}return P(r,o),r.prototype.update=function(){var e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},r.prototype.createMenu=function(){var e=new Vi(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var t=se("li",{className:"vjs-menu-title",innerHTML:vt(this.options_.title),tabIndex:-1});this.hideThreshold_+=1,e.children_.unshift(t),ce(t,e.contentEl())}if(this.items=this.createItems(),this.items)for(var n=0;n<this.items.length;n++)e.addItem(this.items[n]);return e},r.prototype.createItems=function(){},r.prototype.createEl=function(){return o.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},r.prototype.buildWrapperCSSClass=function(){var e="vjs-menu-button";return!0===this.options_.inline?e+="-inline":e+="-popup","vjs-menu-button "+e+" "+vi.prototype.buildCSSClass()+" "+o.prototype.buildCSSClass.call(this)},r.prototype.buildCSSClass=function(){var e="vjs-menu-button";return!0===this.options_.inline?e+="-inline":e+="-popup","vjs-menu-button "+e+" "+o.prototype.buildCSSClass.call(this)},r.prototype.controlText=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.menuButton_.el();return this.menuButton_.controlText(e,t)},r.prototype.handleClick=function(e){this.one(this.menu.contentEl(),"mouseleave",nt(this,function(e){this.unpressButton(),this.el_.blur()})),this.buttonPressed_?this.unpressButton():this.pressButton()},r.prototype.focus=function(){this.menuButton_.focus()},r.prototype.blur=function(){this.menuButton_.blur()},r.prototype.handleFocus=function(){Ge(f,"keydown",nt(this,this.handleKeyPress))},r.prototype.handleBlur=function(){Je(f,"keydown",nt(this,this.handleKeyPress))},r.prototype.handleKeyPress=function(e){27===e.which||9===e.which?(this.buttonPressed_&&this.unpressButton(),9!==e.which&&(e.preventDefault(),this.menuButton_.el_.focus())):38!==e.which&&40!==e.which||this.buttonPressed_||(this.pressButton(),e.preventDefault())},r.prototype.handleSubmenuKeyPress=function(e){27!==e.which&&9!==e.which||(this.buttonPressed_&&this.unpressButton(),9!==e.which&&(e.preventDefault(),this.menuButton_.el_.focus()))},r.prototype.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),_&&re())return;this.menu.focus()}},r.prototype.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},r.prototype.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},r.prototype.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},r}(yt);yt.registerComponent("MenuButton",Ui);var Gi=function(r){function a(e,t){N(this,a);var n=t.tracks,i=F(this,r.call(this,e,t));if(i.items.length<=1&&i.hide(),!n)return F(i);var o=nt(i,i.update);return n.addEventListener("removetrack",o),n.addEventListener("addtrack",o),i.player_.on("ready",o),i.player_.on("dispose",function(){n.removeEventListener("removetrack",o),n.removeEventListener("addtrack",o)}),i}return P(a,r),a}(Ui);yt.registerComponent("TrackButton",Gi);var Ji=function(i){function o(e,t){N(this,o);var n=F(this,i.call(this,e,t));return n.selectable=t.selectable,n.isSelected_=t.selected||!1,n.selected(n.isSelected_),n.selectable?n.el_.setAttribute("role","menuitemcheckbox"):n.el_.setAttribute("role","menuitem"),n}return P(o,i),o.prototype.createEl=function(e,t,n){return this.nonIconControl=!0,i.prototype.createEl.call(this,"li",U({className:"vjs-menu-item",innerHTML:'<span class="vjs-menu-item-text">'+this.localize(this.options_.label)+"</span>",tabIndex:-1},t),n)},o.prototype.handleClick=function(e){this.selected(!0)},o.prototype.selected=function(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},o}(li);yt.registerComponent("MenuItem",Ji);var Xi=function(l){function c(e,t){N(this,c);var n=t.track,i=e.textTracks();t.label=n.label||n.language||"Unknown",t.selected="showing"===n.mode;var o=F(this,l.call(this,e,t));o.track=n;var r=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];o.handleTracksChange.apply(o,t)},a=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];o.handleSelectedLanguageChange.apply(o,t)};if(e.on(["loadstart","texttrackchange"],r),i.addEventListener("change",r),i.addEventListener("selectedlanguagechange",a),o.on("dispose",function(){e.off(["loadstart","texttrackchange"],r),i.removeEventListener("change",r),i.removeEventListener("selectedlanguagechange",a)}),void 0===i.onchange){var s=void 0;o.on(["tap","click"],function(){if("object"!==R(p.Event))try{s=new p.Event("change")}catch(e){}s||(s=f.createEvent("Event")).initEvent("change",!0,!0),i.dispatchEvent(s)})}return o.handleTracksChange(),o}return P(c,l),c.prototype.handleClick=function(e){var t=this.track.kind,n=this.track.kinds,i=this.player_.textTracks();if(n||(n=[t]),l.prototype.handleClick.call(this,e),i)for(var o=0;o<i.length;o++){var r=i[o];r===this.track&&-1<n.indexOf(r.kind)?"showing"!==r.mode&&(r.mode="showing"):"disabled"!==r.mode&&(r.mode="disabled")}},c.prototype.handleTracksChange=function(e){var t="showing"===this.track.mode;t!==this.isSelected_&&this.selected(t)},c.prototype.handleSelectedLanguageChange=function(e){if("showing"===this.track.mode){var t=this.player_.cache_.selectedLanguage;if(t&&t.enabled&&t.language===this.track.language&&t.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},c.prototype.dispose=function(){this.track=null,l.prototype.dispose.call(this)},c}(Ji);yt.registerComponent("TextTrackMenuItem",Xi);var Wi=function(n){function i(e,t){return N(this,i),t.track={player:e,kind:t.kind,kinds:t.kinds,default:!1,mode:"disabled"},t.kinds||(t.kinds=[t.kind]),t.label?t.track.label=t.label:t.track.label=t.kinds.join(" and ")+" off",t.selectable=!0,F(this,n.call(this,e,t))}return P(i,n),i.prototype.handleTracksChange=function(e){for(var t=this.player().textTracks(),n=!0,i=0,o=t.length;i<o;i++){var r=t[i];if(-1<this.options_.kinds.indexOf(r.kind)&&"showing"===r.mode){n=!1;break}}n!==this.isSelected_&&this.selected(n)},i.prototype.handleSelectedLanguageChange=function(e){for(var t=this.player().textTracks(),n=!0,i=0,o=t.length;i<o;i++){var r=t[i];if(-1<["captions","descriptions","subtitles"].indexOf(r.kind)&&"showing"===r.mode){n=!1;break}}n&&(this.player_.cache_.selectedLanguage={enabled:!1})},i}(Xi);yt.registerComponent("OffTextTrackMenuItem",Wi);var Ki=function(n){function i(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return N(this,i),t.tracks=e.textTracks(),F(this,n.call(this,e,t))}return P(i,n),i.prototype.createItems=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Xi,n=void 0;this.label_&&(n=this.label_+" off"),e.push(new Wi(this.player_,{kinds:this.kinds_,kind:this.kind_,label:n})),this.hideThreshold_+=1;var i=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var o=0;o<i.length;o++){var r=i[o];if(-1<this.kinds_.indexOf(r.kind)){var a=new t(this.player_,{track:r,selectable:!0});a.addClass("vjs-"+r.kind+"-menu-item"),e.push(a)}}return e},i}(Gi);yt.registerComponent("TextTrackButton",Ki);var Yi=function(a){function s(e,t){N(this,s);var n=t.track,i=t.cue,o=e.currentTime();t.selectable=!0,t.label=i.text,t.selected=i.startTime<=o&&o<i.endTime;var r=F(this,a.call(this,e,t));return r.track=n,r.cue=i,n.addEventListener("cuechange",nt(r,r.update)),r}return P(s,a),s.prototype.handleClick=function(e){a.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},s.prototype.update=function(e){var t=this.cue,n=this.player_.currentTime();this.selected(t.startTime<=n&&n<t.endTime)},s}(Ji);yt.registerComponent("ChaptersTrackMenuItem",Yi);var $i=function(i){function o(e,t,n){return N(this,o),F(this,i.call(this,e,t,n))}return P(o,i),o.prototype.buildCSSClass=function(){return"vjs-chapters-button "+i.prototype.buildCSSClass.call(this)},o.prototype.buildWrapperCSSClass=function(){return"vjs-chapters-button "+i.prototype.buildWrapperCSSClass.call(this)},o.prototype.update=function(e){this.track_&&(!e||"addtrack"!==e.type&&"removetrack"!==e.type)||this.setTrack(this.findChaptersTrack()),i.prototype.update.call(this)},o.prototype.setTrack=function(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var t=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);t&&t.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";var n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.addEventListener("load",this.updateHandler_)}}},o.prototype.findChaptersTrack=function(){for(var e=this.player_.textTracks()||[],t=e.length-1;0<=t;t--){var n=e[t];if(n.kind===this.kind_)return n}},o.prototype.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(vt(this.kind_))},o.prototype.createMenu=function(){return this.options_.title=this.getMenuCaption(),i.prototype.createMenu.call(this)},o.prototype.createItems=function(){var e=[];if(!this.track_)return e;var t=this.track_.cues;if(!t)return e;for(var n=0,i=t.length;n<i;n++){var o=t[n],r=new Yi(this.player_,{track:this.track_,cue:o});e.push(r)}return e},o}(Ki);$i.prototype.kind_="chapters",$i.prototype.controlText_="Chapters",yt.registerComponent("ChaptersButton",$i);var Qi=function(a){function s(e,t,n){N(this,s);var i=F(this,a.call(this,e,t,n)),o=e.textTracks(),r=nt(i,i.handleTracksChange);return o.addEventListener("change",r),i.on("dispose",function(){o.removeEventListener("change",r)}),i}return P(s,a),s.prototype.handleTracksChange=function(e){for(var t=this.player().textTracks(),n=!1,i=0,o=t.length;i<o;i++){var r=t[i];if(r.kind!==this.kind_&&"showing"===r.mode){n=!0;break}}n?this.disable():this.enable()},s.prototype.buildCSSClass=function(){return"vjs-descriptions-button "+a.prototype.buildCSSClass.call(this)},s.prototype.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+a.prototype.buildWrapperCSSClass.call(this)},s}(Ki);Qi.prototype.kind_="descriptions",Qi.prototype.controlText_="Descriptions",yt.registerComponent("DescriptionsButton",Qi);var Zi=function(i){function o(e,t,n){return N(this,o),F(this,i.call(this,e,t,n))}return P(o,i),o.prototype.buildCSSClass=function(){return"vjs-subtitles-button "+i.prototype.buildCSSClass.call(this)},o.prototype.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+i.prototype.buildWrapperCSSClass.call(this)},o}(Ki);Zi.prototype.kind_="subtitles",Zi.prototype.controlText_="Subtitles",yt.registerComponent("SubtitlesButton",Zi);var eo=function(i){function o(e,t){N(this,o),t.track={player:e,kind:t.kind,label:t.kind+" settings",selectable:!1,default:!1,mode:"disabled"},t.selectable=!1,t.name="CaptionSettingsMenuItem";var n=F(this,i.call(this,e,t));return n.addClass("vjs-texttrack-settings"),n.controlText(", opens "+t.kind+" settings dialog"),n}return P(o,i),o.prototype.handleClick=function(e){this.player().getChild("textTrackSettings").open()},o}(Xi);yt.registerComponent("CaptionSettingsMenuItem",eo);var to=function(i){function o(e,t,n){return N(this,o),F(this,i.call(this,e,t,n))}return P(o,i),o.prototype.buildCSSClass=function(){return"vjs-captions-button "+i.prototype.buildCSSClass.call(this)},o.prototype.buildWrapperCSSClass=function(){return"vjs-captions-button "+i.prototype.buildWrapperCSSClass.call(this)},o.prototype.createItems=function(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new eo(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),i.prototype.createItems.call(this,e)},o}(Ki);to.prototype.kind_="captions",to.prototype.controlText_="Captions",yt.registerComponent("CaptionsButton",to);var no=function(o){function e(){return N(this,e),F(this,o.apply(this,arguments))}return P(e,o),e.prototype.createEl=function(e,t,n){var i='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"captions"===this.options_.track.kind&&(i+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Captions")+"</span>\n      "),i+="</span>",o.prototype.createEl.call(this,e,U({innerHTML:i},t),n)},e}(Xi);yt.registerComponent("SubsCapsMenuItem",no);var io=function(i){function o(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};N(this,o);var n=F(this,i.call(this,e,t));return n.label_="subtitles",-1<["en","en-us","en-ca","fr-ca"].indexOf(n.player_.language_)&&(n.label_="captions"),n.menuButton_.controlText(vt(n.label_)),n}return P(o,i),o.prototype.buildCSSClass=function(){return"vjs-subs-caps-button "+i.prototype.buildCSSClass.call(this)},o.prototype.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+i.prototype.buildWrapperCSSClass.call(this)},o.prototype.createItems=function(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new eo(this.player_,{kind:this.label_})),this.hideThreshold_+=1),i.prototype.createItems.call(this,e,no)},o}(Ki);io.prototype.kinds_=["captions","subtitles"],io.prototype.controlText_="Subtitles",yt.registerComponent("SubsCapsButton",io);var oo=function(a){function s(e,t){N(this,s);var n=t.track,i=e.audioTracks();t.label=n.label||n.language||"Unknown",t.selected=n.enabled;var o=F(this,a.call(this,e,t));o.track=n;var r=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];o.handleTracksChange.apply(o,t)};return i.addEventListener("change",r),o.on("dispose",function(){i.removeEventListener("change",r)}),o}return P(s,a),s.prototype.handleClick=function(e){var t=this.player_.audioTracks();a.prototype.handleClick.call(this,e);for(var n=0;n<t.length;n++){var i=t[n];i.enabled=i===this.track}},s.prototype.handleTracksChange=function(e){this.selected(this.track.enabled)},s}(Ji);yt.registerComponent("AudioTrackMenuItem",oo);var ro=function(n){function i(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return N(this,i),t.tracks=e.audioTracks(),F(this,n.call(this,e,t))}return P(i,n),i.prototype.buildCSSClass=function(){return"vjs-audio-button "+n.prototype.buildCSSClass.call(this)},i.prototype.buildWrapperCSSClass=function(){return"vjs-audio-button "+n.prototype.buildWrapperCSSClass.call(this)},i.prototype.createItems=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];this.hideThreshold_=1;for(var t=this.player_.audioTracks(),n=0;n<t.length;n++){var i=t[n];e.push(new oo(this.player_,{track:i,selectable:!0}))}return e},i}(Gi);ro.prototype.controlText_="Audio Track",yt.registerComponent("AudioTrackButton",ro);var ao=function(r){function a(e,t){N(this,a);var n=t.rate,i=parseFloat(n,10);t.label=n,t.selected=1===i,t.selectable=!0;var o=F(this,r.call(this,e,t));return o.label=n,o.rate=i,o.on(e,"ratechange",o.update),o}return P(a,r),a.prototype.handleClick=function(e){r.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},a.prototype.update=function(e){this.selected(this.player().playbackRate()===this.rate)},a}(Ji);ao.prototype.contentElType="button",yt.registerComponent("PlaybackRateMenuItem",ao);var so=function(i){function o(e,t){N(this,o);var n=F(this,i.call(this,e,t));return n.updateVisibility(),n.updateLabel(),n.on(e,"loadstart",n.updateVisibility),n.on(e,"ratechange",n.updateLabel),n}return P(o,i),o.prototype.createEl=function(){var e=i.prototype.createEl.call(this);return this.labelEl_=se("div",{className:"vjs-playback-rate-value",innerHTML:"1x"}),e.appendChild(this.labelEl_),e},o.prototype.dispose=function(){this.labelEl_=null,i.prototype.dispose.call(this)},o.prototype.buildCSSClass=function(){return"vjs-playback-rate "+i.prototype.buildCSSClass.call(this)},o.prototype.buildWrapperCSSClass=function(){return"vjs-playback-rate "+i.prototype.buildWrapperCSSClass.call(this)},o.prototype.createMenu=function(){var e=new Vi(this.player()),t=this.playbackRates();if(t)for(var n=t.length-1;0<=n;n--)e.addChild(new ao(this.player(),{rate:t[n]+"x"}));return e},o.prototype.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},o.prototype.handleClick=function(e){for(var t=this.player().playbackRate(),n=this.playbackRates(),i=n[0],o=0;o<n.length;o++)if(n[o]>t){i=n[o];break}this.player().playbackRate(i)},o.prototype.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},o.prototype.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&0<this.playbackRates().length},o.prototype.updateVisibility=function(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},o.prototype.updateLabel=function(e){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},o}(Ui);so.prototype.controlText_="Playback Rate",yt.registerComponent("PlaybackRateMenuButton",so);var lo=function(e){function t(){return N(this,t),F(this,e.apply(this,arguments))}return P(t,e),t.prototype.buildCSSClass=function(){return"vjs-spacer "+e.prototype.buildCSSClass.call(this)},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},t}(yt);yt.registerComponent("Spacer",lo);var co=function(t){function e(){return N(this,e),F(this,t.apply(this,arguments))}return P(e,t),e.prototype.buildCSSClass=function(){return"vjs-custom-control-spacer "+t.prototype.buildCSSClass.call(this)},e.prototype.createEl=function(){var e=t.prototype.createEl.call(this,{className:this.buildCSSClass()});return e.innerHTML=" ",e},e}(lo);yt.registerComponent("CustomControlSpacer",co);var uo=function(e){function t(){return N(this,t),F(this,e.apply(this,arguments))}return P(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"},{role:"group"})},t}(yt);uo.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},yt.registerComponent("ControlBar",uo);var ho=function(i){function o(e,t){N(this,o);var n=F(this,i.call(this,e,t));return n.on(e,"error",n.open),n}return P(o,i),o.prototype.buildCSSClass=function(){return"vjs-error-display "+i.prototype.buildCSSClass.call(this)},o.prototype.content=function(){var e=this.player().error();return e?this.localize(e.message):""},o}(Ht);ho.prototype.options_=gt(Ht.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),yt.registerComponent("ErrorDisplay",ho);var po="vjs-text-track-settings",fo=["#000","Black"],mo=["#00F","Blue"],vo=["#0FF","Cyan"],go=["#0F0","Green"],yo=["#F0F","Magenta"],_o=["#F00","Red"],bo=["#FFF","White"],wo=["#FF0","Yellow"],ko=["1","Opaque"],To=["0.5","Semi-Transparent"],Eo=["0","Transparent"],Co={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[fo,bo,_o,go,mo,wo,yo,vo]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[ko,To,Eo]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[bo,fo,_o,go,mo,wo,yo,vo]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(e){return"1.00"===e?null:Number(e)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[ko,To]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[Eo,To,ko]}};function xo(e,t){if(t&&(e=t(e)),e&&"none"!==e)return e}Co.windowColor.options=Co.backgroundColor.options;var So=function(i){function o(e,t){N(this,o),t.temporary=!1;var n=F(this,i.call(this,e,t));return n.updateDisplay=nt(n,n.updateDisplay),n.fill(),n.hasBeenOpened_=n.hasBeenFilled_=!0,n.endDialog=se("p",{className:"vjs-control-text",textContent:n.localize("End of dialog window.")}),n.el().appendChild(n.endDialog),n.setDefaults(),void 0===t.persistTextTrackSettings&&(n.options_.persistTextTrackSettings=n.options_.playerOptions.persistTextTrackSettings),n.on(n.$(".vjs-done-button"),"click",function(){n.saveSettings(),n.close()}),n.on(n.$(".vjs-default-button"),"click",function(){n.setDefaults(),n.updateDisplay()}),V(Co,function(e){n.on(n.$(e.selector),"change",n.updateDisplay)}),n.options_.persistTextTrackSettings&&n.restoreSettings(),n}return P(o,i),o.prototype.dispose=function(){this.endDialog=null,i.prototype.dispose.call(this)},o.prototype.createElSelect_=function(e){var n=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"label",o=Co[e],r=o.id.replace("%s",this.id_);return["<"+t+' id="'+r+'" class="'+("label"===t?"vjs-label":"")+'">',this.localize(o.label),"</"+t+">",'<select aria-labelledby="'+(""!==i?i+" ":"")+r+'">'].concat(o.options.map(function(e){var t=r+"-"+e[1];return['<option id="'+t+'" value="'+e[0]+'" ','aria-labelledby="'+(""!==i?i+" ":"")+r+" "+t+'">',n.localize(e[1]),"</option>"].join("")})).concat("</select>").join("")},o.prototype.createElFgColor_=function(){var e="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",e),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",e),"</span>","</fieldset>"].join("")},o.prototype.createElBgColor_=function(){var e="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",e),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",e),"</span>","</fieldset>"].join("")},o.prototype.createElWinColor_=function(){var e="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",e),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",e),"</span>","</fieldset>"].join("")},o.prototype.createElColors_=function(){return se("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},o.prototype.createElFont_=function(){return se("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},o.prototype.createElControls_=function(){var e=this.localize("restore all settings to the default values");return se("div",{className:"vjs-track-settings-controls",innerHTML:['<button class="vjs-default-button" title="'+e+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+e+"</span>","</button>",'<button class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},o.prototype.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},o.prototype.label=function(){return this.localize("Caption Settings Dialog")},o.prototype.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},o.prototype.buildCSSClass=function(){return i.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},o.prototype.getValues=function(){var a=this;return function(n,i){var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;return z(n).reduce(function(e,t){return i(e,n[t],t)},e)}(Co,function(e,t,n){var i,o,r=(i=a.$(t.selector),o=t.parser,xo(i.options[i.options.selectedIndex].value,o));return void 0!==r&&(e[n]=r),e},{})},o.prototype.setValues=function(n){var i=this;V(Co,function(e,t){!function(e,t,n){if(t)for(var i=0;i<e.options.length;i++)if(xo(e.options[i].value,n)===t){e.selectedIndex=i;break}}(i.$(e.selector),n[t],e.parser)})},o.prototype.setDefaults=function(){var n=this;V(Co,function(e){var t=e.hasOwnProperty("default")?e.default:0;n.$(e.selector).selectedIndex=t})},o.prototype.restoreSettings=function(){var e=void 0;try{e=JSON.parse(p.localStorage.getItem(po))}catch(e){$.warn(e)}e&&this.setValues(e)},o.prototype.saveSettings=function(){if(this.options_.persistTextTrackSettings){var e=this.getValues();try{Object.keys(e).length?p.localStorage.setItem(po,JSON.stringify(e)):p.localStorage.removeItem(po)}catch(e){$.warn(e)}}},o.prototype.updateDisplay=function(){var e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()},o.prototype.conditionalBlur_=function(){this.previouslyActiveEl_=null,this.off(f,"keydown",this.handleKeyDown);var e=this.player_.controlBar,t=e&&e.subsCapsButton,n=e&&e.captionsButton;t?t.focus():n&&n.focus()},o}(Ht);yt.registerComponent("TextTrackSettings",So);var Io=function(r){function a(e,t){N(this,a);var n=t.ResizeObserver||p.ResizeObserver;null===t.ResizeObserver&&(n=!1);var i=gt({createEl:!n},t),o=F(this,r.call(this,e,i));return o.ResizeObserver=t.ResizeObserver||p.ResizeObserver,o.loadListener_=null,o.resizeObserver_=null,o.debouncedHandler_=function(i,o,r){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:p,s=void 0;return function(){var e=this,t=arguments,n=function(){n=s=null,r||i.apply(e,t)};!s&&r&&i.apply(e,t),a.clearTimeout(s),s=a.setTimeout(n,o)}}(function(){o.resizeHandler()},100,!1,e),n?(o.resizeObserver_=new o.ResizeObserver(o.debouncedHandler_),o.resizeObserver_.observe(e.el())):(o.loadListener_=function(){o.el_.contentWindow&&Ge(o.el_.contentWindow,"resize",o.debouncedHandler_),o.off("load",o.loadListener_)},o.on("load",o.loadListener_)),o}return P(a,r),a.prototype.createEl=function(){return r.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager"})},a.prototype.resizeHandler=function(){this.player_.trigger("playerresize")},a.prototype.dispose=function(){this.resizeObserver_&&(this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.el_&&this.el_.contentWindow&&Je(this.el_.contentWindow,"resize",this.debouncedHandler_),this.loadListener_&&this.off("load",this.loadListener_),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null},a}(yt);yt.registerComponent("ResizeManager",Io);var Mo=function(e){var t=e.el();if(t.src)return e.triggerSourceset(t.src),!0;var n=e.$$("source"),i=[],o="";if(!n.length)return!1;for(var r=0;r<n.length;r++){var a=n[r].src;a&&-1===i.indexOf(a)&&i.push(a)}return i.length?(1===i.length&&(o=i[0]),e.triggerSourceset(o),!0):void 0},Lo=function(n){var i=n.el();if(!i.firstSourceWatch_){i.firstSourceWatch_=!0;var o,e,t,r=i.append,a=i.appendChild,s=i.insertAdjacentHTML,l=(o=i,e=p.Element.prototype,t={},Object.getOwnPropertyDescriptor(o,"innerHTML")?t=Object.getOwnPropertyDescriptor(o,"innerHTML"):Object.getOwnPropertyDescriptor(e,"innerHTML")&&(t=Object.getOwnPropertyDescriptor(e,"innerHTML")),t.get||(t.get=function(){return o.cloneNode().innerHTML}),t.set||(t.set=function(e){o.innerText="";var t=f.createElement(o.nodeName.toLowerCase());t.innerHTML=e;for(var n=f.createDocumentFragment();t.childNodes.length;)n.appendChild(t.childNodes[0]);return p.Element.prototype.appendChild.call(o,n),o.innerHTML}),void 0===t.enumerable&&(t.enumerable=!0),t.configurable=!0,t);i.appendChild=function(){var e=a.apply(i,arguments);return Mo(n),e},r&&(i.append=function(){var e=r.apply(i,arguments);return Mo(n),e}),s&&(i.insertAdjacentHTML=function(){var e=s.apply(i,arguments);return Mo(n),e}),Object.defineProperty(i,"innerHTML",{get:l.get.bind(i),set:function(e){var t=l.set.call(i,e);return Mo(n),t},configurable:!0,enumerable:l.enumerable}),n.one("sourceset",function(e){i.firstSourceWatch_=!1,i.appendChild=a,r&&(i.append=r),s&&(i.insertAdjacentHTML=s),Object.defineProperty(i,"innerHTML",l)})}},Ao=D(["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."],["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."]),Bo=function(u){function d(e,t){N(this,d);var n=F(this,u.call(this,e,t));e.enableSourceset&&n.setupSourcesetHandling_();var i=e.source,o=!1;if(i&&(n.el_.currentSrc!==i.src||e.tag&&3===e.tag.initNetworkState_)?n.setSource(i):n.handleLateInit_(n.el_),n.el_.hasChildNodes()){for(var r=n.el_.childNodes,a=r.length,s=[];a--;){var l=r[a];"track"===l.nodeName.toLowerCase()&&(n.featuresNativeTextTracks?(n.remoteTextTrackEls().addTrackElement_(l),n.remoteTextTracks().addTrack(l.track),n.textTracks().addTrack(l.track),o||n.el_.hasAttribute("crossorigin")||!Qt(l.src)||(o=!0)):s.push(l))}for(var c=0;c<s.length;c++)n.el_.removeChild(s[c])}return n.proxyNativeTracks_(),n.featuresNativeTextTracks&&o&&$.warn(Q(Ao)),n.restoreMetadataTracksInIOSNativePlayer_(),(O||g||E)&&!0===e.nativeControlsForTouch&&n.setControls(!0),n.proxyWebkitFullscreen_(),n.triggerReady(),n}return P(d,u),d.prototype.dispose=function(){d.disposeMediaElement(this.el_),this.options_=null,u.prototype.dispose.call(this)},d.prototype.setupSourcesetHandling_=function(){!function(i){if(i.featuresSourceset){var o=i.el();if(!o.setupSourceset_){o.setupSourceset_=!0;var t,n,e,r=(t=o,n=p.HTMLMediaElement.prototype,e={},Object.getOwnPropertyDescriptor(t,"src")?e=Object.getOwnPropertyDescriptor(t,"src"):Object.getOwnPropertyDescriptor(n,"src")&&(e=gt(e,Object.getOwnPropertyDescriptor(n,"src"))),e.get||(e.get=function(){return n.getAttribute.call(t,"src")}),e.set||(e.set=function(e){return n.setAttribute.call(t,"src",e)}),void 0===e.enumerable&&(e.enumerable=!0),e.configurable=!0,e),a=o.setAttribute,s=o.load;(o.src||o.currentSrc&&3!==o.initNetworkState_)&&(o.currentSrc?i.triggerSourceset(o.currentSrc):Mo(i)),o.src||o.currentSrc||i.$$("source").length||Lo(i),Object.defineProperty(o,"src",{get:r.get.bind(o),set:function(e){var t=r.set.call(o,e);return i.triggerSourceset(o.src),t},configurable:!0,enumerable:r.enumerable}),o.setAttribute=function(e,t){var n=a.call(o,e,t);return"src"===e&&i.triggerSourceset(o.getAttribute("src")),n},o.load=function(){var e=s.call(o);return Mo(i)||Lo(i),e}}}}(this)},d.prototype.restoreMetadataTracksInIOSNativePlayer_=function(){var i=this.textTracks(),o=void 0,e=function(){o=[];for(var e=0;e<i.length;e++){var t=i[e];"metadata"===t.kind&&o.push({track:t,storedMode:t.mode})}};e(),i.addEventListener("change",e),this.on("dispose",function(){return i.removeEventListener("change",e)});var t=function e(){for(var t=0;t<o.length;t++){var n=o[t];"disabled"===n.track.mode&&n.track.mode!==n.storedMode&&(n.track.mode=n.storedMode)}i.removeEventListener("change",e)};this.on("webkitbeginfullscreen",function(){i.removeEventListener("change",e),i.removeEventListener("change",t),i.addEventListener("change",t)}),this.on("webkitendfullscreen",function(){i.removeEventListener("change",e),i.addEventListener("change",e),i.removeEventListener("change",t)})},d.prototype.proxyNativeTracks_=function(){var a=this;yn.names.forEach(function(e){var t=yn[e],o=a.el()[t.getterName],r=a[t.getterName]();if(a["featuresNative"+t.capitalName+"Tracks"]&&o&&o.addEventListener){var i={change:function(e){r.trigger({type:"change",target:r,currentTarget:r,srcElement:r})},addtrack:function(e){r.addTrack(e.track)},removetrack:function(e){r.removeTrack(e.track)}},n=function(){for(var e=[],t=0;t<r.length;t++){for(var n=!1,i=0;i<o.length;i++)if(o[i]===r[t]){n=!0;break}n||e.push(r[t])}for(;e.length;)r.removeTrack(e.shift())};Object.keys(i).forEach(function(t){var n=i[t];o.addEventListener(t,n),a.on("dispose",function(e){return o.removeEventListener(t,n)})}),a.on("loadstart",n),a.on("dispose",function(e){return a.off("loadstart",n)})}})},d.prototype.createEl=function(){var e=this.options_.tag;if(!e||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(e){var t=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(t,e),d.disposeMediaElement(e),e=t}else{e=f.createElement("video");var n=gt({},this.options_.tag&&me(this.options_.tag));O&&!0===this.options_.nativeControlsForTouch||delete n.controls,fe(e,U(n,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}void 0!==this.options_.preload&&ge(e,"preload",this.options_.preload);for(var i=["loop","muted","playsinline","autoplay"],o=0;o<i.length;o++){var r=i[o],a=this.options_[r];void 0!==a&&(a?ge(e,r,r):ye(e,r),e[r]=a)}return e},d.prototype.handleLateInit_=function(e){if(0!==e.networkState&&3!==e.networkState){if(0===e.readyState){var t=!1,n=function(){t=!0};this.on("loadstart",n);var i=function(){t||this.trigger("loadstart")};return this.on("loadedmetadata",i),void this.ready(function(){this.off("loadstart",n),this.off("loadedmetadata",i),t||this.trigger("loadstart")})}var o=["loadstart"];o.push("loadedmetadata"),2<=e.readyState&&o.push("loadeddata"),3<=e.readyState&&o.push("canplay"),4<=e.readyState&&o.push("canplaythrough"),this.ready(function(){o.forEach(function(e){this.trigger(e)},this)})}},d.prototype.setCurrentTime=function(e){try{this.el_.currentTime=e}catch(e){$(e,"Video is not ready. (Video.js)")}},d.prototype.duration=function(){var t=this;return this.el_.duration===1/0&&w&&S&&0===this.el_.currentTime?(this.on("timeupdate",function e(){0<t.el_.currentTime&&(t.el_.duration===1/0&&t.trigger("durationchange"),t.off("timeupdate",e))}),NaN):this.el_.duration||NaN},d.prototype.width=function(){return this.el_.offsetWidth},d.prototype.height=function(){return this.el_.offsetHeight},d.prototype.proxyWebkitFullscreen_=function(){var e=this;if("webkitDisplayingFullscreen"in this.el_){var t=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},n=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",t),this.trigger("fullscreenchange",{isFullscreen:!0}))};this.on("webkitbeginfullscreen",n),this.on("dispose",function(){e.off("webkitbeginfullscreen",n),e.off("webkitendfullscreen",t)})}},d.prototype.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var e=p.navigator&&p.navigator.userAgent||"";if(/Android/.test(e)||!/Chrome|Mac OS X 10.5/.test(e))return!0}return!1},d.prototype.enterFullScreen=function(){var e=this.el_;e.paused&&e.networkState<=e.HAVE_METADATA?(this.el_.play(),this.setTimeout(function(){e.pause(),e.webkitEnterFullScreen()},0)):e.webkitEnterFullScreen()},d.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()},d.prototype.src=function(e){if(void 0===e)return this.el_.src;this.setSrc(e)},d.prototype.reset=function(){d.resetMediaElement(this.el_)},d.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},d.prototype.setControls=function(e){this.el_.controls=!!e},d.prototype.addTextTrack=function(e,t,n){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,t,n):u.prototype.addTextTrack.call(this,e,t,n)},d.prototype.createRemoteTextTrack=function(e){if(!this.featuresNativeTextTracks)return u.prototype.createRemoteTextTrack.call(this,e);var t=f.createElement("track");return e.kind&&(t.kind=e.kind),e.label&&(t.label=e.label),(e.language||e.srclang)&&(t.srclang=e.language||e.srclang),e.default&&(t.default=e.default),e.id&&(t.id=e.id),e.src&&(t.src=e.src),t},d.prototype.addRemoteTextTrack=function(e,t){var n=u.prototype.addRemoteTextTrack.call(this,e,t);return this.featuresNativeTextTracks&&this.el().appendChild(n),n},d.prototype.removeRemoteTextTrack=function(e){if(u.prototype.removeRemoteTextTrack.call(this,e),this.featuresNativeTextTracks)for(var t=this.$$("track"),n=t.length;n--;)e!==t[n]&&e!==t[n].track||this.el().removeChild(t[n])},d.prototype.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var e={};return void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),p.performance&&"function"==typeof p.performance.now?e.creationTime=p.performance.now():p.performance&&p.performance.timing&&"number"==typeof p.performance.timing.navigationStart&&(e.creationTime=p.Date.now()-p.performance.timing.navigationStart),e},d}(Yn);if(ie()){Bo.TEST_VID=f.createElement("video");var Oo=f.createElement("track");Oo.kind="captions",Oo.srclang="en",Oo.label="English",Bo.TEST_VID.appendChild(Oo)}Bo.isSupported=function(){try{Bo.TEST_VID.volume=.5}catch(e){return!1}return!(!Bo.TEST_VID||!Bo.TEST_VID.canPlayType)},Bo.canPlayType=function(e){return Bo.TEST_VID.canPlayType(e)},Bo.canPlaySource=function(e,t){return Bo.canPlayType(e.type)},Bo.canControlVolume=function(){try{var e=Bo.TEST_VID.volume;return Bo.TEST_VID.volume=e/2+.1,e!==Bo.TEST_VID.volume}catch(e){return!1}},Bo.canControlPlaybackRate=function(){if(w&&S&&I<58)return!1;try{var e=Bo.TEST_VID.playbackRate;return Bo.TEST_VID.playbackRate=e/2+.1,e!==Bo.TEST_VID.playbackRate}catch(e){return!1}},Bo.canOverrideAttributes=function(){if(M)return!1;try{var e=function(){};Object.defineProperty(f.createElement("video"),"src",{get:e,set:e}),Object.defineProperty(f.createElement("audio"),"src",{get:e,set:e}),Object.defineProperty(f.createElement("video"),"innerHTML",{get:e,set:e}),Object.defineProperty(f.createElement("audio"),"innerHTML",{get:e,set:e})}catch(e){return!1}return!0},Bo.supportsNativeTextTracks=function(){return B},Bo.supportsNativeVideoTracks=function(){return!(!Bo.TEST_VID||!Bo.TEST_VID.videoTracks)},Bo.supportsNativeAudioTracks=function(){return!(!Bo.TEST_VID||!Bo.TEST_VID.audioTracks)},Bo.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],Bo.prototype.featuresVolumeControl=Bo.canControlVolume(),Bo.prototype.featuresPlaybackRate=Bo.canControlPlaybackRate(),Bo.prototype.featuresSourceset=Bo.canOverrideAttributes(),Bo.prototype.movingMediaElementInDOM=!_,Bo.prototype.featuresFullscreenResize=!0,Bo.prototype.featuresProgressEvents=!0,Bo.prototype.featuresTimeupdateEvents=!0,Bo.prototype.featuresNativeTextTracks=Bo.supportsNativeTextTracks(),Bo.prototype.featuresNativeVideoTracks=Bo.supportsNativeVideoTracks(),Bo.prototype.featuresNativeAudioTracks=Bo.supportsNativeAudioTracks();var jo=Bo.TEST_VID&&Bo.TEST_VID.constructor.prototype.canPlayType,Ho=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,Ro=/^video\/mp4/i;Bo.patchCanPlayType=function(){4<=k&&!C&&!S?Bo.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&Ho.test(e)?"maybe":jo.call(this,e)}:T&&(Bo.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&Ro.test(e)?"maybe":jo.call(this,e)})},Bo.unpatchCanPlayType=function(){var e=Bo.TEST_VID.constructor.prototype.canPlayType;return Bo.TEST_VID.constructor.prototype.canPlayType=jo,e},Bo.patchCanPlayType(),Bo.disposeMediaElement=function(e){if(e){for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(e){}}()}},Bo.resetMediaElement=function(e){if(e){for(var t=e.querySelectorAll("source"),n=t.length;n--;)e.removeChild(t[n]);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(e){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(e){Bo.prototype[e]=function(){return this.el_[e]||this.el_.hasAttribute(e)}}),["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(t){Bo.prototype["set"+vt(t)]=function(e){(this.el_[t]=e)?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}}),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach(function(e){Bo.prototype[e]=function(){return this.el_[e]}}),["volume","src","poster","preload","playbackRate","defaultPlaybackRate"].forEach(function(t){Bo.prototype["set"+vt(t)]=function(e){this.el_[t]=e}}),["pause","load","play"].forEach(function(e){Bo.prototype[e]=function(){return this.el_[e]()}}),Yn.withSourceHandlers(Bo),Bo.nativeSourceHandler={},Bo.nativeSourceHandler.canPlayType=function(e){try{return Bo.TEST_VID.canPlayType(e)}catch(e){return""}},Bo.nativeSourceHandler.canHandleSource=function(e,t){if(e.type)return Bo.nativeSourceHandler.canPlayType(e.type);if(e.src){var n=$t(e.src);return Bo.nativeSourceHandler.canPlayType("video/"+n)}return""},Bo.nativeSourceHandler.handleSource=function(e,t,n){t.setSrc(e.src)},Bo.nativeSourceHandler.dispose=function(){},Bo.registerSourceHandler(Bo.nativeSourceHandler),Yn.registerTech("Html5",Bo);var No=D(["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "],["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "]),Po=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],Fo={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},Do=function(u){function d(e,t,n){if(N(this,d),e.id=e.id||t.id||"vjs_video_"+je(),(t=U(d.getTagSettings(e),t)).initChildren=!1,t.createEl=!1,t.evented=!1,t.reportTouchActivity=!1,!t.language)if("function"==typeof e.closest){var i=e.closest("[lang]");i&&i.getAttribute&&(t.language=i.getAttribute("lang"))}else for(var o=e;o&&1===o.nodeType;){if(me(o).hasOwnProperty("lang")){t.language=o.getAttribute("lang");break}o=o.parentNode}var r=F(this,u.call(this,null,t,n));if(r.isPosterFromTech_=!1,r.queuedCallbacks_=[],r.isReady_=!1,r.hasStarted_=!1,r.userActive_=!1,!r.options_||!r.options_.techOrder||!r.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(r.tag=e,r.tagAttributes=e&&me(e),r.language(r.options_.language),t.languages){var a={};Object.getOwnPropertyNames(t.languages).forEach(function(e){a[e.toLowerCase()]=t.languages[e]}),r.languages_=a}else r.languages_=d.prototype.options_.languages;r.cache_={},r.poster_=t.poster||"",r.controls_=!!t.controls,r.cache_.lastVolume=1,e.controls=!1,e.removeAttribute("controls"),r.scrubbing_=!1,r.el_=r.createEl(),r.cache_.lastPlaybackRate=r.defaultPlaybackRate(),pt(r,{eventBusKey:"el_"});var s=gt(r.options_);if(t.plugins){var l=t.plugins;Object.keys(l).forEach(function(e){if("function"!=typeof this[e])throw new Error('plugin "'+e+'" does not exist');this[e](l[e])},r)}r.options_.playerOptions=s,r.middleware_=[],r.initChildren(),r.isAudio("audio"===e.nodeName.toLowerCase()),r.controls()?r.addClass("vjs-controls-enabled"):r.addClass("vjs-controls-disabled"),r.el_.setAttribute("role","region"),r.isAudio()?r.el_.setAttribute("aria-label",r.localize("Audio Player")):r.el_.setAttribute("aria-label",r.localize("Video Player")),r.isAudio()&&r.addClass("vjs-audio"),r.flexNotSupported_()&&r.addClass("vjs-no-flex"),_||r.addClass("vjs-workinghover"),d.players[r.id_]=r;var c="6.9.0".split(".")[0];return r.addClass("vjs-v"+c),r.userActive(!0),r.reportUserActivity(),r.one("play",r.listenForUserActivity_),r.on("fullscreenchange",r.handleFullscreenChange_),r.on("stageclick",r.handleStageClick_),r.changingSrc_=!1,r.playWaitingForReady_=!1,r.playOnLoadstart_=null,r}return P(d,u),d.prototype.dispose=function(){this.trigger("dispose"),this.off("dispose"),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),d.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),Qn[this.id()]=null,u.prototype.dispose.call(this)},d.prototype.createEl=function(){var t=this.tag,n=void 0,e=this.playerElIngest_=t.parentNode&&t.parentNode.hasAttribute&&t.parentNode.hasAttribute("data-vjs-player"),i="video-js"===this.tag.tagName.toLowerCase();e?n=this.el_=t.parentNode:i||(n=this.el_=u.prototype.createEl.call(this,"div"));var o=me(t);if(i){for(n=this.el_=t,t=this.tag=f.createElement("video");n.children.length;)t.appendChild(n.firstChild);ue(n,"video-js")||de(n,"video-js"),n.appendChild(t),e=this.playerElIngest_=n}if(t.setAttribute("tabindex","-1"),t.removeAttribute("width"),t.removeAttribute("height"),Object.getOwnPropertyNames(o).forEach(function(e){"class"===e?(n.className+=" "+o[e],i&&(t.className+=" "+o[e])):(n.setAttribute(e,o[e]),i&&t.setAttribute(e,o[e]))}),t.playerId=t.id,t.id+="_html5_api",t.className="vjs-tech",t.player=n.player=this,this.addClass("vjs-paused"),!0!==p.VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=et("vjs-styles-dimensions");var r=Le(".vjs-styles-defaults"),a=Le("head");a.insertBefore(this.styleEl_,r?r.nextSibling:a.firstChild)}this.width(this.options_.width),this.height(this.options_.height),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio);for(var s=t.getElementsByTagName("a"),l=0;l<s.length;l++){var c=s.item(l);de(c,"vjs-hidden"),c.setAttribute("hidden","hidden")}return t.initNetworkState_=t.networkState,t.parentNode&&!e&&t.parentNode.insertBefore(n,t),ce(t,n),this.children_.unshift(t),this.el_.setAttribute("lang",this.language_),this.el_=n},d.prototype.width=function(e){return this.dimension("width",e)},d.prototype.height=function(e){return this.dimension("height",e)},d.prototype.dimension=function(e,t){var n=e+"_";if(void 0===t)return this[n]||0;if(""===t)return this[n]=void 0,void this.updateStyleEl_();var i=parseFloat(t);isNaN(i)?$.error('Improper value "'+t+'" supplied for for '+e):(this[n]=i,this.updateStyleEl_())},d.prototype.fluid=function(e){if(void 0===e)return!!this.fluid_;this.fluid_=!!e,e?this.addClass("vjs-fluid"):this.removeClass("vjs-fluid"),this.updateStyleEl_()},d.prototype.aspectRatio=function(e){if(void 0===e)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()},d.prototype.updateStyleEl_=function(){if(!0!==p.VIDEOJS_NO_DYNAMIC_STYLE){var e,t,n,i=(void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:0<this.videoWidth()?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"),o=i[1]/i[0];e=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/o:this.videoWidth()||300,t=void 0!==this.height_?this.height_:e*o,n=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(n),tt(this.styleEl_,"\n      ."+n+" {\n        width: "+e+"px;\n        height: "+t+"px;\n      }\n\n      ."+n+".vjs-fluid {\n        padding-top: "+100*o+"%;\n      }\n    ")}else{var r="number"==typeof this.width_?this.width_:this.options_.width,a="number"==typeof this.height_?this.height_:this.options_.height,s=this.tech_&&this.tech_.el();s&&(0<=r&&(s.width=r),0<=a&&(s.height=a))}},d.prototype.loadTech_=function(e,t){var n=this;this.tech_&&this.unloadTech_();var i=vt(e),o=e.charAt(0).toLowerCase()+e.slice(1);"Html5"!==i&&this.tag&&(Yn.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=i,this.isReady_=!1;var r={source:t,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+i+"_api",autoplay:this.options_.autoplay,playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset};bn.names.forEach(function(e){var t=bn[e];r[t.getterName]=n[t.privateName]}),U(r,this.options_[i]),U(r,this.options_[o]),U(r,this.options_[e.toLowerCase()]),this.tag&&(r.tag=this.tag),t&&t.src===this.cache_.src&&0<this.cache_.currentTime&&(r.startTime=this.cache_.currentTime);var a,s,l=Yn.getTech(e);if(!l)throw new Error("No Tech named '"+i+"' exists! '"+i+"' should be registered using videojs.registerTech()'");this.tech_=new l(r),this.tech_.ready(nt(this,this.handleTechReady_),!0),a=this.textTracksJson_||[],s=this.tech_,a.forEach(function(e){var t=s.addRemoteTextTrack(e).track;!e.src&&e.cues&&e.cues.forEach(function(e){return t.addCue(e)})}),s.textTracks(),Po.forEach(function(e){n.on(n.tech_,e,n["handleTech"+vt(e)+"_"])}),Object.keys(Fo).forEach(function(t){n.on(n.tech_,t,function(e){0===n.tech_.playbackRate()&&n.tech_.seeking()?n.queuedCallbacks_.push({callback:n["handleTech"+Fo[t]+"_"].bind(n),event:e}):n["handleTech"+Fo[t]+"_"](e)})}),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"sourceset",this.handleTechSourceset_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.on(this.tech_,"ratechange",this.handleTechRateChange_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===i&&this.tag||ce(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},d.prototype.unloadTech_=function(){var e,t,n,i=this;bn.names.forEach(function(e){var t=bn[e];i[t.privateName]=i[t.getterName]()}),this.textTracksJson_=(e=this.tech_,t=e.$$("track"),n=Array.prototype.map.call(t,function(e){return e.track}),Array.prototype.map.call(t,function(e){var t=Ot(e.track);return e.src&&(t.src=e.src),t}).concat(Array.prototype.filter.call(e.textTracks(),function(e){return-1===n.indexOf(e)}).map(Ot))),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},d.prototype.tech=function(e){return void 0===e&&$.warn(Q(No)),this.tech_},d.prototype.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mousedown",this.handleTechClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},d.prototype.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mousedown",this.handleTechClick_)},d.prototype.handleTechReady_=function(){if(this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_(),(this.src()||this.currentSrc())&&this.tag&&this.options_.autoplay&&this.paused())try{delete this.tag.poster}catch(e){$("deleting tag.poster throws in some browsers",e)}},d.prototype.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay"))},d.prototype.handleTechSourceset_=function(e){this.trigger({src:e.src,type:"sourceset"})},d.prototype.hasStarted=function(e){if(void 0===e)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},d.prototype.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},d.prototype.handleTechRateChange_=function(){0<this.tech_.playbackRate()&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach(function(e){return e.callback(e.event)}),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},d.prototype.handleTechWaiting_=function(){var e=this;this.trigger("waiting"),this.one("timeupdate",function(){return e.removeClass("vjs-waiting")})},d.prototype.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},d.prototype.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},d.prototype.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},d.prototype.handleTechSeeking_=function(){this.trigger("seeking")},d.prototype.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.trigger("seeked")},d.prototype.handleTechFirstPlay_=function(){this.options_.starttime&&($.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},d.prototype.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},d.prototype.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},d.prototype.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},d.prototype.handleTechClick_=function(e){Me(e)&&this.controls_&&(this.paused()?this.play():this.pause())},d.prototype.handleTechTap_=function(){this.userActive(!this.userActive())},d.prototype.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},d.prototype.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},d.prototype.handleTechTouchEnd_=function(e){e.preventDefault()},d.prototype.handleFullscreenChange_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},d.prototype.handleStageClick_=function(){this.reportUserActivity()},d.prototype.handleTechFullscreenChange_=function(e,t){t&&this.isFullscreen(t.isFullscreen),this.trigger("fullscreenchange")},d.prototype.handleTechError_=function(){var e=this.tech_.error();this.error(e)},d.prototype.handleTechTextData_=function(){var e=null;1<arguments.length&&(e=arguments[1]),this.trigger("textdata",e)},d.prototype.getCache=function(){return this.cache_},d.prototype.techCall_=function(o,r){this.ready(function(){if(o in ni)return e=this.middleware_,t=this.tech_,i=r,t[n=o](e.reduce(oi(n),i));if(o in ii)return ei(this.middleware_,this.tech_,o,r);var e,t,n,i;try{this.tech_&&this.tech_[o](r)}catch(e){throw $(e),e}},!0)},d.prototype.techGet_=function(e){if(this.tech_&&this.tech_.isReady_){if(e in ti)return t=this.middleware_,n=this.tech_,i=e,t.reduceRight(oi(i),n[i]());if(e in ii)return ei(this.middleware_,this.tech_,e);var t,n,i;try{return this.tech_[e]()}catch(t){if(void 0===this.tech_[e])throw $("Video.js: "+e+" method not defined for "+this.techName_+" playback technology.",t),t;if("TypeError"===t.name)throw $("Video.js: "+e+" unavailable on "+this.techName_+" playback technology element.",t),this.tech_.isReady_=!1,t;throw $(t),t}}},d.prototype.play=function(){var e=this;if(this.playOnLoadstart_&&this.off("loadstart",this.playOnLoadstart_),this.isReady_){if(!this.changingSrc_&&(this.src()||this.currentSrc()))return this.techGet_("play");this.playOnLoadstart_=function(){e.playOnLoadstart_=null,Bt(e.play())},this.one("loadstart",this.playOnLoadstart_)}else{if(this.playWaitingForReady_)return;this.playWaitingForReady_=!0,this.ready(function(){e.playWaitingForReady_=!1,Bt(e.play())})}},d.prototype.pause=function(){this.techCall_("pause")},d.prototype.paused=function(){return!1!==this.techGet_("paused")},d.prototype.played=function(){return this.techGet_("played")||wt(0,0)},d.prototype.scrubbing=function(e){if(void 0===e)return this.scrubbing_;this.scrubbing_=!!e,e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},d.prototype.currentTime=function(e){return void 0!==e?(e<0&&(e=0),void this.techCall_("setCurrentTime",e)):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},d.prototype.duration=function(e){if(void 0===e)return void 0!==this.cache_.duration?this.cache_.duration:NaN;(e=parseFloat(e))<0&&(e=1/0),e!==this.cache_.duration&&((this.cache_.duration=e)===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),this.trigger("durationchange"))},d.prototype.remainingTime=function(){return this.duration()-this.currentTime()},d.prototype.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},d.prototype.buffered=function(){var e=this.techGet_("buffered");return e&&e.length||(e=wt(0,0)),e},d.prototype.bufferedPercent=function(){return kt(this.buffered(),this.duration())},d.prototype.bufferedEnd=function(){var e=this.buffered(),t=this.duration(),n=e.end(e.length-1);return t<n&&(n=t),n},d.prototype.volume=function(e){var t=void 0;return void 0!==e?(t=Math.max(0,Math.min(1,parseFloat(e))),this.cache_.volume=t,this.techCall_("setVolume",t),void(0<t&&this.lastVolume_(t))):(t=parseFloat(this.techGet_("volume")),isNaN(t)?1:t)},d.prototype.muted=function(e){if(void 0===e)return this.techGet_("muted")||!1;this.techCall_("setMuted",e)},d.prototype.defaultMuted=function(e){return void 0!==e?this.techCall_("setDefaultMuted",e):this.techGet_("defaultMuted")||!1},d.prototype.lastVolume_=function(e){if(void 0===e||0===e)return this.cache_.lastVolume;this.cache_.lastVolume=e},d.prototype.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},d.prototype.isFullscreen=function(e){if(void 0===e)return!!this.isFullscreen_;this.isFullscreen_=!!e},d.prototype.requestFullscreen=function(){var n=Tt;this.isFullscreen(!0),n.requestFullscreen?(Ge(f,n.fullscreenchange,nt(this,function e(t){this.isFullscreen(f[n.fullscreenElement]),!1===this.isFullscreen()&&Je(f,n.fullscreenchange,e),this.trigger("fullscreenchange")})),this.el_[n.requestFullscreen]()):this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange"))},d.prototype.exitFullscreen=function(){var e=Tt;this.isFullscreen(!1),e.requestFullscreen?f[e.exitFullscreen]():this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange"))},d.prototype.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=f.documentElement.style.overflow,Ge(f,"keydown",nt(this,this.fullWindowOnEscKey)),f.documentElement.style.overflow="hidden",de(f.body,"vjs-full-window"),this.trigger("enterFullWindow")},d.prototype.fullWindowOnEscKey=function(e){27===e.keyCode&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},d.prototype.exitFullWindow=function(){this.isFullWindow=!1,Je(f,"keydown",this.fullWindowOnEscKey),f.documentElement.style.overflow=this.docOrigOverflow,he(f.body,"vjs-full-window"),this.trigger("exitFullWindow")},d.prototype.canPlayType=function(e){for(var t=void 0,n=0,i=this.options_.techOrder;n<i.length;n++){var o=i[n],r=Yn.getTech(o);if(r||(r=yt.getComponent(o)),r){if(r.isSupported()&&(t=r.canPlayType(e)))return t}else $.error('The "'+o+'" tech is undefined. Skipped browser support check for that tech.')}return""},d.prototype.selectSource=function(e){var n,i=this,t=this.options_.techOrder.map(function(e){return[e,Yn.getTech(e)]}).filter(function(e){var t=e[0],n=e[1];return n?n.isSupported():($.error('The "'+t+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),o=function(e,n,i){var o=void 0;return e.some(function(t){return n.some(function(e){if(o=i(t,e))return!0})}),o},r=function(e,t){var n=e[0];if(e[1].canPlaySource(t,i.options_[n.toLowerCase()]))return{source:t,tech:n}};return(this.options_.sourceOrder?o(e,t,(n=r,function(e,t){return n(t,e)})):o(t,e,r))||!1},d.prototype.src=function(e){var o=this;if(void 0===e)return this.cache_.src||"";var t,n,i,r=function t(e){if(Array.isArray(e)){var n=[];e.forEach(function(e){e=t(e),Array.isArray(e)?n=n.concat(e):G(e)&&n.push(e)}),e=n}else e="string"==typeof e&&e.trim()?[ai({src:e})]:G(e)&&"string"==typeof e.src&&e.src&&e.src.trim()?[ai(e)]:[];return e}(e);r.length?(this.cache_.sources=r,this.changingSrc_=!0,this.cache_.source=r[0],t=this,n=r[0],i=function(e,t){var n,i;if(o.middleware_=t,o.src_(e))return 1<r.length?o.src(r.slice(1)):(o.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),void o.triggerReady());o.changingSrc_=!1,o.cache_.src=e.src,n=t,i=o.tech_,n.forEach(function(e){return e.setTech&&e.setTech(i)})},t.setTimeout(function(){return function n(){var i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],o=arguments[2],r=arguments[3],a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:[],s=5<arguments.length&&void 0!==arguments[5]&&arguments[5],t=e[0],l=e.slice(1);if("string"==typeof t)n(i,$n[t],o,r,a,s);else if(t){var c=function(e,t){var n=Qn[e.id()],i=null;if(null==n)return i=t(e),Qn[e.id()]=[[t,i]],i;for(var o=0;o<n.length;o++){var r=n[o],a=r[0],s=r[1];a===t&&(i=s)}return null===i&&(i=t(e),n.push([t,i])),i}(r,t);c.setSource(U({},i),function(e,t){if(e)return n(i,l,o,r,a,s);a.push(c),n(t,i.type===t.type?l:$n[t.type],o,r,a,s)})}else l.length?n(i,l,o,r,a,s):s?o(i,a):n(i,$n["*"],o,r,a,!0)}(n,$n[n.type],i,t)},1)):this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0)},d.prototype.src_=function(e){var t,n,i=this.selectSource([e]);return!i||(t=i.tech,n=this.techName_,vt(t)!==vt(n)?(this.changingSrc_=!0,this.loadTech_(i.tech,i.source)):this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src)},!0),!1)},d.prototype.load=function(){this.techCall_("load")},d.prototype.reset=function(){this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset")},d.prototype.currentSources=function(){var e=this.currentSource(),t=[];return 0!==Object.keys(e).length&&t.push(e),this.cache_.sources||t},d.prototype.currentSource=function(){return this.cache_.source||{}},d.prototype.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},d.prototype.currentType=function(){return this.currentSource()&&this.currentSource().type||""},d.prototype.preload=function(e){return void 0!==e?(this.techCall_("setPreload",e),void(this.options_.preload=e)):this.techGet_("preload")},d.prototype.autoplay=function(e){return void 0!==e?(this.techCall_("setAutoplay",e),void(this.options_.autoplay=e)):this.techGet_("autoplay",e)},d.prototype.playsinline=function(e){return void 0!==e?(this.techCall_("setPlaysinline",e),this.options_.playsinline=e,this):this.techGet_("playsinline")},d.prototype.loop=function(e){return void 0!==e?(this.techCall_("setLoop",e),void(this.options_.loop=e)):this.techGet_("loop")},d.prototype.poster=function(e){if(void 0===e)return this.poster_;e||(e=""),e!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))},d.prototype.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var e=this.tech_.poster()||"";e!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},d.prototype.controls=function(e){if(void 0===e)return!!this.controls_;e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},d.prototype.usingNativeControls=function(e){if(void 0===e)return!!this.usingNativeControls_;e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},d.prototype.error=function(e){return void 0===e?this.error_||null:null===e?(this.error_=e,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close())):(this.error_=new Mt(e),this.addClass("vjs-error"),$.error("(CODE:"+this.error_.code+" "+Mt.errorTypes[this.error_.code]+")",this.error_.message,this.error_),void this.trigger("error"))},d.prototype.reportUserActivity=function(e){this.userActivity_=!0},d.prototype.userActive=function(e){if(void 0===e)return this.userActive_;if((e=!!e)!==this.userActive_){if(this.userActive_=e,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",function(e){e.stopPropagation(),e.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},d.prototype.listenForUserActivity_=function(){var t=void 0,n=void 0,i=void 0,o=nt(this,this.reportUserActivity);this.on("mousedown",function(){o(),this.clearInterval(t),t=this.setInterval(o,250)}),this.on("mousemove",function(e){e.screenX===n&&e.screenY===i||(n=e.screenX,i=e.screenY,o())}),this.on("mouseup",function(e){o(),this.clearInterval(t)}),this.on("keydown",o),this.on("keyup",o);var r=void 0;this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(r);var e=this.options_.inactivityTimeout;e<=0||(r=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},e))}},250)},d.prototype.playbackRate=function(e){if(void 0===e)return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",e)},d.prototype.defaultPlaybackRate=function(e){return void 0!==e?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},d.prototype.isAudio=function(e){if(void 0===e)return!!this.isAudio_;this.isAudio_=!!e},d.prototype.addTextTrack=function(e,t,n){if(this.tech_)return this.tech_.addTextTrack(e,t,n)},d.prototype.addRemoteTextTrack=function(e,t){if(this.tech_)return this.tech_.addRemoteTextTrack(e,t)},d.prototype.removeRemoteTextTrack=function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).track,t=void 0===e?arguments[0]:e;if(this.tech_)return this.tech_.removeRemoteTextTrack(t)},d.prototype.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},d.prototype.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},d.prototype.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},d.prototype.language=function(e){if(void 0===e)return this.language_;this.language_=String(e).toLowerCase()},d.prototype.languages=function(){return gt(d.prototype.options_.languages,this.languages_)},d.prototype.toJSON=function(){var e=gt(this.options_),t=e.tracks;e.tracks=[];for(var n=0;n<t.length;n++){var i=t[n];(i=gt(i)).player=void 0,e.tracks[n]=i}return e},d.prototype.createModal=function(e,t){var n=this;(t=t||{}).content=e||"";var i=new Ht(this,t);return this.addChild(i),i.on("dispose",function(){n.removeChild(i)}),i.open(),i},d.getTagSettings=function(e){var t={sources:[],tracks:[]},n=me(e),i=n["data-setup"];if(ue(e,"vjs-fluid")&&(n.fluid=!0),null!==i){var o=function(e,t){var n,i=null;try{n=JSON.parse(e,t)}catch(e){i=e}return[i,n]}(i||"{}"),r=o[0],a=o[1];r&&$.error(r),U(n,a)}if(U(t,n),e.hasChildNodes())for(var s=e.childNodes,l=0,c=s.length;l<c;l++){var u=s[l],d=u.nodeName.toLowerCase();"source"===d?t.sources.push(me(u)):"track"===d&&t.tracks.push(me(u))}return t},d.prototype.flexNotSupported_=function(){var e=f.createElement("i");return!("flexBasis"in e.style||"webkitFlexBasis"in e.style||"mozFlexBasis"in e.style||"msFlexBasis"in e.style||"msFlexOrder"in e.style)},d}(yt);bn.names.forEach(function(e){var t=bn[e];Do.prototype[t.getterName]=function(){return this.tech_?this.tech_[t.getterName]():(this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName])}}),Do.players={};var qo=p.navigator;Do.prototype.options_={techOrder:Yn.defaultTechOrder_,html5:{},flash:{},inactivityTimeout:2e3,playbackRates:[],children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","controlBar","errorDisplay","textTrackSettings"],language:qo&&(qo.languages&&qo.languages[0]||qo.userLanguage||qo.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media."},M||Do.prototype.options_.children.push("resizeManager"),["ended","seeking","seekable","networkState","readyState"].forEach(function(e){Do.prototype[e]=function(){return this.techGet_(e)}}),Po.forEach(function(e){Do.prototype["handleTech"+vt(e)+"_"]=function(){return this.trigger(e)}}),yt.registerComponent("Player",Do);var zo="plugin",Vo="activePlugins_",Uo={},Go=function(e){return Uo.hasOwnProperty(e)},Jo=function(e){return Go(e)?Uo[e]:void 0},Xo=function(e,t){e[Vo]=e[Vo]||{},e[Vo][t]=!0},Wo=function(e,t,n){var i=(n?"before":"")+"pluginsetup";e.trigger(i,t),e.trigger(i+":"+t.name,t)},Ko=function(o,r){return r.prototype.name=o,function(){Wo(this,{name:o,plugin:r,instance:null},!0);for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=new(Function.prototype.bind.apply(r,[null].concat([this].concat(t))));return this[o]=function(){return i},Wo(this,i.getEventHash()),i}},Yo=function(){function r(e){if(N(this,r),this.constructor===r)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=e,pt(this),delete this.trigger,mt(this,this.constructor.defaultState),Xo(e,this.name),this.dispose=nt(this,this.dispose),e.on("dispose",this.dispose)}return r.prototype.version=function(){return this.constructor.VERSION},r.prototype.getEventHash=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return e.name=this.name,e.plugin=this.constructor,e.instance=this,e},r.prototype.trigger=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return Xe(this.eventBusEl_,e,this.getEventHash(t))},r.prototype.handleStateChanged=function(e){},r.prototype.dispose=function(){var e=this.name,t=this.player;this.trigger("dispose"),this.off(),t.off("dispose",this.dispose),t[Vo][e]=!1,this.player=this.state=null,t[e]=Ko(e,Uo[e])},r.isBasic=function(e){var t="string"==typeof e?Jo(e):e;return"function"==typeof t&&!r.prototype.isPrototypeOf(t.prototype)},r.registerPlugin=function(e,t){if("string"!=typeof e)throw new Error('Illegal plugin name, "'+e+'", must be a string, was '+(void 0===e?"undefined":R(e))+".");if(Go(e))$.warn('A plugin named "'+e+'" already exists. You may want to avoid re-registering plugins!');else if(Do.prototype.hasOwnProperty(e))throw new Error('Illegal plugin name, "'+e+'", cannot share a name with an existing player method!');if("function"!=typeof t)throw new Error('Illegal plugin for "'+e+'", must be a function, was '+(void 0===t?"undefined":R(t))+".");var n,i,o;return Uo[e]=t,e!==zo&&(r.isBasic(t)?Do.prototype[e]=(n=e,i=t,o=function(){Wo(this,{name:n,plugin:i,instance:null},!0);var e=i.apply(this,arguments);return Xo(this,n),Wo(this,{name:n,plugin:i,instance:e}),e},Object.keys(i).forEach(function(e){o[e]=i[e]}),o):Do.prototype[e]=Ko(e,t)),t},r.deregisterPlugin=function(e){if(e===zo)throw new Error("Cannot de-register base plugin.");Go(e)&&(delete Uo[e],delete Do.prototype[e])},r.getPlugins=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:Object.keys(Uo),n=void 0;return e.forEach(function(e){var t=Jo(e);t&&((n=n||{})[e]=t)}),n},r.getPluginVersion=function(e){var t=Jo(e);return t&&t.VERSION||""},r}();Yo.getPlugin=Jo,Yo.BASE_PLUGIN_NAME=zo,Yo.registerPlugin(zo,Yo),Do.prototype.usingPlugin=function(e){return!!this[Vo]&&!0===this[Vo][e]},Do.prototype.hasPlugin=function(e){return!!Go(e)},"undefined"==typeof HTMLVideoElement&&ie()&&(f.createElement("video"),f.createElement("audio"),f.createElement("track"),f.createElement("video-js"));var $o=function(e){return 0===e.indexOf("#")?e.slice(1):e};function Qo(e,n,t){var i=Qo.getPlayer(e);if(i)return n&&$.warn('Player "'+e+'" is already initialised. Options will not be applied.'),t&&i.ready(t),i;var o="string"==typeof e?Le("#"+$o(e)):e;if(!oe(o))throw new TypeError("The element or ID supplied is not valid. (videojs)");f.body.contains(o)||$.warn("The element supplied is not included in the DOM"),n=n||{},Qo.hooks("beforesetup").forEach(function(e){var t=e(o,gt(n));G(t)&&!Array.isArray(t)?n=gt(n,t):$.error("please return an object in beforesetup hooks")});var r=yt.getComponent("Player");return i=new r(o,n,t),Qo.hooks("setup").forEach(function(e){return e(i)}),i}if(Qo.hooks_={},Qo.hooks=function(e,t){return Qo.hooks_[e]=Qo.hooks_[e]||[],t&&(Qo.hooks_[e]=Qo.hooks_[e].concat(t)),Qo.hooks_[e]},Qo.hook=function(e,t){Qo.hooks(e,t)},Qo.hookOnce=function(n,e){Qo.hooks(n,[].concat(e).map(function(t){return function e(){return Qo.removeHook(n,e),t.apply(void 0,arguments)}}))},Qo.removeHook=function(e,t){var n=Qo.hooks(e).indexOf(t);return!(n<=-1||(Qo.hooks_[e]=Qo.hooks_[e].slice(),Qo.hooks_[e].splice(n,1),0))},!0!==p.VIDEOJS_NO_DYNAMIC_STYLE&&ie()){var Zo=Le(".vjs-styles-defaults");if(!Zo){Zo=et("vjs-styles-defaults");var er=Le("head");er&&er.insertBefore(Zo,er.firstChild),tt(Zo,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}return Ze(1,Qo),Qo.VERSION="6.9.0",Qo.options=Do.prototype.options_,Qo.getPlayers=function(){return Do.players},Qo.getPlayer=function(e){var t=Do.players,n=void 0;if("string"==typeof e){var i=$o(e),o=t[i];if(o)return o;n=Le("#"+i)}else n=e;if(oe(n)){var r=n,a=r.player,s=r.playerId;if(a||t[s])return a||t[s]}},Qo.getAllPlayers=function(){return Object.keys(Do.players).map(function(e){return Do.players[e]}).filter(Boolean)},Qo.players=Do.players,Qo.getComponent=yt.getComponent,Qo.registerComponent=function(e,t){Yn.isTech(t)&&$.warn("The "+e+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),yt.registerComponent.call(yt,e,t)},Qo.getTech=Yn.getTech,Qo.registerTech=Yn.registerTech,Qo.use=function(e,t){$n[e]=$n[e]||[],$n[e].push(t)},!M&&Object.defineProperty?(Object.defineProperty(Qo,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(Qo.middleware,"TERMINATOR",{value:Zn,writeable:!1,enumerable:!0})):Qo.middleware={TERMINATOR:Zn},Qo.browser=H,Qo.TOUCH_ENABLED=O,Qo.extend=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=function(){e.apply(this,arguments)},i={};for(var o in"object"===(void 0===t?"undefined":R(t))?(t.constructor!==Object.prototype.constructor&&(n=t.constructor),i=t):"function"==typeof t&&(n=t),function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":R(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.super_=t)}(n,e),i)i.hasOwnProperty(o)&&(n.prototype[o]=i[o]);return n},Qo.mergeOptions=gt,Qo.bind=nt,Qo.registerPlugin=Yo.registerPlugin,Qo.plugin=function(e,t){return $.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Yo.registerPlugin(e,t)},Qo.getPlugins=Yo.getPlugins,Qo.getPlugin=Yo.getPlugin,Qo.getPluginVersion=Yo.getPluginVersion,Qo.addLanguage=function(e,t){var n;return e=(""+e).toLowerCase(),Qo.options.languages=gt(Qo.options.languages,((n={})[e]=t,n)),Qo.options.languages[e]},Qo.log=$,Qo.createTimeRange=Qo.createTimeRanges=wt,Qo.formatTime=ki,Qo.setFormatTime=function(e){wi=e},Qo.resetFormatTime=function(){wi=bi},Qo.parseUrl=Yt,Qo.isCrossOrigin=Qt,Qo.EventTarget=ot,Qo.on=Ge,Qo.one=We,Qo.off=Je,Qo.trigger=Xe,Qo.xhr=cn,Qo.TextTrack=fn,Qo.AudioTrack=mn,Qo.VideoTrack=vn,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(e){Qo[e]=function(){return $.warn("videojs."+e+"() is deprecated; use videojs.dom."+e+"() instead"),Be[e].apply(null,arguments)}}),Qo.computedStyle=Z,Qo.dom=Be,Qo.url=Zt,Qo});var Vn=0,Un=10,Gn=1e4,Jn=[],Xn=null,Wn=!1,Kn=!1,Yn="",$n="",Qn=!1,Zn=!1,ei=!1,ti="",ni=!1;function ii(){if(""!==$n)return ji(),Ni(),void wC();jc=Mc,cd("top_bar_user","icon_center_focus"),Cd(),ti=document.querySelector("#oauth_input"),cc.placeholder=w,document.getElementById("oauth_text").innerHTML=vt+Yc+vn,ai(),wo("oauth_input")}function oi(){si(),document.body.removeEventListener("keydown",ri),ud("top_bar_user","icon_center_focus")}function ri(e){if(!Wn&&!Kn)switch(e.keyCode){case Nn:Md()?Id():Bd()?Ad():(jc=xc,oi(),qd());break;case wn:jc=mc,oi(),qd();break;case kn:jc=pc,oi(),qd();break;case Cn:case En:case xn:case Bn:ai();break;case On:Sd();break;case jn:oi(),$d();break;case Hn:Ld();break;case Rn:Rc=jc,jc=bc,oi(),qd()}}function ai(){document.body.removeEventListener("keydown",ri),document.body.addEventListener("keydown",li,!1),ti.addEventListener("input"),ti.addEventListener("compositionend"),cc.placeholder=w,ti.focus(),Kn=!0}function si(){ti.blur(),document.body.removeEventListener("keydown",li),document.body.addEventListener("keydown",ri,!1),cc.placeholder=T+w,window.setTimeout(function(){Kn=!1},250)}function li(e){if(!Wn)switch(e.keyCode){case zn:cc.value="",e.preventDefault();break;case Dn:case Fn:""!==cc.value&&null!==cc.value&&($n=cc.value,ji(),pd(),wo("blank_focus"),gi()),si();break;case Pn:cc.value=cc.value.slice(0,-1),e.preventDefault();break;case qn:cc.value+=" ",e.preventDefault()}}function ci(){Jn=[];var e=parseInt(localStorage.getItem("UsercodeArraySize"))||0;if(0<e)for(var t=0;t<e;t++)Jn[t]=localStorage.getItem("UsercodeArray"+t);pi()}function ui(){(Jn=JSON.parse(localStorage.getItem("userkeys"))||[]).length||ci(),fi(0)}function di(){Jn.push(Xn+","+Yn+","+$n),pi(),fd(),wC(),Wn=!1}function hi(e){var t=Jn.indexOf(Jn[e]);-1<t&&Jn.splice(t,1),pi()}function pi(){localStorage.setItem("userkeys",JSON.stringify(Jn))}function fi(e){if(0<Zi.length&&(Yc=Zi[e]),0<Jn.length){var t=vi(Zi[e]);if(-1<t){var n=Jn[t].split(",");Xn=n[0],Yn=n[1],$n=n[2]}else mi()}else mi()}function mi(){$n=Yn=Xn=""}function vi(e){for(var t=0;t<Jn.length;t++)if(e===Jn[t].split(",")[0])return t;return-1}function gi(){try{var e=new XMLHttpRequest;e.open("GET","https://api.twitch.tv/kraken?oauth_token="+$n,!0),e.timeout=Gn,e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void _i(e.responseText);yi()}},e.send(null)}catch(e){yi()}}function yi(){++Vn<Un?(Gn+=Vn<5?250:3500,gi()):(Wn=!1,fd(),Ed(jt),window.setTimeout(function(){Cd(),ai()},4e3))}function _i(e){HC(e)?(Xn=JSON.parse(e).token.user_name+"",ji(),ni=!1,bi()):(fd(),Ed(St+Yc+It+Xn),window.setTimeout(function(){Cd(),ai()},3500))}function bi(){try{var e=new XMLHttpRequest;e.open("GET","https://api.twitch.tv/kraken/users?login="+Yc,!0),e.timeout=Gn,e.setRequestHeader("Client-ID",Eu),e.setRequestHeader("Accept","application/vnd.twitchtv.v5+json"),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void(ni?Ei(e.responseText):ki(e.responseText));wi()}},e.send(null)}catch(e){wi()}}function wi(){++Vn<Un&&(Gn+=Vn<5?250:3500,bi())}function ki(e){Yn=JSON.parse(e).users[0]._id,cc.value="",document.body.removeEventListener("keydown",ri),RC(!0),di()}function Ti(){ji(),Qn=!1,""!==Yn?Ci():(ni=!0,bi())}function Ei(e){var t=JSON.parse(e).users[0];void 0!==t?(Yn=t._id,ji(),Qn=!1,Ci()):(Wn=Qn=!1,ei?Em():Mg())}function Ci(){try{var e=new XMLHttpRequest;e.open("GET","https://api.twitch.tv/kraken/users/"+Yn+"/follows/channels/"+Xc,!0),e.timeout=Gn,e.setRequestHeader("Client-ID",Eu),e.setRequestHeader("Accept","application/vnd.twitchtv.v5+json"),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return Wn=!(Qn=!0),void(ei?Em():Mg());if(404===e.status){if(-1!==(JSON.parse(e.responseText).error+"").indexOf("Not Found"))return Wn=Qn=!1,void(ei?Em():Mg());xi()}else xi()}},e.send(null)}catch(e){xi()}}function xi(){++Vn<Un?(Gn+=Vn<5?250:3500,Ci()):(Wn=!1,ei?Em():Mg())}function Si(){ji(),Ii()}function Ii(){try{var e=new XMLHttpRequest;e.open("PUT","https://api.twitch.tv/kraken/users/"+Yn+"/follows/channels/"+Xc,!0),e.timeout=Gn,e.setRequestHeader("Client-ID",Eu),e.setRequestHeader("Accept","application/vnd.twitchtv.v5+json"),e.setRequestHeader("Authorization","OAuth "+$n),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return Qn=!(Wn=!1),void(ei?Em():Mg());Mi()}},e.send(null)}catch(e){Mi()}}function Mi(){++Vn<Un&&(Gn+=3500,Ii())}function Li(){ji(),Ai()}function Ai(){try{var e=new XMLHttpRequest;e.open("DELETE","https://api.twitch.tv/kraken/users/"+Yn+"/follows/channels/"+Xc,!0),e.timeout=Gn,e.setRequestHeader("Client-ID",Eu),e.setRequestHeader("Accept","application/vnd.twitchtv.v5+json"),e.setRequestHeader("Authorization","OAuth "+$n),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(204===e.status)return Wn=Qn=!1,void(ei?Em():Mg());Bi()}},e.send(null)}catch(e){Bi()}}function Bi(){++Vn<Un&&(Gn+=3500,Ai())}function Oi(){ji(),Zn=!1,Hi()}function ji(){Gn=1e4,Wn=!(Vn=0)}function Hi(){try{var e=new XMLHttpRequest;e.open("GET","https://api.twitch.tv/kraken/users/"+Yn+"/subscriptions/"+Xc,!0),e.timeout=Gn,e.setRequestHeader("Client-ID",Eu),e.setRequestHeader("Accept","application/vnd.twitchtv.v5+json"),e.setRequestHeader("Authorization","OAuth "+$n),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return Wn=!(Zn=!0),void Sv();if(422===e.status)console.log("channel does not have a subscription program");else if(404===e.status){if(-1!==(JSON.parse(e.responseText).error+"").indexOf("Not Found"))return Wn=Zn=!1,void xv();Ri()}else Ri()}},e.send(null)}catch(e){Ri()}}function Ri(){++Vn<Un?(Gn+=Vn<5?250:3500,Hi()):Wn=!1}function Ni(){try{var t=new XMLHttpRequest;t.open("GET","https://api.twitch.tv/kraken?oauth_token="+$n,!0),t.timeout=Gn,t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status){var e=HC(t.responseText);return RC(e),Ed(e?xt:Ct),window.setTimeout(function(){Cd()},4e3),void(Wn=!1)}Pi()}},t.send(null)}catch(e){Pi()}}function Pi(){++Vn<Un?(Gn+=Vn<5?250:3500,Ni()):(Ed(Ct),RC(!1),window.setTimeout(function(){Cd()},4e3),Wn=!1)}function Fi(e){try{var t=vi(Zi[e]);if(-1<t){$n=Jn[t].split(",")[2],Yc=Zi[e];var n=new XMLHttpRequest;n.open("GET","https://api.twitch.tv/kraken?oauth_token="+$n,!0),n.timeout=Gn,n.ontimeout=function(){},n.onreadystatechange=function(){if(4===n.readyState){if(200===n.status)return void LC(HC(n.responseText),e);Di(e)}},n.send(null)}else LC(!1,e)}catch(t){Di(e)}}function Di(e){++Vn<Un?(Gn+=3500,Fi(e)):LC(!1,e)}function qi(){ji(),zi()}function zi(){try{var e=new XMLHttpRequest;e.open("PUT","https://api.twitch.tv/api/users/"+Yc+"/follows/games/"+encodeURIComponent(Jc)+"?oauth_token="+$n,!0),e.timeout=1e4,e.setRequestHeader("Client-ID",Eu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return zo=!0,void nr();Vi()}},e.send(null)}catch(e){Vi()}}function Vi(){++Vn<Un&&(Gn+=3500,zi())}function Ui(){ji(),Gi()}function Gi(){try{var e=new XMLHttpRequest;e.open("DELETE","https://api.twitch.tv/api/users/"+Yc+"/follows/games/"+encodeURIComponent(Jc)+"?oauth_token="+$n,!0),e.timeout=1e4,e.setRequestHeader("Client-ID",Eu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(204===e.status)return zo=!1,void nr();Ji()}},e.send(null)}catch(e){Ji()}}function Ji(){++Vn<Un&&(Gn+=3500,Gi())}function Xi(){ji(),Wi()}function Wi(){try{var e=new XMLHttpRequest;e.open("GET","https://api.twitch.tv/api/users/"+Yc+"/follows/games/"+encodeURIComponent(Jc),!0),e.timeout=1e4,e.setRequestHeader("Client-ID",Eu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState)return 200===e.status?(zo=!0,void nr()):404===e.status?(zo=!1,void nr()):void Ki()},e.send(null)}catch(e){Ki()}}function Ki(){++Vn<Un?(Gn+=3500,Wi()):(zo=!1,nr())}var Yi=0,$i=10,Qi=3500,Zi=[],eo=null,to=!1,no=!1,io=null;function oo(){jc=fc,cd("top_bar_user","icon_center_focus"),Cd(),io=document.querySelector("#user_input"),lc.placeholder=k,so(),wo("user_input")}function ro(){lo(),document.body.removeEventListener("keydown",ao),ud("top_bar_user","icon_center_focus")}function ao(e){if(!to&&!no)switch(e.keyCode){case Nn:Md()?Id():Bd()?Ad():(jc=Hc,ro(),qd());break;case wn:jc=mc,ro(),qd();break;case kn:jc=pc,ro(),qd();break;case Cn:case En:case xn:case Bn:so();break;case On:Sd();break;case jn:ro(),$d();break;case Hn:Ld();break;case Rn:Rc=jc,jc=bc,ro(),qd()}}function so(){document.body.removeEventListener("keydown",ao),document.body.addEventListener("keydown",co,!1),io.addEventListener("input"),io.addEventListener("compositionend"),lc.placeholder=k,io.focus(),no=!0}function lo(){io.blur(),document.body.removeEventListener("keydown",co),document.body.addEventListener("keydown",ao,!1),lc.placeholder=T+k,window.setTimeout(function(){no=!1},250)}function co(e){if(!to)switch(e.keyCode){case zn:lc.value="",e.preventDefault();break;case Dn:case Fn:""!==lc.value&&null!==lc.value&&(_o(eo=uc?lc.value:"testtwitch27")?(fd(),Ed(d+eo+ie),window.setTimeout(function(){Cd(),so()},1500)):(Qi=3500,to=!(Yi=0),pd(),wo("blank_focus"),uo())),lo();break;case Pn:lc.value=lc.value.slice(0,-1),e.preventDefault();break;case qn:lc.value+=" ",e.preventDefault()}}function uo(){try{var e=new XMLHttpRequest;e.open("GET","https://api.twitch.tv/kraken/users/"+encodeURIComponent(eo)+"/follows/channels?limit=1&sortby=created_at&"+Math.round(1e7*Math.random()),!0),e.timeout=Qi,e.setRequestHeader("Client-ID",Eu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return lc.value="",document.body.removeEventListener("keydown",ao),void mo();ho()}},e.send(null)}catch(e){ho()}}function ho(){++Yi<$i?(Qi+=Yi<5?250:3500,uo()):(eo=null,fd(),Ed(te),window.setTimeout(function(){oo()},1e3),to=!1)}function po(){Zi=[];var e=parseInt(localStorage.getItem("UsernameArraySize"))||0;if(0<e)for(var t=0;t<e;t++)Zi[t]=localStorage.getItem("UsernameArray"+t);go()}function fo(){(Zi=JSON.parse(localStorage.getItem("usernames"))||[]).length||po(),Zi.length&&ui(),window.setTimeout(function(){uw(),window.addEventListener("appcontrol",_w,!1),Kc=window.setInterval(uw,6e5),document.addEventListener("visibilitychange",Qd,!1)},3500)}function mo(){Zi.push(eo),go(),vC=!1,wC(),to=!1,1===Zi.length&&(window.clearInterval(Kc),document.removeEventListener("visibilitychange",Qd),Kc=window.setInterval(uw,6e5),document.addEventListener("visibilitychange",Qd,!1),uw())}function vo(e){var t=vi(Zi[e]);-1<t&&hi(t);var n=Zi.indexOf(Zi[e]);-1<n&&Zi.splice(n,1),0<Zi.length?(vC=!1,wC(),e||uw()):(oo(),uw()),fi(e),go()}function go(){localStorage.setItem("usernames",JSON.stringify(Zi))}function yo(e){eo=Zi[0],Zi[0]=Zi[e],Zi[e]=eo,vC=!1,wC(),uw()}function _o(e){return-1!==Zi.indexOf(e)}function bo(){return 0<Zi.length}function wo(e){window.scroll(0,Ch()+xh(e)-ru-cu)}var ko=0,To=0,Eo=!1,Co=0,xo=[],So=[],Io=!1,Mo=0,Lo=10,Ao=3500,Bo=0,Oo=0,jo=!0,Ho=25,Ro=!1,No=0,Po=!1,Fo=["ag_thumbdiv","ag_img","ag_infodiv","ag_displayname","ag_streamtitle","ag_streamgame","ag_viwers","ag_quality","ag_cell","agempty_"],Do=!1,qo=!1,zo=!1,Vo=!1,Uo=!1;function Go(){jc=vc,document.body.addEventListener("keydown",pr,!1),x_&&ud("top_bar_user","icon_center_focus"),cd("top_bar_game","icon_center_focus"),document.getElementById("top_bar_game").innerHTML=_+Jd(h+": "+Jc),ah(ko),Wc===Jc&&Do?(Th(Fo[0],ko,To,vc,ru,iu,!1),wd(To,ko,mu,Co)):Xo()}function Jo(){Do&&(-1===ko&&(ko=0),dr(),lr()),document.getElementById("top_bar_game").innerHTML=p,document.body.removeEventListener("keydown",pr),ud("top_bar_game","icon_center_focus")}function Xo(){Cd(),Do=!1,Eh("blank_focus"),pd(),Zd("stream_table_a_game"),Ro=Uo=!1,xo=[],ko=To=Co=No=Oo=Bo=0,Eo=qo=!(So=[]),bd(),Wo(),Ko()}function Wo(){Io=!0,Mo=0,Ao=3500}function Ko(){try{var e=new XMLHttpRequest,t=Co+Oo;t&&No-1<t&&(t=No-fu,Ro=Eo=!0),e.open("GET","https://api.twitch.tv/kraken/streams?game="+encodeURIComponent(Jc)+"&limit="+fu+"&offset="+t+"&"+Math.round(1e7*Math.random()),!0),e.timeout=Ao,e.setRequestHeader("Client-ID",Eu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void $o(e.responseText);Yo()}},e.send(null)}catch(e){Yo()}}function Yo(){++Mo<Lo?(Ao+=Mo<5?250:3500,Ko()):(Uo=Io=!1,fd(),Ed(M))}function $o(e){var t=JSON.parse(e),n=t.streams.length;No=parseInt(t._total),n<fu&&(Eo=!0);var i=Co;Po=!(Co+=n);var o=n/mu;0<n%mu&&o++;for(var r,a,s,l,c=document.createElement("tr"),u=0,d=0;d<3;d++)l=d?1===d?H:"":en,(eu=document.createElement("td")).setAttribute("id",Fo[8]+"y_"+d),eu.className="stream_cell",eu.innerHTML='<div id="'+Fo[0]+"y_"+d+'" class="stream_thumbnail_fallow_game" ><div id="'+Fo[3]+"y_"+d+'" class="stream_channel_fallow_game">'+l+"</div></div>",c.appendChild(eu);for(document.getElementById("stream_table_a_game").appendChild(c),d=0;d<o;d++){for(a=i/mu+d,c=document.createElement("tr"),r=0;r<mu&&u<n;r++,u++)Zo((s=t.streams[u]).channel.name)?r--:c.appendChild(Qo(a,a+"_"+r,s.channel.name,[s.preview.template.replace("{width}x{height}",Cu),Pd(JSON.stringify(s.stream_type))+s.channel.display_name,s.channel.status,s.game,g+jf(s.created_at)+y+", "+m+Rd(s.viewers)+q,Nd(s.video_height,s.average_fps,s.channel.language)]));for(;r<mu;r++)Eo&&!qo&&(qo=!0,Co=a*mu+r),c.appendChild(lh(Fo[9]+a+"_"+r)),So.push(Fo[9]+a+"_"+r);document.getElementById("stream_table_a_game").appendChild(c)}er()}function Qo(e,t,n,i){return xo.push(n),e<mu&&sh(i[0]),hh(n,t,Fo,i)}function Zo(e){for(var t=0;t<xo.length;t++)if(e===xo[t])return Bo++,!0;return!1}function er(){Mh(function(){if(Do){if(0<Bo&&!Eo)return Uo=!0,Wo(),void rr();Bo=0,Uo=Io=!1}else fd(),tr(),Po?(Ed(L+$),ko=-1,Th(Fo[0],"y",0,vc,135,0,!1),ur()):(Do=!0,lr(),ih(Fo[1],9,Nu,mu)),Io=!1})}function tr(){Vo?(zo=!0,nr()):""!==Yc?Xi():(zo=!1,nr())}function nr(){document.getElementById(Fo[3]+"y_2").innerHTML=zo?'<i class="icon-heart" style="color: #00b300; font-size: 100%; text-shadow: #FFFFFF 0px 0px 10px, #FFFFFF 0px 0px 10px, #FFFFFF 0px 0px 8px;"></i>'+gn+Mt:'<i class="icon-heart-o" style="color: #FFFFFF; font-size: 100%; text-shadow: #000000 0px 0px 10px, #000000 0px 0px 10px, #000000 0px 0px 8px;"></i>'+gn+(""!==Yc?Lt:Ht)}function ir(){""!==$n?zo?Ui():qi():(Ed(Rt),window.setTimeout(function(){Po&&jc===vc?Ed(L+$):Cd()},2e3))}function or(){To?1===To?(jc=Oc,Wc=Jc,Jo(),qd()):ir():(jc=Bc,Wc=Jc,Jo(),qd())}function rr(){try{var e=new XMLHttpRequest;Td(Bo);var t=Co+Oo;t&&No-1<t&&(t=No-Tu,Ro=!0),e.open("GET","https://api.twitch.tv/kraken/streams?game="+encodeURIComponent(Jc)+"&limit="+Tu+"&offset="+t+"&"+Math.round(1e7*Math.random()),!0),e.timeout=Ao,e.setRequestHeader("Client-ID",Eu),e.ontimeout=function(){},e.onreadystatechange=function(){4!==e.readyState||200!==e.status||sr(e.responseText)},e.send(null)}catch(e){ar()}}function ar(){++Mo<Lo?(Ao+=Mo<5?250:3500,rr()):(Ro=!0,Bo=0,So=[],er())}function sr(e){var t,n,i=JSON.parse(e),o=i.streams.length,r=0,a=So.slice();No=parseInt(i._total),o<fu&&(Ro=!0);for(var s=0;s<So.length&&r<o;s++,r++)Zo((t=i.streams[r]).channel.name)?(Bo--,s--):(xo.push(t.channel.name),ph(So[s],t.channel.name,[t.preview.template.replace("{width}x{height}",Cu),Pd(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,g+jf(t.created_at)+y+", "+m+Rd(t.viewers)+q,Nd(t.video_height,t.average_fps,t.channel.language)],Fo),Bo--,-1<(n=a.indexOf(a[s]))&&a.splice(n,1));Oo+=r,Ro?(Bo=0,So=[]):So=a,er()}function lr(){bh(ko,To,Fo,vc,mu,Co),3<ko&&oh(Fo[1],ko,Nu,mu,4),Co/mu<ko+vu&&!Eo&&!Uo&&(Uo=!0,Wo(),Ko())}function cr(){kh(ko+"_"+To,Fo)}function ur(){cd(Fo[0]+"y_"+To,Su)}function dr(){ud(Fo[0]+"y_"+To,Su)}function hr(){jo=!0}function pr(e){var t;if(Io&&!Uo||!jo)e.preventDefault();else switch(jo=!1,window.setTimeout(hr,Ho),e.keyCode){case Nn:Md()?Id():Bd()?Ad():Uo||(Wc=Jc,jc=$_?wc:Pc,Jo(),qd());break;case In:if(-1===ko)dr(),--To<0&&(To=2),ur();else if(ko||To){if(Fd(ko,To-1,Fo[0]))cr(),To--,lr();else for(t=mu-1;-1<t;t--)if(Fd(ko-1,t,Fo[0])){cr(),ko--,To=t,lr();break}}else cr(),dr(),ko=-1,To=2,ur();break;case Mn:-1===ko?(dr(),2<++To?(To=0,Po?ur():(ko=0,lr())):ur()):Fd(ko,To+1,Fo[0])?(cr(),To++,lr()):Fd(ko+1,0,Fo[0])&&(cr(),ko++,To=0,lr());break;case Ln:if(-1!==ko||Po)if(ko){for(t=0;t<mu;t++)if(Fd(ko-1,To-t,Fo[0])){cr(),ko--,To-=t,lr();break}}else cr(),ko=-1,ur();else ko=0,dr(),lr();break;case An:if(-1!==ko||Po){for(t=0;t<mu;t++)if(Fd(ko+1,To-t,Fo[0])){cr(),ko++,To-=t,lr();break}}else ko=0,dr(),lr();break;case Sn:case Tn:Uo||Xo();break;case wn:x_||(Hc=vc,jc=Lc,Wc=Jc,Jo(),qd());break;case kn:x_||(Hc=vc,jc=bo()?xc:fc,Jo(),qd());break;case Cn:case En:case xn:case Bn:-1!==ko?(Qp=document.getElementById(Fo[8]+ko+"_"+To).getAttribute(Iu),Zp=document.getElementById(Fo[3]+ko+"_"+To).textContent,document.body.removeEventListener("keydown",pr),Wc=Jc,Vd()):or();break;case On:Sd();break;case jn:Jo(),$d();break;case Hn:Ld();break;case Rn:Rc=vc,jc=bc,Wc=Jc,Jo(),qd()}}var fr=0,mr=0,vr=!1,gr=0,yr=[],_r=[],br=!1,wr=0,kr=10,Tr=3500,Er=0,Cr=!0,xr=25,Sr=!1,Ir=0,Mr=!1,Lr=["c_thumbdiv","c_img","c_infodiv","c_title","c_createdon","c_game","c_viwers","c_duration","c_cell","cpempty_","c_lang"],Ar=!1,Br=null,Or=2,jr="week",Hr=!1,Rr=!1;function Nr(){jc=Ac,qr(),cd("top_bar_clip","icon_center_focus"),rd("label_refresh","icon-refresh",e+Yt),rd("label_controls","icon-calendar",c+" (C)"),document.body.addEventListener("keydown",Zr,!1),ah(fr),Ar?(Th(Lr[0],fr,mr,Ac,ru,iu,!1),wd(mr,fr,mu,gr)):Fr()}function Pr(){Ud(),document.body.removeEventListener("keydown",Zr),ud("top_bar_clip","icon_center_focus"),rd("label_refresh","icon-refresh",e+Yt),rd("label_controls","icon-question-circle",ln)}function Fr(){Cd(),Eh("blank_focus"),pd(),Br=null,Ar=!1,Zd("stream_table_clip"),Sr=Rr=!1,yr=[],fr=mr=gr=Ir=Er=0,vr=Hr=!(_r=[]),bd(),Dr(),zr()}function Dr(){br=!0,wr=0,Tr=3500}function qr(){1===Or?(document.getElementById("top_bar_clip").innerHTML=H+Jd(se),jr="day"):2===Or?(document.getElementById("top_bar_clip").innerHTML=H+Jd(le),jr="week"):3===Or?(document.getElementById("top_bar_clip").innerHTML=H+Jd(ce),jr="month"):4===Or&&(document.getElementById("top_bar_clip").innerHTML=H+Jd(ue),jr="all"),localStorage.setItem("Clip_periodNumber",Or)}function zr(){try{var e=new XMLHttpRequest;e.open("GET","https://api.twitch.tv/kraken/clips/top?limit="+fu+"&period="+encodeURIComponent(jr)+(null===Br?"":"&cursor="+encodeURIComponent(Br))+"&"+Math.round(1e7*Math.random()),!0),e.timeout=Tr,e.setRequestHeader("Client-ID",Eu),e.setRequestHeader("Accept","application/vnd.twitchtv.v5+json"),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void Ur(e.responseText);Vr()}},e.send(null)}catch(e){Vr()}}function Vr(){++wr<kr?(Tr+=wr<5?250:3500,zr()):(Rr=br=!1,fd(),Ed(M))}function Ur(e){var t=JSON.parse(e),n=t.clips.length;Br=t._cursor,n<fu&&(vr=!0);var i=gr;Mr=!(gr+=n);var o=n/mu;0<n%mu&&o++;for(var r,a,s,l,c=0,u=0;u<o;u++){for(a=i/mu+u,s=document.createElement("tr"),r=0;r<mu&&c<n;r++,c++)Gr((l=t.clips[c]).tracking_id)?r--:(yr.push(l.tracking_id),s.appendChild(wx(a,a+"_"+r,l.thumbnails.medium.split("-preview")[0]+".mp4,"+l.duration+","+l.game+","+l.broadcaster.name+","+l.broadcaster.display_name+","+l.broadcaster.logo.replace("150x150","300x300")+","+l.broadcaster.id,[l.thumbnails.medium,l.broadcaster.display_name,N+Xd(l.created_at),l.title+nn+f+l.game,Rd(l.views)+F,"["+l.language.toUpperCase()+"]",P+Bf(l.duration)],Lr)));for(;r<mu;r++)vr&&!Hr&&(Hr=!0,gr=a*mu+r),s.appendChild(lh(Lr[9]+a+"_"+r)),_r.push(Lr[9]+a+"_"+r);document.getElementById("stream_table_clip").appendChild(s)}Jr()}function Gr(e){for(var t=0;t<yr.length;t++)if(e===yr[t])return Er++,!0;return!1}function Jr(){Mh(function(){if(Ar){if(0<Er&&!vr)return Rr=!0,Dr(),void Xr();Er=0,Rr=br=!(_r=[])}else fd(),Mr?Ed(L+H):(Ar=!0,Yr(),ih(Lr[1],9,Nu,mu)),br=!1})}function Xr(){try{var e=new XMLHttpRequest;e.open("GET","https://api.twitch.tv/kraken/clips/top?channel="+encodeURIComponent(qc)+"&limit="+Er+"&period="+jr+(null===Br?"":"&cursor="+encodeURIComponent(Br))+"&"+Math.round(1e7*Math.random()),!0),e.timeout=Tr,e.setRequestHeader("Client-ID",Eu),e.setRequestHeader("Accept","application/vnd.twitchtv.v5+json"),e.ontimeout=function(){},e.onreadystatechange=function(){4!==e.readyState||200!==e.status||Kr(e.responseText)},e.send(null)}catch(e){Wr()}}function Wr(){++wr<kr?(Tr+=wr<5?250:3500,Xr()):(Sr=!0,Er=0,_r=[],Jr())}function Kr(e){var t,n,i=JSON.parse(e),o=i.clips.length,r=0,a=_r.slice();Br=i._cursor,o<Er&&(Sr=!0);for(var s=0;s<_r.length&&r<o;s++,r++)Gr((t=i.clips[r]).tracking_id)?(Er--,s--):(yr.push(t.tracking_id),Tx(_r[s],t.thumbnails.medium.split("-preview")[0]+".mp4,"+t.duration+","+t.game+","+t.broadcaster.name+","+t.broadcaster.display_name+","+t.broadcaster.logo.replace("150x150","300x300")+","+t.broadcaster.id,[t.thumbnails.medium,t.broadcaster.display_name,N+Xd(t.created_at),t.title+nn+f+t.game,Rd(t.views)+F,"["+t.language.toUpperCase()+"]",P+Bf(t.duration)],Lr),Er--,-1<(n=a.indexOf(a[s]))&&a.splice(n,1));Sr?(Er=0,_r=[]):_r=a,Jr()}function Yr(){bh(fr,mr,Lr,Ac,mu,gr),3<fr&&oh(Lr[1],fr,Nu,mu,4),gr/mu<fr+vu&&!vr&&!Rr&&(Rr=!0,Dr(),zr())}function $r(){kh(fr+"_"+mr,Lr)}function Qr(){Cr=!0}function Zr(e){var t;if(!br||Rr)if(Cr)switch(Cr=!1,window.setTimeout(Qr,xr),e.keyCode){case Nn:Md()?Id():(jc=Hc===Ac?pc:Hc,Pr(),qd());break;case In:if(Fd(fr,mr-1,Lr[0]))$r(),mr--,Yr();else for(t=mu-1;-1<t;t--)if(Fd(fr-1,t,Lr[0])){$r(),fr--,mr=t,Yr();break}break;case Mn:Fd(fr,mr+1,Lr[0])?($r(),mr++,Yr()):Fd(fr+1,0,Lr[0])&&($r(),fr++,mr=0,Yr());break;case Ln:for(t=0;t<mu;t++)if(Fd(fr-1,mr-t,Lr[0])){$r(),fr--,mr-=t,Yr();break}break;case An:for(t=0;t<mu;t++)if(Fd(fr+1,mr-t,Lr[0])){$r(),fr++,mr-=t,Yr();break}break;case Sn:case Tn:Fr();break;case wn:Hc=Ac,jc=pc,Pr(),qd();break;case kn:Hc=Ac,jc=Lc,Pr(),qd();break;case Cn:case En:case xn:case Bn:Qy=document.getElementById(Lr[8]+fr+"_"+mr).getAttribute(Iu).split(","),Dy=parseInt(Qy[1]),Jc=Qy[2],qc=Qy[3],zc=Qy[4],Vc=Qy[5],Xc=Qy[6],Qy=Qy[0],Yy="",Zy=document.getElementById(Lr[4]+fr+"_"+mr).textContent,Xy=document.getElementById(Lr[5]+fr+"_"+mr).textContent,Ky=document.getElementById(Lr[6]+fr+"_"+mr).textContent,e_=document.getElementById(Lr[7]+fr+"_"+mr).textContent,Wy=document.getElementById(Lr[10]+fr+"_"+mr).innerHTML,ea();break;case On:Sd();break;case jn:Pr(),$d();break;case Hn:Rr||(4<++Or&&(Or=1),qr(),Fr());break;case Rn:x_||(Rc=Ac),jc=bc,Pr(),qd()}else e.preventDefault();else e.preventDefault()}function ea(){document.body.addEventListener("keydown",lp,!1),document.body.removeEventListener("keydown",Zr),sd("scene2"),lm(),Zf(),Jf(),Kf(),ad("scene1"),Gh()}var ta=!1,na=0,ia=0,oa=!1,ra=0,aa=[],sa=!1,la=0,ca=10,ua=3500,da=0,ha=[],pa=0,fa=!0,ma=0,va=!1,ga=0,ya=1,_a=!1,ba=!1,wa=!1,ka=["g_thumbdiv","g_img","g_infodiv","g_displayname","g_viwers","g_cell","gempty_"];function Ta(){jc=mc,document.body.addEventListener("keydown",Fa,!1),cd("top_bar_game","icon_center_focus"),ah(na),ta?(Th(ka[0],na,ia,mc,su,ou,!1),wd(ia,na,yu,ra)):Ca()}function Ea(){document.body.removeEventListener("keydown",Fa),ud("top_bar_game","icon_center_focus")}function Ca(){Cd(),ta=!1,Eh("blank_focus"),pd(),Zd("stream_table_games"),wa=!1,_a=va=!(ha=[]),na=ia=ra=ga=pa=da=0,oa=!(aa=[]),bd(),xa(),Sa()}function xa(){sa=!0,la=0,ua=3500}function Sa(){try{var e=new XMLHttpRequest,t=ra+pa;t&&ga-1<t&&(t=ga-gu,va=oa=!0),e.open("GET","https://api.twitch.tv/kraken/games/top?limit="+(gu+(t?0:ya))+"&offset="+t+"&"+Math.round(1e7*Math.random()),!0),e.timeout=ua,e.setRequestHeader("Client-ID",Eu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void Ma(e.responseText);Ia()}},e.send(null)}catch(e){Ia()}}function Ia(){++la<ca?(ua+=la<5?250:3500,Sa()):wa?(va=oa=!(wa=!1),Ba()):(sa=!1,fd(),Ed(M))}function Ma(e){var t=JSON.parse(e),n=t.top.length;if(ga=parseInt(t._total),gu<n)return ya=0,xa(),void Sa();n<gu&&(oa=!0);var i=ra;ba=!(ra+=n);var o=n/yu;0<n%yu&&o++;for(var r,a,s,l,c=0,u=0;u<o;u++){for(a=i/yu+u,s=document.createElement("tr"),r=0;r<yu&&c<n;r++,c++)Aa((l=t.top[c]).game.name)?r--:s.appendChild(La(a,a+"_"+r,[l.game.name,l.game.box.template.replace("{width}x{height}",xu),Rd(l.channels)+" "+E+m+Rd(l.viewers)+q]));for(;r<yu;r++)oa&&!_a&&(_a=!0,ra=a*yu+r),s.appendChild(lh(ka[6]+a+"_"+r)),ha.push(ka[6]+a+"_"+r);document.getElementById("stream_table_games").appendChild(s)}Ba()}function La(e,t,n){return aa.push(n[0]),e<2&&sh(n[1]),mh(t,ka,n)}function Aa(e){for(var t=0;t<aa.length;t++)if(e===aa[t])return da++,!0;return!1}function Ba(){Mh(function(){if(ta){if(0<da&&!oa)return wa=!0,xa(),void Oa();da=0,wa=sa=!(ha=[])}else fd(),ba?Ed(L+$):(ta=!0,Ra(),ih(ka[1],7,Hu,yu)),sa=!1})}function Oa(){try{var e=new XMLHttpRequest;Td(da);var t=ra+pa;t&&ga-1<t&&(t=ga-Tu,va=!0),e.open("GET","https://api.twitch.tv/kraken/games/top?limit="+Tu+"&offset="+t+"&"+Math.round(1e7*Math.random()),!0),e.timeout=ua,e.setRequestHeader("Client-ID",Eu),e.ontimeout=function(){},e.onreadystatechange=function(){4!==e.readyState||200!==e.status||Ha(e.responseText)},e.send(null)}catch(e){ja()}}function ja(){++la<ca?(ua+=la<5?250:3500,Oa()):(va=!0,da=0,ha=[],Ba())}function Ha(e){var t,n,i=JSON.parse(e),o=i.top.length,r=0,a=ha.slice();ga=parseInt(i._total),o<gu&&(va=!0);for(var s=0;s<ha.length&&r<o;s++,r++)Aa((t=i.top[r]).game.name)?(da--,s--):(aa.push(t.game.name),vh(ha[s],[t.game.name,t.game.box.template.replace("{width}x{height}",xu),Rd(t.channels)+" "+E+m+Rd(t.viewers)+q],ka),da--,-1<(n=a.indexOf(a[s]))&&a.splice(n,1));pa+=r,va?(da=0,ha=[]):ha=a,Ba()}function Ra(){wh(na,ia,ka,mc,yu,ra),2<na&&oh(ka[1],na,Hu,yu,3),ra/yu<na+_u&&!oa&&!wa&&(wa=!0,xa(),Sa())}function Na(){kh(na+"_"+ia,ka)}function Pa(){fa=!0}function Fa(e){var t;if(sa&&!wa||!fa)e.preventDefault();else switch(fa=!1,window.setTimeout(Pa,ma),e.keyCode){case Nn:Md()?Id():Bd()?Ad():(jc=jc===Hc||Hc===vc||Hc===bc?pc:Hc,Ea(),qd());break;case In:if(Fd(na,ia-1,ka[0]))Na(),ia--,Ra();else for(t=yu-1;-1<t;t--)if(Fd(na-1,t,ka[0])){Na(),na--,ia=t,Ra();break}break;case Mn:Fd(na,ia+1,ka[0])?(Na(),ia++,Ra()):Fd(na+1,0,ka[0])&&(Na(),na++,ia=0,Ra());break;case Ln:for(t=0;t<yu;t++)if(Fd(na-1,ia-t,ka[0])){Na(),na--,ia-=t,Ra();break}break;case An:for(t=0;t<yu;t++)if(Fd(na+1,ia-t,ka[0])){Na(),na++,ia-=t,Ra();break}break;case Sn:case Tn:wa||Ca();break;case wn:Hc=mc,jc=Lc,Ea(),qd();break;case kn:Hc=mc,jc=bo()?xc:fc,Ea(),qd();break;case Cn:case En:case xn:case Bn:wa||(Jc=document.getElementById(ka[5]+na+"_"+ia).getAttribute(Iu),document.body.removeEventListener("keydown",Fa),Pc=jc,jc=vc,Vo=!(Dc=!0),Ea(),qd());break;case On:Sd();break;case jn:Ea(),$d();break;case Hn:Ld();break;case Rn:Rc=mc,jc=bc,Ea(),qd()}}var Da=0,qa=0,za=!1,Va=0,Ua=[],Ga=[],Ja=!1,Xa=0,Wa=10,Ka=3500,Ya=0,$a=!0,Qa=25,Za=!1,es=0,ts=!1,ns=["gc_thumbdiv","gc_img","gc_infodiv","gc_title","gc_createdon","gc_game","gc_viwers","gc_duration","gc_cell","gcpempty_","gc_lang"],is=!1,os=null,rs=2,as="week",ss=!1,ls=!1,cs="";function us(){jc=Oc,fs(),cd("top_bar_game","icon_center_focus"),rd("label_controls","icon-arrow-circle-left",x),rd("label_switch","icon-calendar",c+Zt),document.body.addEventListener("keydown",xs,!1),ah(Da),cs===Jc&&is?(Th(ns[0],Da,qa,Oc,ru,iu,!1),wd(qa,Da,mu,Va)):hs()}function ds(){document.body.removeEventListener("keydown",xs),ud("top_bar_game","icon_center_focus"),document.getElementById("top_bar_game").innerHTML=p,rd("label_controls","icon-question-circle",ln),rd("label_switch","icon-switch",s)}function hs(){cs=Jc,Cd(),Eh("blank_focus"),pd(),os=null,is=!1,Zd("stream_table_gclip"),Za=ls=!1,Ua=[],Da=qa=Va=es=Ya=0,za=ss=!(Ga=[]),bd(),ps(),ms()}function ps(){Ja=!0,Xa=0,Ka=3500}function fs(){1===rs?(document.getElementById("top_bar_game").innerHTML=_+Jd(H+se+": "+Jc),as="day"):2===rs?(document.getElementById("top_bar_game").innerHTML=_+Jd(H+le+": "+Jc),as="week"):3===rs?(document.getElementById("top_bar_game").innerHTML=_+Jd(H+ce+": "+Jc),as="month"):4===rs&&(document.getElementById("top_bar_game").innerHTML=_+Jd(H+ue+": "+Jc),as="all"),localStorage.setItem("Gclip_periodNumber",rs)}function ms(){try{var e=new XMLHttpRequest;e.open("GET","https://api.twitch.tv/kraken/clips/top?game="+encodeURIComponent(Jc)+"&limit="+fu+"&period="+encodeURIComponent(as)+(null===os?"":"&cursor="+encodeURIComponent(os))+"&"+Math.round(1e7*Math.random()),!0),e.timeout=Ka,e.setRequestHeader("Client-ID",Eu),e.setRequestHeader("Accept","application/vnd.twitchtv.v5+json"),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void gs(e.responseText);vs()}},e.send(null)}catch(e){vs()}}function vs(){++Xa<Wa?(Ka+=Xa<5?250:3500,ms()):(ls=Ja=!1,fd(),Ed(M))}function gs(e){var t=JSON.parse(e),n=t.clips.length;os=t._cursor,n<fu&&(za=!0);var i=Va;ts=!(Va+=n);var o=n/mu;0<n%mu&&o++;for(var r,a,s,l,c=0,u=0;u<o;u++){for(a=i/mu+u,s=document.createElement("tr"),r=0;r<mu&&c<n;r++,c++)ys((l=t.clips[c]).tracking_id)?r--:(Ua.push(l.tracking_id),s.appendChild(wx(a,a+"_"+r,l.thumbnails.medium.split("-preview")[0]+".mp4,"+l.duration+","+l.game+","+l.broadcaster.name+","+l.broadcaster.display_name+","+l.broadcaster.logo.replace("150x150","300x300")+","+l.broadcaster.id,[l.thumbnails.medium,l.broadcaster.display_name,N+Xd(l.created_at),l.title+nn+f+l.game,Rd(l.views)+F,"["+l.language.toUpperCase()+"]",P+Bf(l.duration)],ns)));for(;r<mu;r++)za&&!ss&&(ss=!0,Va=a*mu+r),s.appendChild(lh(ns[9]+a+"_"+r)),Ga.push(ns[9]+a+"_"+r);document.getElementById("stream_table_gclip").appendChild(s)}_s()}function ys(e){for(var t=0;t<Ua.length;t++)if(e===Ua[t])return Ya++,!0;return!1}function _s(){Mh(function(){if(is){if(0<Ya&&!za)return ls=!0,ps(),void bs();Ya=0,ls=Ja=!(Ga=[])}else fd(),ts?Ed(L+H):(is=!0,Ts(),ih(ns[1],9,Nu,mu)),Ja=!1})}function bs(){try{var e=new XMLHttpRequest;e.open("GET","https://api.twitch.tv/kraken/clips/top?game="+encodeURIComponent(Jc)+"&limit="+fu+"&period="+encodeURIComponent(as)+(null===os?"":"&cursor="+encodeURIComponent(os))+"&"+Math.round(1e7*Math.random()),!0),e.timeout=Ka,e.setRequestHeader("Client-ID",Eu),e.setRequestHeader("Accept","application/vnd.twitchtv.v5+json"),e.ontimeout=function(){},e.onreadystatechange=function(){4!==e.readyState||200!==e.status||ks(e.responseText)},e.send(null)}catch(e){ws()}}function ws(){++Xa<Wa?(Ka+=Xa<5?250:3500,bs()):(Za=!0,Ya=0,Ga=[],_s())}function ks(e){var t,n,i=JSON.parse(e),o=i.clips.length,r=0,a=Ga.slice();os=i._cursor,o<Ya&&(Za=!0);for(var s=0;s<Ga.length&&r<o;s++,r++)ys((t=i.clips[r]).tracking_id)?(Ya--,s--):(Ua.push(t.tracking_id),Tx(Ga[s],t.thumbnails.medium.split("-preview")[0]+".mp4,"+t.duration+","+t.game+","+t.broadcaster.name+","+t.broadcaster.display_name+","+t.broadcaster.logo.replace("150x150","300x300")+","+t.broadcaster.id,[t.thumbnails.medium,t.broadcaster.display_name,N+Xd(t.created_at),t.title+nn+f+t.game,Rd(t.views)+F,"["+t.language.toUpperCase()+"]",P+Bf(t.duration)],ns),Ya--,-1<(n=a.indexOf(a[s]))&&a.splice(n,1));Za?(Ya=0,Ga=[]):Ga=a,_s()}function Ts(){bh(Da,qa,ns,Oc,mu,Va),3<Da&&oh(ns[1],Da,Nu,mu,4),Va/mu<Da+vu&&!za&&!ls&&(ls=!0,ps(),ms())}function Es(){kh(Da+"_"+qa,ns)}function Cs(){$a=!0}function xs(e){var t;if(!Ja||ls)if($a)switch($a=!1,window.setTimeout(Cs,Qa),e.keyCode){case Nn:Md()?Id():Bd()?Ad():(jc=vc,ds(),qd());break;case In:if(Fd(Da,qa-1,ns[0]))Es(),qa--,Ts();else for(t=mu-1;-1<t;t--)if(Fd(Da-1,t,ns[0])){Es(),Da--,qa=t,Ts();break}break;case Mn:Fd(Da,qa+1,ns[0])?(Es(),qa++,Ts()):Fd(Da+1,0,ns[0])&&(Es(),Da++,qa=0,Ts());break;case Ln:for(t=0;t<mu;t++)if(Fd(Da-1,qa-t,ns[0])){Es(),Da--,qa-=t,Ts();break}break;case An:for(t=0;t<mu;t++)if(Fd(Da+1,qa-t,ns[0])){Es(),Da++,qa-=t,Ts();break}break;case Sn:case Tn:hs();break;case wn:ls||(4<++rs&&(rs=1),fs(),hs());break;case kn:ls||(--rs<1&&(rs=4),fs(),hs());break;case Cn:case En:case xn:case Bn:Qy=document.getElementById(ns[8]+Da+"_"+qa).getAttribute(Iu).split(","),SGclip_DurationSeconds=parseInt(Qy[1]),Jc=Qy[2],qc=Qy[3],zc=Qy[4],Vc=Qy[5],Xc=Qy[6],Qy=Qy[0],Yy="",Zy=document.getElementById(ns[4]+Da+"_"+qa).textContent,Xy=document.getElementById(ns[5]+Da+"_"+qa).textContent,Ky=document.getElementById(ns[6]+Da+"_"+qa).textContent,e_=document.getElementById(ns[7]+Da+"_"+qa).textContent,Wy=document.getElementById(ns[10]+Da+"_"+qa).innerHTML,Ss();break;case On:Sd();break;case jn:ds(),$d();break;case Hn:Ld();break;case Rn:x_||(Rc=Oc),jc=bc,ds(),qd()}else e.preventDefault();else e.preventDefault()}function Ss(){document.body.addEventListener("keydown",lp,!1),document.body.removeEventListener("keydown",xs),sd("scene2"),lm(),Zf(),Jf(),Kf(),ad("scene1"),Gh()}var Is=0,Ms=0,Ls=!1,As=0,Bs=[],Os=[],js=!1,Hs=0,Rs=10,Ns=3500,Ps=0,Fs=0,Ds=!0,qs=25,zs=!1,Vs=0,Us=!1,Gs=!1,Js="week",Xs=2,Ws=!1,Ks=["gv_thumbdiv","gv_img","gv_infodiv","gv_title","gv_streamon","gv_duration","gv_viwers","gv_quality","gv_cell","gsvempty_","gv_game"],Ys=!1,$s=!1,Qs=!1,Zs="";function el(){jc=Bc,cd("top_bar_game","icon_center_focus"),document.body.addEventListener("keydown",ml,!1),rd("label_controls","icon-arrow-circle-left",x),rd("label_refresh","icon-refresh",l+Yt),rd("label_switch","icon-calendar",c+Zt),ah(Is),Zs===Jc&&Ys?(Th(Ks[0],Is,Ms,Bc,ru,iu,!1),wd(Ms,Is,mu,As),gl()):nl()}function tl(){document.body.removeEventListener("keydown",ml),ud("top_bar_game","icon_center_focus"),document.getElementById("top_bar_game").innerHTML=p,rd("label_controls","icon-question-circle",ln),rd("label_refresh","icon-refresh",e+Yt),rd("label_switch","icon-switch",s)}function nl(){Zs=Jc,gl(),Cd(),Ys=!1,Eh("blank_focus"),pd(),Zd("stream_table_gvod"),zs=Qs=!1,Bs=[],Is=Ms=As=Vs=Fs=Ps=0,Ls=Gs=!(Os=[]),bd(),il(),ol()}function il(){js=!0,Hs=0,Ns=3500}function ol(){try{var e=new XMLHttpRequest,t=As+Fs;t&&Vs-1<t&&(t=Vs-fu,zs=Ls=!0),e.open("GET","https://api.twitch.tv/kraken/videos/top?game="+encodeURIComponent(Jc)+"&limit="+fu+"&broadcast_type="+($s?"highlight":"archive")+"&sort=views&offset="+t+"&period="+Js+"&"+Math.round(1e7*Math.random()),!0),e.timeout=Ns,e.setRequestHeader("Client-ID",Eu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void al(e.responseText);rl()}},e.send(null)}catch(e){rl()}}function rl(){++Hs<Rs?(Ns+=Hs<5?250:3500,ol()):(Qs=js=!1,fd(),Ed(M))}function al(e){var t=JSON.parse(e),n=t.videos.length;Vs=parseInt(t._total),n<fu&&(Ls=!0);var i=As;Us=!(As+=n);var o=n/mu;0<n%mu&&o++;for(var r,a,s,l,c=0,u=0;u<o;u++){for(a=i/mu+u,s=document.createElement("tr"),r=0;r<mu&&c<n;r++,c++)l=t.videos[c],-1!==(JSON.stringify(l.preview)+"").indexOf("404_processing_320x240.png")?(Ps++,r--):sl(l._id)?r--:(Bs.push(l._id),s.appendChild(wx(a,a+"_"+r,l._id+","+l.length+","+l.language+","+l.game+","+l.channel.name,[l.preview.replace("320x240",Cu),l.channel.display_name,N+Xd(l.created_at),l.title+nn+Qt+f+l.game,Rd(l.views)+F,Nd(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.language),P+Bf(l.length)],Ks)));for(;r<mu;r++)Ls&&!Gs&&(Gs=!0,As=a*mu+r),s.appendChild(lh(Ks[9]+a+"_"+r)),Os.push(Ks[9]+a+"_"+r);document.getElementById("stream_table_gvod").appendChild(s)}ll()}function sl(e){for(var t=0;t<Bs.length;t++)if(e===Bs[t])return Ps++,!0;return!1}function ll(){Mh(function(){if(Ys){if(0<Ps&&!Ls)return Qs=!0,il(),void cl();Ps=0,Qs=js=!(Os=[])}else fd(),Us?Ed(L+($s?j:O)+A+C):(Ys=!0,hl(),ih(Ks[1],9,Nu,mu)),js=!1})}function cl(){try{var e=new XMLHttpRequest;Td(Ps);var t=As+Fs;t&&Vs-1<t&&(t=Vs-Tu,zs=!0),e.open("GET","https://api.twitch.tv/kraken/videos/top?game="+encodeURIComponent(Jc)+"&limit="+fu+"&broadcast_type="+($s?"highlight":"archive")+"&sort=views&offset="+t+"&period="+Js+"&"+Math.round(1e7*Math.random()),!0),e.timeout=Ns,e.setRequestHeader("Client-ID",Eu),e.ontimeout=function(){},e.onreadystatechange=function(){4!==e.readyState||200!==e.status||dl(e.responseText)},e.send(null)}catch(e){ul()}}function ul(){++Hs<Rs?(Ns+=Hs<5?250:3500,cl()):(zs=!0,Ps=0,Os=[],ll())}function dl(e){var t,n,i=JSON.parse(e),o=i.videos.length,r=0,a=Os.slice();Vs=parseInt(i._total),o<fu&&(zs=!0);for(var s=0;s<Os.length&&r<o;s++,r++)t=i.videos[r],-1!==(JSON.stringify(t.preview)+"").indexOf("404_processing_320x240.png")?s--:sl(t._id)?(Ps--,s--):(Bs.push(t._id),Tx(Os[s],t._id+","+t.length+","+t.language+","+t.game+","+t.channel.name,[t.preview.replace("320x240",Cu),t.channel.display_name,N+Xd(t.created_at),t.title+nn+Qt+f+t.game,Rd(t.views)+F,Nd(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.language),P+Bf(t.length)],Ks),Ps--,-1<(n=a.indexOf(a[s]))&&a.splice(n,1));Fs+=r,zs?(Ps=0,Os=[]):Os=a,ll()}function hl(){bh(Is,Ms,Ks,Bc,mu,As),3<Is&&oh(Ks[1],Is,Nu,mu,4),As/mu<Is+vu&&!Ls&&!Qs&&(Qs=!0,il(),ol())}function pl(){kh(Is+"_"+Ms,Ks)}function fl(){Ds=!0}function ml(e){var t;if(!js||Qs)if(Ds)switch(Ds=!1,window.setTimeout(fl,qs),e.keyCode){case Nn:Md()?Id():Bd()?Ad():(jc=vc,tl(),qd());break;case In:if(Fd(Is,Ms-1,Ks[0]))pl(),Ms--,hl();else for(t=mu-1;-1<t;t--)if(Fd(Is-1,t,Ks[0])){pl(),Is--,Ms=t,hl();break}break;case Mn:Fd(Is,Ms+1,Ks[0])?(pl(),Ms++,hl()):Fd(Is+1,0,Ks[0])&&(pl(),Is++,Ms=0,hl());break;case Ln:for(t=0;t<mu;t++)if(Fd(Is-1,Ms-t,Ks[0])){pl(),Is--,Ms-=t,hl();break}break;case An:for(t=0;t<mu;t++)if(Fd(Is+1,Ms-t,Ks[0])){pl(),Is++,Ms-=t,hl();break}break;case wn:Qs||(4<++Xs&&(Xs=1),nl());break;case kn:Qs||(--Xs<1&&(Xs=4),nl());break;case Sn:case Tn:Qs||($s=!$s,localStorage.setItem("Gvod_highlight",$s?"true":"false"),nl());break;case Cn:case En:case xn:case Bn:Gw=document.getElementById(Ks[8]+Is+"_"+Ms).getAttribute(Iu).split(","),Rw=parseInt(Gw[1]),Fw=Gw[2],Dw=Gw[3],qc=Gw[4],Gw=Gw[0].substr(1),Jw="",zc=document.getElementById(Ks[3]+Is+"_"+Ms).textContent,Ww=document.getElementById(Ks[4]+Is+"_"+Ms).textContent,Kw=document.getElementById(Ks[5]+Is+"_"+Ms).textContent,Xw=document.getElementById(Ks[10]+Is+"_"+Ms).innerHTML+", "+document.getElementById(Ks[6]+Is+"_"+Ms).textContent,vl();break;case On:Sd();break;case jn:tl(),$d();break;case Hn:Ld();break;case Rn:x_||(Rc=Bc),jc=bc,tl(),qd()}else e.preventDefault();else e.preventDefault()}function vl(){document.body.addEventListener("keydown",Uv,!1),document.body.removeEventListener("keydown",ml),sd("scene2"),Hv(),lm(),Zf(),Jf(),Kf(),Ws=!0,ad("scene1"),fv()}function gl(){1===Xs?(document.getElementById("top_bar_game").innerHTML=_+Jd(($s?j:O)+se+": "+Jc),Js="day"):2===Xs?(document.getElementById("top_bar_game").innerHTML=_+Jd(($s?j:O)+le+": "+Jc),Js="week"):3===Xs?(document.getElementById("top_bar_game").innerHTML=_+Jd(($s?j:O)+ce+": "+Jc),Js="month"):4===Xs&&(document.getElementById("top_bar_game").innerHTML=_+Jd(($s?j:O)+ue+": "+Jc),Js="all"),localStorage.setItem("Gvod_periodNumber",Xs)}var yl=!1,_l=["l_thumbdiv","l_img","l_infodiv","l_displayname","l_streamtitle","l_streamgame","l_viwers","l_quality","l_cell","lempty_"],bl=0,wl=0,kl=0,Tl=!1,El=0,Cl=[],xl=!1,Sl=0,Il=10,Ml=3500,Ll=0,Al=[],Bl=0,Ol=!0,jl=25,Hl=!1,Rl=0,Nl=!1,Pl=!1,Fl=0,Dl=!1,ql=!1;function zl(){jc=pc,cd("top_bar_live","icon_center_focus"),document.body.addEventListener("keydown",rc,!1),ah(bl),yl?(Th(_l[0],bl,wl,pc,ru,iu,!1),wd(wl,bl,mu,El)):Ul()}function Vl(){document.body.removeEventListener("keydown",rc),ud("top_bar_live","icon_center_focus"),yd()}function Ul(){Cd(),yl=!1,Eh("blank_focus"),pd(),Zd("stream_table_live"),ql=!1,Pl=Hl=!(Al=[]),Fl=bl=wl=El=Rl=Bl=Ll=0,Tl=!(Cl=[]),bd(),Gl(),Jl()}function Gl(){xl=!0,Sl=0,Ml=3500}function Jl(){try{var e=new XMLHttpRequest,t=El+Bl;t&&Rl-1<t&&(t=Rl-fu,Hl=Tl=!0),e.open("GET","https://api.twitch.tv/kraken/streams?limit="+fu+"&offset="+t+"&"+Math.round(1e7*Math.random()),!0),e.timeout=Ml,e.setRequestHeader("Client-ID",Eu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void Wl(e.responseText);Xl()}},e.send(null)}catch(e){Xl()}}function Xl(){++Sl<Il?(Ml+=Sl<5?250:3500,Jl()):ql?(Hl=Tl=!(ql=!1),$l()):(xl=!1,fd(),Ed(M))}function Wl(e){var t=JSON.parse(e),n=t.streams.length;Rl=parseInt(t._total),n<fu&&(Tl=!0);var i=El;Dl=!(El+=n);var o=n/mu;0<n%mu&&o++;for(var r,a,s,l,c=0,u=0;u<o;u++){for(a=i/mu+u,s=document.createElement("tr"),r=0;r<mu&&c<n;r++,c++)Yl((l=t.streams[c]).channel.name)?r--:s.appendChild(Kl(a,a+"_"+r,l.channel.name,[l.preview.template.replace("{width}x{height}",Cu),Pd(JSON.stringify(l.stream_type))+l.channel.display_name,l.channel.status,l.game,g+jf(l.created_at)+y+", "+m+Rd(l.viewers)+q,Nd(l.video_height,l.average_fps,l.channel.language)]));for(;r<mu;r++)Tl&&!Pl&&(Pl=!0,El=a*mu+r),s.appendChild(lh(_l[9]+a+"_"+r)),Al.push(_l[9]+a+"_"+r);document.getElementById("stream_table_live").appendChild(s)}$l()}function Kl(e,t,n,i){return Cl.push(n),e<mu&&sh(i[0]),hh(n,t,_l,i)}function Yl(e){for(var t=0;t<Cl.length;t++)if(e===Cl[t])return Ll++,!0;return!1}function $l(){Mh(function(){if(yl){if(0<Ll&&!Tl)return ql=!0,Gl(),void Ql();Ll=0,ql=xl=!(Al=[])}else fd(),sd("topbar"),Dl?Ed(L+K):(yl=!0,ih(_l[1],9,Nu,mu),tc()),xl=!1,Nl||(Nl=!0,Yd()&&Od(),document.getElementById("oauth").style.display="block",document.getElementById("search").style.display="block",document.getElementById("add_user").style.display="block")})}function Ql(){try{var e=new XMLHttpRequest;Td(Ll);var t=El+Bl;t&&Rl-1<t&&(t=Rl-Tu,Hl=!0),e.open("GET","https://api.twitch.tv/kraken/streams?limit="+Tu+"&offset="+t+"&"+Math.round(1e7*Math.random()),!0),e.timeout=Ml,e.setRequestHeader("Client-ID",Eu),e.ontimeout=function(){},e.onreadystatechange=function(){4!==e.readyState||200!==e.status||ec(e.responseText)},e.send(null)}catch(e){Zl()}}function Zl(){++Sl<Il?(Ml+=Sl<5?250:3500,Ql()):(Hl=!0,Ll=0,Al=[],$l())}function ec(e){var t,n,i=JSON.parse(e),o=i.streams.length,r=0,a=Al.slice();Rl=parseInt(i._total),o<fu&&(Hl=!0);for(var s=0;s<Al.length&&r<o;s++,r++)Yl((t=i.streams[r]).channel.name)?(Ll--,s--):(Cl.push(t.channel.name),ph(Al[s],t.channel.name,[t.preview.template.replace("{width}x{height}",Cu),Pd(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,g+jf(t.created_at)+y+", "+m+Rd(t.viewers)+q,Nd(t.video_height,t.average_fps,t.channel.language)],_l),Ll--,-1<(n=a.indexOf(a[s]))&&a.splice(n,1));Bl+=r,Hl?(Ll=0,Al=[]):Al=a,$l()}function tc(){bh(bl,wl,_l,pc,mu,El),3<bl&&oh(_l[1],bl,Nu,mu,4),El/mu<bl+vu&&!Tl&&!ql&&(ql=!0,Gl(),Jl())}function nc(){kh(bl+"_"+wl,_l)}function ic(){ud("exit_app_cancel","button_search_focused"),ud("exit_app_minimize","button_search_focused"),ud("exit_app_close","button_search_focused"),cd(kl?1===kl?"exit_app_minimize":"exit_app_close":"exit_app_cancel","button_search_focused")}function oc(){Ol=!0}function rc(e){var t;if(xl&&!ql||!Ol)e.preventDefault();else switch(Ol=!1,window.setTimeout(oc,jl),e.keyCode){case Nn:Md()?Id():Hd()?jd():Bd()?Ad():_d()?yd():gd();break;case In:if(_d())--kl<0&&(kl=2),ic(),md(),vd();else if(Fd(bl,wl-1,_l[0]))nc(),wl--,tc();else for(t=mu-1;-1<t;t--)if(Fd(bl-1,t,_l[0])){nc(),bl--,wl=t,tc();break}break;case Mn:_d()?(2<++kl&&(kl=0),ic(),md(),vd()):Fd(bl,wl+1,_l[0])?(nc(),wl++,tc()):Fd(bl+1,0,_l[0])&&(nc(),bl++,wl=0,tc());break;case Ln:if(!_d())for(t=0;t<mu;t++)if(Fd(bl-1,wl-t,_l[0])){nc(),bl--,wl-=t,tc();break}break;case An:if(!_d())for(t=0;t<mu;t++)if(Fd(bl+1,wl-t,_l[0])){nc(),bl++,wl-=t,tc();break}break;case Sn:case Tn:ql||Ul();break;case wn:ql||(Hc=pc,jc=bo()?xc:fc,Vl(),qd());break;case kn:ql||(Hc=pc,jc=Ac,Vl(),qd());break;case Cn:case En:case xn:case Bn:if(_d()){var n=kl;yd();try{1===n?tizen.application.getCurrentApplication().hide():2===n&&tizen.application.getCurrentApplication().exit()}catch(e){}}else Qp=document.getElementById(_l[8]+bl+"_"+wl).getAttribute(Iu),Zp=document.getElementById(_l[3]+bl+"_"+wl).textContent,document.body.removeEventListener("keydown",rc),Vd();break;case On:Sd();break;case jn:break;case Hn:Ld();break;case Rn:Rc=pc,jc=bc,Vl(),qd()}}var ac,sc,lc,cc,uc=!0,dc=-1,hc=new Image,pc=1,fc=2,mc=3,vc=4,gc=5,yc=6,_c=7,bc=8,wc=9,kc=10,Tc=11,Ec=12,Cc=13,xc=14,Sc=15,Ic=16,Mc=17,Lc=18,Ac=19,Bc=20,Oc=21,jc=1,Hc=1,Rc=1,Nc=1,Pc=1,Fc=!1,Dc=!1,qc="",zc="",Vc="",Uc=null,Gc=null,Jc="",Xc="",Wc=null,Kc=null,Yc="",$c=!0,Qc=!0,Zc=!1,eu="",tu="",nu=!1,iu=275,ou=523,ru=372,au=464,su=567,lu=92,cu=60,uu=100,du=83,hu=1.35,pu=1.5,fu=99,mu=3,vu=Math.floor(fu/mu/pu),gu=95,yu=5,_u=Math.floor(gu/yu/hu),bu=96,wu=6,ku=Math.floor(bu/wu/pu),Tu=6,Eu="ypvnuqrh98wqz1sr0ov3fgfu4jh1yx",Cu="528x297",xu="340x475",Su="stream_thumbnail_focused",Iu="data_attribute",Mu=400,Lu="4.0.0",Au="",Bu="051018",Ou="",ju="https://bhb27.github.io/smarttv-twitch/release/githubio/images/",Hu=ju+"404_game.png",Ru=ju+"404_logo.png",Nu=ju+"404_video.png",Pu=ju+"blur_game.png",Fu=ju+"blur_video_1.png",Du=ju+"blur_video_2.png",qu=ju+"blur_video_1_16.png",zu=ju+"blur_video_2_16.png",Vu=ju+"blur_vod.png",Uu=ju+"user_minus.png",Gu=ju+"user_plus.png",Ju=ju+"user_up.png",Xu=ju+"user_code.png",Wu=ju+"ch_logo.png",Ku=ju+"temp.mp4",Yu=ju+"smart_live.png",$u=ju+"smart_games.png",Qu=ju+"smart_users.png",Zu=ju+"smart_add_user.png",ed=function(e,t,n){e.onerror=function(){this.src=n},e.src=t},td=function(e,t){e.onerror=function(){this.src=t},e.src=e.getAttribute("data-src"),e.removeAttribute("data-src")},nd=function(e){e.setAttribute("data-src",e.getAttribute("src")),e.removeAttribute("src")};function id(e){var t=e.language.split(".")[0];-1!==t.indexOf("pt_")?(bn(),nu=!0):console.log("language is "+t),_n(),Sh(),Mh(function(){uc?document.body.innerHTML=n:dn=dn+nn+yh(),Mh(od)})}function od(){rd("label_refresh","icon-refresh",e+Yt),rd("label_search","icon-search",cn),rd("label_switch","icon-switch",s),rd("label_controls","icon-question-circle",ln),rd("label_about","icon-info-circle",un),document.getElementById("top_bar_live").innerHTML=h,document.getElementById("top_bar_user").innerHTML=d,document.getElementById("top_bar_game").innerHTML=p,document.getElementById("top_bar_vod").innerHTML=en,document.getElementById("top_bar_clip").innerHTML=H,document.getElementById("chanel_button").innerHTML=E,document.getElementById("game_button").innerHTML=p,document.getElementById("live_button").innerHTML=h,document.getElementById("exit_app_cancel").innerHTML=X,document.getElementById("exit_app_close").innerHTML=G,document.getElementById("remove_cancel").innerHTML=X,document.getElementById("remove_yes").innerHTML=Gt,document.getElementById("exit_app_minimize").innerHTML=J,document.getElementById("main_dialog_exit_text").innerHTML=V,document.getElementById("dialog_about_text").innerHTML=hn+pn,document.getElementById("dialog_controls_text").innerHTML=dn,ac=document.getElementById("scrollbar"),sc=document.getElementById("search_input"),lc=document.getElementById("user_input"),cc=document.getElementById("oauth_input"),uT="true"===(localStorage.getItem("user_Games_live")||"true"),hx="true"===(localStorage.getItem("Vod_highlight")||"false"),Vw="true"===(localStorage.getItem("Svod_highlight")||"false"),$s="true"===(localStorage.getItem("Gvod_highlight")||"false"),cx=parseInt(localStorage.getItem("vod_periodNumber"))||2,Gy=parseInt(localStorage.getItem("sclip_periodNumber"))||2,Or=parseInt(localStorage.getItem("Clip_periodNumber"))||2,rs=parseInt(localStorage.getItem("Gclip_periodNumber"))||2,Xs=parseInt(localStorage.getItem("Gvod_periodNumber"))||2,Mh(function(){cf(),fo(),zl(),sh(Nu),sh(Hu),sh(Ru),sh(Pu),sh(Fu),sh(Du),sh(qu),sh(zu),sh(Vu),sh(Uu),sh(Gu),sh(Ju),sh(Xu),window.setTimeout(Wd,5e3)})}function rd(e,t,n){document.getElementById(e).innerHTML='<div style="vertical-align: middle; display: inline-block;"><i class="'+t+'" style="color: #FFFFFF; font-size: 115%; "></i></div><div style="vertical-align: middle; display: inline-block">'+gn+n+"</div>"}function ad(e){document.getElementById(e).classList.add("hide")}function sd(e){document.getElementById(e).classList.remove("hide")}function ld(e){return-1===document.getElementById(e).className.indexOf("hide")}function cd(e,t){document.getElementById(e).classList.add(t)}function ud(e,t){document.getElementById(e).classList.remove(t)}function dd(e,t){document.getElementById(e).style.border=t}function hd(e,t){document.getElementById(e).style.backgroundColor=t}function pd(){yd(),sd("dialog_loading")}function fd(){ad("dialog_loading")}function md(){window.clearTimeout(Gc)}function vd(){Gc=window.setTimeout(yd,6e3)}function gd(){vd(),sd("main_dialog_exit")}function yd(){md(),ad("main_dialog_exit"),kl=0,ic()}function _d(){return ld("main_dialog_exit")}function bd(){Zd("dialog_counter_text"),kd(0,0,0)}function wd(e,t,n,i){0<i?(document.getElementById("dialog_counter_text").innerHTML=t*n+(e+1)+"/"+i,kd(t,n,i)):bd()}function kd(e,t,n){if(3===t&&9<n||5===t&&10<n||6===t&&12<n){var i=Math.ceil(900/(Math.ceil(n/t)-1)*e+100);ac.style.top=i+"px",$c&&($c=!1,ac.style.backgroundColor="#777777")}else ac.style.backgroundColor="#000000",ac.style.top="100px",$c=!0}function Td(e){(Tu=12)/3<e&&(Tu=3*e),99<Tu&&(Tu=99)}function Ed(e){Qc||e!==M||(Zc=!0),document.getElementById("dialog_warning_text").innerHTML=Qc?e:Dt,sd("dialog_warning")}function Cd(){ad("dialog_warning")}function xd(){return ld("dialog_warning")}function Sd(){yd(),Ad(),jd(),sd("dialog_about")}function Id(){ad("dialog_about")}function Md(){return ld("dialog_about")}function Ld(){yd(),Id(),jd(),sd("dialog_controls")}function Ad(){ad("dialog_controls")}function Bd(){return ld("dialog_controls")}function Od(){yd(),Id(),Ad(),sd("dialog_update")}function jd(){ad("dialog_update")}function Hd(){return ld("dialog_update")}function Rd(e){return(e+"").replace(/\B(?=(\d{3})+(?!\d))/g,",")}function Nd(e,t,n){return(e+="").indexOf("x")||(e=e.slice(-3)),e+"p"+(t=58<t?60:t<32?30:Math.ceil(t))+(""!==n?" ["+n.toUpperCase()+"]":"")}function Pd(e){return-1!==e.indexOf("live")?"":W}function Fd(e,t,n){return null!==document.getElementById(n+e+"_"+t,0)}function Dd(){nm(),qd(),webapis.appcommon.setScreenSaver(webapis.appcommon.AppCommonScreenSaverState.SCREEN_SAVER_ON)}function qd(){Eh("blank_focus"),Qc&&Cd(),jc!==Tc&&jc!==vc&&(Fc=Dc=!1),bd(),jc===pc?zl():jc===fc?oo():jc===mc?Ta():jc===vc?Go():jc===bc?S_():jc===wc?eb():jc===kc?Hb():jc===Tc?fg():jc===Ec?$w():jc===Cc?i_():jc===xc?wC():jc===gc?zE():jc===yc?eE():jc===_c?mT():jc===Sc?Bk():jc===Ic?sy():jc===Lc?fx():jc===Ac?Nr():jc===Bc?el():jc===Oc?us():zl()}function zd(e){e===pc?Vl():e===fc?ro():e===mc?Ea():e===vc?Jo():e===bc?I_():e===wc?tb():e===kc?Rb():e===Tc?mg():e===Ec?Qw():e===Cc?o_():e===xc?kC():e===gc?VE():e===yc?tE():e===_c?vT():e===Sc?Ok():e===Ic?ly():e===Lc?mx():e===Ac?Pr():e===Bc?tl():e===Oc&&ds()}function Vd(){document.body.addEventListener("keydown",xm,!1),sd("scene2"),im(),lm(),ad("scene1"),uf()}function Ud(){rd("label_refresh","icon-refresh",e+Yt),rd("label_search","icon-search",cn),rd("label_switch","icon-switch",s),rd("label_controls","icon-question-circle",ln),ud("top_bar_user","icon_center_focus"),document.getElementById("top_bar_live").innerHTML=h,document.getElementById("top_bar_user").innerHTML=d,document.getElementById("top_bar_game").innerHTML=p,document.getElementById("top_bar_vod").innerHTML=en,document.getElementById("top_bar_clip").innerHTML=H}function Gd(){rd("label_controls","icon-arrow-circle-left",x),Zd("label_switch"),Zd("top_bar_live"),Zd("top_bar_game"),Zd("top_bar_vod"),Zd("top_bar_clip"),cd("top_bar_user","icon_center_focus")}function Jd(e){return'<div style="font-size: 30%; position: fixed; line-height: 0; text-shadow: #000000 0px 0px 5.7px, #000000 0px 0px 5.7px, #000000 0px 0px 4px">'+e+"</div>"}function Xd(e){return e=new Date(e),nu?e.getDate()+" "+$t[e.getMonth()]+", "+e.getFullYear():$t[e.getMonth()]+" "+e.getDate()+", "+e.getFullYear()}function Wd(){try{Uc=webapis.network.addNetworkStateChangeListener(function(e){1===e||4===e?(Qc=!0,xd()&&(Ed(qt),Zc&&qd(),Zc=!1),Xf()&&Ed(qt),window.setTimeout(yd,1500)):(Qc=!1,window.setTimeout(function(){Qc||(Ed(""),Gf(Dt))},5e3))})}catch(e){}}function Kd(){try{webapis.network.removeNetworkStateChangeListener(Uc)}catch(e){}}function Yd(){var e=null,t=null,n=null,i=null,o=0;try{e=tizen.application.getAppInfo().version,t=tizen.systeminfo.getCapability("http://tizen.org/feature/platform.version"),i=webapis.productinfo.getFirmware(),n=webapis.productinfo.getModel()}catch(e){}return null!==e&&null!==t&&null!==n&&null!==i&&(Ou="APP "+_e+(Au=e)+"."+Bu+nn+"Tizen "+_e+t+gn+gn+"|"+gn+gn+"TV: "+n+gn+gn+"|"+gn+gn+"FW: "+i+nn,e=e.split("."),o=parseInt(e[0]+e[1]+e[2]),document.getElementById("dialog_about_text").innerHTML=hn+Ou+pn,document.getElementById("dialog_update_text").innerHTML=mn+xe+Au+Se+Lu+nn+yn,o<Mu)}function $d(){fi(0),jc=pc,qd()}function Qd(){document.hidden?(window.clearInterval(Kc),Kd()):(window.setTimeout(function(){Wd()},2e4),window.setTimeout(function(){0<Zi.length?((new Date).getTime()-59e4>rw&&uw(),Kc=window.setInterval(uw,6e5)):(window.clearInterval(Kc),document.removeEventListener("visibilitychange",Qd))},1500))}function Zd(e){for(e=document.getElementById(e);e.firstChild;)e.removeChild(e.firstChild)}function eh(){this.val=0}function th(e,t,n){for(var i=0;i<t.length;i++)if(e===t[i])return n.val++,!0;return!1}function nh(e,t,n){for(var i=0;i<e.length;i++)ed(document.getElementById(t[i]),e[i],n)}function ih(e,t,n,i){for(var o,r,a=0;a<t;a++)for(o=0;o<i;o++)null!==(r=document.getElementById(e+a+"_"+o))&&td(r,n);rh(0)}function oh(e,t,n,i,o){var r,a=rh(t);if(t===o&&1===a&&(a=0),a){var s,l,c=0;for(r=0<a;c<i;c++)s=r?t+o:t-o,null!==(l=document.getElementById(e+s+"_"+c))&&td(l,n),s=r?t-o-1:t+o+1,null!==(l=document.getElementById(e+s+"_"+c))&&nd(l)}}function rh(e){var t=0;return dc<e?t=1:e<dc&&(t=-1),dc=e,t}function ah(e){dc=e}function sh(e){hc.src=e}function lh(e){return(eu=document.createElement("td")).setAttribute("id",e),eu.className="stream_cell",eu}function ch(e,t,n){return(eu=document.createElement("td")).setAttribute("id",t[4]+e),eu.setAttribute(Iu,n[0]),eu.setAttribute("data-id",n[1]),eu.className="stream_cell",eu.innerHTML=dh(e,t,n),eu}function uh(e,t,n){var i=e.split(n[5])[1];(e=document.getElementById(e)).setAttribute(Iu,t[0]),e.setAttribute("data-id",t[1]),e.innerHTML=dh(i,n,t),e.setAttribute("id",n[4]+i)}function dh(e,t,n){return'<div id="'+t[0]+e+'" class="stream_thumbnail_channel" ><img id="'+t[1]+e+'" class="stream_img" data-src="'+n[2]+'"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel">'+n[3]+"</div></div>"}function hh(e,t,n,i){return(eu=document.createElement("td")).setAttribute("id",n[8]+t),eu.setAttribute(Iu,e),eu.className="stream_cell",eu.innerHTML=fh(t,n,i),eu}function ph(e,t,n,i){var o=e.split(i[9])[1];(e=document.getElementById(e)).setAttribute(Iu,t),e.innerHTML=fh(o,i,n),e.setAttribute("id",i[8]+o)}function fh(e,t,n){return'<div id="'+t[0]+e+'" class="stream_thumbnail_video" ><img id="'+t[1]+e+'" class="stream_img" data-src="'+n[0]+'"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;">'+n[1]+'</div><div id="'+t[7]+e+'"class="stream_info" style="width:33%; float: right; text-align: right; display: inline-block;">'+n[5]+'</div><div id="'+t[4]+e+'"class="stream_info">'+n[2]+'</div><div id="'+t[5]+e+'"class="stream_info">'+f+n[3]+'</div><div id="'+t[6]+e+'"class="stream_info">'+n[4]+"</div></div>"}function mh(e,t,n){return(eu=document.createElement("td")).setAttribute("id",t[5]+e),eu.setAttribute(Iu,n[0]),eu.className="stream_cell",eu.innerHTML=gh(e,t,n),eu}function vh(e,t,n){var i=e.split(n[6])[1];(e=document.getElementById(e)).setAttribute(Iu,t[0]),e.innerHTML=gh(i,n,t),e.setAttribute("id",n[5]+i)}function gh(e,t,n){return'<div id="'+t[0]+e+'" class="stream_thumbnail_game" ><img id="'+t[1]+e+'" class="stream_img" data-src="'+n[1]+'"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel">'+n[0]+'</div><div id="'+t[4]+e+'"class="stream_info_games" style="width: 100%; display: inline-block;">'+n[2]+"</div></div>"}function yh(){var e=nn+"Html5 mp4 video support:"+nn+on;if(document.createElement("video").canPlayType){var t=document.createElement("video"),n=t.canPlayType('video/mp4; codecs="avc1.42E01E"');e+=n?"probably"===n?" Full support for avc1.":" Some support for avc1.("+n+")":"No video support for avc1.",e+=nn+on,e+=(n=t.canPlayType('video/mp4; codecs="mp4a.40.2"'))?"probably"===n?" Full support for mp4a.":" Some support for mp4a.("+n+")":" No video support for mp4a."}else e+="No video support at all, createElement video fail.";return e}function _h(t,n,i,o,r,a){Mh(function(){var e=t+"_"+n;cd(i[0]+e,Su),Mh(function(){Th(i[0],t,n,o,au,iu,!0)}),wd(n,t,r,a)})}function bh(t,n,i,o,r,a){Mh(function(){var e=t+"_"+n;cd(i[0]+e,Su),Mh(function(){Th(i[0],t,n,o,ru,iu,!1)}),wd(n,t,r,a)})}function wh(t,n,i,o,r,a){Mh(function(){var e=t+"_"+n;cd(i[0]+e,Su),Mh(function(){Th(i[0],t,n,o,su,ou,!1)}),wd(n,t,r,a)})}function kh(e,t){ud(t[0]+e,Su)}function Th(e,t,n,i,o,r,a){var s=e+t+"_"+n;null!==document.getElementById(s)?(i===Sc||i===Ic?Fd(t+1,0,e)||(2<t?s=e+(t-1)+"_"+n:t=0):1<t&&r!==ou&&!Fd(t+1,0,e)?s=e+(t-1)+"_"+n:1!==t||r===ou||Fd(t+1,0,e)||(s=e+(t-1)+"_"+n,t=0),t||i!==vc||(r-=du),a?(a=!t||1===t)&&(s=e+"0_"+n,o-=lu):a=!t,jc===i&&window.scroll(0,Ch()+xh(s)-o+(a?r:0))):t||n||Eh("blank_focus")}function Eh(e){window.scroll(0,Ch()+xh(e)-ru)}function Ch(){return document.body.scrollTop}function xh(e){return document.getElementById(e).getBoundingClientRect().top}function Sh(){for(var e=document.styleSheets,t=0;t<e.length;t++)null!==e[t].href&&(e[t].cssRules.length||Ih(e[t].href))}function Ih(e){var t=document.createElement("link");t.rel="stylesheet",t.href=e,document.getElementsByTagName("head")[0].appendChild(t)}function Mh(e){"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?window.setTimeout(e):document.addEventListener("DOMContentLoaded",e)}tizen.tvinputdevice.registerKey("ChannelUp"),tizen.tvinputdevice.registerKey("ChannelDown"),tizen.tvinputdevice.registerKey("MediaPlayPause"),tizen.tvinputdevice.registerKey("MediaPlay"),tizen.tvinputdevice.registerKey("MediaPause"),tizen.tvinputdevice.registerKey("ColorF0Red"),tizen.tvinputdevice.registerKey("ColorF1Green"),tizen.tvinputdevice.registerKey("ColorF2Yellow"),tizen.tvinputdevice.registerKey("ColorF3Blue"),tizen.tvinputdevice.registerKey("Guide"),tizen.tvinputdevice.registerKey("Info"),document.addEventListener("DOMContentLoaded",function(){tizen.systeminfo.getPropertyValue("LOCALE",id)});var Lh=0,Ah=null,Bh=0,Oh=!1,jh=!1,Hh=0,Rh=null,Nh=0,Ph=-12,Fh=12,Dh=!1,qh=["2x","1.5x","1x (Normal)","0.5x","0.25x"],zh=2,Vh=2,Uh=null;function Gh(){webapis.appcommon.setScreenSaver(webapis.appcommon.AppCommonScreenSaverState.SCREEN_SAVER_OFF),zf(),lm(),mf(document.getElementById("stream_info_icon"),Vc),document.getElementById("stream_info_name").innerHTML=zc,document.getElementById("stream_info_title").innerHTML=Yy,document.getElementById("stream_info_game").innerHTML=Wy+", "+Ky+", "+e_,document.getElementById("stream_live_icon").innerHTML=Zy,document.getElementById("stream_live_time").innerHTML=Xy,document.getElementById("stream_watching_time").innerHTML=v+Bf(0),Xh(),Vh=zh=2,tf=!1,ef=0,sp(),""!==Yc?(ei=!0,Ti(),qf()):Df(),document.addEventListener("visibilitychange",Jh,!1),jh=Oh=!1,Ph=-12,Fh=12,Dh=!(Nh=Hh=0),Mh(function(){of.src({type:"video/mp4",src:Qy}),of.ready(function(){this.isFullscreen(!0),this.requestFullscreen(),this.autoplay(!0),this.on("ended",function(){Yh()}),this.on("timeupdate",function(){Qh(this.currentTime())}),this.on("error",function(){Vf(),Gf(S),window.setTimeout(Yh,1500)}),this.on("loadedmetadata",function(){Oh=!0})}),Ah=window.setInterval(Kh,500)})}function Jh(){document.hidden&&Yh()}function Xh(){document.getElementById("scene2_quality").style.display="none",document.getElementById("scene2_speed").style.display="inline-block"}function Wh(){document.getElementById("scene2_quality").style.display="inline-block",document.getElementById("scene2_speed").style.display="none"}function Kh(){of.paused()||Lh!==of.currentTime()||(Bh++,zf(),90<Bh&&(Bh=0,Vf(),Gf(B),window.setTimeout(Yh,1500))),of.paused()||of.play(),Lh=of.currentTime()}function Yh(){Dh&&($h(),Nf())}function $h(){Pf(),document.body.removeEventListener("keydown",lp),document.removeEventListener("visibilitychange",Jh),Zh(),Wh(),window.clearInterval(Ah),Dh=!1}function Qh(e){!Xf()||jh||tf||Jf(),Uf()&&Vf(),tm()&&!of.paused()&&Zf(),Oh=!(Bh=0),nm()&&(document.getElementById("stream_watching_time").innerHTML=v+Bf(e))}function Zh(){tp(),ad("scene_channel_panel")}function ep(){Lf(),ef=0,sp(),zh=Vh,ap(),document.getElementById("stream_watching_time").innerHTML=v+Bf(of.currentTime()),sd("scene_channel_panel"),np()}function tp(){window.clearTimeout(Uh)}function np(){Uh=window.setTimeout(Zh,5e3)}function ip(){of.paused()||of.pause(),of.currentTime(Nh),Hh=0,Ph=-12,Oh=jh=!(Fh=12),of.play()}function op(){window.clearTimeout(Rh),jh=!0;var e="",t="";if(!Hh)return Nh=0,Ph=-12,Fh=12,Gf(pe),void window.setTimeout(function(){jh=!1},1500);if(Hh<0)e=(Nh=-1===Hh?-5:-2===Hh?-10:-3===Hh?-15:-4===Hh?-20:-5===Hh?-25:-6===Hh?-30:-7===Hh?-35:-8===Hh?-40:-9===Hh?-45:-10===Hh?-50:-11===Hh?-55:-60)+me,(t=of.currentTime()+Nh)<0&&(Ph=Hh,t=0),t=Bf(Nh=t);else{if(e=(Nh=1===Hh?5:2===Hh?10:3===Hh?15:4===Hh?20:5===Hh?25:6===Hh?30:7===Hh?35:8===Hh?40:9===Hh?45:10===Hh?50:11===Hh?55:60)+me,(t=of.currentTime()+Nh)>Dy)return Nh=0,Fh=Hh,Gf(pe+fe),void(Rh=window.setTimeout(function(){Hh=0,jh=!(Fh=16)},1500));t=Bf(Nh=t)}Gf(de+e+he+t),Rh=window.setTimeout(ip,1500)}function rp(){var e=1;zh?1===zh?e=1.5:3===zh?e=.5:4===zh&&(e=.25):e=2,of.playbackRate(e),tp(),Zh(),Vh=zh}function ap(){zh?zh===qh.length-1?(document.getElementById("speed_arrow_up").style.opacity="1",document.getElementById("speed_arrow_down").style.opacity="0.2"):(document.getElementById("speed_arrow_up").style.opacity="1",document.getElementById("speed_arrow_down").style.opacity="1"):(document.getElementById("speed_arrow_up").style.opacity="0.2",document.getElementById("speed_arrow_down").style.opacity="1"),document.getElementById("speed_name").innerHTML=qh[zh]}function sp(){dd("scene2_speed","3.5px solid rgba(0, 0, 0, 0)"),hd("scene2_speed","rgba(0, 0, 0, 0)"),dd("scene2_heart","3.5px solid rgba(0, 0, 0, 0)"),hd("scene2_heart","rgba(0, 0, 0, 0)"),dd("scene2_channel","3.5px solid rgba(0, 0, 0, 0)"),hd("scene2_channel","rgba(0, 0, 0, 0)"),dd("scene2_game","3.5px solid rgba(0, 0, 0, 0)"),hd("scene2_game","rgba(0, 0, 0, 0)"),dd("scene2_search","3.5px solid rgba(0, 0, 0, 0)"),hd("scene2_search","rgba(0, 0, 0, 0)"),ef?1===ef?(dd("scene2_heart","3.5px solid #FFFFFF"),hd("scene2_heart","rgba(0, 0, 0, 0.7)")):2===ef?(dd("scene2_game","3.5px solid #FFFFFF"),hd("scene2_game","rgba(0, 0, 0, 0.7)")):3===ef?(dd("scene2_channel","3.5px solid #FFFFFF"),hd("scene2_channel","rgba(0, 0, 0, 0.7)")):4===ef&&(dd("scene2_search","3.5px solid #FFFFFF"),hd("scene2_search","rgba(0, 0, 0, 0.7)")):(dd("scene2_speed","3.5px solid #FFFFFF"),hd("scene2_speed","rgba(0, 0, 0, 0.7)"))}function lp(e){switch(e.keyCode){case In:nm()?(4<++ef&&(ef=0),sp(),tp(),np()):Oh&&(Ph<Hh&&Hh--,op());break;case Mn:nm()?(--ef<0&&(ef=4),sp(),tp(),np()):Oh&&(Hh<Fh&&Hh++,op());break;case Ln:nm()?0===ef&&(tp(),np(),--zh<0&&(zh=0),ap()):ep();break;case An:nm()?0===ef&&(tp(),np(),4<++zh&&(zh=4),ap()):ep();break;case Bn:nm()?ef?1===ef?(Tm(),tp(),np()):2===ef?(Dc||jc===Oc||(Pc=Fc&&jc!==Tc&&jc!==Ec&&jc!==Cc?Nc:jc,Dc=!0),zd(jc),jc=vc,Vo=!1,Kf(),Mh(Yh)):3===ef?(Fc||jc===Ec||jc===Cc||(Nc=Dc&&jc!==vc?Pc:jc,Fc=!0),zd(jc),jc=Tc,Kf(),Mh(Yh)):4===ef&&(x_||(Rc=jc),zd(jc),jc=bc,Kf(),Mh(Yh)):rp():ep();break;case Nn:hm()?dm():nm()?Zh():Yf()?(Kf(),Mh(Yh)):Wf();break;case Cn:case En:case xn:wm();break;case Sn:case Tn:lm(),Sp=!1,localStorage.setItem("ChatEnable","false");break;case Hn:um();break;case Rn:of.src({type:"video/mp4",src:Qy}),zf(),Zf(),zh=Vh=2,ap()}}var cp=1,up=.55,dp=3,hp="",pp="source",fp=pp,mp=0,vp=0,gp=1,yp=2,_p=vp,bp="",wp=0,kp=0,Tp=0,Ep="",Cp=[],xp=0,Sp=!1,Ip="",Mp="",Lp="",Ap=0,Bp="",Op=0,jp=10,Hp=0,Rp=15,Np=!1,Pp=null,Fp=0,Dp=0,qp=0,zp=[],Vp=[],Up=!1,Gp=0,Jp=null,Xp=0,Wp=!1,Kp=0,Yp=!1,$p=!1,Qp="",Zp="",ef=0,tf=!1,nf="",of=null,rf=!1,af=1e4,sf=3500,lf="";function cf(){of=videojs("video_live"),Pf(),document.getElementById("scene2_search_text").innerHTML=gn+t,document.getElementById("scene2_channel_text").innerHTML=gn+Ft,document.getElementById("scene2_game_text").innerHTML=gn+Ut,cp=parseInt(localStorage.getItem("ChatPositionsValue"))||1,up=parseFloat(localStorage.getItem("ChatBackgroundValue"))||.55,dp=parseInt(localStorage.getItem("ChatSizeValue"))||3,Sp="true"===localStorage.getItem("ChatEnable"),document.getElementById("play_dialog_exit_text").innerHTML=z,document.getElementById("dialog_buffer_play_text").innerHTML=D+'<div style="height: 45px; vertical-align: middle; display: inline-block; "><i class="fa icon-circle-o-notch fa-spin"></i></div>',document.getElementById("chat_container").innerHTML='<iframe id="chat_frame" width="100%" height="100%" frameborder="0" scrolling="no" style="position: absolute; overflow: hidden;" src="about:blank"></iframe><div id="scene_channel_dialog_chat" style="position: absolute; text-align: center; width: 100%; margin-top: 50%;"><div id="scene_channel_dialog_chat_text" class="strokedbig" style="display: inline-block; font-size: 216%; color: white;"></div></div>',document.getElementById("dialog_controls_play_text").innerHTML=fn,document.getElementById("stream_controls").innerHTML='<div style="vertical-align: middle; display: inline-block"><i class="icon-question-circle" style="color: #FFFFFF; font-size: 105%; "></i></div><div style="vertical-align: middle; display: inline-block">'+gn+ln+"</div>",document.getElementById("scene2_speed").style.display="none"}function uf(){webapis.appcommon.setScreenSaver(webapis.appcommon.AppCommonScreenSaverState.SCREEN_SAVER_OFF),zf(),document.getElementById("stream_live_icon").innerHTML='<div style="vertical-align: middle; display: inline-block"><i class="icon-circle" style="color: red; font-size: 105%; "></i></div><div style="vertical-align: middle; display: inline-block">'+gn+h.toUpperCase()+"</div>",Zd("stream_info_title"),rf=!1,document.getElementById("stream_info_icon").setAttribute("data-src",Wu),document.getElementById("stream_info_name").innerHTML=Zp,document.getElementById("stream_watching_time").innerHTML=v+Bf(0),document.getElementById("stream_live_time").innerHTML=g+Bf(0)+y,vm(!1),gm(!1),tf=!1,Hp=0,af=1e4,hf(),bp=window.setInterval(ff,6e4),Jp=window.setInterval(Sf,500),_p=vp,Np=!(Tp=kp=wp=Up=0),document.addEventListener("visibilitychange",df,!1),$p=!1,vf()}function df(){document.hidden?(Pf(),$p=!1,document.getElementById("chat_frame").src="about:blank",window.clearInterval(bp),window.clearInterval(Jp)):(sd("scene2"),ad("scene1"),Zf(),zf(),window.setTimeout(function(){sw||(Wp=!0,Yp=!(Kp=80),xf(),Hp=0,af=1e4,window.setTimeout(hf,7500),bp=window.setInterval(ff,6e4),Jp=window.setInterval(Sf,500))},500))}function hf(){try{var t=new XMLHttpRequest;t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState)if(200===t.status){var e=JSON.parse(t.responseText);document.getElementById("stream_info_title").innerHTML=e.stream.channel.status,nf=e.stream.game,lf=", ["+e.stream.channel.language.toUpperCase()+"]",document.getElementById("stream_info_game").innerHTML=f+nf+m+Rd(e.stream.viewers)+" "+q+lf,Vc=e.stream.channel.logo,mf(document.getElementById("stream_info_icon"),Vc),Bp=e.stream.created_at,rf=!0,Xc=e.stream.channel._id,""!==Yc?(ei=!0,Ti(),qf()):Df()}else pf()},t.open("GET","https://api.twitch.tv/kraken/streams/"+Qp+"?"+Math.round(1e7*Math.random()),!0),t.timeout=af,t.setRequestHeader("Client-ID",Eu),t.send(null)}catch(e){pf()}}function pf(){++Hp<Rp&&(af+=2e3,hf())}function ff(){var t=new XMLHttpRequest;t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState&&200===t.status)try{var e=JSON.parse(t.responseText);document.getElementById("stream_info_title").innerHTML=e.stream.channel.status,document.getElementById("stream_info_game").innerHTML=f+e.stream.game+m+Rd(e.stream.viewers)+" "+q+lf,rf||mf(document.getElementById("stream_info_icon"),e.stream.channel.logo)}catch(e){}},t.open("GET","https://api.twitch.tv/kraken/streams/"+Qp+"?"+Math.round(1e7*Math.random()),!0),t.timeout=1e4,t.setRequestHeader("Client-ID",Eu),t.send(null)}function mf(e,t){e.onerror=function(){this.src=Ru,rf=!1},e.src=t}function vf(){Op=0,sf=3500,gf()}function gf(){try{var e,t=new XMLHttpRequest;e=_p===vp?"https://api.twitch.tv/api/channels/"+Qp+"/access_token":"http://usher.twitch.tv/api/channel/hls/"+Qp+".m3u8?player=twitchweb&&type=any&sig="+wp.sig+"&token="+escape(wp.token)+"&allow_source=true&allow_audi_only=true&"+Math.round(1e7*Math.random()),t.open("GET",e,!0),t.timeout=sf,t.setRequestHeader("Client-ID",Eu),t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState)if(200===t.status)try{Op=0,Np&&wf(t.responseText)}catch(e){}else-1!==t.responseText.indexOf("Bad auth token")?bf():yf()},t.send(null)}catch(e){yf()}}function yf(){Np&&(++Op<jp?(sf+=Op<5?250:3500,gf()):(Vf(),Gf(S),window.setTimeout(Hf,2e3)))}function _f(){zp[qp]=Qp,Vp[qp]=Cp,qp++}function bf(){for(var e=0;e<zp.length;e++)zp[e]===Qp&&(Cp=Vp[e],Up=!0);Up?(_p=yp,Np&&Cf()):(Vf(),Gf(S),window.setTimeout(Hf,1500))}function wf(e){_p===vp?(wp=JSON.parse(e),_p=gp,vf()):_p===gp&&(Cp=kf(kp=e),_p=yp,sw=!1,Np&&Cf(),_f())}function kf(e){for(var t,n=[],i="",o=1,r=Ef(e),a=0;a<r.length;a++)i=r[a].split('NAME="')[1].split('"')[0],t=Tf(r[a].split("BANDWIDTH=")[1].split(",")[0]),n.length?n[a-o].id!==i&&n[a-o].id!==i+" (source)"?n.push({id:i+t,url:r[a].split("\n")[2]}):o++:(-1===i.indexOf("ource")&&(i+=" (source)"),n.push({id:i+t,url:r[a].split("\n")[2]}));return n}function Tf(e){return 0<(e=parseInt(e))?" ("+parseFloat(e/1e6).toFixed(2)+"Mbps)":""}function Ef(e){for(var t,n=[],i=/#EXT-X-MEDIA:(.)*\n#EXT-X-STREAM-INF:(.)*\n(.)*/g;t=i.exec(e);)n.push(t[0]);return n}function Cf(){Ep=Cp[xp=0].url,-1!==pp.indexOf("source")&&(pp="source");for(var e=0;e<mm();e++){if(Cp[e].id===pp){Ep=Cp[xp=e].url;break}-1!==Cp[e].id.indexOf(pp)&&(Ep=Cp[xp=e].url)}fp=pp,Np&&xf()}function xf(){zf(),of.src({type:"application/x-mpegURL",src:Ep}),Dp=Fp,Jf(),im(),Sp&&!cm()&&sm(),$p||(of.ready(function(){this.isFullscreen(!0),this.requestFullscreen(),this.autoplay(!0),this.on("ended",function(){Vf(),Gf(S),window.setTimeout(Hf,1500)}),this.on("timeupdate",function(){Mf(this.currentTime())}),this.on("error",function(){Vf(),Gf(B),window.setTimeout(Hf,1500)}),this.on("loadedmetadata",function(){document.getElementById("chat_frame").src="https://www.nightdev.com/hosted/obschat/?theme=bttv_blackchat&channel="+Qp+"&fade=false&bot_activity=true&prevent_clipping=false"})}),$p=!0)}function Sf(){of.paused()||Gp!==of.currentTime()||(Xp++,zf(),Yp&&!Wp&&(Kp=-10),30+Kp<Xp&&(Xp=0,xp<mm()-1?(Yp&&xp++,fm(),Cf(),Yp=!0):(Vf(),Gf(B),window.setTimeout(Hf,1500)))),of.paused()||of.play(),Gp=of.currentTime()}function If(){of.off("ended",null),of.off("timeupdate",null),of.off("error",null),of.off("loadedmetadata",null),of.off("playing",null),of.off("canplaythrough",null)}function Mf(e){Xf()&&!tf&&Jf(),Uf()&&Vf(),tm()&&!of.paused()&&Zf(),Kp=Xp=0,Wp=!1,Fp=e+Dp-14,nm()&&(document.getElementById("stream_watching_time").innerHTML=v+Bf(Fp))}function Lf(e){var t,n=new Date;t=nu?n.getDate()+"/"+$t[n.getMonth()]:$t[n.getMonth()]+"/"+n.getDate(),document.getElementById("stream_clock").innerHTML=t+" "+Af(n.getHours())+":"+Af(n.getMinutes())}function Af(e){return e<10?"0"+e:e}function Bf(e){var t,n,i;return t=Af(parseInt(e)%60),n=Af((e=Math.floor(e/60))%60),i=Af(e=Math.floor(e/60)),e?i+":"+n+":"+t:n+":"+t}function Of(e){var t;return t=Af((e=Math.floor(e/1e3/60))%60),Af(e=Math.floor(e/60))+":"+t}function jf(e){return Of((new Date).getTime()-new Date(e).getTime())}function Hf(){Np&&(Rf(),Nf())}function Rf(){Pf(),Ff(),Np=!1}function Nf(){sd("scene1"),ad("scene2"),Dd()}function Pf(){of.pause(),If(),of.autoplay(!1),of.src({type:"video/mp4",src:Ku}),Zf(),Jf()}function Ff(){$p=!1,document.body.removeEventListener("keydown",xm),document.removeEventListener("visibilitychange",df),Dp=Fp=0,document.getElementById("chat_frame").src="about:blank",window.clearInterval(bp),window.clearInterval(Jp),Kp=0,Yp=Wp=!1}function Df(){document.getElementById("fallow_text").innerHTML=gn+Ht,Qn=!1}function qf(){sd("scene2_heart")}function zf(){sd("dialog_buffer_play")}function Vf(){ad("dialog_buffer_play")}function Uf(){return ld("dialog_buffer_play")}function Gf(e){document.getElementById("dialog_warning_play_text").innerHTML=e,sd("dialog_warning_play")}function Jf(){document.getElementById("dialog_warning_play_text").innerHTML="",ad("dialog_warning_play")}function Xf(){return ld("dialog_warning_play")}function Wf(){Yf()?Kf():(sd("play_dialog_exit"),Ip=window.setTimeout(Wf,3e3))}function Kf(){window.clearTimeout(Ip),ad("play_dialog_exit")}function Yf(){return ld("play_dialog_exit")}function $f(){window.clearTimeout(Mp)}function Qf(){window.clearTimeout(Lp)}function Zf(){$f(),Qf(),ad("play_dialog_simple_pause")}function em(){of.paused()?tm()?(ad("play_dialog_simple_pause"),Lp=window.setTimeout(em,8e3)):(sd("play_dialog_simple_pause"),Mp=window.setTimeout(em,1500)):Zf()}function tm(){return ld("play_dialog_simple_pause")}function nm(){return ld("scene_channel_panel")}function im(){rm(),ad("scene_channel_panel"),pp=fp,mp=0,1!==cp&&7!==cp&&8!==cp||ym()}function om(){ef=0,km(),pm(),fm(),document.getElementById("stream_live_time").innerHTML=g+jf(Bp)+y,document.getElementById("stream_watching_time").innerHTML=v+Bf(Fp),Lf(),Kf(),sd("scene_channel_panel"),am(),mp=-4,1!==cp&&7!==cp&&8!==cp||ym()}function rm(){window.clearTimeout(hp)}function am(){hp=window.setTimeout(im,5e3)}function sm(){ym(),sd("chat_container")}function lm(){ad("chat_container")}function cm(){return ld("chat_container")}function um(){Kf(),sd("dialog_controls_play")}function dm(){ad("dialog_controls_play")}function hm(){return ld("dialog_controls_play")}function pm(){for(var e=xp=0;e<mm();e++){if(Cp[e].id===pp){xp=e;break}-1!==Cp[e].id.indexOf(pp)&&(xp=e)}}function fm(){xp?xp===mm()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(pp=Cp[xp].id).indexOf("source")?document.getElementById("quality_name").innerHTML=pp.replace("source",ye):document.getElementById("quality_name").innerHTML=pp}function mm(){return Cp.length}function vm(e){var t=48,n=100,i=50;Ap=0,2===dp?(t=32,n=66,i=25,Ap=16):1===dp&&(t=17,n=33,i=12.5,Ap=31),document.getElementById("chat_container").style.height=t+"%",document.getElementById("scene_channel_dialog_chat").style.marginTop=i+"%",ym(),e&&_m("Size "+n+"%"),localStorage.setItem("ChatSizeValue",dp)}function gm(e){var t=up-.05;t=t<.05?0:t.toFixed(2),document.getElementById("chat_container").style.backgroundColor="rgba(0, 0, 0, "+t+")",e&&_m("Brightness "+(100*t).toFixed(0)+"%"),localStorage.setItem("ChatBackgroundValue",up)}function ym(){var e="75.3%",t=52+Ap+mp+"%";cp||(cp=8),cp<9?(1<cp&&(t="33%"),2<cp&&(t="0%"),3<cp&&(e="38.3%"),4<cp&&(e="0%"),5<cp&&(t="33%"),6<cp&&(t=52+Ap+mp+"%"),7<cp&&(e="38.3%")):cp=1,document.getElementById("chat_container").style.top=t,document.getElementById("chat_container").style.left=e,localStorage.setItem("ChatPositionsValue",cp)}function _m(e){window.clearTimeout(Pp),document.getElementById("scene_channel_dialog_chat_text").innerHTML=e,sd("scene_channel_dialog_chat"),Pp=window.setTimeout(bm,1e3)}function bm(){ad("scene_channel_dialog_chat")}function wm(){of.paused()?(Zf(),of.play(),webapis.appcommon.setScreenSaver(webapis.appcommon.AppCommonScreenSaverState.SCREEN_SAVER_OFF),nm()&&im()):(of.pause(),webapis.appcommon.setScreenSaver(webapis.appcommon.AppCommonScreenSaverState.SCREEN_SAVER_ON),em())}function km(){dd("scene2_quality","3.5px solid rgba(0, 0, 0, 0)"),hd("scene2_quality","rgba(0, 0, 0, 0)"),dd("scene2_heart","3.5px solid rgba(0, 0, 0, 0)"),hd("scene2_heart","rgba(0, 0, 0, 0)"),dd("scene2_channel","3.5px solid rgba(0, 0, 0, 0)"),hd("scene2_channel","rgba(0, 0, 0, 0)"),dd("scene2_game","3.5px solid rgba(0, 0, 0, 0)"),hd("scene2_game","rgba(0, 0, 0, 0)"),dd("scene2_search","3.5px solid rgba(0, 0, 0, 0)"),hd("scene2_search","rgba(0, 0, 0, 0)"),ef?1===ef?(dd("scene2_heart","3.5px solid #FFFFFF"),hd("scene2_heart","rgba(0, 0, 0, 0.7)")):2===ef?(dd("scene2_game","3.5px solid #FFFFFF"),hd("scene2_game","rgba(0, 0, 0, 0.7)")):3===ef?(dd("scene2_channel","3.5px solid #FFFFFF"),hd("scene2_channel","rgba(0, 0, 0, 0.7)")):4===ef&&(dd("scene2_search","3.5px solid #FFFFFF"),hd("scene2_search","rgba(0, 0, 0, 0.7)")):(dd("scene2_quality","3.5px solid #FFFFFF"),hd("scene2_quality","rgba(0, 0, 0, 0.7)"))}function Tm(){""!==$n?Qn?Li():Si():(Gf(Rt),tf=!0,window.setTimeout(function(){Jf(),tf=!1},2e3))}function Em(){Qn?(document.getElementById("fallow_heart").innerHTML='<i class="icon-heart" style="color: #00b300; font-size: 210%; text-shadow: #FFFFFF 0px 0px 3px, #FFFFFF 0px 0px 3px, #FFFFFF 0px 0px 2px;"></i>',document.getElementById("fallow_text").innerHTML=gn+Mt):(document.getElementById("fallow_heart").innerHTML='<i class="icon-heart-o" style="color: #FFFFFF; font-size: 210%; text-shadow: #000000 0px 0px 3px, #000000 0px 0px 3px, #000000 0px 0px 2px;"></i>',document.getElementById("fallow_text").innerHTML=gn+Lt)}function Cm(e){hm()?dm():nm()?im():Yf()?(Kf(),lm(),Mh(e?Bv:Hf)):(Xf()&&Jf(),Wf())}function xm(e){if(_p!==yp)switch(e.keyCode){case Nn:Yf()?(Kf(),lm(),Mh(Hf)):Wf()}else switch(e.keyCode){case Sn:case Tn:cm()?(lm(),Sp=!1,localStorage.setItem("ChatEnable","false")):(sm(),Sp=!0,localStorage.setItem("ChatEnable","true"));break;case wn:cm()&&(cp++,ym());break;case kn:cm()&&(cp--,ym());break;case In:!nm()&&cm()?((up-=.05)<.05&&(up=.05),gm(!0)):nm()?(4<++ef&&(ef=0),km(),rm(),am()):om();break;case Mn:!nm()&&cm()?(1.05<(up+=.05)&&(up=1.05),gm(!0)):nm()?(--ef<0&&(ef=4),km(),rm(),am()):om();break;case Ln:nm()?(0<xp&&!ef&&(xp--,fm()),rm(),am()):cm()?dp<3?(dp++,vm(!0)):_m("Size 100%"):om();break;case An:nm()?(xp<mm()-1&&!ef&&(xp++,fm()),rm(),am()):cm()?1<dp?(dp--,vm(!0)):_m("Size 33%"):om();break;case Bn:nm()?ef?1===ef?(Tm(),rm(),am()):2===ef?(Dc||(Pc=Fc&&jc!==Tc&&jc!==Ec&&jc!==Cc?Nc:jc,Dc=!0),zd(jc),jc=vc,Vo=!1,Jc=nf,Kf(),lm(),Mh(Hf)):3===ef?(Fc||jc===Ec||jc===Cc||(Nc=Dc&&jc!==vc?Pc:jc,Fc=!0),qc=Qp,zc=Zp,zd(jc),ag=Qn,jc=Tc,Kf(),lm(),Mh(Hf)):4===ef&&(x_||(Rc=jc),zd(jc),jc=bc,Kf(),lm(),Mh(Hf)):(Yp=!1,Cf(),Zf()):om();break;case Nn:Cm(!1);break;case Cn:case En:case xn:wm();break;case Hn:um()}}var Sm="",Im="source",Mm=Im,Lm=0,Am=1,Bm=2,Om=Lm,jm="",Hm=0,Rm=0,Nm=0,Pm="",Fm=[],Dm=0,qm=0,zm=10,Vm=!1,Um=0,Gm=0,Jm=15,Xm=1e4,Wm=[],Km=[],Ym=0,$m=0,Qm=null,Zm=0,ev=!1,tv=0,nv=!1,iv=!1,ov=!1,rv=!1,av=null,sv=0,lv=!1,cv=0,uv=-16,dv=16,hv=3500,pv=!1;function fv(){webapis.appcommon.setScreenSaver(webapis.appcommon.AppCommonScreenSaverState.SCREEN_SAVER_OFF),zf(),lm(),Ws?(Gm=0,Jm=15,Xm=1e4,mv()):mf(document.getElementById("stream_info_icon"),Vc),document.getElementById("stream_info_name").innerHTML=zc,document.getElementById("stream_info_title").innerHTML=Jw,document.getElementById("stream_info_game").innerHTML=Xw+", ["+Fw.toUpperCase()+"]",document.getElementById("stream_live_icon").innerHTML=Ww,document.getElementById("stream_live_time").innerHTML=Kw,document.getElementById("stream_watching_time").innerHTML=v+Bf(0),""!==Yc?(ei=!0,Ti(),qf()):Df(),lv=tf=pv=!1,Nm=Rm=Hm=cv=0,uv=-16,dv=16,Om=Lm,document.addEventListener("visibilitychange",yv,!1),Qm=window.setInterval(Lv,500),Vm=!(rv=ov=iv=!1),_v()}function mv(){try{var t=new XMLHttpRequest;t.open("GET","https://api.twitch.tv/kraken/users?login="+qc,!0),t.timeout=Xm,t.setRequestHeader("Client-ID",Eu),t.setRequestHeader("Accept","application/vnd.twitchtv.v5+json"),t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status){var e=JSON.parse(t.responseText).users[0];return void 0!==e?(Vc=e.logo,Xc=e._id):(Vc=Ru,Xc=""),void mf(document.getElementById("stream_info_icon"),Vc)}vv()}},t.send(null)}catch(e){vv()}}function vv(){++Gm<Jm?(Xm+=2e3,mv()):mf(document.getElementById("stream_info_icon"),Ru)}function gv(){++Gm<Jm&&(Xm+=2e3,PlayVod_updateStreamInfoend())}function yv(){document.hidden?(of.pause(),Um=of.currentTime(),Pf(),window.clearInterval(Qm),Zf()):(sd("scene2"),ad("scene1"),Zf(),zf(),window.setTimeout(function(){ov=!1,Mv(),tv=80,nv=!(ev=!0),Qm=window.setInterval(Lv,500)},500))}function _v(){qm=0,hv=3500,bv()}function bv(){try{var e,t=new XMLHttpRequest;e=Om===Lm?"https://api.twitch.tv/api/vods/"+Gw+"/access_token"+(""!==$n?"?oauth_token="+$n:""):"http://usher.twitch.tv/vod/"+Gw+".m3u8?player=twitchweb&&type=any&nauthsig="+Hm.sig+"&nauth="+escape(Hm.token)+"&allow_source=true&allow_audi_only=true&"+Math.round(1e7*Math.random()),t.open("GET",e,!0),t.timeout=hv,t.setRequestHeader("Client-ID",Eu),t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState)if(200===t.status)try{qm=0,Vm&&Ev(t.responseText)}catch(e){}else-1!==t.responseText.indexOf("Bad auth token")?Tv():wv()},t.send(null)}catch(e){wv()}}function wv(){if(Vm){if(0!==JSON.parse(Hm.token).chansub.restricted_bitrates.length)return void Cv();++qm<zm?(hv+=qm<5?250:3500,bv()):(Vf(),Gf(S),window.setTimeout(Bv,2e3))}}function kv(){Wm[Ym]=Gw,Km[Ym]=Fm,Ym++}function Tv(){for(var e=0;e<Wm.length;e++)Wm[e]===qc&&(Fm=Km[e],pv=!0);pv?(Om=Bm,Vm&&Iv()):(Vf(),Gf(S),window.setTimeout(Bv,1500))}function Ev(e){Om===Lm?(Hm=JSON.parse(e),Om=Am,_v()):Om===Am&&(Fm=kf(Rm=e),Om=yp,Vm&&Iv(),kv())}function Cv(){""!==$n?Oi():(Vf(),Gf(I+At),window.setTimeout(function(){Vm&&Bv()},4e3))}function xv(){Vf(),Gf(I+Bt),window.setTimeout(function(){Vm&&Bv()},4e3)}function Sv(){Vf(),Gf(I+Ot),window.setTimeout(function(){Vm&&Bv()},4e3)}function Iv(){Pm=Fm[Dm=0].url,-1!==Im.indexOf("source")&&(Im="source");for(var e=0;e<qv();e++){if(Fm[e].id===Im){Pm=Fm[Dm=e].url;break}-1!==Fm[e].id.indexOf(Im)&&(Pm=Fm[Dm=e].url)}Mm=Im,Vm&&Mv()}function Mv(){zf(),of.src({type:"application/x-mpegURL",src:Pm}),iv=!1,Jf(),Hv(),ov||(of.ready(function(){this.isFullscreen(!0),this.requestFullscreen(),this.autoplay(!1),this.on("ended",function(){Vf(),Gf(S),window.setTimeout(Bv,1500)}),this.on("timeupdate",function(){Av(this.currentTime())}),this.on("error",function(){Vf(),Gf(B),window.setTimeout(Bv,1500)}),this.on("loadedmetadata",function(){0<Um&&Um!==this.currentTime()?(rv=!0,this.currentTime(Um),zf(),Zf()):this.autoplay(!0),iv=!0}),this.on("playing",function(){0<Um&&(Um=0)}),this.on("canplaythrough",function(){rv&&(rv=!1,this.play())})}),ov=!0)}function Lv(){of.paused()||$m!==of.currentTime()||(Zm++,zf(),nv&&!ev&&(tv=-10),30+tv<Zm&&(Zm=0,Dm<qv()-1?(nv&&Dm++,Dv(),Um||(Um=of.currentTime()),Iv(),nv=!0):(Vf(),Gf(B),window.setTimeout(Bv,1500)))),of.paused()||of.play(),$m=of.currentTime()}function Av(e){!Xf()||lv||tf||Jf(),Uf()&&!rv&&Vf(),tm()&&!of.paused()&&Zf(),tv=Zm=0,iv=!(ev=!1),nm()&&(document.getElementById("stream_watching_time").innerHTML=v+Bf(e))}function Bv(){Vm&&(Ov(),Nf())}function Ov(){Pf(),jv(),Ws=Vm=!1}function jv(){ov=!1,document.body.removeEventListener("keydown",Uv),document.removeEventListener("visibilitychange",yv),Um=0,window.clearInterval(jm),window.clearInterval(Qm),tv=0,nv=ev=!1}function Hv(){Nv(),ad("scene_channel_panel"),Im=Mm}function Rv(){ef=0,km(),Fv(),Lf(),document.getElementById("stream_watching_time").innerHTML=v+Bf(of.currentTime()),Dv(),sd("scene_channel_panel"),Pv()}function Nv(){window.clearTimeout(Sm)}function Pv(){Sm=window.setTimeout(Hv,5e3)}function Fv(){for(var e=Dm=0;e<qv();e++){if(Fm[e].id===Im){Dm=e;break}-1!==Fm[e].id.indexOf(Im)&&(Dm=e)}}function Dv(){Dm?Dm===qv()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(Im=Fm[Dm].id).indexOf("source")?document.getElementById("quality_name").innerHTML=Im.replace("source",ye):document.getElementById("quality_name").innerHTML=Im}function qv(){return Fm.length}function zv(){of.paused()||of.pause(),of.currentTime(sv),cv=0,uv=-16,iv=lv=!(dv=16),of.play(),Zf()}function Vv(){window.clearTimeout(av),lv=!0;var e="",t="";if(!cv)return sv=0,uv=-16,dv=16,Gf(pe),void(av=window.setTimeout(function(){lv=!1},1500));if(cv<0)e=(sv=-1===cv?-5:-2===cv?-10:-3===cv?-15:-4===cv?-30:-5===cv?-60:-6===cv?-120:-7===cv?-300:-8===cv?-600:-9===cv?-900:-10===cv?-1800:-11===cv?-3600:-12===cv?-7200:-13===cv?-10800:-14===cv?-14400:-15===cv?-18e3:-36e3)+me,sv<-30&&(e=sv/60+ve),sv<-1800&&(e=sv/60/60+ge),(t=of.currentTime()+sv)<0&&(uv=cv,t=0),t=Bf(sv=t);else{if(e=(sv=1===cv?5:2===cv?10:3===cv?15:4===cv?30:5===cv?60:6===cv?120:7===cv?300:8===cv?600:9===cv?900:10===cv?1800:11===cv?3600:12===cv?7200:13===cv?10800:14===cv?14400:15===cv?18e3:36e3)+me,30<sv&&(e=sv/60+ve),1800<sv&&(e=sv/60/60+ge),(t=of.currentTime()+sv)>Rw)return sv=0,dv=cv,Gf(pe+fe),void(av=window.setTimeout(function(){cv=0,lv=!(dv=16)},1500));t=Bf(sv=t)}Gf(de+e+he+t),av=window.setTimeout(zv,1500)}function Uv(e){if(Om!==Bm)switch(e.keyCode){case Nn:Yf()?(Kf(),Mh(Bv)):Wf()}else switch(e.keyCode){case Sn:case Tn:lm(),Sp=!1,localStorage.setItem("ChatEnable","false");break;case In:nm()?(4<++ef&&(ef=0),km(),Nv(),Pv()):iv&&(uv<cv&&cv--,Vv());break;case Mn:nm()?(--ef<0&&(ef=4),km(),Nv(),Pv()):iv&&(cv<dv&&cv++,Vv());break;case Ln:nm()?(0<Dm&&!ef&&(Dm--,Dv()),Nv(),Pv()):Rv();break;case An:nm()?(Dm<qv()-1&&!ef&&(Dm++,Dv()),Nv(),Pv()):Rv();break;case Bn:nm()?ef?1===ef?(Tm(),Nv(),Pv()):2===ef?(Dc||jc===Bc||(Pc=Fc&&jc!==Tc&&jc!==Ec&&jc!==Cc?Nc:jc,Dc=!0),zd(jc),jc=vc,Vo=!1,Jc=Dw,Kf(),Mh(Bv)):3===ef?(Fc||jc===Ec||jc===Cc||(Nc=Dc?Pc:jc,Fc=!0),zd(jc),jc=Tc,Kf(),Mh(Bv)):3===ef&&(x_||(Rc=jc),zd(jc),jc=bc,Kf(),Mh(Bv)):(Um||(Um=of.currentTime()),nv=!1,Iv(),Zf()):Rv();break;case Nn:Cm(!0);break;case Cn:case En:case xn:wm();break;case Hn:um()}}var Gv,Jv=0,Xv=0,Wv=!1,Kv=0,Yv="",$v="",Qv=!1,Zv=0,eg=10,tg=3500,ng=0,ig=!0,og=25,rg=!1,ag=!1,sg=["scc_thumbdiv","scc_img","scc_infodiv","scc_name","scc_createdon","scc_game","scc_viwers","scc_duration","scc_cell","sccempty_"],lg=!1,cg="",ug=null,dg="",hg="",pg="";function fg(){jc=Tc,cg!==qc&&(lg=!1),Gd(),zc=zc.replace(W,""),document.getElementById("top_bar_user").innerHTML=zc,document.getElementById("top_bar_game").innerHTML=Ft,document.body.addEventListener("keydown",Rg,!1),ei=!1,lg?(Ng("scdescription"),Ag()):vg()}function mg(){Ud(),document.body.removeEventListener("keydown",Rg)}function vg(){Cd(),cg=qc,rg=lg=!1,Ng("blank_focus"),pd(),Zd("stream_table_search_channel_a"),Wv=!1,Gv=void(Jv=Xv=Kv=ng=0),gg(),yg()}function gg(){Yv=[],$v=[],Qv=!0,Zv=0,tg=3500}function yg(){try{var e=new XMLHttpRequest;e.open("GET","https://api.twitch.tv/kraken/streams/"+encodeURIComponent(void 0!==Gv?Gv:qc)+"?"+Math.round(1e7*Math.random()),!0),e.timeout=tg,e.setRequestHeader("Client-ID",Eu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void(null!==JSON.parse(e.responseText).stream?(ug=e.responseText,gg(),Tg()):(gg(),bg()));_g()}},e.send(null)}catch(e){_g()}}function _g(){++Zv<eg?(tg+=Zv<5?250:3500,yg()):(ug=null,gg(),Tg())}function bg(){try{var e=new XMLHttpRequest;e.open("GET","http://tmi.twitch.tv/hosts?include_logins=1&host="+encodeURIComponent(Xc)+"&"+Math.round(1e7*Math.random()),!0),e.timeout=tg,e.setRequestHeader("Client-ID",Eu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void kg(e.responseText);wg()}},e.send(null)}catch(e){wg()}}function wg(){++Zv<eg?(tg+=3500,bg()):(ug=null,gg(),Tg())}function kg(e){var t=JSON.parse(e);void 0!==(Gv=t.hosts[0].target_login)?(gg(),yg()):(ug=null,gg(),Tg())}function Tg(){try{var t=new XMLHttpRequest;t.open("GET","https://api.twitch.tv/kraken/channels/"+Xc,!0),t.timeout=Xm,t.setRequestHeader("Client-ID",Eu),t.setRequestHeader("Accept","application/vnd.twitchtv.v5+json"),t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status){var e=JSON.parse(t.responseText);return dg=e.views,hg=e.followers,pg=e.description,void Cg()}Eg()}},t.send(null)}catch(e){Eg()}}function Eg(){++Zv<eg?(tg+=3500,Tg()):(pg=hg=dg="",Cg())}function Cg(){var e=document.createElement("tr"),t=document.createElement("tbody"),n=0;if((eu=document.createElement("tr")).className="follower_header",eu.innerHTML='<div id="scdescription" class="follower_header">'+pg+"</div>",document.getElementById("stream_table_search_channel_a").appendChild(t),document.getElementById("stream_table_search_channel_a").appendChild(eu),null!==ug){var i=JSON.parse(ug);if(null!==i.stream){var o=void 0!==Gv?zc+ne:"",r=i.stream;e.appendChild(xg("0_"+n,r.channel.name,r.preview.template,r.channel.status,r.game,Pd(JSON.stringify(r.stream_type))+o+r.channel.display_name,g+jf(r.created_at)+y+", "+m+Rd(r.viewers)+q,Nd(r.video_height,r.average_fps,r.channel.language))),n++}else rg=!0}else rg=!0;e.appendChild(Sg("0_"+n,zc,zc+O,qu)),n++,e.appendChild(Sg("0_"+n,zc,zc+H,zu)),n<2&&(n++,e.appendChild(lh(sg[9]+"0_"+n))),document.getElementById("stream_table_search_channel_a").appendChild(e),(e=document.createElement("tr")).appendChild(Ig("1_0",zc,zc,Vc)),document.getElementById("stream_table_search_channel_a").appendChild(e),Lg()}function xg(e,t,n,i,o,r,a,s){return n=n.replace("{width}x{height}",Cu),Yv.push(n),$v.push(sg[1]+e),(eu=document.createElement("td")).setAttribute("id",sg[8]+e),eu.setAttribute(Iu,t),eu.className="stream_cell",eu.innerHTML='<div id="'+sg[0]+e+'" class="stream_thumbnail_video" ><img id="'+sg[1]+e+'" class="stream_img"></div><div id="'+sg[2]+e+'" class="stream_text"><div id="'+sg[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;"><i class="icon-circle" style="color: '+(void 0!==Gv?"#FED000":"red")+'; font-size: 90%; aria-hidden="true"></i> '+gn+r+'</div><div id="'+sg[7]+e+'"class="stream_info" style="width:33%; float: right; text-align: right; display: inline-block;">'+s+'</div><div id="'+sg[4]+e+'"class="stream_info">'+i+'</div><div id="'+sg[5]+e+'"class="stream_info">'+f+o+'</div><div id="'+sg[6]+e+'"class="stream_info">'+a+"</div></div>",eu}function Sg(e,t,n,i){return Yv.push(i),$v.push(sg[1]+e),(eu=document.createElement("td")).setAttribute("id",sg[8]+e),eu.setAttribute(Iu,t),eu.className="stream_cell",eu.innerHTML='<div id="'+sg[0]+e+'" class="stream_thumbnail_video" ><img id="'+sg[1]+e+'" class="stream_img"></div><div id="'+sg[2]+e+'" class="stream_text"><div id="'+sg[3]+e+'" class="stream_channel">'+n+'</div><div id="'+sg[4]+e+'"class="stream_info hide"></div><div id="'+sg[5]+e+'"class="stream_info hide"></div><div id="'+sg[6]+e+'"class="stream_info hide" ></div><div id="'+sg[7]+e+'"class="stream_info hide"></div></div>',eu}function Ig(e,t,n,i){return Yv.push(i),$v.push(sg[1]+e),(eu=document.createElement("td")).setAttribute("id",sg[8]+e),eu.setAttribute(Iu,t),eu.className="stream_cell",eu.innerHTML='<div id="'+sg[0]+e+'" class="stream_thumbnail_video" ><div id="schannel_cont_heart" style="position: absolute; top: 5%; left: 6%;"></div><img id="'+sg[1]+e+'" class="stream_img_fallow"></div><div id="'+sg[2]+e+'" class="stream_text"><div id="'+sg[3]+e+'" class="stream_channel">'+n+'</div><div id="'+sg[4]+e+'"class="stream_channel hide"></div><div id="'+sg[5]+e+'"class="stream_info">'+Rd(dg)+F+'</div><div id="'+sg[6]+e+'"class="stream_info" >'+Rd(hg)+zt+'</div><div id="'+sg[7]+e+'"class="stream_info hide"></div></div>',eu}function Mg(){Qn?(document.getElementById("schannel_cont_heart").innerHTML='<i class="icon-heart" style="color: #00b300; font-size: 1200%; text-shadow: #FFFFFF 0px 0px 10px, #FFFFFF 0px 0px 10px, #FFFFFF 0px 0px 8px;"></i>',document.getElementById(sg[3]+"1_0").innerHTML=zc+Mt):(document.getElementById("schannel_cont_heart").innerHTML='<i class="icon-heart-o" style="color: #FFFFFF; font-size: 1200%; text-shadow: #000000 0px 0px 10px, #000000 0px 0px 10px, #000000 0px 0px 8px;"></i>',document.getElementById(sg[3]+"1_0").innerHTML=""!==Yc?zc+Lt:zc+Vt)}function Lg(){Mh(function(){lg||(fd(),lg=!0,Bg(),Ng("scdescription")),Ag(),nh(Yv,$v,Nu),Qv=!1})}function Ag(){ag?Mg():""!==Yc?(ei=!1,Ti()):(Qn=!1,Mg())}function Bg(){var e=Jv+"_"+(Jv?0:Xv);cd(sg[0]+e,Su)}function Og(){kh(Jv+"_"+(Jv?0:Xv),sg)}function jg(){ig=!0}function Hg(){if(Jv)""!==$n?(ei=!1,Qn?Li():Si()):(Ed(Rt),window.setTimeout(Cd,2e3));else{document.body.removeEventListener("keydown",Rg);var e=rg?1:0;Xv===0-e?(Qp=document.getElementById(sg[8]+Jv+"_"+Xv).getAttribute(Iu),-1!==(Zp=document.getElementById(sg[3]+Jv+"_"+Xv).textContent).indexOf(ne)&&(Zp=Zp.split(ne)[1]),Vd()):Xv===1-e?$w():Xv===2-e&&i_()}}function Rg(e){if(Qv)e.preventDefault();else if(ig)switch(ig=!1,window.setTimeout(jg,og),e.keyCode){case Nn:Md()?Id():Bd()?Ad():(jc=Nc,mg(),qd());break;case In:Og(),--Xv<0&&(Xv=rg?1:2),Bg();break;case Mn:Og(),(rg?1:2)<++Xv&&(Xv=0),Bg();break;case Ln:case An:Og(),Jv=Jv?0:1,Bg();break;case Sn:case Tn:vg();break;case Cn:case En:case xn:case Bn:Hg();break;case On:Sd();break;case jn:mg(),$d();break;case Hn:Ld();break;case Rn:x_||(Rc=Tc),jc=bc,Ud(),document.body.removeEventListener("keydown",Rg),qd()}else e.preventDefault()}function Ng(e){window.scroll(0,Ch()+xh(e)-uu)}var Pg=0,Fg=0,Dg=!1,qg=0,zg=[],Vg=[],Ug=!1,Gg=0,Jg=10,Xg=3500,Wg=0,Kg=0,Yg=!0,$g=25,Qg=!1,Zg=0,ey=!1,ty=!1,ny="",iy=!1,oy=!1,ry=!1,ay=["sc_thumbdiv","sc_img","sc_infodiv","sc_displayname","sc_cell","scempty_"];function sy(){jc=Ic,x_=oy=!0,ny!==T_&&(ty=!1),Gd(),document.getElementById("top_bar_user").innerHTML=t+Jd(E+" '"+T_+"'"),document.body.addEventListener("keydown",Ey,!1),ah(Pg),ty?(Th(ay[0],Pg,Fg,Ic,au,iu,!0),wd(Fg,Pg,wu,qg)):uy()}function ly(){Ud(),document.body.removeEventListener("keydown",Ey)}function cy(){qd()}function uy(){ny=T_,Cd(),ty=!1,Eh("blank_focus"),pd(),Zd("stream_table_search_channel"),Qg=ry=!1,zg=[],Pg=Fg=qg=Zg=Kg=Wg=0,Dg=iy=!(Vg=[]),bd(),dy(),hy()}function dy(){Ug=!0,Gg=0,Xg=3500}function hy(){try{var e=new XMLHttpRequest,t=qg+Kg;t&&Zg-1<t&&(t=Zg-bu,Qg=Dg=!0),e.open("GET","https://api.twitch.tv/kraken/search/channels?query="+encodeURIComponent(T_)+"&limit="+bu+"&offset="+t+"&"+Math.round(1e7*Math.random()),!0),e.timeout=Xg,e.setRequestHeader("Client-ID",Eu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void fy(e.responseText);py()}},e.send(null)}catch(e){py()}}function py(){++Gg<Jg?(Xg+=Gg<5?250:3500,hy()):(ry=Ug=!1,fd(),Ed(M))}function fy(e){var t=JSON.parse(e),n=t.channels.length;Zg=parseInt(t._total),n<bu&&(Dg=!0);var i=qg;ey=!(qg+=n);var o=n/wu;0<n%wu&&o++;for(var r,a,s,l,c=0,u=0;u<o;u++){for(a=i/wu+u,s=document.createElement("tr"),r=0;r<wu&&c<n;r++,c++)vy((l=t.channels[c])._id)?r--:s.appendChild(my(a,a+"_"+r,[l.name,l._id,l.logo,l.display_name]));for(;r<wu;r++)Dg&&!iy&&(iy=!0,qg=a*wu+r),s.appendChild(lh(ay[5]+a+"_"+r)),Vg.push(ay[5]+a+"_"+r);document.getElementById("stream_table_search_channel").appendChild(s)}gy()}function my(e,t,n){return zg.push(n[1]),e<4&&sh(n[2]),ch(t,ay,n)}function vy(e){for(var t=0;t<zg.length;t++)if(e===zg[t])return Wg++,!0;return!1}function gy(){Mh(function(){if(ty){if(0<Wg&&!Dg)return ry=!0,dy(),void yy();Wg=0,ry=Ug=!(Vg=[])}else fd(),ey?Ed(a):(ty=!0,wy(),ih(ay[1],9,Ru,wu)),Ug=!1})}function yy(){try{var e=new XMLHttpRequest;Td(Wg);var t=qg+Kg;t&&Zg-1<t&&(t=Zg-Tu,Qg=!0),e.open("GET","https://api.twitch.tv/kraken/search/channels?query="+encodeURIComponent(T_)+"&limit="+Tu+"&offset="+t+"&"+Math.round(1e7*Math.random()),!0),e.timeout=Xg,e.setRequestHeader("Client-ID",Eu),e.ontimeout=function(){},e.onreadystatechange=function(){4!==e.readyState||200!==e.status||by(e.responseText)},e.send(null)}catch(e){_y()}}function _y(){++Gg<Jg?(Xg+=Gg<5?250:3500,yy()):(Qg=!0,Wg=0,Vg=[],gy())}function by(e){var t,n,i=JSON.parse(e),o=i.channels.length,r=0,a=Vg.slice();Zg=parseInt(i._total),o<fu&&(Qg=!0);for(var s=0;s<Vg.length&&r<o;s++,r++)vy((t=i.channels[r]).name)?(Wg--,s--):(zg.push(t.name),SChannels_replaceCellEmpty(Vg[s],[t.name,t._id,t.logo,t.display_name],ay),Wg--,-1<(n=a.indexOf(a[s]))&&a.splice(n,1));Kg+=r,Qg?(Wg=0,Vg=[]):Vg=a,gy()}function wy(){_h(Pg,Fg,ay,Ic,wu,qg),3<Pg&&oh(ay[1],Pg,Ru,wu,4),qg/wu<Pg+ku&&!Dg&&!ry&&(ry=!0,dy(),hy())}function ky(){kh(Pg+"_"+Fg,ay)}function Ty(){Yg=!0}function Ey(e){var t;if(!Ug||ry)if(Yg)switch(Yg=!1,window.setTimeout(Ty,$g),e.keyCode){case Nn:Md()?Id():Bd()?Ad():(jc=jc===Rc?pc:Rc,ly(),x_=!1,cy());break;case In:if(Fd(Pg,Fg-1,ay[0]))ky(),Fg--,wy();else for(t=wu-1;-1<t;t--)if(Fd(Pg-1,t,ay[0])){ky(),Pg--,Fg=t,wy();break}break;case Mn:Fd(Pg,Fg+1,ay[0])?(ky(),Fg++,wy()):Fd(Pg+1,0,ay[0])&&(ky(),Pg++,Fg=0,wy());break;case Ln:for(t=0;t<wu;t++)if(Fd(Pg-1,Fg-t,ay[0])){ky(),Pg--,Fg-=t,wy();break}break;case An:for(t=0;t<wu;t++)if(Fd(Pg+1,Fg-t,ay[0])){ky(),Pg++,Fg-=t,wy();break}break;case Sn:case Tn:ry||uy();break;case Cn:case En:case xn:case Bn:ry||(qc=document.getElementById(ay[4]+Pg+"_"+Fg).getAttribute(Iu),Xc=document.getElementById(ay[4]+Pg+"_"+Fg).getAttribute("data-id"),zc=document.getElementById(ay[3]+Pg+"_"+Fg).textContent,Vc=document.getElementById(ay[1]+Pg+"_"+Fg).src,document.body.removeEventListener("keydown",Ey),Nc=Ic,jc=Tc,ag=Qn=!(Fc=!0),qd());break;case On:Sd();break;case jn:ly(),x_=!1,$d();break;case Hn:Ld();break;case Rn:jc=bc,ly(),cy()}else e.preventDefault();else e.preventDefault()}var Cy=0,xy=0,Sy=!1,Iy=0,My=[],Ly=[],Ay=!1,By=0,Oy=10,jy=3500,Hy=0,Ry=!0,Ny=25,Py=!1,Fy=0,Dy=0,qy=!1,zy=["sp_thumbdiv","sp_img","sp_infodiv","sp_title","sp_createdon","sp_game","sp_viwers","sp_duration","sp_cell","spempty_","sp_lang"],Vy=!1,Uy=null,Gy=2,Jy="week",Xy=0,Wy="",Ky="",Yy="",$y="",Qy="",Zy="",e_="",t_=!1,n_=!1;function i_(){jc=Cc,qc!==$y&&(Vy=!1),Gd(),s_(),document.getElementById("top_bar_user").innerHTML=zc,rd("label_switch","icon-calendar",c+Zt),document.body.addEventListener("keydown",__,!1),ah(Cy),Vy?(Th(zy[0],Cy,xy,Cc,ru,iu,!1),wd(xy,Cy,mu,Iy)):r_()}function o_(){Ud(),document.body.removeEventListener("keydown",__)}function r_(){Cd(),Eh("blank_focus"),pd(),$y=qc,Uy=null,Vy=!1,Zd("stream_table_search_clip"),Py=n_=!1,My=[],Cy=xy=Iy=Fy=Hy=0,Sy=t_=!(Ly=[]),bd(),a_(),l_()}function a_(){Ay=!0,By=0,jy=3500}function s_(){1===Gy?(document.getElementById("top_bar_game").innerHTML=H+se,Jy="day"):2===Gy?(document.getElementById("top_bar_game").innerHTML=H+le,Jy="week"):3===Gy?(document.getElementById("top_bar_game").innerHTML=H+ce,Jy="month"):4===Gy&&(document.getElementById("top_bar_game").innerHTML=H+ue,Jy="all"),localStorage.setItem("sclip_periodNumber",Gy)}function l_(){try{var e=new XMLHttpRequest;e.open("GET","https://api.twitch.tv/kraken/clips/top?channel="+encodeURIComponent(qc)+"&limit="+fu+"&period="+encodeURIComponent(Jy)+(null===Uy?"":"&cursor="+encodeURIComponent(Uy))+"&"+Math.round(1e7*Math.random()),!0),e.timeout=jy,e.setRequestHeader("Client-ID",Eu),e.setRequestHeader("Accept","application/vnd.twitchtv.v5+json"),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void u_(e.responseText);c_()}},e.send(null)}catch(e){c_()}}function c_(){++By<Oy?(jy+=By<5?250:3500,l_()):(n_=Ay=!1,fd(),Ed(M))}function u_(e){var t=JSON.parse(e),n=t.clips.length;Uy=t._cursor,n<fu&&(Sy=!0);var i=Iy;qy=!(Iy+=n);var o=n/mu;0<n%mu&&o++;for(var r,a,s,l,c=0,u=0;u<o;u++){for(a=i/mu+u,s=document.createElement("tr"),r=0;r<mu&&c<n;r++,c++)d_((l=t.clips[c]).tracking_id)?r--:(My.push(l.tracking_id),s.appendChild(wx(a,a+"_"+r,l.thumbnails.medium.split("-preview")[0]+".mp4,"+l.duration+","+l.game,[l.thumbnails.medium,l.title,N+Xd(l.created_at),f+l.game,Rd(l.views)+F,"["+l.language.toUpperCase()+"]",P+Bf(l.duration)],zy)));for(;r<mu;r++)Sy&&!t_&&(t_=!0,Iy=a*mu+r),s.appendChild(lh(zy[9]+a+"_"+r)),Ly.push(zy[9]+a+"_"+r);document.getElementById("stream_table_search_clip").appendChild(s)}h_()}function d_(e){for(var t=0;t<My.length;t++)if(e===My[t])return Hy++,!0;return!1}function h_(){Mh(function(){if(Vy){if(0<Hy&&!Sy)return n_=!0,a_(),void p_();Hy=0,n_=Ay=!(Ly=[])}else fd(),qy?Ed(L+H):(Vy=!0,v_(),ih(zy[1],9,Nu,mu)),Ay=!1})}function p_(){try{var e=new XMLHttpRequest;e.open("GET","https://api.twitch.tv/kraken/clips/top?channel="+encodeURIComponent(qc)+"&limit="+Hy+"&period="+Jy+(null===Uy?"":"&cursor="+encodeURIComponent(Uy))+"&"+Math.round(1e7*Math.random()),!0),e.timeout=jy,e.setRequestHeader("Client-ID",Eu),e.setRequestHeader("Accept","application/vnd.twitchtv.v5+json"),e.ontimeout=function(){},e.onreadystatechange=function(){4!==e.readyState||200!==e.status||m_(e.responseText)},e.send(null)}catch(e){f_()}}function f_(){++By<Oy?(jy+=By<5?250:3500,p_()):(Py=!0,Hy=0,Ly=[],h_())}function m_(e){var t,n,i=JSON.parse(e),o=i.clips.length,r=0,a=Ly.slice();Uy=i._cursor,o<Hy&&(Py=!0);for(var s=0;s<Ly.length&&r<o;s++,r++)d_((t=i.clips[r]).tracking_id)?(Hy--,s--):(My.push(t.tracking_id),Tx(Ly[s],t.thumbnails.medium.split("-preview")[0]+".mp4",[t.thumbnails.medium,t.title,N+Xd(t.created_at),f+t.game,Rd(t.views)+F,"["+t.language.toUpperCase()+"]",P+Bf(t.duration)],zy),Hy--,-1<(n=a.indexOf(a[s]))&&a.splice(n,1));Py?(Hy=0,Ly=[]):Ly=a,h_()}function v_(){bh(Cy,xy,zy,Cc,mu,Iy),3<Cy&&oh(zy[1],Cy,Nu,mu,4),Iy/mu<Cy+vu&&!Sy&&!n_&&(n_=!0,a_(),l_())}function g_(){kh(Cy+"_"+xy,zy)}function y_(){Ry=!0}function __(e){var t;if(!Ay||n_)if(Ry)switch(Ry=!1,window.setTimeout(y_,Ny),e.keyCode){case Nn:Md()?Id():Bd()?Ad():(jc=Tc,o_(),qd());break;case In:if(Fd(Cy,xy-1,zy[0]))g_(),xy--,v_();else for(t=mu-1;-1<t;t--)if(Fd(Cy-1,t,zy[0])){g_(),Cy--,xy=t,v_();break}break;case Mn:Fd(Cy,xy+1,zy[0])?(g_(),xy++,v_()):Fd(Cy+1,0,zy[0])&&(g_(),Cy++,xy=0,v_());break;case Ln:for(t=0;t<mu;t++)if(Fd(Cy-1,xy-t,zy[0])){g_(),Cy--,xy-=t,v_();break}break;case An:for(t=0;t<mu;t++)if(Fd(Cy+1,xy-t,zy[0])){g_(),Cy++,xy-=t,v_();break}break;case Sn:case Tn:r_();break;case wn:n_||(4<++Gy&&(Gy=1),s_(),r_());break;case kn:n_||(--Gy<1&&(Gy=4),s_(),r_());break;case Cn:case En:case xn:case Bn:Qy=document.getElementById(zy[8]+Cy+"_"+xy).getAttribute(Iu).split(","),Dy=parseInt(Qy[1]),Jc=Qy[2],Qy=Qy[0],Yy=document.getElementById(zy[3]+Cy+"_"+xy).textContent,Zy=document.getElementById(zy[4]+Cy+"_"+xy).textContent,Xy=document.getElementById(zy[5]+Cy+"_"+xy).textContent,Ky=document.getElementById(zy[6]+Cy+"_"+xy).textContent,e_=document.getElementById(zy[7]+Cy+"_"+xy).textContent,Wy=document.getElementById(zy[10]+Cy+"_"+xy).textContent,b_();break;case On:Sd();break;case jn:o_(),$d();break;case Hn:Ld();break;case Rn:x_||(Rc=Cc),jc=bc,o_(),qd()}else e.preventDefault();else e.preventDefault()}function b_(){document.body.addEventListener("keydown",lp,!1),document.body.removeEventListener("keydown",__),sd("scene2"),lm(),Zf(),Jf(),Kf(),ad("scene1"),Gh()}var w_=0,k_=0,T_="",E_=!1,C_="",x_=!1;function S_(){Cd(),rd("label_refresh","icon-arrow-circle-left",x),document.getElementById("label_search").style.display="none",document.getElementById("label_switch").style.display="none",document.getElementById("top_bar_live").style.display="none",document.getElementById("top_bar_game").style.display="none",document.getElementById("top_bar_vod").style.display="none",document.getElementById("top_bar_clip").style.display="none",document.getElementById("top_bar_user").innerHTML=t,sc.placeholder=b,cd("top_bar_user","icon_center_focus"),k_=w_=0,C_=document.querySelector("#search_input"),L_(),O_(),B_("search_input")}function I_(){j_(),document.body.removeEventListener("keydown",A_),L_(),jc=Rc,document.getElementById("label_search").style.display="block",document.getElementById("label_switch").style.display="block",document.getElementById("top_bar_live").style.display="inline-block",document.getElementById("top_bar_game").style.display="inline-block",document.getElementById("top_bar_vod").style.display="inline-block",document.getElementById("top_bar_clip").style.display="inline-block",document.getElementById("top_bar_user").innerHTML=d,ud("top_bar_user","icon_center_focus"),rd("label_refresh","icon-refresh",e+Yt),sc.value=""}function M_(){I_(),k_?1===k_?eb():2===k_&&Hb():sy()}function L_(){ud("chanel_button","button_search_focused"),ud("game_button","button_search_focused"),ud("live_button","button_search_focused"),w_&&(k_?1===k_?cd("game_button","button_search_focused"):2===k_&&cd("live_button","button_search_focused"):cd("chanel_button","button_search_focused"))}function A_(e){if(!E_)switch(e.keyCode){case Nn:Md()?Id():Bd()?Ad():(I_(),qd());break;case In:1===w_&&(--k_<0&&(k_=2),L_());break;case Mn:1===w_&&(2<++k_&&(k_=0),L_());break;case Ln:1===w_&&(w_=0,L_(),O_());break;case An:w_?1===w_&&(w_=0,L_(),O_()):(j_(),w_=1,L_());break;case Sn:case Tn:break;case wn:case kn:I_(),qd();break;case Cn:case En:case xn:case Bn:w_?""!==sc.value&&null!==sc.value?(T_=sc.value,sc.value="",M_()):(Ed(r),window.setTimeout(function(){Cd()},1e3)):O_();break;case On:Sd();break;case jn:I_(),$d();break;case Hn:Ld()}}function B_(e){window.scroll(0,Ch()+xh(e)-ru+uu)}function O_(){document.body.removeEventListener("keydown",A_),document.body.addEventListener("keydown",H_,!1),C_.addEventListener("input"),C_.addEventListener("compositionend"),sc.placeholder=b,C_.focus(),E_=!0}function j_(){C_.blur(),document.body.removeEventListener("keydown",H_),document.body.addEventListener("keydown",A_,!1),sc.placeholder=T+b,window.setTimeout(function(){E_=!1},500)}function H_(e){switch(e.keyCode){case zn:sc.value="",e.preventDefault();break;case Dn:case Fn:j_(),w_=1,L_();break;case Pn:sc.value=sc.value.slice(0,-1),e.preventDefault();break;case qn:sc.value+=" ",e.preventDefault()}}var R_=!1,N_=0,P_=0,F_=0,D_=!1,q_=0,z_=10,V_=3500,U_=0,G_=!0,J_=25,X_=0,W_=!1,K_=!1,Y_="",$_=!1,Q_="",Z_=["sgthumbdiv","sgimg","sginfodiv","sgdisplayname","sgviwers","sgcell","sgempty_"];function eb(){jc=wc,x_=!0,Gd(),Y_!==T_&&(R_=!1),document.getElementById("top_bar_user").innerHTML=t+Jd(p+" '"+T_+"'"),document.body.addEventListener("keydown",hb,!1),ah(N_),R_?(Th(Z_[0],N_,P_,wc,su,ou,!1),wd(P_,N_,yu,F_)):nb()}function tb(){x_||Ud(),document.body.removeEventListener("keydown",hb),$_=!1,Jc=Q_}function nb(){Y_=T_,Cd(),R_=!1,Eh("blank_focus"),pd(),Zd("stream_table_search_game"),K_=!1,N_=P_=F_=X_=U_=0,bd(),ib(),ob()}function ib(){D_=!0,q_=0,V_=3500}function ob(){try{var e=new XMLHttpRequest;e.open("GET","https://api.twitch.tv/kraken/search/games?query="+encodeURIComponent(T_)+"&"+Math.round(1e7*Math.random()),!0),e.timeout=V_,e.setRequestHeader("Client-ID",Eu),e.setRequestHeader("Accept","application/vnd.twitchtv.v5+json"),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void ab(e.responseText);rb()}},e.send(null)}catch(e){rb()}}function rb(){++q_<z_?(V_+=q_<5?250:3500,ob()):(D_=!1,fd(),Ed(M))}function ab(e){var t=JSON.parse(e),n=0;null!==t.games&&(n=t.games.length);var i=F_;W_=!(F_+=n);var o=n/yu;0<n%yu&&o++;for(var r,a,s,l,c=0,u=0;u<o;u++){for(a=i/yu+u,s=document.createElement("tr"),r=0;r<yu&&c<n;r++,c++)l=t.games[c],s.appendChild(sb(a,a+"_"+r,[l.name,l.box.template.replace("{width}x{height}",xu),""]));for(;r<yu;r++)K_||(K_=!0,F_=a*yu+r),s.appendChild(lh(Z_[6]+a+"_"+r));document.getElementById("stream_table_search_game").appendChild(s)}lb()}function sb(e,t,n){return e<2&&sh(n[1]),mh(t,Z_,n)}function lb(){Mh(function(){R_||(fd(),W_?Ed(a):(R_=!0,cb())),ih(Z_[1],7,Hu,yu),D_=!1})}function cb(){wh(N_,P_,Z_,wc,yu,ra),2<N_&&oh(Z_[1],N_,Hu,yu,3)}function ub(){kh(N_+"_"+P_,Z_)}function db(){G_=!0}function hb(e){var t;if(D_)e.preventDefault();else if(G_)switch(G_=!1,window.setTimeout(db,J_),e.keyCode){case Nn:Md()?Id():Bd()?Ad():(jc=jc===Rc?pc:Rc,x_=!1,tb(),qd());break;case In:if(Fd(N_,P_-1,Z_[0]))ub(),P_--,cb();else for(t=yu-1;-1<t;t--)if(Fd(N_-1,t,Z_[0])){ub(),N_--,P_=t,cb();break}break;case Mn:Fd(N_,P_+1,Z_[0])?(ub(),P_++,cb()):Fd(N_+1,0,Z_[0])&&(ub(),N_++,P_=0,cb());break;case Ln:for(t=0;t<yu;t++)if(Fd(N_-1,P_-t,Z_[0])){ub(),N_--,P_-=t,cb();break}break;case An:for(t=0;t<yu;t++)if(Fd(N_+1,P_-t,Z_[0])){ub(),N_++,P_-=t,cb();break}break;case Sn:case Tn:nb();break;case Cn:case En:case xn:case Bn:Q_=Jc,tb(),Jc=document.getElementById(Z_[5]+N_+"_"+P_).getAttribute(Iu),document.body.removeEventListener("keydown",hb),jc=vc,$_=!0,qd();break;case On:Sd();break;case jn:x_=!1,tb(),$d();break;case Hn:Ld();break;case Rn:jc=bc,tb(),qd()}else e.preventDefault()}var pb=0,fb=0,mb=!1,vb=0,gb=[],yb=[],_b=!1,bb=0,wb=10,kb=3500,Tb=0,Eb=0,Cb=!0,xb=25,Sb=!1,Ib=0,Mb=!1,Lb=!1,Ab=!1,Bb="",Ob=!1,jb=["sl_thumbdiv","sl_img","sl_infodiv","sl_displayname","sl_streamtitle","sl_streamgame","sl_viwers","sl_quality","sl_cell","slempty_"];function Hb(){jc=kc,x_=!0,Gd(),Bb!==T_&&(Lb=!1),document.getElementById("top_bar_user").innerHTML=t+Jd(h+" '"+T_+"'"),document.body.addEventListener("keydown",$b,!1),ah(pb),Lb?(Th(jb[0],pb,fb,kc,ru,iu,!1),wd(fb,pb,mu,vb)):Nb()}function Rb(){Ud(),document.body.removeEventListener("keydown",$b)}function Nb(){Bb=T_,Cd(),Lb=!1,Eh("blank_focus"),pd(),Zd("stream_table_search_live"),Sb=Ob=!1,gb=[],pb=fb=vb=Ib=Eb=Tb=0,mb=Ab=!(yb=[]),bd(),Pb(),Fb()}function Pb(){_b=!0,bb=0,kb=3500}function Fb(){try{var e=new XMLHttpRequest,t=vb+Eb;t&&Ib-1<t&&(t=Ib-fu,Sb=mb=!0),e.open("GET","https://api.twitch.tv/kraken/search/streams?query="+encodeURIComponent(T_)+"&limit="+fu+"&offset="+t+"&"+Math.round(1e7*Math.random()),!0),e.timeout=kb,e.setRequestHeader("Client-ID",Eu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void qb(e.responseText);Db()}},e.send(null)}catch(e){Db()}}function Db(){++bb<wb?(kb+=bb<5?250:3500,Fb()):(Ob=_b=!1,fd(),Ed(M))}function qb(e){var t=JSON.parse(e),n=t.streams.length;Ib=parseInt(t._total),n<fu&&(mb=!0);var i=vb;Mb=!(vb+=n);var o=n/mu;0<n%mu&&o++;for(var r,a,s,l,c=0,u=0;u<o;u++){for(a=i/mu+u,s=document.createElement("tr"),r=0;r<mu&&c<n;r++,c++)Vb((l=t.streams[c]).channel.name)?r--:s.appendChild(zb(a,a+"_"+r,l.channel.name,[l.preview.template.replace("{width}x{height}",Cu),Pd(JSON.stringify(l.stream_type))+l.channel.display_name,l.channel.status,l.game,g+jf(l.created_at)+y+", "+m+Rd(l.viewers)+q,Nd(l.video_height,l.average_fps,l.channel.language)]));for(;r<mu;r++)mb&&!Ab&&(Ab=!0,vb=a*mu+r),s.appendChild(lh(jb[9]+a+"_"+r)),yb.push(jb[9]+a+"_"+r);document.getElementById("stream_table_search_live").appendChild(s)}Ub()}function zb(e,t,n,i){return gb.push(n),e<mu&&sh(i[0]),hh(n,t,jb,i)}function Vb(e){for(var t=0;t<gb.length;t++)if(e===gb[t])return Tb++,!0;return!1}function Ub(){Mh(function(){if(Lb){if(0<Tb&&!mb)return Ob=!0,Pb(),void Gb();Tb=0,Ob=_b=!(yb=[])}else fd(),Mb?Ed(a):(Lb=!0,Wb(),ih(jb[1],9,Nu,mu)),_b=!1})}function Gb(){try{var e=new XMLHttpRequest;Td(Tb);var t=vb+Eb;t&&Ib-1<t&&(t=Ib-Tu,Sb=!0),e.open("GET","https://api.twitch.tv/kraken/search/streams?query="+encodeURIComponent(T_)+"&limit="+Tu+"&offset="+t+"&"+Math.round(1e7*Math.random()),!0),e.timeout=kb,e.setRequestHeader("Client-ID","anwtqukxvrtwxb4flazs2lqlabe3hqv"),e.ontimeout=function(){},e.onreadystatechange=function(){4!==e.readyState||200!==e.status||Xb(e.responseText)},e.send(null)}catch(e){Jb()}}function Jb(){++bb<wb?(kb+=bb<5?250:3500,Gb()):(Sb=!0,Tb=0,yb=[],Ub())}function Xb(e){var t,n,i=JSON.parse(e),o=i.streams.length,r=0,a=yb.slice();Ib=parseInt(i._total),o<fu&&(Sb=!0);for(var s=0;s<yb.length&&r<o;s++,r++)Vb((t=i.streams[r]).channel.name)?(Tb--,s--):(gb.push(t.channel.name),ph(Al[s],t.channel.name,[t.preview.template.replace("{width}x{height}",Cu),Pd(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,g+jf(t.created_at)+y+", "+m+Rd(t.viewers)+q,Nd(t.video_height,t.average_fps,t.channel.language)],jb),Tb--,-1<(n=a.indexOf(a[s]))&&a.splice(n,1));Eb+=r,Sb?(Tb=0,yb=[]):yb=a,Ub()}function Wb(){bh(pb,fb,jb,kc,mu,vb),3<pb&&oh(jb[1],pb,Nu,mu,4),vb/mu<pb+vu&&!mb&&!Ob&&(Ob=!0,Pb(),Fb())}function Kb(){kh(pb+"_"+fb,jb)}function Yb(){Cb=!0}function $b(e){var t;if(!_b||Ob)if(Cb)switch(Cb=!1,window.setTimeout(Yb,xb),e.keyCode){case Nn:Md()?Id():Bd()?Ad():(jc=jc===Rc?pc:Rc,Rb(),x_=!1,qd());break;case In:if(Fd(pb,fb-1,jb[0]))Kb(),fb--,Wb();else for(t=mu-1;-1<t;t--)if(Fd(pb-1,t,jb[0])){Kb(),pb--,fb=t,Wb();break}break;case Mn:Fd(pb,fb+1,jb[0])?(Kb(),fb++,Wb()):Fd(pb+1,0,jb[0])&&(Kb(),pb++,fb=0,Wb());break;case Ln:for(t=0;t<mu;t++)if(Fd(pb-1,fb-t,jb[0])){Kb(),pb--,fb-=t,Wb();break}break;case An:for(t=0;t<mu;t++)if(Fd(pb+1,fb-t,jb[0])){Kb(),pb++,fb-=t,Wb();break}break;case Sn:case Tn:Ob||Nb();break;case Cn:case En:case xn:case Bn:Qp=document.getElementById(jb[8]+pb+"_"+fb).getAttribute(Iu),Zp=document.getElementById(jb[3]+pb+"_"+fb).textContent,document.body.removeEventListener("keydown",$b),Vd();break;case On:Sd();break;case jn:Rb(),x_=!1,$d();break;case Hn:Ld();break;case Rn:jc=bc,Rb(),qd()}else e.preventDefault();else e.preventDefault()}var Qb=0,Zb=10,ew=3500,tw=[],nw=[],iw=[],ow="",rw=0,aw=!1,sw=!1,lw="",cw=0;function uw(){Zi.length?aw=!1:(window.clearInterval(Kc),document.removeEventListener("visibilitychange",Qd),aw=!0),lw=Zi[0],dw(),hw(),cw=0,aw?webapis.preview.setPreviewData(vw()):pw()}function dw(){tw=[],nw=[],iw=[]}function hw(){Qb=0,Zb=10,ew=1e4}function pw(){try{var e,t=new XMLHttpRequest;cw?1===cw?e="https://api.twitch.tv/kraken/streams/?channel="+encodeURIComponent(ow)+"&limit=21&"+Math.round(1e7*Math.random()):2===cw?e="https://api.twitch.tv/api/users/"+encodeURIComponent(lw)+"/follows/games/live?limit=6&"+Math.round(1e7*Math.random()):3===cw&&(e="https://api.twitch.tv/api/users/"+encodeURIComponent(lw)+"/followed/hosting?limit=10&"+Math.round(1e7*Math.random())):e="https://api.twitch.tv/kraken/users/"+encodeURIComponent(lw)+"/follows/channels?limit=100&sortby=last_broadcast&"+Math.round(1e7*Math.random()),t.open("GET",e,!0),t.timeout=ew,t.setRequestHeader("Client-ID",Eu),t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState)if(200===t.status)try{mw(t.responseText)}catch(e){}else fw()},t.send(null)}catch(e){fw()}}function fw(){++Qb<Zb?(ew+=1e3,pw()):dw()}function mw(e){var t=JSON.parse(e);if(cw)1===cw?tw=t.streams:2===cw?nw=t.follows:3===cw&&(iw=t.hosts);else{ow="";for(var n=0;n<t.follows.length;n++)ow+=t.follows[n].channel.name+",";ow=ow.slice(0,-1)}cw<3?(cw++,hw(),pw()):(rw=(new Date).getTime(),webapis.preview.setPreviewData(gw()),window.setTimeout(dw,1e3))}function vw(){return'{"sections":['+yw(!0)}function gw(){var e,t,n,i='{"sections":[';if(t=tw.length){for(i+='{"title":"'+K+" "+lw+'","tiles":[',e=0;e<t;e++)i+=(e?",":"")+'{"title":"'+(n=Pd(JSON.stringify(tw[e].stream_type))+tw[e].channel.display_name)+'","subtitle":"'+f+tw[e].game+'","image_ratio":"16by9","image_url":"'+tw[e].preview.template.replace("{width}x{height}",Cu)+'","action_data":"{\\"videoIdx\\": \\"'+tw[e].channel.name+'\\",\\"videoTitleIdx\\": \\"'+n+'\\"}","is_playable":true}';i+="]},"}if(t=iw.length){for(i+='{"title":"'+Y+" "+lw+'","tiles":[',e=0;e<t;e++)i+=(e?",":"")+'{"title":"'+(iw[e].display_name+ne+iw[e].target.channel.display_name)+'","subtitle":"'+f+iw[e].target.meta_game+'","image_ratio":"16by9","image_url":"'+iw[e].target.preview_urls.template.replace("{width}x{height}",Cu)+'","action_data":"{\\"videoIdx\\": \\"'+iw[e].target.channel.name+'\\",\\"videoTitleIdx\\": \\"'+iw[e].target.channel.display_name+'\\"}","is_playable":true}';i+="]},"}if(t=nw.length){for(i+='{"title":"'+$+" "+lw+'","tiles":[',e=0;e<t;e++)i+=(e?",":"")+'{"title":"'+nw[e].game.name+'","image_ratio":"2by3","image_url":"'+nw[e].game.box.template.replace("{width}x{height}",xu)+'","action_data":"{\\"gameIdx\\": \\"'+nw[e].game.name+'\\"}","is_playable":false}';i+="]},"}return i+yw(!1)}function yw(e){return'{"title":"'+h+'","tiles":[{"title":"'+u+h+'","image_ratio":"16by9","image_url":"'+Yu+'","action_data":"{\\"screenIdx\\": '+pc+'}","is_playable":false}]},'+(e?'{"title":"'+Z+'","tiles":[{"title":"'+u+Z+'","subtitle":"'+ae+'","image_ratio":"16by9","image_url":"'+Zu+'","action_data":"{\\"screenIdx\\": '+fc+'}","is_playable":false}]},':'{"title":"'+d+'","tiles":[{"title":"'+u+d+'","image_ratio":"16by9","image_url":"'+Qu+'","action_data":"{\\"screenIdx\\": '+xc+'}","is_playable":false}]},')+'{"title":"'+p+'","tiles":[{"title":"'+u+p+'","image_ratio":"16by9","image_url":"'+$u+'","action_data":"{\\"screenIdx\\": '+mc+'}","is_playable":false}]}]}'}function _w(){var e;try{e=tizen.application.getCurrentApplication().getRequestedAppControl()}catch(e){}var t,n,i,o,r,a,s,l=!1;if(e){sw=!0,t=e.appControl.data;for(var c=0;c<t.length;c++)if("PAYLOAD"===t[c].key)if(n=JSON.parse(t[c].value[0]).values,JSON.parse(n).videoIdx){if(i=JSON.parse(n).videoIdx,o=JSON.parse(n).videoTitleIdx,$p&&Qp===i)return;Qp=i,Zp=o,Np?Rf():Vm?Ov():Dh?$h():zd(jc),window.setTimeout(Vd,10)}else JSON.parse(n).gameIdx?(l=(r=JSON.parse(n).gameIdx)!==Jc,s=jc,Jc=r,jc=vc,zd(s),Np?window.setTimeout(Hf,10):Vm?window.setTimeout(Bv,10):Dh?window.setTimeout(Yh,10):l&&qd()):JSON.parse(n).screenIdx&&(l=(a=JSON.parse(n).screenIdx)!==jc,s=jc,jc=a,zd(s),Np?window.setTimeout(Hf,10):Vm?window.setTimeout(Bv,10):Dh?window.setTimeout(Yh,10):l&&qd())}}var bw=0,ww=0,kw=!1,Tw=0,Ew=[],Cw=[],xw=!1,Sw=0,Iw=10,Mw=3500,Lw=0,Aw=0,Bw=!0,Ow=25,jw=!1,Hw=0,Rw=0,Nw=!1,Pw=!1,Fw="",Dw="",qw=["sv_thumbdiv","sv_img","sv_infodiv","sv_title","sv_streamon","sv_duration","sv_viwers","sv_quality","sv_cell","svempty_","sv_game"],zw=!1,Vw=!1,Uw="",Gw="",Jw="",Xw="",Ww="",Kw="",Yw=!1;function $w(){jc=Ec,qc!==Uw&&(zw=!1),Gd(),rd("label_switch","icon-switch",l+Zt),document.getElementById("top_bar_user").innerHTML=zc,document.body.addEventListener("keydown",hk,!1),ah(bw),zw?(document.getElementById("top_bar_game").innerHTML=Vw?j:O,Th(qw[0],bw,ww,Ec,ru,iu,!1),wd(ww,bw,mu,Tw)):Zw()}function Qw(){Ud(),document.body.removeEventListener("keydown",hk)}function Zw(){document.getElementById("top_bar_game").innerHTML=Vw?j:O,Cd(),Uw=qc,zw=!1,Eh("blank_focus"),pd(),Zd("stream_table_search_vod"),jw=Yw=!1,Ew=[],bw=ww=Tw=Hw=Aw=Lw=0,kw=Pw=!(Cw=[]),bd(),ek(),tk()}function ek(){xw=!0,Sw=0,Mw=3500}function tk(){try{var e=new XMLHttpRequest,t=Tw+Aw;t&&Hw-1<t&&(t=Hw-fu,jw=kw=!0),e.open("GET","https://api.twitch.tv/kraken/channels/"+encodeURIComponent(qc)+"/videos?limit="+fu+"&broadcast_type="+(Vw?"highlight":"archive")+"&sort=time&offset="+t+"&"+Math.round(1e7*Math.random()),!0),e.timeout=Mw,e.setRequestHeader("Client-ID",Eu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void ik(e.responseText);nk()}},e.send(null)}catch(e){nk()}}function nk(){++Sw<Iw?(Mw+=Sw<5?250:3500,tk()):(Yw=xw=!1,fd(),Ed(M))}function ik(e){var t=JSON.parse(e),n=t.videos.length;Hw=parseInt(t._total),n<fu&&(kw=!0);var i=Tw;Nw=!(Tw+=n);var o=n/mu;0<n%mu&&o++;for(var r,a,s,l,c=0,u=0;u<o;u++){for(a=i/mu+u,s=document.createElement("tr"),r=0;r<mu&&c<n;r++,c++)l=t.videos[c],-1!==(JSON.stringify(l.preview)+"").indexOf("404_processing_320x240.png")?(Lw++,r--):ok(l._id)?r--:(Ew.push(l._id),s.appendChild(wx(a,a+"_"+r,l._id+","+l.length+","+l.language+","+l.game,[l.preview.replace("320x240",Cu),l.title,N+Xd(l.created_at),Qt+f+l.game,Rd(l.views)+F,Nd(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.language),P+Bf(l.length)],qw)));for(;r<mu;r++)kw&&!Pw&&(Pw=!0,Tw=a*mu+r),s.appendChild(lh(qw[9]+a+"_"+r)),Cw.push(qw[9]+a+"_"+r);document.getElementById("stream_table_search_vod").appendChild(s)}rk()}function ok(e){for(var t=0;t<Ew.length;t++)if(e===Ew[t])return Lw++,!0;return!1}function rk(){Mh(function(){if(zw){if(0<Lw&&!kw)return Yw=!0,ek(),void ak();Lw=0,Yw=xw=!(Cw=[])}else fd(),Nw?Ed(L+(Vw?j:O)+A+C):(zw=!0,ck(),ih(qw[1],9,Nu,mu)),xw=!1})}function ak(){try{var e=new XMLHttpRequest;Td(Lw);var t=Tw+Aw;t&&Hw-1<t&&(t=Hw-Tu,jw=!0),e.open("GET","https://api.twitch.tv/kraken/channels/"+encodeURIComponent(qc)+"/videos?limit="+Tu+"&broadcast_type="+(Vw?"highlight":"archive")+"&sort=time&offset="+t+"&"+Math.round(1e7*Math.random()),!0),e.timeout=Mw,e.setRequestHeader("Client-ID",Eu),e.ontimeout=function(){},e.onreadystatechange=function(){4!==e.readyState||200!==e.status||lk(e.responseText)},e.send(null)}catch(e){sk()}}function sk(){++Sw<Iw?(Mw+=Sw<5?250:3500,ak()):(jw=!0,Lw=0,Cw=[],rk())}function lk(e){var t,n,i=JSON.parse(e),o=i.videos.length,r=0,a=Cw.slice();Hw=parseInt(i._total),o<fu&&(jw=!0);for(var s=0;s<Cw.length&&r<o;s++,r++)t=i.videos[r],-1!==(JSON.stringify(t.preview)+"").indexOf("404_processing_320x240.png")?s--:ok(t._id)?(Lw--,s--):(Ew.push(t._id),Tx(Cw[s],t._id+","+t.length+","+t.language+","+t.game,[t.preview.replace("320x240",Cu),t.title,N+Xd(t.created_at),Qt+f+t.game,Rd(t.views)+F,Nd(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.language),P+Bf(t.length)],qw),Lw--,-1<(n=a.indexOf(a[s]))&&a.splice(n,1));Aw+=r,jw?(Lw=0,Cw=[]):Cw=a,rk()}function ck(){bh(bw,ww,qw,Ec,mu,Tw),3<bw&&oh(qw[1],bw,Nu,mu,4),Tw/mu<bw+vu&&!kw&&!Yw&&(Yw=!0,ek(),tk())}function uk(){kh(bw+"_"+ww,qw)}function dk(){Bw=!0}function hk(e){var t;if(!xw||Yw)if(Bw)switch(Bw=!1,window.setTimeout(dk,Ow),e.keyCode){case Nn:Md()?Id():Bd()?Ad():(jc=Tc,Qw(),qd());break;case In:if(Fd(bw,ww-1,qw[0]))uk(),ww--,ck();else for(t=mu-1;-1<t;t--)if(Fd(bw-1,t,qw[0])){uk(),bw--,ww=t,ck();break}break;case Mn:Fd(bw,ww+1,qw[0])?(uk(),ww++,ck()):Fd(bw+1,0,qw[0])&&(uk(),bw++,ww=0,ck());break;case Ln:for(t=0;t<mu;t++)if(Fd(bw-1,ww-t,qw[0])){uk(),bw--,ww-=t,ck();break}break;case An:for(t=0;t<mu;t++)if(Fd(bw+1,ww-t,qw[0])){uk(),bw++,ww-=t,ck();break}break;case wn:case kn:Yw||(Vw=!Vw,localStorage.setItem("Svod_highlight",Vw?"true":"false"),Zw());break;case Sn:case Tn:Yw||Zw();break;case Cn:case En:case xn:case Bn:Gw=document.getElementById(qw[8]+bw+"_"+ww).getAttribute(Iu).split(","),Rw=parseInt(Gw[1]),Fw=Gw[2],Dw=Gw[3],Gw=Gw[0].substr(1),Jw=document.getElementById(qw[3]+bw+"_"+ww).textContent,Ww=document.getElementById(qw[4]+bw+"_"+ww).textContent,Kw=document.getElementById(qw[5]+bw+"_"+ww).textContent,Xw=document.getElementById(qw[10]+bw+"_"+ww).textContent+", "+document.getElementById(qw[6]+bw+"_"+ww).textContent,pk();break;case On:Sd();break;case jn:Qw(),$d();break;case Hn:Ld();break;case Rn:x_||(Rc=Ec),jc=bc,Qw(),qd()}else e.preventDefault();else e.preventDefault()}function pk(){document.body.addEventListener("keydown",Uv,!1),document.body.removeEventListener("keydown",hk),sd("scene2"),Hv(),lm(),Zf(),Jf(),Kf(),ad("scene1"),fv()}var fk=0,mk=0,vk=!1,gk=0,yk=!1,_k=0,bk=10,wk=3500,kk=!0,Tk=25,Ek=[],Ck=0,xk=!1,Sk=!1,Ik="",Mk=!1,Lk=!1,Ak=["uc_thumbdiv","uc_img","uc_infodiv","uc_displayname","uc_cell","ucempty_"];function Bk(){jc=Sc,oy=!1,cd("top_bar_user","icon_center_focus"),document.getElementById("top_bar_user").innerHTML=d+Jd(Yc+Q),document.body.addEventListener("keydown",Gk,!1),ah(fk),Ik!==Yc&&(Sk=!1),Sk?(Th(Ak[0],fk,mk,Sc,au,iu,!0),wd(mk,fk,wu,gk)):jk()}function Ok(){ud("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",Gk),document.getElementById("top_bar_user").innerHTML=d}function jk(){Cd(),Eh("blank_focus"),pd(),Ik=Yc,Sk=!1,Zd("stream_table_user_channels"),fk=mk=gk=Ck=0,Mk=vk=Lk=!1,bd(),Ek=[],Hk(),Rk()}function Hk(){yk=!0,_k=0,wk=3500}function Rk(){try{var e=new XMLHttpRequest;e.open("GET","https://api.twitch.tv/kraken/users/"+encodeURIComponent(Yc)+"/follows/channels?limit=100&offset="+Ck+"&sortby=created_at&"+Math.round(1e7*Math.random()),!0),e.timeout=wk,e.setRequestHeader("Client-ID",Eu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void Pk(e.responseText);Nk()}},e.send(null)}catch(e){Nk()}}function Nk(){++_k<bk?(wk+=_k<5?250:3500,Rk()):(Sk=Lk=yk=!1,fd(),Ed(M))}function Pk(e){var t=JSON.parse(e).follows,n=t.length;if(n){for(var i="",o=0;o<n;o++)i=t[o].channel.name+","+t[o].channel._id+","+t[o].channel.logo+","+t[o].channel.display_name,-1===Ek.indexOf(i)&&Ek.push(i);Ck+=n,Hk(),Rk()}else Ek.sort(function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}),Fk()}function Fk(){var e=bu,t=gk,n=Ek.length-t;n<e&&(e=n),e<bu&&(vk=!0),xk=!(gk+=e);var i=e/wu;0<e%wu&&i++;for(var o,r,a,s=t,l=0;l<i;l++){for(r=t/wu+l,a=document.createElement("tr"),o=0;o<wu&&s<Ek.length;o++,s++)a.appendChild(Dk(r,r+"_"+o,Ek[s].split(",")));for(;o<wu;o++)vk&&!Mk&&(Mk=!0,gk=r*wu+o),a.appendChild(lh(Ak[5]+r+"_"+o));document.getElementById("stream_table_user_channels").appendChild(a)}qk()}function Dk(e,t,n){return e<4&&sh(n[2]),ch(t,Ak,n)}function qk(){Mh(function(){Sk?Lk=yk=!1:(fd(),xk?Ed(L+Q):(Sk=!0,zk(),ih(Ak[1],9,Ru,wu)),yk=!1)})}function zk(){_h(fk,mk,Ak,Sc,wu,gk),3<fk&&oh(Ak[1],fk,Ru,wu,4),gk/wu<fk+ku&&!vk&&!Lk&&(Lk=!0,Hk(),Rk())}function Vk(){kh(fk+"_"+mk,Ak)}function Uk(){kk=!0}function Gk(e){var t;if(yk&&!Lk||!kk)e.preventDefault();else switch(kk=!1,window.setTimeout(Uk,Tk),e.keyCode){case Nn:Md()?Id():Bd()?Ad():Lk||(jc=xc,Ok(),qd());break;case In:if(Fd(fk,mk-1,Ak[0]))Vk(),mk--,zk();else for(t=wu-1;-1<t;t--)if(Fd(fk-1,t,Ak[0])){Vk(),fk--,mk=t,zk();break}break;case Mn:Fd(fk,mk+1,Ak[0])?(Vk(),mk++,zk()):Fd(fk+1,0,Ak[0])&&(Vk(),fk++,mk=0,zk());break;case Ln:for(t=0;t<wu;t++)if(Fd(fk-1,mk-t,Ak[0])){Vk(),fk--,mk-=t,zk();break}break;case An:for(t=0;t<wu;t++)if(Fd(fk+1,mk-t,Ak[0])){Vk(),fk++,mk-=t,zk();break}break;case Sn:case Tn:Lk||jk();break;case wn:jc=gc,Ok(),qd();break;case kn:jc=_c,Ok(),qd();break;case Cn:case En:case xn:case Bn:Lk||(qc=document.getElementById(Ak[4]+fk+"_"+mk).getAttribute(Iu),Xc=document.getElementById(Ak[4]+fk+"_"+mk).getAttribute("data-id"),zc=document.getElementById(Ak[3]+fk+"_"+mk).textContent,Vc=document.getElementById(Ak[1]+fk+"_"+mk).src,document.body.removeEventListener("keydown",Gk),Nc=Sc,jc=Tc,ag=Qn=Fc=!0,qd());break;case On:Sd();break;case jn:Ok(),$d();break;case Hn:Ld();break;case Rn:Rc=Sc,jc=bc,Ok(),qd()}}var Jk=0,Xk=0,Wk=!1,Kk=0,Yk=[],$k=[],Qk=!1,Zk=0,eT=10,tT=3500,nT=0,iT=0,oT=!0,rT=25,aT=!1,sT=0,lT=!1,cT=!1,uT=!0,dT=!1,hT="",pT=!1,fT=["ug_thumbdiv","ug_img","ug_infodiv","ug_displayname","ug_viwers","ug_cell","ugempty_"];function mT(){jc=_c,rd("label_refresh","icon-refresh",Kt+$+"/"+Wt+Yt),cd("top_bar_user","icon_center_focus"),document.body.addEventListener("keydown",AT,!1),ah(Jk),hT!==Yc&&(dT=!1),dT?(document.getElementById("top_bar_user").innerHTML=d+Jd(Yc+" "+(uT?$:Wt)),Th(fT[0],Jk,Xk,_c,su,ou,!1),wd(Xk,Jk,yu,Kk)):gT()}function vT(){rd("label_refresh","icon-refresh",e+Yt),ud("top_bar_user","icon_center_focus"),document.getElementById("top_bar_user").innerHTML=d,document.body.removeEventListener("keydown",AT)}function gT(){Cd(),Eh("blank_focus"),document.getElementById("top_bar_user").innerHTML=d+Jd(Yc+" "+(uT?$:Wt)),pd(),hT=Yc,dT=!1,Zd("stream_table_user_games"),aT=pT=!1,Yk=[],Jk=Xk=Kk=sT=iT=nT=0,Wk=cT=!($k=[]),bd(),yT(),_T()}function yT(){Qk=!0,Zk=0,tT=3500}function _T(){try{var e=new XMLHttpRequest,t=Kk+iT;t&&sT-1<t&&(t=sT-gu,aT=Wk=!0),e.open("GET","https://api.twitch.tv/api/users/"+encodeURIComponent(Yc)+"/follows/games"+(uT?"/live":"")+"?limit="+gu+"&offset="+t+"&"+Math.round(1e7*Math.random()),!0),e.timeout=tT,e.setRequestHeader("Client-ID",Eu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void wT(e.responseText);bT()}},e.send(null)}catch(e){bT()}}function bT(){++Zk<eT?(tT+=Zk<5?250:3500,_T()):(pT=Qk=!1,fd(),Ed(M))}function wT(e){var t=JSON.parse(e),n=t.follows.length;sT=parseInt(t._total),n<gu&&(Wk=!0);var i=Kk;lT=!(Kk+=n);var o=n/yu;0<n%yu&&o++;for(var r,a,s,l,c=0,u=0;u<o;u++){for(a=i/yu+u,s=document.createElement("tr"),r=0;r<yu&&c<n;r++,c++)l=t.follows[c],uT?TT(l.game.name)?r--:s.appendChild(kT(a,a+"_"+r,[l.game.name,l.game.box.template.replace("{width}x{height}",xu),Rd(l.channels)+" "+E+m+Rd(l.viewers)+q])):TT(l.name)?r--:s.appendChild(kT(a,a+"_"+r,[l.name,l.box.template.replace("{width}x{height}",xu),""]));for(;r<yu;r++)Wk&&!cT&&(cT=!0,Kk=a*yu+r),s.appendChild(lh(fT[6]+a+"_"+r)),$k.push(fT[6]+a+"_"+r);document.getElementById("stream_table_user_games").appendChild(s)}ET()}function kT(e,t,n){return Yk.push(n[0]),e<2&&sh(n[1]),mh(t,fT,n)}function TT(e){for(var t=0;t<Yk.length;t++)if(e===Yk[t])return nT++,!0;return!1}function ET(){Mh(function(){if(dT){if(0<nT&&!Wk)return pT=!0,yT(),void CT();nT=0,pT=Qk=!($k=[])}else fd(),lT?Ed(L+$):(dT=!0,IT(),ih(fT[1],7,Hu,yu)),Qk=!1})}function CT(){try{var e=new XMLHttpRequest;Td(nT);var t=Kk+iT;t&&sT-1<t&&(t=sT-Tu,aT=!0),e.open("GET","https://api.twitch.tv/api/users/"+encodeURIComponent(Yc)+"/follows/games"+(uT?"/live":"")+"?limit="+gu+"&offset="+t+"&"+Math.round(1e7*Math.random()),!0),e.timeout=tT,e.setRequestHeader("Client-ID",Eu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void ST(e.responseText);xT()}},e.send(null)}catch(e){xT()}}function xT(){++Zk<eT?(tT+=Zk<5?250:3500,CT()):(aT=!0,nT=0,$k=[],ET())}function ST(e){var t,n,i=JSON.parse(e),o=i.follows.length,r=0,a=$k.slice();sT=parseInt(i._total),o<gu&&(aT=!0);for(var s=0;s<$k.length&&r<o;s++,r++)t=i.follows[r],uT?TT(t.game.name)?(nT--,s--):(Yk.push(t.game.name),vh($k[s],[t.game.name,t.game.box.template.replace("{width}x{height}",xu),Rd(t.channels)+" "+E+m+Rd(t.viewers)+q],fT),nT--,-1<(n=a.indexOf(a[s]))&&a.splice(n,1)):TT(t.name)?(nT--,s--):(Yk.push(t.name),vh($k[s],[t.name,t.box.template.replace("{width}x{height}",xu),""],fT),nT--,-1<(n=a.indexOf(a[s]))&&a.splice(n,1));iT+=r,aT?(nT=0,$k=[]):$k=a,ET()}function IT(){wh(Jk,Xk,fT,_c,yu,Kk),2<Jk&&oh(fT[1],Jk,Hu,yu,3),Kk/yu<Jk+_u&&!Wk&&!pT&&(pT=!0,yT(),_T())}function MT(){kh(Jk+"_"+Xk,fT)}function LT(){oT=!0}function AT(e){var t;if(!Qk||pT)if(oT)switch(oT=!1,window.setTimeout(LT,rT),e.keyCode){case Nn:Md()?Id():Bd()?Ad():(jc=xc,vT(),qd());break;case In:if(Fd(Jk,Xk-1,fT[0]))MT(),Xk--,IT();else for(t=yu-1;-1<t;t--)if(Fd(Jk-1,t,fT[0])){MT(),Jk--,Xk=t,IT();break}break;case Mn:Fd(Jk,Xk+1,fT[0])?(MT(),Xk++,IT()):Fd(Jk+1,0,fT[0])&&(MT(),Jk++,Xk=0,IT());break;case Ln:for(t=0;t<yu;t++)if(Fd(Jk-1,Xk-t,fT[0])){MT(),Jk--,Xk-=t,IT();break}break;case An:for(t=0;t<yu;t++)if(Fd(Jk+1,Xk-t,fT[0])){MT(),Jk++,Xk-=t,IT();break}break;case Sn:case Tn:pT||(uT=!uT,gT(),localStorage.setItem("user_Games_live",uT?"true":"false"),SC());break;case wn:pT||(jc=Sc,vT(),qd());break;case kn:jc=yc,vT(),qd();break;case Cn:case En:case xn:case Bn:Jc=document.getElementById(fT[5]+Jk+"_"+Xk).getAttribute(Iu),Pc=_c,jc=vc,Vo=Dc=!0,vT(),qd();break;case On:Sd();break;case jn:vT(),$d();break;case Hn:Ld();break;case Rn:Rc=_c,jc=bc,Vo=!1,vT(),qd()}else e.preventDefault();else e.preventDefault()}var BT=0,OT=0,jT=!1,HT=0,RT=[],NT=[],PT=!1,FT=0,DT=10,qT=3500,zT=0,VT=0,UT=!0,GT=25,JT=!1,XT=0,WT=!1,KT=["uh_thumbdiv","uh_img","uh_infodiv","uh_displayname","uh_hosttitle","uh_hostgame","uh_viwers","uh_quality","uh_cell","uhempty_"],YT=!1,$T="",QT=!1,ZT=!1;function eE(){jc=yc,cd("top_bar_user","icon_center_focus"),document.getElementById("top_bar_user").innerHTML=d+Jd(Yc+Y),document.body.addEventListener("keydown",vE,!1),ah(BT),$T!==Yc&&(YT=!1),YT?(Th(KT[0],BT,OT,yc,ru,iu,!1),wd(OT,BT,mu,HT)):nE()}function tE(){ud("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",vE),document.getElementById("top_bar_user").innerHTML=d}function nE(){Cd(),Eh("blank_focus"),pd(),$T=Yc,YT=!1,Zd("stream_table_user_host"),JT=ZT=!1,RT=[],BT=OT=HT=XT=VT=zT=0,jT=QT=!(NT=[]),bd(),iE(),oE()}function iE(){PT=!0,FT=0,qT=3500}function oE(){try{var e=new XMLHttpRequest,t=HT+VT;t&&XT-1<t&&(t=XT-fu,JT=jT=!0),e.open("GET","https://api.twitch.tv/api/users/"+encodeURIComponent(Yc)+"/followed/hosting?limit="+fu+"&offset="+t+"&"+Math.round(1e7*Math.random()),!0),e.timeout=qT,e.setRequestHeader("Client-ID",Eu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void aE(e.responseText);rE()}},e.send(null)}catch(e){rE()}}function rE(){++FT<DT?(qT+=FT<5?250:3500,oE()):(ZT=PT=!1,fd(),Ed(M))}function aE(e){var t=JSON.parse(e),n=t.hosts.length;XT=parseInt(t._total),n<fu&&(jT=!0);var i=HT;WT=!(HT+=n);var o=n/mu;0<n%mu&&o++;for(var r,a,s,l,c=0,u=0;u<o;u++){for(a=i/mu+u,s=document.createElement("tr"),r=0;r<mu&&c<n;r++,c++)lE((l=t.hosts[c]).display_name+ne+l.target.channel.display_name)?r--:s.appendChild(sE(a,a+"_"+r,l.display_name+ne+l.target.channel.display_name,[l.target.preview_urls.template.replace("{width}x{height}",Cu),l.display_name+ne+l.target.channel.display_name,l.target.title,l.target.meta_game,m.charAt(1).toUpperCase()+m.slice(2)+Rd(l.target.viewers)+q,""]));for(;r<mu;r++)jT&&!QT&&(QT=!0,HT=a*mu+r),s.appendChild(lh(KT[9]+a+"_"+r)),NT.push(KT[9]+a+"_"+r);document.getElementById("stream_table_user_host").appendChild(s)}cE()}function sE(e,t,n,i){return RT.push(n),e<mu&&sh(i[0]),hh(n,t,KT,i)}function lE(e){for(var t=0;t<RT.length;t++)if(e===RT[t])return zT++,!0;return!1}function cE(){Mh(function(){if(YT){if(0<zT&&!jT)return ZT=!0,iE(),void uE();zT=0,ZT=PT=!(NT=[])}else fd(),WT?Ed(L+Y):(YT=!0,pE(),ih(KT[1],9,Nu,mu)),PT=!1})}function uE(){try{var e=new XMLHttpRequest;Td(zT);var t=HT+VT;t&&XT-1<t&&(t=XT-Tu,JT=!0),e.open("GET","https://api.twitch.tv/kraken/hosts?game="+encodeURIComponent(Jc)+"&limit="+Tu+"&offset="+t+"&"+Math.round(1e7*Math.random()),!0),e.timeout=qT,e.setRequestHeader("Client-ID",Eu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void hE(e.responseText);dE()}},e.send(null)}catch(e){dE()}}function dE(){++FT<DT?(qT+=FT<5?250:3500,uE()):(JT=!0,zT=0,NT=[],cE())}function hE(e){var t,n,i=JSON.parse(e),o=i.streams.length,r=0,a=NT.slice();XT=parseInt(i._total),o<fu&&(JT=!0);for(var s=0;s<NT.length&&r<o;s++,r++)lE((t=i.hosts[r]).display_name+ne+t.target.channel.display_name)?(zT--,s--):(RT.push(t.display_name+ne+t.target.channel.display_name),ph(NT[s],t.target.channel.name,[t.target.preview_urls.template.replace("{width}x{height}",Cu),t.display_name+ne+t.target.channel.display_name,t.target.title,t.target.meta_game,m.charAt(1).toUpperCase()+m.slice(2)+Rd(t.target.viewers)+q,""],KT),zT--,-1<(n=a.indexOf(a[s]))&&a.splice(n,1));VT+=r,JT?(zT=0,NT=[]):NT=a,cE()}function pE(){bh(BT,OT,KT,yc,mu,HT),3<BT&&oh(KT[1],BT,Nu,mu,4),HT/mu<BT+vu&&!jT&&!ZT&&(ZT=!0,iE(),oE())}function fE(){kh(BT+"_"+OT,KT)}function mE(){UT=!0}function vE(e){var t;if(!PT||ZT)if(UT)switch(UT=!1,window.setTimeout(mE,GT),e.keyCode){case Nn:Md()?Id():Bd()?Ad():(jc=xc,tE(),qd());break;case In:if(Fd(BT,OT-1,KT[0]))fE(),OT--,pE();else for(t=mu-1;-1<t;t--)if(Fd(BT-1,t,KT[0])){fE(),BT--,OT=t,pE();break}break;case Mn:Fd(BT,OT+1,KT[0])?(fE(),OT++,pE()):Fd(BT+1,0,KT[0])&&(fE(),BT++,OT=0,pE());break;case Ln:for(t=0;t<mu;t++)if(Fd(BT-1,OT-t,KT[0])){fE(),BT--,OT-=t,pE();break}break;case An:for(t=0;t<mu;t++)if(Fd(BT+1,OT-t,KT[0])){fE(),BT++,OT-=t,pE();break}break;case Sn:case Tn:ZT||nE();break;case wn:ZT||(jc=_c,tE(),qd());break;case kn:jc=gc,tE(),qd();break;case Cn:case En:case xn:case Bn:Qp=document.getElementById(KT[8]+BT+"_"+OT).getAttribute(Iu),Zp=document.getElementById(KT[3]+BT+"_"+OT).textContent.split(ne)[1],document.body.removeEventListener("keydown",vE),Vd();break;case On:Sd();break;case jn:tE(),$d();break;case Hn:Ld();break;case Rn:Rc=yc,jc=bc,tE(),qd()}else e.preventDefault();else e.preventDefault()}var gE=0,yE=0,_E=!1,bE=0,wE=[],kE=0,TE=[],EE=!1,CE=0,xE=10,SE=3500,IE=0,ME=0,LE=!0,AE=25,BE=!1,OE=0,jE=0,HE=!1,RE=["ul_thumbdiv","ul_img","ul_infodiv","ul_displayname","ul_streamtitle","ul_streamgame","ul_viwers","ul_quality","ul_cell","ulempty_"],NE=!1,PE="",FE="",DE=!1,qE=!1;function zE(){jc=gc,cd("top_bar_user","icon_center_focus"),document.getElementById("top_bar_user").innerHTML=d+Jd(Yc+K),document.body.addEventListener("keydown",sC,!1),FE!==Yc&&(NE=!1),NE?(Th(RE[0],gE,yE,gc,ru,iu,!1),wd(yE,gE,mu,bE)):UE()}function VE(){ud("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",sC),document.getElementById("top_bar_user").innerHTML=d}function UE(){Cd(),Eh("blank_focus"),pd(),NE=!1,FE=Yc,Zd("stream_table_user_live"),BE=qE=!1,wE=[],gE=yE=bE=kE=OE=ME=IE=jE=0,_E=DE=!(TE=[]),PE="",bd(),GE(),JE()}function GE(){EE=!0,CE=0,SE=3500}function JE(){try{var e=new XMLHttpRequest;e.open("GET","https://api.twitch.tv/kraken/users/"+encodeURIComponent(Yc)+"/follows/channels?limit=100&offset="+jE+"&sortby=created_at&"+Math.round(1e7*Math.random()),!0),e.timeout=SE,e.setRequestHeader("Client-ID",Eu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void WE(e.responseText);XE()}},e.send(null)}catch(e){XE()}}function XE(){++CE<xE?(SE+=CE<5?250:3500,JE()):(qE=EE=!1,fd(),Ed(M))}function WE(e){var t=JSON.parse(e).follows,n=t.length;if(n){for(var i="",o=0;o<n;o++)i=t[o].channel.name+",",-1===PE.indexOf(i)&&(PE+=i);jE+=n,GE(),JE()}else PE=PE.slice(0,-1),GE(),KE()}function KE(){try{var e=new XMLHttpRequest,t=bE+ME;t&&OE-1<t&&(t=OE-fu,BE=_E=!0),e.open("GET","https://api.twitch.tv/kraken/streams/?channel="+encodeURIComponent(PE)+"&limit="+fu+"&offset="+t+"&stream_type=all&"+Math.round(1e7*Math.random()),!0),e.timeout=SE,e.setRequestHeader("Client-ID",Eu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void $E(e.responseText);YE()}},e.send(null)}catch(e){YE()}}function YE(){++CE<xE?(SE+=CE<5?250:3500,KE()):(qE=EE=!1,fd(),Ed(M))}function $E(e){var t=JSON.parse(e),n=t.streams.length;OE=parseInt(t._total),n<fu&&(_E=!0);var i=bE;HE=!(bE+=n);var o=n/mu;0<n%mu&&o++;for(var r,a,s,l,c=0,u=0;u<o;u++){for(a=i/mu+u,s=document.createElement("tr"),r=0;r<mu&&c<n;r++,c++)ZE((l=t.streams[c]).channel.name)?r--:s.appendChild(QE(a,a+"_"+r,l.channel.name,[l.preview.template.replace("{width}x{height}",Cu),Pd(JSON.stringify(l.stream_type))+l.channel.display_name,l.channel.status,l.game,g+jf(l.created_at)+y+", "+m+Rd(l.viewers)+q,Nd(l.video_height,l.average_fps,l.channel.language)]));for(;r<mu;r++)_E&&!DE&&(DE=!0,bE=a*mu+r),s.appendChild(lh(RE[9]+a+"_"+r)),TE.push(RE[9]+a+"_"+r);document.getElementById("stream_table_user_live").appendChild(s)}eC()}function QE(e,t,n,i){return wE.push(n),e<mu&&sh(i[0]),hh(n,t,RE,i)}function ZE(e){for(var t=0;t<wE.length;t++)if(e===wE[t])return IE++,!0;return!1}function eC(){Mh(function(){if(NE){if(0<IE&&!_E)return qE=!0,GE(),void tC();IE=0,qE=EE=!(TE=[])}else fd(),HE?Ed(L+K):(NE=!0,oC(),ih(RE[1],9,Nu,mu)),EE=!1})}function tC(){try{var e=new XMLHttpRequest;Td(IE);var t=bE+ME;t&&OE-1<t&&(t=OE-Tu,BE=!0),e.open("GET","https://api.twitch.tv/kraken/streams?game="+encodeURIComponent(Jc)+"&limit="+Tu+"&offset="+t,!0),e.timeout=SE,e.setRequestHeader("Client-ID",Eu),e.ontimeout=function(){},e.onreadystatechange=function(){4!==e.readyState||200!==e.status||iC(e.responseText)},e.send(null)}catch(e){nC()}}function nC(){++CE<xE?(SE+=CE<5?250:3500,tC()):(BE=!0,IE=0,TE=[],eC())}function iC(e){var t,n,i=JSON.parse(e),o=i.streams.length,r=0,a=TE.slice();OE=parseInt(i._total),o<fu&&(BE=!0);for(var s=0;s<TE.length&&r<o;s++,r++)ZE((t=i.streams[r]).channel.name)?(IE--,s--):(wE.push(t.channel.name),ph(TE[s],t.channel.name,[t.preview.template.replace("{width}x{height}",Cu),Pd(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,g+jf(t.created_at)+y+", "+m+Rd(t.viewers)+q,Nd(t.video_height,t.average_fps,t.channel.language)],RE),IE--,-1<(n=a.indexOf(a[s]))&&a.splice(n,1));ME+=r,BE?(IE=0,TE=[]):TE=a,eC()}function oC(){bh(gE,yE,RE,gc,mu,bE),3<gE&&oh(RE[1],gE,Nu,mu,4),bE/mu<gE+vu&&!_E&&!qE&&(qE=!0,GE(),JE())}function rC(){kh(gE+"_"+yE,RE)}function aC(){LE=!0}function sC(e){var t;if(!EE||qE)if(LE)switch(LE=!1,window.setTimeout(aC,AE),e.keyCode){case Nn:Md()?Id():Bd()?Ad():(jc=xc,VE(),qd());break;case In:if(Fd(gE,yE-1,RE[0]))rC(),yE--,oC();else for(t=mu-1;-1<t;t--)if(Fd(gE-1,t,RE[0])){rC(),gE--,yE=t,oC();break}break;case Mn:Fd(gE,yE+1,RE[0])?(rC(),yE++,oC()):Fd(gE+1,0,RE[0])&&(rC(),gE++,yE=0,oC());break;case Ln:for(t=0;t<mu;t++)if(Fd(gE-1,yE-t,RE[0])){rC(),gE--,yE-=t,oC();break}break;case An:for(t=0;t<mu;t++)if(Fd(gE+1,yE-t,RE[0])){rC(),gE++,yE-=t,oC();break}break;case Sn:case Tn:qE||UE();break;case wn:qE||(jc=yc,VE(),qd());break;case kn:qE||(jc=Sc,VE(),qd());break;case Cn:case En:case xn:case Bn:Qp=document.getElementById(RE[8]+gE+"_"+yE).getAttribute(Iu),Zp=document.getElementById(RE[3]+gE+"_"+yE).textContent,document.body.removeEventListener("keydown",sC),Vd();break;case On:Sd();break;case jn:VE(),$d();break;case Hn:Ld();break;case Rn:Rc=gc,jc=bc,VE(),qd()}else e.preventDefault();else e.preventDefault()}var lC=0,cC=0,uC=!0,dC=25,hC=7,pC=0,fC=null,mC=["u_thumbdiv","u_img","u_infodiv","u_displayname","u_cell"],vC=!1,gC=!0,yC=[],_C=[],bC=0;function wC(){jc=xc,Cd(),cd("top_bar_user","icon_center_focus"),document.body.addEventListener("keydown",VC,!1),vC?Th(mC[0],lC,cC,xc,au,160,!0):TC()}function kC(){fi(0),ud("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",VC)}function TC(){Cd(),vC=!1,Eh("blank_focus"),pd(),Zd("stream_table_user"),yC=[],_C=[],gC=!(lC=cC=bC=0),EC()}function EC(){for(var e,t,n=document.createElement("tbody"),i=0;i<Zi.length;i++)t=0,Yc=Zi[i],(eu=document.createElement("tr")).className="follower_header",eu.innerHTML='<div class="follower_header">'+Yc+R+(i?"":re)+"</div>",document.getElementById("stream_table_user").appendChild(n),document.getElementById("stream_table_user").appendChild(eu),(e=document.createElement("tr")).appendChild(CC(i+"_"+t,zc,K,Fu)),t++,e.appendChild(CC(i+"_"+t,zc,Y,Du)),t++,e.appendChild(CC(i+"_"+t,zc,uT?$:Wt,Pu)),t++,e.appendChild(CC(i+"_"+t,zc,Q,Vu)),t++,i?e.appendChild(CC(i+"_"+t,zc,oe,Ju)):e.appendChild(CC(i+"_"+t,zc,Z,Gu)),t++,e.appendChild(CC(i+"_"+t,zc,ee,Uu)),t++,e.appendChild(CC(i+"_"+t,zc,-1<vi(Yc)?Et:Tt,Xu)),document.getElementById("stream_table_user").appendChild(e);xC()}function CC(e,t,n,i){return yC[bC]=i,_C[bC]=mC[1]+e,bC++,sh(i),(eu=document.createElement("td")).setAttribute("id",mC[4]+e),eu.setAttribute(Iu,t),eu.className="stream_cell",eu.innerHTML='<div id="'+mC[0]+e+'" class="stream_thumbnail_channel" ><img id="'+mC[1]+e+'" class="stream_img"></div><div id="'+mC[2]+e+'" class="stream_text"><div id="'+mC[3]+e+'" class="stream_info_user">'+n+"</div></div>",eu}function xC(){Mh(function(){vC||(fd(),vC=!0,0<Jn.length&&IC(),AC()),nh(yC,_C,Nu),gC=!1})}function SC(){for(var e=0;e<Zi.length;e++)document.getElementById(mC[3]+e+"_2").innerHTML=uT?$:Wt}function IC(){for(var e=0;e<Zi.length;e++)MC(e)}function MC(e){Vn=0,Gn=1e4,Fi(e)}function LC(e,t){if(document.getElementById(mC[3]+t+"_6").innerHTML=e?Et:Tt,!e){var n=vi(Zi[t]);-1<n&&hi(n)}}function AC(){cd(mC[0]+lC+"_"+cC,"stream_thumbnail_focused"),Th(mC[0],lC,cC,xc,au,160,!0)}function BC(){ud(mC[0]+lC+"_"+cC,"stream_thumbnail_focused")}function OC(){uC=!0}function jC(){5!==cC&&document.body.removeEventListener("keydown",VC),Yc=Zi[lC],fi(lC),cC?1===cC?eE():2===cC?mT():3===cC?Bk():4===cC?lC?yo(lC):(Hc=xc,oo()):5===cC?FC():6===cC&&ii():zE()}function HC(e){for(var t=JSON.parse(e),n=t.token.authorization.scopes,i="",o=0;o<n.length;o++)i+=n[o];return-1!==i.indexOf("user_follows_edit")&&-1!==i.indexOf("user_subscriptions")&&t.token.user_name+""===Yc&&t.token.valid+""=="true"}function RC(e){if(document.getElementById(mC[3]+lC+"_"+cC).innerHTML=e?Et:Tt,!e){var t=vi(Zi[lC]);-1<t&&hi(t)}}function NC(){window.clearTimeout(fC)}function PC(){fC=window.setTimeout(DC,6e3)}function FC(){PC(),document.getElementById("main_dialog_remove").innerHTML=Jt+nn+Yc+"?",sd("main_remove_dialog")}function DC(){NC(),ad("main_remove_dialog"),pC=0,zC()}function qC(){return ld("main_remove_dialog")}function zC(){pC?(ud("remove_cancel","button_search_focused"),cd("remove_yes","button_search_focused")):(cd("remove_cancel","button_search_focused"),ud("remove_yes","button_search_focused"))}function VC(e){var t;if(gC)e.preventDefault();else if(uC)switch(uC=!1,window.setTimeout(OC,dC),e.keyCode){case Nn:qC()?DC():Md()?Id():Bd()?Ad():(jc=Hc===xc?pc:Hc,kC(),qd());break;case In:if(qC())--pC<0&&(pC=1),zC(),NC(),PC();else if(Fd(lC,cC-1,mC[0]))BC(),cC--,AC();else if(Fd(lC-1,0,mC[0])){for(t=hC-1;-1<t;t--)if(Fd(lC-1,t,mC[0])){BC(),lC--,cC=t,AC();break}}else BC(),cC=hC-1,AC();break;case Mn:qC()?(1<++pC&&(pC=0),zC(),NC(),PC()):(Fd(lC,cC+1,mC[0])?(BC(),cC++):(Fd(lC+1,0,mC[0])?(BC(),lC++):BC(),cC=0),AC());break;case Ln:for(t=0;t<hC;t++)if(Fd(lC-1,cC-t,mC[0])){BC(),lC--,cC-=t,AC();break}break;case An:for(t=0;t<hC;t++)if(Fd(lC+1,cC-t,mC[0])){BC(),lC++,cC-=t,AC();break}break;case Sn:case Tn:TC();break;case wn:Hc=xc,jc=mc,kC(),qd();break;case kn:Hc=xc,jc=pc,kC(),qd();break;case Cn:case En:case xn:case Bn:if(qC()){var n=pC;DC(),n&&(document.body.removeEventListener("keydown",VC),vo(lC))}else jC();break;case On:Sd();break;case jn:kC(),$d();break;case Hn:Ld();break;case Rn:Rc=xc,jc=bc,kC(),qd()}else e.preventDefault()}var UC=0,GC=0,JC=!1,XC=0,WC=[],KC=[],YC=!1,$C=0,QC=10,ZC=3500,ex=0,tx=0,nx=!0,ix=25,ox=!1,rx=0,ax=!1,sx=!1,lx="week",cx=2,ux=(Ws=!1,["v_thumbdiv","v_img","v_infodiv","v_title","v_streamon","v_duration","v_viwers","v_quality","v_cell","svempty_","v_game"]),dx=!1,hx=!1,px=!1;function fx(){jc=Lc,cd("top_bar_vod","icon_center_focus"),document.body.addEventListener("keydown",Ox,!1),rd("label_refresh","icon-refresh",l+Yt),rd("label_controls","icon-calendar",c+" (C)"),ah(UC),dx?(Th(ux[0],UC,GC,Lc,ru,iu,!1),wd(GC,UC,mu,XC),Hx()):vx()}function mx(){Ud(),document.body.removeEventListener("keydown",Ox),ud("top_bar_vod","icon_center_focus"),document.getElementById("top_bar_vod").innerHTML=en,rd("label_refresh","icon-refresh",e+Yt),rd("label_controls","icon-question-circle",ln)}function vx(){Hx(),Cd(),dx=!1,Eh("blank_focus"),pd(),Zd("stream_table_vod"),ox=px=!1,WC=[],UC=GC=XC=rx=tx=ex=0,JC=sx=!(KC=[]),bd(),gx(),yx()}function gx(){YC=!0,$C=0,ZC=3500}function yx(){try{var e=new XMLHttpRequest,t=XC+tx;t&&rx-1<t&&(t=rx-fu,ox=JC=!0),e.open("GET","https://api.twitch.tv/kraken/videos/top?limit="+fu+"&broadcast_type="+(hx?"highlight":"archive")+"&sort=views&offset="+t+"&period="+lx+"&"+Math.round(1e7*Math.random()),!0),e.timeout=ZC,e.setRequestHeader("Client-ID",Eu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return void bx(e.responseText);_x()}},e.send(null)}catch(e){_x()}}function _x(){++$C<QC?(ZC+=$C<5?250:3500,yx()):(px=YC=!1,fd(),Ed(M))}function bx(e){var t=JSON.parse(e),n=t.videos.length;rx=parseInt(t._total),n<fu&&(JC=!0);var i=XC;ax=!(XC+=n);var o=n/mu;0<n%mu&&o++;for(var r,a,s,l,c=0,u=0;u<o;u++){for(a=i/mu+u,s=document.createElement("tr"),r=0;r<mu&&c<n;r++,c++)l=t.videos[c],-1!==(JSON.stringify(l.preview)+"").indexOf("404_processing_320x240.png")?(ex++,r--):Cx(l._id)?r--:(WC.push(l._id),s.appendChild(wx(a,a+"_"+r,l._id+","+l.length+","+l.language+","+l.game+","+l.channel.name,[l.preview.replace("320x240",Cu),l.channel.display_name,N+Xd(l.created_at),l.title+nn+Qt+f+l.game,Rd(l.views)+F,Nd(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.language),P+Bf(l.length)],ux)));for(;r<mu;r++)JC&&!sx&&(sx=!0,XC=a*mu+r),s.appendChild(lh(ux[9]+a+"_"+r)),KC.push(ux[9]+a+"_"+r);document.getElementById("stream_table_vod").appendChild(s)}xx()}function wx(e,t,n,i,o){return e<mu&&sh(i[0]),kx(n,t,i,o)}function kx(e,t,n,i){return(eu=document.createElement("td")).setAttribute("id",i[8]+t),eu.setAttribute(Iu,e),eu.className="stream_cell",eu.innerHTML=Ex(t,n,i),eu}function Tx(e,t,n,i){splitedId=e.split(i[9])[1],(e=document.getElementById(e)).setAttribute(Iu,t),e.innerHTML=Ex(splitedId,n,i),e.setAttribute("id",i[8]+splitedId)}function Ex(e,t,n){return'<div id="'+n[0]+e+'" class="stream_thumbnail_video" ><img id="'+n[1]+e+'" class="stream_img" data-src="'+t[0]+'"></div><div id="'+n[2]+e+'" class="stream_text"><div id="'+n[3]+e+'" class="stream_info" style="width: 72%; display: inline-block; font-size: 155%;">'+t[1]+'</div><div id="'+n[7]+e+'"class="stream_info" style="width:27%; float: right; text-align: right; display: inline-block;">'+t[5]+'</div><div><div id="'+n[4]+e+'"class="stream_info" style="width: 59%; display: inline-block;">'+t[2]+'</div><div id="'+n[5]+e+'"class="stream_info" style="width: 39%; display: inline-block; float: right; text-align: right;">'+t[6]+'</div></div><div id="'+n[10]+e+'"class="stream_info">'+t[3]+'</div><div id="'+n[6]+e+'"class="stream_info">'+t[4]+"</div></div>"}function Cx(e){for(var t=0;t<WC.length;t++)if(e===WC[t])return ex++,!0;return!1}function xx(){Mh(function(){if(dx){if(0<ex&&!JC)return px=!0,gx(),void Sx();ex=0,px=YC=!(KC=[])}else fd(),ax?Ed(L+(hx?j:O)+A+C):(dx=!0,Lx(),ih(ux[1],9,Nu,mu)),YC=!1})}function Sx(){try{var e=new XMLHttpRequest;Td(ex);var t=XC+tx;t&&rx-1<t&&(t=rx-Tu,ox=!0),e.open("GET","https://api.twitch.tv/kraken/videos/top?limit="+fu+"&broadcast_type="+(hx?"highlight":"archive")+"&sort=views&offset="+t+"&period="+lx+"&"+Math.round(1e7*Math.random()),!0),e.timeout=ZC,e.setRequestHeader("Client-ID",Eu),e.ontimeout=function(){},e.onreadystatechange=function(){4!==e.readyState||200!==e.status||Mx(e.responseText)},e.send(null)}catch(e){Ix()}}function Ix(){++$C<QC?(ZC+=$C<5?250:3500,Sx()):(ox=!0,ex=0,KC=[],xx())}function Mx(e){var t,n,i=JSON.parse(e),o=i.videos.length,r=0,a=KC.slice();rx=parseInt(i._total),o<fu&&(ox=!0);for(var s=0;s<KC.length&&r<o;s++,r++)t=i.videos[r],-1!==(JSON.stringify(t.preview)+"").indexOf("404_processing_320x240.png")?s--:Cx(t._id)?(ex--,s--):(WC.push(t._id),Tx(KC[s],t._id+","+t.length+","+t.language+","+t.game+","+t.channel.name,[t.preview.replace("320x240",Cu),t.channel.display_name,N+Xd(t.created_at),t.title+nn+Qt+f+t.game,Rd(t.views)+F,Nd(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.language),P+Bf(t.length)],ux),ex--,-1<(n=a.indexOf(a[s]))&&a.splice(n,1));tx+=r,ox?(ex=0,KC=[]):KC=a,xx()}function Lx(){bh(UC,GC,ux,Lc,mu,XC),3<UC&&oh(ux[1],UC,Nu,mu,4),XC/mu<UC+vu&&!JC&&!px&&(px=!0,gx(),yx())}function Ax(){kh(UC+"_"+GC,ux)}function Bx(){nx=!0}function Ox(e){var t;if(!YC||px)if(nx)switch(nx=!1,window.setTimeout(Bx,ix),e.keyCode){case Nn:Md()?Id():Bd()?Ad():(jc=Hc===Lc?pc:Hc,mx(),qd());break;case In:if(Fd(UC,GC-1,ux[0]))Ax(),GC--,Lx();else for(t=mu-1;-1<t;t--)if(Fd(UC-1,t,ux[0])){Ax(),UC--,GC=t,Lx();break}break;case Mn:Fd(UC,GC+1,ux[0])?(Ax(),GC++,Lx()):Fd(UC+1,0,ux[0])&&(Ax(),UC++,GC=0,Lx());break;case Ln:for(t=0;t<mu;t++)if(Fd(UC-1,GC-t,ux[0])){Ax(),UC--,GC-=t,Lx();break}break;case An:for(t=0;t<mu;t++)if(Fd(UC+1,GC-t,ux[0])){Ax(),UC++,GC-=t,Lx();break}break;case wn:Hc=Lc,jc=Ac,mx(),qd();break;case kn:Hc=Lc,jc=mc,mx(),qd();break;case Sn:case Tn:px||(hx=!hx,localStorage.setItem("Vod_highlight",hx?"true":"false"),vx());break;case Cn:case En:case xn:case Bn:Gw=document.getElementById(ux[8]+UC+"_"+GC).getAttribute(Iu).split(","),Rw=parseInt(Gw[1]),Fw=Gw[2],Dw=Gw[3],qc=Gw[4],Gw=Gw[0].substr(1),Jw="",zc=document.getElementById(ux[3]+UC+"_"+GC).textContent,Ww=document.getElementById(ux[4]+UC+"_"+GC).textContent,Kw=document.getElementById(ux[5]+UC+"_"+GC).textContent,Xw=document.getElementById(ux[10]+UC+"_"+GC).innerHTML+", "+document.getElementById(ux[6]+UC+"_"+GC).textContent,jx();break;case On:Sd();break;case jn:mx(),$d();break;case Hn:px||(4<++cx&&(cx=1),vx());break;case Rn:x_||(Rc=Lc),jc=bc,mx(),qd()}else e.preventDefault();else e.preventDefault()}function jx(){document.body.addEventListener("keydown",Uv,!1),document.body.removeEventListener("keydown",Ox),sd("scene2"),Hv(),lm(),Zf(),Jf(),Kf(),Ws=!0,ad("scene1"),fv()}function Hx(){1===cx?(document.getElementById("top_bar_vod").innerHTML=en+Jd((hx?j:O)+se),lx="day"):2===cx?(document.getElementById("top_bar_vod").innerHTML=en+Jd((hx?j:O)+le),lx="week"):3===cx?(document.getElementById("top_bar_vod").innerHTML=en+Jd((hx?j:O)+ce),lx="month"):4===cx&&(document.getElementById("top_bar_vod").innerHTML=en+Jd((hx?j:O)+ue),lx="all"),localStorage.setItem("vod_periodNumber",cx)}