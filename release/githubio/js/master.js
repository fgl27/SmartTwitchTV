var t,n,a,e,i,o,s,d,l,c,p,m,r,u,_,f,v,h,g,y,b,w,k,A,C,E,M,I,S,x,P,L,T,B,O,G,U,R,N,V,D,F,J,H,q,z,X,j,W,Y,Q,Z,K,$,ee,te,ne,ae,ie,oe,se,de,le,ce,re,ue,_e,fe,me,he,pe,ve,ge,ye,be,we,ke,Ae,Ce,Ee,Me,Ie,Se,xe,Pe,Le,Te,Be,Oe,Ge,Ue,Re,Ne,Ve,De,Fe,Je,He,qe,ze,Xe,je,We,Ye,Qe,Ze,Ke,$e,et,tt,nt,at,it,ot,st,dt,lt,ct,rt,ut,_t,ft,mt,ht,pt,vt,gt,yt,bt,wt,kt,At,Ct,Et,Mt,It,St,xt,Pt,Lt,Tt,Bt,Ot,Gt,Ut,Rt,Nt,Vt,Dt,Ft,Jt,Ht,qt,zt,Xt,jt,Wt,Yt,Qt,Zt,Kt,$t,en,tn,nn,an,on,sn,dn,ln,cn,rn,un,_n,fn,mn,hn,pn,vn,gn,yn,bn,wn,kn,An,Cn,En,Mn,In,Sn,xn,Pn,Ln,Tn,Bn,On,Gn,Un,Rn,Nn,Vn,Dn,Fn,Jn,Hn,qn,zn,Xn,jn,Wn,Yn,Qn,Zn,Kn,$n,ea,ta,na,aa,ia,oa,sa="fglfgl27@gmail.com",da="<br>",la='<i class="icon-circle" style="font-size: 50%; vertical-align: middle; font-weight: bold;"></i>  ',ca='<div class="about_text_title">',ra='<div class="about_text_title" style="text-align: left;">',ua='<div style="text-align: left;">',_a="",fa="",ma="",ha="",pa="",va="",ga="",ya="",ba="",wa="&nbsp;";function ka(){_a=e+" (C)",fa=n+" (D)",ha=a+" (A)",ma=i+" (A)",l+=Zt,c+=Zt,I=ia+oa,pa=ca+e+"</div>"+ca+Ce+"</div>"+da+ua+la+xe+da+la+(Pe+=jt)+da+la+Le+da+la+Te+da+Be+da+la+Oe+da+wa+wa+wa+Ge+da+la+Ue+da+"</div>"+da+(ya=ca+ke+"</div>"+ua+la+nt+da+la+$e+da+la+et+da+"</div>"+ua+la+tt+da+la+at+da+la+it+da+da+ca+Ae+"</div>"+ua+la+ot+da+la+st+da+la+dt+da+la+lt+da+la+ct)+da+da+ca+we+"</div>",va=ca+be+"</div></div>",ga=ua+da+Re+da+(sr?da+'<div style="display: inline-block; color: #FF0000; font-size: 110%; font-weight: bold;">'+Zn+"</div>":"")+"</div>"+da+ca+Ne+"</div>"+sa+da+da+Ve+da+De+da+da+ra+Fe+"</div>"+ua+Ye+da+la+Je+da+la+He+da+la+qe+da+la+ze+da+la+Xe+da+la+je+da+la+We+da+Qe+da+la+Ze+da+la+Ke+da+ca+we+"</div></div>",ba=mt+da+la+ht.replace("link_link",'<div style="display: inline-block; color: #FF0000; font-size: 110%; font-weight: bold;">http://tiny.cc/twitchkeycode</div>')+da+la+pt+da+la+vt+da+la+gt+da+la+yt}function Aa(){Hr=!1,document.getElementById("side_panel").style.width="17%",t="Refresh:",n="Search",a="Settings",e="Controls",i="About",o="Hide",s="The text you entered is empty.",d="The search result is empty.",l="Switch screen",c="Switch user screen",p="Switch: Past Broadcast or Highlight",m="Switch: Period (24h, 7d, 30d, all)",r="Go to ",u="User ",_="Live",f="Games",v="Playing ",h=" for ",g="Watching time ",y="Since ",b="A Game",w="Type your search...",k="Type your authentication key...",A="Type your user name...",C="Press Enter or Select key to, ",E="Channels",M="Channel",ia="Back to previously screen: Back key",oa=" twice",S=" has ended",x="This video is only available to subscribers.",P="Connection failed, unable to load content hit refresh to try again",L="No",T=" for this ",B="Connection failed, unable to load video content exiting...",O=" Past Broadcast",G=" Highlight",U=" Clips",R=" Content",N="Streamed ",V="Duration ",D=" Views",F=" Viewers",J="Click again to exit!",H="Do you wanna to exit Twitch?",q="Exit",z="Close",X="Minimize",j="Cancel",W="Not Live | ",Y=" Channels Live",Q=" Hosts Live",Z=" Games Live",K=" Followed Channels",$=" Add User",ee=" Remove User",te="User doesn't exist",ne=" hosting ",ae=" already set",ie="Make First",oe="First user can fallow (when providing a key) and see live channels feed outside of the user screen<br>",se="Add a Twitch user to display it's Followed Channels content here",de=" (24h)",le=" (7d)",ce=" (30d)",re=" (all)",ue="Jumping",_e=" to ",fe="Jump Canceled",me=" , jump time bigger then duration",he=" Sec",pe=" Min",ve=" Hr",ge="Source",ye="Version: ",be="SmartTV Twitch",we="Press back key to close this.",ke="Player Related:",Ae="Chat Related:",Ce="General Related:",Ee="Update",Me="Current installed version ",Ie=" latest available version ",Se="This are the none players related controls, the player can show it's own controls.",xe="Play a video: Navigate using Directional pad (up/down/left/right), press enter to start playing",Pe="Refresh screen content: ",Le="Exit the application: from side pannel click exit",Te=" Switch screen: Back key then D-Pad left or right",Be="Some screen will change its internal content (channel past broadcast or clips for example) instead of changing to another screen",Oe="Start a search: from side pannel click search",Ge="After writing the search text press key Enter on the virtual keyboard then choose a search option",Ue="About this application: from side pannel click about",Re="This is a SmartTV Twitch client develop by a individual on his free time, for TV's that don't have access to a good official application, released for free to any one that wanna to use it.",Zn="This version of the app is for test in a browser only!",Ne="Developer information:",Ve="This is an open source application licensed under the GNU General Public License v3.0, check it on github",De="github.com/fgl27/SmartTwitchTV",Fe="This application uses following dependencies:",Je="Nightdev KapChat - KapChat captures Twitch chat directly into OBS or XSplit (https://www.nightdev.com/kapchat/)",He="Fontastic - Create your customized icon fonts in seconds (http://app.fontastic.me)",qe="Twemoji - A simple library that provides standard Unicode emoji support across all platforms (https://github.com/twitter/twemoji)",ze="UglifyJS - is a JavaScript parser, minifier, compressor and beautifier toolkit (https://github.com/mishoo/UglifyJS2)",Xe="JS Beautifier - Beautify, unpack or deobfuscate JavaScript and HTML, make JSON/JSONP readable, etc. (https://github.com/beautify-web/js-beautify)",je="HTMLMinifier - A highly configurable, well-tested, JavaScript-based HTML minifier (https://github.com/kangax/html-minifier)",We="JSHint - A Static Code Analysis Tool for JavaScript (https://github.com/jshint/jshint)",Ye="Web:",Qe="Android:",Ze="Google: Leanback v17 (https://developer.android.com/reference/android/support/v17/leanback/package-summary)",Ke="Google: ExoPlayer (https://github.com/google/ExoPlayer)",$e="Show information panel: Press enter key or D-pad keys if chat and live channel feed is not showing",et="Close the video: press back key twice",tt="Play/Pause a video: open information panel and click on pause simbol (not available to Live streams)",nt="Show user live channels feed: D-pad up",at="Change video quality: Open information panel, , navigate using use Directional pad (left/right), then use Directional pad (up/down) to choose the new quality after press Enter key to confirm the change",it="Force refresh a video (in case it freezes): Change video quality to the same",ot="Show or hide the Chat : D-pad right",st="Change Chat position : D-pad left",dt="Change Chat size : D-pad down",lt="Change Chat background brightness: Change in side panel settings",ct="Force refresh the Chat (in case it freezes or doesn't load): Change video quality to the same will reset and sync it",rt='Start a search: open information panel, navigate using use Directional pad (left/right) to "Search" and press enter',ut="Chat and video (Side by side): Color button red (A)",ta="Force disable the chat",na="with this the chat will not load content, this is useful on a stream with too many viewers were the chat can lag the app.",_t="Update available, check google play store",ft="Adding a key allows the app to access live user content faster, fallow/unfallow channels/games and access subscribed only past broadcast (for channel you are Sub to and block VOD access to none subscribers) <br> <br> In doubt read this link  <br> <br> https://github.com/fgl27/SmartTwitchTV#authentication <br> <br> add key for",mt=" below, fallowing this steps:",ht="Access the site link_link (using a computer or a smart phone)",pt='Click on the "Authorize" button it will take you to main Twitch.TV authentication site',vt="Login to Twitch.TV using the user name you are trying to add a key for",gt="Click on Authorize button of Twitch.TV site if you agree with the requested permissions",yt="The web page will update and show a key code, the key only has lower case letters and nubers.",bt=" Add Authentication key",wt="Key added OK",kt="Key test fail, it's needed to add new one",At="Key test return OK",Ct="You try to add a key for user ",Et=" but this key is for user ",Mt=" Following",It=" Follow",St=" And you have not set a authentication key the app can't check yours sub status.",xt=" And you are not a sub of this channel",Pt=" You are a sub of this channel but the app fail to authenticate contact the developer email in about",Lt="Fail authentication check with the provider key, please check and try again",Gn="The added key doesn't belong to the user ",Tt="No user",Bt="Set a user and a authentication key to be able to fallow/unfollow",Ot="Restart the",Gt=" Clip",Ut="Channel content",Rt="Network is disconnect, the application can't work without INTERNET",Nt="Network connection reestablished",Vt=" Followers",Dt=", Can't fallow or unfallow ",Ft="Game content",Jt="Yes",Ht="Are you sure you want to remove the user ",qt="Press Up to ",zt="Followed Games",Xt="Change between",jt=" Back key then Enter",Wt=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"],Yt=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Qt="Started ",Zt=" (PG Up/Down)",Kt="Videos",$t=" Video",en="Replay",tn="exiting in ",nn='press "Return" to exit',an="Featured",on="Created ",sn="Open the Broadcast",dn="No Broadcast",ln="There is no Past Broadcast for this clip",cn="And because of that no chat",rn=" is now",un="Open the Hosting",_n="Player related",fn="Buffer size:",mn="A lower value here will make the player to start playing sooner, but it may cause re-buffer with will cause the player to pause to buffer.",hn="Live streams buffer",pn="Videos (Past Broadcast and Highlight) buffer",vn="Clips buffer",gn="General related",yn="Language",bn="Chat: Connecting to chat server..."+da+"Chat: Connected."+da+"Chat: Joined channel ",wn="Play from the start or from where you stop watching last time?",An=(kn="From:"+da)+"Start",Cn="Chat: The Chat has ended!",En=": Most recent",Mn=": Most views",In="Set a authentication key to be able to see fallowed videos",Sn="Switch: Most recent or views",xn="Enable",Pn="Disable",qn="The app was closed willing playing, restoring playback",Ln="Restore playback",Tn="When changing apps, the app may be closed by the system to free memory. In this case the app saves what it was playing and restores the playback when reopened",Bn="Chat font size",On="Change the chat lines font size, applies to text and emotes",Un="Videos animated thumbnails",Rn="Side panel: Back key twice",Nn="Size ",Vn="Brightness ",Dn="Forbidden content, this Live must be for Prime only subscribers or lock to Twitch official app only",Fn="Jump step ",Jn=" seconds",Hn=" minutes",zn="Clock offset",Xn="Application language",jn="Content language",Wn="Press enter to change",Yn="All",Qn="Empty game fro this",Kn="Isn't possible to jump during a buffering",$n="Chat is disabled, enable in side pannel settings",ea="This clip/video fail to load can't replay",aa="Chat backgroung brightness "}var Ca="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAeEAAAKgCAMAAACbeDVoAAAAM1BMVEU3NTZoZ2eura6enp4+PD1MS0vq6en09PQ0MjPy8vJ9fX1YV1jT09O7u7vf3t+NjY3GxsZnLAeWAAAI3UlEQVR4Ae3d7XabOrcGUPEBWguMzf1f7dltd3u6Q1rHNk5I3jn/NmPYo48lJC1JFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgf0+UoenatpuGEuUdRD8009S806cR/eWU9bs8d0M8/eOmZazfjcvUR3kuYmiz/m6Z46n5dmP9zdjJ+Ln6NusLuQ7labqxvpBdX3iaaayv6cpTxJT1FTlF4Sn6Jeur8vSErjqGP37c0hf2F/Op/tHY7d+Az/WPznMUdhbNWP8iT0M8rb/YGvXUT34Eb2VO8ayf01bmJQo7ikvWq9a+7KStV2UX5X0JuOZOfed8zvoGIn72tGUrs91xDizijx9kbWQ9NVEeMpzq1nOf/Mxjfbts+/KALuuWEfVz9ed6ixzvb8bzueZNHzUXHneut7pvbhzDmvVG2RceFEvWm41dH/dUkW6VeSo8Ji51a/+Mo+/O9S5tFB4xZ73TeMPugG37NaA+4ChrI5emRLkmytxmzXovo61HxFIfktldqwIN3Vgfcyrc7ZL1UTkuTf+Hptw3y5h1490exQxj3cV4Wi7N0JcSP5TSD81lOY1Zsz4ssyncJc51T3k+reuyLOt6OmfdUY594R6Xenz66QcMWT+NptyMONWjOa/rWF917gt3FP0P5dSU+Ec/nfXTu+jHeiCZXfkhonRp3eNx0dYjyUtc6V5OhZs0WQ8k27i2Uy8vhR2KwvPwU31Hm4FUPz5WKia6+rooP9V3tN0529WNXKLwVn0eKuE6lxeaupVD4a26eqyE+/JCX1+hEb/ZkMdKOMvGIytbxFIP1obLS/0jlWLmerSEh/LCUF81Fd5iPVzC09vKXnkuvEGTh0t4jfJfp7px/7KHmtLHJ5xTbE7K3VtjosnjJVzHeXOQ6s5GTJzrARPOcX7bSbksV9DkEROuWf89RBF9d9ugbMtT+BAJ5zLN8zytWX8a10vTXNYx679y/f4nS9bfjIW/mushEs5liJ8HEutPmfV3668/WVIjfqtYDpHw+HvBv71ab4ou6095KvzFkEdI+L9XKcWa1/YERJdWp9+mqx+e8HaBoz9fX71alZjepB/vr9UMzysHT3Wj+fP4IefyNrZ25AclfIrNGdfrC9CnO3bW2p01f0zCXVwd/7Xxlx/n2BfettrxQW14ur61tysvTfX/Xcp1VjuOlHC5MeExypuYKs3l7fqh7uUS19vwJsOLA8XXtXmMNryd7pyuFoxj2f4zL0TWeoix9Nhf61wyh7/u/82+bNHUbz5+LL3ppmO5etYwLvdUmCxJN/FS+SVemutuxuFaQTPHpvwm5nE7peb6BtWPWLXcbsYZ8uqvYDhf3Z1ZmI6TcNZxjmtbErKJ8kM0eX08TqwfmPBWLnOJiL5Zs/4ynk5j/SXX739S5iWvr3wSQx4q4Zp5/nEtU9YfzlMf/xgu5/pDfr/YYz1n3VJ+2Jrqxye8kb9fPR/lu+iXvH1xm1iPk/CVwCLadNvlzYbcM+Fc2hfW+kKu2z/4syVu+jluTxMz1V0Tvj4Xy/6GBZOxv/3Cza6waRX7JRx7Jrx9qEZ74z4C+nHPhHOTcDyW8PaWhxsXxmjy0G24Ly/0N5aZWeqR2/D1Wx6uHCYmxnroNnzXInoWfhny2G346i0PV5a1mPLYbXgqL0w3nZwg1vrMNvx4wpt9PetN+66JrDu34aF/Yd72of1/NPUvsrlr6F/4IYb6Vs0v9V2dh/983/G20zE09e3yu5r1fY3DHS8JuhR+6Orh5TiV76JMY972ChfiXD+DU9cMQ9Odsr7VGIVv+vo55J132jLXr2oufDPVr+pS2J4L//QMtTbW+lWdCt+M9avKvhRiqF/XUEphrl9XU9gczDSY/nLa+nW1UYilfl1rFGKt9UtPlzjXr+tcCv1Yv66xL1sODu8sx7W7TM089P8opfT/GOZmmrr1/PTPHgpzfZpx7aa5j3+UiPJClBIR/Tx161ifZi409Rny1E7Dt1yv+pb/MLWntOTxaRLO8/It3XKDiOib5Qmd9lSY6q5yXOYSJcqt+hJlbsfcO2EudUfZzVEeEXOXdUddoat7ybUpUR4TJUqz5AETlvDYDVH2EUM31n20hbbu4dz1UfYSEf3lvFPCtHu+4mxHfZsS3kO09WFjE2V/0YyHSFgbzqU8y5Ifn7C9tOMU5VliGo2lP3o+fJ6jPNF8so3nY9e01r48U5R+sab1gQnnUp5vyY9KWPUw2yhPF9FmvVc2haHeK7so7yEuWe81FPp8/EXfTxZT1rtk9qVwrnfJKUo5esTnUojT429yf747Iz5FIZYjBrxxyXtfoUh3xEHWRnR555IWzSED3ojORrw7DZ/kwFe0d06WGOuNloPec74xFu4Zap368iGiPxlovcMR8Rz78lH6MVWWbhfz5zkKNIzPPtPiQTw25SM1o8fwkwepl/jgR0rePuSn+UT/adGaDT/xLQB5+kzr6Fn4qf1MR+r7USf9rPct5fClv60KYk6f6vVQ5yj80uRn6vWiS1u0bhTr57qbalX8378Rj0M5jmHUhHcvPzRRDqRRdLhRXGsVXXym41bbHoeYPtkFkaf6N1MUXloP1yTufxSvha1+PPRMeGMa9dG36efxjjP+B6wkZjblVczn+pq2L8fUt/U157lEeQ1Rpk3GYztEOaoY2nGT7+Wv+dK056z/ynPb9FGOLPqXX/h6vgzNpW3b7tIMJcrxRRmaqWvb9sYvTET5JKIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAF/F/wGK2iVvT89ySQAAAABJRU5ErkJggg==",Ea="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAMAAABrrFhUAAAASFBMVEVHcEw1NTXb29swMDB9fX1DQ0NeXl5RUVFtbW3m5ubT09Pg4ODKyso7Ozufn5+9vb2urq62traQkJClpaWJiYmYmJjCwsLq6uo9xg8yAAAAF3RSTlMACeoDbBxBLlX54PHUEZnCrbiFonuQyd/Z9QoAAAhdSURBVHgB7MGBAAAAAICg/akXqQIAAAAAYO7qJdtSEIbC8AKREB4icI57/jOtzm1Ur1ZdFRO/GfxxqzdbTFnJex9+eO9pLWZ5fbgpFFwf7cg2MeNvnGw+2uguUDFvfOaFQt+zZfwT27z3QOU9ezDkvtUy/gvb4+vIvCF+RMYvcRyqj7CGLTNO4ryFVWM9uZZwkdQcqatnXIqrnhusP/VX4+YUvAuL3yxuYze/CH/4FTergmdAPWKC2Enk9mkkTJKGF9fvd8ZEvHth+ZhO0AloQr7gE9BgPIQHPZ5fPhYPsp/ybH/IeFgOT66/QYBGD+UvLkEE+1me6PcVYlQ/Pd90hiDczdx+qhCm0sx+lyBOctPy1x0i7eucfh8hVPRT5s8Qi93t+WWDaFu5t58OCHeQ3Ndf/4cgJCiQwl39Dkp8bslfvlDju1zfbwYUGeby/h2q7BdfoDQo08ql/RXq1CK6f4Kj6N+/jA2YBqWa0f/9F/AvGFBsnO/vUK2f7XdQzp3rDwzlOJzpJwv1Ev2+f424EScb83HkaNOf9u5Ex3EQCQPwjznA+D7sev83XWnVGu1oZ9Jp8pcTNP4eIN2xOaqgCK0oyh6F7CJKunPbU/SDMdYaM/iY9u3sPi4cOERFHpO3ACx+Y30as6g4UCSJgnwEg78y4ciiIKFA7IRucgO+MbjpIwZCa3phW8Lbas76AT81CtmU8LQ0Cdn47gEgpzcXH6X3RgCbxw/5Tagajx+wM/v1F0hZmJb3pUCLRxG/vCktsr75jF0Ke7ypE8wfs2XvWuGZ+TOA/k5laq6fCYYsNF3Ai0J3eV44ftL3hw3dxeFQbLXa//urEtqI7y3vX43SW5dbLh0BHUjcheMgMQncQLMJS28ue9inAY2ZriqfGZrr465rY9NmwCM7v7NxpGv2ingPegbZfEnTXN/fAfTfzXrFH0mgS0LSef0GMEHBJCSrfhYUoCCoTwSOPAJ+7DjolIPANkJFbHXDwcSPgclG3TF6+vAGQGwCk8X/i0KyQM0iJEG/fWmwSUhGxTSoN1Bjer2Z0AnJDkW7kLjKhkD+MKj2ySdUTUIStdKAHap2pYTAfnoUyI8GrU6icVqosqeQBJ0ecEDZISSrSg+QBGVJZYE86O89scRWow+s7MdaQTAoq8bsukHdprBu5zshcVDnFBZHk7AkaLMa/+wmLBHqYkvvrybzWxUfv79mw14LkmygzmR6e3XCMuECi7A4elXUjAvM7Jopyy4K0Q8EuBmhb9mPVNcoLK1nl0UduMAhNIl9OniFPv7/OwvNjgvs5PJp29f3AKjJq+/q6wLUyDXIvzsISiAfjxlrewCO/HnXBELkJjuLVJwLEKaBU8ijqjLbC88J2Cw8zQBt1jTCkw11FpT2ohUhZjYQhSlBXRKmiCBMDuqcMCXyAz2g7hCmRH6gE9RN5Ca7C1PnocsOjTDtOIQqQFkQqgOzUO1QtgvVjEnqGgQW9v97ClUb1feFqHr0UlUfSMLVI0tVfWATroxGauoDvhGuBo2QOShyQtaglZr6wCRkLYStDaqpMBtaYZuhZhS2Fp2wtVExCGDr0AjdBiWr0DXIUk0T8I3QZWThG6tpAJLRC1/nwWd9J3w9JlGwKUXBfBNm0ZBAl0TDjFE05AFkQxYNI1ZRMYJsFBUrnOgIGh2Az6l9cj8odAA+hyBKNoUOwJcQW1Gy1nDPXcTQiRYHktCKktZz6wN0VgZiI1oaAyyipokg8FnU9BYYRU/v8TLfi54FwC6K+sj8/nwjf4Ql3wEbe/VbiIKo6tIn3/ObHqy0srSOess9f+3KZFG2WhSxqyjLBgBm0TZFFIiLaFsKSg6KNA4/5hpRdxRkmoWWSHj9dKlgu6FUe3g8zR+tFChdvz/lEt0R8ZR4NHKJbIqS7XLdGPGtOHZykfn6WyXbxXk84N3cymV2pU3ndhoffGIzJ2/xB9a7uZErBf6BdJFucfG7SxG6c3TBG4sv1vjgxrOTB9p979XW7md+C49ZvtH05zKP6zpuy9Q3zyRVJqy9TiGDE4pzj/hirT+F6Pz6ZBPGRlgctfKkGYPF/xpGodkG/DK4paX/4MkpLzqd17sjqHMqgUJvaBXISzJF8Wx5KuX3TD3cEeUFc8Df2L2TF7W7xZ8M7iTuYNue/vW/xFntmk6bet4G9qp3jWg6pVif8HcWxvWsrbsgJc6EJxiXpUh2Bt8Y9obQAwqDwewsnjOUvKneeTwhboQeUJQRjh7PM2n6aeMyeFI4GRUcidL6H7BhzD+4nNvieaZkrgmv/VDjOuDnhrQ18q1mTgN+KE4lm4K/c5ds9/i0Tg9eVzcdyaOA2dtXixd8V3CJcOlD2Kbcym/a5tzW5C1Khf7Vat6xYKenmB1icm5fj3E81t25FAeL1/j5xZL+oNz89e3ytFR8HOX0+Fg2dT9LBAuGwc1An/5m8l5aizfiw8X+lavgDvXCN33+lO8dhWeydnw+O5zynS6W1WOuqII/y2tYY/e43dTB9+VHmo4Hj82iFj7LI3PRsZzFoB6hK2gAj5tA9qiJK65i941q1e9ljoIp4NHqqENl7FQ6lv+xCSyoTuxK7wPeH7ea2oeBveR0jkOF7FL6i4/pwf2UFXgc2KeSI6oBdRpLBzPfPA6cauGb0sHMPQ6camH30nTWTg8Cp4qbwGlKxo+Aeo3F4eyqf3/g9RPBUXSjmUPNluLDzKG94JeS9bnyfG6vcg58sN+3l93m41C3pTyc9VkvCLi+DzSx7Mj2icpF+a82FT69EZUbmld2NGZxqN3ySjTrc0Ltjq8QuEz0qJ17aUXbonY2SRvwL0vi8E8LB/5txuKX2+12u91ut9vtdrvdbrfb7Xa7/Qf0wSAxhEqDGQAAAABJRU5ErkJggg==",Ma="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAhAAAAEpBAMAAAAwswZCAAAAJ1BMVEU3NTbV1dU2NDXU1NTDwsOrq6t9fX1IR0dwb3DNzc2cm5xbWlqPj4+TNW2cAAAFhElEQVQYGe3AQYud5R0F8MPhzoxSN4d/buoUgcODtIFs+jCmaUqAuQ1RJJuZFAR3mUHE5TBqQFc3iUHcdVpQoZsE0GxjAcFdRPRz9b2ZmbTfoHKf80NERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERExK8VCRj4/pu3+7Wb3z4FTDQSoyGAhrvvSjt9p/ftd45oA8ZobBgPS6UuqaT5kmgwhtOI99Sl0pkLd4hGjIbAZ+ol9dJKV7+wJInRGB9rRypJpZUuzY9gjIaXTkqnuiZVkr4GMZyf9F9dz9XOM2MoBDa6ulZu/vLB+z8v9Fyfw8Q4GoC/qST1K5/DNLce7qg02SOMcTRuaKXePCZt2r57QyVpDsMYhYl9TepLwM1strl5opK0RwzEr0hd/S/HaECzG0x/qkm9ZoyDuKdS3z60TRiECeILqaT7GEf7w4mk+pdJ2IRNE758Q5OvQAxjo0r9wpEJm2ggCAMfdUlzGCOwDdxTL71lGyvGma2FpL4kRkCCXnRp+ylIwAZxhj9Iql0MwSQ2u6Q/22g0YOLcpa7SRWIINmaaPCII04Zxhnws6Q0MoQF+oNL2MWgQ/8v4pKtriSE0cl/Sn2DDvnzjiXGO/r2kuo0REG2rS9q1TWBD20vjDImF1K9iBCY2u6RDkEB7vff5Mc4RB5IuYgQkNiTVkU0AM0nXQRIGYH8o6YqNARgvl3SFhAHMJO3csk2CJje6+jZpY/35u6561Q0EMCup9ASECRgvSb0/bVh/BA4kXaWJyUxV0rUlCJPwliaHILH27MeSdg0YwEwrNT8GSQNcqPSIJtadwX1V7YEwgJl6SerXYRgE96W6DRprz15U6RnRDGBWmpR2bsEkgB8l/RUmBrBQ1aGNlZm6VFLVIzYYOOhVu2DD2iNOJN3BqZnOzWE24KCkfxAjsEq6j1MznSkBBvBA0h8NY92RPJF0B6dmWilJc9hoOJD0d2L9uXEh6RCnZnqudz1qNMGDLu0SxAAWJT3DqZkmXTt1iyQM/yj1XWP9kdyXdBunZpqU6jpgw8C+pD0YA/Bjde3i1EzPzY9IA7AXkh4Zxrpj44Gk3+LUTCvbSxgAiS1NDgli/fE7Sa8CNoGZ1KUnMCYNfklS/dvG2qPxclefG4DJmaR+iyBW3DZK/RpIjGCjtLNzZJjNr6t0HTZWTHyoXnOYWHsENlXSIQnbs9L8CMZzpA+qdLEBxtqzt3ov7ZpoxIa2lyBNrBgLSVdBE2uPwL56vwibxuUbTwgYxoTc7JL2CBLrjjDuSbV9BBiTRtAwJsQnpd6XJIy1Z2AmqT8iCJuwQeLUY0kXYDRiBJuavArAJs4QJF7S5CKG4UXv2n7KCc6ZJn+Q1HeJYTyQVG95ghdMby2kqiXGsdGl/sYRDeMMQX7UJc3RMApvnah33QKIF+zf3ChJX9kYBXFPKm0vDeJMg79QV+/3QYzCeEUrvzu2ca59Kqn0mhuGwYb9Lqm+hHGmbZ5IJe3BxjCIDUldevOoGbaBu4veJc0BG6MgiH2VVHXlczebWw+7ulTaA2yMZENSL/W6+csH7/+86L2rSnOCGIhN/KRJl0qTLqmkemYY4zAml/6pF7omvfQ12TAQT+CPpR1JvdQ1qdL8mMRISNjAZ12lKvWSVOoXljAaBmIQJP2epNK5C3cAYkwPe5WkrpKuLI1RkXff7ZJK2n7nyMawDHz/zdv92s1vn8LEsIyJG2iCjRiXbYBAA0xjWAZhAAZAgxiX2QgbhpuNcRGACcAgIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiLi/+Y/XKfZaw0ONrwAAAAASUVORK5CYII=",Ia="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",Sa=51,xa=52,Pa=179,La=37,Ta=38,Ba=39,Oa=40,Ga=13,Ua=49,Ra=8,Na=13,Va=32,Da=46,Fa=0,Ja=5,Ha=1e4,qa=0,za=!1,Xa=!1,ja=!1,Wa=!1,Ya="",Qa="https://fgl27.github.io/SmartTwitchTV/release/index.min.html",Za="elsu5d09k0xomu7cggx3qg5ybdwu7g",Ka="https://id.twitch.tv/oauth2/token?";function $a(e){Br.Users_Position=Br.Users_AddcodePosition,qa=e,Ci(),Ju(),ii()}function ei(e,t,n,a){var i=new XMLHttpRequest,o=Ka+"grant_type=refresh_token&client_id="+encodeURIComponent(lu)+"&client_secret="+encodeURIComponent(Za)+"&refresh_token="+encodeURIComponent(Hi[e].refresh_token)+"&redirect_uri="+Qa;i.open("POST",o,!0),i.timeout=Ha,i.ontimeout=function(){},i.onreadystatechange=function(){4===i.readyState&&(200===i.status?ni(i.responseText,e,n):-1!==JSON.parse(i.responseText).message.indexOf("Invalid refresh token")?(di(),a&&a()):ti(e,t,n,a))},i.send(null)}function ti(e,t,n,a){++t<5?ei(e,t,n,a):a&&a()}function ni(e,t,n){var a=JSON.parse(e);ai(a.scope)?(Hi[t].access_token=a.access_token,Hi[t].refresh_token=a.refresh_token,co()):di(),n&&n()}function ai(e){return-1!==e.indexOf("user_read")&&-1!==e.indexOf("user_follows_edit")&&-1!==e.indexOf("user_subscriptions")}function ii(){var e=new XMLHttpRequest,t=Ka+"grant_type=authorization_code&client_id="+encodeURIComponent(lu)+"&client_secret="+encodeURIComponent(Za)+"&code="+encodeURIComponent(qa)+"&redirect_uri="+Qa;e.open("POST",t,!0),e.timeout=Ha,e.ontimeout=function(){},e.onreadystatechange=function(){4!==e.readyState||(200===e.status?li(e.responseText):oi())},e.send(null)}function oi(){++Fa<Ja?ii():si()}function si(){Hu(),$u(Lt),window.setTimeout(function(){e_(),Nr=0,v_(),Br.Main_Go=Ar,window.location=Qa},4e3),Hi[Br.Users_Position].access_token=0,Hi[Br.Users_Position].refresh_token=0,co()}function di(){vM=!1,Hu(),$u(Lt),Hi[Br.Users_Position].access_token=0,Hi[Br.Users_Position].refresh_token=0,co(),v_(),window.setTimeout(e_,4e3)}function li(e){var t=JSON.parse(e);Hi[Br.Users_Position].access_token=t.access_token,Hi[Br.Users_Position].refresh_token=t.refresh_token,Ci(),ci()}function ci(){Gf("https://api.twitch.tv/kraken?oauth_token="+Hi[Br.Users_Position].access_token,Ha,0,null,ri,ui)}function ri(e){var t=JSON.parse(e).token;if(t.user_name&&-1!==t.user_name.indexOf(Hi[Br.Users_Position].name)){if(co(),Nr=0,Hu(),za=vM=!1,Br.Main_Go=Ar,v_(),$u(wt),Au)try{Android.clearCookie()}catch(e){}window.setTimeout(function(){window.location=Qa},3e3)}else Hi[Br.Users_Position].access_token=0,Hi[Br.Users_Position].refresh_token=0,za=!1,$u(Gn+Hi[Br.Users_Position].name),window.setTimeout(function(){e_(),Nr=0,v_(),Br.Main_Go=Ar,window.location=Qa},4e3)}function ui(){++Fa<Ja?(Ha+=500,ci()):si()}function _i(){Ci(),Xa=!1,fi()}function fi(){var e="https://api.twitch.tv/kraken/users/"+Hi[Br.Users_Position].id+"/follows/channels/"+Ya,t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=Ha,t.setRequestHeader(cu,lu),t.setRequestHeader(ru,fu),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?mi():404===t.status?hi(t.responseText):pi())},t.send(null)}function mi(){za=!(Xa=!0),Wa?Zv():Cd()}function hi(e){-1!==(JSON.parse(e).error+"").indexOf("Not Found")?(za=Xa=!1,Wa?Zv():Cd()):pi()}function pi(){++Fa<Ja?(Ha+=500,fi()):(za=!1,Wa?Zv():Cd())}function vi(){Ci(),gi()}function gi(){var e=new XMLHttpRequest;e.open("PUT","https://api.twitch.tv/kraken/users/"+Hi[Br.Users_Position].id+"/follows/channels/"+Ya,!0),e.timeout=Ha,e.setRequestHeader(cu,lu),e.setRequestHeader(ru,fu),e.setRequestHeader("Authorization","OAuth "+Hi[Br.Users_Position].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return Xa=!(za=!1),void(Wa?Zv():Cd());401===e.status||403===e.status?ei(Br.Users_Position,0,vi,null):yi()}},e.send(null)}function yi(){++Fa<Ja&&(Ha+=500,gi())}function bi(){Ci(),wi()}function wi(){var e=new XMLHttpRequest;e.open("DELETE","https://api.twitch.tv/kraken/users/"+Hi[Br.Users_Position].id+"/follows/channels/"+Ya,!0),e.timeout=Ha,e.setRequestHeader(cu,lu),e.setRequestHeader(ru,fu),e.setRequestHeader("Authorization","OAuth "+Hi[Br.Users_Position].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(204===e.status)return za=Xa=!1,void(Wa?Zv():Cd());401===e.status||403===e.status?ei(Br.Users_Position,0,bi,null):ki()}},e.send(null)}function ki(){++Fa<Ja&&(Ha+=500,wi())}function Ai(){Ci(),ja=!1,Ei()}function Ci(){Ha=1e4,za=!(Fa=0)}function Ei(){var e,t="https://api.twitch.tv/kraken/users/"+Hi[Br.Users_Position].id+"/subscriptions/"+Ya;if(Au){if(!(e=Android.mreadUrl(t,Ha,3,Hi[Br.Users_Position].access_token)))return void Mi();if(200===(e=JSON.parse(e)).status)za=!(ja=!0),cy();else if(422===e.status)za=ja=!1,ly();else if(404===e.status){if(-1!==(JSON.parse(e.responseText).error+"").indexOf("Not Found"))return za=ja=!1,void ly();Mi()}else 401===e.status||403===e.status?ei(Br.Users_Position,0,Ai,Ii):Mi()}else(e=new XMLHttpRequest).open("GET",t,!0),e.timeout=Ha,e.setRequestHeader(cu,lu),e.setRequestHeader(ru,fu),e.setRequestHeader("Authorization","OAuth "+Hi[Br.Users_Position].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState)if(200===e.status)za=!(ja=!0),cy();else if(422===e.status)za=ja=!1,ly();else if(404===e.status){if(-1!==(JSON.parse(e.responseText).error+"").indexOf("Not Found"))return za=ja=!1,void ly();Mi()}else 401===e.status||403===e.status?ei(Br.Users_Position,0,Ai,Ii):Mi()},e.send(null)}function Mi(){++Fa<Ja?(Ha+=500,Ei()):Ii()}function Ii(){za=ja=!1,ly()}function Si(e){Ci(),xi(e,0)}function xi(t,n){var e="https://api.twitch.tv/kraken?oauth_token="+Hi[t].access_token,a=new XMLHttpRequest;a.open("GET",e,!0),a.timeout=1e4,a.ontimeout=function(){},a.onreadystatechange=function(){if(4===a.readyState){if(200===a.status){var e=JSON.parse(a.responseText);return void(e.token.valid?(ai(e.token.authorization.scopes)||di(),za=!1):(Ci(),ei(t,0,null,null)))}400===a.status?(Ci(),ei(t,0,null,null)):Pi(t,n)}},a.send(null)}function Pi(e,t){++t<Ja&&xi(e,t)}function Li(){Ci(),Ti()}function Ti(){var e=new XMLHttpRequest;e.open("PUT","https://api.twitch.tv/api/users/"+Hi[Br.Users_Position].name+"/follows/games/"+encodeURIComponent(Br.Main_gameSelected)+"?oauth_token="+Hi[Br.Users_Position].access_token,!0),e.timeout=1e4,e.setRequestHeader(cu,lu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return xo=!0,void Fo();401===e.status||403===e.status?ei(Br.Users_Position,0,Li,null):Bi()}},e.send(null)}function Bi(){++Fa<Ja&&(Ha+=500,Ti())}function Oi(){Ci(),Gi()}function Gi(){var e=new XMLHttpRequest;e.open("DELETE","https://api.twitch.tv/api/users/"+Hi[Br.Users_Position].name+"/follows/games/"+encodeURIComponent(Br.Main_gameSelected)+"?oauth_token="+Hi[Br.Users_Position].access_token,!0),e.timeout=1e4,e.setRequestHeader(cu,lu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(204===e.status)return xo=!1,void Fo();401===e.status||403===e.status?ei(Br.Users_Position,0,Oi,null):Ui()}},e.send(null)}function Ui(){++Fa<Ja&&(Ha+=500,Gi())}function Ri(){Ci(),Ni()}function Ni(){var e,t="https://api.twitch.tv/api/users/"+Hi[Br.Users_Position].name+"/follows/games/"+encodeURIComponent(Br.Main_gameSelected);(e=new XMLHttpRequest).open("GET",t,!0),e.timeout=1e4,e.setRequestHeader(cu,lu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState)return 200===e.status?(xo=!0,void Fo()):404===e.status?(xo=!1,void Fo()):void Vi()},e.send(null)}function Vi(){++Fa<Ja?(Ha+=500,Ni()):(xo=!1,Fo())}var Di=0,Fi=5,Ji=3500,Hi=[],qi=null,zi=!1,Xi=!1;function ji(){Br.Main_Go=ur,Ru("top_bar_user","icon_center_focus"),e_(),er.placeholder=A,Gu("add_user_scroll"),Qi()}function Wi(){Ki(!1),document.body.removeEventListener("keydown",Yi),document.body.removeEventListener("keydown",$i),Nu("top_bar_user","icon_center_focus"),Ou("add_user_scroll")}function Yi(e){if(!zi&&!Xi&&Br.Main_Go===ur)switch(e.keyCode){case Ua:a_()?n_():d_()?s_():(0<Hi.length&&Br.Main_Go!==Ar?Br.Main_Go=Br.Main_Before:Br.Main_Go=rr,Wi(),h_());break;case xa:case Sa:case Pa:case Ga:Qi()}}function Qi(){document.body.removeEventListener("keydown",Yi),document.body.addEventListener("keydown",$i,!1),er.placeholder=A,er.focus(),Xi=!0}function Zi(){if(null!==er){var e=er.cloneNode(!0);er.parentNode.replaceChild(e,er),er=document.getElementById("user_input")}}function Ki(e){er.blur(),Zi(),document.body.removeEventListener("keydown",$i),er.placeholder=C+A,e&&document.body.addEventListener("keydown",Yi,!1),Xi=!1}function $i(e){if(!zi&&Br.Main_Go===ur)switch(e.keyCode){case Ua:a_()?n_():d_()?s_():(0<Hi.length&&Br.Main_Go!==Ar?Br.Main_Go=Br.Main_Before:Br.Main_Go=rr,Wi(),h_());break;case Da:er.value="";break;case Na:case Oa:""!==er.value&&null!==er.value?uo(qi=er.value)?(Hu(),$u(u+qi+ae),window.setTimeout(function(){e_(),Qi()},1500)):(Ji=3500,zi=!(Di=0),Ou("add_user_scroll"),Ju(),eo()):Qi();break;case Ra:er.value=er.value.slice(0,-1);break;case Va:er.value+=" "}}function eo(){Gf("https://api.twitch.tv/kraken/users?login="+encodeURIComponent(qi),Ji,2,null,to,no)}function to(e){JSON.parse(e)._total?(er.value="",document.body.removeEventListener("keydown",Yi),so(e)):ao()}function no(){++Di<Fi?(Ji+=500,eo()):ao()}function ao(){qi=null,Hu(),$u(te),window.setTimeout(function(){ji()},1e3),zi=!1}function io(){if(0<(Hi=Lf("AddUser_UsernameArray",[])).length)for(var e=0;e<Hi.length;e++)Hi[e].access_token&&Si(e)}function oo(){return 0<Hi.length}function so(e){qi=JSON.parse(e).users[0],Hi.push({name:qi.name,id:qi._id,access_token:0,refresh_token:0}),co(),vM=!1,Wi(),yM(),zi=!1}function lo(e){var t=Hi.indexOf(Hi[e]);-1<t&&Hi.splice(t,1),0<Hi.length?(vM=!1,yM()):ji(),co()}function co(){xf("AddUser_UsernameArray",JSON.stringify(Hi))}function ro(e){qi=Hi[0],Hi[0]=Hi[e],Hi[e]=qi,vM=!1,yM(),co()}function uo(e){return-1!==Hi.indexOf(e)}function _o(){return 0<Hi.length}var fo=0,mo=0,ho=!1,po=0,vo={},go=[],yo=!1,bo=0,wo=5,ko=3500,Ao=0,Co=0,Eo=!1,Mo=["ag_thumbdiv","ag_img","ag_infodiv","ag_displayname","ag_streamtitle","ag_streamgame","ag_viwers","ag_quality","ag_cell","agempty_","a_games_scroll"],Io=!1,So=!1,xo=!1,Po=!1,Lo=!1;function To(){Br.Main_CenterLablesVectorPos=3,Br.Main_Go=fr,document.body.addEventListener("keydown",Ko,!1),Ru("top_bar_game","icon_center_focus"),Bu("label_side_panel","icon-arrow-circle-left",I),Br.Search_isSearching&&(w_(),Vu("top_bar_user",n+k_(f+" '"+Br.Search_data+"'"))),Vu("top_bar_game",b+k_(_+": "+Br.Main_gameSelected)),Br.Main_OldgameSelected===Br.Main_gameSelected&&Io?(P_(fo),Gu(Mo[10]),Wo(),v_()):Oo()}function Bo(){Io&&-1===fo&&(Zo(),mo=fo=0,Ru(Mo[0]+"0_"+mo,pu)),Bu("label_side_panel","icon-ellipsis",Rn),Vu("top_bar_game",f),document.body.removeEventListener("keydown",Ko),Nu("top_bar_game","icon_center_focus"),Ou(Mo[10])}function Oo(){null===Br.Main_OldgameSelected&&(Br.Main_OldgameSelected=Br.Main_gameSelected),M_("stream_table_a_game"),Ou(Mo[10]),Ju(),e_(),Lo=Io=!1,vo={},wf=!(po=Co=Ao=0),fo=mo=0,ho=So=!(go=[]),Yu(),Go(),Uo()}function Go(){S_(),yo=!0,bo=0,ko=3500}function Uo(){var e=po+Ao;e&&Co-1<e&&(e=Co-Kr,ho=!0);var t="https://api.twitch.tv/kraken/streams?game="+encodeURIComponent(Br.Main_gameSelected)+"&limit="+Kr+"&offset="+e+(""!==qr?"&broadcaster_language="+qr:"");Au&&!po?Rf(t,ko,2,null,No,Ro):Nf(t,ko,2,null,No,Ro,!1)}function Ro(){++bo<wo?(ko+=500,Uo()):(yo=!1,po?(ho=!0,Vo()):(wf=!1,Hu(),$u(P)))}function No(e){var t=JSON.parse(e),n=t.streams.length;Co=parseInt(t._total),n<Kr&&(ho=!0);var a=po;Eo=!(po+=n);var i=n/$r;0<n%$r&&i++;var o,s,d,l,c,r,u=0,_=document.getElementById("stream_table_a_game");if(!Lo){var f;for(Lo=!0,d=document.createElement("tr"),l=0;l<3;l++)f=l?1===l?'<i class="icon-movie stream_channel_fallow_icon"></i>'+wa+U:"":'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+wa+wa+Kt,(Jr=document.createElement("td")).setAttribute("id",Mo[8]+"y_"+l),Jr.className="stream_cell",Jr.innerHTML='<div id="'+Mo[0]+"y_"+l+'" class="stream_thumbnail_fallow_game" ><div id="'+Mo[3]+"y_"+l+'" class="stream_channel_fallow_game">'+f+"</div></div>",d.appendChild(Jr);_.appendChild(d)}for(l=0;l<i;l++){for(s=a/$r+l,d=document.createElement("tr"),o=0;o<$r&&u<n;o++,u++)r=(c=t.streams[u]).channel._id,vo[r]?o--:(vo[r]=1,d.appendChild(R_(s,s+"_"+o,[c.channel.name,r],Mo,[c.preview.template.replace("{width}x{height}",mu),r_(JSON.stringify(c.stream_type))+c.channel.display_name,c.channel.status,c.game,y+Vp(c.created_at)+" "+h+l_(c.viewers)+F,c_(c.video_height,c.average_fps,c.channel.broadcaster_language)])));for(;o<$r;o++)ho&&!So&&(So=!0,po=s*$r+o),d.appendChild(B_(Mo[9]+s+"_"+o)),go.push(Mo[9]+s+"_"+o);_.appendChild(d)}Vo()}function Vo(){if(Io){if(I_(Ma),0<go.length&&!ho)return Go(),void zo();Wo(!0),go=[]}else Do(),Eo?($u(L+Z),fo=-1,Qo()):(Io=!0,I_(Ma),Wo(),v_()),Gu(Mo[10]),wf=!1,Hu();yo=!1}function Do(){Po?(xo=!0,Fo()):oo()?Ri():(xo=!1,Fo())}function Fo(){Vu(Mo[3]+"y_2",xo?'<i class="icon-heart" style="color: #00b300; font-size: 100%;"></i>'+wa+wa+Mt:'<i class="icon-heart-o" style="color: #FFFFFF; font-size: 100%; "></i>'+wa+wa+(oo()?It:Tt))}function Jo(){oo()&&Hi[Br.Users_Position].access_token?xo?Oi():Li():($u(Bt),window.setTimeout(function(){Eo&&Br.Main_Go===fr?$u(L+Z):e_()},2e3))}function Ho(){mo?1===mo?(Br.Main_Go=xr,Br.Main_OldgameSelected=Br.Main_gameSelected,qo(),p_()):Jo():(Br.Main_Go=Sr,Br.Main_OldgameSelected=Br.Main_gameSelected,qo(),p_())}function qo(){Io&&-1===fo&&(Zo(),mo=fo=0,Ru(Mo[0]+"0_"+mo,pu)),document.body.removeEventListener("keydown",Ko),Ou(Mo[10])}function zo(){Ku(go.length);var e=po+Ao;e&&Co-1<e&&(e=Co-du,ho=!0),Gf("https://api.twitch.tv/kraken/streams?game="+encodeURIComponent(Br.Main_gameSelected)+"&limit="+du+"&offset="+e+(""!==qr?"&broadcaster_language="+qr:""),ko,2,null,jo,Xo)}function Xo(){++bo<wo?(ko+=500,zo()):(ho=!0,po-=go.length,go=[],Vo())}function jo(e){var t,n,a=JSON.parse(e),i=a.streams.length,o=0,s=0,d=[];for(Co=parseInt(a._total),i<du&&(ho=!0);o<go.length&&s<i;o++,s++)n=(t=a.streams[s]).channel._id,vo[n]?o--:(vo[n]=1,N_(go[o],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",mu),r_(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+Vp(t.created_at)+" "+h+l_(t.viewers)+F,c_(t.video_height,t.average_fps,t.channel.broadcaster_language)],Mo),d.push(o));for(o=d.length-1;-1<o;o--)go.splice(d[o],1);Ao+=s,ho&&(po-=go.length,go=[]),Vo()}function Wo(e){fo<0?Qo():(j_(fo,mo,Mo,$r,po,e),po/$r<fo+eu&&!ho&&!yo&&(Go(),Uo()),Ur&&Yo())}function Yo(){-1<fo&&po?nf(fo+"_"+mo,Mo):Zo()}function Qo(){Ru(Mo[0]+"y_"+mo,pu)}function Zo(){Nu(Mo[0]+"y_"+mo,pu)}function Ko(e){var t;if(!wf&&!z_())switch(q_(),e.keyCode){case Ua:d_()?s_():a_()?n_():(Br.Main_OldgameSelected=Br.Main_gameSelected,Yo(),Zo(),Af(Ko));break;case La:if(-1===fo)Zo(),--mo<0&&(mo=2),Qo();else if(fo||mo){if(u_(fo,mo-1,Mo[0]))Yo(),mo--,Wo();else for(t=$r-1;-1<t;t--)if(u_(fo-1,t,Mo[0])){Yo(),fo--,mo=t,Wo();break}}else Yo(),Zo(),fo=-1,mo=2,Qo();break;case Ba:-1===fo?(Zo(),2<++mo?(mo=0,Eo?Qo():(fo=0,Wo())):Qo()):u_(fo,mo+1,Mo[0])?(Yo(),mo++,Wo()):u_(fo+1,0,Mo[0])&&(Yo(),fo++,mo=0,Wo());break;case Ta:if(-1!==fo||Eo)if(fo){for(t=0;t<$r;t++)if(u_(fo-1,mo-t,Mo[0])){Yo(),fo--,mo-=t,Wo();break}}else Yo(),fo=-1,Qo();else fo=0,Zo(),Wo();break;case Oa:if(-1!==fo||Eo){for(t=0;t<$r;t++)if(u_(fo+1,mo-t,Mo[0])){Yo(),fo++,mo-=t,Wo();break}}else fo=0,Zo(),Wo();break;case xa:case Sa:case Pa:case Ga:-1!==fo?Q_(fo+"_"+mo,Mo,Ko):Ho()}}var $o=0,es=0,ts=!1,ns=0,as={},is=[],os=!1,ss=0,ds=5,ls=3500,cs=0,rs=0,us=!1,_s=!1,fs="week",ms=2,hs=!1,ps=["agv_thumbdiv","agv_img","agv_infodiv","agv_title","agv_streamon","agv_duration","agv_viwers","agv_quality","agv_cell","gvempty_","a_games_vod_scroll","agv_game"],vs=!1,gs=!1,ys="";function bs(){Br.Main_CenterLablesVectorPos=3,Br.Main_Go=Sr,Ru("top_bar_game","icon_center_focus"),document.body.addEventListener("keydown",Gs,!1),Bu("label_side_panel","icon-arrow-circle-left",I),ys===Br.Main_gameSelected&&vs?(P_($o),Gu(ps[10]),Us(),Ls(),v_()):ks()}function ws(){vs&&Ts(),document.body.removeEventListener("keydown",Gs),Nu("top_bar_game","icon_center_focus"),Vu("top_bar_game",f),Bu("label_side_panel","icon-ellipsis",Rn),Ou(ps[10])}function ks(){vs&&Ts(),M_("stream_table_a_game_vod"),Ou(ps[10]),Ju(),Us(),ys=Br.Main_gameSelected,e_(),hs=vs=!1,wf=!(_s=!(is=[])),$o=es=ns=rs=cs=0,ts=!(as={}),Yu(),As(),Cs()}function As(){S_(),os=!0,ss=0,ls=3500}function Cs(){var e=ns+cs;e&&rs-1<e&&(e=rs-Kr,ts=!0);var t="https://api.twitch.tv/kraken/videos/top?game="+encodeURIComponent(Br.Main_gameSelected)+"&limit="+Kr+"&broadcast_type="+(gs?"highlight":"archive")+"&sort=views&offset="+e+"&period="+fs+(""!==qr?"&language="+qr:"");Au&&!ns?Rf(t,ls,2,null,Ms,Es):Nf(t,ls,2,null,Ms,Es,!1)}function Es(){++ss<ds?(ls+=500,Cs()):(os=!1,ns?(ts=!0,Is()):(wf=!1,Hu(),$u(P)))}function Ms(e){var t=JSON.parse(e),n=t.vods.length;rs=parseInt(t._total),n<Kr&&(ts=!0);var a=ns;us=!(ns+=n);var i=n/$r;0<n%$r&&i++;var o,s,d,l,c,r=0,u=document.getElementById("stream_table_a_game_vod");if(!hs){var _;for(hs=!0,d=document.createElement("tr"),f=0;f<2;f++)_=f?'<i class="icon-history stream_channel_fallow_icon"></i>'+wa+wa+m:'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+wa+wa+p,(Jr=document.createElement("td")).setAttribute("id",ps[8]+"y_"+f),Jr.className="stream_cell",Jr.innerHTML='<div id="'+ps[0]+"y_"+f+'" class="stream_thumbnail_channel_vod" ><div id="'+ps[3]+"y_"+f+'" class="stream_channel_fallow_game">'+_+"</div></div>",d.appendChild(Jr);u.appendChild(d)}for(var f=0;f<i;f++){for(s=a/$r+f,d=document.createElement("tr"),o=0;o<$r&&r<n;o++,r++)c=(l=t.vods[r])._id,-1!==(l.preview.template+"").indexOf("404_processing")||as[c]?o--:(as[c]=1,d.appendChild(KI(s,s+"_"+o,[c,l.length,l.channel.broadcaster_language,l.game,l.channel.name,l.increment_view_count_url],[l.preview.template.replace("{width}x{height}",mu),l.channel.display_name,N+A_(l.created_at),wS.parse(l.title)+da+Qt+v+l.game,l_(l.views)+D,c_(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.channel.broadcaster_language),V+Rp(l.length),l.animated_preview_url],ps)));for(;o<$r;o++)ts&&!_s&&(_s=!0,ns=s*$r+o),d.appendChild(B_(ps[9]+s+"_"+o)),is.push(ps[9]+s+"_"+o);u.appendChild(d)}Is()}function Is(){if(vs?I_(Ma):(us?$u(L+(gs?G:O)+T+M):(vs=!0,I_(Ma),Ls(),v_()),Gu(ps[10]),wf=!1,Hu()),0<is.length&&!ts)return As(),void Ss();Ls(!0),os=!(is=[])}function Ss(){Ku(is.length);var e=ns+cs;e&&rs-1<e&&(e=rs-du,ts=!0),Gf("https://api.twitch.tv/kraken/videos/top?game="+encodeURIComponent(Br.Main_gameSelected)+"&limit="+du+"&broadcast_type="+(gs?"highlight":"archive")+"&sort=views&offset="+e+"&period="+fs+(""!==qr?"&language="+qr:""),ls,2,null,Ps,xs)}function xs(){++ss<ds?(ls+=500,Ss()):(ts=!0,is=[],Is())}function Ps(e){var t,n,a=JSON.parse(e),i=a.vods.length,o=0,s=0,d=[];for(rs=parseInt(a._total);o<is.length&&s<i;o++,s++)n=(t=a.vods[s])._id,-1!==(t.preview.template+"").indexOf("404_processing")||as[n]?o--:(as[n]=1,eS(is[o],[n,t.length,t.channel.broadcaster_language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",mu),t.channel.display_name,N+A_(t.created_at),wS.parse(t.title)+da+Qt+v+t.game,l_(t.views)+D,c_(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.channel.broadcaster_language),V+Rp(t.length),t.animated_preview_url],ps),d.push(o));for(o=d.length-1;-1<o;o--)is.splice(d[o],1);cs+=s,ts&&(ns-=is.length,is=[]),Is()}function Ls(e){$o<0?Bs():(j_($o,es,ps,$r,ns,e),rS(ps,$o+"_"+es),ns/$r<$o+eu&&!ts&&!os&&(As(),Cs()),Ur&&Ts())}function Ts(){window.clearInterval(kI),-1<$o&&ns?(Gu(ps[1]+$o+"_"+es),nf($o+"_"+es,ps)):Os()}function Bs(){var e=1<es?1:es;Ru(ps[0]+"y_"+e,pu)}function Os(){var e=1<es?1:es;Nu(ps[0]+"y_"+e,pu)}function Gs(e){var t;if(!wf&&!z_())switch(q_(),e.keyCode){case Ua:d_()?s_():a_()?n_():(Ts(),Af(Gs));break;case La:if(-1===$o)Os(),--es<0&&(es=1),Bs();else if($o||es){if(u_($o,es-1,ps[0]))Ts(),es--,Ls();else for(t=$r-1;-1<t;t--)if(u_($o-1,t,ps[0])){Ts(),$o--,es=t,Ls();break}}else Ts(),Os(),$o=-1,es=1,Bs();break;case Ba:-1===$o?(Os(),1<++es?(es=0,us?Bs():($o=0,Ls())):Bs()):u_($o,es+1,ps[0])?(Ts(),es++,Ls()):u_($o+1,0,ps[0])&&(Ts(),$o++,es=0,Ls());break;case Ta:if(-1!==$o||us)if($o){for(t=0;t<$r;t++)if(u_($o-1,es-t,ps[0])){Ts(),$o--,es-=t,Ls();break}}else Ts(),$o=-1,Bs();else $o=0,Os(),Ls();break;case Oa:if(-1!==$o||us){for(t=0;t<$r;t++)if(u_($o+1,es-t,ps[0])){Ts(),$o++,es-=t,Ls();break}}else $o=0,Os(),Ls();break;case xa:case Sa:case Pa:case Ga:-1===$o?(0===es?xf("AGameVod_highlight",(gs=!gs)?"true":"false"):4<++ms&&(ms=1),ks()):$_($o+"_"+es,ps,Gs)}}function Us(){1===ms?(Vu("top_bar_game",b+k_((gs?G:O)+de+": "+Br.Main_gameSelected)),fs="day"):2===ms?(Vu("top_bar_game",b+k_((gs?G:O)+le+": "+Br.Main_gameSelected)),fs="week"):3===ms?(Vu("top_bar_game",b+k_((gs?G:O)+ce+": "+Br.Main_gameSelected)),fs="month"):4===ms&&(Vu("top_bar_game",b+k_((gs?G:O)+re+": "+Br.Main_gameSelected)),fs="all"),xf("AGameVod_periodNumber",ms)}var Rs,Ns=0,Vs=0,Ds=!1,Fs=0,Js=0,Hs=5,qs=3500,zs=0,Xs=!1,js=!1,Ws=["cc_thumbdiv","cc_img","cc_infodiv","cc_name","cc_createdon","cc_game","cc_viwers","cc_duration","cc_cell","sccempty_","channel_content_scroll"],Ys=!1,Qs="",Zs=null,Ks="",$s="",ed="",td="",nd="",ad={},id=!1,od=null,sd="";function dd(){Br.Main_CenterLablesVectorPos=1,Br.Main_Go=br,id&&!Br.Search_isSearching&&Br.Main_selectedChannel_id&&Ld(),Qs!==Br.Main_selectedChannel&&(Ys=!1),w_(),Br.Main_selectedChannelDisplayname=Br.Main_selectedChannelDisplayname.replace(W,""),Du("top_bar_user",Br.Main_selectedChannelDisplayname),Du("top_bar_game",Ut),document.body.addEventListener("keydown",Td,!1),Wa=!1,Ys?(P_(Ns),Gu(Ws[10]),Md(),Id(),v_()):cd()}function ld(){b_(),document.body.removeEventListener("keydown",Td),Ou(Ws[10])}function cd(){M_("stream_table_channel_content"),Ou(Ws[10]),od=null,Ju(),e_(),Qs=Br.Main_selectedChannel,td="",Ds=Xs=Ys=!1,Rs=void(Ns=Vs=Fs=zs=0),rd(),ud()}function rd(){wf=!0,Js=0,qs=3500}function ud(){Gf("https://api.twitch.tv/kraken/streams/"+encodeURIComponent(void 0!==Rs?Rs:Br.Main_selectedChannel_id),qs,2,null,_d,fd)}function _d(e){null!==JSON.parse(e).stream?(Zs=e,rd(),vd()):Rs?(Zs=null,rd(),vd()):(rd(),md())}function fd(){++Js<Hs?(qs+=500,ud()):(Zs=null,rd(),vd())}function md(){Gf("https://tmi.twitch.tv/hosts?include_logins=1&host="+encodeURIComponent(Br.Main_selectedChannel_id),qs,1,null,pd,hd,!0)}function hd(){++Js<Hs?(qs+=500,md()):(Zs=null,rd(),vd())}function pd(e){var t=JSON.parse(e);void 0!==(Rs=t.hosts[0].target_id)?(rd(),ud()):(Zs=null,rd(),vd())}function vd(){Gf("https://api.twitch.tv/kraken/channels/"+Br.Main_selectedChannel_id,bg,2,null,gd,yd)}function gd(e){var t=JSON.parse(e);od=(od=t.video_banner)?od.replace("1920x1080",mu):od,sd=t.profile_banner,Ks=t.views,$s=t.followers,ed=t.description,Br.Main_selectedChannelLogo=t.logo,bd()}function yd(){++Js<Hs?(qs+=500,vd()):(od=null,sd=Ia,ed=$s=Ks="",Br.Main_selectedChannelLogo=Ea,bd())}function bd(){var e=document.createElement("tr"),t=0,n=document.getElementById("stream_table_channel_content");if((Jr=document.createElement("tr")).className="follower_banner",Jr.innerHTML='<div id="'+Ws[0]+'x_0" class="follower_banner"><img id="'+Ws[1]+'x_0" class="stream_img_banner"></div>',n.appendChild(Jr),null!==Zs){var a=JSON.parse(Zs);if(null!==a.stream){var i=void 0!==Rs?Br.Main_selectedChannelDisplayname+ne:"",o=a.stream;e.appendChild(wd("0_"+t,o.channel.name,o.preview.template,wS.parse(o.channel.status),o.game,r_(JSON.stringify(o.stream_type))+i+o.channel.display_name,y+Vp(o.created_at)+" "+h+l_(o.viewers)+F,c_(o.video_height,o.average_fps,o.channel.broadcaster_language))),t++}else Xs=!0}else Xs=!0;e.appendChild(kd("0_"+t,Br.Main_selectedChannelDisplayname,Br.Main_selectedChannelDisplayname+O,"movie-play")),t++,e.appendChild(kd("0_"+t,Br.Main_selectedChannelDisplayname,Br.Main_selectedChannelDisplayname+U,"movie")),t<2&&(t++,e.appendChild(B_(Ws[9]+"0_"+t))),n.appendChild(e),(e=document.createElement("tr")).appendChild(Ad("1_0",Br.Main_selectedChannelDisplayname,Br.Main_selectedChannelDisplayname,Br.Main_selectedChannelLogo)),(Jr=document.createElement("td")).setAttribute("id",Ws[8]+"x_x"),Jr.className="stream_cell",Jr.innerHTML='<div id="'+Ws[0]+'x_x" class="stream_thumbnail_video" ><div id="'+Ws[4]+'x_x" class="stream_channel_info">'+wS.parse(ed)+"</div></div>",e.appendChild(Jr),n.appendChild(e),Ed()}function wd(e,t,n,a,i,o,s,d){return td=n.replace("{width}x{height}",mu),(Jr=document.createElement("td")).setAttribute("id",Ws[8]+e),Jr.setAttribute(vu,t),Jr.className="stream_cell",Jr.innerHTML='<div id="'+Ws[0]+e+'" class="stream_thumbnail_video" ><img id="'+Ws[1]+e+'" class="stream_img"></div><div id="'+Ws[2]+e+'" class="stream_text"><div id="'+Ws[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;"><i class="icon-circle" style="color: '+(void 0!==Rs?"#FED000":"red")+'; font-size: 90%; aria-hidden="true"></i> '+wa+o+'</div><div id="'+Ws[7]+e+'"class="stream_info" style="width:33%; float: right; text-align: right; display: inline-block;">'+d+'</div><div id="'+Ws[4]+e+'"class="stream_info">'+a+'</div><div id="'+Ws[5]+e+'"class="stream_info">'+v+i+'</div><div id="'+Ws[6]+e+'"class="stream_info">'+s+"</div></div>",Jr}function kd(e,t,n,a){return(Jr=document.createElement("td")).setAttribute("id",Ws[8]+e),Jr.setAttribute(vu,t),Jr.className="stream_cell",Jr.innerHTML='<div id="'+Ws[0]+e+'" class="stream_thumbnail_video" ><div id="'+Ws[1]+e+'" class="stream_channel_content_icon"><i class="icon-'+a+'"></i></div></div><div id="'+Ws[2]+e+'" class="stream_text"><div id="'+Ws[3]+e+'" class="stream_channel" style="text-align: center">'+n+"</div></div>",Jr}function Ad(e,t,n,a){return nd=a,(Jr=document.createElement("td")).setAttribute("id",Ws[8]+e),Jr.setAttribute(vu,t),Jr.className="stream_cell",Jr.innerHTML='<div id="'+Ws[0]+e+'" class="stream_thumbnail_video" ><div id="schannel_cont_heart" style="position: absolute; top: 5%; left: 6%;"></div><img id="'+Ws[1]+e+'" class="stream_img_fallow"></div><div id="'+Ws[2]+e+'" class="stream_text_channel"><div id="'+Ws[3]+e+'" class="stream_channel">'+n+'</div><div id="'+Ws[5]+e+'"class="stream_info">'+l_(Ks)+D+'</div><div id="'+Ws[6]+e+'"class="stream_info" >'+l_($s)+Vt+"</div></div>",Jr}function Cd(){Xa?(Vu("schannel_cont_heart",'<i class="icon-heart" style="color: #00b300; font-size: 600%; text-shadow: #FFFFFF 0 0 10px, #FFFFFF 0 0 10px, #FFFFFF 0 0 8px;"></i>'),Du(Ws[3]+"1_0",Br.Main_selectedChannelDisplayname+Mt)):(Vu("schannel_cont_heart",'<i class="icon-heart-o" style="color: #FFFFFF; font-size: 600%; text-shadow: #000000 0 0 10px, #000000 0 0 10px, #000000 0 0 8px;"></i>'),oo()?Du(Ws[3]+"1_0",Br.Main_selectedChannelDisplayname+It):Du(Ws[3]+"1_0",Br.Main_selectedChannelDisplayname+Dt))}function Ed(){Ys||(Ys=!0,""!==td&&Mu(document.getElementById(Ws[1]+"0_0"),td,Ma),Mu(document.getElementById(Ws[1]+"x_0"),sd,Ia),Mu(document.getElementById(Ws[1]+"1_0"),nd,Ea),Id(),v_(),Gu(Ws[10]),Hu()),Md(),wf=!1}function Md(){js?Cd():oo()?(Ya=Br.Main_selectedChannel_id,Wa=!1,_i()):(Xa=!1,Cd())}function Id(){Ru(Ws[0]+Ns+"_"+(Ns?0:Vs),pu),Ur&&Sd(),J_()}function Sd(){nf(Ns+"_"+(Ns?0:Vs),Ws)}function xd(){if(Ns)oo()&&Hi[Br.Users_Position].access_token?(Wa=!1,Ya=Br.Main_selectedChannel_id,Xa?bi():vi()):($u(Bt),window.setTimeout(e_,2e3));else{document.body.removeEventListener("keydown",Td),Ou(Ws[10]);var e=Xs?1:0;Vs===0-e?(Br.Play_selectedChannel=document.getElementById(Ws[8]+Ns+"_"+Vs).getAttribute(vu),Br.Play_selectedChannelDisplayname=document.getElementById(Ws[3]+Ns+"_"+Vs).textContent,-1!==Br.Play_selectedChannelDisplayname.indexOf(ne)?(Br.Play_isHost=!0,Br.Play_DisplaynameHost=Br.Play_selectedChannelDisplayname,Br.Play_selectedChannelDisplayname=Br.Play_selectedChannelDisplayname.split(ne)[1],Br.Play_selectedChannel_id=Rs):Br.Play_selectedChannel_id=Br.Main_selectedChannel_id,Br.Play_gameSelected=document.getElementById(Ws[5]+Ns+"_"+Vs).textContent.split(v)[1],sf(Z_)):Vs===1-e?sf(il):Vs===2-e&&(qy=vb,sf(Yy))}}function Pd(){ad={"Main_values.Main_selectedChannel_id":Br.Main_selectedChannel_id,"Main_values.Main_selectedChannelLogo":Br.Main_selectedChannelLogo,"Main_values.Main_selectedChannel":Br.Main_selectedChannel,"Main_values.Main_selectedChannelDisplayname":Br.Main_selectedChannelDisplayname,ChannelContent_UserChannels:js,"Main_values.Main_BeforeChannel":Br.Main_BeforeChannel}}function Ld(){Br.Main_selectedChannel_id=Br.Main_selectedChannel_id,Br.Main_selectedChannelLogo=Br.Main_selectedChannelLogo,Br.Main_selectedChannel=Br.Main_selectedChannel,Br.Main_selectedChannelDisplayname=Br.Main_selectedChannelDisplayname,js=ad.ChannelContent_UserChannels,Br.Main_BeforeChannel=Br.Main_BeforeChannel,id=!(ad={})}function Td(e){if(!wf&&!z_())switch(q_(),e.keyCode){case Ua:d_()?s_():a_()?n_():(Sd(),Af(Td));break;case La:Ns||(Sd(),--Vs<0&&(Vs=Xs?1:2),Id());break;case Ba:Ns||(Sd(),(Xs?1:2)<++Vs&&(Vs=0),Id());break;case Ta:case Oa:Sd(),Ns=Ns?0:1,Id();break;case xa:case Sa:case Pa:case Ga:xd()}}var Bd=0,Od=0,Gd=!1,Ud=0,Rd={},Nd=[],Vd=!1,Dd=0,Fd=5,Jd=3500,Hd=0,qd=0,zd=0,Xd=!1,jd=!1,Wd="",Yd=!1,Qd=["cv_thumbdiv","cv_img","cv_infodiv","cv_title","cv_streamon","cv_duration","cv_viwers","cv_quality","cv_cell","cvempty_","channel_vod_scroll","cv_game"],Zd=!1,Kd=!1,$d="",el="",tl="",nl="",al=0;function il(){Br.Main_CenterLablesVectorPos=1,Br.Main_Go=wr,!Br.Search_isSearching&&Br.Main_selectedChannel_id&&Ld(),Br.Main_selectedChannel!==$d&&(Zd=!1),w_(),Bu("label_side_panel","icon-arrow-circle-left",I),Du("top_bar_user",Br.Main_selectedChannelDisplayname),document.body.addEventListener("keydown",yl,!1),Zd?(P_(Bd),Du("top_bar_game",Kd?G:O),Gu(Qd[10]),hl(),v_()):sl()}function ol(){Zd&&pl(),b_(),document.body.removeEventListener("keydown",yl),Ou(Qd[10]),e_()}function sl(){Zd&&pl(),M_("stream_table_channel_vod"),Ou(Qd[10]),Du("top_bar_game",Kd?G:O),Ju(),e_(),$d=Br.Main_selectedChannel,Yd=Zd=!1,wf=!(jd=!(Nd=[])),Bd=Od=Ud=qd=Hd=0,Gd=!(Rd={}),Yu(),dl(),ll()}function dl(){S_(),Vd=!0,Dd=0,Jd=3500}function ll(){var e=Ud+Hd;e&&qd-1<e&&(e=qd-Kr,Gd=!0);var t="https://api.twitch.tv/kraken/channels/"+encodeURIComponent(Br.Main_selectedChannel_id)+"/videos?limit="+Kr+"&broadcast_type="+(Kd?"highlight":"archive")+"&sort=time&offset="+e;Au&&!Ud?Rf(t,Jd,2,null,rl,cl):Nf(t,Jd,2,null,rl,cl,!1)}function cl(){++Dd<Fd?(Jd+=500,ll()):(Vd=!1,Ud?(Gd=!0,ul()):(wf=!1,Hu(),$u(P),Af(yl)))}function rl(e){var t=JSON.parse(e),n=t.videos.length;qd=parseInt(t._total),n<Kr&&(Gd=!0);var a=Ud;Xd=!(Ud+=n);var i=n/$r;0<n%$r&&i++;var o,s,d,l,c,r,u,_=0,f=document.getElementById("stream_table_channel_vod");if(!Yd){Yd=!0,d=document.createElement("tr");var m='<i class="icon-movie-play stream_channel_fallow_icon"></i>'+wa+wa+p;(Jr=document.createElement("td")).setAttribute("id",Qd[8]+"y_0"),Jr.className="stream_cell",Jr.innerHTML='<div id="'+Qd[0]+'y_0" class="stream_thumbnail_channel_vod" ><div id="'+Qd[3]+'y_0" class="stream_channel_fallow_game">'+m+"</div></div>",d.appendChild(Jr),d.appendChild(document.createElement("tr")),d.appendChild(document.createElement("tr")),f.appendChild(d)}for(var h=0;h<i;h++){for(s=a/$r+h,d=document.createElement("tr"),o=0;o<$r&&_<n;o++,_++)c=(l=t.videos[_])._id,r=-1!==((u=l.preview.template)+"").indexOf("404_processing"),s||o||!r||(r=!1,u=null!==od?od:Ma),r||Rd[c]?o--:(Rd[c]=1,d.appendChild(KI(s,s+"_"+o,[c,l.length,l.channel.broadcaster_language,l.game,l.channel.name,l.increment_view_count_url],[u.replace("{width}x{height}",mu),l.channel.display_name,N+A_(l.created_at),wS.parse(l.title)+da+Qt+v+l.game,l_(l.views)+D,c_(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.channel.broadcaster_language),V+Rp(l.length),l.animated_preview_url],Qd)));for(;o<$r;o++)Gd&&!jd&&(jd=!0,Ud=s*$r+o),d.appendChild(B_(Qd[9]+s+"_"+o)),Nd.push(Qd[9]+s+"_"+o);f.appendChild(d)}ul()}function ul(){if(Zd?(hl(!0),I_(null!==od?od:Ma)):(Xd?(Af(yl),$u(L+(Kd?G:O)+T+M)):(Zd=!0,I_(null!==od?od:Ma),hl(),v_()),Gu(Qd[10]),wf=!1,Hu()),0<Nd.length&&!Gd)return dl(),void _l();Vd=!(Nd=[])}function _l(){Ku(Nd.length);var e=Ud+Hd;e&&qd-1<e&&(e=qd-du,Gd=!0),Gf("https://api.twitch.tv/kraken/channels/"+encodeURIComponent(Br.Main_selectedChannel_id)+"/videos?limit="+du+"&broadcast_type="+(Kd?"highlight":"archive")+"&sort=time&offset="+e,Jd,2,null,ml,fl)}function fl(){++Dd<Fd?(Jd+=500,_l()):(Gd=!0,Ud-=Nd.length,Nd=[],ul())}function ml(e){var t,n,a=JSON.parse(e),i=a.videos.length,o=0,s=0,d=[];for(qd=parseInt(a._total);o<Nd.length&&s<i;o++,s++)n=(t=a.videos[s])._id,-1!==(t.preview.template+"").indexOf("404_processing")||Rd[n]?o--:(Rd[n]=1,eS(Nd[o],[n,t.length,t.channel.broadcaster_language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",mu),t.channel.display_name,N+A_(t.created_at),wS.parse(t.title)+da+Qt+v+t.game,l_(t.views)+D,c_(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.channel.broadcaster_language),V+Rp(t.length),t.animated_preview_url],Qd),d.push(o));for(o=d.length-1;-1<o;o--)Nd.splice(d[o],1);Hd+=s,Gd&&(Ud-=Nd.length,Nd=[]),ul()}function hl(e){Bd<0?vl():(j_(Bd,Od,Qd,$r,Ud,e),rS(Qd,Bd+"_"+Od),Ud/$r<Bd+eu&&!Gd&&!Vd&&(dl(),ll()),Ur&&pl())}function pl(){window.clearInterval(kI),-1<Bd&&Ud?(Gu(Qd[1]+Bd+"_"+Od),nf(Bd+"_"+Od,Qd)):gl()}function vl(){Ru(Qd[0]+"y_0",pu)}function gl(){Nu(Qd[0]+"y_0",pu)}function yl(e){var t;if(!wf&&!z_())switch(q_(),e.keyCode){case Ua:d_()?s_():a_()?n_():(pl(),Af(yl));break;case La:if(u_(Bd,Od-1,Qd[0]))pl(),Od--,hl();else for(t=$r-1;-1<t;t--)if(u_(Bd-1,t,Qd[0])){pl(),Bd--,Od=t,hl();break}break;case Ba:u_(Bd,Od+1,Qd[0])?(pl(),Od++,hl()):u_(Bd+1,0,Qd[0])&&(pl(),Bd++,Od=0,hl());break;case Ta:if(-1!==Bd||Xd)if(Bd){for(t=0;t<$r;t++)if(u_(Bd-1,Od-t,Qd[0])){pl(),Bd--,Od-=t,hl();break}}else pl(),Bd=-1,vl();else Bd=0,gl(),hl();break;case Oa:if(-1!==Bd||Xd){for(t=0;t<$r;t++)if(u_(Bd+1,Od-t,Qd[0])){pl(),Bd++,Od-=t,hl();break}}else Bd=0,gl(),hl();break;case xa:case Sa:case Pa:case Ga:-1===Bd?(xf("ChannelVod_highlight",(Kd=!Kd)?"true":"false"),sl()):$_(Bd+"_"+Od,Qd,yl)}}var bl,wl,kl,Al,Cl=0,El=10,Ml=!1,Il=0,Sl=null,xl=!1,Pl=0,Ll={},Tl={};function Bl(){Kl(),Br.Play_ChatForceDisable?(ic||yc(),xl=!1,sf(function(){Ol(Il=(new Date).getTime())})):Yc()}function Ol(e){Cl=0,Gl(e)}function Gl(e){var t="https://badges.twitch.tv/v1/badges/channels/"+Br.Play_selectedChannel_id+"/display",n=new XMLHttpRequest;n.open("GET",t,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){if(4===n.readyState){if(200===n.status)return void(Il===e&&Rl(n.responseText,e));Il===e&&Ul(e)}},n.send(null)}function Ul(e){Cl++,Il===e&&(Cl<El?Gl(e):wl=window.setTimeout(function(){Gl(e)},1e3))}function Rl(e,t){yS(JSON.parse(e).badge_sets).forEach(function(t){t.versions.forEach(function(e){bS(t.type,e.type,e.image_url_4x,nc)})}),Ll[Br.Play_selectedChannel_id]?Il===t&&Hl():Nl(t)}function Nl(e){Cl=0,Vl(e)}function Vl(e){var t="https://api.betterttv.net/2/channels/"+encodeURIComponent(Br.Play_selectedChannel),n=new XMLHttpRequest;n.open("GET",t,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){4===n.readyState&&(200===n.status?Il===e&&Fl(n.responseText,e):404===n.status?(Ll[Br.Play_selectedChannel_id]=1,Il===e&&Hl()):Il===e&&Dl(e))},n.send(null)}function Dl(e){Cl++,Il===e&&(Cl<El?Vl(e):Il===e&&Hl())}function Fl(e,t){Jl(JSON.parse(e)),Ll[Br.Play_selectedChannel_id]=1,Il===t&&Hl()}function Jl(t){t.emotes.forEach(function(e){Tl[e.code]={code:e.code,id:e.id,"3x":"https:"+t.urlTemplate.replace("{{id}}",e.id).replace("{{image}}","3x")}})}function Hl(){Xl(),ql()}function ql(){(Sl=new ReconnectingWebSocket("wss://irc-ws.chat.twitch.tv","irc",{reconnectInterval:3e3})).onopen=function(){Sl.send("PASS blah\r\n"),Sl.send("NICK justinfan12345\r\n"),Sl.send("CAP REQ :twitch.tv/commands twitch.tv/tags\r\n"),Sl.send("JOIN #"+Br.Play_selectedChannel+"\r\n")},Sl.onclose=function(){Ml=!0},Sl.onmessage=function(e){var t=window.parseIRC(e.data.trim());if(t.command)switch(t.command){case"PING":Sl.send("PONG "+t.params[0]);break;case"JOIN":xl=!0,Yl('&nbsp;<span class="message">'+da+bn+Br.Play_selectedChannelDisplayname+" "+_+"</span>");break;case"PRIVMSG":jl(t)}},kl=window.setTimeout(zl,5e3)}function zl(){xl?Al=window.setInterval(Ql,1e3):(Sl.close(1e3),Hl())}function Xl(){window.clearTimeout(kl)}function jl(e){var t="",n=e.tags;if(n.hasOwnProperty("badges")&&"string"==typeof n.badges&&n.badges.split(",").forEach(function(e){e=e.split("/"),t+='<span class="'+e[0]+"-"+e[1]+' tag"></span>'}),n.hasOwnProperty("display-name")){var a=n["display-name"];"string"==typeof a&&(t+='<span class="nick" style="color: #'+_c[a.charCodeAt(0)%fc]+';">'+a+"</span>&#58;&nbsp;")}var i=e.params[1];/^\x01ACTION.*\x01$/.test(i)&&(i=i.replace(/^\x01ACTION/,"").replace(/\x01$/,"").trim());var o={};n.hasOwnProperty("emotes")&&"string"==typeof n.emotes&&(n.emotes=n.emotes.split("/"),n.emotes.forEach(function(t){t=t.split(":"),o[t[0]]||(o[t[0]]=[]),t[1].split(",").forEach(function(e){e=e.split("-"),o[t[0]].push([parseInt(e[0]),parseInt(e[1])])})})),Yl(t+='<span class="message">'+Wl(gS(i,o))+"</span>")}function Wl(e){for(var t=0;t<e.length;t++)"string"==typeof e[t]?e[t]=vS(e[t]):e[t]=e[t][0];return wS.parse(e.join(" "),!0,!0)}function Yl(e){var t=document.createElement("div");t.className="chat_line",t.innerHTML=e,nc.appendChild(t),Ql(),100<++Pl&&(Pl=0,Zc())}function Ql(){nc.scrollTop=nc.scrollHeight}function Zl(){Xl(),window.clearTimeout(wl),window.clearTimeout(bl),window.clearInterval(Al)}function Kl(){Zl(),Sl&&Sl.close(1e3),Il=0,M_("chat_box"),xl=Ml=!1}var $l,ec,tc,nc,ac,ic=!1,oc=0,sc=[],dc=[],lc=10,cc=null,rc=0,uc="",_c=["fe2424","fc5a24","ff9020","fEc723","ffff1d","bfff00","c3ff12","56fe1d","1eff1e","16ff51","00ff80","00ffbf","00ffff","1dc6ff","158aff","3367ff","ff4dff","ff4ad2","ff62b1","ff4272"],fc=_c.length,mc=0,hc=!1,pc=0;function vc(){nc=document.getElementById("chat_box"),yc()}function gc(){Hc(),Au&&Br.Play_ChatForceDisable?(ic||yc(),sf(function(){Ic(pc=(new Date).getTime())})):Yc()}function yc(){oc=0,ic=!(Tl={}),bc()}function bc(){Nf("https://badges.twitch.tv/v1/badges/global/display",1e4,0,null,kc,wc,!1)}function wc(){++oc<lc?bc():ic=!1}function kc(e){yS(JSON.parse(e).badge_sets).forEach(function(t){t.versions.forEach(function(e){bS(t.type,e.type,e.image_url_4x,null)})}),Ac()}function Ac(){oc=0,Cc()}function Cc(){Nf("https://api.betterttv.net/2/emotes",1e4,0,null,Mc,Ec,!1)}function Ec(){++oc<lc?Cc():ic=!1}function Mc(e){Jl(JSON.parse(e)),ic=!0}function Ic(e){oc=0,Sc(e)}function Sc(e){var t="https://badges.twitch.tv/v1/badges/channels/"+Br.Main_selectedChannel_id+"/display",n=new XMLHttpRequest;n.open("GET",t,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){if(4===n.readyState){if(200===n.status)return void(pc===e&&Pc(n.responseText,e));pc===e&&xc(e)}},n.send(null)}function xc(e){oc++,pc===e&&(oc<lc?Sc(e):ac=window.setTimeout(function(){Sc(e)},1e3))}function Pc(e,t){yS(JSON.parse(e).badge_sets).forEach(function(t){t.versions.forEach(function(e){bS(t.type,e.type,e.image_url_4x,nc)})}),pc===t&&Gc(t),Ll[Br.Main_selectedChannel_id]?pc===t&&Gc(t):Lc(t)}function Lc(e){oc=0,Tc(e)}function Tc(e){var t="https://api.betterttv.net/2/channels/"+encodeURIComponent(Br.Main_selectedChannel),n=new XMLHttpRequest;n.open("GET",t,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){4===n.readyState&&(200===n.status?pc===e&&Oc(n.responseText,e):404===n.status?(Ll[Br.Main_selectedChannel_id]=1,pc===e&&Gc()):pc===e&&Bc(e))},n.send(null)}function Bc(e){oc++,pc===e&&(oc<lc?Tc(e):pc===e&&Gc())}function Oc(e,t){Jl(JSON.parse(e)),Ll[Br.Main_selectedChannel_id]=1,pc===t&&Gc()}function Gc(e){oc=0,pc===e&&Uc(e)}function Uc(e){var t="https://api.twitch.tv/v5/videos/"+Br.ChannelVod_vodId+"/comments?client_id="+lu+(rc?"&content_offset_seconds="+parseInt(rc):""),n=new XMLHttpRequest;n.open("GET",t,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){if(4===n.readyState){if(200===n.status)return void(pc===e&&Nc(n.responseText,e));pc===e&&Rc(e)}},n.send(null)}function Rc(e){oc++,pc===e&&(oc<lc?Uc(e):ec=window.setTimeout(function(){Uc(e)},2500))}function Nc(e,t){e=JSON.parse(e);var n,a,i=null===cc;i&&(n="&nbsp;",n+='<span class="message">',n+=da+bn+Br.Main_selectedChannelDisplayname+" "+uc,Vc(n+="</span>",0)),rc=0,cc=e._next,e.comments.forEach(function(e){n="",(a=e.message).hasOwnProperty("user_badges")&&a.user_badges.forEach(function(e){n+='<span class="'+e._id+"-"+e.version+' tag"></span>'}),n+='<span class="nick" style="color: #'+_c[e.commenter.display_name.charCodeAt(0)%fc]+';">'+e.commenter.display_name+"</span>&#58;&nbsp;",n+='<span class="message">',a.fragments.forEach(function(e){e.hasOwnProperty("emoticon")?n+='<img class="emoticon" src="https://static-cdn.jtvnw.net/emoticons/v1/'+e.emoticon.emoticon_id+'/1.0" srcset="https://static-cdn.jtvnw.net/emoticons/v1/'+e.emoticon.emoticon_id+"/2.0 2x, https://static-cdn.jtvnw.net/emoticons/v1/"+e.emoticon.emoticon_id+'/3.0 4x">':n+=Wl([e.text])}),n+="</span>",i?Vc(n,e.content_offset_seconds):void 0!==cc&&Dc(n,e.content_offset_seconds)}),i&&pc===t&&(Fc(t),void 0!==cc&&zc(t))}function Vc(e,t){sc.push({time:t,message:e})}function Dc(e,t){dc.push({time:t,message:e})}function Fc(e){hc||pc!==e||($l=window.setInterval(function(){qc(e),nc.scrollTop=nc.scrollHeight},1e3))}function Jc(){hc||(window.clearTimeout(ac),window.clearTimeout(ec),window.clearTimeout(tc),window.clearInterval($l))}function Hc(){Jc(),pc=0,M_("chat_box"),hc=!1,cc=null,sc=[],dc=[],mc=0}function qc(e){var t;if(mc<sc.length-1)for(var n=mc;n<sc.length&&sc[n].time<al+Android.gettime()/1e3;n++,mc++)(t=document.createElement("div")).className="chat_line",t.innerHTML=sc[n].message,nc.appendChild(t);else if(Jc(),void 0!==cc)sc=dc.slice(),mc=0,Fc(e),dc=[],pc===e&&zc(e),Zc();else{var a="&nbsp;";a+='<span class="message">',a+=da+da+Cn+da+da,a+="</span>",(t=document.createElement("div")).className="chat_line",t.innerHTML=a,nc.appendChild(t),hc=!0,nc.scrollTop=nc.scrollHeight,window.clearInterval($l),$l=window.setInterval(function(){nc.scrollTop=nc.scrollHeight},1e3)}}function zc(e){oc=0,hc||pc!==e||Xc(e)}function Xc(e){var t="https://api.twitch.tv/v5/videos/"+Br.ChannelVod_vodId+"/comments?client_id="+lu+(null!==cc?"&cursor="+cc:""),n=new XMLHttpRequest;n.open("GET",t,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){if(4===n.readyState){if(200===n.status)return void(hc||pc!==e||Nc(n.responseText,e));hc||pc!==e||jc(e)}},n.send(null)}function jc(e){oc++,pc===e&&(oc<lc?Xc(e):tc=window.setTimeout(function(){Xc(e)},2500))}function Wc(){Hc(),Qc(ln+da+cn)}function Yc(){Hc(),Qc($n)}function Qc(e){var t="&nbsp;";t+='<span class="message">',t+=da+da+da+da+da+da+da+da+da+da,t+=e,t+="</span>";var n=document.createElement("div");n.className="chat_line",n.innerHTML=t,nc.appendChild(n)}function Zc(){var e=document.getElementsByClassName("chat_line");if(0<e.length-100)for(var t=0;t<e.length-100;t++)e[0].parentNode.removeChild(e[0]);Ql()}var Kc,$c,er,tr,nr,ar,ir,or=!0,sr=!1,dr=!1,lr=-1,cr=new Image,rr=1,ur=2,_r=3,fr=4,mr=5,hr=6,pr=7,vr=8,gr=9,yr=10,br=11,wr=12,kr=13,Ar=14,Cr=15,Er=16,Mr=17,Ir=18,Sr=19,xr=20,Pr=21,Lr=22,Tr="",Br={Main_Go:1,Main_Before:1,Main_BeforeSearch:1,Main_BeforeChannel:1,Main_BeforeAgame:_r,Main_BeforeChannelisSet:!1,Main_BeforeAgameisSet:!1,Main_selectedChannel:"",Main_selectedChannelDisplayname:"",Main_selectedChannelLogo:"",Main_selectedChannel_id:"",Main_gameSelected:"",Main_OldgameSelected:null,Play_isHost:!1,Play_DisplaynameHost:"",Play_selectedChannelDisplayname:"",Play_selectedChannel:"",Play_gameSelected:"",Users_Position:0,Users_AddcodePosition:0,Play_WasPlaying:0,ChannelVod_vodId:"",vodOffset:0,Search_data:"",isLastSChannels:!1,gameSelectedOld:"",Games_return:!1,Search_isSearching:!1,Play_ChatForceDisable:!1,Never_run:!0,Main_CenterLablesVectorPos:0},Or=!0,Gr=!0,Ur=!1,Rr=[],Nr=0,Vr=0,Dr=null,Fr=!0,Jr="",Hr=!1,qr="",zr=["label_side_panel","label_refresh","top_bar_live","top_bar_user","top_bar_featured","top_bar_game","top_bar_vod","top_bar_clip"],Xr=[],jr=0,Wr=!0,Yr=0,Qr=1.35,Zr=1.5,Kr=45,$r=3,eu=Math.floor(Kr/$r/Zr),tu=45,nu=5,au=Math.floor(tu/nu/Qr),iu=48,ou=6,su=Math.floor(iu/ou/Zr),du=6,lu="5seja5ptej058mxqy7gh5tcudjqtm9",cu="Client-ID",ru="Accept",uu="Authorization",_u="OAuth ",fu="application/vnd.twitchtv.v5+json",mu="528x297",hu="340x475",pu="stream_thumbnail_focused",vu="data_attribute",gu="1.0",yu=".18",bu="050719",wu=gu+yu+"-"+bu,ku=0,Au=0,Cu="?"+Math.random(),Eu="https://cors-anywhere.herokuapp.com/",Mu=function(e,t,n){e.onerror=function(){this.src=n},e.src=t};function Iu(){(dr=Tf("Main_isDebug",!1))&&or?Su():"loading"===document.readyState?document.addEventListener("DOMContentLoaded",function(){xu(window.navigator.userLanguage||window.navigator.language)}):xu(window.navigator.userLanguage||window.navigator.language)}function Su(){console.log("Debug mod start");var e=document.createElement("script");e.src="https://fgl27.github.io/SmartTwitchTV/release/githubio/js/masterdebug.js",document.head.appendChild(e)}function xu(e){af(),sf(function(){try{Au=Android.getAndroid()}catch(e){Au=0,document.body.style.backgroundColor="rgba(0, 0, 0, 1)",sr=dr=!0,console.log("Main_isReleased: "+or),console.log("Main_isDebug: "+dr),console.log("Main_isBrowser: "+sr)}Xk(),Aa(),hA(),console.log("language is "+e),ka(),-1!==window.location.href.indexOf("code")&&Of(window.location.href),Pu()})}function Pu(){zy(),Lu(!0),Kc=document.getElementById("scrollbar"),g_(),Tr=Br.Main_Go,sf(function(){vc(),ap(),io(),oo()&&(ir=window.setInterval(rf,6e5),rf()),document.body.addEventListener("keyup",J_,!1),Xy(),document.getElementById("side_panel").style.marginLeft="",C_(),Tu(),JI=Tf("Vod_highlight",!1),Kd=Tf("ChannelVod_highlight",!1),gs=Tf("AGameVod_highlight",!1),tI=Tf("UserVod_highlight",!1),NI=Pf("vod_periodNumber",2),ms=Pf("AGameVod_periodNumber",2),ZM=Pf("UserVod_TypeNumber",1),By(),$c=document.getElementById("search_input"),er=document.getElementById("user_input"),T_(Ma),T_(Ca),T_(Ea),document.addEventListener("visibilitychange",lf,!1),nr=window.setInterval(cf,6e4),qy=wb,Yy(),tr=window.setTimeout(f_,5e3),Gu("topbar")})}function Lu(e){cf(),Bu("label_refresh","icon-refresh",t+jt),Vu("label_update",'<div class="strokedextramini" style="vertical-align: middle; display: inline-block;"><i class="icon-arrow-up" style="color: #FF0000; font-size: 115%; "></i></div><div class="strokedextramini" style="vertical-align: middle; display: inline-block; color: #FF0000">'+wa+_t+"</div>"),Bu("label_side_panel","icon-ellipsis",Rn),Bu("icon_feed_refresh","icon-refresh",t+" Press up"),Du("top_bar_live",_),Du("top_bar_user",e?u:a),Du("top_bar_featured",an),Du("top_bar_game",f),Du("top_bar_vod",Kt),Du("top_bar_clip",U),Vu("scene2_search_text",wa+n),Vu("scene2_channel_text",wa+Ut),Vu("scene2_game_text",wa+Ft),Du("dialog_end_replay_text",en),Du("dialog_end_vod_text",sn),Du("dialog_end_channel_text",Ut),Du("dialog_end_game_text",Ft),Vu("dialog_about_text",va+ga),Xr=[de,le,ce,re],e?Dk():(zk(),C_())}function Tu(){Du("play_dialog_exit_text",J),Du("side_panel_search",n),Du("side_panel_settings",a),Du("side_panel_about",i),Du("side_panel_controls",e),Du("side_panel_exit",q),Du("side_panel_live",_),Du("side_panel_user",u),Du("side_panel_featured",an),Du("side_panel_games",f),Du("side_panel_videos",Kt),Du("side_panel_clips",U),Du("side_panel_hide",o),Du("chanel_button",E),Du("game_button",f),Du("live_button",_),Du("exit_app_cancel",j),Du("exit_app_close",z),Du("remove_cancel",j),Du("remove_yes",Jt),Du("exit_app_minimize",X),Du("main_dialog_exit_text",H),Vu("dialog_controls_text",pa),Du("dialog_vod_text",wn),Vu("dialog_vod_start_text",An)}function Bu(e,t,n){Vu(e,'<div class="strokedextramini" style="vertical-align: middle; display: inline-block;"><i class="'+t+'" style="color: #FFFFFF; font-size: 115%; "></i></div><div class="strokedextramini" style="vertical-align: middle; display: inline-block">'+wa+n+"</div>")}function Ou(e){document.getElementById(e).classList.add("hide")}function Gu(e){document.getElementById(e).classList.remove("hide")}function Uu(e){return-1===document.getElementById(e).className.indexOf("hide")}function Ru(e,t){document.getElementById(e).classList.add(t)}function Nu(e,t){document.getElementById(e).classList.remove(t)}function Vu(e,t){document.getElementById(e).innerHTML=t}function Du(e,t){document.getElementById(e).textContent=t}function Fu(e){var t=document.getElementById(e).getElementsByClassName("emoji");if(t){for(var n=0;n<t.length;n++)t[n].classList.add("emoticon");for(t=document.getElementById(e).getElementsByClassName("emoticon"),n=0;n<t.length;n++)t[n].classList.remove("emoji")}}function Ju(){P_(-1),Au?Android.mshowLoading(!0):Gu("dialog_loading")}function Hu(){Au?Android.mshowLoading(!1):Ou("dialog_loading")}function qu(){window.clearTimeout(Dr)}function zu(){Dr=window.setTimeout(ju,6e3)}function Xu(){zu(),Gu("main_dialog_exit"),document.body.addEventListener("keydown",gf,!1)}function ju(){document.body.removeEventListener("keydown",gf,!1),Af(ar),qu(),Ou("main_dialog_exit"),Vr=0,Wu()}function Wu(){Nu("exit_app_cancel","button_search_focused"),Nu("exit_app_minimize","button_search_focused"),Nu("exit_app_close","button_search_focused"),Ru(Vr?1===Vr?"exit_app_minimize":"exit_app_close":"exit_app_cancel","button_search_focused")}function Yu(){M_("dialog_counter_text"),Zu(0,0,0)}function Qu(e,t,n,a){0<a?(Du("dialog_counter_text",t*n+(e+1)+"/"+a),Zu(t,n,a)):Yu()}function Zu(e,t,n){var a=screen.height/100*7;if(3===t&&9<n||5===t&&10<n||6===t&&12<n){var i=Br.Main_Go===fr||Br.Main_Go===Sr||Br.Main_Go===xr||Br.Main_Go===wr||Br.Main_Go===Lr||Br.Main_Go===Mr||Br.Main_Go===Ir||Br.Main_Go===kr,o=Math.ceil((screen.height-3*a)/(Math.ceil(n/t)-1)*e+a*(i?1.8:1));Kc.style.top=o+"px",Fr&&(Fr=!1,Kc.style.backgroundColor="#777777")}else Kc.style.backgroundColor="#000000",Kc.style.top=a+"px",Fr=!0}function Ku(e){(du=12)/3<e&&(du=3*e),99<du&&(du=99)}function $u(e){Du("dialog_warning_text",e),Gu("dialog_warning")}function e_(){Ou("dialog_warning")}function t_(){s_(),Gu("dialog_about")}function n_(){Ou("dialog_about")}function a_(){return Uu("dialog_about")}function i_(){s_(),e_(),y_(Br.Main_Go),Yu(),Nk()}function o_(){n_(),Gu("dialog_controls")}function s_(){Ou("dialog_controls")}function d_(){return Uu("dialog_controls")}function l_(e){return(e+"").replace(/\B(?=(\d{3})+(?!\d))/g,",")}function c_(e,t,n){return(e+="").indexOf("x")||(e=e.slice(-3)),e+"p"+(t=58<t?60:t<32?30:Math.ceil(t))+(""!==n?" ["+n.toUpperCase()+"]":"")}function r_(e){return-1!==e.indexOf("live")?"":W}function u_(e,t,n){return null!==document.getElementById(n+e+"_"+t)}function __(){cf(),h_(),document.body.addEventListener("keyup",J_,!1)}function f_(){for(var e,t=0;t<zr.length;t++)t<2?document.getElementById(zr[t]).style.opacity="0.5":-1===(e=document.getElementById(zr[t])).className.indexOf("icon_center_focus")&&(e.style.opacity="0.5");Ru("topbar","topbar_dim")}function m_(){for(var e=0;e<zr.length;e++)document.getElementById(zr[e]).style.opacity="1";Nu("topbar","topbar_dim")}function h_(e){window.clearTimeout(tr),m_(),sf(function(){p_(e)})}function p_(e){e_(),Br.Main_Go!==br&&(Br.Main_BeforeChannelisSet=!1),Br.Main_Go!==fr&&(Br.Main_BeforeAgameisSet=!1),Yu(),Br.Main_Go===rr?(qy=wb,Yy()):Br.Main_Go===ur?ji():Br.Main_Go===_r?(qy=yb,Yy()):Br.Main_Go===fr?To():Br.Main_Go===vr?jw():Br.Main_Go===gr?Tw():Br.Main_Go===yr?yk():Br.Main_Go===br?dd():Br.Main_Go===wr?il():Br.Main_Go===kr?(qy=vb,Yy()):Br.Main_Go===Ar?yM():Br.Main_Go===mr?XE():Br.Main_Go===hr?AC():Br.Main_Go===pr?(qy=bb,Yy()):Br.Main_Go===Cr?zA():Br.Main_Go===Er?iw():Br.Main_Go===Mr?zI():Br.Main_Go===Ir?(qy=pb,Yy()):Br.Main_Go===Sr?bs():Br.Main_Go===xr?(qy=gb,Yy()):Br.Main_Go===Pr?(qy=kb,Yy()):Br.Main_Go===Lr&&nI(),tr=window.setTimeout(f_,3e3),e&&If()}function v_(){xf("Main_values",JSON.stringify(Br))}function g_(){Br=Wy(Br,Lf("Main_values",{}))}function y_(e){e===rr?Qy():e===ur?Wi():e===_r?Qy():e===fr?Bo():e===vr?Ww():e===gr?Bw():e===yr?bk():e===br?ld():e===wr?ol():e===kr?Qy():e===Ar?bM():e===mr?jE():e===hr?CC():e===pr?Qy():e===Cr?XA():e===Er?ow():e===Mr?XI():e===Ir?Qy():e===Sr?ws():e===xr?Qy():e===Pr?Qy():e===Lr&&aI(),Uu("settings_scroll")&&Vk()}function b_(){Bu("label_refresh","icon-refresh",t+jt),Bu("label_side_panel","icon-ellipsis",Rn),Nu("top_bar_user","icon_center_focus"),Du("top_bar_live",_),Du("top_bar_user",u),Du("top_bar_featured",an),Du("top_bar_game",f),Du("top_bar_vod",Kt),Du("top_bar_clip",U)}function w_(){Bu("label_side_panel","icon-arrow-circle-left",I),M_("top_bar_live"),M_("top_bar_game"),M_("top_bar_vod"),M_("top_bar_clip"),M_("top_bar_featured"),Ru("top_bar_user","icon_center_focus")}function k_(e){return'<div style="font-size: 30%; position: fixed; line-height: 0; text-shadow: #000000 0 0 5.7px, #000000 0 0 5.7px, #000000 0 0 4px">'+e+"</div>"}function A_(e){return e=new Date(e),Hr?e.getDate()+" "+Wt[e.getMonth()]+" "+e.getFullYear():Wt[e.getMonth()]+" "+e.getDate()+" "+e.getFullYear()}function C_(){if(Au)try{var e=Android.getversion();wu="Android: "+e+" Web: "+bu,E_(e)&&Gu("label_update")}catch(e){}Vu("dialog_about_text",va+ye+wu+ga)}function E_(e){return e=e.split("."),parseFloat(e[0]+"."+e[1])<parseFloat(gu)||parseInt(e[2])<parseInt(yu.split(".")[1])}function M_(e){for(e=document.getElementById(e);e.firstChild;)e.removeChild(e.firstChild)}function I_(e){for(var t,n=0;n<Rr.length;n++)null!==(t=document.getElementById(Rr[n].id))&&Mu(t,Rr[n].src+Cu,e)}function S_(){Rr=[]}function x_(e,t){Rr.push({id:e,src:t})}function P_(e){lr=e}function L_(e){var t=0;return lr<e?t=-1:e<lr&&(t=1),lr=e,t}function T_(e){cr.src=e}function B_(e){return(Jr=document.createElement("td")).setAttribute("id",e),Jr.className="stream_cell",Jr}function O_(e,t,n){return(Jr=document.createElement("td")).setAttribute("id",t[4]+e),Jr.setAttribute(vu,n[0]),Jr.setAttribute("data-id",n[1]),Jr.className="stream_cell",Jr.innerHTML=U_(e,t,n),Jr}function G_(e,t,n){var a=document.getElementById(e),i=e.split(n[5])[1];a.setAttribute(vu,t[0]),a.setAttribute("data-id",t[1]),a.innerHTML=U_(i,n,t),a.setAttribute("id",n[4]+i)}function U_(e,t,n){return x_(t[1]+e,n[2]),'<div id="'+t[0]+e+'" class="stream_thumbnail_channel" ><img id="'+t[1]+e+'" class="stream_img"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel">'+n[3]+"</div></div>"}function R_(e,t,n,a,i){return e<$r&&T_(i[0]),(Jr=document.createElement("td")).setAttribute("id",a[8]+t),Jr.setAttribute(vu,JSON.stringify(n)),Jr.className="stream_cell",Jr.innerHTML=V_(t,a,i),Jr}function N_(e,t,n,a){var i=document.getElementById(e),o=e.split(a[9])[1];i.setAttribute(vu,JSON.stringify(t)),i.innerHTML=V_(o,a,n),i.setAttribute("id",a[8]+o)}function V_(e,t,n){return x_(t[1]+e,n[0]),'<div id="'+t[0]+e+'" class="stream_thumbnail_video" ><img id="'+t[1]+e+'" class="stream_img"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;">'+n[1]+'</div><div id="'+t[7]+e+'"class="stream_info" style="width:33%; float: right; text-align: right; display: inline-block;">'+n[5]+'</div><div id="'+t[4]+e+'"class="stream_info">'+wS.parse(n[2])+'</div><div id="'+t[5]+e+'"class="stream_info">'+v+n[3]+'</div><div id="'+t[6]+e+'"class="stream_info">'+n[4]+"</div></div>"}function D_(e,t,n){return(Jr=document.createElement("td")).setAttribute("id",t[5]+e),Jr.setAttribute(vu,n[0]),Jr.className="stream_cell",Jr.innerHTML=F_(e,t,n),Jr}function F_(e,t,n){return x_(t[1]+e,n[1]),'<div id="'+t[0]+e+'" class="stream_thumbnail_game" ><img id="'+t[1]+e+'" class="stream_img"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel">'+n[0]+'</div><div id="'+t[4]+e+'"class="stream_info" style="width: 100%; display: inline-block;">'+n[2]+"</div></div>"}function J_(){Gr=!0}function H_(){Or=!0}function q_(){Or=!1,window.setTimeout(H_)}function z_(){return!Or||!Gr}function X_(e,t,n,a,i,o){Ru(n[0]+e+"_"+t,pu),Qu(t,e,a,i),L_(e)||o?1<e?u_(e+1,0,n[0])?tf(n[6],-1*document.getElementById(n[4]+e+"_"+t).offsetTop+.42*screen.height):J_():tf(n[6],.07*screen.height):J_()}function j_(e,t,n,a,i,o){Ru(n[0]+e+"_"+t,pu),Qu(t,e,a,i),L_(e)||o?e?u_(e+1,0,n[0])&&tf(n[10],-1*document.getElementById(n[8]+(e-1)+"_"+t).offsetTop):tf(n[10],.07*screen.height):J_()}function W_(e,t,n,a,i){Ru(n[0]+e+"_"+t,pu),Qu(t,e,a,i),L_(e)?tf(n[10]?n[10]:n[7],e?-1*document.getElementById(n[5]+(e-1)+"_"+t).offsetTop+.025*screen.height:-1*document.getElementById(n[5]+e+"_"+t).offsetTop+.025*screen.height):J_()}function Y_(e,t){return null===document.getElementById(t+e)}function Q_(e,t,n){Y_(e,t[0])||(document.body.removeEventListener("keydown",n),Br.Play_selectedChannel=JSON.parse(document.getElementById(t[8]+e).getAttribute(vu)),Br.Play_selectedChannel_id=Br.Play_selectedChannel[1],Br.Play_selectedChannel=Br.Play_selectedChannel[0],Br.Main_Go===hr?(Br.Play_DisplaynameHost=document.getElementById(t[3]+e).textContent,Br.Play_selectedChannelDisplayname=Br.Play_DisplaynameHost.split(ne)[1],Br.Play_isHost=!0):Br.Play_selectedChannelDisplayname=document.getElementById(t[3]+e).textContent,Br.Play_gameSelected=document.getElementById(t[5]+e).textContent.split(v)[1],Br.Main_Go===fr&&(Br.Main_OldgameSelected=Br.Main_gameSelected),Z_())}function Z_(){document.body.addEventListener("keydown",$v,!1),Ou("scene1"),Gu("scene2"),sv(),_v(),xv(),oo()&&!NC&&WC&&AE(),sf(sp)}function K_(e,t,n){Y_(e,t[0])||(document.body.removeEventListener("keydown",n),Ib=JSON.parse(document.getElementById(t[8]+e).getAttribute(vu)),rm=parseInt(Ib[1]),Br.Play_gameSelected=Ib[2],Br.Main_selectedChannel=Ib[3],Br.Main_selectedChannelDisplayname=Ib[4],Br.Main_selectedChannelLogo=Ib[5],Br.Main_selectedChannel_id=Ib[6],Br.ChannelVod_vodId=Ib[7],al=parseInt(Ib[8]),Mb=Ib[9],xb=Ib[10],Cb=Ib[11],Ib=Ib[0],Sb=document.getElementById(t[4]+e).textContent,Eb=document.getElementById(t[6]+e).textContent,document.body.addEventListener("keydown",Bm,!1),Ou("scene1"),Gu("scene2"),_v(),nv(),Yp(),Kp(),oo()&&!NC&&WC&&AE(),sf(um))}function $_(e,t,n){Y_(e,t[0])||(document.body.removeEventListener("keydown",n),Br.ChannelVod_vodId=JSON.parse(document.getElementById(t[8]+e).getAttribute(vu)),zd=parseInt(Br.ChannelVod_vodId[1]),Wd=Br.ChannelVod_vodId[2],Br.Play_gameSelected=Br.ChannelVod_vodId[3],Br.Main_selectedChannel=Br.ChannelVod_vodId[4],Yh=Br.ChannelVod_vodId[5],Br.ChannelVod_vodId=Br.ChannelVod_vodId[0].substr(1),Br.Main_selectedChannelDisplayname=document.getElementById(t[3]+e).textContent,tl=document.getElementById(t[4]+e).textContent,nl=document.getElementById(t[5]+e).textContent,el=document.getElementById(t[11]+e).innerHTML+" "+document.getElementById(t[6]+e).textContent,ef())}function ef(){document.body.addEventListener("keydown",Hy,!1),Ou("scene1"),Gu("scene2"),vy(),_v(),nv(),Kp(),Rg=!1,oo()&&!NC&&WC&&AE(),sf(qg)}function tf(e,t){document.getElementById(e).style.top=t+"px",window.setTimeout(J_,10)}function nf(e,t){Gr=!1,Nu(t[0]+e,pu)}function af(){var e=document.createElement("span");e.className="fa",e.style.display="none",document.body.insertBefore(e,document.body.firstChild),"icons"!==window.getComputedStyle(e,null).getPropertyValue("font-family")?(dr&&console.log("Main_Checktylesheet reloading"),of("https://fgl27.github.io/SmartTwitchTV/release/githubio/css/icons.min.css")):dr&&console.log("Main_Checktylesheet loaded OK"),document.body.removeChild(e)}function of(e){var t=document.createElement("link");t.rel="stylesheet",t.href=e,document.getElementsByTagName("head")[0].appendChild(t)}function sf(e){"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?window.setTimeout(e):document.addEventListener("DOMContentLoaded",e)}function df(){var e=(new Date).getTime()+ku;return e=new Date(e),(Hr?Yt[e.getDay()]+" "+e.getDate()+" "+Wt[e.getMonth()]:Yt[e.getDay()]+" "+Wt[e.getMonth()]+" "+e.getDate())+" "+Up(e.getHours())+":"+Up(e.getMinutes())}function lf(){document.hidden||(cf(),window.setTimeout(cf,2e4))}function cf(){document.hidden||(Du("label_clock",df()),Cu="?"+Math.random())}function rf(){document.hidden||oo()&&window.setTimeout(function(){fE()||NC||(Qm=Hi[Br.Users_Position].name,$C())},5e3)}function uf(){Ru("side_panel_"+Yr,"side_panel_text_focus")}function _f(){Nu("side_panel_"+Yr,"side_panel_text_focus")}function ff(){Yr?1===Yr?i_():2===Yr?(document.body.addEventListener("keydown",ar,!1),t_()):3===Yr?(document.body.addEventListener("keydown",ar,!1),o_()):4===Yr?Xu(ar):5===Yr?mf(rr):6===Yr?mf(_o()?Ar:ur):7===Yr?mf(Pr):8===Yr?mf(_r):9===Yr?mf(Mr):10===Yr&&mf(Ir):Br.Main_Go!==vr?(Br.Search_isSearching||Br.Main_Go!==br&&Br.Main_Go!==kr&&Br.Main_Go!==wr||Pd(),Br.Main_BeforeSearch=Br.Main_Go,Br.Main_Go=vr,y_(Br.Main_BeforeSearch),h_()):document.body.addEventListener("keydown",ar,!1),pf()}function mf(e){e===Br.Main_Go?document.body.addEventListener("keydown",ar,!1):(Br.Main_Before=Br.Main_Go,Br.Main_Go=e,y_(Br.Main_Before),h_())}function hf(e){ar=e,document.body.removeEventListener("keydown",ar),document.body.addEventListener("keydown",vf,!1),Nu("side_panel","side_panel_hide")}function pf(){document.body.removeEventListener("keydown",vf),Ru("side_panel","side_panel_hide"),_f(),Yr=0,uf()}function vf(e){switch(e.keyCode){case Ua:case La:document.body.addEventListener("keydown",ar,!1),pf(),Ef();break;case Ta:Yr&&(_f(),Yr--,uf());break;case Oa:Yr<10&&(_f(),Yr++,uf());break;case Ga:ff()}}function gf(e){switch(e.keyCode){case Ua:ju();break;case Ba:2<++Vr&&(Vr=0),Wu(),qu(),zu();break;case La:--Vr<0&&(Vr=2),Wu(),qu(),zu();break;case Ga:Vr?Au&&1===Vr?Android.mclose(!1):Au&&2===Vr&&Android.mclose(!0):ju()}}Iu();var yf=["top_bar_live","top_bar_user","top_bar_featured","top_bar_game","top_bar_vod","top_bar_clip"],bf=[rr,Ar,Pr,_r,Mr,Ir],wf=!1;function kf(e){if(!(wf||qy.FirstLoad||z_()))switch(e.keyCode){case Ua:d_()?(Ef(),s_()):a_()?(Ef(),n_()):Br.Main_Go===fr?(Br.Main_OldgameSelected=Br.Main_gameSelected,Br.Games_return?(Br.Main_Go=gr,Br.Main_gameSelected=Br.gameSelectedOld):(Br.Main_Go=Br.Main_BeforeAgame,Br.Main_BeforeAgame=rr),Bo(),Cf(),p_()):Br.Main_Go===xr?(_b(fr),Cf(),p_()):Br.Main_Go===pr?(_b(Ar),Cf(),p_()):Br.Main_Go===kr?(_b(br),Cf(),p_()):Br.Main_Go===Sr?(Br.Main_Go=fr,ws(),Cf(),p_()):Br.Main_Go===mr?(Br.Main_Go=Ar,jE(),Cf(),p_()):Br.Main_Go===hr?(Br.Main_Go=Ar,CC(),Cf(),p_()):Br.Main_Go===Lr?(Br.Main_Go=Ar,aI(),Cf(),p_()):Br.Main_Go===Cr?(Br.Main_Go=Ar,XA(),Cf(),p_()):Br.Main_Go===br?(Br.Main_Go=Br.Main_BeforeChannel,Br.Main_BeforeChannel=rr,ld(),Br.Main_selectedChannel_id="",Cf(),p_()):Br.Main_Go===wr?(Br.Main_Go=br,ol(),Cf(),p_()):Br.Main_Go===yr?(Br.Main_Go===Br.Main_BeforeSearch?Br.Main_Go=rr:Br.Main_Go=Br.Main_BeforeSearch,bk(),Br.Search_isSearching=!1,Cf(),p_()):Br.Main_Go===gr?(Br.Main_Go===Br.Main_BeforeSearch?Br.Main_Go=rr:Br.Main_Go=Br.Main_BeforeSearch,Br.Search_isSearching=!1,Bw(),Cf(),p_()):Br.Main_Go===Er?(Br.Main_Go===Br.Main_BeforeSearch?Br.Main_Go=rr:Br.Main_Go=Br.Main_BeforeSearch,Br.Main_selectedChannel_id&&Ld(),ow(),Br.Search_isSearching=!1,Cf(),p_()):(Cf(),hf(kf));break;case Ba:if(Br.Search_isSearching||Br.Main_Go===br||Br.Main_Go===wr||Br.Main_Go===kr||Br.Main_Go===yr||Br.Main_Go===gr||Br.Main_Go===Er)break;Nu(yf[Br.Main_CenterLablesVectorPos],"icon_center_line"),Br.Main_CenterLablesVectorPos++,5<Br.Main_CenterLablesVectorPos&&(Br.Main_CenterLablesVectorPos=0),Ef(),Mf();break;case La:if(Br.Search_isSearching||Br.Main_Go===br||Br.Main_Go===wr||Br.Main_Go===kr||Br.Main_Go===yr||Br.Main_Go===gr||Br.Main_Go===Er)break;Nu(yf[Br.Main_CenterLablesVectorPos],"icon_center_line"),Br.Main_CenterLablesVectorPos--,Br.Main_CenterLablesVectorPos<0&&(Br.Main_CenterLablesVectorPos=5),Ef(),Mf();break;case Oa:Nu(yf[Br.Main_CenterLablesVectorPos],"icon_center_line"),document.body.removeEventListener("keydown",kf),Ur=!1,p_();break;case Ga:Sf()}}function Af(e){window.clearTimeout(tr),m_(),document.body.removeEventListener("keydown",e),document.body.removeEventListener("keydown",kf),document.body.addEventListener("keydown",kf,!1),Ef()}function Cf(){Nu(yf[Br.Main_CenterLablesVectorPos],"icon_center_line"),document.body.removeEventListener("keydown",kf),Ur=!1}function Ef(){Ur=!0,Ru(yf[Br.Main_CenterLablesVectorPos],"icon_center_line")}function Mf(){y_(Br.Main_Go),Br.Main_Go=bf[Br.Main_CenterLablesVectorPos],Br.Main_Go!==Ar||_o()?h_(!0):(Br.Main_Go=ur,Cf(),h_())}function If(){Br.Main_Go===rr?(qy=wb,document.body.removeEventListener("keydown",hb)):Br.Main_Go===Ar?document.body.removeEventListener("keydown",GM):Br.Main_Go===fr?document.body.removeEventListener("keydown",Ko):Br.Main_Go===Pr?(qy=kb,document.body.removeEventListener("keydown",hb)):Br.Main_Go===yr?document.body.removeEventListener("keydown",Tk):Br.Main_Go===gr?document.body.removeEventListener("keydown",Hw):Br.Main_Go===Er?document.body.removeEventListener("keydown",gw):Br.Main_Go===wr?document.body.removeEventListener("keydown",yl):Br.Main_Go===br?document.body.removeEventListener("keydown",Td):Br.Main_Go===hr?document.body.removeEventListener("keydown",UC):Br.Main_Go===Lr?document.body.removeEventListener("keydown",bI):Br.Main_Go===Cr?document.body.removeEventListener("keydown",oC):Br.Main_Go===_r?(qy=yb,document.body.removeEventListener("keydown",hb)):Br.Main_Go===kr?(qy=vb,document.body.removeEventListener("keydown",hb)):Br.Main_Go===Mr?document.body.removeEventListener("keydown",uS):Br.Main_Go===Ir?(qy=pb,document.body.removeEventListener("keydown",hb)):Br.Main_Go===xr?(qy=gb,document.body.removeEventListener("keydown",hb)):Br.Main_Go===pr?(qy=bb,document.body.removeEventListener("keydown",hb)):Br.Main_Go===Sr?document.body.removeEventListener("keydown",Gs):Br.Main_Go===mr&&document.body.removeEventListener("keydown",rM)}function Sf(){window.clearTimeout(tr),m_(),Br.Main_Go!==br&&(Br.Main_BeforeChannelisSet=!1),Br.Main_Go!==fr&&(Br.Main_BeforeAgameisSet=!1),Yu(),Br.Main_Go===rr?(qy=wb,Zy()):Br.Main_Go===Ar?wM():Br.Main_Go===Pr?(qy=kb,Zy()):Br.Main_Go===fr?Oo():Br.Main_Go===Cr?jA():Br.Main_Go===br?cd():Br.Main_Go===wr?sl():Br.Main_Go===yr?wk():Br.Main_Go===gr?Ow():Br.Main_Go===Er?sw():Br.Main_Go===_r?(qy=yb,Zy()):Br.Main_Go===pr?(qy=bb).loadingData||qy.key_refresh():Br.Main_Go===Mr?jI():Br.Main_Go===Ir?(qy=pb,Zy()):Br.Main_Go===xr?(qy=gb,Zy()):Br.Main_Go===kr?(qy=vb,Zy()):Br.Main_Go===Sr?ks():Br.Main_Go===mr?WE():Br.Main_Go===hr?EC():Br.Main_Go===Lr&&iI(),tr=window.setTimeout(f_,3e3)}function xf(e,t){localStorage.setItem(e,t)}function Pf(e,t){return parseInt(localStorage.getItem(e))||t}function Lf(e,t){return JSON.parse(localStorage.getItem(e))||t}function Tf(e,t){var n=t.toString();return(localStorage.getItem(e)||n)===n?t:!t}function Bf(e){console.log(e);for(var t=0;t<e.length;t++)console.log("Character is: "+e.charAt(t)+" it's Unicode is: \\u"+e.charCodeAt(t).toString(16).toUpperCase())}function Of(e){console.log("processCode");var t="";t=e.match(/code=(\w+)/),Nr=t?(t=t[1],console.log("if code "+t),t):(console.log("else code "+t),0)}function Gf(e,t,n,a,i,o,s){Au?Rf(e,t,n,a,i,o):Nf(e,t,n,a,i,o,s)}function Uf(e,t,n,a,i,o,s,d){Au&&d?Rf(e,t,n,a,i,o):Nf(e,t,n,a,i,o,s)}function Rf(e,t,n,a,i,o){var s=Android.mreadUrl(e,t,n,a);s&&200===(s=JSON.parse(s)).status?i(s.responseText):o()}function Nf(e,t,n,a,i,o,s){var d=new XMLHttpRequest;d.open("GET",(s?Eu:"")+e,!0),d.timeout=t,0<n&&d.setRequestHeader(cu,lu),1<n&&d.setRequestHeader(ru,fu),2<n&&d.setRequestHeader(uu,a),d.ontimeout=function(){},d.onreadystatechange=function(){if(4===d.readyState){if(200===d.status)return void i(d.responseText);o()}},d.send(null)}var Vf=0,Df=null,Ff=0,Jf=!1,Hf=0,qf=0,zf=!1,Xf=0,jf=2e3,Wf=5,Yf="source",Qf=Yf,Zf=0,Kf=[],$f="",em=!1,tm=0,nm=0,am=1,im=!1,om=0,sm=!1,dm=!1,lm=2e3,cm=[0,5],rm=0;function um(){Xp(),xv(),pp(document.getElementById("stream_info_icon"),Br.Main_selectedChannelLogo),Du("stream_info_name",Br.Main_selectedChannelDisplayname),Vu("stream_info_title",Mb),Vu("stream_info_game",Cb+" "+Eb+" "+xb),Du("stream_live_icon",Sb),Du("progress_bar_duration",Rp(rm)),xy((Qh=cm)[1]),Fu("stream_info_title"),Br.Play_isHost=!1,Du("progress_bar_current_time",Rp(0)),Du("stream_live_time",""),Du("stream_watching_time",""),im=null!==Br.ChannelVod_vodId,uc=Gt+".",im?(rc=al,gc()):Wc(),Vu("pause_button",'<i class="pause_button3d icon-pause"></i>'),Gu("progress_pause_holder"),Lm(),Gu("scene_channel_panel_bottom"),Ff=om=0,window.clearInterval(Df),dm=!1,Jm=-13,tm=nm=0,Zf=2,Rv(3),Lh=!1,Cv(),oo()?(Wa=!0,Ya=Br.Main_selectedChannel_id,_i()):zp(),document.addEventListener("visibilitychange",ym,!1),Jf=!1,zf=!(qf=Hf=0),_m(),document.body.removeEventListener("keyup",J_)}function _m(){Xf=0,jf=2e3,fm()}function fm(){Gf("https://clips.twitch.tv/api/v2/clips/"+Ib+"/status",jf,1,null,hm,mm,!0)}function mm(){++Xf<Wf?(jf+=250,fm()):(jp(),Hv(3))}function hm(e){Kf=[],e=JSON.parse(e).quality_options;for(var t=0;t<e.length;t++)Kf.length?Kf.push({id:e[t].quality+"p"+pm(e[t].frame_rate),url:e[t].source}):Kf.push({id:e[t].quality+"p"+pm(e[t].frame_rate)+" (source)",url:e[t].source});nm=am,vm()}function pm(e){return 40<e?60:""}function vm(){window.clearInterval(Df),$f=Kf[Zf=0].url,-1!==Yf.indexOf("source")&&(Yf="source");for(var e=0;e<Sm();e++){if(Kf[e].id===Yf){$f=Kf[Zf=e].url;break}-1!==Kf[e].id.indexOf(Yf)&&($f=Kf[Zf=e].url)}Qf=Yf,dr&&console.log("PlayClip_onPlayer:",'\n\n"'+$f+'"\n'),nm=am,Au&&zf&&Android.startVideoOffset($f,3,em?-1:Android.gettime()),em=!1,gm()}function gm(){rh&&!fv()&&uv(),Au&&(Ff=0,Xh=1+lm/1e3,sm=!1,window.clearInterval(Df),Df=window.setInterval(bm,jh))}function ym(){document.hidden&&km()}function bm(){Au&&(tm=Android.gettime()),zf&&Vf===tm&&!Op()?++Ff>Xh&&(sm&&dm&&Zf<Sm()-1?Zf++:!sm&&dm&&om++,navigator.onLine?1<om?Bp(om,3,wm):(xm(),vm(),dm=!0):Tp(!1,3)):(Ff=om=0,dm=!1),Vf=tm}function wm(e){if(!e){if(!(Zf<Sm()-1))return void Tp(!1,3);Zf++}om=0,xm(),vm(),dm=!0}function km(){zf&&(Kf=[],Am(),Kp(),Jp())}function Am(){window.clearInterval(Df),Au&&Android.stopVideo(3),zf=!1,Hc(),Hp(),hE(),document.body.removeEventListener("keydown",Bm),document.removeEventListener("visibilitychange",ym),Cm(),document.getElementById("scene2_pannel_0").style.display="none",document.getElementById("scene2_pannel_1").style.width="30%",document.getElementById("quality_name").style.width="77%",document.getElementById("quality_name").style.fontSize="87.5%",al=0}function Cm(){xg=!1,Sg=Pg=0,cv(),Yf=Qf,document.getElementById("scene_channel_panel").style.opacity="0",Au&&My(Android.gettime()/1e3,rm,!0),Vu("progress_bar_jump_to",wa),document.getElementById("progress_bar_steps").style.display="none",window.clearInterval(ng)}function Em(){Mm(),Gp(),ng=window.setInterval(Mm,1e3),Kp(),by(),Im(),xm(),document.getElementById("scene_channel_panel").style.opacity="1",Pm()}function Mm(){Au&&My(Android.gettime()/1e3,rm,!xg)}function Im(){for(var e=Zf=0;e<Sm();e++){if(Kf[e].id===Yf){Zf=e;break}-1!==Kf[e].id.indexOf(Yf)&&(Zf=e)}}function Sm(){return Kf.length}function xm(){1===Sm()?(document.getElementById("quality_arrow_up").style.opacity="0",document.getElementById("quality_arrow_down").style.opacity="0"):Zf?Zf===Sm()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(Yf=Kf[Zf].id).indexOf("source")?Du("quality_name",Yf.replace("source",ge)):Du("quality_name",Yf)}function Pm(){zm=window.setTimeout(Cm,5e3+Ng)}function Lm(){document.getElementById("scene2_pannel_1").style.width="18%",document.getElementById("quality_name").style.width="60%",document.getElementById("quality_name").style.fontSize="72%",Du("open_vod_text",im?sn:dn),document.getElementById("scene2_pannel_0").style.display="inline-block"}function Tm(){im?(Br.vodOffset=al,Am(),document.body.addEventListener("keydown",Hy,!1),Cv(),sf(qg)):(Lh=!0,Wp(ln),window.setTimeout(function(){Lh=!1,Yp()},2e3))}function Bm(e){if(nm!==am)switch(e.keyCode){case Ua:$p()?(Kp(),km()):Zp()}else switch(e.keyCode){case La:fE()?Zm&&!NC&&(EE(),Zm--,bE()):Wm&&!ov()&&fv()?(Dm++,bv()):ov()?(cv(),2===Ug?(Mv(),5<++Ph&&(Ph=0),Ev()):Ug||(Ly(-1,rm),Ng=2500),Pm()):Pv()?(Gv(),Bv(),--Uh<0&&(Uh=3),Tv()):Em();break;case Ba:fE()?Zm<HC-1&&!NC&&(EE(),Zm++,bE()):!Wm||ov()||Pv()?ov()?(cv(),2===Ug?(Mv(),--Ph<0&&(Ph=5),Ev()):Ug||(Ly(1,rm),Ng=2500),Pm()):Pv()?(Gv(),Bv(),3<++Uh&&(Uh=0),Tv()):Em():xf("ChatEnable",(rh=fv()||Pv()?(_v(),!1):(uv(),!0))?"true":"false");break;case Ta:Pv()?Gv():ov()?(2===Ug&&1!==Ph?(Ug--,wy()):1===Ug?(Ug--,wy()):0<Zf&&1===Ph&&(Zf--,xm()),cv(),Pm()):fE()?fE()?yE():Em():mE();break;case Oa:Pv()?Gv():ov()?(Ug?1===Ug?(Ug++,wy()):Zf<Sm()-1&&1===Ph&&(Zf++,xm()):(Ug++,wy()),cv(),Pm()):fE()?hE():Wm&&fv()?(4<++qm?yv(!(qm=1)):4===qm&&yv(!0),vv(!0)):Em();break;case Ga:Pv()?Uv(3):ov()?Ug?1===Ug?(im&&Br.Play_ChatForceDisable&&(Op()?Fc(pc):Jc()),Pv()||Av(3)):Jv(3):(cv(),Pm(),Sg&&Iy()):fE()?(Am(),Q_(Zm,KC,$v)):Em();break;case Ua:ov()?Cm():fE()?hE():$p()?(Kp(),km()):Zp();break;case xa:case Sa:case Pa:im&&!Br.Play_ChatForceDisable&&(Op()?Fc(pc):Jc()),Pv()||Av(3)}}var Om,Gm,Um,Rm,Nm,Vm,Dm=0,Fm=Dm,Jm=-5,Hm=.55,qm=3,zm=null,Xm="source",jm=Xm,Wm=!0,Ym=!1,Qm="",Zm=0,Km=2e3,$m=0,eh=1,th=2,nh=0,ah=null,ih=0,oh=0,sh=0,dh="",lh=[],ch=0,rh=!1,uh=null,_h=null,fh=null,mh="",hh=0,ph=5,vh=0,gh=5,yh=0,bh=!1,wh=null,kh=!1,Ah=0,Ch=null,Eh=0,Mh=0,Ih=!1,Sh=!1,xh=!1,Ph=1,Lh=!1,Th=!1,Bh=1e4,Oh=2e3,Gh="",Uh=0,Rh=3,Nh=null,Vh="",Dh=0,Fh=0,Jh="",Hh=!0,qh=!1,zh=!1,Xh=7,jh=1e3,Wh=0,Yh="",Qh=[],Zh=[{top:51.8,left:75.1,sizeOffset:[31,16,0,0]},{top:33,left:75.1,sizeOffset:[12.5,0,-6.25,0]},{top:.2,left:75.1,sizeOffset:[0,0,0,0]},{top:.2,left:38.3,sizeOffset:[0,0,0,0]},{top:.2,left:.2,sizeOffset:[0,0,0,0]},{top:33,left:.2,sizeOffset:[12.5,0,-6.25,0]},{top:51.8,left:.2,sizeOffset:[31,16,0,0]},{top:51.8,left:38.3,sizeOffset:[31,16,0,0]}],Kh=[0,0,0,1,2,2,2,1],$h=[[0,1,2,2,2,1,0,0],[7,3,3,3,3,3,7,7],[6,5,4,4,4,5,6,6]],ep=[{containerHeight:17,percentage:"12.5%",dialogTop:15},{containerHeight:32,percentage:"25%",dialogTop:30},{containerHeight:48,percentage:"50%",dialogTop:50},{containerHeight:99.6,percentage:"100%",dialogTop:115}],tp=1,np=["chat_extra_small","chat_size_small","chat_size_default","chat_size_biger","chat_size_bigest"];function ap(){Nm=document.getElementById("chat_container"),Vm=document.getElementById("inner_progress_bar"),Dm=Pf("ChatPositionsValue",0),qm=Pf("ChatSizeValue",3),rh=Tf("ChatEnable",!1),Wm=Tf("Play_isFullScreen",!0),vv(!1),gv(!1),op()}function ip(e){e?void 0!==Om&&(Dm=Om,qm=Um,(rh=Gm)||_v(),vv(!1)):(Om=Dm,Gm=rh,Um=qm,Dm=0,uv(),qm=4,yv(rh=!0),vv(!1),nc&&(nc.scrollTop=nc.scrollHeight)),xf("Play_isFullScreen",Wm)}function op(){tp=Wk("chat_font_size");for(var e=0;e<np.length;e++)Nu("chat_inner_container",np[e]);Ru("chat_inner_container",np[tp])}function sp(){Xp(),Vu("stream_live_icon",'<div style="vertical-align: middle; display: inline-block"><i class="icon-circle" style="color: red; font-size: 105%; "></i></div><div style="display: inline-block">'+wa+_.toUpperCase()+"</div>"),M_("stream_info_title"),im=!(Th=!1),pp(document.getElementById("stream_info_icon"),Ea),Br.Play_isHost?Du("stream_info_name",Br.Play_DisplaynameHost):Du("stream_info_name",Br.Play_selectedChannelDisplayname),Br.Play_WasPlaying=1,v_(),Ym=Br.Play_isHost,Br.Play_isHost=!1,qh=!1,Gu("scene_channel_panel_bottom"),Fh=Dh=0,Du("stream_watching_time",g+Rp(0)),mh=Np(0),Du("stream_live_time",y+mh),Ou("progress_pause_holder"),Rv(1),Jm=-5,Eh=Mh=Wh=0,window.clearInterval(Ch),Sh=!1,Bh=3e3,Hh=!(vh=0),nh=$m,xh=!(bh=!(sh=oh=ih=kh=0)),document.addEventListener("visibilitychange",lp,!1),rp(),vp(),document.body.removeEventListener("keyup",J_),ah=window.setInterval(fp,6e4)}function dp(e){Wp(e)}function Play_CheckResume(){bh&&lp(),pg&&$g(),zf&&(km(),window.clearInterval(Df))}function lp(){document.hidden?Pv()?(Kp(),_v(),Dp()):(Hp(),xh=!1,Kl(),window.clearInterval(ah)):(bh=!0,nv(),bh&&(Xp(),Bh=3e3,qh=!(vh=0),Th?fp():rp(),nh=$m,yh=0,navigator.onLine?vp():Rm=window.setInterval(cp,100),ah=window.setInterval(fp,6e4)))}function cp(){(navigator.onLine||200<yh)&&(window.clearInterval(Rm),vp()),yh++}function rp(){Nf("https://api.twitch.tv/kraken/streams/"+Br.Play_selectedChannel_id,Bh,2,null,up,_p,!1)}function up(e){null!==(e=JSON.parse(e)).stream&&(Du("stream_info_name",Ym?Br.Play_DisplaynameHost:Br.Play_selectedChannelDisplayname),Br.Play_selectedChannel_id=e.stream.channel._id,Vu("stream_info_title",wS.parse(e.stream.channel.status,!1,!0)),Br.Play_gameSelected=e.stream.game,Gh=" ["+e.stream.channel.broadcaster_language.toUpperCase()+"]",Du("stream_info_game",v+Br.Play_gameSelected+h+l_(e.stream.viewers)+" "+F+Gh),Br.Play_selectedChannelLogo=e.stream.channel.logo,Th=!0,pp(document.getElementById("stream_info_icon"),Br.Play_selectedChannelLogo),mh=e.stream.created_at,oo()?(Wa=!0,Ya=Br.Play_selectedChannel_id,_i()):zp())}function _p(){vh<gh&&(Bh+=500,window.setTimeout(function(){bh&&rp()},750)),vh++}function fp(){Nf("https://api.twitch.tv/kraken/streams/"+Br.Play_selectedChannel_id,3e3,2,null,mp,hp,!1)}function mp(e){null!==(e=JSON.parse(e)).stream&&(Vu("stream_info_title",wS.parse(e.stream.channel.status,!1,!0)),Br.Play_gameSelected=e.stream.game,Du("stream_info_game",v+Br.Play_gameSelected+h+l_(e.stream.viewers)+" "+F+Gh),Th||pp(document.getElementById("stream_info_icon"),e.stream.channel.logo))}function hp(){Wh<gh?(window.setTimeout(function(){bh&&fp()},2500),Wh++):Wh=0}function pp(e,t){e.onerror=function(){this.src=Ea,Th=!1},e.src=t}function vp(){hh=0,Oh=2e3+(qh?3e3:0),gp()}function gp(){var e,t;if(e=nh===$m?"https://api.twitch.tv/api/channels/"+Br.Play_selectedChannel+"/access_token"+(oo()&&Hi[Br.Users_Position].access_token?"?oauth_token="+Hi[Br.Users_Position].access_token:""):"https://usher.ttvnw.net/api/channel/hls/"+Br.Play_selectedChannel+".m3u8?&token="+encodeURIComponent(ih.token)+"&sig="+ih.sig+"&allow_source=true&allow_audi_only=true&fast_bread=true&allow_spectre=false",Au){if(!(t=Android.mreadUrl(e,Oh,1,null)))return void bp();200===(t=JSON.parse(t)).status?(hh=0,bh&&Ap(t.responseText)):403===t.status?wp():404===t.status?qv():bp()}else(t=new XMLHttpRequest).open("GET",Eu+e,!0),t.timeout=Oh,t.setRequestHeader(cu,lu),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?(hh=0,bh&&Ap(t.responseText)):403===t.status?(yp(t),sr?kp():wp()):404===t.status?(yp(t),sr?kp():qv()):(yp(t),bp()))},t.send(null)}function yp(e){dr&&(console.log(e.status),console.log(e.responseText))}function bp(){bh&&Hh&&(++hh<ph+(qh?8:0)?(Oh+=250,qh?window.setTimeout(gp,500):gp()):sr?kp():qv())}function wp(){jp(),Wp(Dn),window.setTimeout(function(){bh&&qv()},4e3)}function kp(){lh=[{id:"1080p60(Source)",band:"(10.00Mbps)",url:"http://fake"}],nh=th,bh&&Ip()}function Ap(e){nh===$m?(ih=JSON.parse(e),nh=eh,vp()):nh===eh&&(lh=Cp(oh=e),nh=th,bh&&Ip())}function Cp(e){for(var t,n=[],a="",i=1,o=Mp(e),s=0;s<o.length;s++)a=o[s].split('NAME="')[1].split('"')[0],t=Ep(o[s].split("BANDWIDTH=")[1].split(",")[0]),n.length?n[s-i].id!==a&&n[s-i].id!==a+" (source)"?n.push({id:a,band:t,url:o[s].split("\n")[2]}):i++:(-1===a.indexOf("ource")&&(a+=" (source)"),n.push({id:a,band:t,url:o[s].split("\n")[2]}));return n}function Ep(e){return 0<(e=parseInt(e))?" ("+parseFloat(e/1e6).toFixed(2)+"Mbps)":""}function Mp(e){for(var t,n=[],a=/#EXT-X-MEDIA:(.)*\n#EXT-X-STREAM-INF:(.)*\n(.)*/g;t=a.exec(e);)n.push(t[0]);return n}function Ip(){window.clearInterval(Ch),dh=lh[ch=0].url,-1!==Xm.indexOf("source")&&(Xm="source");for(var e=0;e<pv();e++){if(lh[e].id===Xm){dh=lh[ch=e].url;break}-1!==lh[e].id.indexOf(Xm)&&(dh=lh[ch=e].url)}jm=Xm,nh=th,dr&&console.log("Play_onPlayer:",'\n\n"'+dh+'"\n'),Au&&bh&&Android.startVideo(dh,1),Sp()}function Sp(){zh=!1,rh&&!fv()&&uv(),xh=!0,xp(),Au&&(Eh=0,Xh=1+Km/1e3,Ih=!1,window.clearInterval(Ch),Ch=window.setInterval(Pp,jh))}function xp(){Br.Play_ChatForceDisable?Bl():Yc()}function Pp(){var e=!Op();Au&&(Dh=Android.gettime()),bh&&Ah===Dh&&e?Xh<++Eh&&(Ih&&Sh&&ch<pv()-1?ch++:!Ih&&Sh&&Mh++,navigator.onLine?1<Mh?Bp(Mh,1,Lp):(hv(),Ip(),Sh=!0):Tp(!1,1)):(Eh=Mh=0,Sh=!1),Ah=Dh,e&&Fh++}function Lp(e){if(!e){if(!(ch<pv()-1))return void qv();ch++}Mh=0,hv(),Ip(),Sh=!0}function Tp(e,t){Br.Play_isHost=e,Rv(t),Hv(t)}function Bp(e,t,n){var a=new XMLHttpRequest;a.timeout=1e3,a.open("GET","https://static-cdn.jtvnw.net/jtv-static/404_preview-10x10.png?"+Math.random(),!0),a.onreadystatechange=function(){4===a.readyState&&(200===a.status?n(2<e):12<e&&Tp(!1,t))},a.send(null)}function Op(){return!!Au&&!Android.getPlaybackState()}function Gp(){var e=df();Du("stream_clock",e),Du("label_clock",e)}function Up(e){return e<10?"0"+e:e}function Rp(e){var t,n,a;return t=Up(parseInt(e)%60),n=Up((e=Math.floor(e/60))%60),a=Up(e=Math.floor(e/60)),e?a+":"+n+":"+t:n+":"+t}function Np(e){return Rp(parseInt(e/1e3))}function Vp(e){return Np((new Date).getTime()-new Date(e).getTime())}function Dp(){bh&&(Fp(),Br.Play_WasPlaying=0,Jp())}function Fp(){Au&&Android.stopVideo(1),bh=!1,hE(),Hc(),Hp(),qp(),Br.Play_selectedChannel_id=""}function Jp(){My(0,0),Gu("scene1"),Ou("scene2"),__()}function Hp(){sv(),nv(),Yp(),xv(),Yh="",ch===pv()-1&&(jm=lh[0].id),fg===Ey()-1&&(og=_g[0].id),Zf===Sm()-1&&(Qf=Kf[0].id)}function qp(){xh=!1,document.body.removeEventListener("keydown",$v),document.removeEventListener("visibilitychange",lp),Kl(),window.clearInterval(ah),window.clearInterval(Ch),Lh=!1}function zp(){Vu("fallow_text",wa+Tt),Xa=!1}function Xp(){Au?Android.mshowLoading(!0):Gu("dialog_loading_play")}function jp(){Au?Android.mshowLoading(!1):Ou("dialog_loading_play")}function Wp(e){Du("dialog_warning_play_text",e),Gu("dialog_warning_play")}function Yp(){Ou("dialog_warning_play")}function Qp(){return Uu("dialog_warning_play")}function Zp(){$p()?Kp():(Gu("play_dialog_exit"),uh=window.setTimeout(Zp,3e3))}function Kp(){window.clearTimeout(uh),Ou("play_dialog_exit")}function $p(){return Uu("play_dialog_exit")}function ev(){window.clearTimeout(_h)}function tv(){window.clearTimeout(fh)}function nv(){ev(),tv(),Ou("play_dialog_simple_pause")}function av(){jp(),Op()?iv()?(Ou("play_dialog_simple_pause"),fh=window.setTimeout(av,8e3)):(Gu("play_dialog_simple_pause"),_h=window.setTimeout(av,1500)):nv()}function iv(){return Uu("play_dialog_simple_pause")}function ov(){return"1"===document.getElementById("scene_channel_panel").style.opacity}function sv(){cv(),document.getElementById("scene_channel_panel").style.opacity="0",Xm=jm,window.clearInterval(ng)}function dv(){Cv(),mv(),hv(),lv(),ng=window.setInterval(lv,1e3),Gp(),Kp(),document.getElementById("scene_channel_panel").style.opacity="1",rv()}function lv(){Du("stream_watching_time",g+Rp(Fh)),Du("stream_live_time",y+(-1===mh.indexOf("00:00")?Vp(mh):"00:00"))}function cv(){window.clearTimeout(zm),Ng=0}function rv(){zm=window.setTimeout(sv,5e3)}function uv(){bv(),Gu("chat_container")}function _v(){Ou("chat_container")}function fv(){return Uu("chat_container")}function mv(){for(var e=ch=0;e<pv();e++){if(lh[e].id===Xm){ch=e;break}-1!==lh[e].id.indexOf(Xm)&&(ch=e)}}function hv(){1===pv()?(document.getElementById("quality_arrow_up").style.opacity="0",document.getElementById("quality_arrow_down").style.opacity="0"):ch?ch===pv()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(Xm=lh[ch].id).indexOf("source")?Du("quality_name",Xm.replace("source",ge)+lh[ch].band):Du("quality_name",Xm+lh[ch].band)}function pv(){return lh.length}function vv(e){Nm.style.height=ep[qm-1].containerHeight+"%",document.getElementById("play_chat_dialog").style.marginTop=ep[qm-1].dialogTop+"%",bv(),Ql(),e&&wv(Nn+ep[qm-1].percentage),window.setTimeout(function(){nc&&(nc.scrollTop=nc.scrollHeight)},500),xf("ChatSizeValue",qm)}function gv(e){Nm.style.backgroundColor="rgba(0, 0, 0, "+Hm+")",e&&wv(Vn+(100*Hm).toFixed(0)+"%")}function yv(e){Dm=e?Kh[Fm=Dm]:$h[Dm][Fm]}function bv(){var e=4===qm;Dm<0?Dm=e?2:7:(e?2:7)<Dm&&(Dm=0),Nm.style.top=(e?.2:Zh[Dm].top+Zh[Dm].sizeOffset[qm-1])+"%",Nm.style.left=Zh[Dm+(e?2:0)].left+"%",xf("ChatPositionsValue",Dm)}function wv(e){window.clearTimeout(wh),Du("play_chat_dialog_text",e),Gu("play_chat_dialog"),wh=window.setTimeout(kv,1e3)}function kv(){Ou("play_chat_dialog")}function Av(e){Op()?(nv(),Au&&Android.play(!0),Vu("pause_button",'<i class="strokedbig icon-pause" style="color: #FFFFFF; font-size: 180%;"></i>'),1===e?(ov()&&sv(),window.clearInterval(Ch),Ch=window.setInterval(Pp,jh)):2===e?(ov()&&vy(),window.clearInterval(kg),kg=window.setInterval(_y,jh)):3===e&&(ov()&&Cm(),window.clearInterval(Df),Df=window.setInterval(bm,jh))):(window.clearInterval(Ch),window.clearInterval(kg),window.clearInterval(Df),Vu("pause_button",'<i class="pause_button3d icon-play-1"></i>'),Au&&Android.play(!1),av())}function Cv(){Mv(),Ph=1,Ev()}function Ev(){Ru("scene2_pannel_"+Ph,"playbotton_focus")}function Mv(){Nu("scene2_pannel_"+Ph,"playbotton_focus")}function Iv(){sg=nh=-1,nm=-1,_v(),sv(),Cm(),vy(),Lh||Yp(),jp(),Kp(),Tv()}function Sv(){Gu("dialog_end_stream")}function xv(){Ou("dialog_end_stream"),Gv(),Lv()}function Pv(){return Uu("dialog_end_stream")}function Lv(){Bv(),Uh=0,Tv()}function Tv(){Ru("dialog_end_"+Uh,"dialog_end_icons_focus")}function Bv(){Nu("dialog_end_"+Uh,"dialog_end_icons_focus")}function Ov(e){1===e?Vh=Br.Play_selectedChannelDisplayname+" "+_:2===e?Vh=Br.Main_selectedChannelDisplayname+$t:3===e&&(Vh=Br.Main_selectedChannelDisplayname+Gt),Vu("dialog_end_stream_text",Vh+S+da+tn+Rh+"..."),Pv()?(sg=nh=th,nm=am,-1===--Rh?(Vu("dialog_end_stream_text",Vh+S+da+tn+"0..."),Kp(),_v(),1===e?Dp():2===e?my():3===e&&km()):Nh=window.setTimeout(function(){Ov(e)},1e3)):Nh=window.setTimeout(function(){Ov(e)},50)}function Gv(){window.clearTimeout(Nh),Vu("dialog_end_stream_text",Vh+S+da+nn)}function Uv(e){var t=!0;Uh?1===Uh?Br.Play_isHost?(Br.Play_DisplaynameHost=Br.Play_selectedChannelDisplayname+ne,Br.Play_selectedChannel=Jh.target_login,Br.Play_selectedChannelDisplayname=Jh.target_display_name,Br.Play_DisplaynameHost=Br.Play_DisplaynameHost+Br.Play_selectedChannelDisplayname,Fp(),document.body.addEventListener("keydown",$v,!1),Br.Play_selectedChannel_id=Jh.target_id,sf(sp)):Tm():2===Uh?Nv(e):3===Uh&&Dv(e):2===e?_g.length?(Cg=!(Fg=!0),ry(),nv(),rc=Bg=0,gc()):(t=!1,Wp(ea),window.setTimeout(function(){Yp()},2e3)):3===e&&(Kf.length?(sm=!(em=!0),vm(),nv(),im?(Bg=0,rc=al,gc()):Wc()):(t=!1,Wp(ea),window.setTimeout(function(){Yp()},2e3))),1!==Uh&&3===Uh&&""===Br.Play_gameSelected&&(t=!1),t&&xv()}function Rv(e){e?1===e?(Bv(),Uh=2,Tv(),document.getElementById("dialog_end_0").style.display="none",document.getElementById("dialog_end_1").style.display="none"):2===e?(Lv(),document.getElementById("dialog_end_0").style.display="inline-block",document.getElementById("dialog_end_1").style.display="none"):3===e&&(Lv(),document.getElementById("dialog_end_0").style.display="inline-block",document.getElementById("dialog_end_1").style.display="inline-block",Du("dialog_end_vod_text",im?sn:dn)):(Bv(),Uh=1,Tv(),document.getElementById("dialog_end_0").style.display="none",document.getElementById("dialog_end_1").style.display="inline-block",Du("dialog_end_vod_text",un))}function Nv(e){Br.Main_BeforeChannelisSet||Br.Main_Go===wr||Br.Main_Go===kr||(Br.Main_BeforeChannel=Br.Main_BeforeAgameisSet&&Br.Main_Go!==fr?Br.Main_BeforeAgame:Br.Main_Go,Br.Main_BeforeChannelisSet=!0),y_(Br.Main_Go),Br.Main_Go=br,1===e?(Br.Main_selectedChannel_id=Br.Play_selectedChannel_id,Br.Main_selectedChannel=Br.Play_selectedChannel,Br.Main_selectedChannelDisplayname=Br.Play_selectedChannelDisplayname,js=Xa,_v(),Dp()):2===e?my():3===e&&km()}function Vv(e){Br.Search_isSearching||(Br.Main_BeforeSearch=Br.Main_Go),y_(Br.Main_Go),Br.Main_Go=vr,1===e?(_v(),Dp()):2===e?my():3===e&&km()}function Dv(e){if(""===Br.Play_gameSelected)return Lh=!0,Wp(Qn),void window.setTimeout(function(){Lh=!1,Yp()},2e3);Br.Main_BeforeAgameisSet||Br.Main_Go===Sr||Br.Main_Go===xr||(Br.Main_BeforeAgame=Br.Main_BeforeChannelisSet&&Br.Main_Go!==br&&Br.Main_Go!==wr&&Br.Main_Go!==kr?Br.Main_BeforeChannel:Br.Main_Go,Br.Main_BeforeAgameisSet=!0),y_(Br.Main_Go),Br.Main_Go=fr,Po=!1,Br.Main_gameSelected=Br.Play_gameSelected,_v(),1===e?Dp():2===e?my():3===e&&km()}function Fv(){oo()&&Hi[Br.Users_Position].access_token?Xa?bi():vi():(Wp(Bt),Lh=!0,window.setTimeout(function(){Yp(),Lh=!1},2e3))}function Jv(e){Ph?1===Ph?(1===e?(Ip(),sv()):2===e?(Cg=!1,ry(),vy()):3===e&&(sm=!1,vm(),Cm()),nv()):2===Ph?(Ya=1===e?Br.Play_selectedChannel_id:Br.Main_selectedChannel_id,Fv(),cv(),1===e?rv():2===e?ky():3===e&&Pm()):3===Ph?Dv(e):4===Ph?Nv(e):5===Ph&&Vv(e):Tm()}function Play_PannelEndStart(e){1===e?(window.clearInterval(Ch),qv()):Hv(e)}function Hv(e){window.clearInterval(Ch),window.clearInterval(Df),window.clearInterval(kg),Iv(),Rh=3,Ov(e),Sv(e)}function qv(){Xp(),nh=-1,hh=0,Oh=2e3,Kl(),window.clearInterval(ah),window.clearInterval(Ch),""!==Br.Play_selectedChannel_id?Wv():zv()}function zv(){Nf("https://api.twitch.tv/kraken/users?login="+Br.Play_selectedChannel,Oh,2,null,Xv,jv,!1)}function Xv(e){void 0!==(e=JSON.parse(e).users[0])?(Br.Play_selectedChannel_id=e._id,hh=0,Oh=2e3,Wv()):Hv(1)}function jv(){++hh<ph?(Oh+=250,zv()):Tp(!1,1)}function Wv(){Gf("https://tmi.twitch.tv/hosts?include_logins=1&host="+encodeURIComponent(Br.Play_selectedChannel_id),Oh,1,null,Qv,Yv,!0)}function Yv(){++hh<ph?(Oh+=250,Wv()):Tp(!1,1)}function Qv(e){void 0!==(Jh=JSON.parse(e).hosts[0]).target_login?(Lh=!0,Wp(Br.Play_selectedChannelDisplayname+rn+ne+Jh.target_display_name),window.setTimeout(function(){Lh=!1},4e3),Rv(0),Br.Play_isHost=!0):(Rv(1),Br.Play_isHost=!1),Hv(1)}function Zv(){Xa?(Vu("fallow_heart",'<i class="icon-heart strokicon" style="color: #00b300; font-size: 210%;"></i>'),Vu("fallow_text",wa+Mt)):(Vu("fallow_heart",'<i class="icon-heart-o strokicon" style="color: #FFFFFF; font-size: 210%;"></i>'),Vu("fallow_text",wa+It))}function Kv(e){Pv()&&!$p()?(Gv(),Zp()):fE()?hE():ov()&&!Ny()?e?vy():sv():Ny()&&$p()?(Ry(),hy(!1),Jp()):$p()?(Kp(),_v(),e?my():Dp()):(Qp()&&Yp(),Zp())}function $v(e){if(nh!==th)switch(e.keyCode){case Ua:$p()?(Kp(),_v(),Dp()):Zp()}else switch(e.keyCode){case La:fE()?Zm&&!NC&&(EE(),Zm--,bE()):Wm&&!ov()&&fv()?(Dm++,bv()):ov()?(Mv(),5<++Ph&&(Ph=1),Ev(),cv(),rv()):Pv()?(Gv(),Bv(),--Uh<(Br.Play_isHost?1:2)&&(Uh=3),Tv()):dv();break;case Ba:fE()?Zm<HC-1&&!NC&&(EE(),Zm++,bE()):!Wm||ov()||Pv()?ov()?(Mv(),--Ph<1&&(Ph=5),Ev(),cv(),rv()):Pv()?(Gv(),Bv(),3<++Uh&&(Uh=Br.Play_isHost?1:2),Tv()):dv():xf("ChatEnable",(rh=fv()||Pv()?(_v(),!1):(uv(),!0))?"true":"false");break;case Ta:ov()?(0<ch&&1===Ph&&(ch--,hv()),cv(),rv()):!fE()&&oo()?mE():Pv()?Gv():fE()&&yE();break;case Oa:ov()?(ch<pv()-1&&1===Ph&&(ch++,hv()),cv(),rv()):fE()?hE():Wm&&fv()?(4<++qm?yv(!(qm=1)):4===qm&&yv(!0),vv(!0)):Pv()?Gv():dv();break;case Ga:if(Pv())Uv(1);else if(ov())Jv(1);else if(fE()){var t=document.getElementById(KC[8]+Zm);null===t?pE():Br.Play_selectedChannel!==JSON.parse(t.getAttribute(vu))[0]?(Fp(),Q_(Zm,KC,$v)):pE()}else dv();break;case Ua:Kv(!1);break;case xa:case Sa:case Pa:Pv()||Av(1)}}var eg,tg,ng,ag,ig="source",og=ig,sg=0,dg=null,lg=0,cg=0,rg=0,ug="",_g=[],fg=0,mg=0,hg=5,pg=!1,vg=2e3,gg=0,yg=5,bg=1e4,wg=0,kg=null,Ag=0,Cg=!1,Eg=0,Mg=!1,Ig=!1,Sg=0,xg=!1,Pg=0,Lg=2e3,Tg=!1,Bg=0,Og={},Gg=0,Ug=0,Rg=!0,Ng=0,Vg=0,Dg=0,Fg=!1,Jg=[0,10,30,60,120,300,600,900,1200,1800],Hg=!1;function qg(){Xp(),xv(),Bg=0,Du("stream_live_time",""),Du("stream_watching_time",""),Du("progress_bar_current_time",Rp(0)),uc=O+".",Vu("pause_button",'<i class="pause_button3d icon-pause"></i>'),Ou("progress_pause_holder"),Vg=0,xy((Qh=Jg)[1]),sg=$m,im=!0,al=0,Br.Play_isHost=!1,Br.vodOffset?(Xg(),Qg()):(Rg&&""!==Br.Main_selectedChannel_id?(pp(document.getElementById("stream_info_icon"),Br.Main_selectedChannelLogo),Og["#"+Br.ChannelVod_vodId]||gc(),oo()?(Ya=Br.Main_selectedChannel_id,Wa=!0,_i()):zp()):(Xg(),jg()),Du("stream_info_name",Br.Main_selectedChannelDisplayname),Vu("stream_info_title",""),Vu("stream_info_game",el+" ["+Wd.toUpperCase()+"]"),Du("stream_live_icon",tl),Fu("stream_info_game")),Og["#"+Br.ChannelVod_vodId]&&!Br.vodOffset?(jp(),Uy()):zg()}function zg(){window.setTimeout(function(){Gu("scene_channel_panel_bottom"),Vu("pause_button",'<i class="pause_button3d icon-pause"></i>'),Gu("progress_pause_holder")},1e3),Du("progress_bar_duration",Rp(zd)),Br.Play_WasPlaying=2,v_(),ag=window.setInterval(ty,6e4),T_(Yh),Ag=Eg=0,window.clearInterval(kg),Lh=Tg=Mg=!(Jm=-13),xg=!1,rg=cg=lg=Pg=0,document.addEventListener("visibilitychange",$g,!1),Hg=!(pg=!(Ig=!1)),ny(),Rv(2),document.body.removeEventListener("keyup",J_)}function Xg(){gg=0,yg=5,bg=1e4}function jg(){Nf("https://api.twitch.tv/kraken/users?login="+encodeURIComponent(Br.Main_selectedChannel),bg,2,null,Wg,Yg,!1)}function Wg(e){void 0!==(e=JSON.parse(e).users[0])?(Br.Main_selectedChannelLogo=e.logo,Br.Main_selectedChannel_id=e._id,Og["#"+Br.ChannelVod_vodId]||gc(),oo()?(Ya=Br.Main_selectedChannel_id,Wa=!0,_i()):zp()):(Br.Main_selectedChannelLogo=Ea,Br.Main_selectedChannel_id=""),pp(document.getElementById("stream_info_icon"),Br.Main_selectedChannelLogo)}function Yg(){++gg<yg?(bg+=500,window.setTimeout(function(){pg&&jg()},750)):tg=window.setTimeout(jg,2500)}function Qg(){Nf("https://api.twitch.tv/kraken/videos/"+Br.ChannelVod_vodId,bg,2,null,Kg,Zg,!1)}function Zg(){++gg<yg&&(bg+=2e3,Qg())}function Kg(e){e=JSON.parse(e),Vu("stream_info_title",wS.parse(e.title,!1,!0)),Vu("stream_info_game",Qt+v+e.game+" "+l_(e.views)+D+" ["+e.channel.broadcaster_language.toUpperCase()+"]"),Du("stream_live_icon",N+A_(e.created_at)),Du("progress_bar_duration",Rp(zd=parseInt(e.length))),Bg=1e3*Br.vodOffset,My(Br.vodOffset,zd,!0),Br.Main_selectedChannelDisplayname=e.channel.display_name,Du("stream_info_name",Br.Main_selectedChannelDisplayname),Br.Main_selectedChannelLogo=e.channel.logo,pp(document.getElementById("stream_info_icon"),Br.Main_selectedChannelLogo),Br.Main_selectedChannel_id=e.channel._id,Br.Main_selectedChannel=e.channel.name,oo()?(Wa=!0,Ya=Br.Main_selectedChannel_id,_i()):zp(),T_(e.increment_view_count_url)}function $g(){document.hidden?Pv()?(Kp(),_v(),my()):(ty(),Ty(),Jc(),Hp(),window.clearInterval(kg),window.clearInterval(ag)):(pg=!0,nv(),pg&&(Xp(),yh=yh=0,navigator.onLine?uy():Rm=window.setInterval(ey,100),Fc(pc),Rv(2),ag=window.setInterval(ty,6e4)))}function ey(){(navigator.onLine||200<yh)&&(window.clearInterval(Rm),sg=$m,ny()),yh++}function ty(){Br.vodOffset=Au?parseInt(Android.gettime()/1e3):0,v_(),Br.vodOffset=0}function ny(){mg=0,Lg=2e3,ay()}function ay(){Gf(sg===$m?"https://api.twitch.tv/api/vods/"+Br.ChannelVod_vodId+"/access_token"+(oo()&&Hi[Br.Users_Position].access_token?"?oauth_token="+Hi[Br.Users_Position].access_token:""):"https://usher.ttvnw.net/vod/"+Br.ChannelVod_vodId+".m3u8?&nauth="+encodeURIComponent(lg.token)+"&nauthsig="+lg.sig+"&allow_source=true&allow_audi_only=true&allow_spectre=false",Oh,1,null,sy,iy,!0)}function iy(){if(pg){var e;if(lg.token&&(e=JSON.parse(lg.token)),e&&0!==JSON.parse(lg.token).chansub.restricted_bitrates.length)return void dy();++mg<hg?(Lg+=250,ay()):sr?oy():(jp(),Hv(2))}}function oy(){_g=[{id:"1080p60(Source)",band:"(10.00Mbps)",url:"http://fake"}],sg=th,pg&&ry()}function sy(e){sg===$m?(lg=JSON.parse(e),sg=eh,ny()):sg===eh&&(_g=Cp(cg=e),sg=th,pg&&ry())}function dy(){oo()&&Hi[Br.Users_Position].access_token?(Ya=Br.Main_selectedChannel_id,Ai()):(jp(),Wp(x+St),window.setTimeout(function(){pg&&my()},4e3))}function ly(){jp(),Wp(x+xt),window.setTimeout(function(){pg&&my()},4e3)}function cy(){Hg?(jp(),Wp(x+Pt),window.setTimeout(function(){pg&&my()},4e3)):(Hg=!0,sg=$m,ny())}function ry(){window.clearInterval(kg),ug=_g[fg=0].url,-1!==ig.indexOf("source")&&(ig="source");for(var e=0;e<Ey();e++){if(_g[e].id===ig){ug=_g[fg=e].url;break}-1!==_g[e].id.indexOf(ig)&&(ug=_g[fg=e].url)}og=ig,uy()}function uy(){dr&&console.log("PlayVod_onPlayer:",'\n\n"'+ug+'"\n'),Br.vodOffset?(rc=Br.vodOffset,gc(),Au&&pg&&Android.startVideoOffset(ug,2,Fg?-1:1e3*Br.vodOffset),Br.vodOffset=0):Au&&pg&&Android.startVideoOffset(ug,2,Fg?-1:Android.gettime()),Fg=!1,rh&&!fv()&&uv(),Au&&(Ag=0,Xh=3+vg/1e3,Cg=!1,window.clearInterval(kg),kg=window.setInterval(_y,jh))}function _y(){Au&&(Bg=Android.gettime()),pg&&wg===Bg&&!Op()?++Ag>Xh&&(Cg&&Mg&&fg<Ey()-1?fg++:!Cg&&Mg&&Eg++,navigator.onLine?1<Eg?Bp(Eg,2,fy):(Cy(),ry(),Mg=!0):Tp(!1,2)):(Ag=Eg=0,Mg=!1),wg=Bg}function fy(e){if(!e){if(!(fg<Ey()-1))return void Tp(!1,2);fg++}Eg=0,Cy(),ry(),Mg=!0}function my(){pg&&(_g=[],hy(!0),Jp())}function hy(e){e&&Ty(),Au&&Android.stopVideo(2),pg=!1,window.clearInterval(ag),window.clearInterval(tg),Br.Play_WasPlaying=0,Rg=!0,Hc(),hE(),Hp(),py()}function py(){document.body.removeEventListener("keydown",Hy),document.removeEventListener("visibilitychange",$g),Br.vodOffset=0,window.clearInterval(dg),window.clearInterval(kg),zd=0}function vy(){xg=!1,Sg=Pg=0,cv(),document.getElementById("scene_channel_panel").style.opacity="0",Au&&My(Android.gettime()/1e3,zd,!0),Vu("progress_bar_jump_to",wa),document.getElementById("progress_bar_steps").style.display="none",ig=og,window.clearInterval(ng)}function gy(e){yy(),Gp(),Kp(),ng=window.setInterval(yy,1e3),e&&(by(),Ay(),Cy(),ky()),document.getElementById("scene_channel_panel").style.opacity="1"}function yy(){Au&&My(Android.gettime()/1e3,zd,!xg)}function by(){Ug=1,wy()}function wy(){Ug?1===Ug?(Ru("pause_button","progress_bar_div_focus"),Nu("progress_bar_div","progress_bar_div_focus"),Mv(),Vu("progress_bar_jump_to",wa),document.getElementById("progress_bar_steps").style.display="none"):2===Ug&&(Nu("pause_button","progress_bar_div_focus"),Nu("progress_bar_div","progress_bar_div_focus"),Ev(),Vu("progress_bar_jump_to",wa),document.getElementById("progress_bar_steps").style.display="none"):(Nu("pause_button","progress_bar_div_focus"),Ru("progress_bar_div","progress_bar_div_focus"),Mv(),Sg&&(Py(),document.getElementById("progress_bar_steps").style.display="inline-block"))}function ky(){zm=window.setTimeout(vy,5e3+Ng)}function Ay(){for(var e=fg=0;e<Ey();e++){if(_g[e].id===ig){fg=e;break}-1!==_g[e].id.indexOf(ig)&&(fg=e)}}function Cy(){1===Ey()?(document.getElementById("quality_arrow_up").style.opacity="0",document.getElementById("quality_arrow_down").style.opacity="0"):fg?fg===Ey()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(ig=_g[fg].id).indexOf("source")?Du("quality_name",ig.replace("source",ge)+_g[fg].band):Du("quality_name",ig+_g[fg].band)}function Ey(){return _g.length}function My(e,t,n){Du("progress_bar_current_time",Rp(e)),n&&(Vm.style.width=e/t*100+"%")}function Iy(){nv(),Pv()||(sm=Cg=!1,pg?(Au&&Android.startVideoOffset(ug,2,0<Dg?1e3*Dg:-1),rc=Dg):(rc=al,Au&&Android.startVideoOffset($f,3,0<Dg?1e3*Dg:-1)),im&&gc()),Vu("progress_bar_jump_to",wa),document.getElementById("progress_bar_steps").style.display="none",xg=!1,Dg=Sg=Pg=0}function Sy(){Vg=Pg=0,xy(Qh[1])}function xy(e){Sg&&!Ug&&(document.getElementById("progress_bar_steps").style.display="inline-block"),60<Math.abs(e)?Du("progress_bar_steps",Fn+e/60+Hn):Du("progress_bar_steps",e?Fn+e+Jn:Fn+Qh[1]+Jn)}function Py(){Du("progress_bar_jump_to",ue+" ("+(Sg<0?"-":"")+Rp(Math.abs(Sg))+")"+_e+Rp(Dg))}function Ly(e,t){var n=Au?Android.gettime()/1e3:0;window.clearTimeout(eg),xg=!0,Pg<Qh.length-1&&Vg++%6==0&&Pg++,Sg+=Qh[Pg]*e,Dg=n+Sg,pg&&(Dg=10*Math.floor(Dg/10)),t<Dg?(Sg=t-n-Qh[1],Dg=n+Sg,Vg=Pg=0):Dg<0&&(Sg=0-n,Dg=Vg=Pg=0),Py(),Vm.style.width=Dg/t*100+"%",xy(Qh[Pg]*e),eg=window.setTimeout(Sy,1e3)}function Ty(){var e=Au?parseInt(Android.gettime()/1e3):0,t="#"+Br.ChannelVod_vodId;300<e&&e<zd-300?(Og[t]&&delete Og[t],Og[t]=e,xf("PlayVod_VodIds",JSON.stringify(Og))):zd-300<e&&Og[t]&&(delete Og[t],xf("PlayVod_VodIds",JSON.stringify(Og)))}function By(){Og=Lf("PlayVod_VodIds",{});var e=Oy();250<e&&Gy(e-250)}function Oy(){var e=0;for(var t in Og)Og.hasOwnProperty(t)&&e++;return e}function Gy(e){var t=0;for(var n in Og){if(!(t<e))break;delete Og[n],t++}xf("PlayVod_VodIds",JSON.stringify(Og))}function Uy(){Ou("scene_channel_panel_bottom"),gy(!1),Vu("dialog_vod_saved_text",kn+Np(1e3*Og["#"+Br.ChannelVod_vodId])),Gu("dialog_vod_start")}function Ry(){vy(),Ou("dialog_vod_start"),Vy(),window.setTimeout(function(){Gu("scene_channel_panel_bottom")},1e3)}function Ny(){return Uu("dialog_vod_start")}function Vy(){Fy(),Gg=0,Dy()}function Dy(){Ru("dialog_vod_"+Gg,"dialog_end_icons_focus")}function Fy(){Nu("dialog_vod_"+Gg,"dialog_end_icons_focus")}function Jy(e){Ry(),e?(delete Og["#"+Br.ChannelVod_vodId],Br.vodOffset=0,qg()):(Br.vodOffset=Og["#"+Br.ChannelVod_vodId],Bg=1e3*Br.vodOffset,My(Br.vodOffset,zd,!0),zg())}function Hy(e){if(sg===th||Ny())switch(e.keyCode){case La:fE()?Zm&&!NC&&(EE(),Zm--,bE()):Wm&&!ov()&&fv()?(Dm++,bv()):ov()&&!Ny()?(cv(),2===Ug?(Mv(),5<++Ph&&(Ph=1),Ev()):Ug||(Ly(-1,zd),Ng=2500),ky()):Ny()?(Fy(),Gg?Gg--:Gg++,Dy()):Pv()?(Gv(),Bv(),--Uh<0&&(Uh=3),1===Uh&&(Uh=0),Tv()):Ny()||gy(!0);break;case Ba:console.log(Ug),fE()?Zm<HC-1&&!NC&&(EE(),Zm++,bE()):!Wm||ov()||Pv()?ov()&&!Ny()?(cv(),2===Ug?(Mv(),--Ph<1&&(Ph=5),Ev()):Ug||(Ly(1,zd),Ng=2500),ky()):Ny()?(Fy(),Gg?Gg--:Gg++,Dy()):Pv()?(Gv(),Bv(),3<++Uh&&(Uh=0),1===Uh&&(Uh=2),Tv()):Ny()||gy(!0):xf("ChatEnable",(rh=fv()||Pv()?(_v(),!1):(uv(),!0))?"true":"false");break;case Ta:Pv()?Gv():ov()&&!Ny()?(2===Ug&&1!==Ph?(Ug--,wy()):1===Ug?(Ug--,wy()):0<fg&&1===Ph&&(fg--,Cy()),cv(),ky()):fE()?fE()?yE():Ny()||gy(!0):mE();break;case Oa:Pv()?Gv():ov()&&!Ny()?(Ug?1===Ug?(Ug++,wy()):fg<Ey()-1&&1===Ph&&(fg++,Cy()):(Ug++,wy()),cv(),ky()):fE()?hE():Wm&&fv()?(4<++qm?yv(!(qm=1)):4===qm&&yv(!0),vv(!0)):Ny()||gy(!0);break;case Ga:Ny()?Jy(Gg):Pv()?Uv(2):ov()?Ug?1===Ug?(Br.Play_ChatForceDisable&&(Op()?Fc(pc):Jc()),Pv()||Av(2)):Jv(2):(cv(),ky(),Sg&&Iy()):fE()?(hy(!0),Q_(Zm,KC,$v)):gy(!0);break;case Ua:Kv(!0);break;case xa:case Sa:case Pa:Br.Play_ChatForceDisable&&(Op()?Fc(pc):Jc()),Pv()||Av(2)}else switch(e.keyCode){case Ua:$p()?(Kp(),my()):Zp()}}var qy={};function zy(){console.log("InitScreens place holder")}function Xy(){Tb(),Bb(),Gb(),Ub(),Rb(),Vb(),Db()}function jy(e){return[e+"_thumbdiv",e+"_img",e+"_infodiv",e+"_title",e+"_createdon",e+"_game",e+"_viwers",e+"_duration",e+"_cell","cpempty_",e+"_scroll",e+"_lang"]}function Wy(){for(var e,t={},n=0;n<arguments.length;n+=1){var a=arguments[n],i=Object.keys(a);for(e=0;e<i.length;e+=1)t[i[e]]=a[i[e]]}return t}function Yy(){jr=-1,Br.Main_Go=qy.screen,qy.label_init(),document.body.addEventListener("keydown",hb,!1),Gu(qy.ids[10]),qy.status?(P_(qy.posY),lb(),v_()):Zy()}function Qy(){jr=0,qy.label_exit(),document.body.removeEventListener("keydown",hb),Ou(qy.ids[10]),e_()}function Zy(){Ju(),M_(qy.table),e_(),qy.cursor=null,qy.status=!1,qy.row=document.createElement("div"),qy.MaxOffset=0,qy.TopRowCreated=!1,qy.offset=0,qy.idObject={},qy.FirstLoad=!0,qy.itemsCount=0,qy.posX=0,qy.posY=0,qy.row_id=0,qy.coloumn_id=0,qy.data=null,qy.data_cursor=0,qy.dataEnded=!1,Yu(),Ky(),$y()}function Ky(){qy.loadingData=!0,qy.loadingDataTry=0,qy.loadingDataTimeout=3500}function $y(){qy.set_url(),Au&&!qy.itemsCount?Rf(qy.url,qy.loadingDataTimeout,2,null,tb,eb):Nf(qy.url,qy.loadingDataTimeout,2,null,tb,eb,!1)}function eb(){qy.loadingDataTry++,qy.loadingDataTry<qy.loadingDataTryMax?(qy.loadingDataTimeout+=500,$y()):(qy.loadingData=!1,qy.itemsCount?qy.dataEnded=!0:(qy.FirstLoad=!1,Hu(),$u(P),qy.key_exit()))}function tb(e){qy.concatenate(e)}function nb(){var e=qy.data.length-qy.data_cursor;e>qy.ItemsLimit?e=qy.ItemsLimit:qy.loadingData||(qy.dataEnded=!0);var t=document.getElementById(qy.table);if(qy.HasSwitches&&!qy.TopRowCreated){qy.TopRowCreated=!0,qy.row=document.createElement("div");var n='<i class="icon-history stream_channel_fallow_icon"></i>'+wa+wa+m;(Jr=document.createElement("div")).setAttribute("id",qy.ids[8]+"y_0"),Jr.className="stream_cell_period",Jr.innerHTML='<div id="'+qy.ids[0]+'y_0" class="stream_thumbnail_channel_vod" ><div id="'+qy.ids[3]+'y_0" class="stream_channel_fallow_game">'+n+"</div></div>",qy.row.appendChild(Jr),t.appendChild(qy.row)}if(e){var a=Math.ceil(e/qy.ColoumnsCount),i=qy.row_id+a;for(qy.row_id;qy.row_id<i;){for(qy.coloumn_id===qy.ColoumnsCount&&(qy.row=document.createElement("div"),qy.coloumn_id=0),qy.coloumn_id;qy.coloumn_id<qy.ColoumnsCount&&qy.data_cursor<qy.data.length;qy.data_cursor++)qy.data[qy.data_cursor]&&qy.addCell(qy.data[qy.data_cursor]);if(t.appendChild(qy.row),qy.coloumn_id===qy.ColoumnsCount)qy.row_id++;else if(qy.data_cursor>=qy.data.length)break}}qy.emptyContent=!e&&!qy.status,db()}function ab(e,t,n,a){var i=e+"_"+t;return x_(n[1]+i,a),e<qy.ColoumnsCount&&T_(a),(Jr=document.createElement("div")).style.cssText=qy.ThumbCssText,i}function ib(e,t,n,a,i,o){var s=ab(e,t,n,a);return Jr.setAttribute("id",n[5]+s),Jr.setAttribute(vu,i),Jr.innerHTML='<div id="'+n[0]+s+'" class="stream_thumbnail_game"><div><img id="'+n[1]+s+'" class="stream_img"></div><div id="'+n[2]+s+'" class="stream_text2"><div id="<div id="'+n[3]+s+'" class="stream_channel">'+i+"</div>"+(""!==o?'<div id="'+n[4]+s+'"class="stream_info" style="width: 100%; display: inline-block;">'+o+"</div>":"")+"</div></div>",Jr}function ob(e,t,n,a,i,o,s,d,l,c,r,u,_,f,m,h){var p=ab(e,t,n,a);return Jr.setAttribute("id",n[8]+p),Jr.setAttribute(vu,JSON.stringify([r,c,s[2],u,i,_,f,m,h,s[0],l,s[1]+s[2]])),Jr.innerHTML='<div id="'+n[0]+p+'" class="stream_thumbnail_clip"><div><img id="'+n[1]+p+'" class="stream_img"></div><div id="'+n[2]+p+'" class="stream_text2"><div style="line-height: 14px;"><div id="'+n[3]+p+'" class="stream_channel" style="width: 72%; display: inline-block; font-size: 85%;">'+i+'</div><div id="'+n[7]+p+'"class="stream_info" style="width:27%; float: right; text-align: right; display: inline-block;">'+l+'</div></div><div id="'+n[11]+p+'"class="stream_info">'+s[0]+da+s[1]+s[2]+'</div><div id="'+n[6]+p+'"class="stream_info">'+d+D+'</div><div  style="line-height: 12px;"><div id="'+n[4]+p+'"class="stream_info" style="width: 59%; display: inline-block;">'+o[0]+o[1]+'</div><div id="'+n[5]+p+'"class="stream_info" style="width: 39%; display: inline-block; float: right; text-align: right;">'+V+Rp(c)+"</div></div></div></div>",Jr}function sb(e,t,n,a,i){var o=ab(e,t,a,i[0]);return Jr.setAttribute("id",a[8]+o),Jr.setAttribute(vu,JSON.stringify(n)),Jr.innerHTML='<div id="'+a[0]+o+'" class="stream_thumbnail_clip"><div><img id="'+a[1]+o+'" class="stream_img"></div><div id="'+a[2]+o+'" class="stream_text2"><div style="line-height: 14px;"><div id="'+a[3]+o+'" class="stream_channel" style="width: 66%; display: inline-block;">'+i[1]+'</div><div id="'+a[7]+o+'"class="stream_info" style="width:33%; float: right; text-align: right; display: inline-block;">'+i[5]+'</div></div><div id="'+a[4]+o+'"class="stream_info">'+wS.parse(i[2])+'</div><div id="'+a[5]+o+'"class="stream_info">'+v+i[3]+'</div><div id="'+a[6]+o+'"class="stream_info">'+i[4]+"</div></div></div>",Jr}function db(){qy.status?(I_(qy.img_404),Qu(qy.posX,qy.posY,qy.ColoumnsCount,qy.itemsCount)):(qy.emptyContent?$u(qy.empty_str()):(qy.status=!0,I_(qy.img_404)),Wr&&qy.status&&Ok.restor_playback.defaultValue?Br.Play_WasPlaying?(y_(Br.Main_Go),Br.Main_Go=Tr,Br.vodOffset||(Br.vodOffset=1),zd=Br.vodOffset+1,Wp(qn),1===Br.Play_WasPlaying?Z_():ef(),h_(!0),window.setTimeout(function(){Lh||Yp()},2e3)):1!==Tr?(y_(Br.Main_Go),Br.Main_Go=Tr,nf(qy.posY+"_"+qy.posX,qy.ids),h_()):(Br.Never_run&&o_(),Br.Never_run=!1,lb(),v_()):(lb(),v_()),Wr=!1,qy.FirstLoad=!1,Hu())}function lb(){if(qy.emptyContent){if(!qy.HasSwitches)return void qy.key_exit();qy.posY=-1}qy.posY<0?rb():(qy.addFocus(qy.posY,qy.posX,qy.ids,qy.ColoumnsCount,qy.itemsCount),2<qy.posY&&qy.data_cursor+Ab>qy.data.length&&!qy.dataEnded&&!qy.loadingData?(Ky(),$y()):qy.posY+qy.ItemsReloadLimit>qy.itemsCount/qy.ColoumnsCount&&qy.data_cursor<qy.data.length&&(S_(),sf(function(){qy.loadDataSuccess()})),Ur&&nf(qy.posY+"_"+qy.posX,qy.ids))}function cb(e,t){nf(qy.posY+"_"+qy.posX,qy.ids),qy.posY+=e,qy.posX=t,lb()}function rb(){Ru(qy.ids[0]+"y_0",pu)}function ub(){Nu(qy.ids[0]+"y_0",pu)}function _b(e){d_()?s_():a_()?n_():(e===qy.screen?Br.Main_Go=rr:Br.Main_Go=e,Qy())}function fb(e){if(!qy.HasSwitches||qy.posY||-1!==e||qy.emptyContent){if(qy.HasSwitches&&-1===qy.posY&&u_(0,qy.posX,qy.ids[0]))qy.posY=0,lb(),ub();else for(var t=0;t<qy.ColoumnsCount;t++)if(u_(qy.posY+e,qy.posX-t,qy.ids[0]))return void cb(e,qy.posX-t)}else nf(qy.posY+"_"+qy.posX,qy.ids),qy.posY=-1,rb()}function mb(e,t){u_(qy.posY,qy.posX+e,qy.ids[0])?cb(0,qy.posX+e):u_(qy.posY+e,t,qy.ids[0])&&cb(e,t)}function hb(e){if(!qy.FirstLoad&&!z_())switch(q_(),e.keyCode){case Ua:qy.key_exit();break;case La:mb(-1,qy.ColoumnsCount-1);break;case Ba:mb(1,0);break;case Ta:fb(-1);break;case Oa:fb(1);break;case xa:case Sa:case Pa:case Ga:qy.key_play()}}qy.FirstLoad=!1;var pb,vb,gb,yb,bb,wb,kb,Ab=100,Cb="",Eb="",Mb="",Ib="",Sb="",xb="",Pb={posX:0,posY:0,row_id:0,coloumn_id:0,dataEnded:!1,idObject:{},loadingData:!1,itemsCount:0,loadingDataTryMax:5,loadingDataTimeout:3500,MaxOffset:0,offset:0,status:!1,emptyContent:!1,itemsCountCheck:!1,FirstLoad:!1,row:0,data:null,data_cursor:0,loadDataSuccess:nb,set_ThumbSize:function(){this.ThumbCssText="width: "+this.ThumbSize+"%; display: inline-block; padding: 3px;"},key_exit:function(){d_()?s_():a_()?n_():(this.itemsCount&&nf(this.posY+"_"+this.posX,this.ids),Af(hb))}},Lb={ThumbSize:32.65,ItemsLimit:Kr,ItemsReloadLimit:eu,ColoumnsCount:$r,addFocus:j_,img_404:Ma,empty_str:function(){return L+Y},key_play:function(){Q_(this.posY+"_"+this.posX,this.ids,hb)}};function Tb(){(wb=Wy(wb=Wy({ids:jy("Live"),table:"stream_table_live",screen:rr,base_url:"https://api.twitch.tv/kraken/streams?limit="+Ab,set_url:function(){this.offset&&this.offset+Ab>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+"&offset="+this.offset+(""!==qr?"&broadcaster_language="+qr:"")},label_init:function(){Br.Main_CenterLablesVectorPos=0,Ru("top_bar_live","icon_center_focus")},label_exit:function(){Nu("top_bar_live","icon_center_focus")},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.MaxOffset=t._total,this.data=this.data.concat(t.streams),this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadingData=!1}else this.data=JSON.parse(e),this.MaxOffset=this.data._total,this.data=this.data.streams,this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadDataSuccess(),this.loadingData=!1},addCell:function(e){this.idObject[e.channel._id]||(this.itemsCount++,this.idObject[e.channel._id]=1,this.row.appendChild(sb(this.row_id,this.coloumn_id,[e.channel.name,e.channel._id,e.channel.status],this.ids,[e.preview.template.replace("{width}x{height}",mu),r_(JSON.stringify(e.stream_type))+e.channel.display_name,e.channel.status,e.game,y+Vp(e.created_at)+" "+h+l_(e.viewers)+F,c_(e.video_height,e.average_fps,e.channel.broadcaster_language)])),this.coloumn_id++)}},Pb),Lb)).set_ThumbSize()}function Bb(){(kb=Wy(kb=Wy({ids:jy("Featured"),table:"stream_table_featured",screen:Pr,base_url:"https://api.twitch.tv/kraken/streams/featured?limit="+Ab,set_url:function(){this.url=this.base_url+"&offset="+this.offset+(oo()&&Hi[Br.Users_Position].access_token?"&oauth_token="+Hi[Br.Users_Position].access_token:"")},label_init:function(){Br.Main_CenterLablesVectorPos=2,Ru("top_bar_featured","icon_center_focus")},label_exit:function(){Nu("top_bar_featured","icon_center_focus")},concatenate:function(e){this.data=JSON.parse(e),this.data=this.data.featured,this.dataEnded=!0,this.loadDataSuccess(),this.loadingData=!1},addCell:function(e){e=e.stream,this.idObject[e.channel._id]||(this.itemsCount++,this.idObject[e.channel._id]=1,this.row.appendChild(sb(this.row_id,this.coloumn_id,[e.channel.name,e.channel._id,e.channel.status],this.ids,[e.preview.template.replace("{width}x{height}",mu),r_(JSON.stringify(e.stream_type))+e.channel.display_name,e.channel.status,e.game,y+Vp(e.created_at)+" "+h+l_(e.viewers)+F,c_(e.video_height,e.average_fps,e.channel.broadcaster_language)])),this.coloumn_id++)}},Pb),Lb)).set_ThumbSize()}var Ob={ThumbSize:32.65,ItemsLimit:Kr,HasSwitches:!0,TopRowCreated:!1,ItemsReloadLimit:eu,ColoumnsCount:$r,addFocus:j_,cursor:null,period:["day","week","month","all"],img_404:Ma,empty_str:function(){return L+U},key_play:function(){-1===this.posY?this.loadingData||(this.periodPos++,4<this.periodPos&&(this.periodPos=1),this.SetPeriod(),Zy()):K_(this.posY+"_"+this.posX,this.ids,hb)},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.cursor=t._cursor,""===this.cursor&&(this.dataEnded=!0),this.data=this.data.concat(t.clips),this.loadingData=!1}else this.data=JSON.parse(e),this.cursor=this.data._cursor,""===this.cursor&&(this.dataEnded=!0),this.data=this.data.clips,this.loadDataSuccess(),this.loadingData=!1},addCell:function(e){this.idObject[e.tracking_id]||(this.itemsCount++,this.idObject[e.tracking_id]=1,this.row.appendChild(ob(this.row_id,this.coloumn_id,this.ids,e.thumbnails.medium,e.broadcaster.display_name,[on,A_(e.created_at)],[wS.parse(e.title),v,e.game],l_(e.views),"["+e.language.toUpperCase()+"]",e.duration,e.slug,e.broadcaster.name,e.broadcaster.logo.replace("150x150","300x300"),e.broadcaster.id,null!==e.vod?e.vod.id:null,null!==e.vod?e.vod.offset:null)),this.coloumn_id++)}};function Gb(){(pb=Wy(pb=Wy({ids:jy("Clip"),table:"stream_table_clip",screen:Ir,periodPos:Pf("Clip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?limit="+Ab,set_url:function(){this.url=this.base_url+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")+(""!==qr?"&language="+qr:"")},SetPeriod:function(){Vu("top_bar_clip",U+k_(Xr[this.periodPos-1])),xf("Clip_periodPos",this.periodPos)},label_init:function(){Br.Main_CenterLablesVectorPos=5,this.SetPeriod(),Ru("top_bar_clip","icon_center_focus"),Bu("label_refresh","icon-refresh",t+jt)},label_exit:function(){b_(),Nu("top_bar_clip","icon_center_focus"),Bu("label_refresh","icon-refresh",t+jt)}},Pb),Ob)).set_ThumbSize()}function Ub(){(vb=Wy(vb=Wy({ids:jy("ChannelClip"),table:"stream_table_channel_clip",screen:kr,periodPos:Pf("ChannelClip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?channel=",set_url:function(){this.url=this.base_url+encodeURIComponent(Br.Main_selectedChannel)+"&limit="+Ab+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")},SetPeriod:function(){Vu("top_bar_game",U+Xr[this.periodPos-1]),xf("ChannelClip_periodPos",this.periodPos)},label_init:function(){Br.Main_CenterLablesVectorPos=1,!Br.Search_isSearching&&Br.Main_selectedChannel_id&&Ld(),Br.Main_selectedChannel!==this.lastselectedChannel&&(this.status=!1),w_(),this.SetPeriod(),Du("top_bar_user",Br.Main_selectedChannelDisplayname),Bu("label_side_panel","icon-arrow-circle-left",I),this.lastselectedChannel=Br.Main_selectedChannel},label_exit:b_},Pb),Ob)).set_ThumbSize()}function Rb(){(gb=Wy(gb=Wy({ids:jy("AGameClip"),table:"stream_table_a_game_clip",screen:xr,periodPos:Pf("AGameClip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?game=",set_url:function(){this.url=this.base_url+encodeURIComponent(Br.Main_gameSelected)+"&limit="+Ab+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")+(""!==qr?"&language="+qr:"")},SetPeriod:function(){Vu("top_bar_game",b+k_(U+Xr[this.periodPos-1]+": "+Br.Main_gameSelected)),xf("AGameClip_periodPos",this.periodPos)},label_init:function(){Br.Main_CenterLablesVectorPos=3,this.SetPeriod(),Ru("top_bar_game","icon_center_focus"),Bu("label_side_panel","icon-arrow-circle-left",I),this.gameSelected!==Br.Main_gameSelected&&(this.status=!1),this.gameSelected=Br.Main_gameSelected},label_exit:function(){Nu("top_bar_game","icon_center_focus"),Vu("top_bar_game",f),Bu("label_side_panel","icon-ellipsis",Rn)}},Pb),Ob)).set_ThumbSize()}var Nb={ThumbSize:19.35,ItemsLimit:tu,ItemsReloadLimit:au,ColoumnsCount:nu,addFocus:W_,img_404:Ca,empty_str:function(){return L+Z},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.MaxOffset=t._total,this.data=this.data.concat(this.screen===pr?t.follows:t.top),this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadingData=!1}else this.data=JSON.parse(e),this.MaxOffset=this.data._total,this.data=this.screen===pr?this.data.follows:this.data.top,this.offset=this.data.length,this.isLive?this.dataEnded=!0:this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadDataSuccess(),this.loadingData=!1},key_play:function(){Br.Main_gameSelected=document.getElementById(this.ids[5]+this.posY+"_"+this.posX).getAttribute(vu),document.body.removeEventListener("keydown",hb),Br.Main_BeforeAgame=this.screen,Br.Main_Go=fr,Br.Main_BeforeAgameisSet=!0,Po=!1,jr=0,document.body.removeEventListener("keydown",hb),Ou(this.ids[10]),p_(),nf(this.posY+"_"+this.posX,this.ids)},addCell:function(e){var t=this.isLive||this.screen===_r,n=t?e.game:e;this.idObject[n._id]||(this.itemsCount++,this.idObject[n._id]=1,this.row.appendChild(ib(this.row_id,this.coloumn_id,this.ids,n.box.template.replace("{width}x{height}",hu),n.name,t?l_(e.channels)+" "+E+h+l_(e.viewers)+F:"")),this.coloumn_id++)}};function Vb(){(yb=Wy(yb=Wy({ids:jy("Game"),table:"stream_table_games",screen:_r,base_url:"https://api.twitch.tv/kraken/games/top?limit="+Ab,set_url:function(){this.offset&&this.offset+Ab>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+"&offset="+this.offset},label_init:function(){Br.Main_CenterLablesVectorPos=3,Ru("top_bar_game","icon_center_focus")},label_exit:function(){Nu("top_bar_game","icon_center_focus")}},Pb),Nb)).set_ThumbSize()}function Db(){(bb=Wy(bb=Wy({ids:jy("UserGames"),table:"stream_table_user_games",screen:pr,isLive:Tf("user_Games_live",!0),OldUserName:"",base_url:"https://api.twitch.tv/api/users/",set_url:function(){this.offset&&this.offset+Ab>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+encodeURIComponent(Hi[Br.Users_Position].name)+"/follows/games",this.isLive?this.url+="/live?limit=750":this.url+="?limit="+Ab+"&offset="+this.offset},key_refresh:function(){this.isLive=!this.isLive,Vu("top_bar_user",u+k_(Hi[Br.Users_Position].name+" "+(this.isLive?Z:zt))),Zy(),xf("user_Games_live",this.isLive?"true":"false"),vM&&EM()},label_init:function(){Br.Main_CenterLablesVectorPos=1,Bu("label_refresh","icon-refresh",Xt+Z+"/"+zt+":"+jt),Bu("label_side_panel","icon-arrow-circle-left",I),Ru("top_bar_user","icon_center_focus"),this.OldUserName!==Hi[Br.Users_Position].name&&(this.status=!1),this.OldUserName=Hi[Br.Users_Position].name,Vu("top_bar_user",u+k_(Hi[Br.Users_Position].name+" "+(this.isLive?Z:zt)))},label_exit:function(){Br.Users_Position=0,Nu("top_bar_user","icon_center_focus"),Bu("label_refresh","icon-refresh",t+jt),Du("top_bar_user",u),Bu("label_side_panel","icon-ellipsis",Rn)}},Pb),Nb)).set_ThumbSize()}var Fb=0,Jb=0,Hb=!1,qb=0,zb={},Xb=[],jb=!1,Wb=0,Yb=5,Qb=3500,Zb=0,Kb=0,$b=!1,ew=!1,tw="",nw=!1,aw=["sc_thumbdiv","sc_img","sc_infodiv","sc_displayname","sc_cell","scempty_","search_channel_scroll"];function iw(){Br.Main_CenterLablesVectorPos=1,Br.Main_Go=Er,Br.isLastSChannels=!0,Br.Search_isSearching=!0,tw!==Br.Search_data&&(ew=!1),w_(),Vu("top_bar_user",n+k_(E+" '"+Br.Search_data+"'")),document.body.addEventListener("keydown",gw,!1),ew?(P_(Fb),Gu(aw[6]),pw(),v_()):sw()}function ow(){b_(),document.body.removeEventListener("keydown",gw),Ou(aw[6])}function sw(){M_("stream_table_search_channel"),Ou(aw[6]),Ju(),e_(),tw=Br.Search_data,ew=!1,zb={},wf=!(qb=Kb=Zb=0),Fb=Jb=0,Hb=nw=!(Xb=[]),Yu(),dw(),lw()}function dw(){S_(),jb=!0,Wb=0,Qb=3500}function lw(){var e=qb+Zb;e&&Kb-1<e&&(e=Kb-iu,Hb=!0);var t="https://api.twitch.tv/kraken/search/channels?query="+encodeURIComponent(Br.Search_data)+"&limit="+iu+"&offset="+e;Au&&!qb?Rf(t,Qb,2,null,rw,cw):Nf(t,Qb,2,null,rw,cw,!1)}function cw(){++Wb<Yb?(Qb+=500,lw()):(jb=!1,qb?(Hb=!0,_w()):(wf=!1,Hu(),$u(P)))}function rw(e){var t=JSON.parse(e),n=t.channels.length;Kb=parseInt(t._total),n<iu&&(Hb=!0);var a=qb;$b=!(qb+=n);var i=n/ou;0<n%ou&&i++;for(var o,s,d,l,c,r=0,u=document.getElementById("stream_table_search_channel"),_=0;_<i;_++){for(s=a/ou+_,d=document.createElement("tr"),o=0;o<ou&&r<n;o++,r++)c=(l=t.channels[r])._id,zb[c]?o--:(zb[c]=1,d.appendChild(uw(s,s+"_"+o,[l.name,c,l.logo,l.display_name])));for(;o<ou;o++)Hb&&!nw&&(nw=!0,qb=s*ou+o),d.appendChild(B_(aw[5]+s+"_"+o)),Xb.push(aw[5]+s+"_"+o);u.appendChild(d)}_w()}function uw(e,t,n){return e<4&&T_(n[2]),O_(t,aw,n)}function _w(){if(ew){if(I_(Ea),0<Xb.length&&!Hb)return dw(),void fw();pw(!0),Xb=[]}else $b?$u(d):(ew=!0,I_(Ea),pw(),v_()),Gu(aw[6]),wf=!1,Hu();jb=!1}function fw(){Ku(Xb.length);var e=qb+Zb;e&&Kb-1<e&&(e=Kb-du,Hb=!0),Gf("https://api.twitch.tv/kraken/search/channels?query="+encodeURIComponent(Br.Search_data)+"&limit="+du+"&offset="+e,Qb,2,null,hw,mw)}function mw(){++Wb<Yb?(Qb+=500,fw()):(Hb=!0,qb-=Xb.length,Xb=[],_w())}function hw(e){var t,n,a=JSON.parse(e),i=a.channels.length,o=0,s=0,d=[];for(Kb=parseInt(a._total),i<du&&(Hb=!0);o<Xb.length&&s<i;o++,s++)n=(t=a.channels[s])._id,zb[n]?o--:(zb[n]=1,G_(Xb[o],[t.name,n,t.logo,t.display_name],aw),d.push(o));for(o=d.length-1;-1<o;o--)Xb.splice(d[o],1);Zb+=s,Hb&&(qb-=Xb.length,Xb=[]),_w()}function pw(e){X_(Fb,Jb,aw,ou,qb,e),qb/ou<Fb+su&&!Hb&&!jb&&(dw(),lw()),Ur&&vw()}function vw(){qb&&nf(Fb+"_"+Jb,aw)}function gw(e){var t;if(!wf&&!z_())switch(q_(),e.keyCode){case Ua:d_()?s_():a_()?n_():(vw(),Af(gw));break;case La:if(u_(Fb,Jb-1,aw[0]))vw(),Jb--,pw();else for(t=ou-1;-1<t;t--)if(u_(Fb-1,t,aw[0])){vw(),Fb--,Jb=t,pw();break}break;case Ba:u_(Fb,Jb+1,aw[0])?(vw(),Jb++,pw()):u_(Fb+1,0,aw[0])&&(vw(),Fb++,Jb=0,pw());break;case Ta:for(t=0;t<ou;t++)if(u_(Fb-1,Jb-t,aw[0])){vw(),Fb--,Jb-=t,pw();break}break;case Oa:for(t=0;t<ou;t++)if(u_(Fb+1,Jb-t,aw[0])){vw(),Fb++,Jb-=t,pw();break}break;case xa:case Sa:case Pa:case Ga:Br.Main_selectedChannel=document.getElementById(aw[4]+Fb+"_"+Jb).getAttribute(vu),Br.Main_selectedChannel_id=document.getElementById(aw[4]+Fb+"_"+Jb).getAttribute("data-id"),Br.Main_selectedChannelDisplayname=document.getElementById(aw[3]+Fb+"_"+Jb).textContent,document.body.removeEventListener("keydown",gw),Br.Main_BeforeChannel=Er,Br.Main_Go=br,Br.Main_BeforeChannelisSet=!0,js=Xa=!1,Ou(aw[6]),h_()}}var yw=!1,bw=0,ww=0,kw=0,Aw=0,Cw=5,Ew=3500,Mw=0,Iw=0,Sw=!1,xw=!1,Pw="",Lw=["sgthumbdiv","sgimg","sginfodiv","sgdisplayname","sgviwers","sgcell","sgempty_","search_games_scroll"];function Tw(){Br.Main_CenterLablesVectorPos=1,Br.Main_Go=gr,Br.Search_isSearching=!0,w_(),Pw!==Br.Search_data&&(yw=!1),Vu("top_bar_user",n+k_(f+" '"+Br.Search_data+"'")),document.body.addEventListener("keydown",Hw,!1),yw?(P_(bw),Gu(Lw[7]),Fw(),v_()):Ow()}function Bw(){Br.Search_isSearching||b_(),document.body.removeEventListener("keydown",Hw),Br.Games_return=!1,Ou(Lw[7])}function Ow(){M_("stream_table_search_game"),Ou(Lw[7]),Ju(),e_(),Pw=Br.Search_data,xw=yw=!1,bw=ww=kw=Iw=Mw=0,Yu(),Gw(),Uw()}function Gw(){S_(),wf=!0,Aw=0,Ew=3500}function Uw(){Gf("https://api.twitch.tv/kraken/search/games?query="+encodeURIComponent(Br.Search_data),Ew,2,null,Nw,Rw)}function Rw(){++Aw<Cw?(Ew+=500,Uw()):(wf=!1,kw?Dw():(Hu(),$u(P)))}function Nw(e){var t=JSON.parse(e),n=0;null!==t.games&&(n=t.games.length);var a=kw;Sw=!(kw+=n);var i=n/nu;0<n%nu&&i++;for(var o,s,d,l,c=0,r=document.getElementById("stream_table_search_game"),u=0;u<i;u++){for(s=a/nu+u,d=document.createElement("tr"),o=0;o<nu&&c<n;o++,c++)l=t.games[c],d.appendChild(Vw(s,s+"_"+o,[l.name,l.box.template.replace("{width}x{height}",hu),""]));for(;o<nu;o++)xw||(xw=!0,kw=s*nu+o),d.appendChild(B_(Lw[6]+s+"_"+o));r.appendChild(d)}Dw()}function Vw(e,t,n){return e<2&&T_(n[1]),D_(t,Lw,n)}function Dw(){yw||(Sw?$u(d):(yw=!0,I_(Ma),Fw(),v_()),Hu()),Gu(Lw[7]),wf=!1,Qu(ww,bw,nu,kw)}function Fw(){W_(bw,ww,Lw,nu,kw),Ur&&Jw()}function Jw(){kw&&nf(bw+"_"+ww,Lw)}function Hw(e){var t;if(!wf&&!z_())switch(q_(),e.keyCode){case Ua:d_()?s_():a_()?n_():(Jw(),Af(Hw));break;case La:if(u_(bw,ww-1,Lw[0]))Jw(),ww--,Fw();else for(t=nu-1;-1<t;t--)if(u_(bw-1,t,Lw[0])){Jw(),bw--,ww=t,Fw();break}break;case Ba:u_(bw,ww+1,Lw[0])?(Jw(),ww++,Fw()):u_(bw+1,0,Lw[0])&&(Jw(),bw++,ww=0,Fw());break;case Ta:for(t=0;t<nu;t++)if(u_(bw-1,ww-t,Lw[0])){Jw(),bw--,ww-=t,Fw();break}break;case Oa:for(t=0;t<nu;t++)if(u_(bw+1,ww-t,Lw[0])){Jw(),bw++,ww-=t,Fw();break}break;case xa:case Sa:case Pa:case Ga:Br.gameSelectedOld=Br.Main_gameSelected,Bw(),Br.Main_gameSelected=document.getElementById(Lw[5]+bw+"_"+ww).getAttribute(vu),document.body.removeEventListener("keydown",Hw),Br.Main_Go=fr,Br.Games_return=!0,h_()}}var qw=0,zw=0,Xw=!1;function jw(){e_(),Ou("label_refresh"),Bu("label_side_panel","icon-arrow-circle-left",I),Du("top_bar_user",n),document.getElementById("top_lables").style.marginLeft="14%",document.getElementById("top_bar_live").style.display="none",document.getElementById("top_bar_featured").style.display="none",document.getElementById("top_bar_game").style.display="none",document.getElementById("top_bar_vod").style.display="none",document.getElementById("top_bar_clip").style.display="none",$c.placeholder=w,Ru("top_bar_user","icon_center_focus"),Gu("search_scroll"),zw=qw=0,Qw(),Kw()}function Ww(){$w(!1),document.body.removeEventListener("keydown",Zw),Qw(),Br.Main_Go=Br.Main_BeforeSearch,document.getElementById("top_lables").style.marginLeft="18.5%",Du("top_bar_user",u),Nu("top_bar_user","icon_center_focus"),Bu("label_side_panel","icon-ellipsis",Rn),Gu("label_refresh"),document.getElementById("top_bar_live").style.display="inline-block",document.getElementById("top_bar_featured").style.display="inline-block",document.getElementById("top_bar_game").style.display="inline-block",document.getElementById("top_bar_vod").style.display="inline-block",document.getElementById("top_bar_clip").style.display="inline-block",$c.value="",Ou("search_scroll")}function Yw(){Ww(),sf(function(){zw?1===zw?Tw():2===zw&&yk():iw()})}function Qw(){Nu("chanel_button","button_search_focused"),Nu("game_button","button_search_focused"),Nu("live_button","button_search_focused"),qw&&(zw?1===zw?Ru("game_button","button_search_focused"):2===zw&&Ru("live_button","button_search_focused"):Ru("chanel_button","button_search_focused"))}function Zw(e){if(!Xw)switch(e.keyCode){case Ua:d_()?s_():a_()?n_():(Ww(),h_());break;case La:1===qw&&(--zw<0&&(zw=2),Qw());break;case Ba:1===qw&&(2<++zw&&(zw=0),Qw());break;case Ta:1===qw&&(qw=0,Qw(),Kw());break;case Oa:qw?1===qw&&(qw=0,Qw(),Kw()):($w(!1),qw=1,Qw());break;case xa:case Sa:case Pa:case Ga:qw?""!==$c.value&&null!==$c.value?(Br.Search_data=$c.value,$c.value="",Yw()):($u(s),window.setTimeout(function(){e_()},1e3)):Kw()}}function Kw(){document.body.removeEventListener("keydown",Zw),document.body.addEventListener("keydown",tk,!1),$c.placeholder=w,$c.focus(),Xw=!0}function $w(e){$c.blur(),ek(),document.body.removeEventListener("keydown",tk),$c.placeholder=C+w,e&&document.body.addEventListener("keydown",Zw,!1),Xw=!1}function ek(){if(null!==$c){var e=$c.cloneNode(!0);$c.parentNode.replaceChild(e,$c),$c=document.getElementById("search_input")}}function tk(e){switch(e.keyCode){case Ua:a_()?n_():d_()?s_():(Ww(),h_());break;case Da:$c.value="";break;case Na:case Oa:$w(!0),qw=1,Qw();break;case Ra:$c.value=$c.value.slice(0,-1);break;case Va:$c.value+=" "}}var nk=0,ak=0,ik=!1,ok=0,sk={},dk=[],lk=!1,ck=0,rk=5,uk=3500,_k=0,fk=0,mk=!1,hk=!1,pk=!1,vk="",gk=["sl_thumbdiv","sl_img","sl_infodiv","sl_displayname","sl_streamtitle","sl_streamgame","sl_viwers","sl_quality","sl_cell","slempty_","search_live_scroll"];function yk(){Br.Main_CenterLablesVectorPos=1,Br.Main_Go=yr,Br.Search_isSearching=!0,w_(),vk!==Br.Search_data&&(hk=!1),Vu("top_bar_user",n+k_(_+" '"+Br.Search_data+"'")),document.body.addEventListener("keydown",Tk,!1),hk?(P_(nk),Gu(gk[10]),Pk(),v_()):wk()}function bk(){b_(),document.body.removeEventListener("keydown",Tk),Ou(gk[10])}function wk(){M_("stream_table_search_live"),Ou(gk[10]),Ju(),e_(),vk=Br.Search_data,hk=!1,wf=!(pk=!(dk=[])),nk=ak=ok=fk=_k=0,ik=!(sk={}),Yu(),kk(),Ak()}function kk(){S_(),lk=!0,ck=0,uk=3500}function Ak(){var e=ok+_k;e&&fk-1<e&&(e=fk-Kr,ik=!0);var t="https://api.twitch.tv/kraken/search/streams?query="+encodeURIComponent(Br.Search_data)+"&limit="+Kr+"&offset="+e;Au&&!ok?Rf(t,uk,2,null,Ek,Ck):Nf(t,uk,2,null,Ek,Ck,!1)}function Ck(){++ck<rk?(uk+=500,Ak()):(lk=!1,ok?(ik=!0,Mk()):(wf=!1,Hu(),$u(P)))}function Ek(e){var t=JSON.parse(e),n=t.streams.length;fk=parseInt(t._total),n<Kr&&(ik=!0);var a=ok;mk=!(ok+=n);var i=n/$r;0<n%$r&&i++;for(var o,s,d,l,c,r=0,u=document.getElementById("stream_table_search_live"),_=0;_<i;_++){for(s=a/$r+_,d=document.createElement("tr"),o=0;o<$r&&r<n;o++,r++)c=(l=t.streams[r]).channel._id,sk[c]?o--:(sk[c]=1,d.appendChild(R_(s,s+"_"+o,[l.channel.name,c],gk,[l.preview.template.replace("{width}x{height}",mu),r_(JSON.stringify(l.stream_type))+l.channel.display_name,l.channel.status,l.game,y+Vp(l.created_at)+" "+h+l_(l.viewers)+F,c_(l.video_height,l.average_fps,l.channel.broadcaster_language)])));for(;o<$r;o++)ik&&!pk&&(pk=!0,ok=s*$r+o),d.appendChild(B_(gk[9]+s+"_"+o)),dk.push(gk[9]+s+"_"+o);u.appendChild(d)}Mk()}function Mk(){if(hk){if(I_(Ma),0<dk.length&&!ik)return kk(),void Ik();Pk(!0),dk=[]}else mk?$u(d):(hk=!0,I_(Ma),Pk(),v_()),Gu(gk[10]),wf=!1,Hu();lk=!1}function Ik(){Ku(dk.length);var e=ok+_k;e&&fk-1<e&&(e=fk-du,ik=!0),Gf("https://api.twitch.tv/kraken/search/streams?query="+encodeURIComponent(Br.Search_data)+"&limit="+du+"&offset="+e,uk,2,null,xk,Sk)}function Sk(){++ck<rk?(uk+=500,Ik()):(ik=!0,ok-=dk.length,dk=[],Mk())}function xk(e){var t,n,a=JSON.parse(e),i=a.streams.length,o=0,s=0,d=[];for(fk=parseInt(a._total),i<du&&(ik=!0);o<dk.length&&s<i;o++,s++)n=(t=a.streams[s]).channel._id,sk[n]?o--:(sk[n]=1,N_(dk[o],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",mu),r_(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+Vp(t.created_at)+" "+h+l_(t.viewers)+F,c_(t.video_height,t.average_fps,t.channel.broadcaster_language)],gk),d.push(o));for(o=d.length-1;-1<o;o--)dk.splice(d[o],1);_k+=s,ik&&(ok-=dk.length,dk=[]),Mk()}function Pk(e){j_(nk,ak,gk,$r,ok,e),ok/$r<nk+eu&&!ik&&!lk&&(kk(),Ak()),Ur&&Lk()}function Lk(){ok&&nf(nk+"_"+ak,gk)}function Tk(e){var t;if(!wf&&!z_())switch(q_(),e.keyCode){case Ua:d_()?s_():a_()?n_():(Lk(),Af(Tk));break;case La:if(u_(nk,ak-1,gk[0]))Lk(),ak--,Pk();else for(t=$r-1;-1<t;t--)if(u_(nk-1,t,gk[0])){Lk(),nk--,ak=t,Pk();break}break;case Ba:u_(nk,ak+1,gk[0])?(Lk(),ak++,Pk()):u_(nk+1,0,gk[0])&&(Lk(),nk++,ak=0,Pk());break;case Ta:for(t=0;t<$r;t++)if(u_(nk-1,ak-t,gk[0])){Lk(),nk--,ak-=t,Pk();break}break;case Oa:for(t=0;t<$r;t++)if(u_(nk+1,ak-t,gk[0])){Lk(),nk++,ak-=t,Pk();break}break;case xa:case Sa:case Pa:case Ga:Q_(nk+"_"+ak,gk,Tk)}}var Bk=0,Ok={restor_playback:{values:["off","on"],defaultValue:2},chat_font_size:{values:["60%","80%","100%","120%","140%"],defaultValue:3},chat_brightness:{values:["0%","5%","10%","15%","20%","25%","30%","35%","40%","45%","50%","55%","60%","65%","70%","75%","80%","85%","90%","95%","100%"],defaultValue:11},force_disable_chat:{values:["off","on"],defaultValue:2},buffer_live:{values:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],defaultValue:4},buffer_vod:{values:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],defaultValue:4},buffer_clip:{values:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],defaultValue:3},videos_animation:{values:["off","on"],defaultValue:2},clock_offset:{values:Gk(),defaultValue:49},content_lang:{values:["All"],set_values:[""],defaultValue:1}};function Gk(){for(var e=[],t=43200,n=0;n<48;n++)e.push("-"+Rp(t)),t-=900;for(e.push(Rp(0)),t=900,n=0;n<48;n++)e.push(Rp(t)),t+=900;return e}var Uk=[],Rk=0;function Nk(){m_(),Ou("label_side_panel"),Bu("label_refresh","icon-arrow-circle-left",ia),document.body.addEventListener("keydown",aA,!1),Du("top_bar_user",a),document.getElementById("top_lables").style.marginLeft="14%",document.getElementById("top_bar_live").style.display="none",document.getElementById("top_bar_featured").style.display="none",document.getElementById("top_bar_game").style.display="none",document.getElementById("top_bar_vod").style.display="none",document.getElementById("top_bar_clip").style.display="none",Ru("top_bar_user","icon_center_focus"),Gu("settings_scroll"),Qk(Bk=0),qk("content_lang",jn,oA)}function Vk(){document.body.removeEventListener("keydown",aA),Gu("label_side_panel"),Zk(),Du("top_bar_user",u),document.getElementById("top_lables").style.marginLeft="18.5%",document.getElementById("top_bar_live").style.display="inline-block",document.getElementById("top_bar_featured").style.display="inline-block",document.getElementById("top_bar_game").style.display="inline-block",document.getElementById("top_bar_vod").style.display="inline-block",document.getElementById("top_bar_clip").style.display="inline-block",Nu("top_bar_user","icon_center_focus"),Bu("label_refresh","icon-refresh",t+jt),Ou("settings_scroll")}function Dk(){var e,t="";t+=Fk("general",gn),e="content_lang",Uk.push(e),Ok[e].values=[Wn],t+=Hk(e,jn,""),e="clock_offset",Uk.push(e),t+=Jk(e,zn),e="restor_playback",Uk.push(e),Ok[e].values=[Pn,xn],t+=Hk(e,Ln,Tn),e="videos_animation",Uk.push(e),Ok[e].values=[Pn,xn],t+=Jk(e,Un),t+=Fk("play",_n),e="chat_font_size",Uk.push(e),t+=Hk(e,Bn,On),e="chat_brightness",Uk.push(e),t+=Jk(e,aa),e="force_disable_chat",Uk.push(e),Ok[e].values=[Jt,L],t+=Hk(e,ta,na),t+='<div id="setting_title_buffers" class="settings_title">'+fn+'</div><div id="setting_title_buffers_summary" class="settings_summary">'+mn+"</div>",e="buffer_live",Uk.push(e),t+=Jk(e,hn),e="buffer_vod",Uk.push(e),t+=Jk(e,pn),e="buffer_clip",Uk.push(e),Vu("settings_main",t+=Jk(e,vn)),Rk=Uk.length,fA()}function Fk(e,t){return'<div id="setting_title_'+e+'" class="settings_section">'+t+"</div>"}function Jk(e,t){return'<div id="'+e+'_div" class="settings_div"><div id="'+e+'_name" class="settings_name">'+t+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_left" class="left"></div></div><div id="'+e+'" class="strokedextramini settings_value">'+jk(e)+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_right" class="right"></div></div></div>'}function Hk(e,t,n){return'<div id="'+e+'_div" class="settings_div"><div id="'+e+'_name" class="settings_name">'+t+'<div id="'+e+'_summary" class="settings_summary" style="font-size: 65%;">'+n+'</div></div><div class="settings_arraw_div"><div id="'+e+'arrow_left" class="left"></div></div><div id="'+e+'" class="strokedextramini settings_value">'+jk(e)+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_right" class="right"></div></div></div>'}function qk(e,t,n){Vu(e+"_name",t+'<div id="'+e+'_summary" class="settings_summary" style="font-size: 65%;">'+n+"</div>")}function zk(){var e="";for(e in Du("setting_title_general",gn),Du((e="clock_offset")+"_name",zn),Du((e="content_lang")+"_name",jn),Du(e,jk(e)),Ok[e].values=[Wn],Du("setting_title_play",_n),Du("setting_title_buffers",fn),Du("setting_title_buffers_summary",mn),Du((e="buffer_live")+"_name",hn),Du((e="buffer_vod")+"_name",pn),Du((e="buffer_clip")+"_name",vn),qk(e="restor_playback",Ln,Tn),Ok[e].values=[Pn,xn],qk(e="chat_font_size",Bn,On),qk(e="force_disable_chat",ta,na),Ok[e].values=[Pn,xn],Du((e="videos_animation")+"_name",Un),Ok[e].values=[Pn,xn],Du((e="chat_brightness")+"_name",aa),Ok)Ok.hasOwnProperty(e)&&Du(e,jk(e));_A()}function Xk(){for(var e in Ok)Ok[e].defaultValue=Pf(e,Ok[e].defaultValue),Ok[e].defaultValue-=1,Ok[e].defaultValue>Yk(e)&&(Ok[e].defaultValue=0);tA(0),nA(),Hm=(.05*Wk("chat_brightness")).toFixed(2),HI=Wk("videos_animation"),Br.Play_ChatForceDisable=Wk("force_disable_chat")}function jk(e){return Ok[e].values[Wk(e)]}function Wk(e){return Ok[e].defaultValue}function Yk(e){return Ok[e].values.length-1}function Qk(e){var t=Uk[Bk];Ru(t,"settings_value_focus"),Ru(t+"_div","settings_div_focus"),$k(e)}function Zk(){var e=Uk[Bk];document.getElementById(e+"arrow_left").style.opacity="0",document.getElementById(e+"arrow_right").style.opacity="0",Nu(e,"settings_value_focus"),Nu(e+"_div","settings_div_focus")}function Kk(e){var t=Uk[e];xf(t,Wk(t)+1),Du(t,jk(t)),$k(e),eA(e)}function $k(e){var t=Uk[e];if(Yk(t)){var n=Wk(t),a=Yk(t);0<n&&n<a?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="1"):n===a?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="0.2"):(document.getElementById(t+"arrow_left").style.opacity="0.2",document.getElementById(t+"arrow_right").style.opacity="1")}}function eA(e){"videos_animation"===(e=Uk[e])?HI=Wk("videos_animation"):"buffer_live"===e?tA(1):"buffer_vod"===e?tA(2):"buffer_clip"===e?tA(3):"chat_brightness"===e?(Hm=(.05*Wk("chat_brightness")).toFixed(2),gv(!1)):"force_disable_chat"===e?Br.Play_ChatForceDisable=Wk("force_disable_chat"):"chat_font_size"===e?op():"clock_offset"===e&&(nA(),cf())}function tA(e){try{e?1===e?(Km=1e3*jk("buffer_live"),Au&&Android.SetBuffer(1,Km)):2===e?(vg=1e3*jk("buffer_vod"),Au&&Android.SetBuffer(2,vg)):3===e&&(lm=1e3*jk("buffer_clip"),Au&&Android.SetBuffer(3,lm)):(Km=1e3*jk("buffer_live"),vg=1e3*jk("buffer_vod"),lm=1e3*jk("buffer_clip"),Au&&(Android.SetBuffer(1,Km),Android.SetBuffer(2,vg),Android.SetBuffer(3,lm)))}catch(e){}}function nA(){var e=Wk("clock_offset");ku=e<48?-9e5*(48-e):9e5*(e-48)}function aA(e){var t;switch(e.keyCode){case Ua:a_()?n_():d_()?s_():(Vk(),h_());break;case La:0<Wk(t=Uk[Bk])&&(Ok[t].defaultValue-=1,Kk(Bk));break;case Ba:Wk(t=Uk[Bk])<Yk(t)&&(Ok[t].defaultValue+=1,Kk(Bk));break;case Ta:0<Bk&&(Zk(),Qk(--Bk));break;case Oa:Bk<Rk-1&&(Zk(),Qk(++Bk));break;case Ga:Bk||cA()}}var iA=0,oA="",sA={All:{values:["off","on"],defaultValue:2,set_values:""},"Dansk [DA]":{values:["off","on"],defaultValue:1,set_values:"da"},"Deutsch [DE]":{values:["off","on"],defaultValue:1,set_values:"de"},"English [EN]":{values:["off","on"],defaultValue:1,set_values:"en,en-gb"},"Espaol [ES]":{values:["off","on"],defaultValue:1,set_values:"es,es-mx"},"Franais [FR]":{values:["off","on"],defaultValue:1,set_values:"fr"},"Italiano [IT]":{values:["off","on"],defaultValue:1,set_values:"it"},"Magyar [HU]":{values:["off","on"],defaultValue:1,set_values:"hu"},"Nederlands [NL]":{values:["off","on"],defaultValue:1,set_values:"nl"},"Norsk [NO]":{values:["off","on"],defaultValue:1,set_values:"no"},"Polski [PL]":{values:["off","on"],defaultValue:1,set_values:"pl"},"Portugus [PT]":{values:["off","on"],defaultValue:1,set_values:"pt,pt-br"},"Slovenina [SK]":{values:["off","on"],defaultValue:1,set_values:"sk"},"Suomi [FI]":{values:["off","on"],defaultValue:1,set_values:"fi"},"Svenska [SV]":{values:["off","on"],defaultValue:1,set_values:"sv"},"Ting Vit [VI]":{values:["off","on"],defaultValue:1,set_values:"vi"},"Trke [TR]":{values:["off","on"],defaultValue:1,set_values:"tr"},"etina [CS]":{values:["off","on"],defaultValue:1,set_values:"cs"}," [EL]":{values:["off","on"],defaultValue:1,set_values:"el"}," [RU]":{values:["off","on"],defaultValue:1,set_values:"ru"}," [TH]":{values:["off","on"],defaultValue:1,set_values:"th"}," [ZH]":{values:["off","on"],defaultValue:1,set_values:"zh-cn,zh-tw"}," [JA]":{values:["off","on"],defaultValue:1,set_values:"ja"}," [KO]":{values:["off","on"],defaultValue:1,set_values:"ko"},"Romn [RO]":{values:["off","on"],defaultValue:1,set_values:"ro"}},dA=[],lA=0;function cA(){m_(),document.body.removeEventListener("keydown",aA),Ou("settings_main"),Gu("settings_lang"),CA(),Du("top_bar_featured",yn),document.getElementById("top_bar_featured").style.display="inline-block",document.body.addEventListener("keydown",EA,!1),yA(iA=0),uA()}function rA(){document.body.removeEventListener("keydown",EA),document.body.addEventListener("keydown",aA,!1),document.getElementById("settings_scroll").style.top=.085*screen.height+"px",Gu("settings_main"),Ou("settings_lang"),Du("top_bar_featured",an),document.getElementById("top_bar_featured").style.display="none",bA(),_A(),uA()}function uA(){""===qr&&(oA=Yn,sA.All.defaultValue=1,kA(0),Ru(dA[0],"strokedextraminired"),CA()),qk("content_lang",jn,oA)}function _A(){if(qr="",!vA("All")){for(var e in sA)vA(e)&&(qr+=","+sA[e].set_values);qr=qr.slice(1)}oA=""===qr?Yn:qr.toUpperCase()}function fA(){var e="";for(var t in sA)dA.push(t),sA[t].values=[L,Jt],e+=mA(t,t);Vu("settings_lang",e),lA=dA.length}function mA(e,t){return'<div id="'+e+'_div" class="settings_div"><div id="'+e+'_name" class="settings_name">'+t+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_left" class="left"></div></div><div id="'+e+'" class="'+(vA(e)?"strokedextraminired ":"")+'strokedextramini settings_value">'+pA(e)+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_right" class="right"></div></div></div>'}function hA(){for(var e in sA)sA[e].defaultValue=Pf(e,sA[e].defaultValue),sA[e].defaultValue-=1;_A()}function pA(e){return sA[e].values[vA(e)]}function vA(e){return sA[e].defaultValue}function gA(e){return sA[e].values.length-1}function yA(e){var t=dA[iA];Ru(t,"settings_value_focus"),Ru(t+"_div","settings_div_focus"),AA(e),wA(t)}function bA(){var e=dA[iA];document.getElementById(e+"arrow_left").style.opacity="0",document.getElementById(e+"arrow_right").style.opacity="0",Nu(e,"settings_value_focus"),Nu(e+"_div","settings_div_focus")}function wA(){var e=screen.height;7<iA?(e*=.093,e+=-1*document.getElementById(dA[iA-7]).offsetTop):e*=.077,iA<18&&(document.getElementById("settings_scroll").style.top=e+"px")}function kA(e){var t=dA[e];xf(t,vA(t)+1),Du(t,pA(t)),AA(e)}function AA(e){var t=dA[e],n=vA(t),a=gA(t);0<n&&n<a?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="1"):n===a?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="0.2"):(document.getElementById(t+"arrow_left").style.opacity="0.2",document.getElementById(t+"arrow_right").style.opacity="1")}function CA(){for(var e in sA)-1===e.indexOf("All")&&(document.getElementById(e+"_div").style.display=vA("All")?"none":"inline-block")}function EA(e){var t;switch(e.keyCode){case Ua:rA();break;case La:0<vA(t=dA[iA])&&(sA[t].defaultValue-=1,kA(iA),Nu(dA[iA],"strokedextraminired"),-1!==t.indexOf("All")&&CA());break;case Ba:vA(t=dA[iA])<gA(t)&&(sA[t].defaultValue+=1,kA(iA),Ru(dA[iA],"strokedextraminired"),-1!==t.indexOf("All")&&CA());break;case Ta:0<iA&&(bA(),yA(--iA));break;case Oa:!vA("All")&&iA<lA-1&&(bA(),yA(++iA))}}var MA=0,IA=0,SA=!1,xA=0,PA=!1,LA=0,TA=5,BA=3500,OA=[],GA=0,UA=0,RA=!1,NA=!1,VA="",DA=!1,FA={},JA=[],HA=0,qA=["uc_thumbdiv","uc_img","uc_infodiv","uc_displayname","uc_cell","ucempty_","user_channels_scroll"];function zA(){Br.Main_CenterLablesVectorPos=1,Br.Main_Go=Cr,Br.isLastSChannels=!1,Bu("label_side_panel","icon-arrow-circle-left",I),Ru("top_bar_user","icon_center_focus"),Vu("top_bar_user",u+k_(Hi[Br.Users_Position].name+K)),document.body.addEventListener("keydown",oC,!1),VA!==Hi[Br.Users_Position].name&&(NA=!1),NA?(P_(MA),Gu(qA[6]),aC(),v_()):jA()}function XA(){Br.Users_Position=0,Nu("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",oC),Du("top_bar_user",u),Bu("label_side_panel","icon-ellipsis",Rn),Ou(qA[6])}function jA(){M_("stream_table_user_channels"),Ou(qA[6]),Ju(),e_(),VA=Hi[Br.Users_Position].name,NA=!1,FA={},MA=IA=xA=HA=GA=UA=0,wf=!(DA=SA=!(JA=[])),Yu(),OA=[],WA(),YA()}function WA(){S_(),PA=!0,LA=0,BA=3500}function YA(){var e=xA+UA;e&&HA-1<e&&(e=HA-iu,SA=!0);var t="https://api.twitch.tv/kraken/users/"+encodeURIComponent(Hi[Br.Users_Position].id)+"/follows/channels?limit="+iu+"&offset="+e+"&sortby=login&direction=asc";Au&&!xA?Rf(t,BA,2,null,ZA,QA):Nf(t,BA,2,null,ZA,QA,!1)}function QA(){++LA<TA?(BA+=500,YA()):(PA=!1,xA?(SA=!0,$A()):(wf=!1,Hu(),$u(P),Af(oC)))}function ZA(e){var t=JSON.parse(e),n=t.follows.length;HA=parseInt(t._total),n<iu&&(SA=!0);var a=xA;RA=!(xA+=n);var i=n/ou;0<n%ou&&i++;for(var o,s,d,l,c,r=0,u=document.getElementById("stream_table_user_channels"),_=0;_<i;_++){for(s=a/ou+_,d=document.createElement("tr"),o=0;o<ou&&r<n;o++,r++)c=(l=t.follows[r].channel)._id,FA[c]?o--:(FA[c]=1,d.appendChild(KA(s,s+"_"+o,[l.name,c,l.logo,l.display_name])));for(;o<ou;o++)SA&&!DA&&(DA=!0,xA=s*ou+o),d.appendChild(B_(qA[5]+s+"_"+o)),JA.push(qA[5]+s+"_"+o);u.appendChild(d)}$A()}function KA(e,t,n){return e<4&&T_(n[2]),O_(t,qA,n)}function $A(){if(NA){if(I_(Ea),0<JA.length&&!SA)return WA(),void eC();aC(!0),JA=[]}else RA?($u(L+K),Af(oC)):(NA=!0,I_(Ea),aC(),v_()),Gu(qA[6]),wf=!1,Hu();PA=!1}function eC(){Ku(JA.length);var e=xA+UA;e&&HA-1<e&&(e=HA-du,SA=!0),Gf("https://api.twitch.tv/kraken/users/"+encodeURIComponent(Hi[Br.Users_Position].id)+"/follows/channels?limit="+du+"&offset="+GA+"&sortby=login&direction=asc",BA,2,null,nC,tC)}function tC(){++LA<TA?(BA+=500,eC()):(SA=!0,xA-=JA.length,JA=[],$A())}function nC(e){var t,n,a=JSON.parse(e),i=a.follows.length,o=0,s=0,d=[];for(HA=parseInt(a._total),i<du&&(SA=!0);o<JA.length&&s<i;o++,s++)n=(t=a.follows[s].channel)._id,FA[n]?o--:(FA[n]=1,G_(JA[o],[t.name,n,t.logo,t.display_name],qA),d.push(o));for(o=d.length-1;-1<o;o--)JA.splice(d[o],1);UA+=s,SA&&(xA-=JA.length,JA=[]),$A()}function aC(e){X_(MA,IA,qA,ou,xA,e),xA/ou<MA+su&&!SA&&!PA&&(WA(),YA()),Ur&&iC()}function iC(){xA&&nf(MA+"_"+IA,qA)}function oC(e){var t;if(!wf&&!z_())switch(q_(),e.keyCode){case Ua:d_()?s_():a_()?n_():(iC(),Af(oC));break;case La:if(u_(MA,IA-1,qA[0]))iC(),IA--,aC();else for(t=ou-1;-1<t;t--)if(u_(MA-1,t,qA[0])){iC(),MA--,IA=t,aC();break}break;case Ba:u_(MA,IA+1,qA[0])?(iC(),IA++,aC()):u_(MA+1,0,qA[0])&&(iC(),MA++,IA=0,aC());break;case Ta:for(t=0;t<ou;t++)if(u_(MA-1,IA-t,qA[0])){iC(),MA--,IA-=t,aC();break}break;case Oa:for(t=0;t<ou;t++)if(u_(MA+1,IA-t,qA[0])){iC(),MA++,IA-=t,aC();break}break;case xa:case Sa:case Pa:case Ga:if(Y_(MA+"_"+IA,qA[0]))return;Br.Main_selectedChannel=document.getElementById(qA[4]+MA+"_"+IA).getAttribute(vu),Br.Main_selectedChannel_id=document.getElementById(qA[4]+MA+"_"+IA).getAttribute("data-id"),Br.Main_selectedChannelDisplayname=document.getElementById(qA[3]+MA+"_"+IA).textContent,Br.Main_selectedChannelLogo=document.getElementById(qA[1]+MA+"_"+IA).src,document.body.removeEventListener("keydown",oC),Br.Main_BeforeChannel=Cr,Br.Main_Go=br,Br.Main_BeforeChannelisSet=!0,js=Xa=!0,Ou(qA[6]),h_()}}var sC=0,dC=0,lC=!1,cC=0,rC={},uC=[],_C=!1,fC=0,mC=5,hC=3500,pC=0,vC=0,gC=!1,yC=["uh_thumbdiv","uh_img","uh_infodiv","uh_displayname","uh_hosttitle","uh_hostgame","uh_viwers","uh_quality","uh_cell","uhempty_","user_host_scroll"],bC=!1,wC="",kC=!1;function AC(){Br.Main_CenterLablesVectorPos=1,Br.Main_Go=hr,Bu("label_side_panel","icon-arrow-circle-left",I),Ru("top_bar_user","icon_center_focus"),Vu("top_bar_user",u+k_(Hi[Br.Users_Position].name+Q)),document.body.addEventListener("keydown",UC,!1),wC!==Hi[Br.Users_Position].name&&(bC=!1),bC?(P_(sC),Gu(yC[10]),OC(),v_()):EC()}function CC(){Br.Users_Position=0,Nu("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",UC),Du("top_bar_user",u),Bu("label_side_panel","icon-ellipsis",Rn),Ou(yC[10])}function EC(){M_("stream_table_user_host"),Ou(yC[10]),Ju(),e_(),wC=Hi[Br.Users_Position].name,bC=!1,rC={},wf=!(cC=vC=pC=0),sC=dC=0,lC=kC=!(uC=[]),Yu(),MC(),IC()}function MC(){S_(),_C=!0,fC=0,hC=3500}function IC(){var e=cC+pC;e&&vC-1<e&&(e=vC-Kr,lC=!0),Uf("https://api.twitch.tv/api/users/"+encodeURIComponent(Hi[Br.Users_Position].name)+"/followed/hosting?limit="+Kr+"&offset="+e,hC,2,null,xC,SC,!1,!cC)}function SC(){++fC<mC?(hC+=500,IC()):(_C=!1,cC?(lC=!0,PC()):(wf=!1,Hu(),$u(P),Af(UC)))}function xC(e){var t=JSON.parse(e),n=t.hosts.length;vC=parseInt(t._total),n<Kr&&(lC=!0);var a=cC;gC=!(cC+=n);var i=n/$r;0<n%$r&&i++;for(var o,s,d,l,c,r=0,u=document.getElementById("stream_table_user_host"),_=0;_<i;_++){for(s=a/$r+_,d=document.createElement("tr"),o=0;o<$r&&r<n;o++,r++)c=(l=t.hosts[r]).target._id+""+l._id,rC[c]?o--:(rC[c]=1,d.appendChild(R_(s,s+"_"+o,[l.target.channel.name,l.target._id],yC,[l.target.preview_urls.template.replace("{width}x{height}",mu),l.display_name+ne+l.target.channel.display_name,l.target.title,l.target.meta_game,h.charAt(1).toUpperCase()+h.slice(2)+l_(l.target.viewers)+F,""])));for(;o<$r;o++)lC&&!kC&&(kC=!0,cC=s*$r+o),d.appendChild(B_(yC[9]+s+"_"+o)),uC.push(yC[9]+s+"_"+o);u.appendChild(d)}PC()}function PC(){if(bC){if(I_(Ma),0<uC.length&&!lC)return MC(),void LC();OC(!0),uC=[]}else gC?($u(L+Q),Af(UC)):(bC=!0,OC(),I_(Ma),v_()),Gu(yC[10]),wf=!1,Hu();_C=!1}function LC(){Ku(uC.length);var e=cC+pC;e&&vC-1<e&&(e=vC-du,lC=!0),Gf("https://api.twitch.tv/api/users/"+encodeURIComponent(Hi[Br.Users_Position].name)+"/followed/hosting?limit="+du+"&offset="+e,hC,2,null,BC,TC)}function TC(){++fC<mC?(hC+=500,LC()):(lC=!0,cC-=uC.length,uC=[],PC())}function BC(e){var t,n,a=JSON.parse(e),i=a.streams.length,o=0,s=0,d=[];for(vC=parseInt(a._total),i<du&&(lC=!0);o<uC.length&&s<i;o++,s++)n=(t=a.hosts[s]).target._id+""+t._id,rC[n]?o--:(rC[n]=1,N_(uC[o],[t.target.channel.name,t.target._id],[t.target.preview_urls.template.replace("{width}x{height}",mu),t.display_name+ne+t.target.channel.display_name,t.target.title,t.target.meta_game,h.charAt(1).toUpperCase()+h.slice(2)+l_(t.target.viewers)+F,""],yC),d.push(o));for(o=d.length-1;-1<o;o--)uC.splice(d[o],1);pC+=s,lC&&(cC-=uC.length,uC=[]),PC()}function OC(e){j_(sC,dC,yC,$r,cC,e),cC/$r<sC+eu&&!lC&&!_C&&(MC(),IC()),Ur&&GC()}function GC(){cC&&nf(sC+"_"+dC,yC)}function UC(e){var t;if(!wf&&!z_())switch(q_(),e.keyCode){case Ua:d_()?s_():a_()?n_():(GC(),Af(UC));break;case La:if(u_(sC,dC-1,yC[0]))GC(),dC--,OC();else for(t=$r-1;-1<t;t--)if(u_(sC-1,t,yC[0])){GC(),sC--,dC=t,OC();break}break;case Ba:u_(sC,dC+1,yC[0])?(GC(),dC++,OC()):u_(sC+1,0,yC[0])&&(GC(),sC++,dC=0,OC());break;case Ta:for(t=0;t<$r;t++)if(u_(sC-1,dC-t,yC[0])){GC(),sC--,dC-=t,OC();break}break;case Oa:for(t=0;t<$r;t++)if(u_(sC+1,dC-t,yC[0])){GC(),sC++,dC-=t,OC();break}break;case xa:case Sa:case Pa:case Ga:Q_(sC+"_"+dC,yC,UC)}}var RC,NC=!1,VC=0,DC=3500,FC=0,JC=5,HC=0,qC=!1,zC="",XC=0,jC={},WC=!1,YC=[],QC=null,ZC=null,KC=["ulf_thumbdiv","ulf_img","ulf_infodiv","ulf_displayname","ulf_streamtitle","ulf_streamgame","ulf_viwers","ulf_quality","ulf_cell","ulempty_","user_live_scroll"];function $C(){oo()&&(vE(),WC?CE(Zm,KC[0])&&(QC=JSON.parse(document.getElementById(KC[8]+Zm).getAttribute(vu))[0]):QC=null,M_("user_feed_scroll"),WC=!1,document.getElementById("user_feed_scroll").style.left="2.5px",document.getElementById("user_feed").style.bottom="0.1%",Gu("dialog_loading_feed"),zC="",Zm=XC=HC=FC=0,jC={},YC=[],sf(function(){aE(),eE()}))}function eE(){(ZC=Hi[Br.Users_Position].access_token)?(ZC=_u+ZC,dE()):(aE(),ZC=null,iE())}function tE(e){for(var t,n=0;n<YC.length;n++)null!==(t=document.getElementById(YC[n].id))&&Mu(t,YC[n].src+Cu,e)}function nE(e,t){YC.push({id:e,src:t})}function aE(){NC=!0,VC=0,DC=3500}function iE(){Nf("https://api.twitch.tv/kraken/users/"+encodeURIComponent(Hi[Br.Users_Position].id)+"/follows/channels?limit=100&offset="+FC+"&sortby=created_at",DC,2,null,sE,oE,!1)}function oE(){++VC<JC?(DC+=500,iE()):(NC=!1,HC?(qC=!0,uE()):(Ou("dialog_loading_feed"),fE()&&(Wp(P),window.setTimeout(function(){Yp()},2e3))))}function sE(e){var t=JSON.parse(e).follows,n=t.length;if(n){for(var a="",i=0;i<n;i++)a=t[i].channel._id+",",-1===zC.indexOf(a)&&(zC+=a);FC+=n,aE(),iE()}else zC=zC.slice(0,-1),aE(),sf(dE)}function dE(){var e="https://api.twitch.tv/kraken/streams/";e+=ZC?"followed?":"?channel="+encodeURIComponent(zC)+"&",lE(e+="limit=100&offset=0&stream_type=all")}function lE(e){var t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=DC,t.setRequestHeader(cu,lu),t.setRequestHeader(ru,fu),ZC&&t.setRequestHeader(uu,ZC),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?rE(t.responseText):!ZC||401!==t.status&&403!==t.status?cE():ei(Br.Users_Position,0,eE,eE))},t.send(null)}function cE(){++VC<JC?(DC+=500,dE()):(NC=!1,Ou("dialog_loading_feed"),fE()&&(Wp(P),window.setTimeout(function(){Yp()},2e3)))}function rE(e){var t=JSON.parse(e),n=t.streams.length;n<Kr&&(qC=!0),HC+=n;for(var a,i,o=document.getElementById("user_feed_scroll"),s=0;s<n;s++)i=(a=t.streams[s]).channel._id,jC[i]||(jC[i]=1,null!==QC&&QC===a.channel.name&&(Zm=s),o.appendChild(_E(s,[a.channel.name,i],KC,[a.preview.template.replace("{width}x{height}",mu),r_(JSON.stringify(a.stream_type))+a.channel.display_name,a.channel.status,a.game,y+Vp(a.created_at)+" "+h+l_(a.viewers)+F,c_(a.video_height,a.average_fps,a.channel.broadcaster_language)])));uE()}function uE(){WC=!(NC=!1),tE(Ma),sf(function(){Ou("dialog_loading_feed"),bE()})}function _E(e,t,n,a){return nE(n[1]+e,a[0]),(Jr=document.createElement("div")).setAttribute("id",n[8]+e),Jr.setAttribute(vu,JSON.stringify(t)),Jr.className="user_feed_thumb",Jr.innerHTML='<div id="'+n[0]+e+'" class="stream_thumbnail_clip" ><div><img id="'+n[1]+e+'" class="stream_img"></div><div id="'+n[2]+e+'" class="stream_text2"><div id="'+n[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;">'+a[1]+'</div><div id="'+n[5]+e+'"class="stream_info">'+v+a[3]+"</div></div></div>",Jr}function fE(){return Uu("user_feed")}function mE(){var e=oo();e&&(Qm!==Hi[Br.Users_Position].name&&(WC=!1),Qm=Hi[Br.Users_Position].name),e&&CE(0,KC[0])||(WC=!1),WC||NC||$C(),e&&(document.getElementById("user_feed").style.bottom="0.1%",Gu("user_feed"),bE())}function hE(){Ou("user_feed")}function pE(){vE(),gE()}function vE(){window.clearTimeout(RC)}function gE(){fE()&&(RC=window.setTimeout(hE,5500))}function yE(){vE(),NC?window.setTimeout(function(){NC=!1},15e3):$C()}function bE(){pE(),CE(Zm,KC[0])&&(Ru(KC[0]+Zm,"feed_thumbnail_focused"),fE()?kE():Uu("scene2")&&AE())}function wE(){return Zm<3?2.5:CE(Zm+2,KC[0])?-1*document.getElementById(KC[8]+(Zm-2)).offsetLeft:CE(Zm+1,KC[0])?-1*document.getElementById(KC[8]+(Zm-3)).offsetLeft:-1*document.getElementById(KC[8]+(Zm-(3<Zm?4:3))).offsetLeft}function kE(){var e=wE();e&&(document.getElementById("user_feed_scroll").style.left=e+"px")}function AE(){document.getElementById("user_feed").style.bottom="-1000%",Gu("user_feed");var e=kE();e&&(document.getElementById("user_feed_scroll").style.left=e+"px"),document.getElementById("user_feed").style.bottom="0.1%",Ou("user_feed")}function CE(e,t){return null!==document.getElementById(t+e)}function EE(){CE(Zm,KC[0])&&Nu(KC[0]+Zm,"feed_thumbnail_focused")}var ME=0,IE=0,SE=!1,xE=0,PE={},LE=[],TE=!1,BE=0,OE=5,GE=3500,UE=0,RE=0,NE=0,VE=!1,DE=["ul_thumbdiv","ul_img","ul_infodiv","ul_displayname","ul_streamtitle","ul_streamgame","ul_viwers","ul_quality","ul_cell","ulempty_","user_live_scroll"],FE=!1,JE="",HE="",qE=!1,zE=null;function XE(){Br.Main_CenterLablesVectorPos=1,Br.Main_Go=mr,Bu("label_side_panel","icon-arrow-circle-left",I),Ru("top_bar_user","icon_center_focus"),Vu("top_bar_user",u+k_(Hi[Br.Users_Position].name+Y)),document.body.addEventListener("keydown",rM,!1),HE!==Hi[Br.Users_Position].name&&(FE=!1),FE?(P_(ME),Gu(DE[10]),lM(),v_()):WE()}function jE(){Br.Users_Position=0,Nu("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",rM),Du("top_bar_user",u),Bu("label_side_panel","icon-ellipsis",Rn),Ou(DE[10])}function WE(){M_("stream_table_user_live"),Ou(DE[10]),Ju(),e_(),FE=!1,HE=Hi[Br.Users_Position].name,wf=!(qE=!(LE=[])),ME=IE=xE=RE=UE=NE=0,SE=!(PE={}),JE="",Yu(),QE(),YE()}function YE(){(zE=Hi[Br.Users_Position].access_token)?(zE=_u+zE,eM()):(zE=null,QE(),ZE())}function QE(){S_(),TE=!0,BE=0,GE=3500}function ZE(){Gf("https://api.twitch.tv/kraken/users/"+encodeURIComponent(Hi[Br.Users_Position].id)+"/follows/channels?limit=100&offset="+NE+"&sortby=created_at",GE,2,null,$E,KE)}function KE(){++BE<OE?(GE+=500,ZE()):(TE=!1,xE?(SE=!0,iM()):(wf=!1,Hu(),$u(P),Af(rM)))}function $E(e){var t=JSON.parse(e).follows,n=t.length;if(n){for(var a="",i=0;i<n;i++)a=t[i].channel._id+",",-1===JE.indexOf(a)&&(JE+=a);NE+=n,QE(),ZE()}else JE=JE.slice(0,-1),QE(),eM()}function eM(){var e=xE+UE;e&&RE-1<e&&(e=RE-Kr,SE=!0);var t="https://api.twitch.tv/kraken/streams/";t+=zE?"followed?":"?channel="+encodeURIComponent(JE)+"&",tM(t+="limit="+Kr+"&offset="+e+"&stream_type=all",aM,nM,YE)}function tM(e,t,n,a){var i;if(Au&&!xE){if(!(i=Android.mreadUrl(e,GE,zE?3:2,zE)))return void lI();200===(i=JSON.parse(i)).status?t(i.responseText):!zE||401!==i.status&&403!==i.status?n():ei(Br.Users_Position,0,a,a)}else(i=new XMLHttpRequest).open("GET",e,!0),i.timeout=GE,i.setRequestHeader(cu,lu),i.setRequestHeader(ru,fu),zE&&i.setRequestHeader(uu,zE),i.ontimeout=function(){},i.onreadystatechange=function(){4===i.readyState&&(200===i.status?t(i.responseText):!zE||401!==i.status&&403!==i.status?n():ei(Br.Users_Position,0,a,a))},i.send(null)}function nM(){++BE<OE?(GE+=500,eM()):(TE=!1,xE?(SE=!0,iM()):(wf=!1,Hu(),$u(P),Af(rM)))}function aM(e){var t=JSON.parse(e),n=t.streams.length;RE=parseInt(t._total),n<Kr&&(SE=!0);var a=xE;VE=!(xE+=n);var i=n/$r;0<n%$r&&i++;for(var o,s,d,l,c,r=0,u=document.getElementById("stream_table_user_live"),_=0;_<i;_++){for(s=a/$r+_,d=document.createElement("tr"),o=0;o<$r&&r<n;o++,r++)c=(l=t.streams[r]).channel._id,PE[c]?o--:(PE[c]=1,d.appendChild(R_(s,s+"_"+o,[l.channel.name,c],DE,[l.preview.template.replace("{width}x{height}",mu),r_(JSON.stringify(l.stream_type))+l.channel.display_name,l.channel.status,l.game,y+Vp(l.created_at)+" "+h+l_(l.viewers)+F,c_(l.video_height,l.average_fps,l.channel.broadcaster_language)])));for(;o<$r;o++)SE&&!qE&&(qE=!0,xE=s*$r+o),d.appendChild(B_(DE[9]+s+"_"+o)),LE.push(DE[9]+s+"_"+o);u.appendChild(d)}iM()}function iM(){if(FE){if(I_(Ma),0<LE.length&&!SE)return QE(),void oM();lM(!0),LE=[]}else VE?(Af(rM),$u(L+Y)):(FE=!0,lM(),I_(Ma),v_()),Gu(DE[10]),wf=!1,Hu();TE=!1}function oM(){Ku(LE.length);var e=xE+UE;e&&RE-1<e&&(e=RE-du,SE=!0);var t="https://api.twitch.tv/kraken/streams/";t+=zE?"followed?":"?channel="+encodeURIComponent(JE)+"&",tM(t+="followed?limit=limit="+du+"&offset="+e+"&stream_type=all",dM,sM,oM)}function sM(){++BE<OE?(GE+=500,oM()):(SE=!0,xE-=LE.length,LE=[],iM())}function dM(e){var t,n,a=JSON.parse(e),i=a.streams.length,o=0,s=0,d=[];for(RE=parseInt(a._total),i<du&&(SE=!0);o<LE.length&&s<i;o++,s++)n=(t=a.streams[s]).channel._id,PE[n]?o--:(PE[n]=1,N_(LE[o],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",mu),r_(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+Vp(t.created_at)+" "+h+l_(t.viewers)+F,c_(t.video_height,t.average_fps,t.channel.broadcaster_language)],DE),d.push(o));for(o=d.length-1;-1<o;o--)LE.splice(d[o],1);UE+=s,SE&&(xE-=LE.length,LE=[]),iM()}function lM(e){j_(ME,IE,DE,$r,xE,e),xE/$r<ME+eu&&!SE&&!TE&&(QE(),ZE()),Ur&&cM()}function cM(){xE&&nf(ME+"_"+IE,DE)}function rM(e){var t;if(!wf&&!z_())switch(q_(),e.keyCode){case Ua:d_()?s_():a_()?n_():(cM(),Af(rM));break;case La:if(u_(ME,IE-1,DE[0]))cM(),IE--,lM();else for(t=$r-1;-1<t;t--)if(u_(ME-1,t,DE[0])){cM(),ME--,IE=t,lM();break}break;case Ba:u_(ME,IE+1,DE[0])?(cM(),IE++,lM()):u_(ME+1,0,DE[0])&&(cM(),ME++,IE=0,lM());break;case Ta:for(t=0;t<$r;t++)if(u_(ME-1,IE-t,DE[0])){cM(),ME--,IE-=t,lM();break}break;case Oa:for(t=0;t<$r;t++)if(u_(ME+1,IE-t,DE[0])){cM(),ME++,IE-=t,lM();break}break;case xa:case Sa:case Pa:case Ga:Q_(ME+"_"+IE,DE,rM)}}var uM=0,_M=0,fM=8,mM=0,hM=null,pM=["u_thumbdiv","u_img","u_infodiv","u_displayname","u_cell","user_scroll"],vM=!1,gM=!0;function yM(){return Nr?(bM(),void $a(Nr)):_o()?(Br.Main_CenterLablesVectorPos=1,Br.Main_Go=Ar,document.getElementById("screens_holder").style.top=screen.height/100*7+"px",e_(),Ru("top_bar_user","icon_center_focus"),document.body.addEventListener("keydown",GM,!1),void(vM?(P_(uM),Gu(pM[5]),MM(),v_()):wM())):(Br.Main_Go=rr,bM(),void h_())}function bM(){Br.Users_Position=0,Nu("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",GM),Ou(pM[5]),document.getElementById("screens_holder").style.top="0"}function wM(){M_("stream_table_user"),Ou(pM[5]),Ju(),e_(),wf=!(vM=!1),gM=!(uM=_M=0),sf(function(){kM()})}function kM(){for(var e,t,n,a=document.createElement("tbody"),i=document.getElementById("stream_table_user"),o=0;o<Hi.length;o++)t=0,n=o%2?"B5B5B5":"FFFFFF",(Jr=document.createElement("tr")).className="follower_header",Jr.innerHTML='<div class="follower_header">'+(o?"":oe)+Hi[o].name+R+"</div>",i.appendChild(a),i.appendChild(Jr),(e=document.createElement("tr")).appendChild(AM(o+"_"+t,Br.Main_selectedChannelDisplayname,Y,"play",n)),t++,e.appendChild(AM(o+"_"+t,Br.Main_selectedChannelDisplayname,Q,"users",n)),t++,e.appendChild(AM(o+"_"+t,Br.Main_selectedChannelDisplayname,bb.isLive?Z:zt,"gamepad",n)),t++,e.appendChild(AM(o+"_"+t,Br.Main_selectedChannelDisplayname,Kt,"movie-play",n)),t++,e.appendChild(AM(o+"_"+t,Br.Main_selectedChannelDisplayname,K,"filmstrip",n)),t++,o?e.appendChild(AM(o+"_"+t,Br.Main_selectedChannelDisplayname,ie,"arrow-up",n)):e.appendChild(AM(o+"_"+t,Br.Main_selectedChannelDisplayname,$,"user-plus",n)),t++,e.appendChild(AM(o+"_"+t,Br.Main_selectedChannelDisplayname,ee,"user-times",n)),t++,e.appendChild(AM(o+"_"+t,Br.Main_selectedChannelDisplayname,Hi[o].access_token?wt:bt,"key",n)),i.appendChild(e);CM()}function AM(e,t,n,a,i){return(Jr=document.createElement("td")).setAttribute("id",pM[4]+e),Jr.setAttribute(vu,t),Jr.className="stream_cell",Jr.innerHTML='<div id="'+pM[0]+e+'" class="stream_thumbnail_channel" ><div id="'+pM[1]+e+'" class="stream_user_icon" style="color: #'+i+';"><i class="icon-'+a+'"></i></div></div><div id="'+pM[2]+e+'" class="stream_text"><div id="'+pM[3]+e+'" class="stream_channel" style="text-align: center;">'+n+"</div></div>",Jr}function CM(){sf(function(){vM||(vM=!0,MM(),Hu(),v_()),Gu(pM[5]),gM=wf=!1})}function EM(){for(var e=0;e<Hi.length;e++)Du(pM[3]+e+"_2",bb.isLive?Z:zt)}function MM(){Ru(pM[0]+uM+"_"+_M,"stream_thumbnail_focused"),L_(uM)?1<uM?u_(uM+1,0,pM[0])&&tf(pM[5],-1*document.getElementById(pM[4]+uM+"_"+_M).offsetTop+500):tf(pM[5],screen.height/100*7):J_(),Ur&&IM()}function IM(){Gr=!1,Nu(pM[0]+uM+"_"+_M,"stream_thumbnail_focused")}function SM(){return Br.Users_Position=uM,3!==_M||Hi[Br.Users_Position].access_token?7===_M&&Hi[Br.Users_Position].access_token?($u(wt),void window.setTimeout(e_,1500)):(6!==_M&&7!==_M&&(Ou(pM[5]),document.body.removeEventListener("keydown",GM),document.getElementById("screens_holder").style.top="0"),void sf(function(){_M?1===_M?AC():2===_M?(qy=bb,Yy()):3===_M?nI():4===_M?zA():5===_M?uM?ro(uM):(Br.Main_Before=Ar,ji()):6===_M?LM():7!==_M||Hi[Br.Users_Position].access_token||LM():XE()})):($u(In),void window.setTimeout(e_,5e3))}function xM(){window.clearTimeout(hM)}function PM(){hM=window.setTimeout(TM,2e4)}function LM(){PM(),6===_M?Vu("main_dialog_remove",Ht+da+Hi[Br.Users_Position].name+"?"):7===_M&&Vu("main_dialog_remove",ft+" "+Hi[Br.Users_Position].name+"?"),Gu("main_remove_dialog")}function TM(){xM(),Ou("main_remove_dialog"),mM=0,OM()}function BM(){return Uu("main_remove_dialog")}function OM(){mM?(Nu("remove_cancel","button_search_focused"),Ru("remove_yes","button_search_focused")):(Ru("remove_cancel","button_search_focused"),Nu("remove_yes","button_search_focused"))}function GM(e){var t;if(!wf&&!z_())switch(q_(),e.keyCode){case Ua:BM()?TM():a_()?n_():d_()?s_():(IM(),Af(GM));break;case La:if(BM())--mM<0&&(mM=1),OM(),xM(),PM();else if(u_(uM,_M-1,pM[0]))IM(),_M--,MM();else if(u_(uM-1,0,pM[0])){for(t=fM-1;-1<t;t--)if(u_(uM-1,t,pM[0])){IM(),uM--,_M=t,MM();break}}else IM(),_M=fM-1,MM();break;case Ba:BM()?(1<++mM&&(mM=0),OM(),xM(),PM()):(u_(uM,_M+1,pM[0])?(IM(),_M++):(u_(uM+1,0,pM[0])?(IM(),uM++):IM(),_M=0),MM());break;case Ta:for(t=0;t<fM;t++)if(u_(uM-1,_M-t,pM[0])){IM(),uM--,_M-=t,MM();break}break;case Oa:for(t=0;t<fM;t++)if(u_(uM+1,_M-t,pM[0])){IM(),uM++,_M-=t,MM();break}break;case xa:case Sa:case Pa:case Ga:var n;if(BM()){if(6===_M)n=mM,TM(),n&&(document.body.removeEventListener("keydown",GM),bM(),lo(uM));else if(n=mM,TM(),n){Br.Users_AddcodePosition=Br.Users_Position,v_();var a=Qa,i="https://id.twitch.tv/oauth2/authorize?response_type=code&client_id="+encodeURIComponent(lu)+"&redirect_uri="+a+"&scope=user_read+user_follows_edit+user_subscriptions&force_verify=true";window.location=i}}else SM()}}var UM=0,RM=0,NM=!1,VM=0,DM={},FM=[],JM=!1,HM=0,qM=5,zM=3500,XM=0,jM=0,WM=!1,YM=!1,QM="time",ZM=2,KM=!1,$M=["uv_thumbdiv","uv_img","uv_infodiv","uv_title","uv_streamon","uv_duration","uv_viwers","uv_quality","uv_cell","uvempty_","user_vod_scroll","uv_game"],eI=!1,tI=!1;function nI(){Br.Main_CenterLablesVectorPos=1,Br.Main_Go=Lr,Ru("top_bar_user","icon_center_focus"),Bu("label_side_panel","icon-arrow-circle-left",I),Vu("top_bar_user",u+k_(Hi[Br.Users_Position].name+(tI?G:O))),document.body.addEventListener("keydown",bI,!1),eI?(P_(UM),Gu($M[10]),wI(),pI(),v_()):iI()}function aI(){Br.Users_Position=0,eI&&vI(),Nu("top_bar_user","icon_center_focus"),Bu("label_side_panel","icon-ellipsis",Rn),document.body.removeEventListener("keydown",bI),Du("top_bar_user",u),Ou($M[10])}function iI(){eI&&vI(),M_("stream_table_user_vod"),Ou($M[10]),Ju(),wI(),e_(),KM=eI=!1,wf=!(YM=!(FM=[])),UM=RM=VM=jM=XM=0,NM=!(DM={}),Yu(),sI()}function oI(){S_(),JM=!0,HM=0,zM=3500}function sI(){oI(),dI()}function dI(){var e=VM+XM;e&&jM-1<e&&(e=jM-Kr,NM=!0);var t,n="https://api.twitch.tv/kraken/videos/followed?limit="+Kr+"&broadcast_type="+(tI?"highlight":"archive")+"&sort="+QM+"&offset="+e;if(Au&&!VM){if(!(t=Android.mreadUrl(n,zM,3,_u+Hi[Br.Users_Position].access_token)))return void lI();if(200===(t=JSON.parse(t)).status)return void rI(t.responseText);401===t.status||403===t.status?ei(Br.Users_Position,0,sI,cI):lI()}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=zM,t.setRequestHeader(ru,fu),t.setRequestHeader(cu,lu),t.setRequestHeader(uu,_u+Hi[Br.Users_Position].access_token),t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void rI(t.responseText);401===t.status||403===t.status?ei(Br.Users_Position,0,sI,cI):lI()}},t.send(null)}function lI(){++HM<qM?(zM+=500,dI()):cI()}function cI(){JM=!1,VM?(NM=!0,uI()):(wf=!1,Hu(),$u(P),Af(UC),Hi[Br.Users_Position].access_token||(aI(),Br.Main_Go=Ar,aI(),Cf(),p_()))}function rI(e){var t=JSON.parse(e),n=t.videos.length;jM=parseInt(t._total),n<Kr&&(NM=!0);var a=VM;WM=!(VM+=n);var i=n/$r;0<n%$r&&i++;var o,s,d,l,c,r=0,u=document.getElementById("stream_table_user_vod");if(!KM){var _;for(KM=!0,d=document.createElement("tr"),f=0;f<2;f++)_=f?'<i class="icon-history stream_channel_fallow_icon"></i>'+wa+wa+Sn:'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+wa+wa+p,(Jr=document.createElement("td")).setAttribute("id",$M[8]+"y_"+f),Jr.className="stream_cell",Jr.innerHTML='<div id="'+$M[0]+"y_"+f+'" class="stream_thumbnail_channel_vod" ><div id="'+$M[3]+"y_"+f+'" class="stream_channel_fallow_game">'+_+"</div></div>",d.appendChild(Jr);d.appendChild(document.createElement("tr")),u.appendChild(d)}for(var f=0;f<i;f++){for(s=a/$r+f,d=document.createElement("tr"),o=0;o<$r&&r<n;o++,r++)c=(l=t.videos[r])._id,-1!==(l.preview.template+"").indexOf("404_processing")||DM[c]?o--:(DM[c]=1,d.appendChild(KI(s,s+"_"+o,[c,l.length,l.channel.broadcaster_language,l.game,l.channel.name,l.increment_view_count_url],[l.preview.template.replace("{width}x{height}",mu),l.channel.display_name,N+A_(l.created_at),wS.parse(l.title)+da+Qt+v+l.game,l_(l.views)+D,c_(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.channel.broadcaster_language),V+Rp(l.length),l.animated_preview_url],$M)));for(;o<$r;o++)NM&&!YM&&(YM=!0,VM=s*$r+o),d.appendChild(B_($M[9]+s+"_"+o)),FM.push($M[9]+s+"_"+o);u.appendChild(d)}uI()}function uI(){eI?(I_(Ma),pI(!0)):(WM?($u(L+(tI?G:O)+T+M),Af(bI)):(eI=!0,pI(),I_(Ma),v_()),Gu($M[10]),wf=!1,Hu()),0<FM.length&&!NM?_I():JM=!(FM=[])}function _I(){oI(),fI()}function fI(){Ku(FM.length);var e=VM+XM;e&&jM-1<e&&(e=jM-du,NM=!0);var t,n="https://api.twitch.tv/kraken/videos/followed?limit="+du+"&broadcast_type="+(tI?"highlight":"archive")+"&sort="+QM+"&offset="+e;if(Au){if(!(t=Android.mreadUrl(n,zM,3,_u+Hi[Br.Users_Position].access_token)))return void mI();if(200===(t=JSON.parse(t)).status)return void hI(t.responseText);401===t.status||403===t.status?ei(Br.Users_Position,0,sI,cI):mI()}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=zM,t.setRequestHeader(ru,fu),t.setRequestHeader(cu,lu),t.setRequestHeader(uu,_u+Hi[Br.Users_Position].access_token),t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void hI(t.responseText);401===t.status||403===t.status?ei(Br.Users_Position,0,sI,cI):mI()}},t.send(null)}function mI(){++HM<qM?(zM+=500,fI()):(NM=!0,VM-=FM.length,FM=[],uI())}function hI(e){var t,n,a=JSON.parse(e),i=a.videos.length,o=0,s=0,d=[];for(jM=parseInt(a._total);o<FM.length&&s<i;o++,s++)n=(t=a.videos[s])._id,-1!==(t.preview.template+"").indexOf("404_processing")||DM[n]?o--:(DM[n]=1,eS(FM[o],[n,t.length,t.channel.broadcaster_language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",mu),t.channel.display_name,N+A_(t.created_at),wS.parse(t.title)+da+Qt+v+t.game,l_(t.views)+D,c_(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.channel.broadcaster_language),V+Rp(t.length),t.animated_preview_url],$M),d.push(o));for(o=d.length-1;-1<o;o--)FM.splice(d[o],1);XM+=s,NM&&(VM-=FM.length,FM=[]),uI()}function pI(e){UM<0?gI():(j_(UM,RM,$M,$r,VM,e),rS($M,UM+"_"+RM),VM/$r<UM+eu&&!NM&&!JM&&sI(),Ur&&vI())}function vI(){window.clearInterval(kI),-1<UM&&VM?(Gu($M[1]+UM+"_"+RM),nf(UM+"_"+RM,$M)):yI()}function gI(){var e=1<RM?1:RM;Ru($M[0]+"y_"+e,pu)}function yI(){var e=1<RM?1:RM;Nu($M[0]+"y_"+e,pu)}function bI(e){var t;if(!wf&&!z_())switch(q_(),e.keyCode){case Ua:a_()?n_():a_()?n_():d_()?s_():(vI(),Af(bI));break;case La:if(-1===UM)yI(),--RM<0&&(RM=1),gI();else if(UM||RM){if(u_(UM,RM-1,$M[0]))vI(),RM--,pI();else for(t=$r-1;-1<t;t--)if(u_(UM-1,t,$M[0])){vI(),UM--,RM=t,pI();break}}else vI(),yI(),UM=-1,RM=1,gI();break;case Ba:-1===UM?(yI(),1<++RM?(RM=0,WM?gI():(UM=0,pI())):gI()):u_(UM,RM+1,$M[0])?(vI(),RM++,pI()):u_(UM+1,0,$M[0])&&(vI(),UM++,RM=0,pI());break;case Ta:if(-1!==UM||WM)if(UM){for(t=0;t<$r;t++)if(u_(UM-1,RM-t,$M[0])){vI(),UM--,RM-=t,pI();break}}else vI(),UM=-1,gI();else UM=0,yI(),pI();break;case Oa:if(-1!==UM||WM){for(t=0;t<$r;t++)if(u_(UM+1,RM-t,$M[0])){vI(),UM++,RM-=t,pI();break}}else UM=0,yI(),pI();break;case xa:case Sa:case Pa:case Ga:-1===UM?(0===RM?xf("UserVod_highlight",(tI=!tI)?"true":"false"):1===ZM?ZM++:ZM--,iI()):$_(UM+"_"+RM,$M,bI)}}function wI(){1===ZM?(Vu("top_bar_user",u+k_(Hi[Br.Users_Position].name+" "+(tI?G:O)+En)),QM="time"):2===ZM&&(Vu("top_bar_user",u+k_(Hi[Br.Users_Position].name+" "+(tI?G:O)+Mn)),QM="views"),xf("UserVod_TypeNumber",ZM)}var kI,AI=0,CI=0,EI=!1,MI=0,II={},SI=[],xI=!1,PI=0,LI=5,TI=3500,BI=0,OI=0,GI=!1,UI=!1,RI="week",NI=2,VI=!1,DI=["v_thumbdiv","v_img","v_infodiv","v_title","v_streamon","v_duration","v_viwers","v_quality","v_cell","vempty_","vod_scroll","v_game"],FI=!1,JI=!1,HI=1,qI=new Image;function zI(){Br.Main_CenterLablesVectorPos=4,Br.Main_Go=Mr,Ru("top_bar_vod","icon_center_focus"),document.body.addEventListener("keydown",uS,!1),FI?(P_(AI),Gu(DI[10]),_S(),sS(),v_()):jI()}function XI(){FI&&dS(),b_(),document.body.removeEventListener("keydown",uS),Nu("top_bar_vod","icon_center_focus"),Du("top_bar_vod",Kt),Ou(DI[10])}function jI(){FI&&dS(),M_("stream_table_vod"),Ou(DI[10]),Ju(),_S(),e_(),VI=FI=!1,wf=!(UI=!(SI=[])),AI=CI=MI=OI=BI=0,EI=!(II={}),Yu(),WI(),YI()}function WI(){S_(),xI=!0,PI=0,TI=3500}function YI(){var e=MI+BI;e&&OI-1<e&&(e=OI-Kr,EI=!0);var t="https://api.twitch.tv/kraken/videos/top?limit="+Kr+"&broadcast_type="+(JI?"highlight":"archive")+"&sort=views&offset="+e+"&period="+RI+(""!==qr?"&language="+qr:"");Au&&!MI?Rf(t,TI,2,null,ZI,QI):Nf(t,TI,2,null,ZI,QI,!1)}function QI(){++PI<LI?(TI+=500,YI()):(xI=!1,MI?(EI=!0,nS()):(wf=!1,Hu(),$u(P)))}function ZI(e){var t=JSON.parse(e),n=t.vods.length;OI=parseInt(t._total),n<Kr&&(EI=!0);var a=MI;GI=!(MI+=n);var i=n/$r;0<n%$r&&i++;var o,s,d,l,c,r=0,u=document.getElementById("stream_table_vod");if(!VI){var _;for(VI=!0,d=document.createElement("tr"),f=0;f<2;f++)_=f?'<i class="icon-history stream_channel_fallow_icon"></i>'+wa+wa+m:'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+wa+wa+p,(Jr=document.createElement("td")).setAttribute("id",DI[8]+"y_"+f),Jr.className="stream_cell",Jr.innerHTML='<div id="'+DI[0]+"y_"+f+'" class="stream_thumbnail_channel_vod" ><div id="'+DI[3]+"y_"+f+'" class="stream_channel_fallow_game">'+_+"</div></div>",d.appendChild(Jr);d.appendChild(document.createElement("tr")),u.appendChild(d)}for(var f=0;f<i;f++){for(s=a/$r+f,d=document.createElement("tr"),o=0;o<$r&&r<n;o++,r++)c=(l=t.vods[r])._id,-1!==(l.preview.template+"").indexOf("404_processing")||II[c]?o--:(II[c]=1,d.appendChild(KI(s,s+"_"+o,[c,l.length,l.channel.broadcaster_language,l.game,l.channel.name,l.increment_view_count_url],[l.preview.template.replace("{width}x{height}",mu),l.channel.display_name,N+A_(l.created_at),wS.parse(l.title)+da+Qt+v+l.game,l_(l.views)+D,c_(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.channel.broadcaster_language),V+Rp(l.length),l.animated_preview_url],DI)));for(;o<$r;o++)EI&&!UI&&(UI=!0,MI=s*$r+o),d.appendChild(B_(DI[9]+s+"_"+o)),SI.push(DI[9]+s+"_"+o);u.appendChild(d)}nS()}function KI(e,t,n,a,i){return e<$r&&T_(a[0]),$I(n,t,a,i)}function $I(e,t,n,a){return(Jr=document.createElement("td")).setAttribute("id",a[8]+t),Jr.setAttribute(vu,JSON.stringify(e)),Jr.className="stream_cell",Jr.innerHTML=tS(t,n,a),Jr}function eS(e,t,n,a){var i=document.getElementById(e),o=e.split(a[9])[1];i.setAttribute(vu,JSON.stringify(t)),i.innerHTML=tS(o,n,a),i.setAttribute("id",a[8]+o)}function tS(e,t,n){return x_(n[1]+e,t[0]),'<div id="'+n[0]+e+'" class="stream_thumbnail_clip"'+(t[7]?' style="background-size: 0 0; background-image: url('+t[7]+');"':"")+'><div><img id="'+n[1]+e+'" class="stream_img"></div><div id="'+n[2]+e+'" class="stream_text2"><div style="line-height: 14px;"><div id="'+n[3]+e+'" class="stream_channel" style="width: 72%; display: inline-block; font-size: 85%;">'+t[1]+'</div><div id="'+n[7]+e+'"class="stream_info" style="width:27%; float: right; text-align: right; display: inline-block;">'+t[5]+'</div></div><div id="'+n[11]+e+'"class="stream_info">'+t[3]+'</div><div id="'+n[6]+e+'"class="stream_info">'+t[4]+'</div><div style="line-height: 12px;"><div id="'+n[4]+e+'"class="stream_info" style="width: 59%; display: inline-block;">'+t[2]+'</div><div id="'+n[5]+e+'"class="stream_info" style="width: 39%; display: inline-block; float: right; text-align: right;">'+t[6]+"</div></div></div></div>"}function nS(){if(FI?(I_(Ma),sS(!0)):(GI?$u(L+(JI?G:O)+T+M):(FI=!0,sS(),I_(Ma),v_()),Gu(DI[10]),wf=!1,Hu()),0<SI.length&&!EI)return WI(),void aS();xI=!(SI=[])}function aS(){Ku(SI.length);var e=MI+BI;e&&OI-1<e&&(e=OI-du,EI=!0),Gf("https://api.twitch.tv/kraken/videos/top?limit="+du+"&broadcast_type="+(JI?"highlight":"archive")+"&sort=views&offset="+e+"&period="+RI+(""!==qr?"&language="+qr:""),TI,2,null,oS,iS)}function iS(){++PI<LI?(TI+=500,aS()):(EI=!0,MI-=SI.length,SI=[],nS())}function oS(e){var t,n,a=JSON.parse(e),i=a.vods.length,o=0,s=0,d=[];for(OI=parseInt(a._total);o<SI.length&&s<i;o++,s++)n=(t=a.vods[s])._id,-1!==(t.preview.template+"").indexOf("404_processing")||II[n]?o--:(II[n]=1,eS(SI[o],[n,t.length,t.channel.broadcaster_language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",mu),t.channel.display_name,N+A_(t.created_at),wS.parse(t.title)+da+Qt+v+t.game,l_(t.views)+D,c_(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.channel.broadcaster_language),V+Rp(t.length),t.animated_preview_url],DI),d.push(o));for(o=d.length-1;-1<o;o--)SI.splice(d[o],1);BI+=s,EI&&(MI-=SI.length,SI=[]),nS()}function sS(e){AI<0?lS():(j_(AI,CI,DI,$r,MI,e),rS(DI,AI+"_"+CI),MI/$r<AI+eu&&!EI&&!xI&&(WI(),YI()),Ur&&dS())}function dS(){window.clearInterval(kI),-1<AI&&MI?(Gu(DI[1]+AI+"_"+CI),nf(AI+"_"+CI,DI)):cS()}function lS(){var e=1<CI?1:CI;Ru(DI[0]+"y_"+e,pu)}function cS(){var e=1<CI?1:CI;Nu(DI[0]+"y_"+e,pu)}function rS(t,n){if(HI){var a=document.getElementById(t[0]+n);qI.onload=function(){Ou(t[1]+n),a.style.backgroundSize="612px";var e=0;kI=window.setInterval(function(){a.style.backgroundPosition="0px "+ ++e%10*-344+"px"},650)},qI.src=a.style.backgroundImage.replace(/url\(['"]?(.*?)['"]?\)/i,"$1")}}function uS(e){var t;if(!wf&&!z_())switch(q_(),e.keyCode){case Ua:d_()?s_():a_()?n_():(dS(),Af(uS));break;case La:if(-1===AI)cS(),--CI<0&&(CI=1),lS();else if(AI||CI){if(u_(AI,CI-1,DI[0]))dS(),CI--,sS();else for(t=$r-1;-1<t;t--)if(u_(AI-1,t,DI[0])){dS(),AI--,CI=t,sS();break}}else dS(),cS(),AI=-1,CI=1,lS();break;case Ba:-1===AI?(cS(),1<++CI?(CI=0,GI?lS():(AI=0,sS())):lS()):u_(AI,CI+1,DI[0])?(dS(),CI++,sS()):u_(AI+1,0,DI[0])&&(dS(),AI++,CI=0,sS());break;case Ta:if(-1!==AI||GI)if(AI){for(t=0;t<$r;t++)if(u_(AI-1,CI-t,DI[0])){dS(),AI--,CI-=t,sS();break}}else dS(),AI=-1,lS();else AI=0,cS(),sS();break;case Oa:if(-1!==AI||GI){for(t=0;t<$r;t++)if(u_(AI+1,CI-t,DI[0])){dS(),AI++,CI-=t,sS();break}}else AI=0,cS(),sS();break;case xa:case Sa:case Pa:case Ga:-1===AI?(0===CI?xf("Vod_highlight",(JI=!JI)?"true":"false"):4<++NI&&(NI=1),jI()):$_(AI+"_"+CI,DI,uS)}}function _S(){1===NI?(Vu("top_bar_vod",Kt+k_((JI?G:O)+de)),RI="day"):2===NI?(Vu("top_bar_vod",Kt+k_((JI?G:O)+le)),RI="week"):3===NI?(Vu("top_bar_vod",Kt+k_((JI?G:O)+ce)),RI="month"):4===NI&&(Vu("top_bar_vod",Kt+k_((JI?G:O)+re)),RI="all"),xf("vod_periodNumber",NI)}function fS(e,t){return e.replace(t.code,mS(t))}function mS(e){return'<img class="emoticon" src="'+e["3x"]+'"/>'}function hS(e){return'<img class="emoticon" src="https://static-cdn.jtvnw.net/emoticons/v1/'+e+'/3.0"/>'}function pS(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;")}function vS(e){for(var t=e.split(" "),n=0;n<t.length;n++){var a=(e=t[n]).replace(/(^[~!@#$%\^&\*\(\)]+|[~!@#$%\^&\*\(\)]+$)/g,""),i=Tl[a]||Tl[e];e=i?fS(e,i):pS(e),t[n]=e}return t.join(" ")}function gS(t,a){if(!a)return[t];var n=[],e=Object.keys(a),i=[];return e.forEach(function(e){for(var t=a[e],n=t.length-1;0<=n;n--)i.push({id:e,first:t[n][0],last:t[n][1]})}),i.sort(function(e,t){return t.first-e.first}),t=punycode.ucs2.decode(t),i.forEach(function(e){n.unshift(punycode.ucs2.encode(t.slice(e.last+1))),n.unshift([hS(e.id)]),t=t.slice(0,e.first)}),n.unshift(punycode.ucs2.encode(t)),n}function yS(a){return Object.keys(a).map(function(n){var e=a[n];return e.type=n,e.versions=Object.keys(a[n].versions).map(function(e){var t=a[n].versions[e];return t.type=e,t}),e})}function bS(e,t,n,a){var i=document.createElement("style");i.type="text/css",i.innerHTML="."+e+"-"+t+' { background-image: url("'+n.replace("http:","https:")+'"); }',a?a.appendChild(i):document.head.appendChild(i)}window.parseIRC=function(e){var t={raw:e,tags:{},prefix:null,command:null,params:[]},n=0,a=0;if(64===e.charCodeAt(0)){if(-1===(a=e.indexOf(" ")))return null;for(var i=e.slice(1,a).split(";"),o=0;o<i.length;o++){var s=i[o].split("=");t.tags[s[0]]=s[1]||!0}n=a+1}for(;32===e.charCodeAt(n);)n++;if(58===e.charCodeAt(n)){if(-1===(a=e.indexOf(" ",n)))return null;for(t.prefix=e.slice(n+1,a),n=a+1;32===e.charCodeAt(n);)n++}if(-1===(a=e.indexOf(" ",n)))return e.length>n?(t.command=e.slice(n),t):null;for(t.command=e.slice(n,a),n=a+1;32===e.charCodeAt(n);)n++;for(;n<e.length;){if(a=e.indexOf(" ",n),58===e.charCodeAt(n)){t.params.push(e.slice(n+1));break}if(-1===a){if(-1===a){t.params.push(e.slice(n));break}}else for(t.params.push(e.slice(n,a)),n=a+1;32===e.charCodeAt(n);)n++}return t},function(e){var t="object"==typeof global&&global;t.global!==t&&t.window!==t&&t.self!==t||(e=t);var n,v=2147483647,g=36,y=26,i=38,o=700,a=/^xn--/,s=/[^\x20-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,l={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},c=g-1,b=Math.floor,w=String.fromCharCode;function k(e){throw new RangeError(l[e])}function r(e,t){for(var n=e.length,a=[];n--;)a[n]=t(e[n]);return a}function u(e,t){var n=e.split("@"),a="";return 1<n.length&&(a=n[0]+"@",e=n[1]),a+r((e=e.replace(d,".")).split("."),t).join(".")}function A(e){for(var t,n,a=[],i=0,o=e.length;i<o;)55296<=(t=e.charCodeAt(i++))&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?a.push(((1023&t)<<10)+(1023&n)+65536):(a.push(t),i--):a.push(t);return a}function C(e){return r(e,function(e){var t="";return 65535<e&&(t+=w((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+w(e)}).join("")}function E(e,t){return e+22+75*(e<26)-((0!==t)<<5)}function M(e,t,n){var a=0;for(e=n?b(e/o):e>>1,e+=b(e/t);c*y>>1<e;a+=g)e=b(e/c);return b(a+(c+1)*e/(e+i))}function _(e){var t,n,a,i,o,s,d,l,c,r,u,_=[],f=e.length,m=0,h=128,p=72;for((n=e.lastIndexOf("-"))<0&&(n=0),a=0;a<n;++a)128<=e.charCodeAt(a)&&k("not-basic"),_.push(e.charCodeAt(a));for(i=0<n?n+1:0;i<f;){for(o=m,s=1,d=g;f<=i&&k("invalid-input"),u=e.charCodeAt(i++),(g<=(l=u-48<10?u-22:u-65<26?u-65:u-97<26?u-97:g)||l>b((v-m)/s))&&k("overflow"),m+=l*s,!(l<(c=d<=p?1:p+y<=d?y:d-p));d+=g)s>b(v/(r=g-c))&&k("overflow"),s*=r;p=M(m-o,t=_.length+1,0===o),b(m/t)>v-h&&k("overflow"),h+=b(m/t),m%=t,_.splice(m++,0,h)}return C(_)}function f(e){var t,n,a,i,o,s,d,l,c,r,u,_,f,m,h,p=[];for(_=(e=A(e)).length,t=128,o=72,s=n=0;s<_;++s)(u=e[s])<128&&p.push(w(u));for(a=i=p.length,i&&p.push("-");a<_;){for(d=v,s=0;s<_;++s)t<=(u=e[s])&&u<d&&(d=u);for(d-t>b((v-n)/(f=a+1))&&k("overflow"),n+=(d-t)*f,t=d,s=0;s<_;++s)if((u=e[s])<t&&++n>v&&k("overflow"),u===t){for(l=n,c=g;!(l<(r=c<=o?1:o+y<=c?y:c-o));c+=g)h=l-r,m=g-r,p.push(w(E(r+h%m,0))),l=b(h/m);p.push(w(E(l,0))),o=M(n,f,a===i),n=0,++a}++n,++t}return p.join("")}n={version:"1.4.1",ucs2:{decode:A,encode:C},decode:_,encode:f,toASCII:function(e){return u(e,function(e){return s.test(e)?"xn--"+f(e):e})},toUnicode:function(e){return u(e,function(e){return a.test(e)?_(e.slice(4).toLowerCase()):e})}},e.punycode=n}(this),function(e,t){e.ReconnectingWebSocket=function(){if("WebSocket"in window)return u.prototype.onopen=function(){},u.prototype.onclose=function(){},u.prototype.onconnecting=function(){},u.prototype.onmessage=function(){},u.prototype.onerror=function(){},u.debugAll=!1,u.CONNECTING=WebSocket.CONNECTING,u.OPEN=WebSocket.OPEN,u.CLOSING=WebSocket.CLOSING,u.CLOSED=WebSocket.CLOSED,u;function u(e,t,n){var a={debug:!1,automaticOpen:!0,reconnectInterval:1e3,maxReconnectInterval:3e4,reconnectDecay:1.5,timeoutInterval:3e3,maxReconnectAttempts:null,binaryType:"blob"};for(var i in n||(n={}),a)void 0!==n[i]?this[i]=n[i]:this[i]=a[i];this.url=e,this.reconnectAttempts=0,this.readyState=WebSocket.CONNECTING,this.protocol=null;var o,s=this,d=!1,l=!1,c=document.createElement("div");function r(e,t){var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}c.addEventListener("open",function(e){s.onopen(e)}),c.addEventListener("close",function(e){s.onclose(e)}),c.addEventListener("connecting",function(e){s.onconnecting(e)}),c.addEventListener("message",function(e){s.onmessage(e)}),c.addEventListener("error",function(e){s.onerror(e)}),this.addEventListener=c.addEventListener.bind(c),this.removeEventListener=c.removeEventListener.bind(c),this.dispatchEvent=c.dispatchEvent.bind(c),this.open=function(a){if((o=new WebSocket(s.url,t||[])).binaryType=this.binaryType,a){if(this.maxReconnectAttempts&&this.reconnectAttempts>this.maxReconnectAttempts)return}else c.dispatchEvent(r("connecting")),this.reconnectAttempts=0;(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","attempt-connect",s.url);var e=o,i=setTimeout(function(){(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","connection-timeout",s.url),l=!0,e.close(),l=!1},s.timeoutInterval);o.onopen=function(){clearTimeout(i),(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","onopen",s.url),s.protocol=o.protocol,s.readyState=WebSocket.OPEN,s.reconnectAttempts=0;var e=r("open");e.isReconnect=a,a=!1,c.dispatchEvent(e)},o.onclose=function(e){if(clearTimeout(i),o=null,d)s.readyState=WebSocket.CLOSED,c.dispatchEvent(r("close"));else{s.readyState=WebSocket.CONNECTING;var t=r("connecting");t.code=e.code,t.reason=e.reason,t.wasClean=e.wasClean,c.dispatchEvent(t),a||l||((s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","onclose",s.url),c.dispatchEvent(r("close")));var n=s.reconnectInterval*Math.pow(s.reconnectDecay,s.reconnectAttempts);setTimeout(function(){s.reconnectAttempts++,s.open(!0)},n>s.maxReconnectInterval?s.maxReconnectInterval:n)}},o.onmessage=function(e){(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","onmessage",s.url,e.data);var t=r("message");t.data=e.data,c.dispatchEvent(t)},o.onerror=function(e){(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","onerror",s.url,e),c.dispatchEvent(r("error"))}},!0===this.automaticOpen&&this.open(!1),this.send=function(e){if(o)return(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","send",s.url,e),o.send(e);throw"INVALID_STATE_ERR : Pausing to reconnect websocket"},this.close=function(e,t){void 0===e&&(e=1e3),d=!0,o&&o.close(e,t)},this.refresh=function(){o&&o.close()}}}()}(this);var wS=function(){var e={parse:function(e,t,n){return t||(e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;")),a(e,function(e){var t=function(e){for(var t=e.indexOf(d)<0?e.replace(s,""):e,n=[],a=0,i=0,o=0;o<t.length;)a=t.charCodeAt(o++),i?(n.push((65536+(i-55296<<10)+(a-56320)).toString(16)),i=0):55296<=a&&a<=56319?i=a:n.push(a.toString(16));return n.join("-")}(e);return t?'<img class="'+(n?"emoticon":"emoji")+'" src="https://twemoji.maxcdn.com/2/72x72/'+t+'.png"/>':e})},replace:a},n=/(?:\ud83d[\udc68\udc69])(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddb0-\uddb3])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f)|[\u0023\u002a\u0030-\u0039]\ufe0f?\u20e3|(?:[\u00a9\u00ae\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\uddb5\uddb6\uddb8\uddb9\uddd1-\udddd]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a-\udc6d\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\udeeb\udeec\udef4-\udef9]|\ud83e[\udd10-\udd17\udd1d\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd40-\udd45\udd47-\udd70\udd73-\udd76\udd7a\udd7c-\udda2\uddb4\uddb7\uddc0-\uddc2\uddd0\uddde-\uddff]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g,s=/\uFE0F/g,d=String.fromCharCode(8205);return e;function a(e,t){return String(e).replace(n,t)}}();