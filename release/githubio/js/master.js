var t,n,i,e,a,o,s,d,l,c,p,r,u,_,f,h,v,m,g,y,b,w,A,C,k,E,M,I,S,x,P,T,L,B,O,G,U,R,N,D,V,J,F,H,q,z,X,Y,j,W,Q,Z,K,$,ee,te,ne,ie,ae,oe,se,de,le,ce,re,ue,_e,fe,he,me,pe,ve,ge,ye,be,we,Ae,Ce,ke,Ee,Me,Ie,Se,xe,Pe,Te,Le,Be,Oe,Ge,Ue,Re,Ne,De,Ve,Je,Fe,He,qe,ze,Xe,Ye,je,We,Qe,Ze,Ke,$e,et,tt,nt,it,at,ot,st,dt,lt,ct,rt,ut,_t,ft,ht,mt,pt,vt,gt,yt,bt,wt,At,Ct,kt,Et,Mt,It,St,xt,Pt,Tt,Lt,Bt,Ot,Gt,Ut,Rt,Nt,Dt,Vt,Jt,Ft,Ht,qt,zt,Xt,Yt,jt,Wt,Qt,Zt,Kt,$t,en,tn,nn,an,on,sn,dn,ln,cn,rn,un,_n,fn,hn,mn,pn,vn,gn,yn,bn,wn,An,Cn,kn,En,Mn,In,Sn,xn,Pn,Tn,Ln,Bn,On,Gn,Un,Rn,Nn,Dn,Vn,Jn,Fn,Hn,qn,zn,Xn,Yn,jn,Wn,Qn,Zn,Kn,$n,ei,ti,ni,ii,ai,oi,si,di,li,ci,ri,ui="fglfgl27@gmail.com",_i="<br>",fi='<i class="icon-circle" style="font-size: 50%; vertical-align: middle; font-weight: bold;"></i>  ',hi='<div class="about_text_title">',mi='<div class="about_text_title" style="text-align: left;">',pi='<div style="text-align: left;">',vi="",gi="",yi="",bi="",wi="",Ai="",Ci="",ki="",Ei="",Mi="&nbsp;";function Ii(){vi=e+" (C)",gi=n+" (D)",bi=i+" (A)",yi=a+" (A)",l+=Zt,c+=Zt,I=ai+oi,wi=hi+e+"</div>"+hi+ke+"</div>"+_i+pi+fi+xe+_i+fi+(Pe+=Yt)+_i+fi+Te+_i+fi+ri+_i+fi+Le+_i+Be+_i+fi+Oe+_i+Mi+Mi+Mi+Ge+_i+fi+Ue+_i+"</div>"+_i+(ki=hi+Ae+"</div>"+pi+fi+nt+_i+fi+$e+_i+fi+et+_i+"</div>"+pi+fi+tt+_i+fi+it+_i+fi+at+_i+_i+hi+Ce+"</div>"+pi+fi+ot+_i+fi+st+_i+fi+dt+_i+fi+lt+_i+fi+ct)+_i+_i+hi+we+"</div>",Ai=hi+be+"</div></div>",Ci=pi+_i+Re+_i+(Yl?_i+'<div style="display: inline-block; color: #FF0000; font-size: 110%; font-weight: bold;">'+Zn+"</div>":"")+"</div>"+_i+hi+Ne+"</div>"+ui+_i+_i+De+_i+Ve+_i+_i+mi+Je+"</div>"+pi+We+_i+fi+Fe+_i+fi+He+_i+fi+qe+_i+fi+ze+_i+fi+Xe+_i+fi+Ye+_i+fi+je+_i+Qe+_i+fi+Ze+_i+fi+Ke+_i+hi+we+"</div></div>",Ei=ht+_i+fi+mt.replace("link_link",'<div style="display: inline-block; color: #FF0000; font-size: 110%; font-weight: bold;">http://tiny.cc/twitchkeycode</div>')+_i+fi+pt+_i+fi+vt+_i+fi+gt+_i+fi+yt}function Si(){Pc=!1,document.getElementById("side_panel").style.width="17%",t="Refresh:",n="Search",i="Settings",e="Controls",a="About",o="Hide",s="The text you entered is empty.",d="The search result is empty.",l="Switch screen",c="Switch user screen",p="Switch: Past Broadcast or Highlight",r="Switch: Period (24h, 7d, 30d, all)",u="Go to ",_="User ",f="Live",h="Games",v="Playing ",m=" for ",g="Watching time ",y="Since ",b="A Game",w="Type your search...",A="Type your authentication key...",C="Type your user name...",k="Press Enter or Select key to, ",E="Channels",M="Channel",ai="Back to previously screen: Back key",oi=" twice",S=" has ended",x="This video is only available to subscribers.",P="Connection failed, unable to load content hit refresh to try again",T="No",L=" for this ",B="Connection failed, unable to load video content exiting...",O=" Past Broadcast",G=" Highlight",U=" Clips",R=" Content",N="Streamed ",D="Duration ",V=" Views",J=" Viewers",F="Click again to exit!",H="Do you wanna to exit Twitch?",q="Exit",z="Close",X="Minimize",Y="Cancel",j="Not Live | ",W=" Channels Live",Q=" Hosts Live",Z=" Games Live",K=" Followed Channels",$=" Add User",ee=" Remove User",te="User doesn't exist",ne=" hosting ",ie=" already set",ae="Make First",oe="First user can fallow (when providing a key) and see live channels feed outside of the user screen<br>",se="Add a Twitch user to display it's Followed Channels content here",de=" (24h)",le=" (7d)",ce=" (30d)",re=" (all)",ue="Jumping",_e=" to ",fe="Jump Canceled",he=" , jump time bigger then duration",me=" Sec",pe=" Min",ve=" Hr",ge="Source",ye="Version: ",be="SmartTV Twitch",we="Press back key to close this.",Ae="Player Related:",Ce="Chat Related:",ke="General Related:",Ee="Update",Me="Current installed version ",Ie=" latest available version ",Se="This are the none players related controls, the player can show it's own controls.",xe="Play a video: Navigate using Directional pad (up/down/left/right), press enter to start playing",Pe="Refresh screen content: ",Te="Exit the application: from side pannel click exit",ri="Force close the application: Hold the back key for 5 seconds",Le=" Switch screen: Back key then D-Pad left or right",Be="Some screen will change its internal content (channel past broadcast or clips for example) instead of changing to another screen",Oe="Start a search: from side pannel click search",Ge="After writing the search text press key Enter on the virtual keyboard then choose a search option",Ue="About this application: from side pannel click about",Re="This is a SmartTV Twitch client develop by a individual on his free time, for TV's that don't have access to a good official application, released for free to any one that wanna to use it.",Zn="This version of the app is for test in a browser only!",Ne="Developer information:",De="This is an open source application licensed under the GNU General Public License v3.0, check it on github",Ve="github.com/fgl27/SmartTwitchTV",Je="This application uses following dependencies:",Fe="Nightdev KapChat - KapChat captures Twitch chat directly into OBS or XSplit (https://www.nightdev.com/kapchat/)",He="Fontastic - Create your customized icon fonts in seconds (http://app.fontastic.me)",qe="Twemoji - A simple library that provides standard Unicode emoji support across all platforms (https://github.com/twitter/twemoji)",ze="UglifyJS - is a JavaScript parser, minifier, compressor and beautifier toolkit (https://github.com/mishoo/UglifyJS2)",Xe="JS Beautifier - Beautify, unpack or deobfuscate JavaScript and HTML, make JSON/JSONP readable, etc. (https://github.com/beautify-web/js-beautify)",Ye="HTMLMinifier - A highly configurable, well-tested, JavaScript-based HTML minifier (https://github.com/kangax/html-minifier)",je="JSHint - A Static Code Analysis Tool for JavaScript (https://github.com/jshint/jshint)",We="Web:",Qe="Android:",Ze="Google: Leanback v17 (https://developer.android.com/reference/android/support/v17/leanback/package-summary)",Ke="Google: ExoPlayer (https://github.com/google/ExoPlayer)",$e="Show information panel: Press enter key or D-pad keys if chat and live channel feed is not showing",et="Close the video: press back key twice",tt="Play/Pause a video: open information panel and click on pause simbol (not available to Live streams)",nt="Show user live channels feed: D-pad up",it="Change video quality: Open information panel, , navigate using use Directional pad (left/right), then use Directional pad (up/down) to choose the new quality after press Enter key to confirm the change",at="Force refresh a video (in case it freezes): Change video quality to the same",ot="Show or hide the Chat : D-pad right",st="Change Chat position : D-pad left",dt="Change Chat size : D-pad down",lt="Change Chat background brightness: Change in side panel settings",ct="Force refresh the Chat (in case it freezes or doesn't load): Change video quality to the same will reset and sync it",rt='Start a search: open information panel, navigate using use Directional pad (left/right) to "Search" and press enter',ut="Chat and video (Side by side): Color button red (A)",ti="Force disable the chat",ni="with this the chat will not load content, this is useful on a stream with too many viewers were the chat can lag the app.",_t="Update available, check google play store",ft="Adding a key allows the app to access live user content faster, fallow/unfallow channels/games and access subscribed only past broadcast (for channel you are Sub to and block VOD access to none subscribers) <br> <br> In doubt read this link  <br> <br> https://github.com/fgl27/SmartTwitchTV#authentication <br> <br> add key for",ht=" below, fallowing this steps:",mt="Access the site link_link (using a computer or a smart phone)",pt='Click on the "Authorize" button it will take you to main Twitch.TV authentication site',vt="Login to Twitch.TV using the user name you are trying to add a key for",gt="Click on Authorize button of Twitch.TV site if you agree with the requested permissions",yt="The web page will update and show a key code, the key only has lower case letters and nubers.",bt=" Add Authentication key",wt="Key added OK",At="Key test fail, it's needed to add new one",Ct="Key test return OK",kt="You try to add a key for user ",Et=" but this key is for user ",Mt=" Following",It=" Follow",St=" And you have not set a authentication key the app can't check yours sub status.",xt=" And you are not a sub of this channel",Pt=" You are a sub of this channel but the app fail to authenticate contact the developer email in about",Tt="Fail authentication check with the provider key, please check and try again",Gn="The added key doesn't belong to the user ",Lt="No user",Bt="Set a user and a authentication key to be able to fallow/unfollow",Ot="Restart the",Gt=" Clip",Ut="Channel content",Rt="Network is disconnect, the application can't work without INTERNET",Nt="Network connection reestablished",Dt=" Followers",Vt=", Can't fallow or unfallow ",Jt="Game content",Ft="Yes",Ht="Are you sure you want to remove the user ",qt="Press Up to ",zt="Followed Games",Xt="Change between",Yt=" Back key then Enter",jt=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"],Wt=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Qt="Started ",Zt=" (PG Up/Down)",Kt="Videos",$t=" Video",en="Replay",tn="exiting in ",nn='press "Return" to exit',an="Featured",on="Created ",sn="Open the Broadcast",dn="No Broadcast",ln="There is no Past Broadcast for this clip",cn="And because of that no chat",rn=" is now",un="Open the Hosting",_n="Player related",fn="Buffer size:",hn="A lower value here will make the player to start playing sooner, but it may cause re-buffer with will cause the player to pause to buffer.",mn="Live streams buffer",pn="Videos (Past Broadcast and Highlight) buffer",vn="Clips buffer",gn="General related",yn="Language",bn="Chat: Connecting to chat server..."+_i+"Chat: Connected."+_i+"Chat: Joined channel ",wn="Play from the start or from where you stop watching last time?",Cn=(An="From:"+_i)+"Start",kn="Chat: The Chat has ended!",En=": Most recent",Mn=": Most views",In="Set a authentication key to be able to see fallowed videos",Sn="Switch: Most recent or views",xn="Enable",Pn="Disable",qn="The app was closed willing playing, restoring playback",Tn="Restore playback",Ln="When changing apps, the app may be closed by the system to free memory. In this case the app saves what it was playing and restores the playback when reopened",Bn="Chat font size",On="Change the chat lines font size, applies to text and emotes",Un="Videos animated thumbnails",Rn="Side panel: D-pad left or Back key twice",Nn="Size ",Dn="Brightness ",Vn="Forbidden content, this Live must be for Prime only subscribers or lock to Twitch official app only",Jn="Jump step ",Fn=" seconds",Hn=" minutes",zn="Clock offset",Xn="Application language",Yn="Content language",jn="Press enter to change",Wn="All",Qn="Empty game fro this",Kn="Isn't possible to jump during a buffering",$n="Chat is disabled, enable in side pannel settings",ei="This clip/video fail to load can't replay",ii="Chat backgroung brightness ",si="Play Next",li="Playing next in ",di="Play All",ci="Auto Play next clip"}var xi="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAeEAAAKgCAMAAACbeDVoAAAAM1BMVEU3NTZoZ2eura6enp4+PD1MS0vq6en09PQ0MjPy8vJ9fX1YV1jT09O7u7vf3t+NjY3GxsZnLAeWAAAI3UlEQVR4Ae3d7XabOrcGUPEBWguMzf1f7dltd3u6Q1rHNk5I3jn/NmPYo48lJC1JFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgf0+UoenatpuGEuUdRD8009S806cR/eWU9bs8d0M8/eOmZazfjcvUR3kuYmiz/m6Z46n5dmP9zdjJ+Ln6NusLuQ7labqxvpBdX3iaaayv6cpTxJT1FTlF4Sn6Jeur8vSErjqGP37c0hf2F/Op/tHY7d+Az/WPznMUdhbNWP8iT0M8rb/YGvXUT34Eb2VO8ayf01bmJQo7ikvWq9a+7KStV2UX5X0JuOZOfed8zvoGIn72tGUrs91xDizijx9kbWQ9NVEeMpzq1nOf/Mxjfbts+/KALuuWEfVz9ed6ixzvb8bzueZNHzUXHneut7pvbhzDmvVG2RceFEvWm41dH/dUkW6VeSo8Ji51a/+Mo+/O9S5tFB4xZ73TeMPugG37NaA+4ChrI5emRLkmytxmzXovo61HxFIfktldqwIN3Vgfcyrc7ZL1UTkuTf+Hptw3y5h1490exQxj3cV4Wi7N0JcSP5TSD81lOY1Zsz4ssyncJc51T3k+reuyLOt6OmfdUY594R6Xenz66QcMWT+NptyMONWjOa/rWF917gt3FP0P5dSU+Ec/nfXTu+jHeiCZXfkhonRp3eNx0dYjyUtc6V5OhZs0WQ8k27i2Uy8vhR2KwvPwU31Hm4FUPz5WKia6+rooP9V3tN0529WNXKLwVn0eKuE6lxeaupVD4a26eqyE+/JCX1+hEb/ZkMdKOMvGIytbxFIP1obLS/0jlWLmerSEh/LCUF81Fd5iPVzC09vKXnkuvEGTh0t4jfJfp7px/7KHmtLHJ5xTbE7K3VtjosnjJVzHeXOQ6s5GTJzrARPOcX7bSbksV9DkEROuWf89RBF9d9ugbMtT+BAJ5zLN8zytWX8a10vTXNYx679y/f4nS9bfjIW/mushEs5liJ8HEutPmfV3668/WVIjfqtYDpHw+HvBv71ab4ou6095KvzFkEdI+L9XKcWa1/YERJdWp9+mqx+e8HaBoz9fX71alZjepB/vr9UMzysHT3Wj+fP4IefyNrZ25AclfIrNGdfrC9CnO3bW2p01f0zCXVwd/7Xxlx/n2BfettrxQW14ur61tysvTfX/Xcp1VjuOlHC5MeExypuYKs3l7fqh7uUS19vwJsOLA8XXtXmMNryd7pyuFoxj2f4zL0TWeoix9Nhf61wyh7/u/82+bNHUbz5+LL3ppmO5etYwLvdUmCxJN/FS+SVemutuxuFaQTPHpvwm5nE7peb6BtWPWLXcbsYZ8uqvYDhf3Z1ZmI6TcNZxjmtbErKJ8kM0eX08TqwfmPBWLnOJiL5Zs/4ynk5j/SXX739S5iWvr3wSQx4q4Zp5/nEtU9YfzlMf/xgu5/pDfr/YYz1n3VJ+2Jrqxye8kb9fPR/lu+iXvH1xm1iPk/CVwCLadNvlzYbcM+Fc2hfW+kKu2z/4syVu+jluTxMz1V0Tvj4Xy/6GBZOxv/3Cza6waRX7JRx7Jrx9qEZ74z4C+nHPhHOTcDyW8PaWhxsXxmjy0G24Ly/0N5aZWeqR2/D1Wx6uHCYmxnroNnzXInoWfhny2G346i0PV5a1mPLYbXgqL0w3nZwg1vrMNvx4wpt9PetN+66JrDu34aF/Yd72of1/NPUvsrlr6F/4IYb6Vs0v9V2dh/983/G20zE09e3yu5r1fY3DHS8JuhR+6Orh5TiV76JMY972ChfiXD+DU9cMQ9Odsr7VGIVv+vo55J132jLXr2oufDPVr+pS2J4L//QMtTbW+lWdCt+M9avKvhRiqF/XUEphrl9XU9gczDSY/nLa+nW1UYilfl1rFGKt9UtPlzjXr+tcCv1Yv66xL1sODu8sx7W7TM089P8opfT/GOZmmrr1/PTPHgpzfZpx7aa5j3+UiPJClBIR/Tx161ifZi409Rny1E7Dt1yv+pb/MLWntOTxaRLO8/It3XKDiOib5Qmd9lSY6q5yXOYSJcqt+hJlbsfcO2EudUfZzVEeEXOXdUddoat7ybUpUR4TJUqz5AETlvDYDVH2EUM31n20hbbu4dz1UfYSEf3lvFPCtHu+4mxHfZsS3kO09WFjE2V/0YyHSFgbzqU8y5Ifn7C9tOMU5VliGo2lP3o+fJ6jPNF8so3nY9e01r48U5R+sab1gQnnUp5vyY9KWPUw2yhPF9FmvVc2haHeK7so7yEuWe81FPp8/EXfTxZT1rtk9qVwrnfJKUo5esTnUojT429yf747Iz5FIZYjBrxxyXtfoUh3xEHWRnR555IWzSED3ojORrw7DZ/kwFe0d06WGOuNloPec74xFu4Zap368iGiPxlovcMR8Rz78lH6MVWWbhfz5zkKNIzPPtPiQTw25SM1o8fwkwepl/jgR0rePuSn+UT/adGaDT/xLQB5+kzr6Fn4qf1MR+r7USf9rPct5fClv60KYk6f6vVQ5yj80uRn6vWiS1u0bhTr57qbalX8378Rj0M5jmHUhHcvPzRRDqRRdLhRXGsVXXym41bbHoeYPtkFkaf6N1MUXloP1yTufxSvha1+PPRMeGMa9dG36efxjjP+B6wkZjblVczn+pq2L8fUt/U157lEeQ1Rpk3GYztEOaoY2nGT7+Wv+dK056z/ynPb9FGOLPqXX/h6vgzNpW3b7tIMJcrxRRmaqWvb9sYvTET5JKIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAF/F/wGK2iVvT89ySQAAAABJRU5ErkJggg==",Pi="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAMAAABrrFhUAAAASFBMVEVHcEw1NTXb29swMDB9fX1DQ0NeXl5RUVFtbW3m5ubT09Pg4ODKyso7Ozufn5+9vb2urq62traQkJClpaWJiYmYmJjCwsLq6uo9xg8yAAAAF3RSTlMACeoDbBxBLlX54PHUEZnCrbiFonuQyd/Z9QoAAAhdSURBVHgB7MGBAAAAAICg/akXqQIAAAAAYO7qJdtSEIbC8AKREB4icI57/jOtzm1Ur1ZdFRO/GfxxqzdbTFnJex9+eO9pLWZ5fbgpFFwf7cg2MeNvnGw+2uguUDFvfOaFQt+zZfwT27z3QOU9ezDkvtUy/gvb4+vIvCF+RMYvcRyqj7CGLTNO4ryFVWM9uZZwkdQcqatnXIqrnhusP/VX4+YUvAuL3yxuYze/CH/4FTergmdAPWKC2Enk9mkkTJKGF9fvd8ZEvHth+ZhO0AloQr7gE9BgPIQHPZ5fPhYPsp/ybH/IeFgOT66/QYBGD+UvLkEE+1me6PcVYlQ/Pd90hiDczdx+qhCm0sx+lyBOctPy1x0i7eucfh8hVPRT5s8Qi93t+WWDaFu5t58OCHeQ3Ndf/4cgJCiQwl39Dkp8bslfvlDju1zfbwYUGeby/h2q7BdfoDQo08ql/RXq1CK6f4Kj6N+/jA2YBqWa0f/9F/AvGFBsnO/vUK2f7XdQzp3rDwzlOJzpJwv1Ev2+f424EScb83HkaNOf9u5Ex3EQCQPwjznA+D7sev83XWnVGu1oZ9Jp8pcTNP4eIN2xOaqgCK0oyh6F7CJKunPbU/SDMdYaM/iY9u3sPi4cOERFHpO3ACx+Y30as6g4UCSJgnwEg78y4ciiIKFA7IRucgO+MbjpIwZCa3phW8Lbas76AT81CtmU8LQ0Cdn47gEgpzcXH6X3RgCbxw/5Tagajx+wM/v1F0hZmJb3pUCLRxG/vCktsr75jF0Ke7ypE8wfs2XvWuGZ+TOA/k5laq6fCYYsNF3Ai0J3eV44ftL3hw3dxeFQbLXa//urEtqI7y3vX43SW5dbLh0BHUjcheMgMQncQLMJS28ue9inAY2ZriqfGZrr465rY9NmwCM7v7NxpGv2ingPegbZfEnTXN/fAfTfzXrFH0mgS0LSef0GMEHBJCSrfhYUoCCoTwSOPAJ+7DjolIPANkJFbHXDwcSPgclG3TF6+vAGQGwCk8X/i0KyQM0iJEG/fWmwSUhGxTSoN1Bjer2Z0AnJDkW7kLjKhkD+MKj2ySdUTUIStdKAHap2pYTAfnoUyI8GrU6icVqosqeQBJ0ecEDZISSrSg+QBGVJZYE86O89scRWow+s7MdaQTAoq8bsukHdprBu5zshcVDnFBZHk7AkaLMa/+wmLBHqYkvvrybzWxUfv79mw14LkmygzmR6e3XCMuECi7A4elXUjAvM7Jopyy4K0Q8EuBmhb9mPVNcoLK1nl0UduMAhNIl9OniFPv7/OwvNjgvs5PJp29f3AKjJq+/q6wLUyDXIvzsISiAfjxlrewCO/HnXBELkJjuLVJwLEKaBU8ijqjLbC88J2Cw8zQBt1jTCkw11FpT2ohUhZjYQhSlBXRKmiCBMDuqcMCXyAz2g7hCmRH6gE9RN5Ca7C1PnocsOjTDtOIQqQFkQqgOzUO1QtgvVjEnqGgQW9v97ClUb1feFqHr0UlUfSMLVI0tVfWATroxGauoDvhGuBo2QOShyQtaglZr6wCRkLYStDaqpMBtaYZuhZhS2Fp2wtVExCGDr0AjdBiWr0DXIUk0T8I3QZWThG6tpAJLRC1/nwWd9J3w9JlGwKUXBfBNm0ZBAl0TDjFE05AFkQxYNI1ZRMYJsFBUrnOgIGh2Az6l9cj8odAA+hyBKNoUOwJcQW1Gy1nDPXcTQiRYHktCKktZz6wN0VgZiI1oaAyyipokg8FnU9BYYRU/v8TLfi54FwC6K+sj8/nwjf4Ql3wEbe/VbiIKo6tIn3/ObHqy0srSOess9f+3KZFG2WhSxqyjLBgBm0TZFFIiLaFsKSg6KNA4/5hpRdxRkmoWWSHj9dKlgu6FUe3g8zR+tFChdvz/lEt0R8ZR4NHKJbIqS7XLdGPGtOHZykfn6WyXbxXk84N3cymV2pU3ndhoffGIzJ2/xB9a7uZErBf6BdJFucfG7SxG6c3TBG4sv1vjgxrOTB9p979XW7md+C49ZvtH05zKP6zpuy9Q3zyRVJqy9TiGDE4pzj/hirT+F6Pz6ZBPGRlgctfKkGYPF/xpGodkG/DK4paX/4MkpLzqd17sjqHMqgUJvaBXISzJF8Wx5KuX3TD3cEeUFc8Df2L2TF7W7xZ8M7iTuYNue/vW/xFntmk6bet4G9qp3jWg6pVif8HcWxvWsrbsgJc6EJxiXpUh2Bt8Y9obQAwqDwewsnjOUvKneeTwhboQeUJQRjh7PM2n6aeMyeFI4GRUcidL6H7BhzD+4nNvieaZkrgmv/VDjOuDnhrQ18q1mTgN+KE4lm4K/c5ds9/i0Tg9eVzcdyaOA2dtXixd8V3CJcOlD2Kbcym/a5tzW5C1Khf7Vat6xYKenmB1icm5fj3E81t25FAeL1/j5xZL+oNz89e3ytFR8HOX0+Fg2dT9LBAuGwc1An/5m8l5aizfiw8X+lavgDvXCN33+lO8dhWeydnw+O5zynS6W1WOuqII/y2tYY/e43dTB9+VHmo4Hj82iFj7LI3PRsZzFoB6hK2gAj5tA9qiJK65i941q1e9ljoIp4NHqqENl7FQ6lv+xCSyoTuxK7wPeH7ea2oeBveR0jkOF7FL6i4/pwf2UFXgc2KeSI6oBdRpLBzPfPA6cauGb0sHMPQ6camH30nTWTg8Cp4qbwGlKxo+Aeo3F4eyqf3/g9RPBUXSjmUPNluLDzKG94JeS9bnyfG6vcg58sN+3l93m41C3pTyc9VkvCLi+DzSx7Mj2icpF+a82FT69EZUbmld2NGZxqN3ySjTrc0Ltjq8QuEz0qJ17aUXbonY2SRvwL0vi8E8LB/5txuKX2+12u91ut9vtdrvdbrfb7Xa7/Qf0wSAxhEqDGQAAAABJRU5ErkJggg==",Ti="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAhAAAAEpBAMAAAAwswZCAAAAJ1BMVEU3NTbV1dU2NDXU1NTDwsOrq6t9fX1IR0dwb3DNzc2cm5xbWlqPj4+TNW2cAAAFhElEQVQYGe3AQYud5R0F8MPhzoxSN4d/buoUgcODtIFs+jCmaUqAuQ1RJJuZFAR3mUHE5TBqQFc3iUHcdVpQoZsE0GxjAcFdRPRz9b2ZmbTfoHKf80NERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERExK8VCRj4/pu3+7Wb3z4FTDQSoyGAhrvvSjt9p/ftd45oA8ZobBgPS6UuqaT5kmgwhtOI99Sl0pkLd4hGjIbAZ+ol9dJKV7+wJInRGB9rRypJpZUuzY9gjIaXTkqnuiZVkr4GMZyf9F9dz9XOM2MoBDa6ulZu/vLB+z8v9Fyfw8Q4GoC/qST1K5/DNLce7qg02SOMcTRuaKXePCZt2r57QyVpDsMYhYl9TepLwM1strl5opK0RwzEr0hd/S/HaECzG0x/qkm9ZoyDuKdS3z60TRiECeILqaT7GEf7w4mk+pdJ2IRNE758Q5OvQAxjo0r9wpEJm2ggCAMfdUlzGCOwDdxTL71lGyvGma2FpL4kRkCCXnRp+ylIwAZxhj9Iql0MwSQ2u6Q/22g0YOLcpa7SRWIINmaaPCII04Zxhnws6Q0MoQF+oNL2MWgQ/8v4pKtriSE0cl/Sn2DDvnzjiXGO/r2kuo0REG2rS9q1TWBD20vjDImF1K9iBCY2u6RDkEB7vff5Mc4RB5IuYgQkNiTVkU0AM0nXQRIGYH8o6YqNARgvl3SFhAHMJO3csk2CJje6+jZpY/35u6561Q0EMCup9ASECRgvSb0/bVh/BA4kXaWJyUxV0rUlCJPwliaHILH27MeSdg0YwEwrNT8GSQNcqPSIJtadwX1V7YEwgJl6SerXYRgE96W6DRprz15U6RnRDGBWmpR2bsEkgB8l/RUmBrBQ1aGNlZm6VFLVIzYYOOhVu2DD2iNOJN3BqZnOzWE24KCkfxAjsEq6j1MznSkBBvBA0h8NY92RPJF0B6dmWilJc9hoOJD0d2L9uXEh6RCnZnqudz1qNMGDLu0SxAAWJT3DqZkmXTt1iyQM/yj1XWP9kdyXdBunZpqU6jpgw8C+pD0YA/Bjde3i1EzPzY9IA7AXkh4Zxrpj44Gk3+LUTCvbSxgAiS1NDgli/fE7Sa8CNoGZ1KUnMCYNfklS/dvG2qPxclefG4DJmaR+iyBW3DZK/RpIjGCjtLNzZJjNr6t0HTZWTHyoXnOYWHsENlXSIQnbs9L8CMZzpA+qdLEBxtqzt3ov7ZpoxIa2lyBNrBgLSVdBE2uPwL56vwibxuUbTwgYxoTc7JL2CBLrjjDuSbV9BBiTRtAwJsQnpd6XJIy1Z2AmqT8iCJuwQeLUY0kXYDRiBJuavArAJs4QJF7S5CKG4UXv2n7KCc6ZJn+Q1HeJYTyQVG95ghdMby2kqiXGsdGl/sYRDeMMQX7UJc3RMApvnah33QKIF+zf3ChJX9kYBXFPKm0vDeJMg79QV+/3QYzCeEUrvzu2ca59Kqn0mhuGwYb9Lqm+hHGmbZ5IJe3BxjCIDUldevOoGbaBu4veJc0BG6MgiH2VVHXlczebWw+7ulTaA2yMZENSL/W6+csH7/+86L2rSnOCGIhN/KRJl0qTLqmkemYY4zAml/6pF7omvfQ12TAQT+CPpR1JvdQ1qdL8mMRISNjAZ12lKvWSVOoXljAaBmIQJP2epNK5C3cAYkwPe5WkrpKuLI1RkXff7ZJK2n7nyMawDHz/zdv92s1vn8LEsIyJG2iCjRiXbYBAA0xjWAZhAAZAgxiX2QgbhpuNcRGACcAgIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiLi/+Y/XKfZaw0ONrwAAAAASUVORK5CYII=",Li="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",Bi=51,Oi=52,Gi=179,Ui=37,Ri=38,Ni=39,Di=40,Vi=13,Ji=49,Fi=8,Hi=13,qi=32,zi=46,Xi=0,Yi=5,ji=1e4,Wi=0,Qi=!1,Zi=!1,Ki=!1,$i="",ea="https://fgl27.github.io/SmartTwitchTV/release/index.min.html",ta="elsu5d09k0xomu7cggx3qg5ybdwu7g",na="https://id.twitch.tv/oauth2/token?";function ia(e){bc.Users_Position=bc.Users_AddcodePosition,Wi=e,Sa(),Tr(),la()}function aa(e,t,n,i){var a=new XMLHttpRequest,o=na+"grant_type=refresh_token&client_id="+encodeURIComponent(Qc)+"&client_secret="+encodeURIComponent(ta)+"&refresh_token="+encodeURIComponent(ja[e].refresh_token)+"&redirect_uri="+ea;a.open("POST",o,!0),a.timeout=ji,a.ontimeout=function(){},a.onreadystatechange=function(){4===a.readyState&&(200===a.status?sa(a.responseText,e,n):-1!==JSON.parse(a.responseText).message.indexOf("Invalid refresh token")?(ua(),i&&i()):oa(e,t,n,i))},a.send(null)}function oa(e,t,n,i){++t<5?aa(e,t,n,i):i&&i()}function sa(e,t,n){var i=JSON.parse(e);da(i.scope)?(ja[t].access_token=i.access_token,ja[t].refresh_token=i.refresh_token,ho()):ua(),n&&n()}function da(e){return-1!==e.indexOf("user_read")&&-1!==e.indexOf("user_follows_edit")&&-1!==e.indexOf("user_subscriptions")}function la(){var e=na+"grant_type=authorization_code&client_id="+encodeURIComponent(Qc)+"&client_secret="+encodeURIComponent(ta)+"&code="+encodeURIComponent(Wi)+"&redirect_uri="+ea,t=new XMLHttpRequest;t.open("POST",e,!0),t.timeout=ji,t.ontimeout=function(){},t.onreadystatechange=function(){4!==t.readyState||(200===t.status?_a(t.responseText):ca())},t.send(null)}function ca(){++Xi<Yi?la():ra()}function ra(){Lr(),Fr(Tt),window.setTimeout(function(){Hr(),Ec=0,su(),bc.Main_Go=rc,window.location=ea},4e3),ja[bc.Users_Position].access_token=0,ja[bc.Users_Position].refresh_token=0,ho()}function ua(){WE=!1,Lr(),Fr(Tt),ja[bc.Users_Position].access_token=0,ja[bc.Users_Position].refresh_token=0,ho(),su(),window.setTimeout(Hr,4e3)}function _a(e){var t=JSON.parse(e);ja[bc.Users_Position].access_token=t.access_token,ja[bc.Users_Position].refresh_token=t.refresh_token,Sa(),fa()}function fa(){k_("https://api.twitch.tv/kraken?oauth_token="+ja[bc.Users_Position].access_token,ji,0,null,ha,ma)}function ha(e){var t=JSON.parse(e).token;if(t.user_name&&-1!==t.user_name.indexOf(ja[bc.Users_Position].name)){if(ho(),Ec=0,Lr(),WE=!1,bc.Main_Go=rc,su(),Fr(wt),_r)try{Android.clearCookie()}catch(e){}window.setTimeout(function(){window.location=ea},3e3)}else ja[bc.Users_Position].access_token=0,ja[bc.Users_Position].refresh_token=0,Fr(Gn+ja[bc.Users_Position].name),window.setTimeout(function(){Hr(),Ec=0,su(),bc.Main_Go=rc,window.location=ea},4e3)}function ma(){++Xi<Yi?(ji+=500,fa()):ra()}function pa(){Sa(),Qi=!1,va()}function va(){var e="https://api.twitch.tv/kraken/users/"+ja[bc.Users_Position].id+"/follows/channels/"+$i,t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=ji,t.setRequestHeader(Zc,Qc),t.setRequestHeader(Kc,tr),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?ga():404===t.status?ya(t.responseText):ba())},t.send(null)}function ga(){Qi=!0,Ki?lv():os()}function ya(e){-1!==(JSON.parse(e).error+"").indexOf("Not Found")?(Qi=!1,Ki?lv():os()):ba()}function ba(){++Xi<Yi?(ji+=500,va()):Ki?lv():os()}function wa(){Sa(),Aa()}function Aa(){var e=new XMLHttpRequest;e.open("PUT","https://api.twitch.tv/kraken/users/"+ja[bc.Users_Position].id+"/follows/channels/"+$i,!0),e.timeout=ji,e.setRequestHeader(Zc,Qc),e.setRequestHeader(Kc,tr),e.setRequestHeader("Authorization","OAuth "+ja[bc.Users_Position].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return Qi=!0,void(Ki?lv():os());401===e.status||403===e.status?aa(bc.Users_Position,0,wa,null):Ca()}},e.send(null)}function Ca(){++Xi<Yi&&(ji+=500,Aa())}function ka(){Sa(),Ea()}function Ea(){var e=new XMLHttpRequest;e.open("DELETE","https://api.twitch.tv/kraken/users/"+ja[bc.Users_Position].id+"/follows/channels/"+$i,!0),e.timeout=ji,e.setRequestHeader(Zc,Qc),e.setRequestHeader(Kc,tr),e.setRequestHeader("Authorization","OAuth "+ja[bc.Users_Position].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(204===e.status)return Qi=!1,void(Ki?lv():os());401===e.status||403===e.status?aa(bc.Users_Position,0,ka,null):Ma()}},e.send(null)}function Ma(){++Xi<Yi&&(ji+=500,Ea())}function Ia(){Sa(),Zi=!1,xa()}function Sa(){Xi=0,ji=1e4}function xa(){var e,t="https://api.twitch.tv/kraken/users/"+ja[bc.Users_Position].id+"/subscriptions/"+$i;if(_r){if(!(e=Android.mreadUrl(t,ji,3,ja[bc.Users_Position].access_token)))return void Pa();if(200===(e=JSON.parse(e)).status)Zi=!0,bg();else if(422===e.status)Zi=!1,yg();else if(404===e.status){if(-1!==(JSON.parse(e.responseText).error+"").indexOf("Not Found"))return Zi=!1,void yg();Pa()}else 401===e.status||403===e.status?aa(bc.Users_Position,0,Ia,Ta):Pa()}else(e=new XMLHttpRequest).open("GET",t,!0),e.timeout=ji,e.setRequestHeader(Zc,Qc),e.setRequestHeader(Kc,tr),e.setRequestHeader("Authorization","OAuth "+ja[bc.Users_Position].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState)if(200===e.status)Zi=!0,bg();else if(422===e.status)Zi=!1,yg();else if(404===e.status){if(-1!==(JSON.parse(e.responseText).error+"").indexOf("Not Found"))return Zi=!1,void yg();Pa()}else 401===e.status||403===e.status?aa(bc.Users_Position,0,Ia,Ta):Pa()},e.send(null)}function Pa(){++Xi<Yi?(ji+=500,xa()):Ta()}function Ta(){Zi=!1,yg()}function La(e){Sa(),Ba(e,0)}function Ba(e,t){var n,i="https://api.twitch.tv/kraken?oauth_token="+ja[e].access_token;if(_r){if(!(n=Android.mreadUrl(i,3500,0,null)))return void Ga(e,t);200===(n=JSON.parse(n)).status?Oa(n.responseText,e):400===n.status?(Sa(),aa(e,0,null,null)):Ga(e,t)}else(n=new XMLHttpRequest).open("GET",i,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){4===n.readyState&&(200===n.status?Oa(n.responseText,e):400===n.status?(Sa(),aa(e,0,null,null)):Ga(e,t))},n.send(null)}function Oa(e,t){var n=JSON.parse(e);n.token.valid?da(n.token.authorization.scopes)||ua():(Sa(),aa(t,0,null,null))}function Ga(e,t){++t<Yi&&Ba(e,t)}function Ua(){Sa(),Ra()}function Ra(){var e=new XMLHttpRequest;e.open("PUT","https://api.twitch.tv/api/users/"+ja[bc.Users_Position].name+"/follows/games/"+encodeURIComponent(bc.Main_gameSelected)+"?oauth_token="+ja[bc.Users_Position].access_token,!0),e.timeout=1e4,e.setRequestHeader(Zc,Qc),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return nb=!0,void Ry();401===e.status||403===e.status?aa(bc.Users_Position,0,Ua,null):Na()}},e.send(null)}function Na(){++Xi<Yi&&(ji+=500,Ra())}function Da(){Sa(),Va()}function Va(){var e=new XMLHttpRequest;e.open("DELETE","https://api.twitch.tv/api/users/"+ja[bc.Users_Position].name+"/follows/games/"+encodeURIComponent(bc.Main_gameSelected)+"?oauth_token="+ja[bc.Users_Position].access_token,!0),e.timeout=1e4,e.setRequestHeader(Zc,Qc),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(204===e.status)return nb=!1,void Ry();401===e.status||403===e.status?aa(bc.Users_Position,0,Da,null):Ja()}},e.send(null)}function Ja(){++Xi<Yi&&(ji+=500,Va())}function Fa(){Sa(),Ha()}function Ha(){var e,t="https://api.twitch.tv/api/users/"+ja[bc.Users_Position].name+"/follows/games/"+encodeURIComponent(bc.Main_gameSelected);(e=new XMLHttpRequest).open("GET",t,!0),e.timeout=1e4,e.setRequestHeader(Zc,Qc),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState)return 200===e.status?(nb=!0,void Ry()):404===e.status?(nb=!1,void Ry()):void qa()},e.send(null)}function qa(){++Xi<Yi?(ji+=500,Ha()):(nb=!1,Ry())}var za=0,Xa=5,Ya=3500,ja=[],Wa=null,Qa=!1,Za=!1;function Ka(){bc.Main_Go=Kl,Mr("top_bar_user","icon_center_focus"),Hr(),Vl.placeholder=C,kr("add_user_scroll"),to()}function $a(){io(!1),document.body.removeEventListener("keydown",eo),document.body.removeEventListener("keydown",ao),Ir("top_bar_user","icon_center_focus"),Cr("add_user_scroll")}function eo(e){if(!Qa&&!Za&&bc.Main_Go===Kl)switch(e.keyCode){case Ji:Xr()?zr():Qr()?Wr():(0<ja.length&&bc.Main_Go!==rc?bc.Main_Go=bc.Main_Before:bc.Main_Go=Zl,$a(),au());break;case Oi:case Bi:case Gi:case Vi:to()}}function to(){document.body.removeEventListener("keydown",eo),document.body.addEventListener("keydown",ao,!1),Vl.placeholder=C,Vl.focus(),Za=!0}function no(){if(null!==Vl){var e=Vl.cloneNode(!0);Vl.parentNode.replaceChild(e,Vl),Vl=document.getElementById("user_input")}}function io(e){Vl.blur(),no(),document.body.removeEventListener("keydown",ao),Vl.placeholder=k+C,e&&document.body.addEventListener("keydown",eo,!1),Za=!1}function ao(e){if(!Qa&&bc.Main_Go===Kl)switch(e.keyCode){case Ji:Xr()?zr():Qr()?Wr():(0<ja.length&&bc.Main_Go!==rc?bc.Main_Go=bc.Main_Before:bc.Main_Go=Zl,$a(),au());break;case zi:Vl.value="";break;case Hi:case Di:""!==Vl.value&&null!==Vl.value?po(Wa=Vl.value)?(Lr(),Fr(_+Wa+ie),window.setTimeout(function(){Hr(),to()},1500)):(Ya=3500,Qa=!(za=0),Cr("add_user_scroll"),Tr(),oo()):to();break;case Fi:Vl.value=Vl.value.slice(0,-1);break;case qi:Vl.value+=" "}}function oo(){k_("https://api.twitch.tv/kraken/users?login="+encodeURIComponent(Wa),Ya,2,null,so,lo)}function so(e){JSON.parse(e)._total?(Vl.value="",document.body.removeEventListener("keydown",eo),_o(e)):co()}function lo(){++za<Xa?(Ya+=500,oo()):co()}function co(){Wa=null,Lr(),Fr(te),window.setTimeout(function(){Ka()},1e3),Qa=!1}function ro(){if(0<(ja=b_("AddUser_UsernameArray",[])).length)for(var e=0;e<ja.length;e++)ja[e].access_token&&La(e)}function uo(){return 0<ja.length}function _o(e){Wa=JSON.parse(e).users[0],ja.push({name:Wa.name,id:Wa._id,access_token:0,refresh_token:0}),ho(),WE=!1,$a(),ZE(),Qa=!1}function fo(e){var t=ja.indexOf(ja[e]);-1<t&&ja.splice(t,1),0<ja.length?(WE=!1,ZE()):Ka(),ho()}function ho(){g_("AddUser_UsernameArray",JSON.stringify(ja))}function mo(e){Wa=ja[0],ja[0]=ja[e],ja[e]=Wa,WE=!1,ZE(),ho()}function po(e){return-1!==ja.indexOf(e)}function vo(){return 0<ja.length}var go,yo=0,bo=0,wo=!1,Ao=0,Co=0,ko=5,Eo=3500,Mo=0,Io=!1,So=!1,xo=["cc_thumbdiv","cc_img","cc_infodiv","cc_name","cc_createdon","cc_game","cc_viwers","cc_duration","cc_cell","sccempty_","channel_content_scroll"],Po=!1,To="",Lo=null,Bo="",Oo="",Go="",Uo="",Ro="",No={},Do=!1,Vo=null,Jo="";function Fo(){bc.Main_CenterLablesVectorPos=1,bc.Main_Go=dc,Do&&!bc.Search_isSearching&&bc.Main_selectedChannel_id&&_s(),To!==bc.Main_selectedChannel&&(Po=!1),ru(),bc.Main_selectedChannelDisplayname=bc.Main_selectedChannelDisplayname.replace(j,""),xr("top_bar_user",bc.Main_selectedChannelDisplayname),xr("top_bar_game",Ut),document.body.addEventListener("keydown",fs,!1),Ki=!1,Po?(yu(yo),kr(xo[10]),ds(),ls(),su()):qo()}function Ho(){cu(),document.body.removeEventListener("keydown",fs),Cr(xo[10])}function qo(){mu("stream_table_channel_content"),Cr(xo[10]),Vo=null,Tr(),Hr(),To=bc.Main_selectedChannel,Uo="",wo=Io=Po=!1,go=void(yo=bo=Ao=Mo=0),zo(),Xo()}function zo(){r_=!0,Co=0,Eo=3500}function Xo(){k_("https://api.twitch.tv/kraken/streams/"+encodeURIComponent(void 0!==go?go:bc.Main_selectedChannel_id),Eo,2,null,Yo,jo)}function Yo(e){null!==JSON.parse(e).stream?(Lo=e,zo(),Ko()):go?(Lo=null,zo(),Ko()):(zo(),Wo())}function jo(){++Co<ko?(Eo+=500,Xo()):(Lo=null,zo(),Ko())}function Wo(){k_("https://tmi.twitch.tv/hosts?include_logins=1&host="+encodeURIComponent(bc.Main_selectedChannel_id),Eo,1,null,Zo,Qo,!0)}function Qo(){++Co<ko?(Eo+=500,Wo()):(Lo=null,zo(),Ko())}function Zo(e){var t=JSON.parse(e);void 0!==(go=t.hosts[0].target_id)?(zo(),Xo()):(Lo=null,zo(),Ko())}function Ko(){k_("https://api.twitch.tv/kraken/channels/"+bc.Main_selectedChannel_id,Tv,2,null,$o,es)}function $o(e){var t=JSON.parse(e);Vo=(Vo=t.video_banner)?Vo.replace("1920x1080",nr):Vo,Jo=t.profile_banner,Bo=t.views,Oo=t.followers,Go=t.description,bc.Main_selectedChannelLogo=t.logo,ts()}function es(){++Co<ko?(Eo+=500,Ko()):(Vo=null,Jo=Li,Go=Oo=Bo="",bc.Main_selectedChannelLogo=Pi,ts())}function ts(){var e=document.createElement("tr"),t=0,n=document.getElementById("stream_table_channel_content");if((xc=document.createElement("tr")).className="follower_banner",xc.innerHTML='<div id="'+xo[0]+'x_0" class="follower_banner"><img id="'+xo[1]+'x_0" class="stream_img_banner"></div>',n.appendChild(xc),null!==Lo){var i=JSON.parse(Lo);if(null!==i.stream){var a=void 0!==go?bc.Main_selectedChannelDisplayname+ne:"",o=i.stream;e.appendChild(ns("0_"+t,o.channel.name,o.preview.template,mI.parse(o.channel.status),o.game,$r(JSON.stringify(o.stream_type))+a+o.channel.display_name,y+Qm(o.created_at)+" "+m+Zr(o.viewers)+J,Kr(o.video_height,o.average_fps,o.channel.broadcaster_language))),t++}else Io=!0}else Io=!0;e.appendChild(is("0_"+t,bc.Main_selectedChannelDisplayname,bc.Main_selectedChannelDisplayname+O,"movie-play")),t++,e.appendChild(is("0_"+t,bc.Main_selectedChannelDisplayname,bc.Main_selectedChannelDisplayname+U,"movie")),t<2&&(t++,e.appendChild(Au(xo[9]+"0_"+t))),n.appendChild(e),(e=document.createElement("tr")).appendChild(as("1_0",bc.Main_selectedChannelDisplayname,bc.Main_selectedChannelDisplayname,bc.Main_selectedChannelLogo)),(xc=document.createElement("td")).setAttribute("id",xo[8]+"x_x"),xc.className="stream_cell",xc.innerHTML='<div id="'+xo[0]+'x_x" class="stream_thumbnail_video" ><div id="'+xo[4]+'x_x" class="stream_channel_info">'+mI.parse(Go)+"</div></div>",e.appendChild(xc),n.appendChild(e),ss()}function ns(e,t,n,i,a,o,s,d){return Uo=n.replace("{width}x{height}",nr),(xc=document.createElement("td")).setAttribute("id",xo[8]+e),xc.setAttribute(or,t),xc.className="stream_cell",xc.innerHTML='<div id="'+xo[0]+e+'" class="stream_thumbnail_video" ><img id="'+xo[1]+e+'" class="stream_img"></div><div id="'+xo[2]+e+'" class="stream_text"><div id="'+xo[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;"><i class="icon-circle" style="color: '+(void 0!==go?"#FED000":"red")+'; font-size: 90%; aria-hidden="true"></i> '+Mi+o+'</div><div id="'+xo[7]+e+'"class="stream_info" style="width:33%; float: right; text-align: right; display: inline-block;">'+d+'</div><div id="'+xo[4]+e+'"class="stream_info">'+i+'</div><div id="'+xo[5]+e+'"class="stream_info">'+v+a+'</div><div id="'+xo[6]+e+'"class="stream_info">'+s+"</div></div>",xc}function is(e,t,n,i){return(xc=document.createElement("td")).setAttribute("id",xo[8]+e),xc.setAttribute(or,t),xc.className="stream_cell",xc.innerHTML='<div id="'+xo[0]+e+'" class="stream_thumbnail_video" ><div id="'+xo[1]+e+'" class="stream_channel_content_icon"><i class="icon-'+i+'"></i></div></div><div id="'+xo[2]+e+'" class="stream_text"><div id="'+xo[3]+e+'" class="stream_channel" style="text-align: center">'+n+"</div></div>",xc}function as(e,t,n,i){return Ro=i,(xc=document.createElement("td")).setAttribute("id",xo[8]+e),xc.setAttribute(or,t),xc.className="stream_cell",xc.innerHTML='<div id="'+xo[0]+e+'" class="stream_thumbnail_video" ><div id="schannel_cont_heart" style="position: absolute; top: 5%; left: 6%;"></div><img id="'+xo[1]+e+'" class="stream_img_fallow"></div><div id="'+xo[2]+e+'" class="stream_text_channel"><div id="'+xo[3]+e+'" class="stream_channel">'+n+'</div><div id="'+xo[5]+e+'"class="stream_info">'+Zr(Bo)+V+'</div><div id="'+xo[6]+e+'"class="stream_info" >'+Zr(Oo)+Dt+"</div></div>",xc}function os(){Qi?(Sr("schannel_cont_heart",'<i class="icon-heart" style="color: #00b300; font-size: 600%; text-shadow: #FFFFFF 0 0 10px, #FFFFFF 0 0 10px, #FFFFFF 0 0 8px;"></i>'),xr(xo[3]+"1_0",bc.Main_selectedChannelDisplayname+Mt)):(Sr("schannel_cont_heart",'<i class="icon-heart-o" style="color: #FFFFFF; font-size: 600%; text-shadow: #000000 0 0 10px, #000000 0 0 10px, #000000 0 0 8px;"></i>'),uo()?xr(xo[3]+"1_0",bc.Main_selectedChannelDisplayname+It):xr(xo[3]+"1_0",bc.Main_selectedChannelDisplayname+Vt))}function ss(){Po||(Po=!0,""!==Uo&&mr(document.getElementById(xo[1]+"0_0"),Uo,Ti),mr(document.getElementById(xo[1]+"x_0"),Jo,Li),mr(document.getElementById(xo[1]+"1_0"),Ro,Pi),ls(),su(),kr(xo[10]),Lr()),ds(),r_=!1}function ds(){So?os():uo()?($i=bc.Main_selectedChannel_id,Ki=!1,pa()):(Qi=!1,os())}function ls(){Mr(xo[0]+yo+"_"+(yo?0:bo),ar),Cc&&cs(),Tu()}function cs(){zu(yo+"_"+(yo?0:bo),xo)}function rs(){if(yo)uo()&&ja[bc.Users_Position].access_token?(Ki=!1,$i=bc.Main_selectedChannel_id,Qi?ka():wa()):(Fr(Bt),window.setTimeout(Hr,2e3));else{document.body.removeEventListener("keydown",fs),Cr(xo[10]);var e=Io?1:0;bo===0-e?(bc.Play_selectedChannel=document.getElementById(xo[8]+yo+"_"+bo).getAttribute(or),bc.Play_selectedChannelDisplayname=document.getElementById(xo[3]+yo+"_"+bo).textContent,-1!==bc.Play_selectedChannelDisplayname.indexOf(ne)?(bc.Play_isHost=!0,bc.Play_DisplaynameHost=bc.Play_selectedChannelDisplayname,bc.Play_selectedChannelDisplayname=bc.Play_selectedChannelDisplayname.split(ne)[1],bc.Play_selectedChannel_id=go):bc.Play_selectedChannel_id=bc.Main_selectedChannel_id,bc.Play_gameSelected=document.getElementById(xo[5]+yo+"_"+bo).textContent.split(v)[1],ju(Vu)):bo===1-e?ju(Ds):bo===2-e&&(ny=Dy,ju(dy))}}function us(){No={"Main_values.Main_selectedChannel_id":bc.Main_selectedChannel_id,"Main_values.Main_selectedChannelLogo":bc.Main_selectedChannelLogo,"Main_values.Main_selectedChannel":bc.Main_selectedChannel,"Main_values.Main_selectedChannelDisplayname":bc.Main_selectedChannelDisplayname,ChannelContent_UserChannels:So,"Main_values.Main_BeforeChannel":bc.Main_BeforeChannel}}function _s(){bc.Main_selectedChannel_id=bc.Main_selectedChannel_id,bc.Main_selectedChannelLogo=bc.Main_selectedChannelLogo,bc.Main_selectedChannel=bc.Main_selectedChannel,bc.Main_selectedChannelDisplayname=bc.Main_selectedChannelDisplayname,So=No.ChannelContent_UserChannels,bc.Main_BeforeChannel=bc.Main_BeforeChannel,Do=!(No={})}function fs(e){if(!r_&&!Ou())switch(Bu(),e.keyCode){case Ji:Qr()?Wr():Xr()?zr():(cs(),__(fs)),n_();break;case Ui:bo?yo||(cs(),--bo<0&&(bo=Io?1:2),ls()):(cs(),a_(fs,!0));break;case Ni:yo||(cs(),(Io?1:2)<++bo&&(bo=0),ls());break;case Ri:yo?(cs(),yo=0,ls()):(cs(),__(fs));break;case Di:yo||(cs(),yo=1,ls());break;case Oi:case Bi:case Gi:case Vi:rs()}}var hs=0,ms=0,ps=!1,vs=0,gs={},ys=[],bs=!1,ws=0,As=5,Cs=3500,ks=0,Es=0,Ms=0,Is=!1,Ss=!1,xs="",Ps=!1,Ts=["cv_thumbdiv","cv_img","cv_infodiv","cv_title","cv_streamon","cv_duration","cv_viwers","cv_quality","cv_cell","cvempty_","channel_vod_scroll","cv_game"],Ls=!1,Bs=!1,Os="",Gs="",Us="",Rs="",Ns=0;function Ds(){bc.Main_CenterLablesVectorPos=1,bc.Main_Go=lc,!bc.Search_isSearching&&bc.Main_selectedChannel_id&&_s(),bc.Main_selectedChannel!==Os&&(Ls=!1),ru(),Ar("label_side_panel","icon-arrow-circle-left",I),xr("top_bar_user",bc.Main_selectedChannelDisplayname),document.body.addEventListener("keydown",ed,!1),Ls?(yu(hs),xr("top_bar_game",Bs?G:O),kr(Ts[10]),Qs(),su()):Js()}function Vs(){Ls&&Zs(),cu(),document.body.removeEventListener("keydown",ed),Cr(Ts[10]),Hr()}function Js(){Ls&&Zs(),mu("stream_table_channel_vod"),Cr(Ts[10]),xr("top_bar_game",Bs?G:O),Tr(),Hr(),Os=bc.Main_selectedChannel,Ps=Ls=!1,r_=!(Ss=!(ys=[])),hs=ms=vs=Es=ks=0,ps=!(gs={}),Nr(),Fs(),Hs()}function Fs(){vu(),bs=!0,ws=0,Cs=3500}function Hs(){var e=vs+ks;e&&Es-1<e&&(e=Es-Vc,ps=!0);var t="https://api.twitch.tv/kraken/channels/"+encodeURIComponent(bc.Main_selectedChannel_id)+"/videos?limit="+Vc+"&broadcast_type="+(Bs?"highlight":"archive")+"&sort=time&offset="+e;_r&&!vs?M_(t,Cs,2,null,zs,qs):I_(t,Cs,2,null,zs,qs,!1)}function qs(){++ws<As?(Cs+=500,Hs()):(bs=!1,vs?(ps=!0,Xs()):(r_=!1,Lr(),Fr(P),__(ed)))}function zs(e){var t=JSON.parse(e),n=t.videos.length;Es=parseInt(t._total),n<Vc&&(ps=!0);var i=vs;Is=!(vs+=n);var a=n/Jc;0<n%Jc&&a++;var o,s,d,l,c,r,u,_=0,f=document.getElementById("stream_table_channel_vod");if(!Ps){Ps=!0,d=document.createElement("tr");var h='<i class="icon-movie-play stream_channel_fallow_icon"></i>'+Mi+Mi+p;(xc=document.createElement("td")).setAttribute("id",Ts[8]+"y_0"),xc.className="stream_cell",xc.innerHTML='<div id="'+Ts[0]+'y_0" class="stream_thumbnail_channel_vod" ><div id="'+Ts[3]+'y_0" class="stream_channel_fallow_game">'+h+"</div></div>",d.appendChild(xc),d.appendChild(document.createElement("tr")),d.appendChild(document.createElement("tr")),f.appendChild(d)}for(var m=0;m<a;m++){for(s=i/Jc+m,d=document.createElement("tr"),o=0;o<Jc&&_<n;o++,_++)c=(l=t.videos[_])._id,r=-1!==((u=l.preview.template)+"").indexOf("404_processing"),s||o||!r||(r=!1,u=null!==Vo?Vo:Ti),r||gs[c]?o--:(gs[c]=1,d.appendChild(nI(s,s+"_"+o,[c,l.length,l.channel.broadcaster_language,l.game,l.channel.name,l.increment_view_count_url],[u.replace("{width}x{height}",nr),l.channel.display_name,N+_u(l.created_at),mI.parse(l.title)+_i+Qt+v+l.game,Zr(l.views)+V,Kr(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.channel.broadcaster_language),D+jm(l.length),l.animated_preview_url],Ts)));for(;o<Jc;o++)ps&&!Ss&&(Ss=!0,vs=s*Jc+o),d.appendChild(Au(Ts[9]+s+"_"+o)),ys.push(Ts[9]+s+"_"+o);f.appendChild(d)}Xs()}function Xs(){if(Ls?(Qs(!0),pu(null!==Vo?Vo:Ti)):(Is?(__(ed),Fr(T+(Bs?G:O)+L+M)):(Ls=!0,pu(null!==Vo?Vo:Ti),Qs(),su()),kr(Ts[10]),r_=!1,Lr()),0<ys.length&&!ps)return Fs(),void Ys();bs=!(ys=[])}function Ys(){Jr(ys.length);var e=vs+ks;e&&Es-1<e&&(e=Es-Wc,ps=!0),k_("https://api.twitch.tv/kraken/channels/"+encodeURIComponent(bc.Main_selectedChannel_id)+"/videos?limit="+Wc+"&broadcast_type="+(Bs?"highlight":"archive")+"&sort=time&offset="+e,Cs,2,null,Ws,js)}function js(){++ws<As?(Cs+=500,Ys()):(ps=!0,vs-=ys.length,ys=[],Xs())}function Ws(e){var t,n,i=JSON.parse(e),a=i.videos.length,o=0,s=0,d=[];for(Es=parseInt(i._total);o<ys.length&&s<a;o++,s++)n=(t=i.videos[s])._id,-1!==(t.preview.template+"").indexOf("404_processing")||gs[n]?o--:(gs[n]=1,aI(ys[o],[n,t.length,t.channel.broadcaster_language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",nr),t.channel.display_name,N+_u(t.created_at),mI.parse(t.title)+_i+Qt+v+t.game,Zr(t.views)+V,Kr(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.channel.broadcaster_language),D+jm(t.length),t.animated_preview_url],Ts),d.push(o));for(o=d.length-1;-1<o;o--)ys.splice(d[o],1);ks+=s,ps&&(vs-=ys.length,ys=[]),Xs()}function Qs(e){hs<0?Ks():(Uu(hs,ms,Ts,Jc,vs,e),sI(Ts,hs+"_"+ms),vs/Jc<hs+Fc&&!ps&&!bs&&(Fs(),Hs()),Cc&&Zs())}function Zs(){window.clearInterval(eI),-1<hs&&vs?(kr(Ts[1]+hs+"_"+ms),zu(hs+"_"+ms,Ts)):$s()}function Ks(){Mr(Ts[0]+"y_0",ar)}function $s(){Ir(Ts[0]+"y_0",ar)}function ed(e){var t;if(!r_&&!Ou())switch(Bu(),e.keyCode){case Ji:Qr()?Wr():Xr()?zr():(Zs(),__(ed)),n_();break;case Ui:if(ms){if(eu(hs,ms-1,Ts[0]))Zs(),ms--,Qs();else for(t=Jc-1;-1<t;t--)if(eu(hs-1,t,Ts[0])){Zs(),hs--,ms=t,Qs();break}}else Zs(),a_(ed,!0);break;case Ni:eu(hs,ms+1,Ts[0])?(Zs(),ms++,Qs()):eu(hs+1,0,Ts[0])&&(Zs(),hs++,ms=0,Qs());break;case Ri:if(-1===hs)Zs(),hs=0,__(ed);else if(hs){for(t=0;t<Jc;t++)if(eu(hs-1,ms-t,Ts[0])){Zs(),hs--,ms-=t,Qs();break}}else Zs(),hs=-1,Ks();break;case Di:if(-1!==hs||Is){for(t=0;t<Jc;t++)if(eu(hs+1,ms-t,Ts[0])){Zs(),hs++,ms-=t,Qs();break}}else hs=0,$s(),Qs();break;case Oi:case Bi:case Gi:case Vi:-1===hs?(g_("ChannelVod_highlight",(Bs=!Bs)?"true":"false"),Js()):Fu(hs+"_"+ms,Ts,ed)}}var td,nd,id,ad,od,sd,dd=0,ld=10,cd=!1,rd=0,ud=null,_d=!1,fd=0,hd={bbtv:{},ffz:{}},md={};function pd(){Vd(),bc.Play_ChatForceDisable?(Xd||dl(),_d=!1,ju(function(){rd=(new Date).getTime(),od=bc.Play_selectedChannel_id,sd=bc.Play_selectedChannel,vd(rd,bd)})):Gl()}function vd(e,t){dd=0,gd(e,t)}function gd(e,t){var n="https://badges.twitch.tv/v1/badges/channels/"+od+"/display",i=new XMLHttpRequest;i.open("GET",n,!0),i.timeout=1e4,i.ontimeout=function(){},i.onreadystatechange=function(){if(4===i.readyState){if(200===i.status)return void t(i.responseText,e);yd(e,t)}},i.send(null)}function yd(e,t){++dd<ld?gd(e,t):nd=window.setTimeout(function(){gd(e,t)},500)}function bd(e,t){yl(e),wd(),Ed(),rd===t&&Td()}function wd(){hd.bbtv[od]||(dd=0,Ad())}function Ad(){var e="https://api.betterttv.net/2/channels/"+encodeURIComponent(sd),t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=1e4,t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?kd(t.responseText):404===t.status?hd.bbtv[od]=1:Cd())},t.send(null)}function Cd(){++dd<ld&&Ad()}function kd(e){xd(JSON.parse(e)),hd.bbtv[od]=1}function Ed(){hd.ffz[od]||(dd=0,Md())}function Md(){var e="https://api.frankerfacez.com/v1/room/"+encodeURIComponent(sd),t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=1e4,t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?Sd(t.responseText):404===t.status?hd.ffz[od]=1:Id())},t.send(null)}function Id(){++dd<ld&&Md()}function Sd(e){Pd(JSON.parse(e)),hd.ffz[od]=1}function xd(t){t.emotes.forEach(function(e){md[e.code]={code:e.code,id:e.id,"3x":"https:"+t.urlTemplate.replace("{{id}}",e.id).replace("{{image}}","3x")}})}function Pd(t){Object.keys(t.sets).forEach(function(e){((e=t.sets[e]).emoticons||Array.isArray(e.emoticons))&&e.emoticons.forEach(function(e){e.name&&e.id&&"string"==typeof e.name&&"number"==typeof e.id&&(md[e.name]||e.urls&&"object"==typeof e.urls&&"string"==typeof e.urls[1]&&(e.urls[2]&&"string"!=typeof e.urls[2]||(md[e.name]={code:e.name,id:e.id,"3x":"https:"+(e.urls[4]||e.urls[2]||e.urls[1].replace(/1$/,"2"))})))})})}function Td(){Od(),Ld()}function Ld(){(ud=new ReconnectingWebSocket("wss://irc-ws.chat.twitch.tv","irc",{reconnectInterval:3e3})).onopen=function(){ud.send("PASS blah\r\n"),ud.send("NICK justinfan12345\r\n"),ud.send("CAP REQ :twitch.tv/commands twitch.tv/tags\r\n"),ud.send("JOIN #"+sd+"\r\n")},ud.onclose=function(){cd=!0},ud.onmessage=function(e){var t=window.parseIRC(e.data.trim());if(t.command)switch(t.command){case"PING":ud.send("PONG "+t.params[0]);break;case"JOIN":_d=!0,Rd('&nbsp;<span class="message">'+_i+bn+bc.Play_selectedChannelDisplayname+" "+f+"</span>");break;case"PRIVMSG":Gd(t)}},id=window.setTimeout(Bd,5e3)}function Bd(){_d?ad=window.setInterval(Nd,1e3):(ud.close(1e3),Td())}function Od(){window.clearTimeout(id)}function Gd(e){var t="",n=e.tags;if(n.hasOwnProperty("badges")&&"string"==typeof n.badges&&n.badges.split(",").forEach(function(e){e=e.split("/"),t+='<span class="'+e[0]+"-"+e[1]+' tag"></span>'}),n.hasOwnProperty("display-name")){var i=n["display-name"];"string"==typeof i&&(t+='<span class="nick" style="color: #'+el[i.charCodeAt(0)%tl]+';">'+i+"</span>&#58;&nbsp;")}var a=e.params[1];/^\x01ACTION.*\x01$/.test(a)&&(a=a.replace(/^\x01ACTION/,"").replace(/\x01$/,"").trim());var o={};n.hasOwnProperty("emotes")&&"string"==typeof n.emotes&&(n.emotes=n.emotes.split("/"),n.emotes.forEach(function(t){t=t.split(":"),o[t[0]]||(o[t[0]]=[]),t[1].split(",").forEach(function(e){e=e.split("-"),o[t[0]].push([parseInt(e[0]),parseInt(e[1])])})})),Rd(t+='<span class="message">'+Ud(_I(a,o))+"</span>")}function Ud(e){for(var t=0;t<e.length;t++)"string"==typeof e[t]?e[t]=uI(e[t]):e[t]=e[t][0];return mI.parse(e.join(" "),!0,!0)}function Rd(e){var t=document.createElement("div");t.className="chat_line",t.innerHTML=e,qd.appendChild(t),Nd(),100<++fd&&(fd=0,Rl())}function Nd(){qd.scrollTop=qd.scrollHeight}function Dd(){Od(),window.clearTimeout(nd),window.clearTimeout(td),window.clearInterval(ad)}function Vd(){Dd(),ud&&ud.close(1e3),rd=0,mu("chat_box"),_d=cd=!1}var Jd,Fd,Hd,qd,zd,Xd=!1,Yd=0,jd=[],Wd=[],Qd=10,Zd=null,Kd=0,$d="",el=["fe2424","fc5a24","ff9020","fEc723","ffff1d","bfff00","c3ff12","56fe1d","1eff1e","16ff51","00ff80","00ffbf","00ffff","1dc6ff","158aff","3367ff","ff4dff","ff4ad2","ff62b1","ff4272"],tl=el.length,nl=0,il=!1,al=0;function ol(){qd=document.getElementById("chat_box"),dl()}function sl(){xl(),_r&&bc.Play_ChatForceDisable?(Xd||dl(),ju(function(){al=(new Date).getTime(),od=bc.Main_selectedChannel_id,sd=bc.Main_selectedChannel,vd(al,bl)})):Gl()}function dl(){Yd=0,Xd=!(md={}),ll()}function ll(){I_("https://badges.twitch.tv/v1/badges/global/display",1e4,0,null,rl,cl,!1)}function cl(){++Yd<Qd?ll():Xd=!1}function rl(e){fI(JSON.parse(e).badge_sets).forEach(function(t){t.versions.forEach(function(e){hI(t.type,e.type,e.image_url_4x,null)})}),ul()}function ul(){Yd=0,_l()}function _l(){I_("https://api.betterttv.net/2/emotes",1e4,0,null,hl,fl,!1)}function fl(){++Yd<Qd?_l():Xd=!1}function hl(e){xd(JSON.parse(e)),ml()}function ml(){Yd=0,pl()}function pl(){I_("https://api.frankerfacez.com/v1/set/global",1e4,0,null,gl,vl,!1)}function vl(){++Yd<Qd?pl():Xd=!1}function gl(e){Pd(JSON.parse(e)),Xd=!0}function yl(e){fI(JSON.parse(e).badge_sets).forEach(function(t){t.versions.forEach(function(e){hI(t.type,e.type,e.image_url_4x,qd)})})}function bl(e,t){yl(e),wd(),Ed(),al===t&&wl(t)}function wl(e){Yd=0,al===e&&Al(e)}function Al(e){var t="https://api.twitch.tv/v5/videos/"+bc.ChannelVod_vodId+"/comments?client_id="+Qc+(Kd?"&content_offset_seconds="+parseInt(Kd):""),n=new XMLHttpRequest;n.open("GET",t,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){if(4===n.readyState){if(200===n.status)return void(al===e&&kl(n.responseText,e));al===e&&Cl(e)}},n.send(null)}function Cl(e){Yd++,al===e&&(Yd<Qd?Al(e):Fd=window.setTimeout(function(){Al(e)},2500))}function kl(e,t){e=JSON.parse(e);var n,i,a=null===Zd;a&&(n="&nbsp;",n+='<span class="message">',n+=_i+bn+bc.Main_selectedChannelDisplayname+" "+$d,El(n+="</span>",0)),Kd=0,Zd=e._next,e.comments.forEach(function(e){n="",(i=e.message).hasOwnProperty("user_badges")&&i.user_badges.forEach(function(e){n+='<span class="'+e._id+"-"+e.version+' tag"></span>'}),n+='<span class="nick" style="color: #'+el[e.commenter.display_name.charCodeAt(0)%tl]+';">'+e.commenter.display_name+"</span>&#58;&nbsp;",n+='<span class="message">',i.fragments.forEach(function(e){e.hasOwnProperty("emoticon")?n+='<img class="emoticon" src="https://static-cdn.jtvnw.net/emoticons/v1/'+e.emoticon.emoticon_id+'/1.0" srcset="https://static-cdn.jtvnw.net/emoticons/v1/'+e.emoticon.emoticon_id+"/2.0 2x, https://static-cdn.jtvnw.net/emoticons/v1/"+e.emoticon.emoticon_id+'/3.0 4x">':n+=Ud([e.text])}),n+="</span>",a?El(n,e.content_offset_seconds):void 0!==Zd&&Ml(n,e.content_offset_seconds)}),a&&al===t&&(Il(t),void 0!==Zd&&Tl(t))}function El(e,t){jd.push({time:t,message:e})}function Ml(e,t){Wd.push({time:t,message:e})}function Il(e){il||al!==e||(Jd=window.setInterval(function(){Pl(e),qd.scrollTop=qd.scrollHeight},1e3))}function Sl(){il||(window.clearTimeout(zd),window.clearTimeout(Fd),window.clearTimeout(Hd),window.clearInterval(Jd))}function xl(){Sl(),al=0,mu("chat_box"),il=!1,Zd=null,jd=[],Wd=[],nl=0}function Pl(e){var t;if(nl<jd.length-1)for(var n=nl;n<jd.length&&jd[n].time<Ns+Android.gettime()/1e3;n++,nl++)(t=document.createElement("div")).className="chat_line",t.innerHTML=jd[n].message,qd.appendChild(t);else if(Sl(),void 0!==Zd)jd=Wd.slice(),nl=0,Il(e),Wd=[],al===e&&Tl(e),Rl();else{var i="&nbsp;";i+='<span class="message">',i+=_i+_i+kn+_i+_i,i+="</span>",(t=document.createElement("div")).className="chat_line",t.innerHTML=i,qd.appendChild(t),il=!0,qd.scrollTop=qd.scrollHeight,window.clearInterval(Jd),Jd=window.setInterval(function(){qd.scrollTop=qd.scrollHeight},1e3)}}function Tl(e){Yd=0,il||al!==e||Ll(e)}function Ll(e){var t="https://api.twitch.tv/v5/videos/"+bc.ChannelVod_vodId+"/comments?client_id="+Qc+(null!==Zd?"&cursor="+Zd:""),n=new XMLHttpRequest;n.open("GET",t,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){if(4===n.readyState){if(200===n.status)return void(il||al!==e||kl(n.responseText,e));il||al!==e||Bl(e)}},n.send(null)}function Bl(e){Yd++,al===e&&(Yd<Qd?Ll(e):Hd=window.setTimeout(function(){Ll(e)},2500))}function Ol(){xl(),Ul(ln+_i+cn)}function Gl(){xl(),Ul($n)}function Ul(e){var t="&nbsp;";t+='<span class="message">',t+=_i+_i+_i+_i+_i+_i+_i+_i+_i+_i,t+=e,t+="</span>";var n=document.createElement("div");n.className="chat_line",n.innerHTML=t,qd.appendChild(n)}function Rl(){var e=document.getElementsByClassName("chat_line");if(0<e.length-100)for(var t=0;t<e.length-100;t++)e[0].parentNode.removeChild(e[0]);Nd()}var Nl,Dl,Vl,Jl,Fl,Hl,ql,zl,Xl=!0,Yl=!1,jl=!1,Wl=-1,Ql=new Image,Zl=1,Kl=2,$l=3,ec=4,tc=5,nc=6,ic=7,ac=8,oc=9,sc=10,dc=11,lc=12,cc=13,rc=14,uc=15,_c=16,fc=17,hc=18,mc=19,pc=20,vc=21,gc=22,yc="",bc={Main_Go:1,Main_Before:1,Main_BeforeSearch:1,Main_BeforeChannel:1,Main_BeforeAgame:$l,Main_BeforeChannelisSet:!1,Main_BeforeAgameisSet:!1,Main_selectedChannel:"",Main_selectedChannelDisplayname:"",Main_selectedChannelLogo:"",Main_selectedChannel_id:"",Main_gameSelected:"",Main_OldgameSelected:null,Play_isHost:!1,Play_DisplaynameHost:"",Play_selectedChannelDisplayname:"",Play_selectedChannel:"",Play_gameSelected:"",Users_Position:0,Users_AddcodePosition:0,Play_WasPlaying:0,ChannelVod_vodId:"",vodOffset:0,Search_data:"",isLastSChannels:!1,gameSelectedOld:"",Games_return:!1,Search_isSearching:!1,Play_ChatForceDisable:!1,Never_run:!0,Main_CenterLablesVectorPos:0},wc=!0,Ac=!0,Cc=!1,kc=[],Ec=0,Mc=0,Ic=null,Sc=!0,xc="",Pc=!1,Tc="",Lc=["label_side_panel","label_refresh","top_bar_live","top_bar_user","top_bar_featured","top_bar_game","top_bar_vod","top_bar_clip"],Bc=[],Oc=0,Gc=!0,Uc=!1,Rc=0,Nc=1.35,Dc=1.5,Vc=45,Jc=3,Fc=Math.floor(Vc/Jc/Dc),Hc=45,qc=5,zc=Math.floor(Hc/qc/Nc),Xc=48,Yc=6,jc=Math.floor(Xc/Yc/Dc),Wc=6,Qc="5seja5ptej058mxqy7gh5tcudjqtm9",Zc="Client-ID",Kc="Accept",$c="Authorization",er="OAuth ",tr="application/vnd.twitchtv.v5+json",nr="528x297",ir="340x475",ar="stream_thumbnail_focused",or="data_attribute",sr="1.0",dr=".21",lr="053019",cr=sr+dr+"-"+lr,rr="",ur=0,_r=0,fr="?"+Math.random(),hr="https://cors-anywhere.herokuapp.com/",mr=function(e,t,n){e.onerror=function(){this.onerror=null,this.src=n},e.src=t};function pr(){(jl=w_("Main_isDebug",!1))&&Xl?vr():"loading"===document.readyState?document.addEventListener("DOMContentLoaded",function(){gr(window.navigator.userLanguage||window.navigator.language)}):gr(window.navigator.userLanguage||window.navigator.language)}function vr(){console.log("Debug mod start");var e=document.createElement("script");e.src="https://fgl27.github.io/SmartTwitchTV/release/githubio/js/masterdebug.js",document.head.appendChild(e)}function gr(e){Xu(),ju(function(){try{_r=Android.getAndroid(),rr=Android.getversion()}catch(e){rr="1.0.0",_r=0,document.body.style.backgroundColor="rgba(0, 0, 0, 1)",Yl=jl=!0,console.log("Main_isReleased: "+Xl),console.log("Main_isDebug: "+jl),console.log("Main_isBrowser: "+Yl)}_r&&(document.body.addEventListener("keydown",P_,!1),document.body.addEventListener("keyup",T_,!1)),CA(),Si(),YA(),console.log("language is "+e),Ii(),-1!==window.location.href.indexOf("code")&&C_(window.location.href),yr()})}function yr(){iy(),br(!0),Nl=document.getElementById("scrollbar"),du(),yc=bc.Main_Go,ju(function(){ol(),hm(),ro(),uo()&&(zl=window.setInterval(Ku,6e5),Ku()),document.body.addEventListener("keyup",Tu,!1),ay(),document.getElementById("side_panel").style.marginLeft="",fu(),wr(),Bs=w_("ChannelVod_highlight",!1),BM=w_("UserVod_highlight",!1),xM=y_("UserVod_TypeNumber",1),zg(),Dl=document.getElementById("search_input"),Vl=document.getElementById("user_input"),wu(Ti),wu(xi),wu(Pi),document.addEventListener("visibilitychange",Qu,!1),Fl=window.setInterval(Zu,6e4),ny=Hy,dy(),Jl=window.setTimeout(nu,5e3),kr("topbar"),document.getElementById("scenefeed").style.display="block"})}function br(e){Zu(),Ar("label_refresh","icon-refresh",t+Yt),Sr("label_update",'<div class="strokedextramini" style="vertical-align: middle; display: inline-block;"><i class="icon-arrow-up" style="color: #FF0000; font-size: 115%; "></i></div><div class="strokedextramini" style="vertical-align: middle; display: inline-block; color: #FF0000">'+Mi+_t+"</div>"),Ar("label_side_panel","icon-ellipsis",Rn),Ar("icon_feed_refresh","icon-refresh",t+" Press up"),xr("top_bar_live",f),xr("top_bar_user",e?_:i),xr("top_bar_featured",an),xr("top_bar_game",h),xr("top_bar_vod",Kt),xr("top_bar_clip",U),Sr("scene2_search_text",Mi+n),Sr("scene2_channel_text",Mi+Ut),Sr("scene2_game_text",Mi+Jt),xr("dialog_end_next_text",si),xr("dialog_end_replay_text",en),xr("dialog_end_vod_text",sn),xr("dialog_end_channel_text",Ut),xr("dialog_end_game_text",Jt),Sr("dialog_about_text",Ai+Ci),Bc=[de,le,ce,re],e?vA():(AA(),fu())}function wr(){xr("play_dialog_exit_text",F),xr("side_panel_search",n),xr("side_panel_settings",i),xr("side_panel_about",a),xr("side_panel_controls",e),xr("side_panel_exit",q),xr("side_panel_live",f),xr("side_panel_user",_),xr("side_panel_featured",an),xr("side_panel_games",h),xr("side_panel_videos",Kt),xr("side_panel_clips",U),xr("side_panel_hide",o),xr("chanel_button",E),xr("game_button",h),xr("live_button",f),xr("exit_app_cancel",Y),xr("exit_app_close",z),xr("remove_cancel",Y),xr("remove_yes",Ft),xr("exit_app_minimize",X),xr("main_dialog_exit_text",H),Sr("dialog_controls_text",wi),xr("dialog_vod_text",wn),Sr("dialog_vod_start_text",Cn)}function Ar(e,t,n){Sr(e,'<div class="strokedextramini" style="vertical-align: middle; display: inline-block;"><i class="'+t+'" style="color: #FFFFFF; font-size: 115%; "></i></div><div class="strokedextramini" style="vertical-align: middle; display: inline-block">'+Mi+n+"</div>")}function Cr(e){document.getElementById(e).classList.add("hide")}function kr(e){document.getElementById(e).classList.remove("hide")}function Er(e){return-1===document.getElementById(e).className.indexOf("hide")}function Mr(e,t){document.getElementById(e).classList.add(t)}function Ir(e,t){document.getElementById(e).classList.remove(t)}function Sr(e,t){document.getElementById(e).innerHTML=t}function xr(e,t){document.getElementById(e).textContent=t}function Pr(e){var t=document.getElementById(e).getElementsByClassName("emoji");if(t){for(var n=0;n<t.length;n++)t[n].classList.add("emoticon");for(t=document.getElementById(e).getElementsByClassName("emoticon"),n=0;n<t.length;n++)t[n].classList.remove("emoji")}}function Tr(){yu(-1),_r?Android.mshowLoading(!0):kr("dialog_loading")}function Lr(){_r?Android.mshowLoading(!1):Cr("dialog_loading")}function Br(){window.clearTimeout(Ic)}function Or(){Ic=window.setTimeout(Ur,6e3)}function Gr(){Or(),kr("main_dialog_exit"),document.body.addEventListener("keydown",d_,!1)}function Ur(){document.body.removeEventListener("keydown",d_,!1),Uc?(Uc=!1,ou()):__(ql),Br(),Cr("main_dialog_exit"),Mc=0,Rr()}function Rr(){Ir("exit_app_cancel","button_search_focused"),Ir("exit_app_minimize","button_search_focused"),Ir("exit_app_close","button_search_focused"),Mr(Mc?1===Mc?"exit_app_minimize":"exit_app_close":"exit_app_cancel","button_search_focused")}function Nr(){mu("dialog_counter_text"),Vr(0,0,0)}function Dr(e,t,n,i){0<i?(xr("dialog_counter_text",t*n+(e+1)+"/"+i),Vr(t,n,i)):Nr()}function Vr(e,t,n){var i=screen.height/100*7;if(3===t&&9<n||5===t&&10<n||6===t&&12<n){var a=bc.Main_Go===ec||bc.Main_Go===mc||bc.Main_Go===pc||bc.Main_Go===lc||bc.Main_Go===gc||bc.Main_Go===fc||bc.Main_Go===hc||bc.Main_Go===cc,o=Math.ceil((screen.height-3*i)/(Math.ceil(n/t)-1)*e+i*(a?1.8:1));Nl.style.top=o+"px",Sc&&(Sc=!1,Nl.style.backgroundColor="#777777")}else Nl.style.backgroundColor="#000000",Nl.style.top=i+"px",Sc=!0}function Jr(e){(Wc=12)/3<e&&(Wc=3*e),99<Wc&&(Wc=99)}function Fr(e){xr("dialog_warning_text",e),kr("dialog_warning")}function Hr(){Cr("dialog_warning")}function qr(){Wr(),kr("dialog_about")}function zr(){Cr("dialog_about")}function Xr(){return Er("dialog_about")}function Yr(){Wr(),Hr(),lu(bc.Main_Go),Nr(),mA()}function jr(){zr(),kr("dialog_controls")}function Wr(){Cr("dialog_controls")}function Qr(){return Er("dialog_controls")}function Zr(e){return(e+"").replace(/\B(?=(\d{3})+(?!\d))/g,",")}function Kr(e,t,n){return(e+="").indexOf("x")||(e=e.slice(-3)),e+"p"+(t=58<t?60:t<32?30:Math.ceil(t))+(""!==n?" ["+n.toUpperCase()+"]":"")}function $r(e){return-1!==e.indexOf("live")?"":j}function eu(e,t,n){return null!==document.getElementById(n+e+"_"+t)}function tu(){Zu(),au(),document.body.addEventListener("keyup",Tu,!1)}function nu(){for(var e,t=0;t<Lc.length;t++)t<2?document.getElementById(Lc[t]).style.opacity="0.5":-1===(e=document.getElementById(Lc[t])).className.indexOf("icon_center_focus")&&(e.style.opacity="0.5");Mr("topbar","topbar_dim")}function iu(){for(var e=0;e<Lc.length;e++)document.getElementById(Lc[e]).style.opacity="1";Ir("topbar","topbar_dim")}function au(e){window.clearTimeout(Jl),iu(),ju(function(){ou(e)})}function ou(e){Hr(),bc.Main_Go!==dc&&(bc.Main_BeforeChannelisSet=!1),bc.Main_Go!==ec&&(bc.Main_BeforeAgameisSet=!1),Nr(),bc.Main_Go===Zl?(ny=Hy,dy()):bc.Main_Go===Kl?Ka():bc.Main_Go===$l?(ny=Jy,dy()):bc.Main_Go===ec?(ny=zy,dy()):bc.Main_Go===ac?kw():bc.Main_Go===oc?cw():bc.Main_Go===sc?Qw():bc.Main_Go===dc?Fo():bc.Main_Go===lc?Ds():bc.Main_Go===cc?(ny=Dy,dy()):bc.Main_Go===rc?ZE():bc.Main_Go===tc?kE():bc.Main_Go===nc?tk():bc.Main_Go===ic?(ny=Fy,dy()):bc.Main_Go===uc?CC():bc.Main_Go===_c?Gb():bc.Main_Go===fc?(ny=Xy,dy()):bc.Main_Go===hc?(ny=Ny,dy()):bc.Main_Go===mc?(ny=Yy,dy()):bc.Main_Go===pc?(ny=Vy,dy()):bc.Main_Go===vc?(ny=qy,dy()):bc.Main_Go===gc&&OM(),Jl=window.setTimeout(nu,3e3),e&&p_()}function su(){g_("Main_values",JSON.stringify(bc))}function du(){bc=sy(bc,b_("Main_values",{}))}function lu(e){e===Zl?ly():e===Kl?$a():e===$l?ly():e===ec?ly():e===ac?Ew():e===oc?rw():e===sc?Zw():e===dc?Ho():e===lc?Vs():e===cc?ly():e===rc?KE():e===tc?EE():e===nc?nk():e===ic?ly():e===uc?kC():e===_c?Ub():e===fc?ly():e===hc?ly():e===mc?ly():e===pc?ly():e===vc?ly():e===gc&&GM(),Er("settings_scroll")&&pA()}function cu(){Ar("label_refresh","icon-refresh",t+Yt),Ar("label_side_panel","icon-ellipsis",Rn),Ir("top_bar_user","icon_center_focus"),xr("top_bar_live",f),xr("top_bar_user",_),xr("top_bar_featured",an),xr("top_bar_game",h),xr("top_bar_vod",Kt),xr("top_bar_clip",U)}function ru(){Ar("label_side_panel","icon-arrow-circle-left",I),mu("top_bar_live"),mu("top_bar_game"),mu("top_bar_vod"),mu("top_bar_clip"),mu("top_bar_featured"),Mr("top_bar_user","icon_center_focus")}function uu(e){return'<div style="font-size: 30%; position: fixed; line-height: 0; text-shadow: #000000 0 0 5.7px, #000000 0 0 5.7px, #000000 0 0 4px">'+e+"</div>"}function _u(e){return e=new Date(e),Pc?e.getDate()+" "+jt[e.getMonth()]+" "+e.getFullYear():jt[e.getMonth()]+" "+e.getDate()+" "+e.getFullYear()}function fu(){_r&&(cr="Android: "+rr+" Web: "+lr,hu(rr)&&kr("label_update")),Sr("dialog_about_text",Ai+ye+cr+Ci)}function hu(e){return e=e.split("."),parseFloat(e[0]+"."+e[1])<parseFloat(sr)||parseInt(e[2])<parseInt(dr.split(".")[1])}function mu(e){for(e=document.getElementById(e);e.firstChild;)e.removeChild(e.firstChild)}function pu(e){for(var t,n=0;n<kc.length;n++)null!==(t=document.getElementById(kc[n].id))&&mr(t,kc[n].src+fr,e)}function vu(){kc=[]}function gu(e,t){kc.push({id:e,src:t})}function yu(e){Wl=e}function bu(e){var t=0;return Wl<e?t=-1:e<Wl&&(t=1),Wl=e,t}function wu(e){Ql.src=e}function Au(e){return(xc=document.createElement("td")).setAttribute("id",e),xc.className="stream_cell",xc}function Cu(e,t,n){return(xc=document.createElement("td")).setAttribute("id",t[4]+e),xc.setAttribute(or,n[0]),xc.setAttribute("data-id",n[1]),xc.className="stream_cell",xc.innerHTML=Eu(e,t,n),xc}function ku(e,t,n){var i=document.getElementById(e),a=e.split(n[5])[1];i.setAttribute(or,t[0]),i.setAttribute("data-id",t[1]),i.innerHTML=Eu(a,n,t),i.setAttribute("id",n[4]+a)}function Eu(e,t,n){return gu(t[1]+e,n[2]),'<div id="'+t[0]+e+'" class="stream_thumbnail_channel" ><img id="'+t[1]+e+'" class="stream_img"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel">'+n[3]+"</div></div>"}function Mu(e,t,n,i,a){return e<Jc&&wu(a[0]),(xc=document.createElement("td")).setAttribute("id",i[8]+t),xc.setAttribute(or,JSON.stringify(n)),xc.className="stream_cell",xc.innerHTML=Su(t,i,a),xc}function Iu(e,t,n,i){var a=document.getElementById(e),o=e.split(i[9])[1];a.setAttribute(or,JSON.stringify(t)),a.innerHTML=Su(o,i,n),a.setAttribute("id",i[8]+o)}function Su(e,t,n){return gu(t[1]+e,n[0]),'<div id="'+t[0]+e+'" class="stream_thumbnail_video" ><img id="'+t[1]+e+'" class="stream_img"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;">'+n[1]+'</div><div id="'+t[7]+e+'"class="stream_info" style="width:33%; float: right; text-align: right; display: inline-block;">'+n[5]+'</div><div id="'+t[4]+e+'"class="stream_info">'+mI.parse(n[2])+'</div><div id="'+t[5]+e+'"class="stream_info">'+v+n[3]+'</div><div id="'+t[6]+e+'"class="stream_info">'+n[4]+"</div></div>"}function xu(e,t,n){return(xc=document.createElement("td")).setAttribute("id",t[5]+e),xc.setAttribute(or,n[0]),xc.className="stream_cell",xc.innerHTML=Pu(e,t,n),xc}function Pu(e,t,n){return gu(t[1]+e,n[1]),'<div id="'+t[0]+e+'" class="stream_thumbnail_game" ><img id="'+t[1]+e+'" class="stream_img"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel">'+n[0]+'</div><div id="'+t[4]+e+'"class="stream_info" style="width: 100%; display: inline-block;">'+n[2]+"</div></div>"}function Tu(){Ac=!0}function Lu(){wc=!0}function Bu(){wc=!1,window.setTimeout(Lu)}function Ou(){return!wc||!Ac}function Gu(e,t,n,i,a,o){Mr(n[0]+e+"_"+t,ar),Dr(t,e,i,a),bu(e)||o?1<e?eu(e+1,0,n[0])?qu(n[6],-1*document.getElementById(n[4]+e+"_"+t).offsetTop+.42*screen.height):Tu():qu(n[6],.07*screen.height):Tu()}function Uu(e,t,n,i,a,o){Mr(n[0]+e+"_"+t,ar),Dr(t,e,i,a),bu(e)||o?e?eu(e+1,0,n[0])&&qu(n[10],-1*document.getElementById(n[8]+(e-1)+"_"+t).offsetTop):qu(n[10],.07*screen.height):Tu()}function Ru(e,t,n,i,a){Mr(n[0]+e+"_"+t,ar),Dr(t,e,i,a),bu(e)?qu(n[10]?n[10]:n[7],e?-1*document.getElementById(n[5]+(e-1)+"_"+t).offsetTop+.025*screen.height:-1*document.getElementById(n[5]+e+"_"+t).offsetTop+.025*screen.height):Tu()}function Nu(e,t){return null===document.getElementById(t+e)}function Du(e,t,n){Nu(e,t[0])||(document.body.removeEventListener("keydown",n),bc.Play_selectedChannel=JSON.parse(document.getElementById(t[8]+e).getAttribute(or)),bc.Play_selectedChannel_id=bc.Play_selectedChannel[1],bc.Play_selectedChannel=bc.Play_selectedChannel[0],bc.Play_isHost=bc.Main_Go===nc&&!dm,bc.Play_isHost?(bc.Play_DisplaynameHost=document.getElementById(t[3]+e).textContent,bc.Play_selectedChannelDisplayname=bc.Play_DisplaynameHost.split(ne)[1]):bc.Play_selectedChannelDisplayname=document.getElementById(t[3]+e).textContent,bc.Play_gameSelected=document.getElementById(t[5]+e).textContent.split(v)[1],bc.Main_Go===ec&&(bc.Main_OldgameSelected=bc.Main_gameSelected),Vu())}function Vu(){document.body.addEventListener("keydown",rv,!1),Cr("scene1"),kr("scene2"),vp(),Cp(),Vp(),uo()&&!pk&&Mk&&tE(),ju(vm)}function Ju(e,t,n){Nu(e,t[0])||(document.body.removeEventListener("keydown",n),Ky=JSON.parse(document.getElementById(t[8]+e).getAttribute(or)),sf=parseInt(Ky[1]),bc.Play_gameSelected=Ky[2],bc.Main_selectedChannel=Ky[3],bc.Main_selectedChannelDisplayname=Ky[4],bc.Main_selectedChannelLogo=Ky[5],bc.Main_selectedChannel_id=Ky[6],bc.ChannelVod_vodId=Ky[7],Ns=parseInt(Ky[8]),Zy=Ky[9],eb=Ky[10],Wy=Ky[11],Ky=Ky[0],$y=document.getElementById(t[4]+e).textContent,Qy=document.getElementById(t[6]+e).textContent,document.body.addEventListener("keydown",Hf,!1),Cr("scene1"),kr("scene2"),Cp(),fp(),sp(),cp(),uo()&&!pk&&Mk&&tE(),ju(ff))}function Fu(e,t,n){Nu(e,t[0])||(document.body.removeEventListener("keydown",n),bc.ChannelVod_vodId=JSON.parse(document.getElementById(t[8]+e).getAttribute(or)),Ms=parseInt(bc.ChannelVod_vodId[1]),xs=bc.ChannelVod_vodId[2],bc.Play_gameSelected=bc.ChannelVod_vodId[3],bc.Main_selectedChannel=bc.ChannelVod_vodId[4],om=bc.ChannelVod_vodId[5],bc.ChannelVod_vodId=bc.ChannelVod_vodId[0].substr(1),bc.Main_selectedChannelDisplayname=document.getElementById(t[3]+e).textContent,Us=document.getElementById(t[4]+e).textContent,Rs=document.getElementById(t[5]+e).textContent,Gs=document.getElementById(t[11]+e).innerHTML+" "+document.getElementById(t[6]+e).textContent,Hu())}function Hu(){document.body.addEventListener("keydown",ty,!1),Cr("scene1"),kr("scene2"),xg(),Cp(),fp(),cp(),jv=!1,uo()&&!pk&&Mk&&tE(),ju(tg)}function qu(e,t){document.getElementById(e).style.top=t+"px",window.setTimeout(Tu,10)}function zu(e,t){Ac=!1,Ir(t[0]+e,ar)}function Xu(){var e=document.createElement("span");e.className="fa",e.style.display="none",document.body.insertBefore(e,document.body.firstChild),"icons"!==window.getComputedStyle(e,null).getPropertyValue("font-family")?(jl&&console.log("Main_Checktylesheet reloading"),Yu("https://fgl27.github.io/SmartTwitchTV/release/githubio/css/icons.min.css")):jl&&console.log("Main_Checktylesheet loaded OK"),document.body.removeChild(e)}function Yu(e){var t=document.createElement("link");t.rel="stylesheet",t.href=e,document.getElementsByTagName("head")[0].appendChild(t)}function ju(e){"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?window.setTimeout(e):document.addEventListener("DOMContentLoaded",e)}function Wu(){var e=(new Date).getTime()+ur;return e=new Date(e),(Pc?Wt[e.getDay()]+" "+e.getDate()+" "+jt[e.getMonth()]:Wt[e.getDay()]+" "+jt[e.getMonth()]+" "+e.getDate())+" "+Ym(e.getHours())+":"+Ym(e.getMinutes())}function Qu(){document.hidden||(Zu(),window.setTimeout(Zu,2e4))}function Zu(){document.hidden||(xr("label_clock",Wu()),fr="?"+Math.random())}function Ku(){document.hidden||uo()&&window.setTimeout(function(){zk()||pk||(sh=ja[bc.Users_Position].name,Tk())},5e3)}function $u(){Mr("side_panel_"+Rc,"side_panel_text_focus")}function e_(){Ir("side_panel_"+Rc,"side_panel_text_focus")}function t_(){Rc?1===Rc?Yr():2===Rc?(document.body.addEventListener("keydown",ql,!1),qr()):3===Rc?(document.body.addEventListener("keydown",ql,!1),jr()):4===Rc?Gr(ql):5===Rc?i_(Zl):6===Rc?i_(vo()?rc:Kl):7===Rc?i_(vc):8===Rc?i_($l):9===Rc?i_(fc):10===Rc&&i_(hc):bc.Main_Go!==ac?(bc.Search_isSearching||bc.Main_Go!==dc&&bc.Main_Go!==cc&&bc.Main_Go!==lc||us(),bc.Search_isSearching||(bc.Main_BeforeSearch=bc.Main_Go),lu(bc.Main_Go),bc.Main_Go=ac,au()):document.body.addEventListener("keydown",ql,!1),o_()}function n_(){Uc&&(Uc=!1,ou())}function i_(e){e===bc.Main_Go?document.body.addEventListener("keydown",ql,!1):(bc.Main_Before=bc.Main_Go,bc.Main_Go=e,lu(bc.Main_Before),au())}function a_(e,t){ql=e,Uc=t,document.body.removeEventListener("keydown",ql),document.body.addEventListener("keydown",s_,!1),Ir("side_panel","side_panel_hide")}function o_(){document.body.removeEventListener("keydown",s_),Mr("side_panel","side_panel_hide"),e_(),Rc=0,$u()}function s_(e){switch(e.keyCode){case Ji:case Ui:case Ni:o_(),Uc?(Uc=!1,ou()):(document.body.addEventListener("keydown",ql,!1),h_());break;case Ri:Rc&&(e_(),Rc--,$u());break;case Di:Rc<10&&(e_(),Rc++,$u());break;case Vi:t_()}}function d_(e){switch(e.keyCode){case Ji:Ur();break;case Ni:2<++Mc&&(Mc=0),Rr(),Br(),Or();break;case Ui:--Mc<0&&(Mc=2),Rr(),Br(),Or();break;case Vi:_r&&Mc?1===Mc?(Ur(),Android.mclose(!1)):2===Mc&&Android.mclose(!0):Ur()}}pr();var l_=["top_bar_live","top_bar_user","top_bar_featured","top_bar_game","top_bar_vod","top_bar_clip"],c_=[Zl,rc,vc,$l,fc,hc],r_=!1;function u_(e){if(!(r_||ny.FirstLoad||Ou()))switch(e.keyCode){case Ji:Qr()?(h_(),Wr()):Xr()?(h_(),zr()):bc.Main_Go===ec?(bc.Main_OldgameSelected=bc.Main_gameSelected,bc.Games_return?(bc.Main_Go=oc,bc.Main_gameSelected=bc.gameSelectedOld):(bc.Main_Go=bc.Main_BeforeAgame,bc.Main_BeforeAgame=Zl),xy(bc.Main_Go),f_(),ou()):bc.Main_Go===pc?(xy(ec),f_(),ou()):bc.Main_Go===ic?(xy(rc),f_(),ou()):bc.Main_Go===cc?(xy(dc),f_(),ou()):bc.Main_Go===mc?(xy(ec),f_(),ou()):bc.Main_Go===tc?(bc.Main_Go=rc,EE(),f_(),ou()):bc.Main_Go===nc?(bc.Main_Go=rc,nk(),f_(),ou()):bc.Main_Go===gc?(bc.Main_Go=rc,GM(),f_(),ou()):bc.Main_Go===uc?(bc.Main_Go=rc,kC(),f_(),ou()):bc.Main_Go===dc?(bc.Main_Go=bc.Main_BeforeChannel,bc.Main_BeforeChannel=Zl,Ho(),bc.Main_selectedChannel_id="",f_(),ou()):bc.Main_Go===lc?(bc.Main_Go=dc,Vs(),f_(),ou()):bc.Main_Go===sc?(bc.Main_Go===bc.Main_BeforeSearch?bc.Main_Go=Zl:bc.Main_Go=bc.Main_BeforeSearch,Zw(),bc.Search_isSearching=!1,f_(),ou()):bc.Main_Go===oc?(bc.Main_Go===bc.Main_BeforeSearch?bc.Main_Go=Zl:bc.Main_Go=bc.Main_BeforeSearch,bc.Search_isSearching=!1,rw(),f_(),ou()):bc.Main_Go===_c?(bc.Main_Go===bc.Main_BeforeSearch?bc.Main_Go=Zl:bc.Main_Go=bc.Main_BeforeSearch,bc.Main_selectedChannel_id&&_s(),Ub(),bc.Search_isSearching=!1,f_(),ou()):(f_(),a_(u_));break;case Ni:if(bc.Search_isSearching||bc.Main_Go===dc||bc.Main_Go===lc||bc.Main_Go===cc||bc.Main_Go===sc||bc.Main_Go===oc||bc.Main_Go===_c)break;Ir(l_[bc.Main_CenterLablesVectorPos],"icon_center_line"),bc.Main_CenterLablesVectorPos++,5<bc.Main_CenterLablesVectorPos&&(bc.Main_CenterLablesVectorPos=0),h_(),m_();break;case Ui:if(bc.Search_isSearching||bc.Main_Go===dc||bc.Main_Go===lc||bc.Main_Go===cc||bc.Main_Go===sc||bc.Main_Go===oc||bc.Main_Go===_c)break;Ir(l_[bc.Main_CenterLablesVectorPos],"icon_center_line"),bc.Main_CenterLablesVectorPos--,bc.Main_CenterLablesVectorPos<0&&(bc.Main_CenterLablesVectorPos=5),h_(),m_();break;case Di:Ir(l_[bc.Main_CenterLablesVectorPos],"icon_center_line"),document.body.removeEventListener("keydown",u_),Cc=!1,ou();break;case Vi:v_()}}function __(e){window.clearTimeout(Jl),iu(),document.body.removeEventListener("keydown",e),document.body.removeEventListener("keydown",u_),document.body.addEventListener("keydown",u_,!1),h_()}function f_(){Ir(l_[bc.Main_CenterLablesVectorPos],"icon_center_line"),document.body.removeEventListener("keydown",u_),Cc=!1}function h_(){Cc=!0,Mr(l_[bc.Main_CenterLablesVectorPos],"icon_center_line")}function m_(){lu(bc.Main_Go),bc.Main_Go=c_[bc.Main_CenterLablesVectorPos],bc.Main_Go!==rc||vo()?au(!0):(bc.Main_Go=Kl,f_(),au())}function p_(){bc.Main_Go===Zl?(ny=Hy,document.body.removeEventListener("keydown",Ly)):bc.Main_Go===rc?document.body.removeEventListener("keydown",fM):bc.Main_Go===ec?(ny=zy,document.body.removeEventListener("keydown",Ly)):bc.Main_Go===vc?(ny=qy,document.body.removeEventListener("keydown",Ly)):bc.Main_Go===sc?document.body.removeEventListener("keydown",cA):bc.Main_Go===oc?document.body.removeEventListener("keydown",bw):bc.Main_Go===_c?document.body.removeEventListener("keydown",Wb):bc.Main_Go===lc?document.body.removeEventListener("keydown",ed):bc.Main_Go===dc?document.body.removeEventListener("keydown",fs):bc.Main_Go===nc?document.body.removeEventListener("keydown",hk):bc.Main_Go===gc?document.body.removeEventListener("keydown",KM):bc.Main_Go===uc?document.body.removeEventListener("keydown",RC):bc.Main_Go===$l?(ny=Jy,document.body.removeEventListener("keydown",Ly)):bc.Main_Go===cc?(ny=Dy,document.body.removeEventListener("keydown",Ly)):bc.Main_Go===fc?(ny=Xy,document.body.removeEventListener("keydown",Ly)):bc.Main_Go===hc?(ny=Ny,document.body.removeEventListener("keydown",Ly)):bc.Main_Go===pc?(ny=Vy,document.body.removeEventListener("keydown",Ly)):bc.Main_Go===ic?(ny=Fy,document.body.removeEventListener("keydown",Ly)):bc.Main_Go===mc?(ny=Yy,document.body.removeEventListener("keydown",Ly)):bc.Main_Go===tc&&document.body.removeEventListener("keydown",FE)}function v_(){window.clearTimeout(Jl),iu(),bc.Main_Go!==dc&&(bc.Main_BeforeChannelisSet=!1),bc.Main_Go!==ec&&(bc.Main_BeforeAgameisSet=!1),Nr(),bc.Main_Go===Zl?(ny=Hy,cy()):bc.Main_Go===rc?$E():bc.Main_Go===vc?(ny=qy,cy()):bc.Main_Go===ec?(ny=zy,cy()):bc.Main_Go===uc?EC():bc.Main_Go===dc?qo():bc.Main_Go===lc?Js():bc.Main_Go===sc?Kw():bc.Main_Go===oc?uw():bc.Main_Go===_c?Rb():bc.Main_Go===$l?(ny=Jy,cy()):bc.Main_Go===ic?(ny=Fy).loadingData||ny.key_refresh():bc.Main_Go===fc?(ny=Xy,cy()):bc.Main_Go===hc?(ny=Ny,cy()):bc.Main_Go===pc?(ny=Vy,cy()):bc.Main_Go===cc?(ny=Dy,cy()):bc.Main_Go===mc?(ny=Yy,cy()):bc.Main_Go===tc?ME():bc.Main_Go===nc?ik():bc.Main_Go===gc&&UM(),Jl=window.setTimeout(nu,3e3)}function g_(e,t){localStorage.setItem(e,t)}function y_(e,t){return parseInt(localStorage.getItem(e))||t}function b_(e,t){return JSON.parse(localStorage.getItem(e))||t}function w_(e,t){var n=t.toString();return(localStorage.getItem(e)||n)===n?t:!t}function A_(e){console.log(e);for(var t=0;t<e.length;t++)console.log("Character is: "+e.charAt(t)+" it's Unicode is: \\u"+e.charCodeAt(t).toString(16).toUpperCase())}function C_(e){console.log("processCode");var t="";t=e.match(/code=(\w+)/),Ec=t?(t=t[1],console.log("if code "+t),t):(console.log("else code "+t),0)}function k_(e,t,n,i,a,o,s){_r?M_(e,t,n,i,a,o):I_(e,t,n,i,a,o,s)}function E_(e,t,n,i,a,o,s,d){_r&&d?M_(e,t,n,i,a,o):I_(e,t,n,i,a,o,s)}function M_(e,t,n,i,a,o){var s=Android.mreadUrl(e,t,n,i);s&&200===(s=JSON.parse(s)).status?a(s.responseText):o()}function I_(e,t,n,i,a,o,s){var d=new XMLHttpRequest;d.open("GET",(s?hr:"")+e,!0),d.timeout=t,0<n&&d.setRequestHeader(Zc,Qc),1<n&&d.setRequestHeader(Kc,tr),2<n&&d.setRequestHeader($c,i),d.ontimeout=function(){},d.onreadystatechange=function(){if(4===d.readyState){if(200===d.status)return void a(d.responseText);o()}},d.send(null)}function S_(e,t,n,i,a,o,s){_r?x_(e,t,n,i,a,o):I_(e,t,n,i,a,o,s)}function x_(e,t,n,i,a,o){var s=Android.mreadUrl(e,t,n,i,!0);s&&200===(s=JSON.parse(s)).status?a(s.responseText):o()}function x_(e,t,n,i,a,o,s){var d=new XMLHttpRequest;d.open("POST",(s?hr:"")+e,!0),d.timeout=t,0<n&&d.setRequestHeader(Zc,Qc),1<n&&d.setRequestHeader(Kc,tr),2<n&&d.setRequestHeader($c,i),d.ontimeout=function(){},d.onreadystatechange=function(){if(4===d.readyState){if(200===d.status)return void a(d.responseText);o()}},d.send(null)}function P_(e){e.keyCode===Ji&&L_()}function T_(e){e.keyCode===Ji&&B_()}function L_(){Hl=window.setTimeout(function(){Android.mclose(!0)},5e3)}function B_(){window.clearTimeout(Hl)}var O_=0,G_=null,U_=0,R_=!1,N_=0,D_=0,V_=!1,J_=0,F_=2e3,H_=5,q_="source",z_=q_,X_=0,Y_=[],j_="",W_=!1,Q_=0,Z_=0,K_=1,$_=!1,ef=0,tf=!1,nf=!1,af=2e3,of=[0,5],sf=0,df=!1,lf=!1,cf=["next_button","back_button"],rf=0,uf=!1,_f=!0;function ff(){ip(),Vp(),Im(document.getElementById("stream_info_icon"),bc.Main_selectedChannelLogo),xr("stream_info_name",bc.Main_selectedChannelDisplayname),Sr("stream_info_title",Zy),Sr("stream_info_game",Wy+" "+Qy+" "+eb),xr("stream_live_icon",$y),xr("progress_bar_duration",jm(sf)),Jg((sm=of)[1]),Pr("stream_info_title"),bc.Play_isHost=!1,xr("progress_bar_current_time",jm(0)),xr("stream_live_time",""),xr("stream_watching_time",""),$_=null!==bc.ChannelVod_vodId,$d=Gt+".",$_?(Kd=Ns,sl()):Ol(),Sr("pause_button",'<i class="pause_button3d icon-pause"></i>'),kr("progress_pause_holder"),Jf(),kr("scene_channel_panel_bottom"),U_=ef=0,window.clearInterval(G_),nf=!1,Kf=-13,Q_=Z_=0,X_=2,If(),jp(3),Jh=!1,Gp(),uo()?(Ki=!0,$i=bc.Main_selectedChannel_id,pa()):np(),document.addEventListener("visibilitychange",Af,!1),R_=!1,V_=!(D_=N_=0),hf(),document.body.removeEventListener("keyup",Tu)}function hf(){J_=0,F_=2e3,mf()}function mf(){k_("https://clips.twitch.tv/api/v2/clips/"+Ky+"/status",F_,1,null,vf,pf,!0)}function pf(){++J_<H_?(F_+=250,mf()):(ap(),ev(3))}function vf(e){Y_=[],e=JSON.parse(e).quality_options;for(var t=0;t<e.length;t++)Y_.length?Y_.push({id:e[t].quality+"p"+gf(e[t].frame_rate),url:e[t].source}):Y_.push({id:e[t].quality+"p"+gf(e[t].frame_rate)+" (source)",url:e[t].source});Z_=K_,yf()}function gf(e){return 40<e?60:""}function yf(){window.clearInterval(G_),j_=Y_[X_=0].url,-1!==q_.indexOf("source")&&(q_="source");for(var e=0;e<Nf();e++){if(Y_[e].id===q_){j_=Y_[X_=e].url;break}-1!==Y_[e].id.indexOf(q_)&&(j_=Y_[X_=e].url)}z_=q_,jl&&console.log("PlayClip_onPlayer:",'\n\n"'+j_+'"\n'),Z_=K_,_r&&V_&&Android.startVideoOffset(j_,3,W_?-1:Android.gettime()),W_=!1,bf()}function bf(){bh&&!kp()&&Ap(),_r&&(U_=0,nm=1+af/1e3,tf=!1,window.clearInterval(G_),G_=window.setInterval(Cf,im))}function wf(e){xr("progress_bar_duration",jm(sf=e/1e3)),Uf()}function Af(){document.hidden&&Ef()}function Cf(){_r&&(Q_=Android.gettime()),sf<Q_/1e3&&(_r&&Android.play(!1),Play_PannelEndStart(3)),V_&&O_===Q_&&!zm()?++U_>nm&&(tf&&nf&&X_<Nf()-1?X_++:!tf&&nf&&ef++,navigator.onLine?1<ef?qm(ef,3,kf):(Df(),yf(),nf=!0):Hm(!1,3)):(U_=ef=0,nf=!1),O_=Q_}function kf(e){if(!e){if(!(X_<Nf()-1))return void Hm(!1,3);X_++}ef=0,Df(),yf(),nf=!0}function Ef(){V_&&(uf=!1,Mf(),cp(),$m())}function Mf(){Of(),Y_=[],window.clearInterval(G_),_r&&Android.stopVideo(3),V_=!1,xl(),ep(),Yk(),document.body.removeEventListener("keydown",Hf),document.removeEventListener("visibilitychange",Af),document.getElementById("scene2_pannel_0").style.display="none",document.getElementById("quality_name").style.width="25ch",Ns=0}function If(){var e,t=Sf(1,0),n=Sf(-1,ny.ColoumnsCount-1);lf=df=!1,t?(df=!0,xr("next_button_text_name",(e=JSON.parse(document.getElementById(ny.ids[8]+t).getAttribute(or)))[4]),Sr("next_button_text_title",e[9]),xr("end_next_button_text_name",e[4]),Sr("end_next_button_text_title",e[9]),xf(0,1)):xf(0,0),n?(lf=!0,xr("back_button_text_name",(e=JSON.parse(document.getElementById(ny.ids[8]+n).getAttribute(or)))[4]),Sr("back_button_text_title",e[9]),xf(1,1)):xf(1,0)}function Sf(e,t){return eu(ny.posY,ny.posX+e,ny.ids[0])?ny.posY+"_"+(ny.posX+e):eu(ny.posY+e,t,ny.ids[0])?ny.posY+e+"_"+t:null}function xf(e,t){document.getElementById(cf[e]).style.opacity=t}function Pf(){rf?1===rf?Tf():-1===rf&&Lf():($_&&bc.Play_ChatForceDisable&&(zm()?Il(al):Sl()),Jp()||Op(3))}function Tf(){Ty(1,0),Bf()}function Lf(){Ty(-1,ny.ColoumnsCount-1),Bf()}function Bf(){var e=document.getElementById("scene_channel_panel");e.style.transition="none",e.style.opacity="0",ju(function(){Mf(),Ju(ny.posY+"_"+ny.posX,ny.ids,Ly),e.style.transition=""})}function Of(){Vv=!1,Dv=Jv=0,bp(),q_=z_,document.getElementById("scene_channel_panel").style.opacity="0",_r&&Ng(Android.gettime()/1e3,sf,!0),Sr("progress_bar_jump_to",Mi),document.getElementById("progress_bar_steps").style.display="none",window.clearInterval(fv)}function Gf(){Uf(),Xm(),fv=window.setInterval(Uf,1e3),cp(),Lg(),Rf(),Df(),document.getElementById("scene_channel_panel").style.opacity="1",Vf()}function Uf(){_r&&Ng(Android.gettime()/1e3,sf,!Vv)}function Rf(){for(var e=X_=0;e<Nf();e++){if(Y_[e].id===q_){X_=e;break}-1!==Y_[e].id.indexOf(q_)&&(X_=e)}}function Nf(){return Y_.length}function Df(){1===Nf()?(document.getElementById("quality_arrow_up").style.opacity="0",document.getElementById("quality_arrow_down").style.opacity="0"):X_?X_===Nf()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(q_=Y_[X_].id).indexOf("source")?xr("quality_name",q_.replace("source",ge)):xr("quality_name",q_)}function Vf(){th=window.setTimeout(Of,5e3+Wv)}function Jf(){document.getElementById("quality_name").style.width="16ch",xr("open_vod_text",$_?sn:dn),document.getElementById("scene2_pannel_0").style.display="inline-block"}function Ff(){$_?(bc.vodOffset=Ns,Mf(),document.body.addEventListener("keydown",ty,!1),Gp(),ju(tg)):(Jh=!0,op(ln),window.setTimeout(function(){Jh=!1,sp()},2e3))}function Hf(e){if(Z_!==K_)switch(e.keyCode){case Ji:rp()?(cp(),Ef()):lp()}else switch(e.keyCode){case Ui:zk()?dh&&!pk&&(iE(),dh--,Kk()):ah&&!pp()&&kp()?(Qf++,Tp()):pp()?(bp(),2===Yv?(Rp(),5<++Vh&&(Vh=0),Up()):Yv?1===Yv&&-1<rf&&(rf--,lf||!rf?Bg():rf++):(Hg(-1,sf),Wv=2500),Vf()):Jp()?(Xp(),qp(),--Xh<(df?-1:0)&&(Xh=3),Hp()):Gf();break;case Ni:zk()?dh<wk-1&&!pk&&(iE(),dh++,Kk()):!ah||pp()||Jp()?pp()?(bp(),2===Yv?(Rp(),--Vh<0&&(Vh=5),Up()):Yv?1===Yv&&rf<1&&(rf++,df||!rf?Bg():rf--):(Hg(1,sf),Wv=2500),Vf()):Jp()?(Xp(),qp(),3<++Xh&&(Xh=df?-1:0),Hp()):Gf():g_("ChatEnable",(bh=kp()||Jp()?(Cp(),!1):(Ap(),!0))?"true":"false");break;case Ri:Jp()?Xp():pp()?(2===Yv&&1!==Vh?(Yv--,Bg()):1===Yv?(Yv--,Bg()):0<X_&&1===Vh&&(X_--,Df()),bp(),Vf()):zk()?zk()?Zk():Gf():Xk();break;case Di:Jp()?Xp():pp()?(Yv?1===Yv?(Yv++,Bg()):X_<Nf()-1&&1===Vh&&(X_++,Df()):(Yv++,Bg()),bp(),Vf()):zk()?Yk():ah&&kp()?(4<++eh?Pp(!(eh=1)):4===eh&&Pp(!0),Sp(!0)):Gf();break;case Vi:Jp()?Yp(3):pp()?Yv?1===Yv?Pf():$p(3):(bp(),Vf(),Dv&&Dg()):zk()?(Mf(),Du(dh,Pk,rv)):Gf();break;case Ji:pp()?Of():zk()?Yk():rp()?(cp(),Ef()):lp();break;case Oi:case Bi:case Gi:$_&&!bc.Play_ChatForceDisable&&(zm()?Il(al):Sl()),Jp()||Op(3)}}var qf,zf,Xf,Yf,jf,Wf,Qf=0,Zf=Qf,Kf=-5,$f=.55,eh=3,th=null,nh="source",ih=nh,ah=!0,oh=!1,sh="",dh=0,lh=2e3,ch=0,rh=1,uh=2,_h=0,fh=null,hh=0,mh=0,ph=0,vh="",gh=[],yh=0,bh=!1,wh=null,Ah=null,Ch=null,kh="",Eh=0,Mh=5,Ih=0,Sh=5,xh=0,Ph=!1,Th=null,Lh=!1,Bh=0,Oh=null,Gh=0,Uh=0,Rh=!1,Nh=!1,Dh=!1,Vh=1,Jh=!1,Fh=!1,Hh=1e4,qh=2e3,zh="",Xh=0,Yh=3,jh=null,Wh="",Qh=0,Zh=0,Kh="",$h=!0,em=!1,tm=!1,nm=7,im=1e3,am=0,om="",sm=[],dm=!1,lm=[{top:51.8,left:75.1,sizeOffset:[31,16,0,0]},{top:33,left:75.1,sizeOffset:[12.5,0,-6.25,0]},{top:.2,left:75.1,sizeOffset:[0,0,0,0]},{top:.2,left:38.3,sizeOffset:[0,0,0,0]},{top:.2,left:.2,sizeOffset:[0,0,0,0]},{top:33,left:.2,sizeOffset:[12.5,0,-6.25,0]},{top:51.8,left:.2,sizeOffset:[31,16,0,0]},{top:51.8,left:38.3,sizeOffset:[31,16,0,0]}],cm=[0,0,0,1,2,2,2,1],rm=[[0,1,2,2,2,1,0,0],[7,3,3,3,3,3,7,7],[6,5,4,4,4,5,6,6]],um=[{containerHeight:17,percentage:"12.5%",dialogTop:15},{containerHeight:32,percentage:"25%",dialogTop:30},{containerHeight:48,percentage:"50%",dialogTop:50},{containerHeight:99.6,percentage:"100%",dialogTop:115}],_m=1,fm=["chat_extra_small","chat_size_small","chat_size_default","chat_size_biger","chat_size_bigest"];function hm(){jf=document.getElementById("chat_container"),Wf=document.getElementById("inner_progress_bar"),Qf=y_("ChatPositionsValue",0),eh=y_("ChatSizeValue",3),bh=w_("ChatEnable",!1),ah=w_("Play_isFullScreen",!0),Sp(!1),xp(!1),pm()}function mm(e){e?void 0!==qf&&(Qf=qf,eh=Xf,(bh=zf)||Cp(),Sp(!1)):(qf=Qf,zf=bh,Xf=eh,Qf=0,Ap(),eh=4,Pp(bh=!0),Sp(!1),qd&&(qd.scrollTop=qd.scrollHeight)),g_("Play_isFullScreen",ah)}function pm(){_m=EA("chat_font_size");for(var e=0;e<fm.length;e++)Ir("chat_inner_container",fm[e]);Mr("chat_inner_container",fm[_m])}function vm(){ip(),Sr("stream_live_icon",'<div style="vertical-align: middle; display: inline-block"><i class="icon-circle" style="color: red; font-size: 105%; "></i></div><div style="display: inline-block">'+Mi+f.toUpperCase()+"</div>"),mu("stream_info_title"),$_=!(Fh=!1),Im(document.getElementById("stream_info_icon"),Pi),bc.Play_isHost?xr("stream_info_name",bc.Play_DisplaynameHost):xr("stream_info_name",bc.Play_selectedChannelDisplayname),xf(0,0),xf(1,0),bc.Play_WasPlaying=1,su(),oh=bc.Play_isHost,bc.Play_isHost=!1,em=!1,kr("scene_channel_panel_bottom"),Zh=Qh=0,xr("stream_watching_time",g+jm(0)),kh=Wm(0),xr("stream_live_time",y+kh),Cr("progress_pause_holder"),dm=!1,jp(1),Kf=-5,Gh=Uh=am=0,window.clearInterval(Oh),Nh=!1,Hh=3e3,$h=!(Ih=0),_h=ch,Dh=!(Ph=!(ph=mh=hh=Lh=0)),document.addEventListener("visibilitychange",ym,!1),wm(),Sm(),document.body.removeEventListener("keyup",Tu),fh=window.setInterval(km,6e4)}function gm(e){op(e)}function Play_CheckResume(){Ph&&ym(),Iv&&rg(),V_&&(Ef(),window.clearInterval(G_))}function ym(){document.hidden?Jp()?(cp(),Cp(),Zm()):(ep(),Dh=!1,Vd(),window.clearInterval(fh)):(Ph=!0,fp(),Ph&&(ip(),Hh=3e3,em=!(Ih=0),Fh?km():wm(),_h=ch,xh=0,navigator.onLine?Sm():Yf=window.setInterval(bm,100),fh=window.setInterval(km,6e4)))}function bm(){(navigator.onLine||200<xh)&&(window.clearInterval(Yf),Sm()),xh++}function wm(){I_("https://api.twitch.tv/kraken/streams/"+bc.Play_selectedChannel_id,Hh,2,null,Am,Cm,!1)}function Am(e){null!==(e=JSON.parse(e)).stream&&(xr("stream_info_name",oh?bc.Play_DisplaynameHost:bc.Play_selectedChannelDisplayname),bc.Play_selectedChannel_id=e.stream.channel._id,Sr("stream_info_title",mI.parse(e.stream.channel.status,!1,!0)),bc.Play_gameSelected=e.stream.game,zh=" ["+e.stream.channel.broadcaster_language.toUpperCase()+"]",xr("stream_info_game",v+bc.Play_gameSelected+m+Zr(e.stream.viewers)+" "+J+zh),bc.Play_selectedChannelLogo=e.stream.channel.logo,Fh=!0,Im(document.getElementById("stream_info_icon"),bc.Play_selectedChannelLogo),kh=e.stream.created_at,uo()?(Ki=!0,$i=bc.Play_selectedChannel_id,pa()):np())}function Cm(){Ih<Sh&&(Hh+=500,window.setTimeout(function(){Ph&&wm()},750)),Ih++}function km(){I_("https://api.twitch.tv/kraken/streams/"+bc.Play_selectedChannel_id,3e3,2,null,Em,Mm,!1)}function Em(e){null!==(e=JSON.parse(e)).stream&&(Sr("stream_info_title",mI.parse(e.stream.channel.status,!1,!0)),bc.Play_gameSelected=e.stream.game,xr("stream_info_game",v+bc.Play_gameSelected+m+Zr(e.stream.viewers)+" "+J+zh),Fh||Im(document.getElementById("stream_info_icon"),e.stream.channel.logo))}function Mm(){am<Sh?(window.setTimeout(function(){Ph&&km()},2500),am++):am=0}function Im(e,t){e.onerror=function(){this.src=Pi,Fh=!1},e.src=t}function Sm(){Eh=0,qh=2e3+(em?3e3:0),xm()}function xm(){var e,t;if(e=_h===ch?"https://api.twitch.tv/api/channels/"+bc.Play_selectedChannel+"/access_token"+(uo()&&ja[bc.Users_Position].access_token?"?oauth_token="+ja[bc.Users_Position].access_token:""):"https://usher.ttvnw.net/api/channel/hls/"+bc.Play_selectedChannel+".m3u8?&token="+encodeURIComponent(hh.token)+"&sig="+hh.sig+"&allow_source=true&allow_audi_only=true&fast_bread=true&allow_spectre=false",_r){if(!(t=Android.mreadUrl(e,qh,1,null)))return void Tm();200===(t=JSON.parse(t)).status?(Eh=0,Ph&&Om(t.responseText)):403===t.status?Lm():404===t.status?tv():Tm()}else(t=new XMLHttpRequest).open("GET",hr+e,!0),t.timeout=qh,t.setRequestHeader(Zc,Qc),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?(Eh=0,Ph&&Om(t.responseText)):403===t.status?(Pm(t),Yl?Bm():Lm()):404===t.status?(Pm(t),Yl?Bm():tv()):(Pm(t),Tm()))},t.send(null)}function Pm(e){jl&&(console.log(e.status),console.log(e.responseText))}function Tm(){Ph&&$h&&(++Eh<Mh+(em?7:0)?(qh+=250,em?window.setTimeout(xm,500):xm()):Yl?Bm():tv())}function Lm(){ap(),op(Vn),window.setTimeout(function(){Ph&&tv()},4e3)}function Bm(){gh=[{id:"1080p60(Source)",band:"(10.00Mbps)",url:"http://fake"}],_h=uh,Ph&&Nm()}function Om(e){_h===ch?(hh=JSON.parse(e),_h=rh,Sm()):_h===rh&&(gh=Gm(mh=e),_h=uh,Ph&&Nm())}function Gm(e){for(var t,n=[],i="",a=1,o=Rm(e),s=0;s<o.length;s++)i=o[s].split('NAME="')[1].split('"')[0],t=Um(o[s].split("BANDWIDTH=")[1].split(",")[0]),n.length?n[s-a].id!==i&&n[s-a].id!==i+" (source)"?n.push({id:i,band:t,url:o[s].split("\n")[2]}):a++:(-1===i.indexOf("ource")&&(i+=" (source)"),n.push({id:i,band:t,url:o[s].split("\n")[2]}));return n}function Um(e){return 0<(e=parseInt(e))?" ("+parseFloat(e/1e6).toFixed(2)+"Mbps)":""}function Rm(e){for(var t,n=[],i=/#EXT-X-MEDIA:(.)*\n#EXT-X-STREAM-INF:(.)*\n(.)*/g;t=i.exec(e);)n.push(t[0]);return n}function Nm(){window.clearInterval(Oh),vh=gh[yh=0].url,-1!==nh.indexOf("source")&&(nh="source");for(var e=0;e<Ip();e++){if(gh[e].id===nh){vh=gh[yh=e].url;break}-1!==gh[e].id.indexOf(nh)&&(vh=gh[yh=e].url)}ih=nh,_h=uh,jl&&console.log("Play_onPlayer:",'\n\n"'+vh+'"\n'),_r&&Ph&&Android.startVideo(vh,1),Dm()}function Dm(){tm=!1,bh&&!kp()&&Ap(),Dh=!0,Vm(),_r&&(Gh=0,nm=1+lh/1e3,Rh=!1,window.clearInterval(Oh),Oh=window.setInterval(Jm,im))}function Vm(){bc.Play_ChatForceDisable?pd():Gl()}function Jm(){var e=!zm();_r&&(Qh=Android.gettime()),Ph&&Bh===Qh&&e?nm<++Gh&&(Rh&&Nh&&yh<Ip()-1?yh++:!Rh&&Nh&&Uh++,navigator.onLine?1<Uh?qm(Uh,1,Fm):(Mp(),Nm(),Nh=!0):Hm(!1,1)):(Gh=Uh=0,Nh=!1),Bh=Qh,e&&Zh++}function Fm(e){if(!e){if(!(yh<Ip()-1))return void tv();yh++}Uh=0,Mp(),Nm(),Nh=!0}function Hm(e,t){bc.Play_isHost=e,jp(t),ev(t)}function qm(e,t,n){var i=new XMLHttpRequest;i.timeout=1e3,i.open("GET","https://static-cdn.jtvnw.net/jtv-static/404_preview-10x10.png?"+Math.random(),!0),i.onreadystatechange=function(){4===i.readyState&&(200===i.status?n(2<e):12<e&&Hm(!1,t))},i.send(null)}function zm(){return!!_r&&!Android.getPlaybackState()}function Xm(){var e=Wu();xr("stream_clock",e),xr("label_clock",e)}function Ym(e){return e<10?"0"+e:e}function jm(e){var t,n,i;return t=Ym(parseInt(e)%60),n=Ym((e=Math.floor(e/60))%60),i=Ym(e=Math.floor(e/60)),e?i+":"+n+":"+t:n+":"+t}function Wm(e){return jm(parseInt(e/1e3))}function Qm(e){return Wm((new Date).getTime()-new Date(e).getTime())}function Zm(){Ph&&(Km(),bc.Play_WasPlaying=0,$m())}function Km(){_r&&Android.stopVideo(1),Ph=!1,Yk(),xl(),ep(),tp(),bc.Play_selectedChannel_id=""}function $m(){Ng(0,0),kr("scene1"),Cr("scene2"),tu()}function ep(){vp(),fp(),sp(),Vp(),om="",yh===Ip()-1&&(ih=gh[0].id),kv===Rg()-1&&(pv=Cv[0].id),X_===Nf()-1&&(z_=Y_[0].id)}function tp(){Dh=!1,document.body.removeEventListener("keydown",rv),document.removeEventListener("visibilitychange",ym),Vd(),window.clearInterval(fh),window.clearInterval(Oh),Jh=!1}function np(){Sr("fallow_text",Mi+Lt),Qi=!1}function ip(){_r?Android.mshowLoading(!0):kr("dialog_loading_play")}function ap(){_r?Android.mshowLoading(!1):Cr("dialog_loading_play")}function op(e){xr("dialog_warning_play_text",e),kr("dialog_warning_play")}function sp(){Cr("dialog_warning_play")}function dp(){return Er("dialog_warning_play")}function lp(){rp()?cp():(kr("play_dialog_exit"),wh=window.setTimeout(lp,3e3))}function cp(){window.clearTimeout(wh),Cr("play_dialog_exit")}function rp(){return Er("play_dialog_exit")}function up(){window.clearTimeout(Ah)}function _p(){window.clearTimeout(Ch)}function fp(){up(),_p(),Cr("play_dialog_simple_pause")}function hp(){ap(),zm()?mp()?(Cr("play_dialog_simple_pause"),Ch=window.setTimeout(hp,8e3)):(kr("play_dialog_simple_pause"),Ah=window.setTimeout(hp,1500)):fp()}function mp(){return Er("play_dialog_simple_pause")}function pp(){return"1"===document.getElementById("scene_channel_panel").style.opacity}function vp(){bp(),document.getElementById("scene_channel_panel").style.opacity="0",nh=ih,window.clearInterval(fv)}function gp(){Gp(),Ep(),Mp(),yp(),fv=window.setInterval(yp,1e3),Xm(),cp(),document.getElementById("scene_channel_panel").style.opacity="1",wp()}function yp(){xr("stream_watching_time",g+jm(Zh)),xr("stream_live_time",y+(-1===kh.indexOf("00:00")?Qm(kh):"00:00"))}function bp(){window.clearTimeout(th),Wv=0}function wp(){th=window.setTimeout(vp,5e3)}function Ap(){Tp(),kr("chat_container")}function Cp(){Cr("chat_container")}function kp(){return Er("chat_container")}function Ep(){for(var e=yh=0;e<Ip();e++){if(gh[e].id===nh){yh=e;break}-1!==gh[e].id.indexOf(nh)&&(yh=e)}}function Mp(){1===Ip()?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):yh?yh===Ip()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(nh=gh[yh].id).indexOf("source")?xr("quality_name",nh.replace("source",ge)+gh[yh].band):xr("quality_name",nh+gh[yh].band)}function Ip(){return gh.length}function Sp(e){jf.style.height=um[eh-1].containerHeight+"%",document.getElementById("play_chat_dialog").style.marginTop=um[eh-1].dialogTop+"%",Tp(),Nd(),e&&Lp(Nn+um[eh-1].percentage),window.setTimeout(function(){qd&&(qd.scrollTop=qd.scrollHeight)},500),g_("ChatSizeValue",eh)}function xp(e){jf.style.backgroundColor="rgba(0, 0, 0, "+$f+")",e&&Lp(Dn+(100*$f).toFixed(0)+"%")}function Pp(e){Qf=e?cm[Zf=Qf]:rm[Qf][Zf]}function Tp(){var e=4===eh;Qf<0?Qf=e?2:7:(e?2:7)<Qf&&(Qf=0),jf.style.top=(e?.2:lm[Qf].top+lm[Qf].sizeOffset[eh-1])+"%",jf.style.left=lm[Qf+(e?2:0)].left+"%",g_("ChatPositionsValue",Qf)}function Lp(e){window.clearTimeout(Th),xr("play_chat_dialog_text",e),kr("play_chat_dialog"),Th=window.setTimeout(Bp,1e3)}function Bp(){Cr("play_chat_dialog")}function Op(e){zm()?(fp(),Sr("pause_button",'<i class="pause_button3d icon-pause"></i>'),1===e?(pp()&&vp(),window.clearInterval(Oh),Oh=window.setInterval(Jm,im)):2===e?(pp()&&xg(),window.clearInterval(Bv),Bv=window.setInterval(kg,im)):3===e&&(pp()&&Of(),window.clearInterval(G_),G_=window.setInterval(Cf,im)),_r&&Android.play(!0)):(window.clearInterval(Oh),window.clearInterval(Bv),window.clearInterval(G_),Sr("pause_button",'<i class="pause_button3d icon-play-1"></i>'),hp(),_r&&Android.play(!1))}function Gp(){Rp(),Vh=1,Up()}function Up(){Mr("scene2_pannel_"+Vh,"playbotton_focus")}function Rp(){Ir("scene2_pannel_"+Vh,"playbotton_focus")}function Np(e){vv=_h=-1,Z_=-1,Yk(),Cp(),vp(),Of(),xg(),Jh||sp(),ap(),cp(),3===e&&df&&(uf||_f)&&(qp(),Xh=-1),Hp()}function Dp(){kr("dialog_end_stream")}function Vp(){Cr("dialog_end_stream"),Xp(),Fp()}function Jp(){return Er("dialog_end_stream")}function Fp(){qp(),Xh=0,Hp()}function Hp(){Mr("dialog_end_"+Xh,"dialog_end_icons_focus")}function qp(){Ir("dialog_end_"+Xh,"dialog_end_icons_focus")}function zp(e){1===e?Wh=bc.Play_selectedChannelDisplayname+" "+f:2===e?Wh=bc.Main_selectedChannelDisplayname+$t:3===e&&(Wh=bc.Main_selectedChannelDisplayname+Gt),Sr("dialog_end_stream_text",Wh+S+_i+(3===e&&df&&(uf||_f)?li:tn)+Yh+"..."),Jp()?(vv=_h=uh,Z_=K_,-1===--Yh?(Sr("dialog_end_stream_text",Wh+S+_i+tn+"0..."),cp(),Cp(),1===e?Zm():2===e?Mg():3===e&&(df&&(uf||_f)?Tf():Ef())):jh=window.setTimeout(function(){zp(e)},1e3)):jh=window.setTimeout(function(){zp(e)},50)}function Xp(){window.clearTimeout(jh),Sr("dialog_end_stream_text",Wh+S+_i+nn)}function Yp(e){var t=!0;-1===Xh&&df?Tf():Xh?1===Xh?bc.Play_isHost?(bc.Play_DisplaynameHost=bc.Play_selectedChannelDisplayname+ne,bc.Play_selectedChannel=Kh.target_login,bc.Play_selectedChannelDisplayname=Kh.target_display_name,bc.Play_DisplaynameHost=bc.Play_DisplaynameHost+bc.Play_selectedChannelDisplayname,Km(),document.body.addEventListener("keydown",rv,!1),bc.Play_selectedChannel_id=Kh.target_id,ju(vm)):Ff():2===Xh?Wp(e):3===Xh&&Zp(e):2===e?Cv.length?(Gv=!(Kv=!0),wg(),fp(),Kd=qv=0,sl()):(t=!1,op(ei),window.setTimeout(function(){sp()},2e3)):3===e&&(Y_.length?(tf=!(W_=!0),yf(),fp(),$_?(qv=0,Kd=Ns,sl()):Ol()):(t=!1,op(ei),window.setTimeout(function(){sp()},2e3))),1!==Xh&&3===Xh&&""===bc.Play_gameSelected&&(t=!1),t&&Vp()}function jp(e){e?1===e?(qp(),Xh=2,Hp(),document.getElementById("dialog_end_-1").style.display="none",document.getElementById("dialog_end_0").style.display="none",document.getElementById("dialog_end_1").style.display="none"):2===e?(Fp(),document.getElementById("dialog_end_-1").style.display="none",document.getElementById("dialog_end_0").style.display="inline-block",document.getElementById("dialog_end_1").style.display="none"):3===e&&(Fp(),document.getElementById("dialog_end_-1").style.display=df?"inline-block":"none",document.getElementById("dialog_end_0").style.display="inline-block",document.getElementById("dialog_end_1").style.display="inline-block",xr("dialog_end_vod_text",$_?sn:dn)):(qp(),Xh=1,Hp(),document.getElementById("dialog_end_-1").style.display="none",document.getElementById("dialog_end_0").style.display="none",document.getElementById("dialog_end_1").style.display="inline-block",xr("dialog_end_vod_text",un))}function Wp(e){bc.Main_BeforeChannelisSet||bc.Main_Go===lc||bc.Main_Go===cc||(bc.Main_BeforeChannel=bc.Main_BeforeAgameisSet&&bc.Main_Go!==ec?bc.Main_BeforeAgame:bc.Main_Go,bc.Main_BeforeChannelisSet=!0),lu(bc.Main_Go),bc.Main_Go=dc,1===e?(bc.Main_selectedChannel_id=bc.Play_selectedChannel_id,bc.Main_selectedChannel=bc.Play_selectedChannel,bc.Main_selectedChannelDisplayname=bc.Play_selectedChannelDisplayname,So=Qi,Cp(),Zm()):2===e?Mg():3===e&&Ef()}function Qp(e){bc.Search_isSearching||(bc.Main_BeforeSearch=bc.Main_Go),lu(bc.Main_Go),bc.Main_Go=ac,1===e?(Cp(),Zm()):2===e?Mg():3===e&&Ef()}function Zp(e){if(""===bc.Play_gameSelected)return Jh=!0,op(Qn),void window.setTimeout(function(){Jh=!1,sp()},2e3);bc.Main_BeforeAgameisSet||bc.Main_Go===mc||bc.Main_Go===pc||(bc.Main_BeforeAgame=bc.Main_BeforeChannelisSet&&bc.Main_Go!==dc&&bc.Main_Go!==lc&&bc.Main_Go!==cc?bc.Main_BeforeChannel:bc.Main_Go,bc.Main_BeforeAgameisSet=!0),lu(bc.Main_Go),bc.Main_Go=ec,bc.Main_gameSelected=bc.Play_gameSelected,Cp(),1===e?Zm():2===e?Mg():3===e&&Ef()}function Kp(){uo()&&ja[bc.Users_Position].access_token?Qi?ka():wa():(op(Bt),Jh=!0,window.setTimeout(function(){sp(),Jh=!1},2e3))}function $p(e){var t=document.getElementById("scene_channel_panel");2!==Vh&&(t.style.transition="none",t.style.opacity="0"),ju(function(){Vh?1===Vh?(1===e?(Nm(),vp()):2===e?(Gv=!1,wg(),xg()):3===e&&(tf=!1,yf(),Of()),fp()):2===Vh?($i=1===e?bc.Play_selectedChannel_id:bc.Main_selectedChannel_id,Kp(),bp(),1===e?wp():2===e?Og():3===e&&Vf()):3===Vh?Zp(e):4===Vh?Wp(e):5===Vh&&Qp(e):Ff(),t.style.transition=""})}function Play_PannelEndStart(e){1===e?(window.clearInterval(Oh),tv()):ev(e)}function ev(e){window.clearInterval(Oh),window.clearInterval(G_),window.clearInterval(Bv),Np(e),Yh=3,zp(e),Dp()}function tv(){ip(),_h=-1,Eh=0,qh=2e3,Vd(),window.clearInterval(fh),window.clearInterval(Oh),""!==bc.Play_selectedChannel_id?ov():nv()}function nv(){I_("https://api.twitch.tv/kraken/users?login="+bc.Play_selectedChannel,qh,2,null,iv,av,!1)}function iv(e){void 0!==(e=JSON.parse(e).users[0])?(bc.Play_selectedChannel_id=e._id,Eh=0,qh=2e3,ov()):ev(1)}function av(){++Eh<Mh?(qh+=250,nv()):Hm(!1,1)}function ov(){k_("https://tmi.twitch.tv/hosts?include_logins=1&host="+encodeURIComponent(bc.Play_selectedChannel_id),qh,1,null,dv,sv,!0)}function sv(){++Eh<Mh?(qh+=250,ov()):Hm(!1,1)}function dv(e){void 0!==(Kh=JSON.parse(e).hosts[0]).target_login?(Jh=!0,op(bc.Play_selectedChannelDisplayname+rn+ne+Kh.target_display_name),window.setTimeout(function(){Jh=!1},4e3),jp(0),bc.Play_isHost=!0):(jp(1),bc.Play_isHost=!1),ev(1)}function Play_UpdateDuration(e,t){0<t&&(2===e?Cg(t):3===e&&wf(t))}function lv(){Qi?(Sr("fallow_heart",'<i class="icon-heart strokicon" style="color: #00b300;"></i>'),Sr("fallow_text",Mi+Mt)):(Sr("fallow_heart",'<i class="icon-heart-o strokicon" style="color: #FFFFFF;"></i>'),Sr("fallow_text",Mi+It))}function cv(e){Jp()&&!rp()?(Xp(),lp()):zk()?Yk():pp()&&!Qg()?e?xg():vp():Qg()&&rp()?(Wg(),Ig(!1),$m()):rp()?(cp(),Cp(),e?Mg():Zm()):(dp()&&sp(),lp())}function rv(e){if(_h!==uh)switch(e.keyCode){case Ji:rp()?(cp(),Cp(),Zm()):lp()}else switch(e.keyCode){case Ui:zk()?dh&&!pk&&(iE(),dh--,Kk()):ah&&!pp()&&kp()?(Qf++,Tp()):pp()?(Rp(),5<++Vh&&(Vh=1),Up(),bp(),wp()):Jp()?(Xp(),qp(),--Xh<(bc.Play_isHost?1:2)&&(Xh=3),Hp()):gp();break;case Ni:zk()?dh<wk-1&&!pk&&(iE(),dh++,Kk()):!ah||pp()||Jp()?pp()?(Rp(),--Vh<1&&(Vh=5),Up(),bp(),wp()):Jp()?(Xp(),qp(),3<++Xh&&(Xh=bc.Play_isHost?1:2),Hp()):gp():g_("ChatEnable",(bh=kp()||Jp()?(Cp(),!1):(Ap(),!0))?"true":"false");break;case Ri:pp()?(0<yh&&1===Vh&&(yh--,Mp()),bp(),wp()):!zk()&&uo()?Xk():Jp()?Xp():zk()&&Zk();break;case Di:pp()?(yh<Ip()-1&&1===Vh&&(yh++,Mp()),bp(),wp()):zk()?Yk():ah&&kp()?(4<++eh?Pp(!(eh=1)):4===eh&&Pp(!0),Sp(!0)):Jp()?Xp():gp();break;case Vi:if(Jp())Yp(1);else if(pp())$p(1);else if(zk()){var t=document.getElementById(Pk[8]+dh);null===t?jk():bc.Play_selectedChannel!==JSON.parse(t.getAttribute(or))[0]?(Km(),bc.Play_isHost=!1,dm=!0,Du(dh,Pk,rv)):jk()}else gp();break;case Ji:cv(!1);break;case Oi:case Bi:case Gi:Jp()||Op(1)}}var uv,_v,fv,hv,mv="source",pv=mv,vv=0,gv=null,yv=0,bv=0,wv=0,Av="",Cv=[],kv=0,Ev=0,Mv=5,Iv=!1,Sv=2e3,xv=0,Pv=5,Tv=1e4,Lv=0,Bv=null,Ov=0,Gv=!1,Uv=0,Rv=!1,Nv=!1,Dv=0,Vv=!1,Jv=0,Fv=2e3,Hv=!1,qv=0,zv={},Xv=0,Yv=0,jv=!0,Wv=0,Qv=0,Zv=0,Kv=!1,$v=[0,10,30,60,120,300,600,900,1200,1800],eg=!1;function tg(){ip(),Vp(),qv=0,xr("stream_live_time",""),xr("stream_watching_time",""),xr("progress_bar_current_time",jm(0)),$d=O+".",Sr("pause_button",'<i class="pause_button3d icon-pause"></i>'),Cr("progress_pause_holder"),Qv=0,Jg((sm=$v)[1]),vv=ch,$_=!0,Ns=0,bc.Play_isHost=!1,xf(0,0),xf(1,0),bc.vodOffset?(ig(),dg()):(jv&&""!==bc.Main_selectedChannel_id?(Im(document.getElementById("stream_info_icon"),bc.Main_selectedChannelLogo),zv["#"+bc.ChannelVod_vodId]||sl(),uo()?($i=bc.Main_selectedChannel_id,Ki=!0,pa()):np()):(ig(),ag()),xr("stream_info_name",bc.Main_selectedChannelDisplayname),Sr("stream_info_title",""),Sr("stream_info_game",Gs+" ["+xs.toUpperCase()+"]"),xr("stream_live_icon",Us),Pr("stream_info_game")),zv["#"+bc.ChannelVod_vodId]&&!bc.vodOffset?(ap(),jg()):ng()}function ng(){window.setTimeout(function(){kr("scene_channel_panel_bottom"),kr("progress_pause_holder")},1e3),xr("progress_bar_duration",jm(Ms)),bc.Play_WasPlaying=2,su(),hv=window.setInterval(_g,6e4),wu(om),Ov=Uv=0,window.clearInterval(Bv),Jh=Hv=Rv=!(Kf=-13),Vv=!1,wv=bv=yv=Jv=0,document.addEventListener("visibilitychange",rg,!1),eg=!(Iv=!(Nv=!1)),fg(),jp(2),document.body.removeEventListener("keyup",Tu)}function ig(){xv=0,Pv=5,Tv=1e4}function ag(){I_("https://api.twitch.tv/kraken/users?login="+encodeURIComponent(bc.Main_selectedChannel),Tv,2,null,og,sg,!1)}function og(e){void 0!==(e=JSON.parse(e).users[0])?(bc.Main_selectedChannelLogo=e.logo,bc.Main_selectedChannel_id=e._id,zv["#"+bc.ChannelVod_vodId]||sl(),uo()?($i=bc.Main_selectedChannel_id,Ki=!0,pa()):np()):(bc.Main_selectedChannelLogo=Pi,bc.Main_selectedChannel_id=""),Im(document.getElementById("stream_info_icon"),bc.Main_selectedChannelLogo)}function sg(){++xv<Pv?(Tv+=500,window.setTimeout(function(){Iv&&ag()},750)):_v=window.setTimeout(ag,2500)}function dg(){I_("https://api.twitch.tv/kraken/videos/"+bc.ChannelVod_vodId,Tv,2,null,cg,lg,!1)}function lg(){++xv<Pv&&(Tv+=2e3,dg())}function cg(e){e=JSON.parse(e),Sr("stream_info_title",mI.parse(e.title,!1,!0)),Sr("stream_info_game",Qt+v+e.game+" "+Zr(e.views)+V+" ["+e.channel.broadcaster_language.toUpperCase()+"]"),xr("stream_live_icon",N+_u(e.created_at)),xr("progress_bar_duration",jm(Ms=parseInt(e.length))),qv=1e3*bc.vodOffset,Ng(bc.vodOffset,Ms,!0),bc.Main_selectedChannelDisplayname=e.channel.display_name,xr("stream_info_name",bc.Main_selectedChannelDisplayname),bc.Main_selectedChannelLogo=e.channel.logo,Im(document.getElementById("stream_info_icon"),bc.Main_selectedChannelLogo),bc.Main_selectedChannel_id=e.channel._id,bc.Main_selectedChannel=e.channel.name,uo()?(Ki=!0,$i=bc.Main_selectedChannel_id,pa()):np(),wu(e.increment_view_count_url)}function rg(){document.hidden?Jp()?(cp(),Cp(),Mg()):(_g(),qg(),Sl(),ep(),window.clearInterval(Bv),window.clearInterval(hv)):(Iv=!0,fp(),Iv&&(ip(),xh=xh=0,navigator.onLine?Ag():Yf=window.setInterval(ug,100),Il(al),jp(2),hv=window.setInterval(_g,6e4)))}function ug(){(navigator.onLine||200<xh)&&(window.clearInterval(Yf),vv=ch,fg()),xh++}function _g(){bc.vodOffset=_r?parseInt(Android.gettime()/1e3):0,su(),bc.vodOffset=0}function fg(){Ev=0,Fv=2e3,hg()}function hg(){k_(vv===ch?"https://api.twitch.tv/api/vods/"+bc.ChannelVod_vodId+"/access_token"+(uo()&&ja[bc.Users_Position].access_token?"?oauth_token="+ja[bc.Users_Position].access_token:""):"https://usher.ttvnw.net/vod/"+bc.ChannelVod_vodId+".m3u8?&nauth="+encodeURIComponent(yv.token)+"&nauthsig="+yv.sig+"&allow_source=true&allow_audi_only=true&allow_spectre=false",qh,1,null,vg,mg,!0)}function mg(){if(Iv){var e;if(yv.token&&(e=JSON.parse(yv.token)),e&&0!==JSON.parse(yv.token).chansub.restricted_bitrates.length)return void gg();++Ev<Mv?(Fv+=250,hg()):Yl?pg():(ap(),ev(2))}}function pg(){Cv=[{id:"1080p60(Source)",band:"(10.00Mbps)",url:"http://fake"}],vv=uh,Iv&&wg()}function vg(e){vv===ch?(yv=JSON.parse(e),vv=rh,fg()):vv===rh&&(Cv=Gm(bv=e),vv=uh,Iv&&wg())}function gg(){uo()&&ja[bc.Users_Position].access_token?($i=bc.Main_selectedChannel_id,Ia()):(ap(),op(x+St),window.setTimeout(function(){Iv&&Mg()},4e3))}function yg(){ap(),op(x+xt),window.setTimeout(function(){Iv&&Mg()},4e3)}function bg(){eg?(ap(),op(x+Pt),window.setTimeout(function(){Iv&&Mg()},4e3)):(eg=!0,vv=ch,fg())}function wg(){window.clearInterval(Bv),Av=Cv[kv=0].url,-1!==mv.indexOf("source")&&(mv="source");for(var e=0;e<Rg();e++){if(Cv[e].id===mv){Av=Cv[kv=e].url;break}-1!==Cv[e].id.indexOf(mv)&&(Av=Cv[kv=e].url)}pv=mv,Ag()}function Ag(){jl&&console.log("PlayVod_onPlayer:",'\n\n"'+Av+'"\n'),bc.vodOffset?(Kd=bc.vodOffset,sl(),_r&&Iv&&Android.startVideoOffset(Av,2,Kv?-1:1e3*bc.vodOffset),bc.vodOffset=0):_r&&Iv&&Android.startVideoOffset(Av,2,Kv?-1:Android.gettime()),Kv=!1,bh&&!kp()&&Ap(),_r&&(Ov=0,nm=3+Sv/1e3,Gv=!1,window.clearInterval(Bv),Bv=window.setInterval(kg,im))}function Cg(e){xr("progress_bar_duration",jm(Ms=e/1e3)),Tg()}function kg(){_r&&(qv=Android.gettime()),Ms<qv/1e3&&(_r&&Android.play(!1),Play_PannelEndStart(2)),Iv&&Lv===qv&&!zm()?++Ov>nm&&(Gv&&Rv&&kv<Rg()-1?kv++:!Gv&&Rv&&Uv++,navigator.onLine?1<Uv?qm(Uv,2,Eg):(Ug(),wg(),Rv=!0):Hm(!1,2)):(Ov=Uv=0,Rv=!1),Lv=qv}function Eg(e){if(!e){if(!(kv<Rg()-1))return void Hm(!1,2);kv++}Uv=0,Ug(),wg(),Rv=!0}function Mg(){Iv&&(Cv=[],Ig(!0),$m())}function Ig(e){e&&qg(),_r&&Android.stopVideo(2),Iv=!1,window.clearInterval(hv),window.clearInterval(_v),bc.Play_WasPlaying=0,jv=!0,xl(),Yk(),ep(),Sg()}function Sg(){document.body.removeEventListener("keydown",ty),document.removeEventListener("visibilitychange",rg),bc.vodOffset=0,window.clearInterval(gv),window.clearInterval(Bv),Ms=0}function xg(){Vv=!1,Dv=Jv=0,bp(),document.getElementById("scene_channel_panel").style.opacity="0",_r&&Ng(Android.gettime()/1e3,Ms,!0),Sr("progress_bar_jump_to",Mi),document.getElementById("progress_bar_steps").style.display="none",mv=pv,window.clearInterval(fv)}function Pg(e){Tg(),Xm(),cp(),fv=window.setInterval(Tg,1e3),e&&(Lg(),Gg(),Ug(),Og()),document.getElementById("scene_channel_panel").style.opacity="1"}function Tg(){_r&&Ng(Android.gettime()/1e3,Ms,!Vv)}function Lg(){Yv=1,rf=0,Bg()}function Bg(){Ir("pause_button","progress_bar_div_focus"),Ir("next_button","progress_bar_div_focus"),Ir("back_button","progress_bar_div_focus"),Ir("progress_bar_div","progress_bar_div_focus"),Yv?1===Yv?(rf?1===rf?Mr("next_button","progress_bar_div_focus"):-1===rf&&Mr("back_button","progress_bar_div_focus"):Mr("pause_button","progress_bar_div_focus"),Rp(),Sr("progress_bar_jump_to",Mi),document.getElementById("progress_bar_steps").style.display="none"):2===Yv&&(Up(),Sr("progress_bar_jump_to",Mi),document.getElementById("progress_bar_steps").style.display="none"):(Mr("progress_bar_div","progress_bar_div_focus"),Rp(),Dv&&(Fg(),document.getElementById("progress_bar_steps").style.display="inline-block"))}function Og(){th=window.setTimeout(xg,5e3+Wv)}function Gg(){for(var e=kv=0;e<Rg();e++){if(Cv[e].id===mv){kv=e;break}-1!==Cv[e].id.indexOf(mv)&&(kv=e)}}function Ug(){1===Rg()?(document.getElementById("quality_arrow_up").style.opacity="0",document.getElementById("quality_arrow_down").style.opacity="0"):kv?kv===Rg()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(mv=Cv[kv].id).indexOf("source")?xr("quality_name",mv.replace("source",ge)+Cv[kv].band):xr("quality_name",mv+Cv[kv].band)}function Rg(){return Cv.length}function Ng(e,t,n){xr("progress_bar_current_time",jm(e)),n&&(Wf.style.width=e/t*100+"%")}function Dg(){fp(),Jp()||(tf=Gv=!1,Iv?(_r&&Android.startVideoOffset(Av,2,0<Zv?1e3*Zv:-1),Kd=Zv):(Kd=Ns,_r&&Android.startVideoOffset(j_,3,0<Zv?1e3*Zv:-1)),$_&&sl()),Sr("progress_bar_jump_to",Mi),document.getElementById("progress_bar_steps").style.display="none",Vv=!1,Zv=Dv=Jv=0}function Vg(){Qv=Jv=0,Jg(sm[1])}function Jg(e){Dv&&!Yv&&(document.getElementById("progress_bar_steps").style.display="inline-block"),60<Math.abs(e)?xr("progress_bar_steps",Jn+e/60+Hn):xr("progress_bar_steps",e?Jn+e+Fn:Jn+sm[1]+Fn)}function Fg(){xr("progress_bar_jump_to",ue+" ("+(Dv<0?"-":"")+jm(Math.abs(Dv))+")"+_e+jm(Zv))}function Hg(e,t){var n=_r?Android.gettime()/1e3:0;window.clearTimeout(uv),Vv=!0,Jv<sm.length-1&&Qv++%6==0&&Jv++,Dv+=sm[Jv]*e,Zv=n+Dv,Iv&&(Zv=10*Math.floor(Zv/10)),t<Zv?(Dv=t-n-sm[1],Zv=n+Dv,Qv=Jv=0):Zv<0&&(Dv=0-n,Zv=Qv=Jv=0),Fg(),Wf.style.width=Zv/t*100+"%",Jg(sm[Jv]*e),uv=window.setTimeout(Vg,1e3)}function qg(){var e=_r?parseInt(Android.gettime()/1e3):0,t="#"+bc.ChannelVod_vodId;300<e&&e<Ms-300?(zv[t]&&delete zv[t],zv[t]=e,g_("PlayVod_VodIds",JSON.stringify(zv))):Ms-300<e&&zv[t]&&(delete zv[t],g_("PlayVod_VodIds",JSON.stringify(zv)))}function zg(){zv=b_("PlayVod_VodIds",{});var e=Xg();250<e&&Yg(e-250)}function Xg(){var e=0;for(var t in zv)zv.hasOwnProperty(t)&&e++;return e}function Yg(e){var t=0;for(var n in zv){if(!(t<e))break;delete zv[n],t++}g_("PlayVod_VodIds",JSON.stringify(zv))}function jg(){Cr("scene_channel_panel_bottom"),Pg(!1),Sr("dialog_vod_saved_text",An+Wm(1e3*zv["#"+bc.ChannelVod_vodId])),kr("dialog_vod_start")}function Wg(){xg(),Cr("dialog_vod_start"),Zg(),window.setTimeout(function(){kr("scene_channel_panel_bottom")},1e3)}function Qg(){return Er("dialog_vod_start")}function Zg(){$g(),Xv=0,Kg()}function Kg(){Mr("dialog_vod_"+Xv,"dialog_end_icons_focus")}function $g(){Ir("dialog_vod_"+Xv,"dialog_end_icons_focus")}function ey(e){Wg(),e?(delete zv["#"+bc.ChannelVod_vodId],bc.vodOffset=0,tg()):(bc.vodOffset=zv["#"+bc.ChannelVod_vodId],qv=1e3*bc.vodOffset,Ng(bc.vodOffset,Ms,!0),ng())}function ty(e){if(vv===uh||Qg())switch(e.keyCode){case Ui:zk()?dh&&!pk&&(iE(),dh--,Kk()):ah&&!pp()&&kp()?(Qf++,Tp()):pp()&&!Qg()?(bp(),2===Yv?(Rp(),5<++Vh&&(Vh=1),Up()):Yv||(Hg(-1,Ms),Wv=2500),Og()):Qg()?($g(),Xv?Xv--:Xv++,Kg()):Jp()?(Xp(),qp(),--Xh<0&&(Xh=3),1===Xh&&(Xh=0),Hp()):Qg()||Pg(!0);break;case Ni:console.log(Yv),zk()?dh<wk-1&&!pk&&(iE(),dh++,Kk()):!ah||pp()||Jp()?pp()&&!Qg()?(bp(),2===Yv?(Rp(),--Vh<1&&(Vh=5),Up()):Yv||(Hg(1,Ms),Wv=2500),Og()):Qg()?($g(),Xv?Xv--:Xv++,Kg()):Jp()?(Xp(),qp(),3<++Xh&&(Xh=0),1===Xh&&(Xh=2),Hp()):Qg()||Pg(!0):g_("ChatEnable",(bh=kp()||Jp()?(Cp(),!1):(Ap(),!0))?"true":"false");break;case Ri:Jp()?Xp():pp()&&!Qg()?(2===Yv&&1!==Vh?(Yv--,Bg()):1===Yv?(Yv--,Bg()):0<kv&&1===Vh&&(kv--,Ug()),bp(),Og()):zk()?zk()?Zk():Qg()||Pg(!0):Xk();break;case Di:Jp()?Xp():pp()&&!Qg()?(Yv?1===Yv?(Yv++,Bg()):kv<Rg()-1&&1===Vh&&(kv++,Ug()):(Yv++,Bg()),bp(),Og()):zk()?Yk():ah&&kp()?(4<++eh?Pp(!(eh=1)):4===eh&&Pp(!0),Sp(!0)):Qg()||Pg(!0);break;case Vi:Qg()?ey(Xv):Jp()?Yp(2):pp()?Yv?1===Yv?(bc.Play_ChatForceDisable&&(zm()?Il(al):Sl()),Jp()||Op(2)):$p(2):(bp(),Og(),Dv&&Dg()):zk()?(Ig(!0),Du(dh,Pk,rv)):Pg(!0);break;case Ji:cv(!0);break;case Oi:case Bi:case Gi:bc.Play_ChatForceDisable&&(zm()?Il(al):Sl()),Jp()||Op(2)}else switch(e.keyCode){case Ji:rp()?(cp(),Mg()):lp()}}var ny={};function iy(){console.log("InitScreens place holder")}function ay(){lb(),rb(),cb(),_b(),fb(),hb(),pb(),vb(),ob(),sb()}function oy(e){return[e+"_thumbdiv",e+"_img",e+"_infodiv",e+"_title",e+"_createdon",e+"_game",e+"_viwers",e+"_duration",e+"_cell","cpempty_",e+"_scroll",e+"_lang",e+"_row"]}function sy(){for(var e,t={},n=0;n<arguments.length;n+=1){var i=arguments[n],a=Object.keys(i);for(e=0;e<a.length;e+=1)t[a[e]]=i[a[e]]}return t}function dy(){Oc=-1,bc.Main_Go=ny.screen,ny.label_init(),document.body.addEventListener("keydown",Ly,!1),kr(ny.ids[10]),ny.status?(yu(ny.posY),wy(!0),su()):cy()}function ly(){Oc=0,ny.label_exit(),document.body.removeEventListener("keydown",Ly),Cr(ny.ids[10]),Hr()}function cy(){Tr(),mu(ny.table),Hr(),ny.cursor=null,ny.status=!1,ny.row=document.createElement("div"),ny.MaxOffset=0,ny.TopRowCreated=!1,ny.offset=0,ny.idObject={},ny.Cells=[],ny.FirstLoad=!0,ny.itemsCount=0,ny.posX=0,ny.posY=0,ny.row_id=0,ny.currY=0,ny.coloumn_id=0,ny.data=null,ny.data_cursor=0,ny.dataEnded=!1,Nr(),ry(),uy()}function ry(){ny.loadingData=!0,ny.loadingDataTry=0,ny.loadingDataTimeout=3500}function uy(){ny.set_url(),_r&&!ny.itemsCount?M_(ny.url,ny.loadingDataTimeout,2,null,fy,_y):I_(ny.url,ny.loadingDataTimeout,2,null,fy,_y,!1)}function _y(){ny.loadingDataTry++,ny.loadingDataTry<ny.loadingDataTryMax?(ny.loadingDataTimeout+=500,uy()):(ny.loadingData=!1,ny.itemsCount?ny.dataEnded=!0:(ny.FirstLoad=!1,Lr(),Fr(P),ny.key_exit()))}function fy(e){ny.concatenate(e)}function hy(){var e=ny.data.length-ny.data_cursor;if(e>ny.ItemsLimit?e=ny.ItemsLimit:ny.loadingData||(ny.dataEnded=!0),ny.HasSwitches&&!ny.TopRowCreated&&ny.addSwitches(),e){ny.row_id||(ny.row=document.createElement("div"),ny.row.id=this.ids[12]+ny.row_id);var t=Math.ceil(e/ny.ColoumnsCount),n=ny.row_id+t;for(ny.row_id;ny.row_id<n;){for(ny.coloumn_id===ny.ColoumnsCount&&(ny.row=document.createElement("div"),ny.row.id=this.ids[12]+ny.row_id,ny.coloumn_id=0),ny.coloumn_id;ny.coloumn_id<ny.ColoumnsCount&&ny.data_cursor<ny.data.length;ny.data_cursor++)ny.data[ny.data_cursor]&&ny.addCell(ny.data[ny.data_cursor]);if(ny.coloumn_id===ny.ColoumnsCount)ny.Cells[ny.row_id]=ny.row,ny.row_id++;else if(ny.data_cursor>=ny.data.length){""!==ny.row.innerHTML&&(ny.Cells[ny.row_id]=ny.row);break}}}ny.emptyContent=!e&&!ny.status,by()}function my(e,t){var n=e+"_"+t;return(xc=document.createElement("div")).style.cssText=ny.ThumbCssText,n}function py(e,t,n,i,a,o){var s=my(e,t);return xc.setAttribute("id",n[5]+s),xc.setAttribute(or,a),xc.innerHTML='<div id="'+n[0]+s+'" class="stream_thumbnail_game"><div><img id="'+n[1]+s+'" class="stream_img" src="'+i+'" onerror="this.onerror=null;this.src=\''+ny.img_404+'\'"></div><div id="'+n[2]+s+'" class="stream_text2"><div id="<div id="'+n[3]+s+'" class="stream_channel">'+a+"</div>"+(""!==o?'<div id="'+n[4]+s+'"class="stream_info" style="width: 100%; display: inline-block;">'+o+"</div>":"")+"</div></div>",xc}function vy(e,t,n,i,a,o,s,d,l,c,r,u,_,f,h,m){var p=my(e,t);return xc.setAttribute("id",n[8]+p),xc.setAttribute(or,JSON.stringify([r,c,s[2],u,a,_,f,h,m,s[0],l,s[1]+s[2]])),xc.innerHTML='<div id="'+n[0]+p+'" class="stream_thumbnail_clip"><div><img id="'+n[1]+p+'" class="stream_img" src="'+i+'" onerror="this.onerror=null;this.src=\''+ny.img_404+'\'"></div><div id="'+n[2]+p+'" class="stream_text2"><div style="line-height: 14px;"><div id="'+n[3]+p+'" class="stream_channel" style="width: 72%; display: inline-block; font-size: 85%;">'+a+'</div><div id="'+n[7]+p+'"class="stream_info" style="width:27%; float: right; text-align: right; display: inline-block;">'+l+'</div></div><div id="'+n[11]+p+'"class="stream_info">'+s[0]+_i+s[1]+s[2]+'</div><div id="'+n[6]+p+'"class="stream_info">'+d+V+'</div><div  style="line-height: 12px;"><div id="'+n[4]+p+'"class="stream_info" style="width: 59%; display: inline-block;">'+o[0]+o[1]+'</div><div id="'+n[5]+p+'"class="stream_info" style="width: 39%; display: inline-block; float: right; text-align: right;">'+D+jm(c)+"</div></div></div></div>",xc}function gy(e,t,n,i,a){var o=my(e,t);return xc.setAttribute("id",i[8]+o),xc.setAttribute(or,JSON.stringify(n)),xc.innerHTML='<div id="'+i[0]+o+'" class="stream_thumbnail_clip"><div><img id="'+i[1]+o+'" class="stream_img" src="'+a[0]+fr+'" onerror="this.onerror=null;this.src=\''+ny.img_404+'\'"></div><div id="'+i[2]+o+'" class="stream_text2"><div style="line-height: 14px;"><div id="'+i[3]+o+'" class="stream_channel" style="width: 66%; display: inline-block;">'+a[1]+'</div><div id="'+i[7]+o+'"class="stream_info" style="width:33%; float: right; text-align: right; display: inline-block;">'+a[5]+'</div></div><div id="'+i[4]+o+'"class="stream_info">'+mI.parse(a[2])+'</div><div id="'+i[5]+o+'"class="stream_info">'+v+a[3]+'</div><div id="'+i[6]+o+'"class="stream_info">'+a[4]+"</div></div></div>",xc}function yy(e,t,n,i,a){var o=my(e,t);return xc.setAttribute("id",i[8]+o),xc.setAttribute(or,JSON.stringify(n)),xc.innerHTML='<div id="'+i[0]+o+'" class="stream_thumbnail_clip"'+(a[7]?' style="background-size: 0 0; background-image: url('+a[7]+');"':"")+'><div><img id="'+i[1]+o+'" class="stream_img" src="'+a[0]+'" onerror="this.onerror=null;this.src=\''+ny.img_404+'\'"></div><div id="'+i[2]+o+'" class="stream_text2"><div style="line-height: 14px;"><div id="'+i[3]+o+'" class="stream_channel" style="width: 72%; display: inline-block; font-size: 85%;">'+a[1]+'</div><div id="'+i[7]+o+'"class="stream_info" style="width:27%; float: right; text-align: right; display: inline-block;">'+a[5]+'</div></div><div id="'+i[11]+o+'"class="stream_info">'+a[3]+'</div><div id="'+i[6]+o+'"class="stream_info">'+a[4]+'</div><div style="line-height: 12px;"><div id="'+i[4]+o+'"class="stream_info" style="width: 59%; display: inline-block;">'+a[2]+'</div><div id="'+i[5]+o+'"class="stream_info" style="width: 39%; display: inline-block; float: right; text-align: right;">'+a[6]+"</div></div></div></div>",xc}function by(){if(ny.status)Dr(ny.posX,ny.posY,ny.ColoumnsCount,ny.itemsCount);else{if(bc.Main_Go===ec&&Uy(),ny.emptyContent)Fr(ny.empty_str());else{ny.status=!0;for(var e=document.getElementById(ny.table),t=0;t<(ny.Cells.length<ny.visiblerows?ny.Cells.length:ny.visiblerows);t++)e.appendChild(ny.Cells[t])}Gc&&ny.status&&uA.restor_playback.defaultValue?bc.Play_WasPlaying?(lu(bc.Main_Go),bc.Main_Go=yc,bc.vodOffset||(bc.vodOffset=1),Ms=bc.vodOffset+1,op(qn),1===bc.Play_WasPlaying?Vu():Hu(),au(!0),window.setTimeout(function(){Jh||sp()},2e3)):1!==yc?(lu(bc.Main_Go),bc.Main_Go=yc,zu(ny.posY+"_"+ny.posX,ny.ids),au()):(bc.Never_run&&jr(),bc.Never_run=!1,wy(),su()):(wy(),su()),Gc=!1,ny.FirstLoad=!1,Lr()}}function wy(e){if(ny.emptyContent){if(!ny.HasSwitches)return void ny.key_exit();ny.posY=-1}if(ny.posY<0)return Iy(),void(ny.emptyContent||Dr(ny.posX,ny.posY+1,ny.ColoumnsCount,ny.itemsCount));Cy(e),2<ny.posY&&ny.data_cursor+jy>ny.data.length&&!ny.dataEnded&&!ny.loadingData?(ry(),uy()):ny.posY+ny.ItemsReloadLimit>ny.itemsCount/ny.ColoumnsCount&&ny.data_cursor<ny.data.length&&ju(function(){ny.loadDataSuccess()}),Cc&&zu(ny.posY+"_"+ny.posX,ny.ids)}function Ay(e){return null!==document.getElementById(e)}function Cy(e){if(ny.currY<ny.posY)1<ny.posY&&ny.Cells.length-1>=ny.posY+1&&(document.getElementById(ny.table).appendChild(ny.Cells[ny.posY+1]),Ay(ny.ids[12]+(ny.posY-2))&&document.getElementById(ny.ids[12]+(ny.posY-2)).remove());else if(ny.currY>ny.posY&&ny.posY){var t=document.getElementById(ny.table);t.insertBefore(ny.Cells[ny.posY-1],t.childNodes[ny.HasSwitches?1:0]),Ay(ny.ids[12]+(ny.posY+2))&&document.getElementById(ny.ids[12]+(ny.posY+2)).remove()}ny.currY=ny.posY,Mr(ny.ids[0]+ny.posY+"_"+ny.posX,ar),Dr(ny.posX,ny.posY,ny.ColoumnsCount,ny.itemsCount),ny.addFocus(ny.posY,ny.posX,ny.ids,e)}function ky(e,t,n,i){e<2&&bu(e)||i?e?eu(e+1,0,n[0])&&qu(n[10],-1*document.getElementById(n[8]+(e-1)+"_"+t).offsetTop-10):qu(n[10],.07*screen.height):Tu()}function Ey(e,t,n,i){bu(e)||i?ny.posY<ny.Cells.length-1&&qu(n[10]?n[10]:n[7],-1*document.getElementById(n[5]+e+"_"+t).offsetTop+.025*screen.height):ny.Cells.length-1===e&&eu(e-1,t,n[0])?qu(n[10]?n[10]:n[7],-1*document.getElementById(n[5]+(e-1)+"_"+t).offsetTop+.025*screen.height):Tu()}function My(e,t){zu(ny.posY+"_"+ny.posX,ny.ids),ny.HasAnimateThumb&&kr(ny.ids[1]+ny.posY+"_"+ny.posX),ny.posY+=e,ny.posX=t,wy()}function Iy(){ny.posX>ny.SwitchesIcons.length-1?ny.posX=0:ny.posX<0&&(ny.posX=ny.SwitchesIcons.length-1),Mr(ny.ids[0]+"y_"+ny.posX,ar)}function Sy(){ny.posX>ny.SwitchesIcons.length-1?ny.posX=0:ny.posX<0&&(ny.posX=ny.SwitchesIcons.length-1),Ir(ny.ids[0]+"y_"+ny.posX,ar)}function xy(e){Qr()?Wr():Xr()?zr():(e===ny.screen?bc.Main_Go=Zl:bc.Main_Go=e,ly())}function Py(e){if(!ny.HasSwitches||ny.posY||-1!==e||ny.emptyContent){if(ny.HasSwitches&&-1===ny.posY&&eu(0,ny.posX,ny.ids[0]))ny.posY=0,wy(),Sy();else for(var t=0;t<ny.ColoumnsCount;t++)if(eu(ny.posY+e,ny.posX-t,ny.ids[0]))return void My(e,ny.posX-t)}else zu(ny.posY+"_"+ny.posX,ny.ids),ny.HasAnimateThumb&&(window.clearInterval(this.AnimateThumbId),kr(ny.ids[1]+ny.posY+"_"+ny.posX)),ny.posY=-1,ny.posX>ny.SwitchesIcons.length-1&&(ny.posX=1),Iy()}function Ty(e,t){ny.HasSwitches&&-1===ny.posY?(ny.posY=-1,Sy(),ny.posX++,Iy()):eu(ny.posY,ny.posX+e,ny.ids[0])?My(0,ny.posX+e):eu(ny.posY+e,t,ny.ids[0])&&My(e,t)}function Ly(e){if(!ny.FirstLoad&&!Ou())switch(Bu(),e.keyCode){case Ji:ny.loadingData||ny.key_exit();break;case Ui:if(ny.loadingData)break;ny.posX?Ty(-1,ny.ColoumnsCount-1):(bc.Main_Go===ec&&(bc.Main_OldgameSelected=bc.Main_gameSelected),ny.key_exit(!0),document.body.removeEventListener("keydown",Ly),a_(Ly,!0));break;case Ni:ny.dataEnded||ny.posX<ny.ColoumnsCount-1||ny.Cells.length-1>=ny.posY+2?Ty(1,0):wy(!0);break;case Ri:ny.HasSwitches?-1===ny.posY?ny.key_exit():Py(-1):ny.posY?Py(-1):ny.key_exit();break;case Di:ny.dataEnded||ny.Cells.length-1>=ny.posY+2?Py(1):wy(!0);break;case Oi:case Bi:case Gi:case Vi:ny.key_play()}}function By(){ny.posX?1===ny.posX?(bc.Main_Go=pc,bc.Main_OldgameSelected=bc.Main_gameSelected,Oy(),ou()):Gy():(bc.Main_Go=mc,bc.Main_OldgameSelected=bc.Main_gameSelected,Oy(),ou())}function Oy(){ny.status&&-1===ny.posY&&(Sy(),ny.posY=0,ny.posX=0,Mr(ny.ids[0]+"0_"+ny.posX,ar)),document.body.removeEventListener("keydown",Ly),Cr(ny.ids[10])}function Gy(){uo()&&ja[bc.Users_Position].access_token?nb?Da():Ua():(Fr(Bt),window.setTimeout(function(){ny.emptyContent&&bc.Main_Go===ec?Fr(T+Z):Hr()},2e3))}function Uy(){uo()?Fa():(nb=!1,Ry())}function Ry(){Sr(zy.ids[3]+"y_2",nb?'<i class="icon-heart" style="color: #00b300; font-size: 100%;"></i>'+Mi+Mi+Mt:'<i class="icon-heart-o" style="color: #FFFFFF; font-size: 100%; "></i>'+Mi+Mi+(uo()?It:Lt))}ny.FirstLoad=!1;var Ny,Dy,Vy,Jy,Fy,Hy,qy,zy,Xy,Yy,jy=100,Wy="",Qy="",Zy="",Ky="",$y="",eb="",tb=1,nb=!1,ib={posX:0,posY:0,currY:0,row_id:0,coloumn_id:0,dataEnded:!1,idObject:{},loadingData:!1,itemsCount:0,loadingDataTryMax:5,loadingDataTimeout:3500,MaxOffset:0,offset:0,status:!1,emptyContent:!1,itemsCountCheck:!1,FirstLoad:!1,row:0,data:null,data_cursor:0,loadDataSuccess:hy,set_ThumbSize:function(){this.ThumbCssText="width: "+this.ThumbSize+"%; display: inline-block; padding: 3px;"},key_exit:function(e){Qr()?Wr():Xr()?zr():(eu(this.posY,this.posX,this.ids[0])?zu(this.posY+"_"+this.posX,this.ids):this.posY<0&&(Sy(),this.posY=0),e||__(Ly)),n_()}},ab={ThumbSize:32.65,visiblerows:3,ItemsLimit:Vc,ItemsReloadLimit:Fc,ColoumnsCount:Jc,addFocus:function(e,t,n,i){this.AnimateThumb(this),ky(e,t,n,i)},img_404:Ti,HasSwitches:!0,period:["day","week","month","all"],empty_str:function(){return T+(this.highlight?G:O)},SwitchesIcons:["movie-play","history"],addSwitches:function(){this.TopRowCreated=!0,this.row=document.createElement("div");for(var e,t,n=[Mi+Mi+p,Mi+Mi+r],i=0;i<n.length;i++)e='<i class="icon-'+this.SwitchesIcons[i]+' stream_channel_fallow_icon"></i>'+n[i],(t=document.createElement("div")).setAttribute("id",this.ids[8]+"y_"+i),t.className="stream_cell_period",t.innerHTML='<div id="'+this.ids[0]+"y_"+i+'" class="stream_thumbnail_channel_vod" ><div id="'+this.ids[3]+"y_"+i+'" class="stream_channel_fallow_game">'+e+"</div></div>",this.row.appendChild(t);document.getElementById(this.table).appendChild(this.row)},key_play:function(){-1===this.posY?0===this.posX?(this.highlight=!this.highlight,this.SetPeriod(),cy(),g_(this.highlightSTR,this.highlight?"true":"false")):(this.periodPos++,4<this.periodPos&&(this.periodPos=1),this.SetPeriod(),cy()):Fu(this.posY+"_"+this.posX,this.ids,Ly)},AnimateThumbId:null,HasAnimateThumb:!0,AnimateThumb:function(t){if(window.clearInterval(this.AnimateThumbId),tb){var n=document.getElementById(this.ids[0]+this.posY+"_"+this.posX);tI.onload=function(){this.onload=null,Cr(t.ids[1]+t.posY+"_"+t.posX),n.style.backgroundSize="612px";var e=0;t.AnimateThumbId=window.setInterval(function(){n.style.backgroundPosition="0px "+ ++e%10*-344+"px"},650)},tI.src=n.style.backgroundImage.replace(/url\(['"]?(.*?)['"]?\)/i,"$1")}}};function ob(){(Xy=sy(Xy=sy({ids:oy("Vod"),table:"stream_table_vod",screen:fc,highlightSTR:"Vod_highlight",highlight:w_("Vod_highlight",!1),periodPos:y_("vod_periodPos",2),base_url:"https://api.twitch.tv/kraken/videos/top?limit="+jy,set_url:function(){this.offset&&this.offset+jy>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+"&broadcast_type="+(this.highlight?"highlight":"archive")+"&sort=views&offset="+this.offset+"&period="+this.period[this.periodPos-1]+(""!==Tc?"&language="+Tc:"")},label_init:function(){bc.Main_CenterLablesVectorPos=4,Mr("top_bar_vod","icon_center_focus"),this.SetPeriod()},label_exit:function(){xr("top_bar_vod",Kt),Ir("top_bar_vod","icon_center_focus")},SetPeriod:function(){Sr("top_bar_vod",Kt+uu((this.highlight?G:O)+Bc[this.periodPos-1])),g_("vod_periodPos",this.periodPos)},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.MaxOffset=t._total,this.data=this.data.concat(t.vods),this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadingData=!1}else this.data=JSON.parse(e),this.MaxOffset=this.data._total,this.data=this.data.vods,this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadDataSuccess(),this.loadingData=!1},addCell:function(e){this.idObject[e._id]||-1!==(e.preview.template+"").indexOf("404_processing")||(this.itemsCount++,this.idObject[e._id]=1,this.row.appendChild(yy(this.row_id,this.coloumn_id,[e._id,e.length,e.channel.broadcaster_language,e.game,e.channel.name,e.increment_view_count_url],this.ids,[e.preview.template.replace("{width}x{height}",nr),e.channel.display_name,N+_u(e.created_at),mI.parse(e.title)+_i+Qt+v+e.game,Zr(e.views)+V,Kr(e.resolutions.chunked.slice(-4),parseInt(e.fps.chunked)||0,e.channel.broadcaster_language),D+jm(e.length),e.animated_preview_url])),this.coloumn_id++)}},ib),ab)).set_ThumbSize()}function sb(){(Yy=sy(Yy=sy({ids:oy("AGameVod"),table:"stream_table_a_game_vod",screen:mc,highlightSTR:"AGameVod_highlight",highlight:w_("AGameVod_highlight",!1),periodPos:y_("AGameVod_periodPos",2),base_url:"https://api.twitch.tv/kraken/videos/top?game=",set_url:function(){this.offset&&this.offset+jy>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+encodeURIComponent(bc.Main_gameSelected)+"&limit="+jy+"&broadcast_type="+(this.highlight?"highlight":"archive")+"&sort=views&offset="+this.offset+"&period="+this.period[this.periodPos-1]+(""!==Tc?"&language="+Tc:"")},OldgameSelected:"",label_init:function(){null===bc.Main_OldgameSelected&&(bc.Main_OldgameSelected=bc.Main_gameSelected),this.OldgameSelected!==bc.Main_gameSelected&&(this.status=!1),bc.Main_CenterLablesVectorPos=3,Mr("top_bar_game","icon_center_focus"),this.SetPeriod()},label_exit:function(){this.OldgameSelected=bc.Main_gameSelected,xr("top_bar_game",b),Ir("top_bar_game","icon_center_focus")},SetPeriod:function(){Sr("top_bar_game",b+uu((this.highlight?G:O)+Bc[this.periodPos-1])),g_("AGameVod_periodPos",this.periodPos)},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.MaxOffset=t._total,this.data=this.data.concat(t.vods),this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadingData=!1}else this.data=JSON.parse(e),this.MaxOffset=this.data._total,this.data=this.data.vods,this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadDataSuccess(),this.loadingData=!1},addCell:function(e){this.idObject[e._id]||-1!==(e.preview.template+"").indexOf("404_processing")||(this.itemsCount++,this.idObject[e._id]=1,this.row.appendChild(yy(this.row_id,this.coloumn_id,[e._id,e.length,e.channel.broadcaster_language,e.game,e.channel.name,e.increment_view_count_url],this.ids,[e.preview.template.replace("{width}x{height}",nr),e.channel.display_name,N+_u(e.created_at),mI.parse(e.title)+_i+Qt+v+e.game,Zr(e.views)+V,Kr(e.resolutions.chunked.slice(-4),parseInt(e.fps.chunked)||0,e.channel.broadcaster_language),D+jm(e.length),e.animated_preview_url])),this.coloumn_id++)}},ib),ab)).set_ThumbSize()}var db={ThumbSize:32.65,visiblerows:3,ItemsLimit:Vc,ItemsReloadLimit:Fc,ColoumnsCount:Jc,addFocus:ky,img_404:Ti,empty_str:function(){return T+W}};function lb(){(Hy=sy(Hy=sy({ids:oy("Live"),table:"stream_table_live",screen:Zl,base_url:"https://api.twitch.tv/kraken/streams?limit="+jy,set_url:function(){this.offset&&this.offset+jy>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+"&offset="+this.offset+(""!==Tc?"&broadcaster_language="+Tc:"")},label_init:function(){bc.Main_CenterLablesVectorPos=0,Mr("top_bar_live","icon_center_focus")},label_exit:function(){Ir("top_bar_live","icon_center_focus")},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.MaxOffset=t._total,this.data=this.data.concat(t.streams),this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadingData=!1}else this.data=JSON.parse(e),this.MaxOffset=this.data._total,this.data=this.data.streams,this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadDataSuccess(),this.loadingData=!1},addCell:function(e){this.idObject[e.channel._id]||(this.itemsCount++,this.idObject[e.channel._id]=1,this.row.appendChild(gy(this.row_id,this.coloumn_id,[e.channel.name,e.channel._id,e.channel.status],this.ids,[e.preview.template.replace("{width}x{height}",nr),$r(JSON.stringify(e.stream_type))+e.channel.display_name,e.channel.status,e.game,y+Qm(e.created_at)+" "+m+Zr(e.viewers)+J,Kr(e.video_height,e.average_fps,e.channel.broadcaster_language)])),this.coloumn_id++)},key_play:function(){Du(this.posY+"_"+this.posX,this.ids,Ly)}},ib),db)).set_ThumbSize()}function cb(){(zy=sy(zy=sy({ids:oy("AGame"),table:"stream_table_a_game",screen:ec,base_url:"https://api.twitch.tv/kraken/streams?game=",set_url:function(){this.offset&&this.offset+jy>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+encodeURIComponent(bc.Main_gameSelected)+"&limit="+jy+"&offset="+this.offset+(""!==Tc?"&broadcaster_language="+Tc:"")},label_init:function(){null===bc.Main_OldgameSelected&&(bc.Main_OldgameSelected=bc.Main_gameSelected),bc.Main_CenterLablesVectorPos=3,Mr("top_bar_game","icon_center_focus"),Ar("label_side_panel","icon-arrow-circle-left",I),Ir("top_bar_user","icon_center_focus"),Ar("label_refresh","icon-refresh",t+Yt),xr("top_bar_user",_),bc.Main_OldgameSelected!==bc.Main_gameSelected&&(this.status=!1),bc.Search_isSearching&&(ru(),Sr("top_bar_user",n+uu(h+" '"+bc.Search_data+"'"))),Sr("top_bar_game",b+uu(f+": "+bc.Main_gameSelected))},label_exit:function(){bc.Main_OldgameSelected=bc.Main_gameSelected,Ar("label_side_panel","icon-ellipsis",Rn),Sr("top_bar_game",h),Ir("top_bar_game","icon_center_focus")},HasSwitches:!0,SwitchesIcons:["movie-play","movie","heart-o"],addSwitches:function(){this.TopRowCreated=!0,this.row=document.createElement("div");for(var e,t,n=[Mi+Mi+Kt,Mi+Mi+U,Mi+Mi+It],i=0;i<n.length;i++)e='<i class="icon-'+this.SwitchesIcons[i]+' stream_channel_fallow_icon"></i>'+n[i],(t=document.createElement("div")).setAttribute("id",this.ids[8]+"y_"+i),t.className="stream_cell_period",t.innerHTML='<div id="'+this.ids[0]+"y_"+i+'" class="stream_thumbnail_channel_vod" ><div id="'+this.ids[3]+"y_"+i+'" class="stream_channel_fallow_game">'+e+"</div></div>",this.row.appendChild(t);document.getElementById(this.table).appendChild(this.row)},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.MaxOffset=t._total,this.data=this.data.concat(t.streams),this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadingData=!1}else this.data=JSON.parse(e),this.MaxOffset=this.data._total,this.data=this.data.streams,this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadDataSuccess(),this.loadingData=!1},addCell:function(e){this.idObject[e.channel._id]||(this.itemsCount++,this.idObject[e.channel._id]=1,this.row.appendChild(gy(this.row_id,this.coloumn_id,[e.channel.name,e.channel._id,e.channel.status],this.ids,[e.preview.template.replace("{width}x{height}",nr),$r(JSON.stringify(e.stream_type))+e.channel.display_name,e.channel.status,e.game,y+Qm(e.created_at)+" "+m+Zr(e.viewers)+J,Kr(e.video_height,e.average_fps,e.channel.broadcaster_language)])),this.coloumn_id++)},key_play:function(){-1!==this.posY?Du(this.posY+"_"+this.posX,this.ids,Ly):By()}},ib),db)).set_ThumbSize()}function rb(){(qy=sy(qy=sy({ids:oy("Featured"),table:"stream_table_featured",screen:vc,base_url:"https://api.twitch.tv/kraken/streams/featured?limit="+jy,set_url:function(){this.url=this.base_url+"&offset="+this.offset+(uo()&&ja[bc.Users_Position].access_token?"&oauth_token="+ja[bc.Users_Position].access_token:"")},label_init:function(){bc.Main_CenterLablesVectorPos=2,Mr("top_bar_featured","icon_center_focus")},label_exit:function(){Ir("top_bar_featured","icon_center_focus")},concatenate:function(e){this.data=JSON.parse(e),this.data=this.data.featured,this.dataEnded=!0,this.loadDataSuccess(),this.loadingData=!1},addCell:function(e){e=e.stream,this.idObject[e.channel._id]||(this.itemsCount++,this.idObject[e.channel._id]=1,this.row.appendChild(gy(this.row_id,this.coloumn_id,[e.channel.name,e.channel._id,e.channel.status],this.ids,[e.preview.template.replace("{width}x{height}",nr),$r(JSON.stringify(e.stream_type))+e.channel.display_name,e.channel.status,e.game,y+Qm(e.created_at)+" "+m+Zr(e.viewers)+J,Kr(e.video_height,e.average_fps,e.channel.broadcaster_language)])),this.coloumn_id++)},key_play:function(){Du(this.posY+"_"+this.posX,this.ids,Ly)}},ib),db)).set_ThumbSize()}var ub={ThumbSize:32.65,ItemsLimit:Vc,TopRowCreated:!1,ItemsReloadLimit:Fc,ColoumnsCount:Jc,addFocus:ky,cursor:null,visiblerows:3,period:["day","week","month","all"],img_404:Ti,empty_str:function(){return T+U},HasSwitches:!0,SwitchesIcons:["history","play-1"],addSwitches:function(){this.TopRowCreated=!0,this.row=document.createElement("div");for(var e,t,n=[Mi+Mi+r,Mi+Mi+di],i=0;i<n.length;i++)e='<i class="icon-'+this.SwitchesIcons[i]+' stream_channel_fallow_icon"></i>'+n[i],(t=document.createElement("div")).setAttribute("id",this.ids[8]+"y_"+i),t.className="stream_cell_period",t.innerHTML='<div id="'+this.ids[0]+"y_"+i+'" class="stream_thumbnail_channel_vod" ><div id="'+this.ids[3]+"y_"+i+'" class="stream_channel_fallow_game">'+e+"</div></div>",this.row.appendChild(t);document.getElementById(this.table).appendChild(this.row)},key_play:function(){-1===this.posY?this.loadingData||(this.posX?(uf=!0,Sy(),this.posX=0,this.posY=0,Ju(this.posY+"_"+this.posX,this.ids,Ly)):(this.periodPos++,4<this.periodPos&&(this.periodPos=1),this.SetPeriod(),cy())):Ju(this.posY+"_"+this.posX,this.ids,Ly)},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.cursor=t._cursor,""===this.cursor&&(this.dataEnded=!0),this.data=this.data.concat(t.clips),this.loadingData=!1}else this.data=JSON.parse(e),this.cursor=this.data._cursor,""===this.cursor&&(this.dataEnded=!0),this.data=this.data.clips,this.loadDataSuccess(),this.loadingData=!1},Cells:[],addCell:function(e){this.idObject[e.tracking_id]||(this.itemsCount++,this.idObject[e.tracking_id]=1,this.row.appendChild(vy(this.row_id,this.coloumn_id,this.ids,e.thumbnails.medium,e.broadcaster.display_name,[on,_u(e.created_at)],[mI.parse(e.title),v,e.game],Zr(e.views),"["+e.language.toUpperCase()+"]",e.duration,e.slug,e.broadcaster.name,e.broadcaster.logo.replace("150x150","300x300"),e.broadcaster.id,null!==e.vod?e.vod.id:null,null!==e.vod?e.vod.offset:null)),this.coloumn_id++)}};function _b(){(Ny=sy(Ny=sy({ids:oy("Clip"),table:"stream_table_clip",screen:hc,periodPos:y_("Clip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?limit="+jy,set_url:function(){this.url=this.base_url+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")+(""!==Tc?"&language="+Tc:"")},SetPeriod:function(){Sr("top_bar_clip",U+uu(Bc[this.periodPos-1])),g_("Clip_periodPos",this.periodPos)},label_init:function(){bc.Main_CenterLablesVectorPos=5,this.SetPeriod(),Mr("top_bar_clip","icon_center_focus"),Ar("label_refresh","icon-refresh",t+Yt)},label_exit:function(){cu(),Ir("top_bar_clip","icon_center_focus"),Ar("label_refresh","icon-refresh",t+Yt)}},ib),ub)).set_ThumbSize()}function fb(){(Dy=sy(Dy=sy({ids:oy("ChannelClip"),table:"stream_table_channel_clip",screen:cc,periodPos:y_("ChannelClip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?channel=",set_url:function(){this.url=this.base_url+encodeURIComponent(bc.Main_selectedChannel)+"&limit="+jy+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")},SetPeriod:function(){Sr("top_bar_game",U+Bc[this.periodPos-1]),g_("ChannelClip_periodPos",this.periodPos)},label_init:function(){bc.Main_CenterLablesVectorPos=1,!bc.Search_isSearching&&bc.Main_selectedChannel_id&&_s(),bc.Main_selectedChannel!==this.lastselectedChannel&&(this.status=!1),ru(),this.SetPeriod(),xr("top_bar_user",bc.Main_selectedChannelDisplayname),Ar("label_side_panel","icon-arrow-circle-left",I),this.lastselectedChannel=bc.Main_selectedChannel},label_exit:cu},ib),ub)).set_ThumbSize()}function hb(){(Vy=sy(Vy=sy({ids:oy("AGameClip"),table:"stream_table_a_game_clip",screen:pc,periodPos:y_("AGameClip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?game=",set_url:function(){this.url=this.base_url+encodeURIComponent(bc.Main_gameSelected)+"&limit="+jy+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")+(""!==Tc?"&language="+Tc:"")},SetPeriod:function(){Sr("top_bar_game",b+uu(U+Bc[this.periodPos-1]+": "+bc.Main_gameSelected)),g_("AGameClip_periodPos",this.periodPos)},label_init:function(){bc.Main_CenterLablesVectorPos=3,this.SetPeriod(),Mr("top_bar_game","icon_center_focus"),Ar("label_side_panel","icon-arrow-circle-left",I),this.gameSelected!==bc.Main_gameSelected&&(this.status=!1),this.gameSelected=bc.Main_gameSelected},label_exit:function(){Ir("top_bar_game","icon_center_focus"),Sr("top_bar_game",h),Ar("label_side_panel","icon-ellipsis",Rn)}},ib),ub)).set_ThumbSize()}var mb={ThumbSize:19.35,visiblerows:3,ItemsLimit:Hc,ItemsReloadLimit:zc,ColoumnsCount:qc,addFocus:Ey,img_404:xi,empty_str:function(){return T+Z},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.MaxOffset=t._total,this.data=this.data.concat(this.screen===ic?t.follows:t.top),this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadingData=!1}else this.data=JSON.parse(e),this.MaxOffset=this.data._total,this.data=this.screen===ic?this.data.follows:this.data.top,this.offset=this.data.length,this.isLive?this.dataEnded=!0:this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadDataSuccess(),this.loadingData=!1},key_play:function(){bc.Main_gameSelected=document.getElementById(this.ids[5]+this.posY+"_"+this.posX).getAttribute(or),document.body.removeEventListener("keydown",Ly),bc.Main_BeforeAgame=this.screen,bc.Main_Go=ec,bc.Main_BeforeAgameisSet=!0,Oc=0,document.body.removeEventListener("keydown",Ly),Cr(this.ids[10]),ou(),zu(this.posY+"_"+this.posX,this.ids)},addCell:function(e){var t=this.isLive||this.screen===$l,n=t?e.game:e;this.idObject[n._id]||(this.itemsCount++,this.idObject[n._id]=1,this.row.appendChild(py(this.row_id,this.coloumn_id,this.ids,n.box.template.replace("{width}x{height}",ir),n.name,t?Zr(e.channels)+" "+E+m+Zr(e.viewers)+J:"")),this.coloumn_id++)}};function pb(){(Jy=sy(Jy=sy({ids:oy("Game"),table:"stream_table_games",screen:$l,base_url:"https://api.twitch.tv/kraken/games/top?limit="+jy,set_url:function(){this.offset&&this.offset+jy>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+"&offset="+this.offset},label_init:function(){bc.Main_CenterLablesVectorPos=3,Mr("top_bar_game","icon_center_focus")},label_exit:function(){Ir("top_bar_game","icon_center_focus")}},ib),mb)).set_ThumbSize()}function vb(){(Fy=sy(Fy=sy({ids:oy("UserGames"),table:"stream_table_user_games",screen:ic,isLive:w_("user_Games_live",!0),OldUserName:"",base_url:"https://api.twitch.tv/api/users/",set_url:function(){this.offset&&this.offset+jy>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+encodeURIComponent(ja[bc.Users_Position].name)+"/follows/games",this.isLive?this.url+="/live?limit=750":this.url+="?limit="+jy+"&offset="+this.offset},key_refresh:function(){this.isLive=!this.isLive,Sr("top_bar_user",_+uu(ja[bc.Users_Position].name+" "+(this.isLive?Z:zt))),cy(),g_("user_Games_live",this.isLive?"true":"false"),WE&&iM()},label_init:function(){bc.Main_CenterLablesVectorPos=1,Ar("label_refresh","icon-refresh",Xt+Z+"/"+zt+":"+Yt),Ar("label_side_panel","icon-arrow-circle-left",I),Mr("top_bar_user","icon_center_focus"),this.OldUserName!==ja[bc.Users_Position].name&&(this.status=!1),this.OldUserName=ja[bc.Users_Position].name,Sr("top_bar_user",_+uu(ja[bc.Users_Position].name+" "+(this.isLive?Z:zt)))},label_exit:function(){bc.Users_Position=0,Ir("top_bar_user","icon_center_focus"),Ar("label_refresh","icon-refresh",t+Yt),xr("top_bar_user",_),Ar("label_side_panel","icon-ellipsis",Rn)}},ib),mb)).set_ThumbSize()}var gb=0,yb=0,bb=!1,wb=0,Ab={},Cb=[],kb=!1,Eb=0,Mb=5,Ib=3500,Sb=0,xb=0,Pb=!1,Tb=!1,Lb="",Bb=!1,Ob=["sc_thumbdiv","sc_img","sc_infodiv","sc_displayname","sc_cell","scempty_","search_channel_scroll"];function Gb(){bc.Main_CenterLablesVectorPos=1,bc.Main_Go=_c,bc.isLastSChannels=!0,bc.Search_isSearching=!0,Lb!==bc.Search_data&&(Tb=!1),ru(),Sr("top_bar_user",n+uu(E+" '"+bc.Search_data+"'")),document.body.addEventListener("keydown",Wb,!1),Tb?(yu(gb),kr(Ob[6]),Yb(),su()):Rb()}function Ub(){cu(),document.body.removeEventListener("keydown",Wb),Cr(Ob[6])}function Rb(){mu("stream_table_search_channel"),Cr(Ob[6]),Tr(),Hr(),Lb=bc.Search_data,Tb=!1,Ab={},r_=!(wb=xb=Sb=0),gb=yb=0,bb=Bb=!(Cb=[]),Nr(),Nb(),Db()}function Nb(){vu(),kb=!0,Eb=0,Ib=3500}function Db(){var e=wb+Sb;e&&xb-1<e&&(e=xb-Xc,bb=!0);var t="https://api.twitch.tv/kraken/search/channels?query="+encodeURIComponent(bc.Search_data)+"&limit="+Xc+"&offset="+e;_r&&!wb?M_(t,Ib,2,null,Jb,Vb):I_(t,Ib,2,null,Jb,Vb,!1)}function Vb(){++Eb<Mb?(Ib+=500,Db()):(kb=!1,wb?(bb=!0,Hb()):(r_=!1,Lr(),Fr(P)))}function Jb(e){var t=JSON.parse(e),n=t.channels.length;xb=parseInt(t._total),n<Xc&&(bb=!0);var i=wb;Pb=!(wb+=n);var a=n/Yc;0<n%Yc&&a++;for(var o,s,d,l,c,r=0,u=document.getElementById("stream_table_search_channel"),_=0;_<a;_++){for(s=i/Yc+_,d=document.createElement("tr"),o=0;o<Yc&&r<n;o++,r++)c=(l=t.channels[r])._id,Ab[c]?o--:(Ab[c]=1,d.appendChild(Fb(s,s+"_"+o,[l.name,c,l.logo,l.display_name])));for(;o<Yc;o++)bb&&!Bb&&(Bb=!0,wb=s*Yc+o),d.appendChild(Au(Ob[5]+s+"_"+o)),Cb.push(Ob[5]+s+"_"+o);u.appendChild(d)}Hb()}function Fb(e,t,n){return e<4&&wu(n[2]),Cu(t,Ob,n)}function Hb(){if(Tb){if(pu(Pi),0<Cb.length&&!bb)return Nb(),void qb();Yb(!0),Cb=[]}else Pb?Fr(d):(Tb=!0,pu(Pi),Yb(),su()),kr(Ob[6]),r_=!1,Lr();kb=!1}function qb(){Jr(Cb.length);var e=wb+Sb;e&&xb-1<e&&(e=xb-Wc,bb=!0),k_("https://api.twitch.tv/kraken/search/channels?query="+encodeURIComponent(bc.Search_data)+"&limit="+Wc+"&offset="+e,Ib,2,null,Xb,zb)}function zb(){++Eb<Mb?(Ib+=500,qb()):(bb=!0,wb-=Cb.length,Cb=[],Hb())}function Xb(e){var t,n,i=JSON.parse(e),a=i.channels.length,o=0,s=0,d=[];for(xb=parseInt(i._total),a<Wc&&(bb=!0);o<Cb.length&&s<a;o++,s++)n=(t=i.channels[s])._id,Ab[n]?o--:(Ab[n]=1,ku(Cb[o],[t.name,n,t.logo,t.display_name],Ob),d.push(o));for(o=d.length-1;-1<o;o--)Cb.splice(d[o],1);Sb+=s,bb&&(wb-=Cb.length,Cb=[]),Hb()}function Yb(e){Gu(gb,yb,Ob,Yc,wb,e),wb/Yc<gb+jc&&!bb&&!kb&&(Nb(),Db()),Cc&&jb()}function jb(){wb&&zu(gb+"_"+yb,Ob)}function Wb(e){var t;if(!r_&&!Ou())switch(Bu(),e.keyCode){case Ji:Qr()?Wr():Xr()?zr():(jb(),__(Wb)),n_();break;case Ui:if(yb){if(eu(gb,yb-1,Ob[0]))jb(),yb--,Yb();else for(t=Yc-1;-1<t;t--)if(eu(gb-1,t,Ob[0])){jb(),gb--,yb=t,Yb();break}}else jb(),a_(Wb,!0);break;case Ni:eu(gb,yb+1,Ob[0])?(jb(),yb++,Yb()):eu(gb+1,0,Ob[0])&&(jb(),gb++,yb=0,Yb());break;case Ri:if(gb){for(t=0;t<Yc;t++)if(eu(gb-1,yb-t,Ob[0])){jb(),gb--,yb-=t,Yb();break}}else jb(),__(Wb);break;case Di:for(t=0;t<Yc;t++)if(eu(gb+1,yb-t,Ob[0])){jb(),gb++,yb-=t,Yb();break}break;case Oi:case Bi:case Gi:case Vi:bc.Main_selectedChannel=document.getElementById(Ob[4]+gb+"_"+yb).getAttribute(or),bc.Main_selectedChannel_id=document.getElementById(Ob[4]+gb+"_"+yb).getAttribute("data-id"),bc.Main_selectedChannelDisplayname=document.getElementById(Ob[3]+gb+"_"+yb).textContent,document.body.removeEventListener("keydown",Wb),bc.Main_BeforeChannel=_c,bc.Main_Go=dc,bc.Main_BeforeChannelisSet=!0,So=Qi=!1,Cr(Ob[6]),au()}}var Qb=!1,Zb=0,Kb=0,$b=0,ew=0,tw=5,nw=3500,iw=0,aw=0,ow=!1,sw=!1,dw="",lw=["sgthumbdiv","sgimg","sginfodiv","sgdisplayname","sgviwers","sgcell","sgempty_","search_games_scroll"];function cw(){bc.Main_CenterLablesVectorPos=1,bc.Main_Go=oc,bc.Search_isSearching=!0,ru(),dw!==bc.Search_data&&(Qb=!1),Sr("top_bar_user",n+uu(h+" '"+bc.Search_data+"'")),document.body.addEventListener("keydown",bw,!1),Qb?(yu(Zb),kr(lw[7]),gw(),su()):uw()}function rw(){bc.Search_isSearching||cu(),document.body.removeEventListener("keydown",bw),bc.Games_return=!1,Cr(lw[7])}function uw(){mu("stream_table_search_game"),Cr(lw[7]),Tr(),Hr(),dw=bc.Search_data,sw=Qb=!1,Zb=Kb=$b=aw=iw=0,Nr(),_w(),fw()}function _w(){vu(),r_=!0,ew=0,nw=3500}function fw(){k_("https://api.twitch.tv/kraken/search/games?query="+encodeURIComponent(bc.Search_data),nw,2,null,mw,hw)}function hw(){++ew<tw?(nw+=500,fw()):(r_=!1,$b?vw():(Lr(),Fr(P)))}function mw(e){var t=JSON.parse(e),n=0;null!==t.games&&(n=t.games.length);var i=$b;ow=!($b+=n);var a=n/qc;0<n%qc&&a++;for(var o,s,d,l,c=0,r=document.getElementById("stream_table_search_game"),u=0;u<a;u++){for(s=i/qc+u,d=document.createElement("tr"),o=0;o<qc&&c<n;o++,c++)l=t.games[c],d.appendChild(pw(s,s+"_"+o,[l.name,l.box.template.replace("{width}x{height}",ir),""]));for(;o<qc;o++)sw||(sw=!0,$b=s*qc+o),d.appendChild(Au(lw[6]+s+"_"+o));r.appendChild(d)}vw()}function pw(e,t,n){return e<2&&wu(n[1]),xu(t,lw,n)}function vw(){Qb||(ow?Fr(d):(Qb=!0,pu(Ti),gw(),su()),Lr()),kr(lw[7]),r_=!1,Dr(Kb,Zb,qc,$b)}function gw(){Ru(Zb,Kb,lw,qc,$b),Cc&&yw()}function yw(){$b&&zu(Zb+"_"+Kb,lw)}function bw(e){var t;if(!r_&&!Ou())switch(Bu(),e.keyCode){case Ji:Qr()?Wr():Xr()?zr():(yw(),__(bw)),n_();break;case Ui:if(Kb){if(eu(Zb,Kb-1,lw[0]))yw(),Kb--,gw();else for(t=qc-1;-1<t;t--)if(eu(Zb-1,t,lw[0])){yw(),Zb--,Kb=t,gw();break}}else yw(),a_(bw,!0);break;case Ni:eu(Zb,Kb+1,lw[0])?(yw(),Kb++,gw()):eu(Zb+1,0,lw[0])&&(yw(),Zb++,Kb=0,gw());break;case Ri:if(Zb){for(t=0;t<qc;t++)if(eu(Zb-1,Kb-t,lw[0])){yw(),Zb--,Kb-=t,gw();break}}else yw(),__(bw);break;case Di:for(t=0;t<qc;t++)if(eu(Zb+1,Kb-t,lw[0])){yw(),Zb++,Kb-=t,gw();break}break;case Oi:case Bi:case Gi:case Vi:bc.gameSelectedOld=bc.Main_gameSelected,rw(),bc.Main_gameSelected=document.getElementById(lw[5]+Zb+"_"+Kb).getAttribute(or),document.body.removeEventListener("keydown",bw),bc.Main_Go=ec,bc.Games_return=!0,au()}}var ww=0,Aw=0,Cw=!1;function kw(){Hr(),Cr("label_refresh"),Ar("label_side_panel","icon-arrow-circle-left",I),xr("top_bar_user",n),document.getElementById("top_lables").style.marginLeft="14%",document.getElementById("top_bar_live").style.display="none",document.getElementById("top_bar_featured").style.display="none",document.getElementById("top_bar_game").style.display="none",document.getElementById("top_bar_vod").style.display="none",document.getElementById("top_bar_clip").style.display="none",Dl.placeholder=w,Mr("top_bar_user","icon_center_focus"),kr("search_scroll"),Aw=ww=0,Iw(),xw()}function Ew(){Pw(!1),document.body.removeEventListener("keydown",Sw),Iw(),bc.Main_Go=bc.Main_BeforeSearch,document.getElementById("top_lables").style.marginLeft="18.5%",xr("top_bar_user",_),Ir("top_bar_user","icon_center_focus"),Ar("label_side_panel","icon-ellipsis",Rn),kr("label_refresh"),document.getElementById("top_bar_live").style.display="inline-block",document.getElementById("top_bar_featured").style.display="inline-block",document.getElementById("top_bar_game").style.display="inline-block",document.getElementById("top_bar_vod").style.display="inline-block",document.getElementById("top_bar_clip").style.display="inline-block",Dl.value="",Cr("search_scroll")}function Mw(){Ew(),ju(function(){Aw?1===Aw?cw():2===Aw&&Qw():Gb()})}function Iw(){Ir("chanel_button","button_search_focused"),Ir("game_button","button_search_focused"),Ir("live_button","button_search_focused"),ww&&(Aw?1===Aw?Mr("game_button","button_search_focused"):2===Aw&&Mr("live_button","button_search_focused"):Mr("chanel_button","button_search_focused"))}function Sw(e){if(!Cw)switch(e.keyCode){case Ji:Qr()?Wr():Xr()?zr():(Ew(),au());break;case Ui:1===ww&&(--Aw<0&&(Aw=2),Iw());break;case Ni:1===ww&&(2<++Aw&&(Aw=0),Iw());break;case Ri:1===ww&&(ww=0,Iw(),xw());break;case Di:ww?1===ww&&(ww=0,Iw(),xw()):(Pw(!1),ww=1,Iw());break;case Oi:case Bi:case Gi:case Vi:ww?""!==Dl.value&&null!==Dl.value?(bc.Search_data=Dl.value,Dl.value="",Mw()):(Fr(s),window.setTimeout(function(){Hr()},1e3)):xw()}}function xw(){document.body.removeEventListener("keydown",Sw),document.body.addEventListener("keydown",Lw,!1),Dl.placeholder=w,Dl.focus(),Cw=!0}function Pw(e){Dl.blur(),Tw(),document.body.removeEventListener("keydown",Lw),Dl.placeholder=k+w,e&&document.body.addEventListener("keydown",Sw,!1),Cw=!1}function Tw(){if(null!==Dl){var e=Dl.cloneNode(!0);Dl.parentNode.replaceChild(e,Dl),Dl=document.getElementById("search_input")}}function Lw(e){switch(e.keyCode){case Ji:Xr()?zr():Qr()?Wr():(Ew(),au());break;case zi:Dl.value="";break;case Hi:case Di:Pw(!0),ww=1,Iw();break;case Fi:Dl.value=Dl.value.slice(0,-1);break;case qi:Dl.value+=" "}}var Bw=0,Ow=0,Gw=!1,Uw=0,Rw={},Nw=[],Dw=!1,Vw=0,Jw=5,Fw=3500,Hw=0,qw=0,zw=!1,Xw=!1,Yw=!1,jw="",Ww=["sl_thumbdiv","sl_img","sl_infodiv","sl_displayname","sl_streamtitle","sl_streamgame","sl_viwers","sl_quality","sl_cell","slempty_","search_live_scroll"];function Qw(){bc.Main_CenterLablesVectorPos=1,bc.Main_Go=sc,bc.Search_isSearching=!0,ru(),jw!==bc.Search_data&&(Xw=!1),Sr("top_bar_user",n+uu(f+" '"+bc.Search_data+"'")),document.body.addEventListener("keydown",cA,!1),Xw?(yu(Bw),kr(Ww[10]),dA(),su()):Kw()}function Zw(){cu(),document.body.removeEventListener("keydown",cA),Cr(Ww[10])}function Kw(){mu("stream_table_search_live"),Cr(Ww[10]),Tr(),Hr(),jw=bc.Search_data,Xw=!1,r_=!(Yw=!(Nw=[])),Bw=Ow=Uw=qw=Hw=0,Gw=!(Rw={}),Nr(),$w(),eA()}function $w(){vu(),Dw=!0,Vw=0,Fw=3500}function eA(){var e=Uw+Hw;e&&qw-1<e&&(e=qw-Vc,Gw=!0);var t="https://api.twitch.tv/kraken/search/streams?query="+encodeURIComponent(bc.Search_data)+"&limit="+Vc+"&offset="+e;_r&&!Uw?M_(t,Fw,2,null,nA,tA):I_(t,Fw,2,null,nA,tA,!1)}function tA(){++Vw<Jw?(Fw+=500,eA()):(Dw=!1,Uw?(Gw=!0,iA()):(r_=!1,Lr(),Fr(P)))}function nA(e){var t=JSON.parse(e),n=t.streams.length;qw=parseInt(t._total),n<Vc&&(Gw=!0);var i=Uw;zw=!(Uw+=n);var a=n/Jc;0<n%Jc&&a++;for(var o,s,d,l,c,r=0,u=document.getElementById("stream_table_search_live"),_=0;_<a;_++){for(s=i/Jc+_,d=document.createElement("tr"),o=0;o<Jc&&r<n;o++,r++)c=(l=t.streams[r]).channel._id,Rw[c]?o--:(Rw[c]=1,d.appendChild(Mu(s,s+"_"+o,[l.channel.name,c],Ww,[l.preview.template.replace("{width}x{height}",nr),$r(JSON.stringify(l.stream_type))+l.channel.display_name,l.channel.status,l.game,y+Qm(l.created_at)+" "+m+Zr(l.viewers)+J,Kr(l.video_height,l.average_fps,l.channel.broadcaster_language)])));for(;o<Jc;o++)Gw&&!Yw&&(Yw=!0,Uw=s*Jc+o),d.appendChild(Au(Ww[9]+s+"_"+o)),Nw.push(Ww[9]+s+"_"+o);u.appendChild(d)}iA()}function iA(){if(Xw){if(pu(Ti),0<Nw.length&&!Gw)return $w(),void aA();dA(!0),Nw=[]}else zw?Fr(d):(Xw=!0,pu(Ti),dA(),su()),kr(Ww[10]),r_=!1,Lr();Dw=!1}function aA(){Jr(Nw.length);var e=Uw+Hw;e&&qw-1<e&&(e=qw-Wc,Gw=!0),k_("https://api.twitch.tv/kraken/search/streams?query="+encodeURIComponent(bc.Search_data)+"&limit="+Wc+"&offset="+e,Fw,2,null,sA,oA)}function oA(){++Vw<Jw?(Fw+=500,aA()):(Gw=!0,Uw-=Nw.length,Nw=[],iA())}function sA(e){var t,n,i=JSON.parse(e),a=i.streams.length,o=0,s=0,d=[];for(qw=parseInt(i._total),a<Wc&&(Gw=!0);o<Nw.length&&s<a;o++,s++)n=(t=i.streams[s]).channel._id,Rw[n]?o--:(Rw[n]=1,Iu(Nw[o],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",nr),$r(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+Qm(t.created_at)+" "+m+Zr(t.viewers)+J,Kr(t.video_height,t.average_fps,t.channel.broadcaster_language)],Ww),d.push(o));for(o=d.length-1;-1<o;o--)Nw.splice(d[o],1);Hw+=s,Gw&&(Uw-=Nw.length,Nw=[]),iA()}function dA(e){Uu(Bw,Ow,Ww,Jc,Uw,e),Uw/Jc<Bw+Fc&&!Gw&&!Dw&&($w(),eA()),Cc&&lA()}function lA(){Uw&&zu(Bw+"_"+Ow,Ww)}function cA(e){var t;if(!r_&&!Ou())switch(Bu(),e.keyCode){case Ji:Qr()?Wr():Xr()?zr():(lA(),__(cA)),n_();break;case Ui:if(Ow){if(eu(Bw,Ow-1,Ww[0]))lA(),Ow--,dA();else for(t=Jc-1;-1<t;t--)if(eu(Bw-1,t,Ww[0])){lA(),Bw--,Ow=t,dA();break}}else lA(),a_(cA,!0);break;case Ni:eu(Bw,Ow+1,Ww[0])?(lA(),Ow++,dA()):eu(Bw+1,0,Ww[0])&&(lA(),Bw++,Ow=0,dA());break;case Ri:if(Bw){for(t=0;t<Jc;t++)if(eu(Bw-1,Ow-t,Ww[0])){lA(),Bw--,Ow-=t,dA();break}}else lA(),__(cA);break;case Di:for(t=0;t<Jc;t++)if(eu(Bw+1,Ow-t,Ww[0])){lA(),Bw++,Ow-=t,dA();break}break;case Oi:case Bi:case Gi:case Vi:Du(Bw+"_"+Ow,Ww,cA)}}var rA=0,uA={restor_playback:{values:["no","yes"],defaultValue:2},chat_font_size:{values:["60%","80%","100%","120%","140%"],defaultValue:3},chat_brightness:{values:["0%","5%","10%","15%","20%","25%","30%","35%","40%","45%","50%","55%","60%","65%","70%","75%","80%","85%","90%","95%","100%"],defaultValue:11},force_disable_chat:{values:["no","yes"],defaultValue:2},clip_auto_play_next:{values:["no","yes"],defaultValue:2},buffer_live:{values:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],defaultValue:4},buffer_vod:{values:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],defaultValue:4},buffer_clip:{values:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],defaultValue:3},videos_animation:{values:["no","yes"],defaultValue:2},clock_offset:{values:_A(),defaultValue:49},content_lang:{values:["All"],set_values:[""],defaultValue:1}};function _A(){for(var e=[],t=43200,n=0;n<48;n++)e.push("-"+jm(t)),t-=900;for(e.push(jm(0)),t=900,n=0;n<48;n++)e.push(jm(t)),t+=900;return e}var fA=[],hA=0;function mA(){iu(),Cr("label_side_panel"),Ar("label_refresh","icon-arrow-circle-left",ai),document.body.addEventListener("keydown",GA,!1),xr("top_bar_user",i),document.getElementById("top_lables").style.marginLeft="14%",document.getElementById("top_bar_live").style.display="none",document.getElementById("top_bar_featured").style.display="none",document.getElementById("top_bar_game").style.display="none",document.getElementById("top_bar_vod").style.display="none",document.getElementById("top_bar_clip").style.display="none",Mr("top_bar_user","icon_center_focus"),kr("settings_scroll"),IA(rA=0),wA("content_lang",Yn,RA)}function pA(){document.body.removeEventListener("keydown",GA),kr("label_side_panel"),SA(),xr("top_bar_user",_),document.getElementById("top_lables").style.marginLeft="18.5%",document.getElementById("top_bar_live").style.display="inline-block",document.getElementById("top_bar_featured").style.display="inline-block",document.getElementById("top_bar_game").style.display="inline-block",document.getElementById("top_bar_vod").style.display="inline-block",document.getElementById("top_bar_clip").style.display="inline-block",Ir("top_bar_user","icon_center_focus"),Ar("label_refresh","icon-refresh",t+Yt),Cr("settings_scroll")}function vA(){var e,t="";t+=gA("general",gn),e="content_lang",fA.push(e),uA[e].values=[jn],t+=bA(e,Yn,""),e="clock_offset",fA.push(e),t+=yA(e,zn),e="restor_playback",fA.push(e),uA[e].values=[T,Ft],t+=bA(e,Tn,Ln),e="videos_animation",fA.push(e),uA[e].values=[T,Ft],t+=yA(e,Un),e="clip_auto_play_next",fA.push(e),uA[e].values=[T,Ft],t+=yA(e,ci),t+=gA("play",_n),e="chat_font_size",fA.push(e),t+=bA(e,Bn,On),e="chat_brightness",fA.push(e),t+=yA(e,ii),e="force_disable_chat",fA.push(e),uA[e].values=[Ft,T],t+=bA(e,ti,ni),t+='<div id="setting_title_buffers" class="settings_title">'+fn+'</div><div id="setting_title_buffers_summary" class="settings_summary">'+hn+"</div>",e="buffer_live",fA.push(e),t+=yA(e,mn),e="buffer_vod",fA.push(e),t+=yA(e,pn),e="buffer_clip",fA.push(e),Sr("settings_main",t+=yA(e,vn)),hA=fA.length,zA()}function gA(e,t){return'<div id="setting_title_'+e+'" class="settings_section">'+t+"</div>"}function yA(e,t){return'<div id="'+e+'_div" class="settings_div"><div id="'+e+'_name" class="settings_name">'+t+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_left" class="left"></div></div><div id="'+e+'" class="strokedextramini settings_value">'+kA(e)+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_right" class="right"></div></div></div>'}function bA(e,t,n){return'<div id="'+e+'_div" class="settings_div"><div id="'+e+'_name" class="settings_name">'+t+'<div id="'+e+'_summary" class="settings_summary" style="font-size: 65%;">'+n+'</div></div><div class="settings_arraw_div"><div id="'+e+'arrow_left" class="left"></div></div><div id="'+e+'" class="strokedextramini settings_value">'+kA(e)+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_right" class="right"></div></div></div>'}function wA(e,t,n){Sr(e+"_name",t+'<div id="'+e+'_summary" class="settings_summary" style="font-size: 65%;">'+n+"</div>")}function AA(){var e="";for(e in xr("setting_title_general",gn),xr((e="clock_offset")+"_name",zn),xr((e="content_lang")+"_name",Yn),xr(e,kA(e)),uA[e].values=[jn],xr("setting_title_play",_n),xr("setting_title_buffers",fn),xr("setting_title_buffers_summary",hn),xr((e="buffer_live")+"_name",mn),xr((e="buffer_vod")+"_name",pn),xr((e="buffer_clip")+"_name",vn),wA(e="restor_playback",Tn,Ln),uA[e].values=[Ft,T],wA(e="chat_font_size",Bn,On),wA(e="force_disable_chat",ti,ni),uA[e].values=[Ft,T],xr((e="videos_animation")+"_name",Un),uA[e].values=[Ft,T],xr((e="clip_auto_play_next")+"_name",ci),uA[e].values=[T,Ft],xr((e="chat_brightness")+"_name",ii),uA)uA.hasOwnProperty(e)&&xr(e,kA(e));qA()}function CA(){for(var e in uA)uA[e].defaultValue=y_(e,uA[e].defaultValue),uA[e].defaultValue-=1,uA[e].defaultValue>MA(e)&&(uA[e].defaultValue=0);LA(0),BA(),$f=(.05*EA("chat_brightness")).toFixed(2),tb=EA("videos_animation"),_f=EA("clip_auto_play_next"),bc.Play_ChatForceDisable=EA("force_disable_chat")}function kA(e){return uA[e].values[EA(e)]}function EA(e){return uA[e].defaultValue}function MA(e){return uA[e].values.length-1}function IA(e){var t=fA[rA];Mr(t,"settings_value_focus"),Mr(t+"_div","settings_div_focus"),PA(e),OA()}function SA(){var e=fA[rA];document.getElementById(e+"arrow_left").style.opacity="0",document.getElementById(e+"arrow_right").style.opacity="0",Ir(e,"settings_value_focus"),Ir(e+"_div","settings_div_focus")}function xA(e){var t=fA[e];g_(t,EA(t)+1),xr(t,kA(t)),PA(e),TA(e)}function PA(e){var t=fA[e];if(MA(t)){var n=EA(t),i=MA(t);0<n&&n<i?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="1"):n===i?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="0.2"):(document.getElementById(t+"arrow_left").style.opacity="0.2",document.getElementById(t+"arrow_right").style.opacity="1")}}function TA(e){"videos_animation"===(e=fA[e])?tb=EA("videos_animation"):"clip_auto_play_next"===e?_f=EA("clip_auto_play_next"):"buffer_live"===e?LA(1):"buffer_vod"===e?LA(2):"buffer_clip"===e?LA(3):"chat_brightness"===e?($f=(.05*EA("chat_brightness")).toFixed(2),xp(!1)):"force_disable_chat"===e?bc.Play_ChatForceDisable=EA("force_disable_chat"):"chat_font_size"===e?pm():"clock_offset"===e&&(BA(),Zu())}function LA(e){try{e?1===e?(lh=1e3*kA("buffer_live"),_r&&Android.SetBuffer(1,lh)):2===e?(Sv=1e3*kA("buffer_vod"),_r&&Android.SetBuffer(2,Sv)):3===e&&(af=1e3*kA("buffer_clip"),_r&&Android.SetBuffer(3,af)):(lh=1e3*kA("buffer_live"),Sv=1e3*kA("buffer_vod"),af=1e3*kA("buffer_clip"),_r&&(Android.SetBuffer(1,lh),Android.SetBuffer(2,Sv),Android.SetBuffer(3,af)))}catch(e){}}function BA(){var e=EA("clock_offset");ur=e<48?-9e5*(48-e):9e5*(e-48)}function OA(){var e=screen.height;4<rA?(e*=.09,e+=-1*document.getElementById(fA[0]).offsetTop,document.getElementById("settings_scroll").style.top=e+"px"):e*=.077,document.getElementById("settings_scroll").style.top=e+"px"}function GA(e){var t;switch(e.keyCode){case Ji:Xr()?zr():Qr()?Wr():(pA(),au());break;case Ui:0<EA(t=fA[rA])&&(uA[t].defaultValue-=1,xA(rA));break;case Ni:EA(t=fA[rA])<MA(t)&&(uA[t].defaultValue+=1,xA(rA));break;case Ri:0<rA&&(SA(),IA(--rA));break;case Di:rA<hA-1&&(SA(),IA(++rA));break;case Vi:rA||JA()}}var UA=0,RA="",NA={All:{values:["off","on"],defaultValue:2,set_values:""},"Dansk [DA]":{values:["off","on"],defaultValue:1,set_values:"da"},"Deutsch [DE]":{values:["off","on"],defaultValue:1,set_values:"de"},"English [EN]":{values:["off","on"],defaultValue:1,set_values:"en,en-gb"},"Espaol [ES]":{values:["off","on"],defaultValue:1,set_values:"es,es-mx"},"Franais [FR]":{values:["off","on"],defaultValue:1,set_values:"fr"},"Italiano [IT]":{values:["off","on"],defaultValue:1,set_values:"it"},"Magyar [HU]":{values:["off","on"],defaultValue:1,set_values:"hu"},"Nederlands [NL]":{values:["off","on"],defaultValue:1,set_values:"nl"},"Norsk [NO]":{values:["off","on"],defaultValue:1,set_values:"no"},"Polski [PL]":{values:["off","on"],defaultValue:1,set_values:"pl"},"Portugus [PT]":{values:["off","on"],defaultValue:1,set_values:"pt,pt-br"},"Slovenina [SK]":{values:["off","on"],defaultValue:1,set_values:"sk"},"Suomi [FI]":{values:["off","on"],defaultValue:1,set_values:"fi"},"Svenska [SV]":{values:["off","on"],defaultValue:1,set_values:"sv"},"Ting Vit [VI]":{values:["off","on"],defaultValue:1,set_values:"vi"},"Trke [TR]":{values:["off","on"],defaultValue:1,set_values:"tr"},"etina [CS]":{values:["off","on"],defaultValue:1,set_values:"cs"}," [EL]":{values:["off","on"],defaultValue:1,set_values:"el"}," [RU]":{values:["off","on"],defaultValue:1,set_values:"ru"}," [TH]":{values:["off","on"],defaultValue:1,set_values:"th"}," [ZH]":{values:["off","on"],defaultValue:1,set_values:"zh-cn,zh-tw"}," [JA]":{values:["off","on"],defaultValue:1,set_values:"ja"}," [KO]":{values:["off","on"],defaultValue:1,set_values:"ko"},"Romn [RO]":{values:["off","on"],defaultValue:1,set_values:"ro"}},DA=[],VA=0;function JA(){iu(),document.body.removeEventListener("keydown",GA),Cr("settings_main"),kr("settings_lang"),nC(),xr("top_bar_featured",yn),document.getElementById("top_bar_featured").style.display="inline-block",document.body.addEventListener("keydown",iC,!1),ZA(UA=0),HA()}function FA(){document.body.removeEventListener("keydown",iC),document.body.addEventListener("keydown",GA,!1),OA(),kr("settings_main"),Cr("settings_lang"),xr("top_bar_featured",an),document.getElementById("top_bar_featured").style.display="none",KA(),qA(),HA()}function HA(){""===Tc&&(RA=Wn,NA.All.defaultValue=1,eC(0),Mr(DA[0],"strokedextraminired"),nC()),wA("content_lang",Yn,RA)}function qA(){if(Tc="",!WA("All")){for(var e in NA)WA(e)&&(Tc+=","+NA[e].set_values);Tc=Tc.slice(1)}RA=""===Tc?Wn:Tc.toUpperCase()}function zA(){var e="";for(var t in NA)DA.push(t),NA[t].values=[T,Ft],e+=XA(t,t);Sr("settings_lang",e),VA=DA.length}function XA(e,t){return'<div id="'+e+'_div" class="settings_div"><div id="'+e+'_name" class="settings_name">'+t+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_left" class="left"></div></div><div id="'+e+'" class="'+(WA(e)?"strokedextraminired ":"")+'strokedextramini settings_value">'+jA(e)+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_right" class="right"></div></div></div>'}function YA(){for(var e in NA)NA[e].defaultValue=y_(e,NA[e].defaultValue),NA[e].defaultValue-=1;qA()}function jA(e){return NA[e].values[WA(e)]}function WA(e){return NA[e].defaultValue}function QA(e){return NA[e].values.length-1}function ZA(e){var t=DA[UA];Mr(t,"settings_value_focus"),Mr(t+"_div","settings_div_focus"),tC(e),$A(t)}function KA(){var e=DA[UA];document.getElementById(e+"arrow_left").style.opacity="0",document.getElementById(e+"arrow_right").style.opacity="0",Ir(e,"settings_value_focus"),Ir(e+"_div","settings_div_focus")}function $A(){var e=screen.height;7<UA?(e*=.093,e+=-1*document.getElementById(DA[UA-7]).offsetTop):e*=.077,UA<18&&(document.getElementById("settings_scroll").style.top=e+"px")}function eC(e){var t=DA[e];g_(t,WA(t)+1),xr(t,jA(t)),tC(e)}function tC(e){var t=DA[e],n=WA(t),i=QA(t);0<n&&n<i?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="1"):n===i?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="0.2"):(document.getElementById(t+"arrow_left").style.opacity="0.2",document.getElementById(t+"arrow_right").style.opacity="1")}function nC(){for(var e in NA)-1===e.indexOf("All")&&(document.getElementById(e+"_div").style.display=WA("All")?"none":"inline-block")}function iC(e){var t;switch(e.keyCode){case Ji:FA();break;case Ui:0<WA(t=DA[UA])&&(NA[t].defaultValue-=1,eC(UA),Ir(DA[UA],"strokedextraminired"),-1!==t.indexOf("All")&&nC());break;case Ni:WA(t=DA[UA])<QA(t)&&(NA[t].defaultValue+=1,eC(UA),Mr(DA[UA],"strokedextraminired"),-1!==t.indexOf("All")&&nC());break;case Ri:0<UA&&(KA(),ZA(--UA));break;case Di:!WA("All")&&UA<VA-1&&(KA(),ZA(++UA))}}var aC=0,oC=0,sC=!1,dC=0,lC=!1,cC=0,rC=5,uC=3500,_C=[],fC=0,hC=0,mC=!1,pC=!1,vC="",gC=!1,yC={},bC=[],wC=0,AC=["uc_thumbdiv","uc_img","uc_infodiv","uc_displayname","uc_cell","ucempty_","user_channels_scroll"];function CC(){bc.Main_CenterLablesVectorPos=1,bc.Main_Go=uc,bc.isLastSChannels=!1,Ar("label_side_panel","icon-arrow-circle-left",I),Mr("top_bar_user","icon_center_focus"),Sr("top_bar_user",_+uu(ja[bc.Users_Position].name+K)),document.body.addEventListener("keydown",RC,!1),vC!==ja[bc.Users_Position].name&&(pC=!1),pC?(yu(aC),kr(AC[6]),GC(),su()):EC()}function kC(){bc.Users_Position=0,Ir("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",RC),xr("top_bar_user",_),Ar("label_side_panel","icon-ellipsis",Rn),Cr(AC[6])}function EC(){mu("stream_table_user_channels"),Cr(AC[6]),Tr(),Hr(),vC=ja[bc.Users_Position].name,pC=!1,yC={},aC=oC=dC=wC=fC=hC=0,r_=!(gC=sC=!(bC=[])),Nr(),_C=[],MC(),IC()}function MC(){vu(),lC=!0,cC=0,uC=3500}function IC(){var e=dC+hC;e&&wC-1<e&&(e=wC-Xc,sC=!0);var t="https://api.twitch.tv/kraken/users/"+encodeURIComponent(ja[bc.Users_Position].id)+"/follows/channels?limit="+Xc+"&offset="+e+"&sortby=login&direction=asc";_r&&!dC?M_(t,uC,2,null,xC,SC):I_(t,uC,2,null,xC,SC,!1)}function SC(){++cC<rC?(uC+=500,IC()):(lC=!1,dC?(sC=!0,TC()):(r_=!1,Lr(),Fr(P),__(RC)))}function xC(e){var t=JSON.parse(e),n=t.follows.length;wC=parseInt(t._total),n<Xc&&(sC=!0);var i=dC;mC=!(dC+=n);var a=n/Yc;0<n%Yc&&a++;for(var o,s,d,l,c,r=0,u=document.getElementById("stream_table_user_channels"),_=0;_<a;_++){for(s=i/Yc+_,d=document.createElement("tr"),o=0;o<Yc&&r<n;o++,r++)c=(l=t.follows[r].channel)._id,yC[c]?o--:(yC[c]=1,d.appendChild(PC(s,s+"_"+o,[l.name,c,l.logo,l.display_name])));for(;o<Yc;o++)sC&&!gC&&(gC=!0,dC=s*Yc+o),d.appendChild(Au(AC[5]+s+"_"+o)),bC.push(AC[5]+s+"_"+o);u.appendChild(d)}TC()}function PC(e,t,n){return e<4&&wu(n[2]),Cu(t,AC,n)}function TC(){if(pC){if(pu(Pi),0<bC.length&&!sC)return MC(),void LC();GC(!0),bC=[]}else mC?(Fr(T+K),__(RC)):(pC=!0,pu(Pi),GC(),su()),kr(AC[6]),r_=!1,Lr();lC=!1}function LC(){Jr(bC.length);var e=dC+hC;e&&wC-1<e&&(e=wC-Wc,sC=!0),k_("https://api.twitch.tv/kraken/users/"+encodeURIComponent(ja[bc.Users_Position].id)+"/follows/channels?limit="+Wc+"&offset="+fC+"&sortby=login&direction=asc",uC,2,null,OC,BC)}function BC(){++cC<rC?(uC+=500,LC()):(sC=!0,dC-=bC.length,bC=[],TC())}function OC(e){var t,n,i=JSON.parse(e),a=i.follows.length,o=0,s=0,d=[];for(wC=parseInt(i._total),a<Wc&&(sC=!0);o<bC.length&&s<a;o++,s++)n=(t=i.follows[s].channel)._id,yC[n]?o--:(yC[n]=1,ku(bC[o],[t.name,n,t.logo,t.display_name],AC),d.push(o));for(o=d.length-1;-1<o;o--)bC.splice(d[o],1);hC+=s,sC&&(dC-=bC.length,bC=[]),TC()}function GC(e){Gu(aC,oC,AC,Yc,dC,e),dC/Yc<aC+jc&&!sC&&!lC&&(MC(),IC()),Cc&&UC()}function UC(){dC&&zu(aC+"_"+oC,AC)}function RC(e){var t;if(!r_&&!Ou())switch(Bu(),e.keyCode){case Ji:Qr()?Wr():Xr()?zr():(UC(),__(RC)),n_();break;case Ui:if(oC){if(eu(aC,oC-1,AC[0]))UC(),oC--,GC();else for(t=Yc-1;-1<t;t--)if(eu(aC-1,t,AC[0])){UC(),aC--,oC=t,GC();break}}else UC(),a_(RC,!0);break;case Ni:eu(aC,oC+1,AC[0])?(UC(),oC++,GC()):eu(aC+1,0,AC[0])&&(UC(),aC++,oC=0,GC());break;case Ri:if(aC){for(t=0;t<Yc;t++)if(eu(aC-1,oC-t,AC[0])){UC(),aC--,oC-=t,GC();break}}else UC(),__(RC);break;case Di:for(t=0;t<Yc;t++)if(eu(aC+1,oC-t,AC[0])){UC(),aC++,oC-=t,GC();break}break;case Oi:case Bi:case Gi:case Vi:if(Nu(aC+"_"+oC,AC[0]))return;bc.Main_selectedChannel=document.getElementById(AC[4]+aC+"_"+oC).getAttribute(or),bc.Main_selectedChannel_id=document.getElementById(AC[4]+aC+"_"+oC).getAttribute("data-id"),bc.Main_selectedChannelDisplayname=document.getElementById(AC[3]+aC+"_"+oC).textContent,bc.Main_selectedChannelLogo=document.getElementById(AC[1]+aC+"_"+oC).src,document.body.removeEventListener("keydown",RC),bc.Main_BeforeChannel=uc,bc.Main_Go=dc,bc.Main_BeforeChannelisSet=!0,So=Qi=!0,Cr(AC[6]),au()}}var NC=0,DC=0,VC=!1,JC=0,FC={},HC=[],qC=!1,zC=0,XC=5,YC=3500,jC=0,WC=0,QC=!1,ZC=["uh_thumbdiv","uh_img","uh_infodiv","uh_displayname","uh_hosttitle","uh_hostgame","uh_viwers","uh_quality","uh_cell","uhempty_","user_host_scroll"],KC=!1,$C="",ek=!1;function tk(){bc.Main_CenterLablesVectorPos=1,bc.Main_Go=nc,Ar("label_side_panel","icon-arrow-circle-left",I),Mr("top_bar_user","icon_center_focus"),Sr("top_bar_user",_+uu(ja[bc.Users_Position].name+Q)),document.body.addEventListener("keydown",hk,!1),$C!==ja[bc.Users_Position].name&&(KC=!1),KC?(yu(NC),kr(ZC[10]),_k(),su()):ik()}function nk(){bc.Users_Position=0,Ir("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",hk),xr("top_bar_user",_),Ar("label_side_panel","icon-ellipsis",Rn),Cr(ZC[10])}function ik(){mu("stream_table_user_host"),Cr(ZC[10]),Tr(),Hr(),$C=ja[bc.Users_Position].name,KC=!1,FC={},r_=!(JC=WC=jC=0),NC=DC=0,VC=ek=!(HC=[]),Nr(),ak(),ok()}function ak(){vu(),qC=!0,zC=0,YC=3500}function ok(){var e=JC+jC;e&&WC-1<e&&(e=WC-Vc,VC=!0),E_("https://api.twitch.tv/api/users/"+encodeURIComponent(ja[bc.Users_Position].name)+"/followed/hosting?limit="+Vc+"&offset="+e,YC,2,null,dk,sk,!1,!JC)}function sk(){++zC<XC?(YC+=500,ok()):(qC=!1,JC?(VC=!0,lk()):(r_=!1,Lr(),Fr(P),__(hk)))}function dk(e){var t=JSON.parse(e),n=t.hosts.length;WC=parseInt(t._total),n<Vc&&(VC=!0);var i=JC;QC=!(JC+=n);var a=n/Jc;0<n%Jc&&a++;for(var o,s,d,l,c,r=0,u=document.getElementById("stream_table_user_host"),_=0;_<a;_++){for(s=i/Jc+_,d=document.createElement("tr"),o=0;o<Jc&&r<n;o++,r++)c=(l=t.hosts[r]).target._id+""+l._id,FC[c]?o--:(FC[c]=1,d.appendChild(Mu(s,s+"_"+o,[l.target.channel.name,l.target._id],ZC,[l.target.preview_urls.template.replace("{width}x{height}",nr),l.display_name+ne+l.target.channel.display_name,l.target.title,l.target.meta_game,m.charAt(1).toUpperCase()+m.slice(2)+Zr(l.target.viewers)+J,""])));for(;o<Jc;o++)VC&&!ek&&(ek=!0,JC=s*Jc+o),d.appendChild(Au(ZC[9]+s+"_"+o)),HC.push(ZC[9]+s+"_"+o);u.appendChild(d)}lk()}function lk(){if(KC){if(pu(Ti),0<HC.length&&!VC)return ak(),void ck();_k(!0),HC=[]}else QC?(Fr(T+Q),__(hk)):(KC=!0,_k(),pu(Ti),su()),kr(ZC[10]),r_=!1,Lr();qC=!1}function ck(){Jr(HC.length);var e=JC+jC;e&&WC-1<e&&(e=WC-Wc,VC=!0),k_("https://api.twitch.tv/api/users/"+encodeURIComponent(ja[bc.Users_Position].name)+"/followed/hosting?limit="+Wc+"&offset="+e,YC,2,null,uk,rk)}function rk(){++zC<XC?(YC+=500,ck()):(VC=!0,JC-=HC.length,HC=[],lk())}function uk(e){var t,n,i=JSON.parse(e),a=i.streams.length,o=0,s=0,d=[];for(WC=parseInt(i._total),a<Wc&&(VC=!0);o<HC.length&&s<a;o++,s++)n=(t=i.hosts[s]).target._id+""+t._id,FC[n]?o--:(FC[n]=1,Iu(HC[o],[t.target.channel.name,t.target._id],[t.target.preview_urls.template.replace("{width}x{height}",nr),t.display_name+ne+t.target.channel.display_name,t.target.title,t.target.meta_game,m.charAt(1).toUpperCase()+m.slice(2)+Zr(t.target.viewers)+J,""],ZC),d.push(o));for(o=d.length-1;-1<o;o--)HC.splice(d[o],1);jC+=s,VC&&(JC-=HC.length,HC=[]),lk()}function _k(e){Uu(NC,DC,ZC,Jc,JC,e),JC/Jc<NC+Fc&&!VC&&!qC&&(ak(),ok()),Cc&&fk()}function fk(){JC&&zu(NC+"_"+DC,ZC)}function hk(e){var t;if(!r_&&!Ou())switch(Bu(),e.keyCode){case Ji:Qr()?Wr():Xr()?zr():(fk(),__(hk)),n_();break;case Ui:if(DC){if(eu(NC,DC-1,ZC[0]))fk(),DC--,_k();else for(t=Jc-1;-1<t;t--)if(eu(NC-1,t,ZC[0])){fk(),NC--,DC=t,_k();break}}else fk(),a_(hk,!0);break;case Ni:eu(NC,DC+1,ZC[0])?(fk(),DC++,_k()):eu(NC+1,0,ZC[0])&&(fk(),NC++,DC=0,_k());break;case Ri:if(NC){for(t=0;t<Jc;t++)if(eu(NC-1,DC-t,ZC[0])){fk(),NC--,DC-=t,_k();break}}else fk(),__(hk);break;case Di:for(t=0;t<Jc;t++)if(eu(NC+1,DC-t,ZC[0])){fk(),NC++,DC-=t,_k();break}break;case Oi:case Bi:case Gi:case Vi:Du(NC+"_"+DC,ZC,hk)}}var mk,pk=!1,vk=0,gk=3500,yk=0,bk=5,wk=0,Ak=!1,Ck="",kk=0,Ek={},Mk=!1,Ik=[],Sk=null,xk=null,Pk=["ulf_thumbdiv","ulf_img","ulf_infodiv","ulf_displayname","ulf_streamtitle","ulf_streamgame","ulf_viwers","ulf_quality","ulf_cell","ulempty_","user_live_scroll"];function Tk(){uo()&&(Wk(),Mk?nE(dh,Pk[0])&&(Sk=JSON.parse(document.getElementById(Pk[8]+dh).getAttribute(or))[0]):Sk=null,mu("user_feed_scroll"),Mk=!1,document.getElementById("user_feed_scroll").style.left="2.5px",document.getElementById("user_feed").style.bottom="0.1%",kr("dialog_loading_feed"),Ck="",dh=kk=wk=yk=0,Ek={},Ik=[],ju(function(){Gk(),Lk()}))}function Lk(){(xk=ja[bc.Users_Position].access_token)?(xk=er+xk,Dk()):(Gk(),xk=null,Uk())}function Bk(e){for(var t,n=0;n<Ik.length;n++)null!==(t=document.getElementById(Ik[n].id))&&mr(t,Ik[n].src+fr,e)}function Ok(e,t){Ik.push({id:e,src:t})}function Gk(){pk=!0,vk=0,gk=3500}function Uk(){I_("https://api.twitch.tv/kraken/users/"+encodeURIComponent(ja[bc.Users_Position].id)+"/follows/channels?limit=100&offset="+yk+"&sortby=created_at",gk,2,null,Nk,Rk,!1)}function Rk(){++vk<bk?(gk+=500,Uk()):(pk=!1,wk?(Ak=!0,Hk()):(Cr("dialog_loading_feed"),zk()&&(op(P),window.setTimeout(function(){sp()},2e3))))}function Nk(e){var t=JSON.parse(e).follows,n=t.length;if(n){for(var i="",a=0;a<n;a++)i=t[a].channel._id+",",-1===Ck.indexOf(i)&&(Ck+=i);yk+=n,Gk(),Uk()}else Ck=Ck.slice(0,-1),Gk(),ju(Dk)}function Dk(){var e="https://api.twitch.tv/kraken/streams/";e+=xk?"followed?":"?channel="+encodeURIComponent(Ck)+"&",Vk(e+="limit=100&offset=0&stream_type=all")}function Vk(e){var t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=gk,t.setRequestHeader(Zc,Qc),t.setRequestHeader(Kc,tr),xk&&t.setRequestHeader($c,xk),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?Fk(t.responseText):!xk||401!==t.status&&403!==t.status?Jk():aa(bc.Users_Position,0,Lk,Lk))},t.send(null)}function Jk(){++vk<bk?(gk+=500,Dk()):(pk=!1,Cr("dialog_loading_feed"),zk()&&(op(P),window.setTimeout(function(){sp()},2e3)))}function Fk(e){var t=JSON.parse(e),n=t.streams.length;n<Vc&&(Ak=!0),wk+=n;for(var i,a,o=document.getElementById("user_feed_scroll"),s=0;s<n;s++)a=(i=t.streams[s]).channel._id,Ek[a]||(Ek[a]=1,null!==Sk&&Sk===i.channel.name&&(dh=s),o.appendChild(qk(s,[i.channel.name,a],[i.preview.template.replace("{width}x{height}",nr),$r(JSON.stringify(i.stream_type))+i.channel.display_name,i.game])));Hk()}function Hk(){Mk=!(pk=!1),Bk(Ti),ju(function(){Cr("dialog_loading_feed"),Kk()})}function qk(e,t,n){return Ok(Pk[1]+e,n[0]),(xc=document.createElement("div")).setAttribute("id",Pk[8]+e),xc.setAttribute(or,JSON.stringify(t)),xc.className="user_feed_thumb",xc.innerHTML='<div id="'+Pk[0]+e+'" class="stream_thumbnail_clip" ><div><img id="'+Pk[1]+e+'" class="stream_img"></div><div id="'+Pk[2]+e+'" class="stream_text2"><div id="'+Pk[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;">'+n[1]+'</div><div id="'+Pk[5]+e+'"class="stream_info">'+v+n[2]+"</div></div></div>",xc}function zk(){return Er("user_feed")}function Xk(){var e=uo();e&&(sh!==ja[bc.Users_Position].name&&(Mk=!1),sh=ja[bc.Users_Position].name),e&&nE(0,Pk[0])||(Mk=!1),Mk||pk||Tk(),e&&(document.getElementById("user_feed").style.bottom="0.1%",kr("user_feed"),Kk())}function Yk(){Cr("user_feed")}function jk(){Wk(),Qk()}function Wk(){window.clearTimeout(mk)}function Qk(){zk()&&(mk=window.setTimeout(Yk,5500))}function Zk(){Wk(),pk?window.setTimeout(function(){pk=!1},15e3):Tk()}function Kk(){jk(),nE(dh,Pk[0])&&(Mr(Pk[0]+dh,"feed_thumbnail_focused"),zk()?eE():Er("scene2")&&tE())}function $k(){return dh<3?2.5:nE(dh+2,Pk[0])?-1*document.getElementById(Pk[8]+(dh-2)).offsetLeft:nE(dh+1,Pk[0])?-1*document.getElementById(Pk[8]+(dh-3)).offsetLeft:-1*document.getElementById(Pk[8]+(dh-(3<dh?4:3))).offsetLeft}function eE(){var e=$k();e&&(document.getElementById("user_feed_scroll").style.left=e+"px")}function tE(){document.getElementById("user_feed").style.bottom="-1000%",kr("user_feed");var e=eE();e&&(document.getElementById("user_feed_scroll").style.left=e+"px"),document.getElementById("user_feed").style.bottom="0.1%",Cr("user_feed")}function nE(e,t){return null!==document.getElementById(t+e)}function iE(){nE(dh,Pk[0])&&Ir(Pk[0]+dh,"feed_thumbnail_focused")}var aE=0,oE=0,sE=!1,dE=0,lE={},cE=[],rE=!1,uE=0,_E=5,fE=3500,hE=0,mE=0,pE=0,vE=!1,gE=["ul_thumbdiv","ul_img","ul_infodiv","ul_displayname","ul_streamtitle","ul_streamgame","ul_viwers","ul_quality","ul_cell","ulempty_","user_live_scroll"],yE=!1,bE="",wE="",AE=!1,CE=null;function kE(){bc.Main_CenterLablesVectorPos=1,bc.Main_Go=tc,Ar("label_side_panel","icon-arrow-circle-left",I),Mr("top_bar_user","icon_center_focus"),Sr("top_bar_user",_+uu(ja[bc.Users_Position].name+W)),document.body.addEventListener("keydown",FE,!1),wE!==ja[bc.Users_Position].name&&(yE=!1),yE?(yu(aE),kr(gE[10]),VE(),su()):ME()}function EE(){bc.Users_Position=0,Ir("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",FE),xr("top_bar_user",_),Ar("label_side_panel","icon-ellipsis",Rn),Cr(gE[10])}function ME(){mu("stream_table_user_live"),Cr(gE[10]),Tr(),Hr(),yE=!1,wE=ja[bc.Users_Position].name,r_=!(AE=!(cE=[])),aE=oE=dE=mE=hE=pE=0,sE=!(lE={}),bE="",Nr(),SE(),IE()}function IE(){(CE=ja[bc.Users_Position].access_token)?(CE=er+CE,LE()):(CE=null,SE(),xE())}function SE(){vu(),rE=!0,uE=0,fE=3500}function xE(){k_("https://api.twitch.tv/kraken/users/"+encodeURIComponent(ja[bc.Users_Position].id)+"/follows/channels?limit=100&offset="+pE+"&sortby=created_at",fE,2,null,TE,PE)}function PE(){++uE<_E?(fE+=500,xE()):(rE=!1,dE?(sE=!0,UE()):(r_=!1,Lr(),Fr(P),__(FE)))}function TE(e){var t=JSON.parse(e).follows,n=t.length;if(n){for(var i="",a=0;a<n;a++)i=t[a].channel._id+",",-1===bE.indexOf(i)&&(bE+=i);pE+=n,SE(),xE()}else bE=bE.slice(0,-1),SE(),LE()}function LE(){var e=dE+hE;e&&mE-1<e&&(e=mE-Vc,sE=!0);var t="https://api.twitch.tv/kraken/streams/";t+=CE?"followed?":"?channel="+encodeURIComponent(bE)+"&",BE(t+="limit="+Vc+"&offset="+e+"&stream_type=all",GE,OE,IE)}function BE(e,t,n,i){var a;if(_r&&!dE){if(!(a=Android.mreadUrl(e,fE,CE?3:2,CE)))return void VM();200===(a=JSON.parse(a)).status?t(a.responseText):!CE||401!==a.status&&403!==a.status?n():aa(bc.Users_Position,0,i,i)}else(a=new XMLHttpRequest).open("GET",e,!0),a.timeout=fE,a.setRequestHeader(Zc,Qc),a.setRequestHeader(Kc,tr),CE&&a.setRequestHeader($c,CE),a.ontimeout=function(){},a.onreadystatechange=function(){4===a.readyState&&(200===a.status?t(a.responseText):!CE||401!==a.status&&403!==a.status?n():aa(bc.Users_Position,0,i,i))},a.send(null)}function OE(){++uE<_E?(fE+=500,LE()):(rE=!1,dE?(sE=!0,UE()):(r_=!1,Lr(),Fr(P),__(FE)))}function GE(e){var t=JSON.parse(e),n=t.streams.length;mE=parseInt(t._total),n<Vc&&(sE=!0);var i=dE;vE=!(dE+=n);var a=n/Jc;0<n%Jc&&a++;for(var o,s,d,l,c,r=0,u=document.getElementById("stream_table_user_live"),_=0;_<a;_++){for(s=i/Jc+_,d=document.createElement("tr"),o=0;o<Jc&&r<n;o++,r++)c=(l=t.streams[r]).channel._id,lE[c]?o--:(lE[c]=1,d.appendChild(Mu(s,s+"_"+o,[l.channel.name,c],gE,[l.preview.template.replace("{width}x{height}",nr),$r(JSON.stringify(l.stream_type))+l.channel.display_name,l.channel.status,l.game,y+Qm(l.created_at)+" "+m+Zr(l.viewers)+J,Kr(l.video_height,l.average_fps,l.channel.broadcaster_language)])));for(;o<Jc;o++)sE&&!AE&&(AE=!0,dE=s*Jc+o),d.appendChild(Au(gE[9]+s+"_"+o)),cE.push(gE[9]+s+"_"+o);u.appendChild(d)}UE()}function UE(){if(yE){if(pu(Ti),0<cE.length&&!sE)return SE(),void RE();VE(!0),cE=[]}else vE?(__(FE),Fr(T+W)):(yE=!0,VE(),pu(Ti),su()),kr(gE[10]),r_=!1,Lr();rE=!1}function RE(){Jr(cE.length);var e=dE+hE;e&&mE-1<e&&(e=mE-Wc,sE=!0);var t="https://api.twitch.tv/kraken/streams/";t+=CE?"followed?":"?channel="+encodeURIComponent(bE)+"&",BE(t+="followed?limit=limit="+Wc+"&offset="+e+"&stream_type=all",DE,NE,RE)}function NE(){++uE<_E?(fE+=500,RE()):(sE=!0,dE-=cE.length,cE=[],UE())}function DE(e){var t,n,i=JSON.parse(e),a=i.streams.length,o=0,s=0,d=[];for(mE=parseInt(i._total),a<Wc&&(sE=!0);o<cE.length&&s<a;o++,s++)n=(t=i.streams[s]).channel._id,lE[n]?o--:(lE[n]=1,Iu(cE[o],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",nr),$r(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+Qm(t.created_at)+" "+m+Zr(t.viewers)+J,Kr(t.video_height,t.average_fps,t.channel.broadcaster_language)],gE),d.push(o));for(o=d.length-1;-1<o;o--)cE.splice(d[o],1);hE+=s,sE&&(dE-=cE.length,cE=[]),UE()}function VE(e){Uu(aE,oE,gE,Jc,dE,e),dE/Jc<aE+Fc&&!sE&&!rE&&(SE(),xE()),Cc&&JE()}function JE(){dE&&zu(aE+"_"+oE,gE)}function FE(e){var t;if(!r_&&!Ou())switch(Bu(),e.keyCode){case Ji:Qr()?Wr():Xr()?zr():(JE(),__(FE)),n_();break;case Ui:if(oE){if(eu(aE,oE-1,gE[0]))JE(),oE--,VE();else for(t=Jc-1;-1<t;t--)if(eu(aE-1,t,gE[0])){JE(),aE--,oE=t,VE();break}}else JE(),a_(FE,!0);break;case Ni:eu(aE,oE+1,gE[0])?(JE(),oE++,VE()):eu(aE+1,0,gE[0])&&(JE(),aE++,oE=0,VE());break;case Ri:if(aE){for(t=0;t<Jc;t++)if(eu(aE-1,oE-t,gE[0])){JE(),aE--,oE-=t,VE();break}}else JE(),__(FE);break;case Di:for(t=0;t<Jc;t++)if(eu(aE+1,oE-t,gE[0])){JE(),aE++,oE-=t,VE();break}break;case Oi:case Bi:case Gi:case Vi:Du(aE+"_"+oE,gE,FE)}}var HE=0,qE=0,zE=8,XE=0,YE=null,jE=["u_thumbdiv","u_img","u_infodiv","u_displayname","u_cell","user_scroll"],WE=!1,QE=!0;function ZE(){return Ec?(KE(),void ia(Ec)):vo()?(bc.Main_CenterLablesVectorPos=1,bc.Main_Go=rc,document.getElementById("screens_holder").style.top=screen.height/100*7+"px",Hr(),Mr("top_bar_user","icon_center_focus"),document.body.addEventListener("keydown",fM,!1),void(WE?(yu(HE),kr(jE[5]),aM(),su()):$E())):(bc.Main_Go=Zl,KE(),void au())}function KE(){bc.Users_Position=0,Ir("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",fM),Cr(jE[5]),document.getElementById("screens_holder").style.top="0"}function $E(){mu("stream_table_user"),Cr(jE[5]),Tr(),Hr(),r_=!(WE=!1),QE=!(HE=qE=0),ju(function(){eM()})}function eM(){for(var e,t,n,i=document.createElement("tbody"),a=document.getElementById("stream_table_user"),o=0;o<ja.length;o++)t=0,n=o%2?"B5B5B5":"FFFFFF",(xc=document.createElement("tr")).className="follower_header",xc.innerHTML='<div class="follower_header">'+(o?"":oe)+ja[o].name+R+"</div>",a.appendChild(i),a.appendChild(xc),(e=document.createElement("tr")).appendChild(tM(o+"_"+t,bc.Main_selectedChannelDisplayname,W,"play",n)),t++,e.appendChild(tM(o+"_"+t,bc.Main_selectedChannelDisplayname,Q,"users",n)),t++,e.appendChild(tM(o+"_"+t,bc.Main_selectedChannelDisplayname,Fy.isLive?Z:zt,"gamepad",n)),t++,e.appendChild(tM(o+"_"+t,bc.Main_selectedChannelDisplayname,Kt,"movie-play",n)),t++,e.appendChild(tM(o+"_"+t,bc.Main_selectedChannelDisplayname,K,"filmstrip",n)),t++,o?e.appendChild(tM(o+"_"+t,bc.Main_selectedChannelDisplayname,ae,"arrow-up",n)):e.appendChild(tM(o+"_"+t,bc.Main_selectedChannelDisplayname,$,"user-plus",n)),t++,e.appendChild(tM(o+"_"+t,bc.Main_selectedChannelDisplayname,ee,"user-times",n)),t++,e.appendChild(tM(o+"_"+t,bc.Main_selectedChannelDisplayname,ja[o].access_token?wt:bt,"key",n)),a.appendChild(e);nM()}function tM(e,t,n,i,a){return(xc=document.createElement("td")).setAttribute("id",jE[4]+e),xc.setAttribute(or,t),xc.className="stream_cell",xc.innerHTML='<div id="'+jE[0]+e+'" class="stream_thumbnail_channel" ><div id="'+jE[1]+e+'" class="stream_user_icon" style="color: #'+a+';"><i class="icon-'+i+'"></i></div></div><div id="'+jE[2]+e+'" class="stream_text"><div id="'+jE[3]+e+'" class="stream_channel" style="text-align: center;">'+n+"</div></div>",xc}function nM(){ju(function(){WE||(WE=!0,aM(),Lr(),su()),kr(jE[5]),QE=r_=!1})}function iM(){for(var e=0;e<ja.length;e++)xr(jE[3]+e+"_2",Fy.isLive?Z:zt)}function aM(){Mr(jE[0]+HE+"_"+qE,"stream_thumbnail_focused"),bu(HE)?1<HE?eu(HE+1,0,jE[0])&&qu(jE[5],-1*document.getElementById(jE[4]+HE+"_"+qE).offsetTop+500):qu(jE[5],screen.height/100*7):Tu(),Cc&&oM()}function oM(){Ac=!1,Ir(jE[0]+HE+"_"+qE,"stream_thumbnail_focused")}function sM(){return bc.Users_Position=HE,3!==qE||ja[bc.Users_Position].access_token?7===qE&&ja[bc.Users_Position].access_token?(Fr(wt),void window.setTimeout(Hr,1500)):(6!==qE&&7!==qE&&(Cr(jE[5]),document.body.removeEventListener("keydown",fM),document.getElementById("screens_holder").style.top="0"),void ju(function(){qE?1===qE?tk():2===qE?(ny=Fy,dy()):3===qE?OM():4===qE?CC():5===qE?HE?mo(HE):(bc.Main_Before=rc,Ka()):6===qE?cM():7!==qE||ja[bc.Users_Position].access_token||cM():kE()})):(Fr(In),void window.setTimeout(Hr,5e3))}function dM(){window.clearTimeout(YE)}function lM(){YE=window.setTimeout(rM,2e4)}function cM(){lM(),6===qE?Sr("main_dialog_remove",Ht+_i+ja[bc.Users_Position].name+"?"):7===qE&&Sr("main_dialog_remove",ft+" "+ja[bc.Users_Position].name+"?"),kr("main_remove_dialog")}function rM(){dM(),Cr("main_remove_dialog"),XE=0,_M()}function uM(){return Er("main_remove_dialog")}function _M(){XE?(Ir("remove_cancel","button_search_focused"),Mr("remove_yes","button_search_focused")):(Mr("remove_cancel","button_search_focused"),Ir("remove_yes","button_search_focused"))}function fM(e){var t;if(!r_&&!Ou())switch(Bu(),e.keyCode){case Ji:uM()?rM():Xr()?zr():Qr()?Wr():(oM(),__(fM)),n_();break;case Ui:if(uM())--XE<0&&(XE=1),_M(),dM(),lM();else if(qE)if(eu(HE,qE-1,jE[0]))oM(),qE--,aM();else if(eu(HE-1,0,jE[0])){for(t=zE-1;-1<t;t--)if(eu(HE-1,t,jE[0])){oM(),HE--,qE=t,aM();break}}else oM(),qE=zE-1,aM();else oM(),a_(fM,!0);break;case Ni:uM()?(1<++XE&&(XE=0),_M(),dM(),lM()):(eu(HE,qE+1,jE[0])?(oM(),qE++):(eu(HE+1,0,jE[0])?(oM(),HE++):oM(),qE=0),aM());break;case Ri:if(HE){for(t=0;t<zE;t++)if(eu(HE-1,qE-t,jE[0])){oM(),HE--,qE-=t,aM();break}}else oM(),__(fM);break;case Di:for(t=0;t<zE;t++)if(eu(HE+1,qE-t,jE[0])){oM(),HE++,qE-=t,aM();break}break;case Oi:case Bi:case Gi:case Vi:var n;if(uM()){if(6===qE)n=XE,rM(),n&&(document.body.removeEventListener("keydown",fM),KE(),fo(HE));else if(n=XE,rM(),n){bc.Users_AddcodePosition=bc.Users_Position,su();var i=ea,a="https://id.twitch.tv/oauth2/authorize?response_type=code&client_id="+encodeURIComponent(Qc)+"&redirect_uri="+i+"&scope=user_read+user_follows_edit+user_subscriptions&force_verify=true";window.location=a}}else sM()}}var hM=0,mM=0,pM=!1,vM=0,gM={},yM=[],bM=!1,wM=0,AM=5,CM=3500,kM=0,EM=0,MM=!1,IM=!1,SM="time",xM=2,PM=!1,TM=["uv_thumbdiv","uv_img","uv_infodiv","uv_title","uv_streamon","uv_duration","uv_viwers","uv_quality","uv_cell","uvempty_","user_vod_scroll","uv_game"],LM=!1,BM=!1;function OM(){bc.Main_CenterLablesVectorPos=1,bc.Main_Go=gc,Mr("top_bar_user","icon_center_focus"),Ar("label_side_panel","icon-arrow-circle-left",I),Sr("top_bar_user",_+uu(ja[bc.Users_Position].name+(BM?G:O))),document.body.addEventListener("keydown",KM,!1),LM?(yu(hM),kr(TM[10]),$M(),jM(),su()):UM()}function GM(){bc.Users_Position=0,LM&&WM(),Ir("top_bar_user","icon_center_focus"),Ar("label_side_panel","icon-ellipsis",Rn),document.body.removeEventListener("keydown",KM),xr("top_bar_user",_),Cr(TM[10])}function UM(){LM&&WM(),mu("stream_table_user_vod"),Cr(TM[10]),Tr(),$M(),Hr(),PM=LM=!1,r_=!(IM=!(yM=[])),hM=mM=vM=EM=kM=0,pM=!(gM={}),Nr(),NM()}function RM(){vu(),bM=!0,wM=0,CM=3500}function NM(){RM(),DM()}function DM(){var e=vM+kM;e&&EM-1<e&&(e=EM-Vc,pM=!0);var t,n="https://api.twitch.tv/kraken/videos/followed?limit="+Vc+"&broadcast_type="+(BM?"highlight":"archive")+"&sort="+SM+"&offset="+e;if(_r&&!vM){if(!(t=Android.mreadUrl(n,CM,3,er+ja[bc.Users_Position].access_token)))return void VM();200===(t=JSON.parse(t)).status?FM(t.responseText):401===t.status||403===t.status?aa(bc.Users_Position,0,NM,JM):VM()}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=CM,t.setRequestHeader(Kc,tr),t.setRequestHeader(Zc,Qc),t.setRequestHeader($c,er+ja[bc.Users_Position].access_token),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?FM(t.responseText):401===t.status||403===t.status?aa(bc.Users_Position,0,NM,JM):VM())},t.send(null)}function VM(){++wM<AM?(CM+=500,DM()):JM()}function JM(){bM=!1,vM?(pM=!0,HM()):(r_=!1,Lr(),Fr(P),__(hk),ja[bc.Users_Position].access_token||(GM(),bc.Main_Go=rc,GM(),f_(),ou()))}function FM(e){var t=JSON.parse(e),n=t.videos.length;EM=parseInt(t._total),n<Vc&&(pM=!0);var i=vM;MM=!(vM+=n);var a=n/Jc;0<n%Jc&&a++;var o,s,d,l,c,r=0,u=document.getElementById("stream_table_user_vod");if(!PM){var _;for(PM=!0,d=document.createElement("tr"),f=0;f<2;f++)_=f?'<i class="icon-history stream_channel_fallow_icon"></i>'+Mi+Mi+Sn:'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+Mi+Mi+p,(xc=document.createElement("td")).setAttribute("id",TM[8]+"y_"+f),xc.className="stream_cell",xc.innerHTML='<div id="'+TM[0]+"y_"+f+'" class="stream_thumbnail_channel_vod" ><div id="'+TM[3]+"y_"+f+'" class="stream_channel_fallow_game">'+_+"</div></div>",d.appendChild(xc);d.appendChild(document.createElement("tr")),u.appendChild(d)}for(var f=0;f<a;f++){for(s=i/Jc+f,d=document.createElement("tr"),o=0;o<Jc&&r<n;o++,r++)c=(l=t.videos[r])._id,-1!==(l.preview.template+"").indexOf("404_processing")||gM[c]?o--:(gM[c]=1,d.appendChild(nI(s,s+"_"+o,[c,l.length,l.channel.broadcaster_language,l.game,l.channel.name,l.increment_view_count_url],[l.preview.template.replace("{width}x{height}",nr),l.channel.display_name,N+_u(l.created_at),mI.parse(l.title)+_i+Qt+v+l.game,Zr(l.views)+V,Kr(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.channel.broadcaster_language),D+jm(l.length),l.animated_preview_url],TM)));for(;o<Jc;o++)pM&&!IM&&(IM=!0,vM=s*Jc+o),d.appendChild(Au(TM[9]+s+"_"+o)),yM.push(TM[9]+s+"_"+o);u.appendChild(d)}HM()}function HM(){LM?(pu(Ti),jM(!0)):(MM?(Fr(T+(BM?G:O)+L+M),__(KM)):(LM=!0,jM(),pu(Ti),su()),kr(TM[10]),r_=!1,Lr()),0<yM.length&&!pM?qM():bM=!(yM=[])}function qM(){RM(),zM()}function zM(){Jr(yM.length);var e=vM+kM;e&&EM-1<e&&(e=EM-Wc,pM=!0);var t,n="https://api.twitch.tv/kraken/videos/followed?limit="+Wc+"&broadcast_type="+(BM?"highlight":"archive")+"&sort="+SM+"&offset="+e;if(_r){if(!(t=Android.mreadUrl(n,CM,3,er+ja[bc.Users_Position].access_token)))return void XM();if(200===(t=JSON.parse(t)).status)return void YM(t.responseText);401===t.status||403===t.status?aa(bc.Users_Position,0,NM,JM):XM()}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=CM,t.setRequestHeader(Kc,tr),t.setRequestHeader(Zc,Qc),t.setRequestHeader($c,er+ja[bc.Users_Position].access_token),t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void YM(t.responseText);401===t.status||403===t.status?aa(bc.Users_Position,0,NM,JM):XM()}},t.send(null)}function XM(){++wM<AM?(CM+=500,zM()):(pM=!0,vM-=yM.length,yM=[],HM())}function YM(e){var t,n,i=JSON.parse(e),a=i.videos.length,o=0,s=0,d=[];for(EM=parseInt(i._total);o<yM.length&&s<a;o++,s++)n=(t=i.videos[s])._id,-1!==(t.preview.template+"").indexOf("404_processing")||gM[n]?o--:(gM[n]=1,aI(yM[o],[n,t.length,t.channel.broadcaster_language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",nr),t.channel.display_name,N+_u(t.created_at),mI.parse(t.title)+_i+Qt+v+t.game,Zr(t.views)+V,Kr(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.channel.broadcaster_language),D+jm(t.length),t.animated_preview_url],TM),d.push(o));for(o=d.length-1;-1<o;o--)yM.splice(d[o],1);kM+=s,pM&&(vM-=yM.length,yM=[]),HM()}function jM(e){hM<0?QM():(Uu(hM,mM,TM,Jc,vM,e),sI(TM,hM+"_"+mM),vM/Jc<hM+Fc&&!pM&&!bM&&NM(),Cc&&WM())}function WM(){window.clearInterval(eI),-1<hM&&vM?(kr(TM[1]+hM+"_"+mM),zu(hM+"_"+mM,TM)):ZM()}function QM(){var e=1<mM?1:mM;Mr(TM[0]+"y_"+e,ar)}function ZM(){var e=1<mM?1:mM;Ir(TM[0]+"y_"+e,ar)}function KM(e){var t;if(!r_&&!Ou())switch(Bu(),e.keyCode){case Ji:Xr()?zr():Xr()?zr():Qr()?Wr():(WM(),__(KM)),n_();break;case Ui:if(mM)if(-1===hM)ZM(),--mM<0&&(mM=1),QM();else if(hM||mM){if(eu(hM,mM-1,TM[0]))WM(),mM--,jM();else for(t=Jc-1;-1<t;t--)if(eu(hM-1,t,TM[0])){WM(),hM--,mM=t,jM();break}}else WM(),ZM(),hM=-1,mM=1,QM();else-1===hM?(hM=0,ZM()):WM(),a_(KM,!0);break;case Ni:-1===hM?(ZM(),1<++mM?(mM=0,MM?QM():(hM=0,jM())):QM()):eu(hM,mM+1,TM[0])?(WM(),mM++,jM()):eu(hM+1,0,TM[0])&&(WM(),hM++,mM=0,jM());break;case Ri:if(-1===hM)WM(),__(KM),hM=0;else if(hM){for(t=0;t<Jc;t++)if(eu(hM-1,mM-t,TM[0])){WM(),hM--,mM-=t,jM();break}}else WM(),hM=-1,QM();break;case Di:if(-1!==hM||MM){for(t=0;t<Jc;t++)if(eu(hM+1,mM-t,TM[0])){WM(),hM++,mM-=t,jM();break}}else hM=0,ZM(),jM();break;case Oi:case Bi:case Gi:case Vi:-1===hM?(0===mM?g_("UserVod_highlight",(BM=!BM)?"true":"false"):1===xM?xM++:xM--,UM()):Fu(hM+"_"+mM,TM,KM)}}function $M(){1===xM?(Sr("top_bar_user",_+uu(ja[bc.Users_Position].name+" "+(BM?G:O)+En)),SM="time"):2===xM&&(Sr("top_bar_user",_+uu(ja[bc.Users_Position].name+" "+(BM?G:O)+Mn)),SM="views"),g_("UserVod_TypeNumber",xM)}var eI,tI=new Image;function nI(e,t,n,i,a){return e<Jc&&wu(i[0]),iI(n,t,i,a)}function iI(e,t,n,i){return(xc=document.createElement("td")).setAttribute("id",i[8]+t),xc.setAttribute(or,JSON.stringify(e)),xc.className="stream_cell",xc.innerHTML=oI(t,n,i),xc}function aI(e,t,n,i){var a=document.getElementById(e),o=e.split(i[9])[1];a.setAttribute(or,JSON.stringify(t)),a.innerHTML=oI(o,n,i),a.setAttribute("id",i[8]+o)}function oI(e,t,n){return gu(n[1]+e,t[0]),'<div id="'+n[0]+e+'" class="stream_thumbnail_clip"'+(t[7]?' style="background-size: 0 0; background-image: url('+t[7]+');"':"")+'><div><img id="'+n[1]+e+'" class="stream_img"></div><div id="'+n[2]+e+'" class="stream_text2"><div style="line-height: 14px;"><div id="'+n[3]+e+'" class="stream_channel" style="width: 72%; display: inline-block; font-size: 85%;">'+t[1]+'</div><div id="'+n[7]+e+'"class="stream_info" style="width:27%; float: right; text-align: right; display: inline-block;">'+t[5]+'</div></div><div id="'+n[11]+e+'"class="stream_info">'+t[3]+'</div><div id="'+n[6]+e+'"class="stream_info">'+t[4]+'</div><div style="line-height: 12px;"><div id="'+n[4]+e+'"class="stream_info" style="width: 59%; display: inline-block;">'+t[2]+'</div><div id="'+n[5]+e+'"class="stream_info" style="width: 39%; display: inline-block; float: right; text-align: right;">'+t[6]+"</div></div></div></div>"}function sI(t,n){if(window.clearInterval(eI),tb){var i=document.getElementById(t[0]+n);tI.onload=function(){this.onload=null,Cr(t[1]+n),i.style.backgroundSize="612px";var e=0;eI=window.setInterval(function(){i.style.backgroundPosition="0px "+ ++e%10*-344+"px"},650)},tI.src=i.style.backgroundImage.replace(/url\(['"]?(.*?)['"]?\)/i,"$1")}}function dI(e,t){return e.replace(t.code,lI(t))}function lI(e){return'<img class="emoticon" src="'+e["3x"]+'"/>'}function cI(e){return'<img class="emoticon" src="https://static-cdn.jtvnw.net/emoticons/v1/'+e+'/3.0"/>'}function rI(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;")}function uI(e){for(var t=e.split(" "),n=0;n<t.length;n++){var i=(e=t[n]).replace(/(^[~!@#$%\^&\*\(\)]+|[~!@#$%\^&\*\(\)]+$)/g,""),a=md[i]||md[e];e=a?dI(e,a):rI(e),t[n]=e}return t.join(" ")}function _I(t,i){if(!i)return[t];var n=[],e=Object.keys(i),a=[];return e.forEach(function(e){for(var t=i[e],n=t.length-1;0<=n;n--)a.push({id:e,first:t[n][0],last:t[n][1]})}),a.sort(function(e,t){return t.first-e.first}),t=punycode.ucs2.decode(t),a.forEach(function(e){n.unshift(punycode.ucs2.encode(t.slice(e.last+1))),n.unshift([cI(e.id)]),t=t.slice(0,e.first)}),n.unshift(punycode.ucs2.encode(t)),n}function fI(i){return Object.keys(i).map(function(n){var e=i[n];return e.type=n,e.versions=Object.keys(i[n].versions).map(function(e){var t=i[n].versions[e];return t.type=e,t}),e})}function hI(e,t,n,i){var a=document.createElement("style");a.type="text/css",a.innerHTML="."+e+"-"+t+' { background-image: url("'+n.replace("http:","https:")+'"); }',i?i.appendChild(a):document.head.appendChild(a)}window.parseIRC=function(e){var t={raw:e,tags:{},prefix:null,command:null,params:[]},n=0,i=0;if(64===e.charCodeAt(0)){if(-1===(i=e.indexOf(" ")))return null;for(var a=e.slice(1,i).split(";"),o=0;o<a.length;o++){var s=a[o].split("=");t.tags[s[0]]=s[1]||!0}n=i+1}for(;32===e.charCodeAt(n);)n++;if(58===e.charCodeAt(n)){if(-1===(i=e.indexOf(" ",n)))return null;for(t.prefix=e.slice(n+1,i),n=i+1;32===e.charCodeAt(n);)n++}if(-1===(i=e.indexOf(" ",n)))return e.length>n?(t.command=e.slice(n),t):null;for(t.command=e.slice(n,i),n=i+1;32===e.charCodeAt(n);)n++;for(;n<e.length;){if(i=e.indexOf(" ",n),58===e.charCodeAt(n)){t.params.push(e.slice(n+1));break}if(-1===i){if(-1===i){t.params.push(e.slice(n));break}}else for(t.params.push(e.slice(n,i)),n=i+1;32===e.charCodeAt(n);)n++}return t},function(e){var t="object"==typeof global&&global;t.global!==t&&t.window!==t&&t.self!==t||(e=t);var n,v=2147483647,g=36,y=26,a=38,o=700,i=/^xn--/,s=/[^\x20-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,l={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},c=g-1,b=Math.floor,w=String.fromCharCode;function A(e){throw new RangeError(l[e])}function r(e,t){for(var n=e.length,i=[];n--;)i[n]=t(e[n]);return i}function u(e,t){var n=e.split("@"),i="";return 1<n.length&&(i=n[0]+"@",e=n[1]),i+r((e=e.replace(d,".")).split("."),t).join(".")}function C(e){for(var t,n,i=[],a=0,o=e.length;a<o;)55296<=(t=e.charCodeAt(a++))&&t<=56319&&a<o?56320==(64512&(n=e.charCodeAt(a++)))?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),a--):i.push(t);return i}function k(e){return r(e,function(e){var t="";return 65535<e&&(t+=w((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+w(e)}).join("")}function E(e,t){return e+22+75*(e<26)-((0!==t)<<5)}function M(e,t,n){var i=0;for(e=n?b(e/o):e>>1,e+=b(e/t);c*y>>1<e;i+=g)e=b(e/c);return b(i+(c+1)*e/(e+a))}function _(e){var t,n,i,a,o,s,d,l,c,r,u,_=[],f=e.length,h=0,m=128,p=72;for((n=e.lastIndexOf("-"))<0&&(n=0),i=0;i<n;++i)128<=e.charCodeAt(i)&&A("not-basic"),_.push(e.charCodeAt(i));for(a=0<n?n+1:0;a<f;){for(o=h,s=1,d=g;f<=a&&A("invalid-input"),u=e.charCodeAt(a++),(g<=(l=u-48<10?u-22:u-65<26?u-65:u-97<26?u-97:g)||l>b((v-h)/s))&&A("overflow"),h+=l*s,!(l<(c=d<=p?1:p+y<=d?y:d-p));d+=g)s>b(v/(r=g-c))&&A("overflow"),s*=r;p=M(h-o,t=_.length+1,0===o),b(h/t)>v-m&&A("overflow"),m+=b(h/t),h%=t,_.splice(h++,0,m)}return k(_)}function f(e){var t,n,i,a,o,s,d,l,c,r,u,_,f,h,m,p=[];for(_=(e=C(e)).length,t=128,o=72,s=n=0;s<_;++s)(u=e[s])<128&&p.push(w(u));for(i=a=p.length,a&&p.push("-");i<_;){for(d=v,s=0;s<_;++s)t<=(u=e[s])&&u<d&&(d=u);for(d-t>b((v-n)/(f=i+1))&&A("overflow"),n+=(d-t)*f,t=d,s=0;s<_;++s)if((u=e[s])<t&&++n>v&&A("overflow"),u===t){for(l=n,c=g;!(l<(r=c<=o?1:o+y<=c?y:c-o));c+=g)m=l-r,h=g-r,p.push(w(E(r+m%h,0))),l=b(m/h);p.push(w(E(l,0))),o=M(n,f,i===a),n=0,++i}++n,++t}return p.join("")}n={version:"1.4.1",ucs2:{decode:C,encode:k},decode:_,encode:f,toASCII:function(e){return u(e,function(e){return s.test(e)?"xn--"+f(e):e})},toUnicode:function(e){return u(e,function(e){return i.test(e)?_(e.slice(4).toLowerCase()):e})}},e.punycode=n}(this),function(e){e.ReconnectingWebSocket=function(){if("WebSocket"in window)return u.prototype.onopen=function(){},u.prototype.onclose=function(){},u.prototype.onconnecting=function(){},u.prototype.onmessage=function(){},u.prototype.onerror=function(){},u.debugAll=!1,u.CONNECTING=WebSocket.CONNECTING,u.OPEN=WebSocket.OPEN,u.CLOSING=WebSocket.CLOSING,u.CLOSED=WebSocket.CLOSED,u;function u(e,t,n){var i={debug:!1,automaticOpen:!0,reconnectInterval:1e3,maxReconnectInterval:3e4,reconnectDecay:1.5,timeoutInterval:3e3,maxReconnectAttempts:null,binaryType:"blob"};for(var a in n||(n={}),i)void 0!==n[a]?this[a]=n[a]:this[a]=i[a];this.url=e,this.reconnectAttempts=0,this.readyState=WebSocket.CONNECTING,this.protocol=null;var o,s=this,d=!1,l=!1,c=document.createElement("div");function r(e,t){var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}c.addEventListener("open",function(e){s.onopen(e)}),c.addEventListener("close",function(e){s.onclose(e)}),c.addEventListener("connecting",function(e){s.onconnecting(e)}),c.addEventListener("message",function(e){s.onmessage(e)}),c.addEventListener("error",function(e){s.onerror(e)}),this.addEventListener=c.addEventListener.bind(c),this.removeEventListener=c.removeEventListener.bind(c),this.dispatchEvent=c.dispatchEvent.bind(c),this.open=function(i){if((o=new WebSocket(s.url,t||[])).binaryType=this.binaryType,i){if(this.maxReconnectAttempts&&this.reconnectAttempts>this.maxReconnectAttempts)return}else c.dispatchEvent(r("connecting")),this.reconnectAttempts=0;(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","attempt-connect",s.url);var e=o,a=setTimeout(function(){(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","connection-timeout",s.url),l=!0,e.close(),l=!1},s.timeoutInterval);o.onopen=function(){clearTimeout(a),(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","onopen",s.url),s.protocol=o.protocol,s.readyState=WebSocket.OPEN,s.reconnectAttempts=0;var e=r("open");e.isReconnect=i,i=!1,c.dispatchEvent(e)},o.onclose=function(e){if(clearTimeout(a),o=null,d)s.readyState=WebSocket.CLOSED,c.dispatchEvent(r("close"));else{s.readyState=WebSocket.CONNECTING;var t=r("connecting");t.code=e.code,t.reason=e.reason,t.wasClean=e.wasClean,c.dispatchEvent(t),i||l||((s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","onclose",s.url),c.dispatchEvent(r("close")));var n=s.reconnectInterval*Math.pow(s.reconnectDecay,s.reconnectAttempts);setTimeout(function(){s.reconnectAttempts++,s.open(!0)},n>s.maxReconnectInterval?s.maxReconnectInterval:n)}},o.onmessage=function(e){(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","onmessage",s.url,e.data);var t=r("message");t.data=e.data,c.dispatchEvent(t)},o.onerror=function(e){(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","onerror",s.url,e),c.dispatchEvent(r("error"))}},!0===this.automaticOpen&&this.open(!1),this.send=function(e){if(o)return(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","send",s.url,e),o.send(e);throw"INVALID_STATE_ERR : Pausing to reconnect websocket"},this.close=function(e,t){void 0===e&&(e=1e3),d=!0,o&&o.close(e,t)},this.refresh=function(){o&&o.close()}}}()}(this);var mI=function(){var e={parse:function(e,t,n){return t||(e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;")),i(e,function(e){var t=function(e){for(var t=e.indexOf(d)<0?e.replace(s,""):e,n=[],i=0,a=0,o=0;o<t.length;)i=t.charCodeAt(o++),a?(n.push((65536+(a-55296<<10)+(i-56320)).toString(16)),a=0):55296<=i&&i<=56319?a=i:n.push(i.toString(16));return n.join("-")}(e);return t?'<img class="'+(n?"emoticon":"emoji")+'" src="https://twemoji.maxcdn.com/2/72x72/'+t+'.png"/>':e})},replace:i},n=/(?:\ud83d[\udc68\udc69])(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddb0-\uddb3])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f)|[\u0023\u002a\u0030-\u0039]\ufe0f?\u20e3|(?:[\u00a9\u00ae\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\uddb5\uddb6\uddb8\uddb9\uddd1-\udddd]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a-\udc6d\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\udeeb\udeec\udef4-\udef9]|\ud83e[\udd10-\udd17\udd1d\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd40-\udd45\udd47-\udd70\udd73-\udd76\udd7a\udd7c-\udda2\uddb4\uddb7\uddc0-\uddc2\uddd0\uddde-\uddff]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g,s=/\uFE0F/g,d=String.fromCharCode(8205);return e;function i(e,t){return String(e).replace(n,t)}}();