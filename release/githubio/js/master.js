var t,n,a,e,i,o,s,d,l,r,p,m,c,u,_,f,v,h,g,y,b,w,k,A,C,E,M,I,S,x,P,L,T,B,O,G,U,R,N,F,V,D,J,H,q,z,X,j,W,Y,Q,Z,K,$,ee,te,ne,ae,ie,oe,se,de,le,re,ce,ue,_e,fe,me,he,pe,ve,ge,ye,be,we,ke,Ae,Ce,Ee,Me,Ie,Se,xe,Pe,Le,Te,Be,Oe,Ge,Ue,Re,Ne,Fe,Ve,De,Je,He,qe,ze,Xe,je,We,Ye,Qe,Ze,Ke,$e,et,tt,nt,at,it,ot,st,dt,lt,rt,ct,ut,_t,ft,mt,ht,pt,vt,gt,yt,bt,wt,kt,At,Ct,Et,Mt,It,St,xt,Pt,Lt,Tt,Bt,Ot,Gt,Ut,Rt,Nt,Ft,Vt,Dt,Jt,Ht,qt,zt,Xt,jt,Wt,Yt,Qt,Zt,Kt,$t,en,tn,nn,an,on,sn,dn,ln,rn,cn,un,_n,fn,mn,hn,pn,vn,gn,yn,bn,wn,kn,An,Cn,En,Mn,In,Sn,xn,Pn,Ln,Tn,Bn,On,Gn,Un,Rn,Nn,Fn,Vn,Dn,Jn,Hn,qn,zn,Xn,jn,Wn,Yn,Qn,Zn,Kn,$n,ea,ta,na,aa,ia,oa,sa="fglfgl27@gmail.com",da="<br>",la='<i class="icon-circle" style="font-size: 50%; vertical-align: middle; font-weight: bold;"></i>  ',ra='<div class="about_text_title">',ca='<div class="about_text_title" style="text-align: left;">',ua='<div style="text-align: left;">',_a="",fa="",ma="",ha="",pa="",va="",ga="",ya="",ba="",wa="&nbsp;";function ka(){_a=e+" (C)",fa=n+" (D)",ha=a+" (A)",ma=i+" (A)",l+=Zt,r+=Zt,I=ia+oa,pa=ra+e+"</div>"+ra+Ce+"</div>"+da+ua+la+xe+da+la+(Pe+=jt)+da+la+Le+da+la+Te+da+Be+da+la+Oe+da+wa+wa+wa+Ge+da+la+Ue+da+"</div>"+da+(ya=ra+ke+"</div>"+ua+la+nt+da+la+$e+da+la+et+da+"</div>"+ua+la+tt+da+la+at+da+la+it+da+da+ra+Ae+"</div>"+ua+la+ot+da+la+st+da+la+dt+da+la+lt+da+la+rt)+da+da+ra+we+"</div>",va=ra+be+"</div></div>",ga=ua+da+Re+da+(sc?da+'<div style="display: inline-block; color: #FF0000; font-size: 110%; font-weight: bold;">'+Zn+"</div>":"")+"</div>"+da+ra+Ne+"</div>"+sa+da+da+Fe+da+Ve+da+da+ca+De+"</div>"+ua+Ye+da+la+Je+da+la+He+da+la+qe+da+la+ze+da+la+Xe+da+la+je+da+la+We+da+Qe+da+la+Ze+da+la+Ke+da+ra+we+"</div></div>",ba=mt+da+la+ht.replace("link_link",'<div style="display: inline-block; color: #FF0000; font-size: 110%; font-weight: bold;">http://tiny.cc/twitchkeycode</div>')+da+la+pt+da+la+vt+da+la+gt+da+la+yt}function Aa(){Hc=!1,document.getElementById("side_panel").style.width="17%",t="Refresh:",n="Search",a="Settings",e="Controls",i="About",o="Hide",s="The text you entered is empty.",d="The search result is empty.",l="Switch screen",r="Switch user screen",p="Switch: Past Broadcast or Highlight",m="Switch: Period (24h, 7d, 30d, all)",c="Go to ",u="User ",_="Live",f="Games",v="Playing ",h=" for ",g="Watching time ",y="Since ",b="A Game",w="Type your search...",k="Type your authentication key...",A="Type your user name...",C="Press Enter or Select key to, ",E="Channels",M="Channel",ia="Back to previously screen: Back key",oa=" twice",S=" has ended",x="This video is only available to subscribers.",P="Connection failed, unable to load content hit refresh to try again",L="No",T=" for this ",B="Connection failed, unable to load video content exiting...",O=" Past Broadcast",G=" Highlight",U=" Clips",R=" Content",N="Streamed ",F="Duration ",V=" Views",D=" Viewers",J="Click again to exit!",H="Do you wanna to exit Twitch?",q="Exit",z="Close",X="Minimize",j="Cancel",W="Not Live | ",Y=" Channels Live",Q=" Hosts Live",Z=" Games Live",K=" Followed Channels",$=" Add User",ee=" Remove User",te="User doesn't exist",ne=" hosting ",ae=" already set",ie="Make First",oe="First user can fallow (when providing a key) and see live channels feed outside of the user screen<br>",se="Add a Twitch user to display it's Followed Channels content here",de=" (24h)",le=" (7d)",re=" (30d)",ce=" (all)",ue="Jumping",_e=" to ",fe="Jump Canceled",me=" , jump time bigger then duration",he=" Sec",pe=" Min",ve=" Hr",ge="Source",ye="Version: ",be="SmartTV Twitch",we="Press back key to close this.",ke="Player Related:",Ae="Chat Related:",Ce="General Related:",Ee="Update",Me="Current installed version ",Ie=" latest available version ",Se="This are the none players related controls, the player can show it's own controls.",xe="Play a video: Navigate using Directional pad (up/down/left/right), press enter to start playing",Pe="Refresh screen content: ",Le="Exit the application: from side pannel click exit",Te=" Switch screen: Back key then D-Pad left or right",Be="Some screen will change its internal content (channel past broadcast or clips for example) instead of changing to another screen",Oe="Start a search: from side pannel click search",Ge="After writing the search text press key Enter on the virtual keyboard then choose a search option",Ue="About this application: from side pannel click about",Re="This is a SmartTV Twitch client develop by a individual on his free time, for TV's that don't have access to a good official application, released for free to any one that wanna to use it.",Zn="This version of the app is for test in a browser only!",Ne="Developer information:",Fe="This is an open source application licensed under the GNU General Public License v3.0, check it on github",Ve="github.com/fgl27/SmartTwitchTV",De="This application uses following dependencies:",Je="Nightdev KapChat - KapChat captures Twitch chat directly into OBS or XSplit (https://www.nightdev.com/kapchat/)",He="Fontastic - Create your customized icon fonts in seconds (http://app.fontastic.me)",qe="Twemoji - A simple library that provides standard Unicode emoji support across all platforms (https://github.com/twitter/twemoji)",ze="UglifyJS - is a JavaScript parser, minifier, compressor and beautifier toolkit (https://github.com/mishoo/UglifyJS2)",Xe="JS Beautifier - Beautify, unpack or deobfuscate JavaScript and HTML, make JSON/JSONP readable, etc. (https://github.com/beautify-web/js-beautify)",je="HTMLMinifier - A highly configurable, well-tested, JavaScript-based HTML minifier (https://github.com/kangax/html-minifier)",We="JSHint - A Static Code Analysis Tool for JavaScript (https://github.com/jshint/jshint)",Ye="Web:",Qe="Android:",Ze="Google: Leanback v17 (https://developer.android.com/reference/android/support/v17/leanback/package-summary)",Ke="Google: ExoPlayer (https://github.com/google/ExoPlayer)",$e="Show information panel: Press enter key or D-pad keys if chat and live channel feed is not showing",et="Close the video: press back key twice",tt="Play/Pause a video: open information panel and click on pause simbol (not available to Live streams)",nt="Show user live channels feed: D-pad up",at="Change video quality: Open information panel, , navigate using use Directional pad (left/right), then use Directional pad (up/down) to choose the new quality after press Enter key to confirm the change",it="Force refresh a video (in case it freezes): Change video quality to the same",ot="Show or hide the Chat : D-pad right",st="Change Chat position : D-pad left",dt="Change Chat size : D-pad down",lt="Change Chat background brightness: Change in side panel settings",rt="Force refresh the Chat (in case it freezes or doesn't load): Change video quality to the same will reset and sync it",ct='Start a search: open information panel, navigate using use Directional pad (left/right) to "Search" and press enter',ut="Chat and video (Side by side): Color button red (A)",ta="Force disable the chat",na="with this the chat will not load content, this is useful on a stream with too many viewers were the chat can lag the app.",_t="Update available, check google play store",ft='Adding a key allows the app to fallow and access subscribed only past broadcast (for channel you are Sub to and block VOD access to none subscribers). On the authentication page if you already added a key for another user, you need to click up two to tree time and click over "not you?" to authenticate for a different users <br> <br> add key for',mt=" below, fallowing this steps:",ht="Access the site link_link (using a computer or a smart phone)",pt='Click on the "Authorize" button it will take you to main Twitch.TV authentication site',vt="Login to Twitch.TV using the user name you are trying to add a key for",gt="Click on Authorize button of Twitch.TV site if you agree with the requested permissions",yt="The web page will update and show a key code, the key only has lower case letters and nubers.",bt=" Add Authentication key",wt="Key added OK",kt="Key test fail, it's needed to add new one",At="Key test return OK",Ct="You try to add a key for user ",Et=" but this key is for user ",Mt=" Following",It=" Follow",St=" And you have not set a authentication key the app can't check yours sub status.",xt=" And you are not a sub of this channel",Pt=" You are a sub of this channel but the app fail to authenticate contact the developer email in about",Lt="Fail authentication check with the provider key, please check and try again",Gn="The added key doesn't belong to the user ",Tt="No user",Bt="Set a user and a authentication key to be able to fallow/unfollow",Ot="Restart the",Gt=" Clip",Ut="Channel content",Rt="Network is disconnect, the application can't work without INTERNET",Nt="Network connection reestablished",Ft=" Followers",Vt=", Can't fallow or unfallow ",Dt="Game content",Jt="Yes",Ht="Are you sure you want to remove the user ",qt="Press Up to ",zt="Followed Games",Xt="Change between",jt=" Back key then Enter",Wt=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"],Yt=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Qt="Started ",Zt=" (PG Up/Down)",Kt="Videos",$t=" Video",en="Replay",tn="exiting in ",nn='press "Return" to exit',an="Featured",on="Created ",sn="Open the Broadcast",dn="No Broadcast",ln="There is no Past Broadcast for this clip",rn="And because of that no chat",cn=" is now",un="Open the Hosting",_n="Player related",fn="Buffer size:",mn="A lower value here will make the player to start playing sooner, but it may cause re-buffer with will cause the player to pause to buffer.",hn="Live streams buffer",pn="Videos (Past Broadcast and Highlight) buffer",vn="Clips buffer",gn="General related",yn="Language",bn="Chat: Connecting to chat server..."+da+"Chat: Connected."+da+"Chat: Joined channel ",wn="Play from the start or from where you stop watching last time?",An=(kn="From:"+da)+"Start",Cn="Chat: The Chat has ended!",En=": Most recent",Mn=": Most views",In="Set a authentication key to be able to see fallowed videos",Sn="Switch: Most recent or views",xn="Enable",Pn="Disable",qn="The app was closed willing playing, restoring playback",Ln="Restore playback",Tn="When changing apps, the app may be closed by the system to free memory. In this case the app saves what it was playing and restores the playback when reopened",Bn="Chat font size",On="Change the chat lines font size, applies to text and emotes",Un="Videos animated thumbnails",Rn="Side panel: Back key twice",Nn="Size ",Fn="Brightness ",Vn="Forbidden content, this Live must be for Prime only subscribers or lock to Twitch official app only",Dn="Jump step ",Jn=" seconds",Hn=" minutes",zn="Clock offset",Xn="Application language",jn="Content language",Wn="Press enter to change",Yn="All",Qn="Empty game fro this",Kn="Isn't possible to jump during a buffering",$n="Chat is disabled, enable in side pannel settings",ea="This clip/video fail to load can't replay",aa="Chat backgroung brightness "}var Ca="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAeEAAAKgCAMAAACbeDVoAAAAM1BMVEU3NTZoZ2eura6enp4+PD1MS0vq6en09PQ0MjPy8vJ9fX1YV1jT09O7u7vf3t+NjY3GxsZnLAeWAAAI3UlEQVR4Ae3d7XabOrcGUPEBWguMzf1f7dltd3u6Q1rHNk5I3jn/NmPYo48lJC1JFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgf0+UoenatpuGEuUdRD8009S806cR/eWU9bs8d0M8/eOmZazfjcvUR3kuYmiz/m6Z46n5dmP9zdjJ+Ln6NusLuQ7labqxvpBdX3iaaayv6cpTxJT1FTlF4Sn6Jeur8vSErjqGP37c0hf2F/Op/tHY7d+Az/WPznMUdhbNWP8iT0M8rb/YGvXUT34Eb2VO8ayf01bmJQo7ikvWq9a+7KStV2UX5X0JuOZOfed8zvoGIn72tGUrs91xDizijx9kbWQ9NVEeMpzq1nOf/Mxjfbts+/KALuuWEfVz9ed6ixzvb8bzueZNHzUXHneut7pvbhzDmvVG2RceFEvWm41dH/dUkW6VeSo8Ji51a/+Mo+/O9S5tFB4xZ73TeMPugG37NaA+4ChrI5emRLkmytxmzXovo61HxFIfktldqwIN3Vgfcyrc7ZL1UTkuTf+Hptw3y5h1490exQxj3cV4Wi7N0JcSP5TSD81lOY1Zsz4ssyncJc51T3k+reuyLOt6OmfdUY594R6Xenz66QcMWT+NptyMONWjOa/rWF917gt3FP0P5dSU+Ec/nfXTu+jHeiCZXfkhonRp3eNx0dYjyUtc6V5OhZs0WQ8k27i2Uy8vhR2KwvPwU31Hm4FUPz5WKia6+rooP9V3tN0529WNXKLwVn0eKuE6lxeaupVD4a26eqyE+/JCX1+hEb/ZkMdKOMvGIytbxFIP1obLS/0jlWLmerSEh/LCUF81Fd5iPVzC09vKXnkuvEGTh0t4jfJfp7px/7KHmtLHJ5xTbE7K3VtjosnjJVzHeXOQ6s5GTJzrARPOcX7bSbksV9DkEROuWf89RBF9d9ugbMtT+BAJ5zLN8zytWX8a10vTXNYx679y/f4nS9bfjIW/mushEs5liJ8HEutPmfV3668/WVIjfqtYDpHw+HvBv71ab4ou6095KvzFkEdI+L9XKcWa1/YERJdWp9+mqx+e8HaBoz9fX71alZjepB/vr9UMzysHT3Wj+fP4IefyNrZ25AclfIrNGdfrC9CnO3bW2p01f0zCXVwd/7Xxlx/n2BfettrxQW14ur61tysvTfX/Xcp1VjuOlHC5MeExypuYKs3l7fqh7uUS19vwJsOLA8XXtXmMNryd7pyuFoxj2f4zL0TWeoix9Nhf61wyh7/u/82+bNHUbz5+LL3ppmO5etYwLvdUmCxJN/FS+SVemutuxuFaQTPHpvwm5nE7peb6BtWPWLXcbsYZ8uqvYDhf3Z1ZmI6TcNZxjmtbErKJ8kM0eX08TqwfmPBWLnOJiL5Zs/4ynk5j/SXX739S5iWvr3wSQx4q4Zp5/nEtU9YfzlMf/xgu5/pDfr/YYz1n3VJ+2Jrqxye8kb9fPR/lu+iXvH1xm1iPk/CVwCLadNvlzYbcM+Fc2hfW+kKu2z/4syVu+jluTxMz1V0Tvj4Xy/6GBZOxv/3Cza6waRX7JRx7Jrx9qEZ74z4C+nHPhHOTcDyW8PaWhxsXxmjy0G24Ly/0N5aZWeqR2/D1Wx6uHCYmxnroNnzXInoWfhny2G346i0PV5a1mPLYbXgqL0w3nZwg1vrMNvx4wpt9PetN+66JrDu34aF/Yd72of1/NPUvsrlr6F/4IYb6Vs0v9V2dh/983/G20zE09e3yu5r1fY3DHS8JuhR+6Orh5TiV76JMY972ChfiXD+DU9cMQ9Odsr7VGIVv+vo55J132jLXr2oufDPVr+pS2J4L//QMtTbW+lWdCt+M9avKvhRiqF/XUEphrl9XU9gczDSY/nLa+nW1UYilfl1rFGKt9UtPlzjXr+tcCv1Yv66xL1sODu8sx7W7TM089P8opfT/GOZmmrr1/PTPHgpzfZpx7aa5j3+UiPJClBIR/Tx161ifZi409Rny1E7Dt1yv+pb/MLWntOTxaRLO8/It3XKDiOib5Qmd9lSY6q5yXOYSJcqt+hJlbsfcO2EudUfZzVEeEXOXdUddoat7ybUpUR4TJUqz5AETlvDYDVH2EUM31n20hbbu4dz1UfYSEf3lvFPCtHu+4mxHfZsS3kO09WFjE2V/0YyHSFgbzqU8y5Ifn7C9tOMU5VliGo2lP3o+fJ6jPNF8so3nY9e01r48U5R+sab1gQnnUp5vyY9KWPUw2yhPF9FmvVc2haHeK7so7yEuWe81FPp8/EXfTxZT1rtk9qVwrnfJKUo5esTnUojT429yf747Iz5FIZYjBrxxyXtfoUh3xEHWRnR555IWzSED3ojORrw7DZ/kwFe0d06WGOuNloPec74xFu4Zap368iGiPxlovcMR8Rz78lH6MVWWbhfz5zkKNIzPPtPiQTw25SM1o8fwkwepl/jgR0rePuSn+UT/adGaDT/xLQB5+kzr6Fn4qf1MR+r7USf9rPct5fClv60KYk6f6vVQ5yj80uRn6vWiS1u0bhTr57qbalX8378Rj0M5jmHUhHcvPzRRDqRRdLhRXGsVXXym41bbHoeYPtkFkaf6N1MUXloP1yTufxSvha1+PPRMeGMa9dG36efxjjP+B6wkZjblVczn+pq2L8fUt/U157lEeQ1Rpk3GYztEOaoY2nGT7+Wv+dK056z/ynPb9FGOLPqXX/h6vgzNpW3b7tIMJcrxRRmaqWvb9sYvTET5JKIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAF/F/wGK2iVvT89ySQAAAABJRU5ErkJggg==",Ea="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAMAAABrrFhUAAAASFBMVEVHcEw1NTXb29swMDB9fX1DQ0NeXl5RUVFtbW3m5ubT09Pg4ODKyso7Ozufn5+9vb2urq62traQkJClpaWJiYmYmJjCwsLq6uo9xg8yAAAAF3RSTlMACeoDbBxBLlX54PHUEZnCrbiFonuQyd/Z9QoAAAhdSURBVHgB7MGBAAAAAICg/akXqQIAAAAAYO7qJdtSEIbC8AKREB4icI57/jOtzm1Ur1ZdFRO/GfxxqzdbTFnJex9+eO9pLWZ5fbgpFFwf7cg2MeNvnGw+2uguUDFvfOaFQt+zZfwT27z3QOU9ezDkvtUy/gvb4+vIvCF+RMYvcRyqj7CGLTNO4ryFVWM9uZZwkdQcqatnXIqrnhusP/VX4+YUvAuL3yxuYze/CH/4FTergmdAPWKC2Enk9mkkTJKGF9fvd8ZEvHth+ZhO0AloQr7gE9BgPIQHPZ5fPhYPsp/ybH/IeFgOT66/QYBGD+UvLkEE+1me6PcVYlQ/Pd90hiDczdx+qhCm0sx+lyBOctPy1x0i7eucfh8hVPRT5s8Qi93t+WWDaFu5t58OCHeQ3Ndf/4cgJCiQwl39Dkp8bslfvlDju1zfbwYUGeby/h2q7BdfoDQo08ql/RXq1CK6f4Kj6N+/jA2YBqWa0f/9F/AvGFBsnO/vUK2f7XdQzp3rDwzlOJzpJwv1Ev2+f424EScb83HkaNOf9u5Ex3EQCQPwjznA+D7sev83XWnVGu1oZ9Jp8pcTNP4eIN2xOaqgCK0oyh6F7CJKunPbU/SDMdYaM/iY9u3sPi4cOERFHpO3ACx+Y30as6g4UCSJgnwEg78y4ciiIKFA7IRucgO+MbjpIwZCa3phW8Lbas76AT81CtmU8LQ0Cdn47gEgpzcXH6X3RgCbxw/5Tagajx+wM/v1F0hZmJb3pUCLRxG/vCktsr75jF0Ke7ypE8wfs2XvWuGZ+TOA/k5laq6fCYYsNF3Ai0J3eV44ftL3hw3dxeFQbLXa//urEtqI7y3vX43SW5dbLh0BHUjcheMgMQncQLMJS28ue9inAY2ZriqfGZrr465rY9NmwCM7v7NxpGv2ingPegbZfEnTXN/fAfTfzXrFH0mgS0LSef0GMEHBJCSrfhYUoCCoTwSOPAJ+7DjolIPANkJFbHXDwcSPgclG3TF6+vAGQGwCk8X/i0KyQM0iJEG/fWmwSUhGxTSoN1Bjer2Z0AnJDkW7kLjKhkD+MKj2ySdUTUIStdKAHap2pYTAfnoUyI8GrU6icVqosqeQBJ0ecEDZISSrSg+QBGVJZYE86O89scRWow+s7MdaQTAoq8bsukHdprBu5zshcVDnFBZHk7AkaLMa/+wmLBHqYkvvrybzWxUfv79mw14LkmygzmR6e3XCMuECi7A4elXUjAvM7Jopyy4K0Q8EuBmhb9mPVNcoLK1nl0UduMAhNIl9OniFPv7/OwvNjgvs5PJp29f3AKjJq+/q6wLUyDXIvzsISiAfjxlrewCO/HnXBELkJjuLVJwLEKaBU8ijqjLbC88J2Cw8zQBt1jTCkw11FpT2ohUhZjYQhSlBXRKmiCBMDuqcMCXyAz2g7hCmRH6gE9RN5Ca7C1PnocsOjTDtOIQqQFkQqgOzUO1QtgvVjEnqGgQW9v97ClUb1feFqHr0UlUfSMLVI0tVfWATroxGauoDvhGuBo2QOShyQtaglZr6wCRkLYStDaqpMBtaYZuhZhS2Fp2wtVExCGDr0AjdBiWr0DXIUk0T8I3QZWThG6tpAJLRC1/nwWd9J3w9JlGwKUXBfBNm0ZBAl0TDjFE05AFkQxYNI1ZRMYJsFBUrnOgIGh2Az6l9cj8odAA+hyBKNoUOwJcQW1Gy1nDPXcTQiRYHktCKktZz6wN0VgZiI1oaAyyipokg8FnU9BYYRU/v8TLfi54FwC6K+sj8/nwjf4Ql3wEbe/VbiIKo6tIn3/ObHqy0srSOess9f+3KZFG2WhSxqyjLBgBm0TZFFIiLaFsKSg6KNA4/5hpRdxRkmoWWSHj9dKlgu6FUe3g8zR+tFChdvz/lEt0R8ZR4NHKJbIqS7XLdGPGtOHZykfn6WyXbxXk84N3cymV2pU3ndhoffGIzJ2/xB9a7uZErBf6BdJFucfG7SxG6c3TBG4sv1vjgxrOTB9p979XW7md+C49ZvtH05zKP6zpuy9Q3zyRVJqy9TiGDE4pzj/hirT+F6Pz6ZBPGRlgctfKkGYPF/xpGodkG/DK4paX/4MkpLzqd17sjqHMqgUJvaBXISzJF8Wx5KuX3TD3cEeUFc8Df2L2TF7W7xZ8M7iTuYNue/vW/xFntmk6bet4G9qp3jWg6pVif8HcWxvWsrbsgJc6EJxiXpUh2Bt8Y9obQAwqDwewsnjOUvKneeTwhboQeUJQRjh7PM2n6aeMyeFI4GRUcidL6H7BhzD+4nNvieaZkrgmv/VDjOuDnhrQ18q1mTgN+KE4lm4K/c5ds9/i0Tg9eVzcdyaOA2dtXixd8V3CJcOlD2Kbcym/a5tzW5C1Khf7Vat6xYKenmB1icm5fj3E81t25FAeL1/j5xZL+oNz89e3ytFR8HOX0+Fg2dT9LBAuGwc1An/5m8l5aizfiw8X+lavgDvXCN33+lO8dhWeydnw+O5zynS6W1WOuqII/y2tYY/e43dTB9+VHmo4Hj82iFj7LI3PRsZzFoB6hK2gAj5tA9qiJK65i941q1e9ljoIp4NHqqENl7FQ6lv+xCSyoTuxK7wPeH7ea2oeBveR0jkOF7FL6i4/pwf2UFXgc2KeSI6oBdRpLBzPfPA6cauGb0sHMPQ6camH30nTWTg8Cp4qbwGlKxo+Aeo3F4eyqf3/g9RPBUXSjmUPNluLDzKG94JeS9bnyfG6vcg58sN+3l93m41C3pTyc9VkvCLi+DzSx7Mj2icpF+a82FT69EZUbmld2NGZxqN3ySjTrc0Ltjq8QuEz0qJ17aUXbonY2SRvwL0vi8E8LB/5txuKX2+12u91ut9vtdrvdbrfb7Xa7/Qf0wSAxhEqDGQAAAABJRU5ErkJggg==",Ma="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAhAAAAEpBAMAAAAwswZCAAAAJ1BMVEU3NTbV1dU2NDXU1NTDwsOrq6t9fX1IR0dwb3DNzc2cm5xbWlqPj4+TNW2cAAAFhElEQVQYGe3AQYud5R0F8MPhzoxSN4d/buoUgcODtIFs+jCmaUqAuQ1RJJuZFAR3mUHE5TBqQFc3iUHcdVpQoZsE0GxjAcFdRPRz9b2ZmbTfoHKf80NERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERExK8VCRj4/pu3+7Wb3z4FTDQSoyGAhrvvSjt9p/ftd45oA8ZobBgPS6UuqaT5kmgwhtOI99Sl0pkLd4hGjIbAZ+ol9dJKV7+wJInRGB9rRypJpZUuzY9gjIaXTkqnuiZVkr4GMZyf9F9dz9XOM2MoBDa6ulZu/vLB+z8v9Fyfw8Q4GoC/qST1K5/DNLce7qg02SOMcTRuaKXePCZt2r57QyVpDsMYhYl9TepLwM1strl5opK0RwzEr0hd/S/HaECzG0x/qkm9ZoyDuKdS3z60TRiECeILqaT7GEf7w4mk+pdJ2IRNE758Q5OvQAxjo0r9wpEJm2ggCAMfdUlzGCOwDdxTL71lGyvGma2FpL4kRkCCXnRp+ylIwAZxhj9Iql0MwSQ2u6Q/22g0YOLcpa7SRWIINmaaPCII04Zxhnws6Q0MoQF+oNL2MWgQ/8v4pKtriSE0cl/Sn2DDvnzjiXGO/r2kuo0REG2rS9q1TWBD20vjDImF1K9iBCY2u6RDkEB7vff5Mc4RB5IuYgQkNiTVkU0AM0nXQRIGYH8o6YqNARgvl3SFhAHMJO3csk2CJje6+jZpY/35u6561Q0EMCup9ASECRgvSb0/bVh/BA4kXaWJyUxV0rUlCJPwliaHILH27MeSdg0YwEwrNT8GSQNcqPSIJtadwX1V7YEwgJl6SerXYRgE96W6DRprz15U6RnRDGBWmpR2bsEkgB8l/RUmBrBQ1aGNlZm6VFLVIzYYOOhVu2DD2iNOJN3BqZnOzWE24KCkfxAjsEq6j1MznSkBBvBA0h8NY92RPJF0B6dmWilJc9hoOJD0d2L9uXEh6RCnZnqudz1qNMGDLu0SxAAWJT3DqZkmXTt1iyQM/yj1XWP9kdyXdBunZpqU6jpgw8C+pD0YA/Bjde3i1EzPzY9IA7AXkh4Zxrpj44Gk3+LUTCvbSxgAiS1NDgli/fE7Sa8CNoGZ1KUnMCYNfklS/dvG2qPxclefG4DJmaR+iyBW3DZK/RpIjGCjtLNzZJjNr6t0HTZWTHyoXnOYWHsENlXSIQnbs9L8CMZzpA+qdLEBxtqzt3ov7ZpoxIa2lyBNrBgLSVdBE2uPwL56vwibxuUbTwgYxoTc7JL2CBLrjjDuSbV9BBiTRtAwJsQnpd6XJIy1Z2AmqT8iCJuwQeLUY0kXYDRiBJuavArAJs4QJF7S5CKG4UXv2n7KCc6ZJn+Q1HeJYTyQVG95ghdMby2kqiXGsdGl/sYRDeMMQX7UJc3RMApvnah33QKIF+zf3ChJX9kYBXFPKm0vDeJMg79QV+/3QYzCeEUrvzu2ca59Kqn0mhuGwYb9Lqm+hHGmbZ5IJe3BxjCIDUldevOoGbaBu4veJc0BG6MgiH2VVHXlczebWw+7ulTaA2yMZENSL/W6+csH7/+86L2rSnOCGIhN/KRJl0qTLqmkemYY4zAml/6pF7omvfQ12TAQT+CPpR1JvdQ1qdL8mMRISNjAZ12lKvWSVOoXljAaBmIQJP2epNK5C3cAYkwPe5WkrpKuLI1RkXff7ZJK2n7nyMawDHz/zdv92s1vn8LEsIyJG2iCjRiXbYBAA0xjWAZhAAZAgxiX2QgbhpuNcRGACcAgIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiLi/+Y/XKfZaw0ONrwAAAAASUVORK5CYII=",Ia="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",Sa=51,xa=52,Pa=179,La=37,Ta=38,Ba=39,Oa=40,Ga=13,Ua=49,Ra=8,Na=13,Fa=32,Va=46,Da=0,Ja=5,Ha=1e4,qa=0,za=!1,Xa=!1,ja=!1,Wa=!1,Ya="",Qa="https://fgl27.github.io/SmartTwitchTV/release/index.min.html",Za="elsu5d09k0xomu7cggx3qg5ybdwu7g",Ka="https://id.twitch.tv/oauth2/token?";function $a(e){Bc.Users_Position=Bc.Users_AddcodePosition,qa=e,Ci(),Ju(),ii()}function ei(e,t,n,a){var i=new XMLHttpRequest,o=Ka+"grant_type=refresh_token&client_id="+encodeURIComponent(lu)+"&client_secret="+encodeURIComponent(Za)+"&refresh_token="+encodeURIComponent(Hi[e].refresh_token)+"&redirect_uri="+Qa;i.open("POST",o,!0),i.timeout=Ha,i.ontimeout=function(){},i.onreadystatechange=function(){4===i.readyState&&(200===i.status?ni(i.responseText,e,n):-1!==JSON.parse(i.responseText).message.indexOf("Invalid refresh token")?(di(),a&&a()):ti(e,t,n,a))},i.send(null)}function ti(e,t,n,a){++t<5?ei(e,t,n,a):a&&a()}function ni(e,t,n){var a=JSON.parse(e);ai(a.scope)?(Hi[t].access_token=a.access_token,Hi[t].refresh_token=a.refresh_token,ro()):di(),n&&n()}function ai(e){return-1!==e.indexOf("user_read")&&-1!==e.indexOf("user_follows_edit")&&-1!==e.indexOf("user_subscriptions")}function ii(){var e=new XMLHttpRequest,t=Ka+"grant_type=authorization_code&client_id="+encodeURIComponent(lu)+"&client_secret="+encodeURIComponent(Za)+"&code="+encodeURIComponent(qa)+"&redirect_uri="+Qa;e.open("POST",t,!0),e.timeout=Ha,e.ontimeout=function(){},e.onreadystatechange=function(){4!==e.readyState||(200===e.status?li(e.responseText):oi())},e.send(null)}function oi(){++Da<Ja?ii():si()}function si(){Hu(),$u(Lt),window.setTimeout(function(){e_(),Nc=0,v_(),Bc.Main_Go=Ac,window.location=Qa},4e3),Hi[Bc.Users_Position].access_token=0,Hi[Bc.Users_Position].refresh_token=0,ro()}function di(){vM=!1,Hu(),$u(Lt),Hi[Bc.Users_Position].access_token=0,Hi[Bc.Users_Position].refresh_token=0,ro(),v_(),window.setTimeout(e_,4e3)}function li(e){var t=JSON.parse(e);Hi[Bc.Users_Position].access_token=t.access_token,Hi[Bc.Users_Position].refresh_token=t.refresh_token,Ci(),ri()}function ri(){Gf("https://api.twitch.tv/kraken?oauth_token="+Hi[Bc.Users_Position].access_token,Ha,0,null,ci,ui)}function ci(e){var t=JSON.parse(e).token;if(t.user_name&&-1!==t.user_name.indexOf(Hi[Bc.Users_Position].name)){if(ro(),Nc=0,Hu(),za=vM=!1,Bc.Main_Go=Ac,v_(),$u(wt),Au)try{Android.clearCookie()}catch(e){}window.setTimeout(function(){window.location=Qa},3e3)}else Hi[Bc.Users_Position].access_token=0,Hi[Bc.Users_Position].refresh_token=0,za=!1,$u(Gn+Hi[Bc.Users_Position].name),window.setTimeout(function(){e_(),Nc=0,v_(),Bc.Main_Go=Ac,window.location=Qa},4e3)}function ui(){++Da<Ja?(Ha+=500,ri()):si()}function _i(){Ci(),Xa=!1,fi()}function fi(){var e="https://api.twitch.tv/kraken/users/"+Hi[Bc.Users_Position].id+"/follows/channels/"+Ya,t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=Ha,t.setRequestHeader(ru,lu),t.setRequestHeader(cu,fu),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?mi():404===t.status?hi(t.responseText):pi())},t.send(null)}function mi(){za=!(Xa=!0),Wa?Zv():Cd()}function hi(e){-1!==(JSON.parse(e).error+"").indexOf("Not Found")?(za=Xa=!1,Wa?Zv():Cd()):pi()}function pi(){++Da<Ja?(Ha+=500,fi()):(za=!1,Wa?Zv():Cd())}function vi(){Ci(),gi()}function gi(){var e=new XMLHttpRequest;e.open("PUT","https://api.twitch.tv/kraken/users/"+Hi[Bc.Users_Position].id+"/follows/channels/"+Ya,!0),e.timeout=Ha,e.setRequestHeader(ru,lu),e.setRequestHeader(cu,fu),e.setRequestHeader("Authorization","OAuth "+Hi[Bc.Users_Position].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return Xa=!(za=!1),void(Wa?Zv():Cd());401===e.status||403===e.status?ei(Bc.Users_Position,0,vi,null):yi()}},e.send(null)}function yi(){++Da<Ja&&(Ha+=500,gi())}function bi(){Ci(),wi()}function wi(){var e=new XMLHttpRequest;e.open("DELETE","https://api.twitch.tv/kraken/users/"+Hi[Bc.Users_Position].id+"/follows/channels/"+Ya,!0),e.timeout=Ha,e.setRequestHeader(ru,lu),e.setRequestHeader(cu,fu),e.setRequestHeader("Authorization","OAuth "+Hi[Bc.Users_Position].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(204===e.status)return za=Xa=!1,void(Wa?Zv():Cd());401===e.status||403===e.status?ei(Bc.Users_Position,0,bi,null):ki()}},e.send(null)}function ki(){++Da<Ja&&(Ha+=500,wi())}function Ai(){Ci(),ja=!1,Ei()}function Ci(){Ha=1e4,za=!(Da=0)}function Ei(){var e,t="https://api.twitch.tv/kraken/users/"+Hi[Bc.Users_Position].id+"/subscriptions/"+Ya;if(Au){if(!(e=Android.mreadUrl(t,Ha,3,Hi[Bc.Users_Position].access_token)))return void Mi();if(200===(e=JSON.parse(e)).status)za=!(ja=!0),ry();else if(422===e.status)za=ja=!1,ly();else if(404===e.status){if(-1!==(JSON.parse(e.responseText).error+"").indexOf("Not Found"))return za=ja=!1,void ly();Mi()}else 401===e.status||403===e.status?ei(Bc.Users_Position,0,Ai,Ii):Mi()}else(e=new XMLHttpRequest).open("GET",t,!0),e.timeout=Ha,e.setRequestHeader(ru,lu),e.setRequestHeader(cu,fu),e.setRequestHeader("Authorization","OAuth "+Hi[Bc.Users_Position].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState)if(200===e.status)za=!(ja=!0),ry();else if(422===e.status)za=ja=!1,ly();else if(404===e.status){if(-1!==(JSON.parse(e.responseText).error+"").indexOf("Not Found"))return za=ja=!1,void ly();Mi()}else 401===e.status||403===e.status?ei(Bc.Users_Position,0,Ai,Ii):Mi()},e.send(null)}function Mi(){++Da<Ja?(Ha+=500,Ei()):Ii()}function Ii(){za=ja=!1,ly()}function Si(e){Ci(),xi(e,0)}function xi(t,n){var e="https://api.twitch.tv/kraken?oauth_token="+Hi[t].access_token,a=new XMLHttpRequest;a.open("GET",e,!0),a.timeout=1e4,a.ontimeout=function(){},a.onreadystatechange=function(){if(4===a.readyState){if(200===a.status){var e=JSON.parse(a.responseText);return void(e.token.valid?(ai(e.token.authorization.scopes)||di(),za=!1):(Ci(),ei(t,0,null,null)))}400===a.status?(Ci(),ei(t,0,null,null)):Pi(t,n)}},a.send(null)}function Pi(e,t){++t<Ja&&xi(e,t)}function Li(){Ci(),Ti()}function Ti(){var e=new XMLHttpRequest;e.open("PUT","https://api.twitch.tv/api/users/"+Hi[Bc.Users_Position].name+"/follows/games/"+encodeURIComponent(Bc.Main_gameSelected)+"?oauth_token="+Hi[Bc.Users_Position].access_token,!0),e.timeout=1e4,e.setRequestHeader(ru,lu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return xo=!0,void Do();401===e.status||403===e.status?ei(Bc.Users_Position,0,Li,null):Bi()}},e.send(null)}function Bi(){++Da<Ja&&(Ha+=500,Ti())}function Oi(){Ci(),Gi()}function Gi(){var e=new XMLHttpRequest;e.open("DELETE","https://api.twitch.tv/api/users/"+Hi[Bc.Users_Position].name+"/follows/games/"+encodeURIComponent(Bc.Main_gameSelected)+"?oauth_token="+Hi[Bc.Users_Position].access_token,!0),e.timeout=1e4,e.setRequestHeader(ru,lu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(204===e.status)return xo=!1,void Do();401===e.status||403===e.status?ei(Bc.Users_Position,0,Oi,null):Ui()}},e.send(null)}function Ui(){++Da<Ja&&(Ha+=500,Gi())}function Ri(){Ci(),Ni()}function Ni(){var e,t="https://api.twitch.tv/api/users/"+Hi[Bc.Users_Position].name+"/follows/games/"+encodeURIComponent(Bc.Main_gameSelected);(e=new XMLHttpRequest).open("GET",t,!0),e.timeout=1e4,e.setRequestHeader(ru,lu),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState)return 200===e.status?(xo=!0,void Do()):404===e.status?(xo=!1,void Do()):void Fi()},e.send(null)}function Fi(){++Da<Ja?(Ha+=500,Ni()):(xo=!1,Do())}var Vi=0,Di=5,Ji=3500,Hi=[],qi=null,zi=!1,Xi=!1;function ji(){Bc.Main_Go=uc,Ru("top_bar_user","icon_center_focus"),e_(),ec.placeholder=A,Gu("add_user_scroll"),Qi()}function Wi(){Ki(!1),document.body.removeEventListener("keydown",Yi),document.body.removeEventListener("keydown",$i),Nu("top_bar_user","icon_center_focus"),Ou("add_user_scroll")}function Yi(e){if(!zi&&!Xi&&Bc.Main_Go===uc)switch(e.keyCode){case Ua:a_()?n_():d_()?s_():(0<Hi.length&&Bc.Main_Go!==Ac?Bc.Main_Go=Bc.Main_Before:Bc.Main_Go=cc,Wi(),h_());break;case xa:case Sa:case Pa:case Ga:Qi()}}function Qi(){document.body.removeEventListener("keydown",Yi),document.body.addEventListener("keydown",$i,!1),ec.placeholder=A,ec.focus(),Xi=!0}function Zi(){if(null!==ec){var e=ec.cloneNode(!0);ec.parentNode.replaceChild(e,ec),ec=document.getElementById("user_input")}}function Ki(e){ec.blur(),Zi(),document.body.removeEventListener("keydown",$i),ec.placeholder=C+A,e&&document.body.addEventListener("keydown",Yi,!1),Xi=!1}function $i(e){if(!zi&&Bc.Main_Go===uc)switch(e.keyCode){case Ua:a_()?n_():d_()?s_():(0<Hi.length&&Bc.Main_Go!==Ac?Bc.Main_Go=Bc.Main_Before:Bc.Main_Go=cc,Wi(),h_());break;case Va:ec.value="";break;case Na:case Oa:""!==ec.value&&null!==ec.value?uo(qi=ec.value)?(Hu(),$u(u+qi+ae),window.setTimeout(function(){e_(),Qi()},1500)):(Ji=3500,zi=!(Vi=0),Ou("add_user_scroll"),Ju(),eo()):Qi();break;case Ra:ec.value=ec.value.slice(0,-1);break;case Fa:ec.value+=" "}}function eo(){Gf("https://api.twitch.tv/kraken/users?login="+encodeURIComponent(qi),Ji,2,null,to,no)}function to(e){JSON.parse(e)._total?(ec.value="",document.body.removeEventListener("keydown",Yi),so(e)):ao()}function no(){++Vi<Di?(Ji+=500,eo()):ao()}function ao(){qi=null,Hu(),$u(te),window.setTimeout(function(){ji()},1e3),zi=!1}function io(){if(0<(Hi=Lf("AddUser_UsernameArray",[])).length)for(var e=0;e<Hi.length;e++)Hi[e].access_token&&Si(e)}function oo(){return 0<Hi.length}function so(e){qi=JSON.parse(e).users[0],Hi.push({name:qi.name,id:qi._id,access_token:0,refresh_token:0}),ro(),vM=!1,Wi(),yM(),zi=!1}function lo(e){var t=Hi.indexOf(Hi[e]);-1<t&&Hi.splice(t,1),0<Hi.length?(vM=!1,yM()):ji(),ro()}function ro(){xf("AddUser_UsernameArray",JSON.stringify(Hi))}function co(e){qi=Hi[0],Hi[0]=Hi[e],Hi[e]=qi,vM=!1,yM(),ro()}function uo(e){return-1!==Hi.indexOf(e)}function _o(){return 0<Hi.length}var fo=0,mo=0,ho=!1,po=0,vo={},go=[],yo=!1,bo=0,wo=5,ko=3500,Ao=0,Co=0,Eo=!1,Mo=["ag_thumbdiv","ag_img","ag_infodiv","ag_displayname","ag_streamtitle","ag_streamgame","ag_viwers","ag_quality","ag_cell","agempty_","a_games_scroll"],Io=!1,So=!1,xo=!1,Po=!1,Lo=!1;function To(){Bc.Main_CenterLablesVectorPos=3,Bc.Main_Go=fc,document.body.addEventListener("keydown",Ko,!1),Ru("top_bar_game","icon_center_focus"),Bu("label_side_panel","icon-arrow-circle-left",I),Bc.Search_isSearching&&(w_(),Fu("top_bar_user",n+k_(f+" '"+Bc.Search_data+"'"))),Fu("top_bar_game",b+k_(_+": "+Bc.Main_gameSelected)),Bc.Main_OldgameSelected===Bc.Main_gameSelected&&Io?(P_(fo),Gu(Mo[10]),Wo(),v_()):Oo()}function Bo(){Io&&-1===fo&&(Zo(),mo=fo=0,Ru(Mo[0]+"0_"+mo,pu)),Bu("label_side_panel","icon-ellipsis",Rn),Fu("top_bar_game",f),document.body.removeEventListener("keydown",Ko),Nu("top_bar_game","icon_center_focus"),Ou(Mo[10])}function Oo(){null===Bc.Main_OldgameSelected&&(Bc.Main_OldgameSelected=Bc.Main_gameSelected),M_("stream_table_a_game"),Ou(Mo[10]),Ju(),e_(),Lo=Io=!1,vo={},wf=!(po=Co=Ao=0),fo=mo=0,ho=So=!(go=[]),Yu(),Go(),Uo()}function Go(){S_(),yo=!0,bo=0,ko=3500}function Uo(){var e=po+Ao;e&&Co-1<e&&(e=Co-Kc,ho=!0);var t="https://api.twitch.tv/kraken/streams?game="+encodeURIComponent(Bc.Main_gameSelected)+"&limit="+Kc+"&offset="+e+(""!==qc?"&broadcaster_language="+qc:"");Au&&!po?Rf(t,ko,2,null,No,Ro):Nf(t,ko,2,null,No,Ro,!1)}function Ro(){++bo<wo?(ko+=500,Uo()):(yo=!1,po?(ho=!0,Fo()):(wf=!1,Hu(),$u(P)))}function No(e){var t=JSON.parse(e),n=t.streams.length;Co=parseInt(t._total),n<Kc&&(ho=!0);var a=po;Eo=!(po+=n);var i=n/$c;0<n%$c&&i++;var o,s,d,l,r,c,u=0,_=document.getElementById("stream_table_a_game");if(!Lo){var f;for(Lo=!0,d=document.createElement("tr"),l=0;l<3;l++)f=l?1===l?'<i class="icon-movie stream_channel_fallow_icon"></i>'+wa+U:"":'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+wa+wa+Kt,(Jc=document.createElement("td")).setAttribute("id",Mo[8]+"y_"+l),Jc.className="stream_cell",Jc.innerHTML='<div id="'+Mo[0]+"y_"+l+'" class="stream_thumbnail_fallow_game" ><div id="'+Mo[3]+"y_"+l+'" class="stream_channel_fallow_game">'+f+"</div></div>",d.appendChild(Jc);_.appendChild(d)}for(l=0;l<i;l++){for(s=a/$c+l,d=document.createElement("tr"),o=0;o<$c&&u<n;o++,u++)c=(r=t.streams[u]).channel._id,vo[c]?o--:(vo[c]=1,d.appendChild(R_(s,s+"_"+o,[r.channel.name,c],Mo,[r.preview.template.replace("{width}x{height}",mu),c_(JSON.stringify(r.stream_type))+r.channel.display_name,r.channel.status,r.game,y+Fp(r.created_at)+" "+h+l_(r.viewers)+D,r_(r.video_height,r.average_fps,r.channel.broadcaster_language)])));for(;o<$c;o++)ho&&!So&&(So=!0,po=s*$c+o),d.appendChild(B_(Mo[9]+s+"_"+o)),go.push(Mo[9]+s+"_"+o);_.appendChild(d)}Fo()}function Fo(){if(Io){if(I_(Ma),0<go.length&&!ho)return Go(),void zo();Wo(!0),go=[]}else Vo(),Eo?($u(L+Z),fo=-1,Qo()):(Io=!0,I_(Ma),Wo(),v_()),Gu(Mo[10]),wf=!1,Hu();yo=!1}function Vo(){Po?(xo=!0,Do()):oo()?Ri():(xo=!1,Do())}function Do(){Fu(Mo[3]+"y_2",xo?'<i class="icon-heart" style="color: #00b300; font-size: 100%;"></i>'+wa+wa+Mt:'<i class="icon-heart-o" style="color: #FFFFFF; font-size: 100%; "></i>'+wa+wa+(oo()?It:Tt))}function Jo(){oo()&&Hi[Bc.Users_Position].access_token?xo?Oi():Li():($u(Bt),window.setTimeout(function(){Eo&&Bc.Main_Go===fc?$u(L+Z):e_()},2e3))}function Ho(){mo?1===mo?(Bc.Main_Go=xc,Bc.Main_OldgameSelected=Bc.Main_gameSelected,qo(),p_()):Jo():(Bc.Main_Go=Sc,Bc.Main_OldgameSelected=Bc.Main_gameSelected,qo(),p_())}function qo(){Io&&-1===fo&&(Zo(),mo=fo=0,Ru(Mo[0]+"0_"+mo,pu)),document.body.removeEventListener("keydown",Ko),Ou(Mo[10])}function zo(){Ku(go.length);var e=po+Ao;e&&Co-1<e&&(e=Co-du,ho=!0),Gf("https://api.twitch.tv/kraken/streams?game="+encodeURIComponent(Bc.Main_gameSelected)+"&limit="+du+"&offset="+e+(""!==qc?"&broadcaster_language="+qc:""),ko,2,null,jo,Xo)}function Xo(){++bo<wo?(ko+=500,zo()):(ho=!0,po-=go.length,go=[],Fo())}function jo(e){var t,n,a=JSON.parse(e),i=a.streams.length,o=0,s=0,d=[];for(Co=parseInt(a._total),i<du&&(ho=!0);o<go.length&&s<i;o++,s++)n=(t=a.streams[s]).channel._id,vo[n]?o--:(vo[n]=1,N_(go[o],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",mu),c_(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+Fp(t.created_at)+" "+h+l_(t.viewers)+D,r_(t.video_height,t.average_fps,t.channel.broadcaster_language)],Mo),d.push(o));for(o=d.length-1;-1<o;o--)go.splice(d[o],1);Ao+=s,ho&&(po-=go.length,go=[]),Fo()}function Wo(e){fo<0?Qo():(j_(fo,mo,Mo,$c,po,e),po/$c<fo+eu&&!ho&&!yo&&(Go(),Uo()),Uc&&Yo())}function Yo(){-1<fo&&po?nf(fo+"_"+mo,Mo):Zo()}function Qo(){Ru(Mo[0]+"y_"+mo,pu)}function Zo(){Nu(Mo[0]+"y_"+mo,pu)}function Ko(e){var t;if(!wf&&!z_())switch(q_(),e.keyCode){case Ua:d_()?s_():a_()?n_():(Bc.Main_OldgameSelected=Bc.Main_gameSelected,Yo(),Zo(),Af(Ko));break;case La:if(-1===fo)Zo(),--mo<0&&(mo=2),Qo();else if(fo||mo){if(u_(fo,mo-1,Mo[0]))Yo(),mo--,Wo();else for(t=$c-1;-1<t;t--)if(u_(fo-1,t,Mo[0])){Yo(),fo--,mo=t,Wo();break}}else Yo(),Zo(),fo=-1,mo=2,Qo();break;case Ba:-1===fo?(Zo(),2<++mo?(mo=0,Eo?Qo():(fo=0,Wo())):Qo()):u_(fo,mo+1,Mo[0])?(Yo(),mo++,Wo()):u_(fo+1,0,Mo[0])&&(Yo(),fo++,mo=0,Wo());break;case Ta:if(-1!==fo||Eo)if(fo){for(t=0;t<$c;t++)if(u_(fo-1,mo-t,Mo[0])){Yo(),fo--,mo-=t,Wo();break}}else Yo(),fo=-1,Qo();else fo=0,Zo(),Wo();break;case Oa:if(-1!==fo||Eo){for(t=0;t<$c;t++)if(u_(fo+1,mo-t,Mo[0])){Yo(),fo++,mo-=t,Wo();break}}else fo=0,Zo(),Wo();break;case xa:case Sa:case Pa:case Ga:-1!==fo?Q_(fo+"_"+mo,Mo,Ko):Ho()}}var $o=0,es=0,ts=!1,ns=0,as={},is=[],os=!1,ss=0,ds=5,ls=3500,rs=0,cs=0,us=!1,_s=!1,fs="week",ms=2,hs=!1,ps=["agv_thumbdiv","agv_img","agv_infodiv","agv_title","agv_streamon","agv_duration","agv_viwers","agv_quality","agv_cell","gvempty_","a_games_vod_scroll","agv_game"],vs=!1,gs=!1,ys="";function bs(){Bc.Main_CenterLablesVectorPos=3,Bc.Main_Go=Sc,Ru("top_bar_game","icon_center_focus"),document.body.addEventListener("keydown",Gs,!1),Bu("label_side_panel","icon-arrow-circle-left",I),ys===Bc.Main_gameSelected&&vs?(P_($o),Gu(ps[10]),Us(),Ls(),v_()):ks()}function ws(){vs&&Ts(),document.body.removeEventListener("keydown",Gs),Nu("top_bar_game","icon_center_focus"),Fu("top_bar_game",f),Bu("label_side_panel","icon-ellipsis",Rn),Ou(ps[10])}function ks(){vs&&Ts(),M_("stream_table_a_game_vod"),Ou(ps[10]),Ju(),Us(),ys=Bc.Main_gameSelected,e_(),hs=vs=!1,wf=!(_s=!(is=[])),$o=es=ns=cs=rs=0,ts=!(as={}),Yu(),As(),Cs()}function As(){S_(),os=!0,ss=0,ls=3500}function Cs(){var e=ns+rs;e&&cs-1<e&&(e=cs-Kc,ts=!0);var t="https://api.twitch.tv/kraken/videos/top?game="+encodeURIComponent(Bc.Main_gameSelected)+"&limit="+Kc+"&broadcast_type="+(gs?"highlight":"archive")+"&sort=views&offset="+e+"&period="+fs+(""!==qc?"&language="+qc:"");Au&&!ns?Rf(t,ls,2,null,Ms,Es):Nf(t,ls,2,null,Ms,Es,!1)}function Es(){++ss<ds?(ls+=500,Cs()):(os=!1,ns?(ts=!0,Is()):(wf=!1,Hu(),$u(P)))}function Ms(e){var t=JSON.parse(e),n=t.vods.length;cs=parseInt(t._total),n<Kc&&(ts=!0);var a=ns;us=!(ns+=n);var i=n/$c;0<n%$c&&i++;var o,s,d,l,r,c=0,u=document.getElementById("stream_table_a_game_vod");if(!hs){var _;for(hs=!0,d=document.createElement("tr"),f=0;f<2;f++)_=f?'<i class="icon-history stream_channel_fallow_icon"></i>'+wa+wa+m:'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+wa+wa+p,(Jc=document.createElement("td")).setAttribute("id",ps[8]+"y_"+f),Jc.className="stream_cell",Jc.innerHTML='<div id="'+ps[0]+"y_"+f+'" class="stream_thumbnail_channel_vod" ><div id="'+ps[3]+"y_"+f+'" class="stream_channel_fallow_game">'+_+"</div></div>",d.appendChild(Jc);u.appendChild(d)}for(var f=0;f<i;f++){for(s=a/$c+f,d=document.createElement("tr"),o=0;o<$c&&c<n;o++,c++)r=(l=t.vods[c])._id,-1!==(l.preview.template+"").indexOf("404_processing")||as[r]?o--:(as[r]=1,d.appendChild(KI(s,s+"_"+o,[r,l.length,l.channel.broadcaster_language,l.game,l.channel.name,l.increment_view_count_url],[l.preview.template.replace("{width}x{height}",mu),l.channel.display_name,N+A_(l.created_at),wS.parse(l.title)+da+Qt+v+l.game,l_(l.views)+V,r_(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.channel.broadcaster_language),F+Rp(l.length),l.animated_preview_url],ps)));for(;o<$c;o++)ts&&!_s&&(_s=!0,ns=s*$c+o),d.appendChild(B_(ps[9]+s+"_"+o)),is.push(ps[9]+s+"_"+o);u.appendChild(d)}Is()}function Is(){if(vs?I_(Ma):(us?$u(L+(gs?G:O)+T+M):(vs=!0,I_(Ma),Ls(),v_()),Gu(ps[10]),wf=!1,Hu()),0<is.length&&!ts)return As(),void Ss();Ls(!0),os=!(is=[])}function Ss(){Ku(is.length);var e=ns+rs;e&&cs-1<e&&(e=cs-du,ts=!0),Gf("https://api.twitch.tv/kraken/videos/top?game="+encodeURIComponent(Bc.Main_gameSelected)+"&limit="+du+"&broadcast_type="+(gs?"highlight":"archive")+"&sort=views&offset="+e+"&period="+fs+(""!==qc?"&language="+qc:""),ls,2,null,Ps,xs)}function xs(){++ss<ds?(ls+=500,Ss()):(ts=!0,is=[],Is())}function Ps(e){var t,n,a=JSON.parse(e),i=a.vods.length,o=0,s=0,d=[];for(cs=parseInt(a._total);o<is.length&&s<i;o++,s++)n=(t=a.vods[s])._id,-1!==(t.preview.template+"").indexOf("404_processing")||as[n]?o--:(as[n]=1,eS(is[o],[n,t.length,t.channel.broadcaster_language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",mu),t.channel.display_name,N+A_(t.created_at),wS.parse(t.title)+da+Qt+v+t.game,l_(t.views)+V,r_(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.channel.broadcaster_language),F+Rp(t.length),t.animated_preview_url],ps),d.push(o));for(o=d.length-1;-1<o;o--)is.splice(d[o],1);rs+=s,ts&&(ns-=is.length,is=[]),Is()}function Ls(e){$o<0?Bs():(j_($o,es,ps,$c,ns,e),cS(ps,$o+"_"+es),ns/$c<$o+eu&&!ts&&!os&&(As(),Cs()),Uc&&Ts())}function Ts(){window.clearInterval(kI),-1<$o&&ns?(Gu(ps[1]+$o+"_"+es),nf($o+"_"+es,ps)):Os()}function Bs(){var e=1<es?1:es;Ru(ps[0]+"y_"+e,pu)}function Os(){var e=1<es?1:es;Nu(ps[0]+"y_"+e,pu)}function Gs(e){var t;if(!wf&&!z_())switch(q_(),e.keyCode){case Ua:d_()?s_():a_()?n_():(Ts(),Af(Gs));break;case La:if(-1===$o)Os(),--es<0&&(es=1),Bs();else if($o||es){if(u_($o,es-1,ps[0]))Ts(),es--,Ls();else for(t=$c-1;-1<t;t--)if(u_($o-1,t,ps[0])){Ts(),$o--,es=t,Ls();break}}else Ts(),Os(),$o=-1,es=1,Bs();break;case Ba:-1===$o?(Os(),1<++es?(es=0,us?Bs():($o=0,Ls())):Bs()):u_($o,es+1,ps[0])?(Ts(),es++,Ls()):u_($o+1,0,ps[0])&&(Ts(),$o++,es=0,Ls());break;case Ta:if(-1!==$o||us)if($o){for(t=0;t<$c;t++)if(u_($o-1,es-t,ps[0])){Ts(),$o--,es-=t,Ls();break}}else Ts(),$o=-1,Bs();else $o=0,Os(),Ls();break;case Oa:if(-1!==$o||us){for(t=0;t<$c;t++)if(u_($o+1,es-t,ps[0])){Ts(),$o++,es-=t,Ls();break}}else $o=0,Os(),Ls();break;case xa:case Sa:case Pa:case Ga:-1===$o?(0===es?xf("AGameVod_highlight",(gs=!gs)?"true":"false"):4<++ms&&(ms=1),ks()):$_($o+"_"+es,ps,Gs)}}function Us(){1===ms?(Fu("top_bar_game",b+k_((gs?G:O)+de+": "+Bc.Main_gameSelected)),fs="day"):2===ms?(Fu("top_bar_game",b+k_((gs?G:O)+le+": "+Bc.Main_gameSelected)),fs="week"):3===ms?(Fu("top_bar_game",b+k_((gs?G:O)+re+": "+Bc.Main_gameSelected)),fs="month"):4===ms&&(Fu("top_bar_game",b+k_((gs?G:O)+ce+": "+Bc.Main_gameSelected)),fs="all"),xf("AGameVod_periodNumber",ms)}var Rs,Ns=0,Fs=0,Vs=!1,Ds=0,Js=0,Hs=5,qs=3500,zs=0,Xs=!1,js=!1,Ws=["cc_thumbdiv","cc_img","cc_infodiv","cc_name","cc_createdon","cc_game","cc_viwers","cc_duration","cc_cell","sccempty_","channel_content_scroll"],Ys=!1,Qs="",Zs=null,Ks="",$s="",ed="",td="",nd="",ad={},id=!1,od=null,sd="";function dd(){Bc.Main_CenterLablesVectorPos=1,Bc.Main_Go=bc,id&&!Bc.Search_isSearching&&Bc.Main_selectedChannel_id&&Ld(),Qs!==Bc.Main_selectedChannel&&(Ys=!1),w_(),Bc.Main_selectedChannelDisplayname=Bc.Main_selectedChannelDisplayname.replace(W,""),Vu("top_bar_user",Bc.Main_selectedChannelDisplayname),Vu("top_bar_game",Ut),document.body.addEventListener("keydown",Td,!1),Wa=!1,Ys?(P_(Ns),Gu(Ws[10]),Md(),Id(),v_()):rd()}function ld(){b_(),document.body.removeEventListener("keydown",Td),Ou(Ws[10])}function rd(){M_("stream_table_channel_content"),Ou(Ws[10]),od=null,Ju(),e_(),Qs=Bc.Main_selectedChannel,td="",Vs=Xs=Ys=!1,Rs=void(Ns=Fs=Ds=zs=0),cd(),ud()}function cd(){wf=!0,Js=0,qs=3500}function ud(){Gf("https://api.twitch.tv/kraken/streams/"+encodeURIComponent(void 0!==Rs?Rs:Bc.Main_selectedChannel_id),qs,2,null,_d,fd)}function _d(e){null!==JSON.parse(e).stream?(Zs=e,cd(),vd()):Rs?(Zs=null,cd(),vd()):(cd(),md())}function fd(){++Js<Hs?(qs+=500,ud()):(Zs=null,cd(),vd())}function md(){Gf("https://tmi.twitch.tv/hosts?include_logins=1&host="+encodeURIComponent(Bc.Main_selectedChannel_id),qs,1,null,pd,hd,!0)}function hd(){++Js<Hs?(qs+=500,md()):(Zs=null,cd(),vd())}function pd(e){var t=JSON.parse(e);void 0!==(Rs=t.hosts[0].target_id)?(cd(),ud()):(Zs=null,cd(),vd())}function vd(){Gf("https://api.twitch.tv/kraken/channels/"+Bc.Main_selectedChannel_id,bg,2,null,gd,yd)}function gd(e){var t=JSON.parse(e);od=(od=t.video_banner)?od.replace("1920x1080",mu):od,sd=t.profile_banner,Ks=t.views,$s=t.followers,ed=t.description,Bc.Main_selectedChannelLogo=t.logo,bd()}function yd(){++Js<Hs?(qs+=500,vd()):(od=null,sd=Ia,ed=$s=Ks="",Bc.Main_selectedChannelLogo=Ea,bd())}function bd(){var e=document.createElement("tr"),t=0,n=document.getElementById("stream_table_channel_content");if((Jc=document.createElement("tr")).className="follower_banner",Jc.innerHTML='<div id="'+Ws[0]+'x_0" class="follower_banner"><img id="'+Ws[1]+'x_0" class="stream_img_banner"></div>',n.appendChild(Jc),null!==Zs){var a=JSON.parse(Zs);if(null!==a.stream){var i=void 0!==Rs?Bc.Main_selectedChannelDisplayname+ne:"",o=a.stream;e.appendChild(wd("0_"+t,o.channel.name,o.preview.template,wS.parse(o.channel.status),o.game,c_(JSON.stringify(o.stream_type))+i+o.channel.display_name,y+Fp(o.created_at)+" "+h+l_(o.viewers)+D,r_(o.video_height,o.average_fps,o.channel.broadcaster_language))),t++}else Xs=!0}else Xs=!0;e.appendChild(kd("0_"+t,Bc.Main_selectedChannelDisplayname,Bc.Main_selectedChannelDisplayname+O,"movie-play")),t++,e.appendChild(kd("0_"+t,Bc.Main_selectedChannelDisplayname,Bc.Main_selectedChannelDisplayname+U,"movie")),t<2&&(t++,e.appendChild(B_(Ws[9]+"0_"+t))),n.appendChild(e),(e=document.createElement("tr")).appendChild(Ad("1_0",Bc.Main_selectedChannelDisplayname,Bc.Main_selectedChannelDisplayname,Bc.Main_selectedChannelLogo)),(Jc=document.createElement("td")).setAttribute("id",Ws[8]+"x_x"),Jc.className="stream_cell",Jc.innerHTML='<div id="'+Ws[0]+'x_x" class="stream_thumbnail_video" ><div id="'+Ws[4]+'x_x" class="stream_channel_info">'+wS.parse(ed)+"</div></div>",e.appendChild(Jc),n.appendChild(e),Ed()}function wd(e,t,n,a,i,o,s,d){return td=n.replace("{width}x{height}",mu),(Jc=document.createElement("td")).setAttribute("id",Ws[8]+e),Jc.setAttribute(vu,t),Jc.className="stream_cell",Jc.innerHTML='<div id="'+Ws[0]+e+'" class="stream_thumbnail_video" ><img id="'+Ws[1]+e+'" class="stream_img"></div><div id="'+Ws[2]+e+'" class="stream_text"><div id="'+Ws[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;"><i class="icon-circle" style="color: '+(void 0!==Rs?"#FED000":"red")+'; font-size: 90%; aria-hidden="true"></i> '+wa+o+'</div><div id="'+Ws[7]+e+'"class="stream_info" style="width:33%; float: right; text-align: right; display: inline-block;">'+d+'</div><div id="'+Ws[4]+e+'"class="stream_info">'+a+'</div><div id="'+Ws[5]+e+'"class="stream_info">'+v+i+'</div><div id="'+Ws[6]+e+'"class="stream_info">'+s+"</div></div>",Jc}function kd(e,t,n,a){return(Jc=document.createElement("td")).setAttribute("id",Ws[8]+e),Jc.setAttribute(vu,t),Jc.className="stream_cell",Jc.innerHTML='<div id="'+Ws[0]+e+'" class="stream_thumbnail_video" ><div id="'+Ws[1]+e+'" class="stream_channel_content_icon"><i class="icon-'+a+'"></i></div></div><div id="'+Ws[2]+e+'" class="stream_text"><div id="'+Ws[3]+e+'" class="stream_channel" style="text-align: center">'+n+"</div></div>",Jc}function Ad(e,t,n,a){return nd=a,(Jc=document.createElement("td")).setAttribute("id",Ws[8]+e),Jc.setAttribute(vu,t),Jc.className="stream_cell",Jc.innerHTML='<div id="'+Ws[0]+e+'" class="stream_thumbnail_video" ><div id="schannel_cont_heart" style="position: absolute; top: 5%; left: 6%;"></div><img id="'+Ws[1]+e+'" class="stream_img_fallow"></div><div id="'+Ws[2]+e+'" class="stream_text_channel"><div id="'+Ws[3]+e+'" class="stream_channel">'+n+'</div><div id="'+Ws[5]+e+'"class="stream_info">'+l_(Ks)+V+'</div><div id="'+Ws[6]+e+'"class="stream_info" >'+l_($s)+Ft+"</div></div>",Jc}function Cd(){Xa?(Fu("schannel_cont_heart",'<i class="icon-heart" style="color: #00b300; font-size: 600%; text-shadow: #FFFFFF 0 0 10px, #FFFFFF 0 0 10px, #FFFFFF 0 0 8px;"></i>'),Vu(Ws[3]+"1_0",Bc.Main_selectedChannelDisplayname+Mt)):(Fu("schannel_cont_heart",'<i class="icon-heart-o" style="color: #FFFFFF; font-size: 600%; text-shadow: #000000 0 0 10px, #000000 0 0 10px, #000000 0 0 8px;"></i>'),oo()?Vu(Ws[3]+"1_0",Bc.Main_selectedChannelDisplayname+It):Vu(Ws[3]+"1_0",Bc.Main_selectedChannelDisplayname+Vt))}function Ed(){Ys||(Ys=!0,""!==td&&Mu(document.getElementById(Ws[1]+"0_0"),td,Ma),Mu(document.getElementById(Ws[1]+"x_0"),sd,Ia),Mu(document.getElementById(Ws[1]+"1_0"),nd,Ea),Id(),v_(),Gu(Ws[10]),Hu()),Md(),wf=!1}function Md(){js?Cd():oo()?(Ya=Bc.Main_selectedChannel_id,Wa=!1,_i()):(Xa=!1,Cd())}function Id(){Ru(Ws[0]+Ns+"_"+(Ns?0:Fs),pu),Uc&&Sd(),J_()}function Sd(){nf(Ns+"_"+(Ns?0:Fs),Ws)}function xd(){if(Ns)oo()&&Hi[Bc.Users_Position].access_token?(Wa=!1,Ya=Bc.Main_selectedChannel_id,Xa?bi():vi()):($u(Bt),window.setTimeout(e_,2e3));else{document.body.removeEventListener("keydown",Td),Ou(Ws[10]);var e=Xs?1:0;Fs===0-e?(Bc.Play_selectedChannel=document.getElementById(Ws[8]+Ns+"_"+Fs).getAttribute(vu),Bc.Play_selectedChannelDisplayname=document.getElementById(Ws[3]+Ns+"_"+Fs).textContent,-1!==Bc.Play_selectedChannelDisplayname.indexOf(ne)?(Bc.Play_isHost=!0,Bc.Play_DisplaynameHost=Bc.Play_selectedChannelDisplayname,Bc.Play_selectedChannelDisplayname=Bc.Play_selectedChannelDisplayname.split(ne)[1],Bc.Play_selectedChannel_id=Rs):Bc.Play_selectedChannel_id=Bc.Main_selectedChannel_id,Bc.Play_gameSelected=document.getElementById(Ws[5]+Ns+"_"+Fs).textContent.split(v)[1],sf(Z_)):Fs===1-e?sf(il):Fs===2-e&&(qy=vb,sf(Yy))}}function Pd(){ad={"Main_values.Main_selectedChannel_id":Bc.Main_selectedChannel_id,"Main_values.Main_selectedChannelLogo":Bc.Main_selectedChannelLogo,"Main_values.Main_selectedChannel":Bc.Main_selectedChannel,"Main_values.Main_selectedChannelDisplayname":Bc.Main_selectedChannelDisplayname,ChannelContent_UserChannels:js,"Main_values.Main_BeforeChannel":Bc.Main_BeforeChannel}}function Ld(){Bc.Main_selectedChannel_id=Bc.Main_selectedChannel_id,Bc.Main_selectedChannelLogo=Bc.Main_selectedChannelLogo,Bc.Main_selectedChannel=Bc.Main_selectedChannel,Bc.Main_selectedChannelDisplayname=Bc.Main_selectedChannelDisplayname,js=ad.ChannelContent_UserChannels,Bc.Main_BeforeChannel=Bc.Main_BeforeChannel,id=!(ad={})}function Td(e){if(!wf&&!z_())switch(q_(),e.keyCode){case Ua:d_()?s_():a_()?n_():(Sd(),Af(Td));break;case La:Ns||(Sd(),--Fs<0&&(Fs=Xs?1:2),Id());break;case Ba:Ns||(Sd(),(Xs?1:2)<++Fs&&(Fs=0),Id());break;case Ta:case Oa:Sd(),Ns=Ns?0:1,Id();break;case xa:case Sa:case Pa:case Ga:xd()}}var Bd=0,Od=0,Gd=!1,Ud=0,Rd={},Nd=[],Fd=!1,Vd=0,Dd=5,Jd=3500,Hd=0,qd=0,zd=0,Xd=!1,jd=!1,Wd="",Yd=!1,Qd=["cv_thumbdiv","cv_img","cv_infodiv","cv_title","cv_streamon","cv_duration","cv_viwers","cv_quality","cv_cell","cvempty_","channel_vod_scroll","cv_game"],Zd=!1,Kd=!1,$d="",el="",tl="",nl="",al=0;function il(){Bc.Main_CenterLablesVectorPos=1,Bc.Main_Go=wc,!Bc.Search_isSearching&&Bc.Main_selectedChannel_id&&Ld(),Bc.Main_selectedChannel!==$d&&(Zd=!1),w_(),Bu("label_side_panel","icon-arrow-circle-left",I),Vu("top_bar_user",Bc.Main_selectedChannelDisplayname),document.body.addEventListener("keydown",yl,!1),Zd?(P_(Bd),Vu("top_bar_game",Kd?G:O),Gu(Qd[10]),hl(),v_()):sl()}function ol(){Zd&&pl(),b_(),document.body.removeEventListener("keydown",yl),Ou(Qd[10]),e_()}function sl(){Zd&&pl(),M_("stream_table_channel_vod"),Ou(Qd[10]),Vu("top_bar_game",Kd?G:O),Ju(),e_(),$d=Bc.Main_selectedChannel,Yd=Zd=!1,wf=!(jd=!(Nd=[])),Bd=Od=Ud=qd=Hd=0,Gd=!(Rd={}),Yu(),dl(),ll()}function dl(){S_(),Fd=!0,Vd=0,Jd=3500}function ll(){var e=Ud+Hd;e&&qd-1<e&&(e=qd-Kc,Gd=!0);var t="https://api.twitch.tv/kraken/channels/"+encodeURIComponent(Bc.Main_selectedChannel_id)+"/videos?limit="+Kc+"&broadcast_type="+(Kd?"highlight":"archive")+"&sort=time&offset="+e;Au&&!Ud?Rf(t,Jd,2,null,cl,rl):Nf(t,Jd,2,null,cl,rl,!1)}function rl(){++Vd<Dd?(Jd+=500,ll()):(Fd=!1,Ud?(Gd=!0,ul()):(wf=!1,Hu(),$u(P),Af(yl)))}function cl(e){var t=JSON.parse(e),n=t.videos.length;qd=parseInt(t._total),n<Kc&&(Gd=!0);var a=Ud;Xd=!(Ud+=n);var i=n/$c;0<n%$c&&i++;var o,s,d,l,r,c,u,_=0,f=document.getElementById("stream_table_channel_vod");if(!Yd){Yd=!0,d=document.createElement("tr");var m='<i class="icon-movie-play stream_channel_fallow_icon"></i>'+wa+wa+p;(Jc=document.createElement("td")).setAttribute("id",Qd[8]+"y_0"),Jc.className="stream_cell",Jc.innerHTML='<div id="'+Qd[0]+'y_0" class="stream_thumbnail_channel_vod" ><div id="'+Qd[3]+'y_0" class="stream_channel_fallow_game">'+m+"</div></div>",d.appendChild(Jc),d.appendChild(document.createElement("tr")),d.appendChild(document.createElement("tr")),f.appendChild(d)}for(var h=0;h<i;h++){for(s=a/$c+h,d=document.createElement("tr"),o=0;o<$c&&_<n;o++,_++)r=(l=t.videos[_])._id,c=-1!==((u=l.preview.template)+"").indexOf("404_processing"),s||o||!c||(c=!1,u=null!==od?od:Ma),c||Rd[r]?o--:(Rd[r]=1,d.appendChild(KI(s,s+"_"+o,[r,l.length,l.channel.broadcaster_language,l.game,l.channel.name,l.increment_view_count_url],[u.replace("{width}x{height}",mu),l.channel.display_name,N+A_(l.created_at),wS.parse(l.title)+da+Qt+v+l.game,l_(l.views)+V,r_(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.channel.broadcaster_language),F+Rp(l.length),l.animated_preview_url],Qd)));for(;o<$c;o++)Gd&&!jd&&(jd=!0,Ud=s*$c+o),d.appendChild(B_(Qd[9]+s+"_"+o)),Nd.push(Qd[9]+s+"_"+o);f.appendChild(d)}ul()}function ul(){if(Zd?(hl(!0),I_(null!==od?od:Ma)):(Xd?(Af(yl),$u(L+(Kd?G:O)+T+M)):(Zd=!0,I_(null!==od?od:Ma),hl(),v_()),Gu(Qd[10]),wf=!1,Hu()),0<Nd.length&&!Gd)return dl(),void _l();Fd=!(Nd=[])}function _l(){Ku(Nd.length);var e=Ud+Hd;e&&qd-1<e&&(e=qd-du,Gd=!0),Gf("https://api.twitch.tv/kraken/channels/"+encodeURIComponent(Bc.Main_selectedChannel_id)+"/videos?limit="+du+"&broadcast_type="+(Kd?"highlight":"archive")+"&sort=time&offset="+e,Jd,2,null,ml,fl)}function fl(){++Vd<Dd?(Jd+=500,_l()):(Gd=!0,Ud-=Nd.length,Nd=[],ul())}function ml(e){var t,n,a=JSON.parse(e),i=a.videos.length,o=0,s=0,d=[];for(qd=parseInt(a._total);o<Nd.length&&s<i;o++,s++)n=(t=a.videos[s])._id,-1!==(t.preview.template+"").indexOf("404_processing")||Rd[n]?o--:(Rd[n]=1,eS(Nd[o],[n,t.length,t.channel.broadcaster_language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",mu),t.channel.display_name,N+A_(t.created_at),wS.parse(t.title)+da+Qt+v+t.game,l_(t.views)+V,r_(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.channel.broadcaster_language),F+Rp(t.length),t.animated_preview_url],Qd),d.push(o));for(o=d.length-1;-1<o;o--)Nd.splice(d[o],1);Hd+=s,Gd&&(Ud-=Nd.length,Nd=[]),ul()}function hl(e){Bd<0?vl():(j_(Bd,Od,Qd,$c,Ud,e),cS(Qd,Bd+"_"+Od),Ud/$c<Bd+eu&&!Gd&&!Fd&&(dl(),ll()),Uc&&pl())}function pl(){window.clearInterval(kI),-1<Bd&&Ud?(Gu(Qd[1]+Bd+"_"+Od),nf(Bd+"_"+Od,Qd)):gl()}function vl(){Ru(Qd[0]+"y_0",pu)}function gl(){Nu(Qd[0]+"y_0",pu)}function yl(e){var t;if(!wf&&!z_())switch(q_(),e.keyCode){case Ua:d_()?s_():a_()?n_():(pl(),Af(yl));break;case La:if(u_(Bd,Od-1,Qd[0]))pl(),Od--,hl();else for(t=$c-1;-1<t;t--)if(u_(Bd-1,t,Qd[0])){pl(),Bd--,Od=t,hl();break}break;case Ba:u_(Bd,Od+1,Qd[0])?(pl(),Od++,hl()):u_(Bd+1,0,Qd[0])&&(pl(),Bd++,Od=0,hl());break;case Ta:if(-1!==Bd||Xd)if(Bd){for(t=0;t<$c;t++)if(u_(Bd-1,Od-t,Qd[0])){pl(),Bd--,Od-=t,hl();break}}else pl(),Bd=-1,vl();else Bd=0,gl(),hl();break;case Oa:if(-1!==Bd||Xd){for(t=0;t<$c;t++)if(u_(Bd+1,Od-t,Qd[0])){pl(),Bd++,Od-=t,hl();break}}else Bd=0,gl(),hl();break;case xa:case Sa:case Pa:case Ga:-1===Bd?(xf("ChannelVod_highlight",(Kd=!Kd)?"true":"false"),sl()):$_(Bd+"_"+Od,Qd,yl)}}var bl,wl,kl,Al,Cl=0,El=10,Ml=!1,Il=0,Sl=null,xl=!1,Pl=0,Ll={},Tl={};function Bl(){Kl(),Bc.Play_ChatForceDisable?(ir||yr(),xl=!1,sf(function(){Ol(Il=(new Date).getTime())})):Yr()}function Ol(e){Cl=0,Gl(e)}function Gl(e){var t="https://badges.twitch.tv/v1/badges/channels/"+Bc.Play_selectedChannel_id+"/display",n=new XMLHttpRequest;n.open("GET",t,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){if(4===n.readyState){if(200===n.status)return void(Il===e&&Rl(n.responseText,e));Il===e&&Ul(e)}},n.send(null)}function Ul(e){Cl++,Il===e&&(Cl<El?Gl(e):wl=window.setTimeout(function(){Gl(e)},1e3))}function Rl(e,t){yS(JSON.parse(e).badge_sets).forEach(function(t){t.versions.forEach(function(e){bS(t.type,e.type,e.image_url_4x,nr)})}),Ll[Bc.Play_selectedChannel_id]?Il===t&&Hl():Nl(t)}function Nl(e){Cl=0,Fl(e)}function Fl(e){var t="https://api.betterttv.net/2/channels/"+encodeURIComponent(Bc.Play_selectedChannel),n=new XMLHttpRequest;n.open("GET",t,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){4===n.readyState&&(200===n.status?Il===e&&Dl(n.responseText,e):404===n.status?(Ll[Bc.Play_selectedChannel_id]=1,Il===e&&Hl()):Il===e&&Vl(e))},n.send(null)}function Vl(e){Cl++,Il===e&&(Cl<El?Fl(e):Il===e&&Hl())}function Dl(e,t){Jl(JSON.parse(e)),Ll[Bc.Play_selectedChannel_id]=1,Il===t&&Hl()}function Jl(t){t.emotes.forEach(function(e){Tl[e.code]={code:e.code,id:e.id,"3x":"https:"+t.urlTemplate.replace("{{id}}",e.id).replace("{{image}}","3x")}})}function Hl(){Xl(),ql()}function ql(){(Sl=new ReconnectingWebSocket("wss://irc-ws.chat.twitch.tv","irc",{reconnectInterval:3e3})).onopen=function(){Sl.send("PASS blah\r\n"),Sl.send("NICK justinfan12345\r\n"),Sl.send("CAP REQ :twitch.tv/commands twitch.tv/tags\r\n"),Sl.send("JOIN #"+Bc.Play_selectedChannel+"\r\n")},Sl.onclose=function(){Ml=!0},Sl.onmessage=function(e){var t=window.parseIRC(e.data.trim());if(t.command)switch(t.command){case"PING":Sl.send("PONG "+t.params[0]);break;case"JOIN":xl=!0,Yl('&nbsp;<span class="message">'+da+bn+Bc.Play_selectedChannelDisplayname+" "+_+"</span>");break;case"PRIVMSG":jl(t)}},kl=window.setTimeout(zl,5e3)}function zl(){xl?Al=window.setInterval(Ql,1e3):(Sl.close(1e3),Hl())}function Xl(){window.clearTimeout(kl)}function jl(e){var t="",n=e.tags;if(n.hasOwnProperty("badges")&&"string"==typeof n.badges&&n.badges.split(",").forEach(function(e){e=e.split("/"),t+='<span class="'+e[0]+"-"+e[1]+' tag"></span>'}),n.hasOwnProperty("display-name")){var a=n["display-name"];"string"==typeof a&&(t+='<span class="nick" style="color: #'+_r[a.charCodeAt(0)%fr]+';">'+a+"</span>&#58;&nbsp;")}var i=e.params[1];/^\x01ACTION.*\x01$/.test(i)&&(i=i.replace(/^\x01ACTION/,"").replace(/\x01$/,"").trim());var o={};n.hasOwnProperty("emotes")&&"string"==typeof n.emotes&&(n.emotes=n.emotes.split("/"),n.emotes.forEach(function(t){t=t.split(":"),o[t[0]]||(o[t[0]]=[]),t[1].split(",").forEach(function(e){e=e.split("-"),o[t[0]].push([parseInt(e[0]),parseInt(e[1])])})})),Yl(t+='<span class="message">'+Wl(gS(i,o))+"</span>")}function Wl(e){for(var t=0;t<e.length;t++)"string"==typeof e[t]?e[t]=vS(e[t]):e[t]=e[t][0];return wS.parse(e.join(" "),!0,!0)}function Yl(e){var t=document.createElement("div");t.className="chat_line",t.innerHTML=e,nr.appendChild(t),Ql(),100<++Pl&&(Pl=0,Zr())}function Ql(){nr.scrollTop=nr.scrollHeight}function Zl(){Xl(),window.clearTimeout(wl),window.clearTimeout(bl),window.clearInterval(Al)}function Kl(){Zl(),Sl&&Sl.close(1e3),Il=0,M_("chat_box"),xl=Ml=!1}var $l,er,tr,nr,ar,ir=!1,or=0,sr=[],dr=[],lr=10,rr=null,cr=0,ur="",_r=["fe2424","fc5a24","ff9020","fEc723","ffff1d","bfff00","c3ff12","56fe1d","1eff1e","16ff51","00ff80","00ffbf","00ffff","1dc6ff","158aff","3367ff","ff4dff","ff4ad2","ff62b1","ff4272"],fr=_r.length,mr=0,hr=!1,pr=0;function vr(){nr=document.getElementById("chat_box"),yr()}function gr(){Hr(),Au&&Bc.Play_ChatForceDisable?(ir||yr(),sf(function(){Ir(pr=(new Date).getTime())})):Yr()}function yr(){or=0,ir=!(Tl={}),br()}function br(){Nf("https://badges.twitch.tv/v1/badges/global/display",1e4,0,null,kr,wr,!1)}function wr(){++or<lr?br():ir=!1}function kr(e){yS(JSON.parse(e).badge_sets).forEach(function(t){t.versions.forEach(function(e){bS(t.type,e.type,e.image_url_4x,null)})}),Ar()}function Ar(){or=0,Cr()}function Cr(){Nf("https://api.betterttv.net/2/emotes",1e4,0,null,Mr,Er,!1)}function Er(){++or<lr?Cr():ir=!1}function Mr(e){Jl(JSON.parse(e)),ir=!0}function Ir(e){or=0,Sr(e)}function Sr(e){var t="https://badges.twitch.tv/v1/badges/channels/"+Bc.Main_selectedChannel_id+"/display",n=new XMLHttpRequest;n.open("GET",t,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){if(4===n.readyState){if(200===n.status)return void(pr===e&&Pr(n.responseText,e));pr===e&&xr(e)}},n.send(null)}function xr(e){or++,pr===e&&(or<lr?Sr(e):ar=window.setTimeout(function(){Sr(e)},1e3))}function Pr(e,t){yS(JSON.parse(e).badge_sets).forEach(function(t){t.versions.forEach(function(e){bS(t.type,e.type,e.image_url_4x,nr)})}),pr===t&&Gr(t),Ll[Bc.Main_selectedChannel_id]?pr===t&&Gr(t):Lr(t)}function Lr(e){or=0,Tr(e)}function Tr(e){var t="https://api.betterttv.net/2/channels/"+encodeURIComponent(Bc.Main_selectedChannel),n=new XMLHttpRequest;n.open("GET",t,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){4===n.readyState&&(200===n.status?pr===e&&Or(n.responseText,e):404===n.status?(Ll[Bc.Main_selectedChannel_id]=1,pr===e&&Gr()):pr===e&&Br(e))},n.send(null)}function Br(e){or++,pr===e&&(or<lr?Tr(e):pr===e&&Gr())}function Or(e,t){Jl(JSON.parse(e)),Ll[Bc.Main_selectedChannel_id]=1,pr===t&&Gr()}function Gr(e){or=0,pr===e&&Ur(e)}function Ur(e){var t="https://api.twitch.tv/v5/videos/"+Bc.ChannelVod_vodId+"/comments?client_id="+lu+(cr?"&content_offset_seconds="+parseInt(cr):""),n=new XMLHttpRequest;n.open("GET",t,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){if(4===n.readyState){if(200===n.status)return void(pr===e&&Nr(n.responseText,e));pr===e&&Rr(e)}},n.send(null)}function Rr(e){or++,pr===e&&(or<lr?Ur(e):er=window.setTimeout(function(){Ur(e)},2500))}function Nr(e,t){e=JSON.parse(e);var n,a,i=null===rr;i&&(n="&nbsp;",n+='<span class="message">',n+=da+bn+Bc.Main_selectedChannelDisplayname+" "+ur,Fr(n+="</span>",0)),cr=0,rr=e._next,e.comments.forEach(function(e){n="",(a=e.message).hasOwnProperty("user_badges")&&a.user_badges.forEach(function(e){n+='<span class="'+e._id+"-"+e.version+' tag"></span>'}),n+='<span class="nick" style="color: #'+_r[e.commenter.display_name.charCodeAt(0)%fr]+';">'+e.commenter.display_name+"</span>&#58;&nbsp;",n+='<span class="message">',a.fragments.forEach(function(e){e.hasOwnProperty("emoticon")?n+='<img class="emoticon" src="https://static-cdn.jtvnw.net/emoticons/v1/'+e.emoticon.emoticon_id+'/1.0" srcset="https://static-cdn.jtvnw.net/emoticons/v1/'+e.emoticon.emoticon_id+"/2.0 2x, https://static-cdn.jtvnw.net/emoticons/v1/"+e.emoticon.emoticon_id+'/3.0 4x">':n+=Wl([e.text])}),n+="</span>",i?Fr(n,e.content_offset_seconds):void 0!==rr&&Vr(n,e.content_offset_seconds)}),i&&pr===t&&(Dr(t),void 0!==rr&&zr(t))}function Fr(e,t){sr.push({time:t,message:e})}function Vr(e,t){dr.push({time:t,message:e})}function Dr(e){hr||pr!==e||($l=window.setInterval(function(){qr(e),nr.scrollTop=nr.scrollHeight},1e3))}function Jr(){hr||(window.clearTimeout(ar),window.clearTimeout(er),window.clearTimeout(tr),window.clearInterval($l))}function Hr(){Jr(),pr=0,M_("chat_box"),hr=!1,rr=null,sr=[],dr=[],mr=0}function qr(e){var t;if(mr<sr.length-1)for(var n=mr;n<sr.length&&sr[n].time<al+Android.gettime()/1e3;n++,mr++)(t=document.createElement("div")).className="chat_line",t.innerHTML=sr[n].message,nr.appendChild(t);else if(Jr(),void 0!==rr)sr=dr.slice(),mr=0,Dr(e),dr=[],pr===e&&zr(e),Zr();else{var a="&nbsp;";a+='<span class="message">',a+=da+da+Cn+da+da,a+="</span>",(t=document.createElement("div")).className="chat_line",t.innerHTML=a,nr.appendChild(t),hr=!0,nr.scrollTop=nr.scrollHeight,window.clearInterval($l),$l=window.setInterval(function(){nr.scrollTop=nr.scrollHeight},1e3)}}function zr(e){or=0,hr||pr!==e||Xr(e)}function Xr(e){var t="https://api.twitch.tv/v5/videos/"+Bc.ChannelVod_vodId+"/comments?client_id="+lu+(null!==rr?"&cursor="+rr:""),n=new XMLHttpRequest;n.open("GET",t,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){if(4===n.readyState){if(200===n.status)return void(hr||pr!==e||Nr(n.responseText,e));hr||pr!==e||jr(e)}},n.send(null)}function jr(e){or++,pr===e&&(or<lr?Xr(e):tr=window.setTimeout(function(){Xr(e)},2500))}function Wr(){Hr(),Qr(ln+da+rn)}function Yr(){Hr(),Qr($n)}function Qr(e){var t="&nbsp;";t+='<span class="message">',t+=da+da+da+da+da+da+da+da+da+da,t+=e,t+="</span>";var n=document.createElement("div");n.className="chat_line",n.innerHTML=t,nr.appendChild(n)}function Zr(){var e=document.getElementsByClassName("chat_line");if(0<e.length-100)for(var t=0;t<e.length-100;t++)e[0].parentNode.removeChild(e[0]);Ql()}var Kr,$r,ec,tc,nc,ac,ic,oc=!0,sc=!1,dc=!1,lc=-1,rc=new Image,cc=1,uc=2,_c=3,fc=4,mc=5,hc=6,pc=7,vc=8,gc=9,yc=10,bc=11,wc=12,kc=13,Ac=14,Cc=15,Ec=16,Mc=17,Ic=18,Sc=19,xc=20,Pc=21,Lc=22,Tc="",Bc={Main_Go:1,Main_Before:1,Main_BeforeSearch:1,Main_BeforeChannel:1,Main_BeforeAgame:_c,Main_BeforeChannelisSet:!1,Main_BeforeAgameisSet:!1,Main_selectedChannel:"",Main_selectedChannelDisplayname:"",Main_selectedChannelLogo:"",Main_selectedChannel_id:"",Main_gameSelected:"",Main_OldgameSelected:null,Play_isHost:!1,Play_DisplaynameHost:"",Play_selectedChannelDisplayname:"",Play_selectedChannel:"",Play_gameSelected:"",Users_Position:0,Users_AddcodePosition:0,Play_WasPlaying:0,ChannelVod_vodId:"",vodOffset:0,Search_data:"",isLastSChannels:!1,gameSelectedOld:"",Games_return:!1,Search_isSearching:!1,Play_ChatForceDisable:!1,Never_run:!0,Main_CenterLablesVectorPos:0},Oc=!0,Gc=!0,Uc=!1,Rc=[],Nc=0,Fc=0,Vc=null,Dc=!0,Jc="",Hc=!1,qc="",zc=["label_side_panel","label_refresh","top_bar_live","top_bar_user","top_bar_featured","top_bar_game","top_bar_vod","top_bar_clip"],Xc=[],jc=0,Wc=!0,Yc=0,Qc=1.35,Zc=1.5,Kc=45,$c=3,eu=Math.floor(Kc/$c/Zc),tu=45,nu=5,au=Math.floor(tu/nu/Qc),iu=48,ou=6,su=Math.floor(iu/ou/Zc),du=6,lu="5seja5ptej058mxqy7gh5tcudjqtm9",ru="Client-ID",cu="Accept",uu="Authorization",_u="OAuth ",fu="application/vnd.twitchtv.v5+json",mu="528x297",hu="340x475",pu="stream_thumbnail_focused",vu="data_attribute",gu="1.0",yu=".18",bu="050619",wu=gu+yu+"-"+bu,ku=0,Au=0,Cu="?"+Math.random(),Eu="https://cors-anywhere.herokuapp.com/",Mu=function(e,t,n){e.onerror=function(){this.src=n},e.src=t};function Iu(){(dc=Tf("Main_isDebug",!1))&&oc?Su():"loading"===document.readyState?document.addEventListener("DOMContentLoaded",function(){xu(window.navigator.userLanguage||window.navigator.language)}):xu(window.navigator.userLanguage||window.navigator.language)}function Su(){console.log("Debug mod start");var e=document.createElement("script");e.src="https://fgl27.github.io/SmartTwitchTV/release/githubio/js/masterdebug.js",document.head.appendChild(e)}function xu(e){af(),sf(function(){try{Au=Android.getAndroid()}catch(e){Au=0,document.body.style.backgroundColor="rgba(0, 0, 0, 1)",sc=dc=!0,console.log("Main_isReleased: "+oc),console.log("Main_isDebug: "+dc),console.log("Main_isBrowser: "+sc)}Xk(),Aa(),hA(),console.log("language is "+e),ka(),-1!==window.location.href.indexOf("code")&&Of(window.location.href),Pu()})}function Pu(){zy(),Lu(!0),Kr=document.getElementById("scrollbar"),g_(),Tc=Bc.Main_Go,sf(function(){vr(),ap(),io(),oo()&&(ic=window.setInterval(cf,6e5),cf()),document.body.addEventListener("keyup",J_,!1),Xy(),document.getElementById("side_panel").style.marginLeft="",C_(),Tu(),JI=Tf("Vod_highlight",!1),Kd=Tf("ChannelVod_highlight",!1),gs=Tf("AGameVod_highlight",!1),tI=Tf("UserVod_highlight",!1),NI=Pf("vod_periodNumber",2),ms=Pf("AGameVod_periodNumber",2),ZM=Pf("UserVod_TypeNumber",1),By(),$r=document.getElementById("search_input"),ec=document.getElementById("user_input"),T_(Ma),T_(Ca),T_(Ea),document.addEventListener("visibilitychange",lf,!1),nc=window.setInterval(rf,6e4),qy=wb,Yy(),tc=window.setTimeout(f_,5e3),Gu("topbar")})}function Lu(e){rf(),Bu("label_refresh","icon-refresh",t+jt),Fu("label_update",'<div class="strokedextramini" style="vertical-align: middle; display: inline-block;"><i class="icon-arrow-up" style="color: #FF0000; font-size: 115%; "></i></div><div class="strokedextramini" style="vertical-align: middle; display: inline-block; color: #FF0000">'+wa+_t+"</div>"),Bu("label_side_panel","icon-ellipsis",Rn),Bu("icon_feed_refresh","icon-refresh",t+" Press up"),Vu("top_bar_live",_),Vu("top_bar_user",e?u:a),Vu("top_bar_featured",an),Vu("top_bar_game",f),Vu("top_bar_vod",Kt),Vu("top_bar_clip",U),Fu("scene2_search_text",wa+n),Fu("scene2_channel_text",wa+Ut),Fu("scene2_game_text",wa+Dt),Vu("dialog_end_replay_text",en),Vu("dialog_end_vod_text",sn),Vu("dialog_end_channel_text",Ut),Vu("dialog_end_game_text",Dt),Fu("dialog_about_text",va+ga),Xc=[de,le,re,ce],e?Vk():(zk(),C_())}function Tu(){Vu("play_dialog_exit_text",J),Vu("side_panel_search",n),Vu("side_panel_settings",a),Vu("side_panel_about",i),Vu("side_panel_controls",e),Vu("side_panel_exit",q),Vu("side_panel_live",_),Vu("side_panel_user",u),Vu("side_panel_featured",an),Vu("side_panel_games",f),Vu("side_panel_videos",Kt),Vu("side_panel_clips",U),Vu("side_panel_hide",o),Vu("chanel_button",E),Vu("game_button",f),Vu("live_button",_),Vu("exit_app_cancel",j),Vu("exit_app_close",z),Vu("remove_cancel",j),Vu("remove_yes",Jt),Vu("exit_app_minimize",X),Vu("main_dialog_exit_text",H),Fu("dialog_controls_text",pa),Vu("dialog_vod_text",wn),Fu("dialog_vod_start_text",An)}function Bu(e,t,n){Fu(e,'<div class="strokedextramini" style="vertical-align: middle; display: inline-block;"><i class="'+t+'" style="color: #FFFFFF; font-size: 115%; "></i></div><div class="strokedextramini" style="vertical-align: middle; display: inline-block">'+wa+n+"</div>")}function Ou(e){document.getElementById(e).classList.add("hide")}function Gu(e){document.getElementById(e).classList.remove("hide")}function Uu(e){return-1===document.getElementById(e).className.indexOf("hide")}function Ru(e,t){document.getElementById(e).classList.add(t)}function Nu(e,t){document.getElementById(e).classList.remove(t)}function Fu(e,t){document.getElementById(e).innerHTML=t}function Vu(e,t){document.getElementById(e).textContent=t}function Du(e){var t=document.getElementById(e).getElementsByClassName("emoji");if(t){for(var n=0;n<t.length;n++)t[n].classList.add("emoticon");for(t=document.getElementById(e).getElementsByClassName("emoticon"),n=0;n<t.length;n++)t[n].classList.remove("emoji")}}function Ju(){P_(-1),Au?Android.mshowLoading(!0):Gu("dialog_loading")}function Hu(){Au?Android.mshowLoading(!1):Ou("dialog_loading")}function qu(){window.clearTimeout(Vc)}function zu(){Vc=window.setTimeout(ju,6e3)}function Xu(){zu(),Gu("main_dialog_exit"),document.body.addEventListener("keydown",gf,!1)}function ju(){document.body.removeEventListener("keydown",gf,!1),Af(ac),qu(),Ou("main_dialog_exit"),Fc=0,Wu()}function Wu(){Nu("exit_app_cancel","button_search_focused"),Nu("exit_app_minimize","button_search_focused"),Nu("exit_app_close","button_search_focused"),Ru(Fc?1===Fc?"exit_app_minimize":"exit_app_close":"exit_app_cancel","button_search_focused")}function Yu(){M_("dialog_counter_text"),Zu(0,0,0)}function Qu(e,t,n,a){0<a?(Vu("dialog_counter_text",t*n+(e+1)+"/"+a),Zu(t,n,a)):Yu()}function Zu(e,t,n){var a=screen.height/100*7;if(3===t&&9<n||5===t&&10<n||6===t&&12<n){var i=Bc.Main_Go===fc||Bc.Main_Go===Sc||Bc.Main_Go===xc||Bc.Main_Go===wc||Bc.Main_Go===Lc||Bc.Main_Go===Mc||Bc.Main_Go===Ic||Bc.Main_Go===kc,o=Math.ceil((screen.height-3*a)/(Math.ceil(n/t)-1)*e+a*(i?1.8:1));Kr.style.top=o+"px",Dc&&(Dc=!1,Kr.style.backgroundColor="#777777")}else Kr.style.backgroundColor="#000000",Kr.style.top=a+"px",Dc=!0}function Ku(e){(du=12)/3<e&&(du=3*e),99<du&&(du=99)}function $u(e){Vu("dialog_warning_text",e),Gu("dialog_warning")}function e_(){Ou("dialog_warning")}function t_(){s_(),Gu("dialog_about")}function n_(){Ou("dialog_about")}function a_(){return Uu("dialog_about")}function i_(){s_(),e_(),y_(Bc.Main_Go),Yu(),Nk()}function o_(){n_(),Gu("dialog_controls")}function s_(){Ou("dialog_controls")}function d_(){return Uu("dialog_controls")}function l_(e){return(e+"").replace(/\B(?=(\d{3})+(?!\d))/g,",")}function r_(e,t,n){return(e+="").indexOf("x")||(e=e.slice(-3)),e+"p"+(t=58<t?60:t<32?30:Math.ceil(t))+(""!==n?" ["+n.toUpperCase()+"]":"")}function c_(e){return-1!==e.indexOf("live")?"":W}function u_(e,t,n){return null!==document.getElementById(n+e+"_"+t)}function __(){rf(),h_(),document.body.addEventListener("keyup",J_,!1)}function f_(){for(var e,t=0;t<zc.length;t++)t<2?document.getElementById(zc[t]).style.opacity="0.5":-1===(e=document.getElementById(zc[t])).className.indexOf("icon_center_focus")&&(e.style.opacity="0.5");Ru("topbar","topbar_dim")}function m_(){for(var e=0;e<zc.length;e++)document.getElementById(zc[e]).style.opacity="1";Nu("topbar","topbar_dim")}function h_(e){window.clearTimeout(tc),m_(),sf(function(){p_(e)})}function p_(e){e_(),Bc.Main_Go!==bc&&(Bc.Main_BeforeChannelisSet=!1),Bc.Main_Go!==fc&&(Bc.Main_BeforeAgameisSet=!1),Yu(),Bc.Main_Go===cc?(qy=wb,Yy()):Bc.Main_Go===uc?ji():Bc.Main_Go===_c?(qy=yb,Yy()):Bc.Main_Go===fc?To():Bc.Main_Go===vc?jw():Bc.Main_Go===gc?Tw():Bc.Main_Go===yc?yk():Bc.Main_Go===bc?dd():Bc.Main_Go===wc?il():Bc.Main_Go===kc?(qy=vb,Yy()):Bc.Main_Go===Ac?yM():Bc.Main_Go===mc?XE():Bc.Main_Go===hc?AC():Bc.Main_Go===pc?(qy=bb,Yy()):Bc.Main_Go===Cc?zA():Bc.Main_Go===Ec?iw():Bc.Main_Go===Mc?zI():Bc.Main_Go===Ic?(qy=pb,Yy()):Bc.Main_Go===Sc?bs():Bc.Main_Go===xc?(qy=gb,Yy()):Bc.Main_Go===Pc?(qy=kb,Yy()):Bc.Main_Go===Lc&&nI(),tc=window.setTimeout(f_,3e3),e&&If()}function v_(){xf("Main_values",JSON.stringify(Bc))}function g_(){Bc=Wy(Bc,Lf("Main_values",{}))}function y_(e){e===cc?Qy():e===uc?Wi():e===_c?Qy():e===fc?Bo():e===vc?Ww():e===gc?Bw():e===yc?bk():e===bc?ld():e===wc?ol():e===kc?Qy():e===Ac?bM():e===mc?jE():e===hc?CC():e===pc?Qy():e===Cc?XA():e===Ec?ow():e===Mc?XI():e===Ic?Qy():e===Sc?ws():e===xc?Qy():e===Pc?Qy():e===Lc&&aI(),Uu("settings_scroll")&&Fk()}function b_(){Bu("label_refresh","icon-refresh",t+jt),Bu("label_side_panel","icon-ellipsis",Rn),Nu("top_bar_user","icon_center_focus"),Vu("top_bar_live",_),Vu("top_bar_user",u),Vu("top_bar_featured",an),Vu("top_bar_game",f),Vu("top_bar_vod",Kt),Vu("top_bar_clip",U)}function w_(){Bu("label_side_panel","icon-arrow-circle-left",I),M_("top_bar_live"),M_("top_bar_game"),M_("top_bar_vod"),M_("top_bar_clip"),M_("top_bar_featured"),Ru("top_bar_user","icon_center_focus")}function k_(e){return'<div style="font-size: 30%; position: fixed; line-height: 0; text-shadow: #000000 0 0 5.7px, #000000 0 0 5.7px, #000000 0 0 4px">'+e+"</div>"}function A_(e){return e=new Date(e),Hc?e.getDate()+" "+Wt[e.getMonth()]+" "+e.getFullYear():Wt[e.getMonth()]+" "+e.getDate()+" "+e.getFullYear()}function C_(){if(Au)try{var e=Android.getversion();wu="Android: "+e+" Web: "+bu,E_(e)&&Gu("label_update")}catch(e){}Fu("dialog_about_text",va+ye+wu+ga)}function E_(e){return e=e.split("."),parseFloat(e[0]+"."+e[1])<parseFloat(gu)||parseInt(e[2])<parseInt(yu.split(".")[1])}function M_(e){for(e=document.getElementById(e);e.firstChild;)e.removeChild(e.firstChild)}function I_(e){for(var t,n=0;n<Rc.length;n++)null!==(t=document.getElementById(Rc[n].id))&&Mu(t,Rc[n].src+Cu,e)}function S_(){Rc=[]}function x_(e,t){Rc.push({id:e,src:t})}function P_(e){lc=e}function L_(e){var t=0;return lc<e?t=-1:e<lc&&(t=1),lc=e,t}function T_(e){rc.src=e}function B_(e){return(Jc=document.createElement("td")).setAttribute("id",e),Jc.className="stream_cell",Jc}function O_(e,t,n){return(Jc=document.createElement("td")).setAttribute("id",t[4]+e),Jc.setAttribute(vu,n[0]),Jc.setAttribute("data-id",n[1]),Jc.className="stream_cell",Jc.innerHTML=U_(e,t,n),Jc}function G_(e,t,n){var a=document.getElementById(e),i=e.split(n[5])[1];a.setAttribute(vu,t[0]),a.setAttribute("data-id",t[1]),a.innerHTML=U_(i,n,t),a.setAttribute("id",n[4]+i)}function U_(e,t,n){return x_(t[1]+e,n[2]),'<div id="'+t[0]+e+'" class="stream_thumbnail_channel" ><img id="'+t[1]+e+'" class="stream_img"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel">'+n[3]+"</div></div>"}function R_(e,t,n,a,i){return e<$c&&T_(i[0]),(Jc=document.createElement("td")).setAttribute("id",a[8]+t),Jc.setAttribute(vu,JSON.stringify(n)),Jc.className="stream_cell",Jc.innerHTML=F_(t,a,i),Jc}function N_(e,t,n,a){var i=document.getElementById(e),o=e.split(a[9])[1];i.setAttribute(vu,JSON.stringify(t)),i.innerHTML=F_(o,a,n),i.setAttribute("id",a[8]+o)}function F_(e,t,n){return x_(t[1]+e,n[0]),'<div id="'+t[0]+e+'" class="stream_thumbnail_video" ><img id="'+t[1]+e+'" class="stream_img"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;">'+n[1]+'</div><div id="'+t[7]+e+'"class="stream_info" style="width:33%; float: right; text-align: right; display: inline-block;">'+n[5]+'</div><div id="'+t[4]+e+'"class="stream_info">'+wS.parse(n[2])+'</div><div id="'+t[5]+e+'"class="stream_info">'+v+n[3]+'</div><div id="'+t[6]+e+'"class="stream_info">'+n[4]+"</div></div>"}function V_(e,t,n){return(Jc=document.createElement("td")).setAttribute("id",t[5]+e),Jc.setAttribute(vu,n[0]),Jc.className="stream_cell",Jc.innerHTML=D_(e,t,n),Jc}function D_(e,t,n){return x_(t[1]+e,n[1]),'<div id="'+t[0]+e+'" class="stream_thumbnail_game" ><img id="'+t[1]+e+'" class="stream_img"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel">'+n[0]+'</div><div id="'+t[4]+e+'"class="stream_info" style="width: 100%; display: inline-block;">'+n[2]+"</div></div>"}function J_(){Gc=!0}function H_(){Oc=!0}function q_(){Oc=!1,window.setTimeout(H_)}function z_(){return!Oc||!Gc}function X_(e,t,n,a,i,o){Ru(n[0]+e+"_"+t,pu),Qu(t,e,a,i),L_(e)||o?1<e?u_(e+1,0,n[0])?tf(n[6],-1*document.getElementById(n[4]+e+"_"+t).offsetTop+.42*screen.height):J_():tf(n[6],.07*screen.height):J_()}function j_(e,t,n,a,i,o){Ru(n[0]+e+"_"+t,pu),Qu(t,e,a,i),L_(e)||o?e?u_(e+1,0,n[0])&&tf(n[10],-1*document.getElementById(n[8]+(e-1)+"_"+t).offsetTop):tf(n[10],.07*screen.height):J_()}function W_(e,t,n,a,i){Ru(n[0]+e+"_"+t,pu),Qu(t,e,a,i),L_(e)?tf(n[10]?n[10]:n[7],e?-1*document.getElementById(n[5]+(e-1)+"_"+t).offsetTop+.025*screen.height:-1*document.getElementById(n[5]+e+"_"+t).offsetTop+.025*screen.height):J_()}function Y_(e,t){return null===document.getElementById(t+e)}function Q_(e,t,n){Y_(e,t[0])||(document.body.removeEventListener("keydown",n),Bc.Play_selectedChannel=JSON.parse(document.getElementById(t[8]+e).getAttribute(vu)),Bc.Play_selectedChannel_id=Bc.Play_selectedChannel[1],Bc.Play_selectedChannel=Bc.Play_selectedChannel[0],Bc.Main_Go===hc?(Bc.Play_DisplaynameHost=document.getElementById(t[3]+e).textContent,Bc.Play_selectedChannelDisplayname=Bc.Play_DisplaynameHost.split(ne)[1],Bc.Play_isHost=!0):Bc.Play_selectedChannelDisplayname=document.getElementById(t[3]+e).textContent,Bc.Play_gameSelected=document.getElementById(t[5]+e).textContent.split(v)[1],Bc.Main_Go===fc&&(Bc.Main_OldgameSelected=Bc.Main_gameSelected),Z_())}function Z_(){document.body.addEventListener("keydown",$v,!1),Ou("scene1"),Gu("scene2"),sv(),_v(),xv(),oo()&&!NC&&WC&&AE(),sf(sp)}function K_(e,t,n){Y_(e,t[0])||(document.body.removeEventListener("keydown",n),Ib=JSON.parse(document.getElementById(t[8]+e).getAttribute(vu)),cm=parseInt(Ib[1]),Bc.Play_gameSelected=Ib[2],Bc.Main_selectedChannel=Ib[3],Bc.Main_selectedChannelDisplayname=Ib[4],Bc.Main_selectedChannelLogo=Ib[5],Bc.Main_selectedChannel_id=Ib[6],Bc.ChannelVod_vodId=Ib[7],al=parseInt(Ib[8]),Mb=Ib[9],xb=Ib[10],Cb=Ib[11],Ib=Ib[0],Sb=document.getElementById(t[4]+e).textContent,Eb=document.getElementById(t[6]+e).textContent,document.body.addEventListener("keydown",Bm,!1),Ou("scene1"),Gu("scene2"),_v(),nv(),Yp(),Kp(),oo()&&!NC&&WC&&AE(),sf(um))}function $_(e,t,n){Y_(e,t[0])||(document.body.removeEventListener("keydown",n),Bc.ChannelVod_vodId=JSON.parse(document.getElementById(t[8]+e).getAttribute(vu)),zd=parseInt(Bc.ChannelVod_vodId[1]),Wd=Bc.ChannelVod_vodId[2],Bc.Play_gameSelected=Bc.ChannelVod_vodId[3],Bc.Main_selectedChannel=Bc.ChannelVod_vodId[4],Yh=Bc.ChannelVod_vodId[5],Bc.ChannelVod_vodId=Bc.ChannelVod_vodId[0].substr(1),Bc.Main_selectedChannelDisplayname=document.getElementById(t[3]+e).textContent,tl=document.getElementById(t[4]+e).textContent,nl=document.getElementById(t[5]+e).textContent,el=document.getElementById(t[11]+e).innerHTML+" "+document.getElementById(t[6]+e).textContent,ef())}function ef(){document.body.addEventListener("keydown",Hy,!1),Ou("scene1"),Gu("scene2"),vy(),_v(),nv(),Kp(),Rg=!1,oo()&&!NC&&WC&&AE(),sf(qg)}function tf(e,t){document.getElementById(e).style.top=t+"px",window.setTimeout(J_,10)}function nf(e,t){Gc=!1,Nu(t[0]+e,pu)}function af(){var e=document.createElement("span");e.className="fa",e.style.display="none",document.body.insertBefore(e,document.body.firstChild),"icons"!==window.getComputedStyle(e,null).getPropertyValue("font-family")?(dc&&console.log("Main_Checktylesheet reloading"),of("https://fgl27.github.io/SmartTwitchTV/release/githubio/css/icons.min.css")):dc&&console.log("Main_Checktylesheet loaded OK"),document.body.removeChild(e)}function of(e){var t=document.createElement("link");t.rel="stylesheet",t.href=e,document.getElementsByTagName("head")[0].appendChild(t)}function sf(e){"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?window.setTimeout(e):document.addEventListener("DOMContentLoaded",e)}function df(){var e=(new Date).getTime()+ku;return e=new Date(e),(Hc?Yt[e.getDay()]+" "+e.getDate()+" "+Wt[e.getMonth()]:Yt[e.getDay()]+" "+Wt[e.getMonth()]+" "+e.getDate())+" "+Up(e.getHours())+":"+Up(e.getMinutes())}function lf(){document.hidden||(rf(),window.setTimeout(rf,2e4))}function rf(){document.hidden||(Vu("label_clock",df()),Cu="?"+Math.random())}function cf(){document.hidden||oo()&&window.setTimeout(function(){fE()||NC||(Qm=Hi[Bc.Users_Position].name,$C())},5e3)}function uf(){Ru("side_panel_"+Yc,"side_panel_text_focus")}function _f(){Nu("side_panel_"+Yc,"side_panel_text_focus")}function ff(){Yc?1===Yc?i_():2===Yc?(document.body.addEventListener("keydown",ac,!1),t_()):3===Yc?(document.body.addEventListener("keydown",ac,!1),o_()):4===Yc?Xu(ac):5===Yc?mf(cc):6===Yc?mf(_o()?Ac:uc):7===Yc?mf(Pc):8===Yc?mf(_c):9===Yc?mf(Mc):10===Yc&&mf(Ic):Bc.Main_Go!==vc?(Bc.Search_isSearching||Bc.Main_Go!==bc&&Bc.Main_Go!==kc&&Bc.Main_Go!==wc||Pd(),Bc.Main_BeforeSearch=Bc.Main_Go,Bc.Main_Go=vc,y_(Bc.Main_BeforeSearch),h_()):document.body.addEventListener("keydown",ac,!1),pf()}function mf(e){e===Bc.Main_Go?document.body.addEventListener("keydown",ac,!1):(Bc.Main_Before=Bc.Main_Go,Bc.Main_Go=e,y_(Bc.Main_Before),h_())}function hf(e){ac=e,document.body.removeEventListener("keydown",ac),document.body.addEventListener("keydown",vf,!1),Nu("side_panel","side_panel_hide")}function pf(){document.body.removeEventListener("keydown",vf),Ru("side_panel","side_panel_hide"),_f(),Yc=0,uf()}function vf(e){switch(e.keyCode){case Ua:case La:document.body.addEventListener("keydown",ac,!1),pf(),Ef();break;case Ta:Yc&&(_f(),Yc--,uf());break;case Oa:Yc<10&&(_f(),Yc++,uf());break;case Ga:ff()}}function gf(e){switch(e.keyCode){case Ua:ju();break;case Ba:2<++Fc&&(Fc=0),Wu(),qu(),zu();break;case La:--Fc<0&&(Fc=2),Wu(),qu(),zu();break;case Ga:Fc?Au&&1===Fc?Android.mclose(!1):Au&&2===Fc&&Android.mclose(!0):ju()}}Iu();var yf=["top_bar_live","top_bar_user","top_bar_featured","top_bar_game","top_bar_vod","top_bar_clip"],bf=[cc,Ac,Pc,_c,Mc,Ic],wf=!1;function kf(e){if(!(wf||qy.FirstLoad||z_()))switch(e.keyCode){case Ua:d_()?(Ef(),s_()):a_()?(Ef(),n_()):Bc.Main_Go===fc?(Bc.Main_OldgameSelected=Bc.Main_gameSelected,Bc.Games_return?(Bc.Main_Go=gc,Bc.Main_gameSelected=Bc.gameSelectedOld):(Bc.Main_Go=Bc.Main_BeforeAgame,Bc.Main_BeforeAgame=cc),Bo(),Cf(),p_()):Bc.Main_Go===xc?(_b(fc),Cf(),p_()):Bc.Main_Go===pc?(_b(Ac),Cf(),p_()):Bc.Main_Go===kc?(_b(bc),Cf(),p_()):Bc.Main_Go===Sc?(Bc.Main_Go=fc,ws(),Cf(),p_()):Bc.Main_Go===mc?(Bc.Main_Go=Ac,jE(),Cf(),p_()):Bc.Main_Go===hc?(Bc.Main_Go=Ac,CC(),Cf(),p_()):Bc.Main_Go===Lc?(Bc.Main_Go=Ac,aI(),Cf(),p_()):Bc.Main_Go===Cc?(Bc.Main_Go=Ac,XA(),Cf(),p_()):Bc.Main_Go===bc?(Bc.Main_Go=Bc.Main_BeforeChannel,Bc.Main_BeforeChannel=cc,ld(),Bc.Main_selectedChannel_id="",Cf(),p_()):Bc.Main_Go===wc?(Bc.Main_Go=bc,ol(),Cf(),p_()):Bc.Main_Go===yc?(Bc.Main_Go===Bc.Main_BeforeSearch?Bc.Main_Go=cc:Bc.Main_Go=Bc.Main_BeforeSearch,bk(),Bc.Search_isSearching=!1,Cf(),p_()):Bc.Main_Go===gc?(Bc.Main_Go===Bc.Main_BeforeSearch?Bc.Main_Go=cc:Bc.Main_Go=Bc.Main_BeforeSearch,Bc.Search_isSearching=!1,Bw(),Cf(),p_()):Bc.Main_Go===Ec?(Bc.Main_Go===Bc.Main_BeforeSearch?Bc.Main_Go=cc:Bc.Main_Go=Bc.Main_BeforeSearch,Bc.Main_selectedChannel_id&&Ld(),ow(),Bc.Search_isSearching=!1,Cf(),p_()):(Cf(),hf(kf));break;case Ba:if(Bc.Search_isSearching||Bc.Main_Go===bc||Bc.Main_Go===wc||Bc.Main_Go===kc||Bc.Main_Go===yc||Bc.Main_Go===gc||Bc.Main_Go===Ec)break;Nu(yf[Bc.Main_CenterLablesVectorPos],"icon_center_line"),Bc.Main_CenterLablesVectorPos++,5<Bc.Main_CenterLablesVectorPos&&(Bc.Main_CenterLablesVectorPos=0),Ef(),Mf();break;case La:if(Bc.Search_isSearching||Bc.Main_Go===bc||Bc.Main_Go===wc||Bc.Main_Go===kc||Bc.Main_Go===yc||Bc.Main_Go===gc||Bc.Main_Go===Ec)break;Nu(yf[Bc.Main_CenterLablesVectorPos],"icon_center_line"),Bc.Main_CenterLablesVectorPos--,Bc.Main_CenterLablesVectorPos<0&&(Bc.Main_CenterLablesVectorPos=5),Ef(),Mf();break;case Oa:Nu(yf[Bc.Main_CenterLablesVectorPos],"icon_center_line"),document.body.removeEventListener("keydown",kf),Uc=!1,p_();break;case Ga:Sf()}}function Af(e){window.clearTimeout(tc),m_(),document.body.removeEventListener("keydown",e),document.body.removeEventListener("keydown",kf),document.body.addEventListener("keydown",kf,!1),Ef()}function Cf(){Nu(yf[Bc.Main_CenterLablesVectorPos],"icon_center_line"),document.body.removeEventListener("keydown",kf),Uc=!1}function Ef(){Uc=!0,Ru(yf[Bc.Main_CenterLablesVectorPos],"icon_center_line")}function Mf(){y_(Bc.Main_Go),Bc.Main_Go=bf[Bc.Main_CenterLablesVectorPos],Bc.Main_Go!==Ac||_o()?h_(!0):(Bc.Main_Go=uc,Cf(),h_())}function If(){Bc.Main_Go===cc?(qy=wb,document.body.removeEventListener("keydown",hb)):Bc.Main_Go===Ac?document.body.removeEventListener("keydown",GM):Bc.Main_Go===fc?document.body.removeEventListener("keydown",Ko):Bc.Main_Go===Pc?(qy=kb,document.body.removeEventListener("keydown",hb)):Bc.Main_Go===yc?document.body.removeEventListener("keydown",Tk):Bc.Main_Go===gc?document.body.removeEventListener("keydown",Hw):Bc.Main_Go===Ec?document.body.removeEventListener("keydown",gw):Bc.Main_Go===wc?document.body.removeEventListener("keydown",yl):Bc.Main_Go===bc?document.body.removeEventListener("keydown",Td):Bc.Main_Go===hc?document.body.removeEventListener("keydown",UC):Bc.Main_Go===Lc?document.body.removeEventListener("keydown",bI):Bc.Main_Go===Cc?document.body.removeEventListener("keydown",oC):Bc.Main_Go===_c?(qy=yb,document.body.removeEventListener("keydown",hb)):Bc.Main_Go===kc?(qy=vb,document.body.removeEventListener("keydown",hb)):Bc.Main_Go===Mc?document.body.removeEventListener("keydown",uS):Bc.Main_Go===Ic?(qy=pb,document.body.removeEventListener("keydown",hb)):Bc.Main_Go===xc?(qy=gb,document.body.removeEventListener("keydown",hb)):Bc.Main_Go===pc?(qy=bb,document.body.removeEventListener("keydown",hb)):Bc.Main_Go===Sc?document.body.removeEventListener("keydown",Gs):Bc.Main_Go===mc&&document.body.removeEventListener("keydown",cM)}function Sf(){window.clearTimeout(tc),m_(),Bc.Main_Go!==bc&&(Bc.Main_BeforeChannelisSet=!1),Bc.Main_Go!==fc&&(Bc.Main_BeforeAgameisSet=!1),Yu(),Bc.Main_Go===cc?(qy=wb,Zy()):Bc.Main_Go===Ac?wM():Bc.Main_Go===Pc?(qy=kb,Zy()):Bc.Main_Go===fc?Oo():Bc.Main_Go===Cc?jA():Bc.Main_Go===bc?rd():Bc.Main_Go===wc?sl():Bc.Main_Go===yc?wk():Bc.Main_Go===gc?Ow():Bc.Main_Go===Ec?sw():Bc.Main_Go===_c?(qy=yb,Zy()):Bc.Main_Go===pc?(qy=bb).loadingData||qy.key_refresh():Bc.Main_Go===Mc?jI():Bc.Main_Go===Ic?(qy=pb,Zy()):Bc.Main_Go===xc?(qy=gb,Zy()):Bc.Main_Go===kc?(qy=vb,Zy()):Bc.Main_Go===Sc?ks():Bc.Main_Go===mc?WE():Bc.Main_Go===hc?EC():Bc.Main_Go===Lc&&iI(),tc=window.setTimeout(f_,3e3)}function xf(e,t){localStorage.setItem(e,t)}function Pf(e,t){return parseInt(localStorage.getItem(e))||t}function Lf(e,t){return JSON.parse(localStorage.getItem(e))||t}function Tf(e,t){var n=t.toString();return(localStorage.getItem(e)||n)===n?t:!t}function Bf(e){console.log(e);for(var t=0;t<e.length;t++)console.log("Character is: "+e.charAt(t)+" it's Unicode is: \\u"+e.charCodeAt(t).toString(16).toUpperCase())}function Of(e){console.log("processCode");var t="";t=e.match(/code=(\w+)/),Nc=t?(t=t[1],console.log("if code "+t),t):(console.log("else code "+t),0)}function Gf(e,t,n,a,i,o,s){Au?Rf(e,t,n,a,i,o):Nf(e,t,n,a,i,o,s)}function Uf(e,t,n,a,i,o,s,d){Au&&d?Rf(e,t,n,a,i,o):Nf(e,t,n,a,i,o,s)}function Rf(e,t,n,a,i,o){var s=Android.mreadUrl(e,t,n,a);s&&200===(s=JSON.parse(s)).status?i(s.responseText):o()}function Nf(e,t,n,a,i,o,s){var d=new XMLHttpRequest;d.open("GET",(s?Eu:"")+e,!0),d.timeout=t,0<n&&d.setRequestHeader(ru,lu),1<n&&d.setRequestHeader(cu,fu),2<n&&d.setRequestHeader(uu,a),d.ontimeout=function(){},d.onreadystatechange=function(){if(4===d.readyState){if(200===d.status)return void i(d.responseText);o()}},d.send(null)}var Ff=0,Vf=null,Df=0,Jf=!1,Hf=0,qf=0,zf=!1,Xf=0,jf=2e3,Wf=5,Yf="source",Qf=Yf,Zf=0,Kf=[],$f="",em=!1,tm=0,nm=0,am=1,im=!1,om=0,sm=!1,dm=!1,lm=2e3,rm=[0,5],cm=0;function um(){Xp(),xv(),pp(document.getElementById("stream_info_icon"),Bc.Main_selectedChannelLogo),Vu("stream_info_name",Bc.Main_selectedChannelDisplayname),Fu("stream_info_title",Mb),Fu("stream_info_game",Cb+" "+Eb+" "+xb),Vu("stream_live_icon",Sb),Vu("progress_bar_duration",Rp(cm)),xy((Qh=rm)[1]),Du("stream_info_title"),Bc.Play_isHost=!1,Vu("progress_bar_current_time",Rp(0)),Vu("stream_live_time",""),Vu("stream_watching_time",""),im=null!==Bc.ChannelVod_vodId,ur=Gt+".",im?(cr=al,gr()):Wr(),Fu("pause_button",'<i class="strokedbig icon-pause" style="color: #FFFFFF; font-size: 180%;"></i>'),Gu("progress_pause_holder"),Lm(),Gu("scene_channel_panel_bottom"),Df=om=0,window.clearInterval(Vf),dm=!1,Jm=-13,tm=nm=0,Zf=2,Rv(3),Lh=!1,Cv(),oo()?(Wa=!0,Ya=Bc.Main_selectedChannel_id,_i()):zp(),document.addEventListener("visibilitychange",ym,!1),Jf=!1,zf=!(qf=Hf=0),_m(),document.body.removeEventListener("keyup",J_)}function _m(){Xf=0,jf=2e3,fm()}function fm(){Gf("https://clips.twitch.tv/api/v2/clips/"+Ib+"/status",jf,1,null,hm,mm,!0)}function mm(){++Xf<Wf?(jf+=250,fm()):(jp(),Hv(3))}function hm(e){Kf=[],e=JSON.parse(e).quality_options;for(var t=0;t<e.length;t++)Kf.length?Kf.push({id:e[t].quality+"p"+pm(e[t].frame_rate),url:e[t].source}):Kf.push({id:e[t].quality+"p"+pm(e[t].frame_rate)+" (source)",url:e[t].source});nm=am,vm()}function pm(e){return 40<e?60:""}function vm(){window.clearInterval(Vf),$f=Kf[Zf=0].url,-1!==Yf.indexOf("source")&&(Yf="source");for(var e=0;e<Sm();e++){if(Kf[e].id===Yf){$f=Kf[Zf=e].url;break}-1!==Kf[e].id.indexOf(Yf)&&($f=Kf[Zf=e].url)}Qf=Yf,dc&&console.log("PlayClip_onPlayer:",'\n\n"'+$f+'"\n'),nm=am,Au&&zf&&Android.startVideoOffset($f,3,em?-1:Android.gettime()),em=!1,gm()}function gm(){ch&&!fv()&&uv(),Au&&(Df=0,Xh=1+lm/1e3,sm=!1,window.clearInterval(Vf),Vf=window.setInterval(bm,jh))}function ym(){document.hidden&&km()}function bm(){Au&&(tm=Android.gettime()),zf&&Ff===tm&&!Op()?++Df>Xh&&(sm&&dm&&Zf<Sm()-1?Zf++:!sm&&dm&&om++,navigator.onLine?1<om?Bp(om,3,wm):(xm(),vm(),dm=!0):Tp(!1,3)):(Df=om=0,dm=!1),Ff=tm}function wm(e){if(!e){if(!(Zf<Sm()-1))return void Tp(!1,3);Zf++}om=0,xm(),vm(),dm=!0}function km(){zf&&(Kf=[],Am(),Kp(),Jp())}function Am(){window.clearInterval(Vf),Au&&Android.stopVideo(3),zf=!1,Hr(),Hp(),hE(),document.body.removeEventListener("keydown",Bm),document.removeEventListener("visibilitychange",ym),Cm(),document.getElementById("scene2_pannel_0").style.display="none",document.getElementById("scene2_pannel_1").style.width="30%",document.getElementById("quality_name").style.width="77%",document.getElementById("quality_name").style.fontSize="87.5%",al=0}function Cm(){xg=!1,Sg=Pg=0,rv(),Yf=Qf,document.getElementById("scene_channel_panel").style.opacity="0",Au&&My(Android.gettime()/1e3,cm,!0),Fu("progress_bar_jump_to",wa),document.getElementById("progress_bar_steps").style.display="none",window.clearInterval(ng)}function Em(){Mm(),Gp(),ng=window.setInterval(Mm,1e3),Kp(),by(),Im(),xm(),document.getElementById("scene_channel_panel").style.opacity="1",Pm()}function Mm(){Au&&My(Android.gettime()/1e3,cm,!xg)}function Im(){for(var e=Zf=0;e<Sm();e++){if(Kf[e].id===Yf){Zf=e;break}-1!==Kf[e].id.indexOf(Yf)&&(Zf=e)}}function Sm(){return Kf.length}function xm(){1===Sm()?(document.getElementById("quality_arrow_up").style.opacity="0",document.getElementById("quality_arrow_down").style.opacity="0"):Zf?Zf===Sm()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(Yf=Kf[Zf].id).indexOf("source")?Vu("quality_name",Yf.replace("source",ge)):Vu("quality_name",Yf)}function Pm(){zm=window.setTimeout(Cm,5e3+Ng)}function Lm(){document.getElementById("scene2_pannel_1").style.width="18%",document.getElementById("quality_name").style.width="60%",document.getElementById("quality_name").style.fontSize="72%",Vu("open_vod_text",im?sn:dn),document.getElementById("scene2_pannel_0").style.display="inline-block"}function Tm(){im?(Bc.vodOffset=al,Am(),document.body.addEventListener("keydown",Hy,!1),Cv(),sf(qg)):(Lh=!0,Wp(ln),window.setTimeout(function(){Lh=!1,Yp()},2e3))}function Bm(e){if(nm!==am)switch(e.keyCode){case Ua:$p()?(Kp(),km()):Zp()}else switch(e.keyCode){case La:fE()?Zm&&!NC&&(EE(),Zm--,bE()):Wm&&!ov()&&fv()?(Vm++,bv()):ov()?(rv(),Ug?(Mv(),5<++Ph&&(Ph=0),Ev()):(Ly(-1,cm),Ng=2500),Pm()):Pv()?(Gv(),Bv(),--Uh<0&&(Uh=3),Tv()):Em();break;case Ba:fE()?Zm<HC-1&&!NC&&(EE(),Zm++,bE()):!Wm||ov()||Pv()?ov()?(rv(),Ug?(Mv(),--Ph<0&&(Ph=5),Ev()):(Ly(1,cm),Ng=2500),Pm()):Pv()?(Gv(),Bv(),3<++Uh&&(Uh=0),Tv()):Em():xf("ChatEnable",(ch=fv()||Pv()?(_v(),!1):(uv(),!0))?"true":"false");break;case Ta:Pv()?Gv():ov()?(2===Ug&&1!==Ph?(Ug--,wy()):1===Ug?(Ug--,wy()):0<Zf&&1===Ph&&(Zf--,xm()),rv(),Pm()):fE()?fE()?yE():Em():mE();break;case Oa:Pv()?Gv():ov()?(Ug?1===Ug?(Ug++,wy()):Zf<Sm()-1&&1===Ph&&(Zf++,xm()):(Ug++,wy()),rv(),Pm()):fE()?hE():Wm&&fv()?(4<++qm?yv(!(qm=1)):4===qm&&yv(!0),vv(!0)):Em();break;case Ga:Pv()?Uv(3):ov()?Ug?1===Ug?(im&&Bc.Play_ChatForceDisable&&(Op()?Dr(pr):Jr()),Pv()||Av(3)):Jv(3):(rv(),Pm(),Sg&&Iy()):fE()?(Am(),Q_(Zm,KC,$v)):Em();break;case Ua:ov()?Cm():fE()?hE():$p()?(Kp(),km()):Zp();break;case xa:case Sa:case Pa:im&&!Bc.Play_ChatForceDisable&&(Op()?Dr(pr):Jr()),Pv()||Av(3)}}var Om,Gm,Um,Rm,Nm,Fm,Vm=0,Dm=Vm,Jm=-5,Hm=.55,qm=3,zm=null,Xm="source",jm=Xm,Wm=!0,Ym=!1,Qm="",Zm=0,Km=2e3,$m=0,eh=1,th=2,nh=0,ah=null,ih=0,oh=0,sh=0,dh="",lh=[],rh=0,ch=!1,uh=null,_h=null,fh=null,mh="",hh=0,ph=5,vh=0,gh=5,yh=0,bh=!1,wh=null,kh=!1,Ah=0,Ch=null,Eh=0,Mh=0,Ih=!1,Sh=!1,xh=!1,Ph=1,Lh=!1,Th=!1,Bh=1e4,Oh=2e3,Gh="",Uh=0,Rh=3,Nh=null,Fh="",Vh=0,Dh=0,Jh="",Hh=!0,qh=!1,zh=!1,Xh=7,jh=1e3,Wh=0,Yh="",Qh=[],Zh=[{top:51.8,left:75.1,sizeOffset:[31,16,0,0]},{top:33,left:75.1,sizeOffset:[12.5,0,-6.25,0]},{top:.2,left:75.1,sizeOffset:[0,0,0,0]},{top:.2,left:38.3,sizeOffset:[0,0,0,0]},{top:.2,left:.2,sizeOffset:[0,0,0,0]},{top:33,left:.2,sizeOffset:[12.5,0,-6.25,0]},{top:51.8,left:.2,sizeOffset:[31,16,0,0]},{top:51.8,left:38.3,sizeOffset:[31,16,0,0]}],Kh=[0,0,0,1,2,2,2,1],$h=[[0,1,2,2,2,1,0,0],[7,3,3,3,3,3,7,7],[6,5,4,4,4,5,6,6]],ep=[{containerHeight:17,percentage:"12.5%",dialogTop:15},{containerHeight:32,percentage:"25%",dialogTop:30},{containerHeight:48,percentage:"50%",dialogTop:50},{containerHeight:99.6,percentage:"100%",dialogTop:115}],tp=1,np=["chat_extra_small","chat_size_small","chat_size_default","chat_size_biger","chat_size_bigest"];function ap(){Nm=document.getElementById("chat_container"),Fm=document.getElementById("inner_progress_bar"),Vm=Pf("ChatPositionsValue",0),qm=Pf("ChatSizeValue",3),ch=Tf("ChatEnable",!1),Wm=Tf("Play_isFullScreen",!0),vv(!1),gv(!1),op()}function ip(e){e?void 0!==Om&&(Vm=Om,qm=Um,(ch=Gm)||_v(),vv(!1)):(Om=Vm,Gm=ch,Um=qm,Vm=0,uv(),qm=4,yv(ch=!0),vv(!1),nr&&(nr.scrollTop=nr.scrollHeight)),xf("Play_isFullScreen",Wm)}function op(){tp=Wk("chat_font_size");for(var e=0;e<np.length;e++)Nu("chat_inner_container",np[e]);Ru("chat_inner_container",np[tp])}function sp(){Xp(),Fu("stream_live_icon",'<div style="vertical-align: middle; display: inline-block"><i class="icon-circle" style="color: red; font-size: 105%; "></i></div><div style="display: inline-block">'+wa+_.toUpperCase()+"</div>"),M_("stream_info_title"),im=!(Th=!1),pp(document.getElementById("stream_info_icon"),Ea),Bc.Play_isHost?Vu("stream_info_name",Bc.Play_DisplaynameHost):Vu("stream_info_name",Bc.Play_selectedChannelDisplayname),Bc.Play_WasPlaying=1,v_(),Ym=Bc.Play_isHost,Bc.Play_isHost=!1,qh=!1,Gu("scene_channel_panel_bottom"),Dh=Vh=0,Vu("stream_watching_time",g+Rp(0)),mh=Np(0),Vu("stream_live_time",y+mh),Ou("progress_pause_holder"),Rv(1),Jm=-5,Eh=Mh=Wh=0,window.clearInterval(Ch),Sh=!1,Bh=3e3,Hh=!(vh=0),nh=$m,xh=!(bh=!(sh=oh=ih=kh=0)),document.addEventListener("visibilitychange",lp,!1),cp(),vp(),document.body.removeEventListener("keyup",J_),ah=window.setInterval(fp,6e4)}function dp(e){Wp(e)}function Play_CheckResume(){bh&&lp(),pg&&$g(),zf&&(km(),window.clearInterval(Vf))}function lp(){document.hidden?Pv()?(Kp(),_v(),Vp()):(Hp(),xh=!1,Kl(),window.clearInterval(ah)):(bh=!0,nv(),bh&&(Xp(),Bh=3e3,qh=!(vh=0),Th?fp():cp(),nh=$m,yh=0,navigator.onLine?vp():Rm=window.setInterval(rp,100),ah=window.setInterval(fp,6e4)))}function rp(){(navigator.onLine||200<yh)&&(window.clearInterval(Rm),vp()),yh++}function cp(){Nf("https://api.twitch.tv/kraken/streams/"+Bc.Play_selectedChannel_id,Bh,2,null,up,_p,!1)}function up(e){null!==(e=JSON.parse(e)).stream&&(Vu("stream_info_name",Ym?Bc.Play_DisplaynameHost:Bc.Play_selectedChannelDisplayname),Bc.Play_selectedChannel_id=e.stream.channel._id,Fu("stream_info_title",wS.parse(e.stream.channel.status,!1,!0)),Bc.Play_gameSelected=e.stream.game,Gh=" ["+e.stream.channel.broadcaster_language.toUpperCase()+"]",Vu("stream_info_game",v+Bc.Play_gameSelected+h+l_(e.stream.viewers)+" "+D+Gh),Bc.Play_selectedChannelLogo=e.stream.channel.logo,Th=!0,pp(document.getElementById("stream_info_icon"),Bc.Play_selectedChannelLogo),mh=e.stream.created_at,oo()?(Wa=!0,Ya=Bc.Play_selectedChannel_id,_i()):zp())}function _p(){vh<gh&&(Bh+=500,window.setTimeout(function(){bh&&cp()},750)),vh++}function fp(){Nf("https://api.twitch.tv/kraken/streams/"+Bc.Play_selectedChannel_id,3e3,2,null,mp,hp,!1)}function mp(e){null!==(e=JSON.parse(e)).stream&&(Fu("stream_info_title",wS.parse(e.stream.channel.status,!1,!0)),Bc.Play_gameSelected=e.stream.game,Vu("stream_info_game",v+Bc.Play_gameSelected+h+l_(e.stream.viewers)+" "+D+Gh),Th||pp(document.getElementById("stream_info_icon"),e.stream.channel.logo))}function hp(){Wh<gh?(window.setTimeout(function(){bh&&fp()},2500),Wh++):Wh=0}function pp(e,t){e.onerror=function(){this.src=Ea,Th=!1},e.src=t}function vp(){hh=0,Oh=2e3+(qh?3e3:0),gp()}function gp(){var e,t;if(e=nh===$m?"https://api.twitch.tv/api/channels/"+Bc.Play_selectedChannel+"/access_token"+(oo()&&Hi[Bc.Users_Position].access_token?"?oauth_token="+Hi[Bc.Users_Position].access_token:""):"https://usher.ttvnw.net/api/channel/hls/"+Bc.Play_selectedChannel+".m3u8?&token="+encodeURIComponent(ih.token)+"&sig="+ih.sig+"&allow_source=true&allow_audi_only=true&fast_bread=true&allow_spectre=false",Au){if(!(t=Android.mreadUrl(e,Oh,1,null)))return void bp();200===(t=JSON.parse(t)).status?(hh=0,bh&&Ap(t.responseText)):403===t.status?wp():404===t.status?qv():bp()}else(t=new XMLHttpRequest).open("GET",Eu+e,!0),t.timeout=Oh,t.setRequestHeader(ru,lu),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?(hh=0,bh&&Ap(t.responseText)):403===t.status?(yp(t),sc?kp():wp()):404===t.status?(yp(t),sc?kp():qv()):(yp(t),bp()))},t.send(null)}function yp(e){dc&&(console.log(e.status),console.log(e.responseText))}function bp(){bh&&Hh&&(++hh<ph+(qh?8:0)?(Oh+=250,qh?window.setTimeout(gp,500):gp()):sc?kp():qv())}function wp(){jp(),Wp(Vn),window.setTimeout(function(){bh&&qv()},4e3)}function kp(){lh=[{id:"1080p60(Source)",band:"(10.00Mbps)",url:"http://fake"}],nh=th,bh&&Ip()}function Ap(e){nh===$m?(ih=JSON.parse(e),nh=eh,vp()):nh===eh&&(lh=Cp(oh=e),nh=th,bh&&Ip())}function Cp(e){for(var t,n=[],a="",i=1,o=Mp(e),s=0;s<o.length;s++)a=o[s].split('NAME="')[1].split('"')[0],t=Ep(o[s].split("BANDWIDTH=")[1].split(",")[0]),n.length?n[s-i].id!==a&&n[s-i].id!==a+" (source)"?n.push({id:a,band:t,url:o[s].split("\n")[2]}):i++:(-1===a.indexOf("ource")&&(a+=" (source)"),n.push({id:a,band:t,url:o[s].split("\n")[2]}));return n}function Ep(e){return 0<(e=parseInt(e))?" ("+parseFloat(e/1e6).toFixed(2)+"Mbps)":""}function Mp(e){for(var t,n=[],a=/#EXT-X-MEDIA:(.)*\n#EXT-X-STREAM-INF:(.)*\n(.)*/g;t=a.exec(e);)n.push(t[0]);return n}function Ip(){window.clearInterval(Ch),dh=lh[rh=0].url,-1!==Xm.indexOf("source")&&(Xm="source");for(var e=0;e<pv();e++){if(lh[e].id===Xm){dh=lh[rh=e].url;break}-1!==lh[e].id.indexOf(Xm)&&(dh=lh[rh=e].url)}jm=Xm,nh=th,dc&&console.log("Play_onPlayer:",'\n\n"'+dh+'"\n'),Au&&bh&&Android.startVideo(dh,1),Sp()}function Sp(){zh=!1,ch&&!fv()&&uv(),xh=!0,xp(),Au&&(Eh=0,Xh=1+Km/1e3,Ih=!1,window.clearInterval(Ch),Ch=window.setInterval(Pp,jh))}function xp(){Bc.Play_ChatForceDisable?Bl():Yr()}function Pp(){var e=!Op();Au&&(Vh=Android.gettime()),bh&&Ah===Vh&&e?Xh<++Eh&&(Ih&&Sh&&rh<pv()-1?rh++:!Ih&&Sh&&Mh++,navigator.onLine?1<Mh?Bp(Mh,1,Lp):(hv(),Ip(),Sh=!0):Tp(!1,1)):(Eh=Mh=0,Sh=!1),Ah=Vh,e&&Dh++}function Lp(e){if(!e){if(!(rh<pv()-1))return void qv();rh++}Mh=0,hv(),Ip(),Sh=!0}function Tp(e,t){Bc.Play_isHost=e,Rv(t),Hv(t)}function Bp(e,t,n){var a=new XMLHttpRequest;a.timeout=1e3,a.open("GET","https://static-cdn.jtvnw.net/jtv-static/404_preview-10x10.png?"+Math.random(),!0),a.onreadystatechange=function(){4===a.readyState&&(200===a.status?n(2<e):12<e&&Tp(!1,t))},a.send(null)}function Op(){return!!Au&&!Android.getPlaybackState()}function Gp(){var e=df();Vu("stream_clock",e),Vu("label_clock",e)}function Up(e){return e<10?"0"+e:e}function Rp(e){var t,n,a;return t=Up(parseInt(e)%60),n=Up((e=Math.floor(e/60))%60),a=Up(e=Math.floor(e/60)),e?a+":"+n+":"+t:n+":"+t}function Np(e){return Rp(parseInt(e/1e3))}function Fp(e){return Np((new Date).getTime()-new Date(e).getTime())}function Vp(){bh&&(Dp(),Bc.Play_WasPlaying=0,Jp())}function Dp(){Au&&Android.stopVideo(1),bh=!1,hE(),Hr(),Hp(),qp(),Bc.Play_selectedChannel_id=""}function Jp(){My(0,0),Gu("scene1"),Ou("scene2"),__()}function Hp(){sv(),nv(),Yp(),xv(),Yh="",rh===pv()-1&&(jm=lh[0].id),fg===Ey()-1&&(og=_g[0].id),Zf===Sm()-1&&(Qf=Kf[0].id)}function qp(){xh=!1,document.body.removeEventListener("keydown",$v),document.removeEventListener("visibilitychange",lp),Kl(),window.clearInterval(ah),window.clearInterval(Ch),Lh=!1}function zp(){Fu("fallow_text",wa+Tt),Xa=!1}function Xp(){Au?Android.mshowLoading(!0):Gu("dialog_loading_play")}function jp(){Au?Android.mshowLoading(!1):Ou("dialog_loading_play")}function Wp(e){Vu("dialog_warning_play_text",e),Gu("dialog_warning_play")}function Yp(){Ou("dialog_warning_play")}function Qp(){return Uu("dialog_warning_play")}function Zp(){$p()?Kp():(Gu("play_dialog_exit"),uh=window.setTimeout(Zp,3e3))}function Kp(){window.clearTimeout(uh),Ou("play_dialog_exit")}function $p(){return Uu("play_dialog_exit")}function ev(){window.clearTimeout(_h)}function tv(){window.clearTimeout(fh)}function nv(){ev(),tv(),Ou("play_dialog_simple_pause")}function av(){Op()?iv()?(Ou("play_dialog_simple_pause"),fh=window.setTimeout(av,8e3)):(Gu("play_dialog_simple_pause"),_h=window.setTimeout(av,1500)):nv()}function iv(){return Uu("play_dialog_simple_pause")}function ov(){return"1"===document.getElementById("scene_channel_panel").style.opacity}function sv(){rv(),document.getElementById("scene_channel_panel").style.opacity="0",Xm=jm,window.clearInterval(ng)}function dv(){Cv(),mv(),hv(),lv(),ng=window.setInterval(lv,1e3),Gp(),Kp(),document.getElementById("scene_channel_panel").style.opacity="1",cv()}function lv(){Vu("stream_watching_time",g+Rp(Dh)),Vu("stream_live_time",y+(-1===mh.indexOf("00:00")?Fp(mh):"00:00"))}function rv(){window.clearTimeout(zm),Ng=0}function cv(){zm=window.setTimeout(sv,5e3)}function uv(){bv(),Gu("chat_container")}function _v(){Ou("chat_container")}function fv(){return Uu("chat_container")}function mv(){for(var e=rh=0;e<pv();e++){if(lh[e].id===Xm){rh=e;break}-1!==lh[e].id.indexOf(Xm)&&(rh=e)}}function hv(){1===pv()?(document.getElementById("quality_arrow_up").style.opacity="0",document.getElementById("quality_arrow_down").style.opacity="0"):rh?rh===pv()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(Xm=lh[rh].id).indexOf("source")?Vu("quality_name",Xm.replace("source",ge)+lh[rh].band):Vu("quality_name",Xm+lh[rh].band)}function pv(){return lh.length}function vv(e){Nm.style.height=ep[qm-1].containerHeight+"%",document.getElementById("play_chat_dialog").style.marginTop=ep[qm-1].dialogTop+"%",bv(),Ql(),e&&wv(Nn+ep[qm-1].percentage),window.setTimeout(function(){nr&&(nr.scrollTop=nr.scrollHeight)},500),xf("ChatSizeValue",qm)}function gv(e){Nm.style.backgroundColor="rgba(0, 0, 0, "+Hm+")",e&&wv(Fn+(100*Hm).toFixed(0)+"%")}function yv(e){Vm=e?Kh[Dm=Vm]:$h[Vm][Dm]}function bv(){var e=4===qm;Vm<0?Vm=e?2:7:(e?2:7)<Vm&&(Vm=0),Nm.style.top=(e?.2:Zh[Vm].top+Zh[Vm].sizeOffset[qm-1])+"%",Nm.style.left=Zh[Vm+(e?2:0)].left+"%",xf("ChatPositionsValue",Vm)}function wv(e){window.clearTimeout(wh),Vu("play_chat_dialog_text",e),Gu("play_chat_dialog"),wh=window.setTimeout(kv,1e3)}function kv(){Ou("play_chat_dialog")}function Av(e){Op()?(nv(),Au&&Android.play(!0),Fu("pause_button",'<i class="strokedbig icon-pause" style="color: #FFFFFF; font-size: 180%;"></i>'),1===e?(ov()&&sv(),window.clearInterval(Ch),Ch=window.setInterval(Pp,jh)):2===e?(ov()&&vy(),window.clearInterval(kg),kg=window.setInterval(_y,jh)):3===e&&(ov()&&Cm(),window.clearInterval(Vf),Vf=window.setInterval(bm,jh))):(window.clearInterval(Ch),window.clearInterval(kg),window.clearInterval(Vf),Fu("pause_button",'<i class="strokedbig icon-play-1" style="color: #FFFFFF; font-size: 180%;"></i>'),Au&&Android.play(!1),av())}function Cv(){Mv(),Ph=1,Ev()}function Ev(){Ru("scene2_pannel_"+Ph,"playbotton_focus")}function Mv(){Nu("scene2_pannel_"+Ph,"playbotton_focus")}function Iv(){sg=nh=-1,nm=-1,_v(),sv(),Cm(),vy(),Lh||Yp(),jp(),Kp(),Tv()}function Sv(){Gu("dialog_end_stream")}function xv(){Ou("dialog_end_stream"),Gv(),Lv()}function Pv(){return Uu("dialog_end_stream")}function Lv(){Bv(),Uh=0,Tv()}function Tv(){Ru("dialog_end_"+Uh,"dialog_end_icons_focus")}function Bv(){Nu("dialog_end_"+Uh,"dialog_end_icons_focus")}function Ov(e){1===e?Fh=Bc.Play_selectedChannelDisplayname+" "+_:2===e?Fh=Bc.Main_selectedChannelDisplayname+$t:3===e&&(Fh=Bc.Main_selectedChannelDisplayname+Gt),Fu("dialog_end_stream_text",Fh+S+da+tn+Rh+"..."),Pv()?(sg=nh=th,nm=am,-1===--Rh?(Fu("dialog_end_stream_text",Fh+S+da+tn+"0..."),Kp(),_v(),1===e?Vp():2===e?my():3===e&&km()):Nh=window.setTimeout(function(){Ov(e)},1e3)):Nh=window.setTimeout(function(){Ov(e)},50)}function Gv(){window.clearTimeout(Nh),Fu("dialog_end_stream_text",Fh+S+da+nn)}function Uv(e){var t=!0;Uh?1===Uh?Bc.Play_isHost?(Bc.Play_DisplaynameHost=Bc.Play_selectedChannelDisplayname+ne,Bc.Play_selectedChannel=Jh.target_login,Bc.Play_selectedChannelDisplayname=Jh.target_display_name,Bc.Play_DisplaynameHost=Bc.Play_DisplaynameHost+Bc.Play_selectedChannelDisplayname,Dp(),document.body.addEventListener("keydown",$v,!1),Bc.Play_selectedChannel_id=Jh.target_id,sf(sp)):Tm():2===Uh?Nv(e):3===Uh&&Vv(e):2===e?_g.length?(Cg=!(Dg=!0),cy(),nv(),cr=Bg=0,gr()):(t=!1,Wp(ea),window.setTimeout(function(){Yp()},2e3)):3===e&&(Kf.length?(sm=!(em=!0),vm(),nv(),im?(Bg=0,cr=al,gr()):Wr()):(t=!1,Wp(ea),window.setTimeout(function(){Yp()},2e3))),1!==Uh&&3===Uh&&""===Bc.Play_gameSelected&&(t=!1),t&&xv()}function Rv(e){e?1===e?(Bv(),Uh=2,Tv(),document.getElementById("dialog_end_0").style.display="none",document.getElementById("dialog_end_1").style.display="none"):2===e?(Lv(),document.getElementById("dialog_end_0").style.display="inline-block",document.getElementById("dialog_end_1").style.display="none"):3===e&&(Lv(),document.getElementById("dialog_end_0").style.display="inline-block",document.getElementById("dialog_end_1").style.display="inline-block",Vu("dialog_end_vod_text",im?sn:dn)):(Bv(),Uh=1,Tv(),document.getElementById("dialog_end_0").style.display="none",document.getElementById("dialog_end_1").style.display="inline-block",Vu("dialog_end_vod_text",un))}function Nv(e){Bc.Main_BeforeChannelisSet||Bc.Main_Go===wc||Bc.Main_Go===kc||(Bc.Main_BeforeChannel=Bc.Main_BeforeAgameisSet&&Bc.Main_Go!==fc?Bc.Main_BeforeAgame:Bc.Main_Go,Bc.Main_BeforeChannelisSet=!0),y_(Bc.Main_Go),Bc.Main_Go=bc,1===e?(Bc.Main_selectedChannel_id=Bc.Play_selectedChannel_id,Bc.Main_selectedChannel=Bc.Play_selectedChannel,Bc.Main_selectedChannelDisplayname=Bc.Play_selectedChannelDisplayname,js=Xa,_v(),Vp()):2===e?my():3===e&&km()}function Fv(e){Bc.Search_isSearching||(Bc.Main_BeforeSearch=Bc.Main_Go),y_(Bc.Main_Go),Bc.Main_Go=vc,1===e?(_v(),Vp()):2===e?my():3===e&&km()}function Vv(e){if(""===Bc.Play_gameSelected)return Lh=!0,Wp(Qn),void window.setTimeout(function(){Lh=!1,Yp()},2e3);Bc.Main_BeforeAgameisSet||Bc.Main_Go===Sc||Bc.Main_Go===xc||(Bc.Main_BeforeAgame=Bc.Main_BeforeChannelisSet&&Bc.Main_Go!==bc&&Bc.Main_Go!==wc&&Bc.Main_Go!==kc?Bc.Main_BeforeChannel:Bc.Main_Go,Bc.Main_BeforeAgameisSet=!0),y_(Bc.Main_Go),Bc.Main_Go=fc,Po=!1,Bc.Main_gameSelected=Bc.Play_gameSelected,_v(),1===e?Vp():2===e?my():3===e&&km()}function Dv(){oo()&&Hi[Bc.Users_Position].access_token?Xa?bi():vi():(Wp(Bt),Lh=!0,window.setTimeout(function(){Yp(),Lh=!1},2e3))}function Jv(e){Ph?1===Ph?(1===e?(Ip(),sv()):2===e?(Cg=!1,cy(),vy()):3===e&&(sm=!1,vm(),Cm()),nv()):2===Ph?(Ya=1===e?Bc.Play_selectedChannel_id:Bc.Main_selectedChannel_id,Dv(),rv(),1===e?cv():2===e?ky():3===e&&Pm()):3===Ph?Vv(e):4===Ph?Nv(e):5===Ph&&Fv(e):Tm()}function Play_PannelEndStart(e){1===e?(window.clearInterval(Ch),qv()):Hv(e)}function Hv(e){window.clearInterval(Ch),window.clearInterval(Vf),window.clearInterval(kg),Iv(),Rh=3,Ov(e),Sv(e)}function qv(){Xp(),nh=-1,hh=0,Oh=2e3,Kl(),window.clearInterval(ah),window.clearInterval(Ch),""!==Bc.Play_selectedChannel_id?Wv():zv()}function zv(){Nf("https://api.twitch.tv/kraken/users?login="+Bc.Play_selectedChannel,Oh,2,null,Xv,jv,!1)}function Xv(e){void 0!==(e=JSON.parse(e).users[0])?(Bc.Play_selectedChannel_id=e._id,hh=0,Oh=2e3,Wv()):Hv(1)}function jv(){++hh<ph?(Oh+=250,zv()):Tp(!1,1)}function Wv(){Gf("https://tmi.twitch.tv/hosts?include_logins=1&host="+encodeURIComponent(Bc.Play_selectedChannel_id),Oh,1,null,Qv,Yv,!0)}function Yv(){++hh<ph?(Oh+=250,Wv()):Tp(!1,1)}function Qv(e){void 0!==(Jh=JSON.parse(e).hosts[0]).target_login?(Lh=!0,Wp(Bc.Play_selectedChannelDisplayname+cn+ne+Jh.target_display_name),window.setTimeout(function(){Lh=!1},4e3),Rv(0),Bc.Play_isHost=!0):(Rv(1),Bc.Play_isHost=!1),Hv(1)}function Zv(){Xa?(Fu("fallow_heart",'<i class="icon-heart strokicon" style="color: #00b300; font-size: 210%;"></i>'),Fu("fallow_text",wa+Mt)):(Fu("fallow_heart",'<i class="icon-heart-o strokicon" style="color: #FFFFFF; font-size: 210%;"></i>'),Fu("fallow_text",wa+It))}function Kv(e){Pv()&&!$p()?(Gv(),Zp()):fE()?hE():ov()&&!Ny()?e?vy():sv():Ny()&&$p()?(Ry(),hy(!1),Jp()):$p()?(Kp(),_v(),e?my():Vp()):(Qp()&&Yp(),Zp())}function $v(e){if(nh!==th)switch(e.keyCode){case Ua:$p()?(Kp(),_v(),Vp()):Zp()}else switch(e.keyCode){case La:fE()?Zm&&!NC&&(EE(),Zm--,bE()):Wm&&!ov()&&fv()?(Vm++,bv()):ov()?(Mv(),5<++Ph&&(Ph=1),Ev(),rv(),cv()):Pv()?(Gv(),Bv(),--Uh<(Bc.Play_isHost?1:2)&&(Uh=3),Tv()):dv();break;case Ba:fE()?Zm<HC-1&&!NC&&(EE(),Zm++,bE()):!Wm||ov()||Pv()?ov()?(Mv(),--Ph<1&&(Ph=5),Ev(),rv(),cv()):Pv()?(Gv(),Bv(),3<++Uh&&(Uh=Bc.Play_isHost?1:2),Tv()):dv():xf("ChatEnable",(ch=fv()||Pv()?(_v(),!1):(uv(),!0))?"true":"false");break;case Ta:ov()?(0<rh&&1===Ph&&(rh--,hv()),rv(),cv()):!fE()&&oo()?mE():Pv()?Gv():fE()&&yE();break;case Oa:ov()?(rh<pv()-1&&1===Ph&&(rh++,hv()),rv(),cv()):fE()?hE():Wm&&fv()?(4<++qm?yv(!(qm=1)):4===qm&&yv(!0),vv(!0)):Pv()?Gv():dv();break;case Ga:if(Pv())Uv(1);else if(ov())Jv(1);else if(fE()){var t=document.getElementById(KC[8]+Zm);null===t?pE():Bc.Play_selectedChannel!==JSON.parse(t.getAttribute(vu))[0]?(Dp(),Q_(Zm,KC,$v)):pE()}else dv();break;case Ua:Kv(!1);break;case xa:case Sa:case Pa:Pv()||Av(1)}}var eg,tg,ng,ag,ig="source",og=ig,sg=0,dg=null,lg=0,rg=0,cg=0,ug="",_g=[],fg=0,mg=0,hg=5,pg=!1,vg=2e3,gg=0,yg=5,bg=1e4,wg=0,kg=null,Ag=0,Cg=!1,Eg=0,Mg=!1,Ig=!1,Sg=0,xg=!1,Pg=0,Lg=2e3,Tg=!1,Bg=0,Og={},Gg=0,Ug=0,Rg=!0,Ng=0,Fg=0,Vg=0,Dg=!1,Jg=[0,10,30,60,120,300,600,900,1200,1800],Hg=!1;function qg(){Xp(),xv(),Bg=0,Vu("stream_live_time",""),Vu("stream_watching_time",""),Vu("progress_bar_current_time",Rp(0)),ur=O+".",Fu("pause_button",'<i class="strokedbig icon-pause" style="color: #FFFFFF; font-size: 180%;"></i>'),Ou("progress_pause_holder"),Fg=0,xy((Qh=Jg)[1]),sg=$m,im=!0,al=0,Bc.Play_isHost=!1,Bc.vodOffset?(Xg(),Qg()):(Rg&&""!==Bc.Main_selectedChannel_id?(pp(document.getElementById("stream_info_icon"),Bc.Main_selectedChannelLogo),Og["#"+Bc.ChannelVod_vodId]||gr(),oo()?(Ya=Bc.Main_selectedChannel_id,Wa=!0,_i()):zp()):(Xg(),jg()),Vu("stream_info_name",Bc.Main_selectedChannelDisplayname),Fu("stream_info_title",""),Fu("stream_info_game",el+" ["+Wd.toUpperCase()+"]"),Vu("stream_live_icon",tl),Du("stream_info_game")),Og["#"+Bc.ChannelVod_vodId]&&!Bc.vodOffset?(jp(),Uy()):zg()}function zg(){window.setTimeout(function(){Gu("scene_channel_panel_bottom"),Fu("pause_button",'<i class="strokedbig icon-pause" style="color: #FFFFFF; font-size: 180%;"></i>'),Gu("progress_pause_holder")},1e3),Vu("progress_bar_duration",Rp(zd)),Bc.Play_WasPlaying=2,v_(),ag=window.setInterval(ty,6e4),T_(Yh),Ag=Eg=0,window.clearInterval(kg),Lh=Tg=Mg=!(Jm=-13),xg=!1,cg=rg=lg=Pg=0,document.addEventListener("visibilitychange",$g,!1),Hg=!(pg=!(Ig=!1)),ny(),Rv(2),document.body.removeEventListener("keyup",J_)}function Xg(){gg=0,yg=5,bg=1e4}function jg(){Nf("https://api.twitch.tv/kraken/users?login="+encodeURIComponent(Bc.Main_selectedChannel),bg,2,null,Wg,Yg,!1)}function Wg(e){void 0!==(e=JSON.parse(e).users[0])?(Bc.Main_selectedChannelLogo=e.logo,Bc.Main_selectedChannel_id=e._id,Og["#"+Bc.ChannelVod_vodId]||gr(),oo()?(Ya=Bc.Main_selectedChannel_id,Wa=!0,_i()):zp()):(Bc.Main_selectedChannelLogo=Ea,Bc.Main_selectedChannel_id=""),pp(document.getElementById("stream_info_icon"),Bc.Main_selectedChannelLogo)}function Yg(){++gg<yg?(bg+=500,window.setTimeout(function(){pg&&jg()},750)):tg=window.setTimeout(jg,2500)}function Qg(){Nf("https://api.twitch.tv/kraken/videos/"+Bc.ChannelVod_vodId,bg,2,null,Kg,Zg,!1)}function Zg(){++gg<yg&&(bg+=2e3,Qg())}function Kg(e){e=JSON.parse(e),Fu("stream_info_title",wS.parse(e.title,!1,!0)),Fu("stream_info_game",Qt+v+e.game+" "+l_(e.views)+V+" ["+e.channel.broadcaster_language.toUpperCase()+"]"),Vu("stream_live_icon",N+A_(e.created_at)),Vu("progress_bar_duration",Rp(zd=parseInt(e.length))),Bg=1e3*Bc.vodOffset,My(Bc.vodOffset,zd,!0),Bc.Main_selectedChannelDisplayname=e.channel.display_name,Vu("stream_info_name",Bc.Main_selectedChannelDisplayname),Bc.Main_selectedChannelLogo=e.channel.logo,pp(document.getElementById("stream_info_icon"),Bc.Main_selectedChannelLogo),Bc.Main_selectedChannel_id=e.channel._id,Bc.Main_selectedChannel=e.channel.name,oo()?(Wa=!0,Ya=Bc.Main_selectedChannel_id,_i()):zp(),T_(e.increment_view_count_url)}function $g(){document.hidden?Pv()?(Kp(),_v(),my()):(ty(),Ty(),Jr(),Hp(),window.clearInterval(kg),window.clearInterval(ag)):(pg=!0,nv(),pg&&(Xp(),yh=yh=0,navigator.onLine?uy():Rm=window.setInterval(ey,100),Dr(pr),Rv(2),ag=window.setInterval(ty,6e4)))}function ey(){(navigator.onLine||200<yh)&&(window.clearInterval(Rm),sg=$m,ny()),yh++}function ty(){Bc.vodOffset=Au?parseInt(Android.gettime()/1e3):0,v_(),Bc.vodOffset=0}function ny(){mg=0,Lg=2e3,ay()}function ay(){Gf(sg===$m?"https://api.twitch.tv/api/vods/"+Bc.ChannelVod_vodId+"/access_token"+(oo()&&Hi[Bc.Users_Position].access_token?"?oauth_token="+Hi[Bc.Users_Position].access_token:""):"https://usher.ttvnw.net/vod/"+Bc.ChannelVod_vodId+".m3u8?&nauth="+encodeURIComponent(lg.token)+"&nauthsig="+lg.sig+"&allow_source=true&allow_audi_only=true&allow_spectre=false",Oh,1,null,sy,iy,!0)}function iy(){if(pg){var e;if(lg.token&&(e=JSON.parse(lg.token)),e&&0!==JSON.parse(lg.token).chansub.restricted_bitrates.length)return void dy();++mg<hg?(Lg+=250,ay()):sc?oy():(jp(),Hv(2))}}function oy(){_g=[{id:"1080p60(Source)",band:"(10.00Mbps)",url:"http://fake"}],sg=th,pg&&cy()}function sy(e){sg===$m?(lg=JSON.parse(e),sg=eh,ny()):sg===eh&&(_g=Cp(rg=e),sg=th,pg&&cy())}function dy(){oo()&&Hi[Bc.Users_Position].access_token?(Ya=Bc.Main_selectedChannel_id,Ai()):(jp(),Wp(x+St),window.setTimeout(function(){pg&&my()},4e3))}function ly(){jp(),Wp(x+xt),window.setTimeout(function(){pg&&my()},4e3)}function ry(){Hg?(jp(),Wp(x+Pt),window.setTimeout(function(){pg&&my()},4e3)):(Hg=!0,sg=$m,ny())}function cy(){window.clearInterval(kg),ug=_g[fg=0].url,-1!==ig.indexOf("source")&&(ig="source");for(var e=0;e<Ey();e++){if(_g[e].id===ig){ug=_g[fg=e].url;break}-1!==_g[e].id.indexOf(ig)&&(ug=_g[fg=e].url)}og=ig,uy()}function uy(){dc&&console.log("PlayVod_onPlayer:",'\n\n"'+ug+'"\n'),Bc.vodOffset?(cr=Bc.vodOffset,gr(),Au&&pg&&Android.startVideoOffset(ug,2,Dg?-1:1e3*Bc.vodOffset),Bc.vodOffset=0):Au&&pg&&Android.startVideoOffset(ug,2,Dg?-1:Android.gettime()),Dg=!1,ch&&!fv()&&uv(),Au&&(Ag=0,Xh=3+vg/1e3,Cg=!1,window.clearInterval(kg),kg=window.setInterval(_y,jh))}function _y(){Au&&(Bg=Android.gettime()),pg&&wg===Bg&&!Op()?++Ag>Xh&&(Cg&&Mg&&fg<Ey()-1?fg++:!Cg&&Mg&&Eg++,navigator.onLine?1<Eg?Bp(Eg,2,fy):(Cy(),cy(),Mg=!0):Tp(!1,2)):(Ag=Eg=0,Mg=!1),wg=Bg}function fy(e){if(!e){if(!(fg<Ey()-1))return void Tp(!1,2);fg++}Eg=0,Cy(),cy(),Mg=!0}function my(){pg&&(_g=[],hy(!0),Jp())}function hy(e){e&&Ty(),Au&&Android.stopVideo(2),pg=!1,window.clearInterval(ag),window.clearInterval(tg),Bc.Play_WasPlaying=0,Rg=!0,Hr(),hE(),Hp(),py()}function py(){document.body.removeEventListener("keydown",Hy),document.removeEventListener("visibilitychange",$g),Bc.vodOffset=0,window.clearInterval(dg),window.clearInterval(kg),zd=0}function vy(){xg=!1,Sg=Pg=0,rv(),document.getElementById("scene_channel_panel").style.opacity="0",Au&&My(Android.gettime()/1e3,zd,!0),Fu("progress_bar_jump_to",wa),document.getElementById("progress_bar_steps").style.display="none",ig=og,window.clearInterval(ng)}function gy(e){yy(),Gp(),Kp(),ng=window.setInterval(yy,1e3),e&&(by(),Ay(),Cy(),ky()),document.getElementById("scene_channel_panel").style.opacity="1"}function yy(){Au&&My(Android.gettime()/1e3,zd,!xg)}function by(){Ug=Op()?1:0,wy()}function wy(){Ug?1===Ug?(Ru("pause_button","progress_bar_div_focus"),Nu("progress_bar_div","progress_bar_div_focus"),Mv(),Fu("progress_bar_jump_to",wa),document.getElementById("progress_bar_steps").style.display="none"):2===Ug&&(Nu("pause_button","progress_bar_div_focus"),Nu("progress_bar_div","progress_bar_div_focus"),Ev(),Fu("progress_bar_jump_to",wa),document.getElementById("progress_bar_steps").style.display="none"):(Nu("pause_button","progress_bar_div_focus"),Ru("progress_bar_div","progress_bar_div_focus"),Mv(),Sg&&(Py(),document.getElementById("progress_bar_steps").style.display="inline-block"))}function ky(){zm=window.setTimeout(vy,5e3+Ng)}function Ay(){for(var e=fg=0;e<Ey();e++){if(_g[e].id===ig){fg=e;break}-1!==_g[e].id.indexOf(ig)&&(fg=e)}}function Cy(){1===Ey()?(document.getElementById("quality_arrow_up").style.opacity="0",document.getElementById("quality_arrow_down").style.opacity="0"):fg?fg===Ey()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(ig=_g[fg].id).indexOf("source")?Vu("quality_name",ig.replace("source",ge)+_g[fg].band):Vu("quality_name",ig+_g[fg].band)}function Ey(){return _g.length}function My(e,t,n){Vu("progress_bar_current_time",Rp(e)),n&&(Fm.style.width=e/t*100+"%")}function Iy(){nv(),Pv()||(sm=Cg=!1,pg?(Au&&Android.startVideoOffset(ug,2,0<Vg?1e3*Vg:-1),cr=Vg):(cr=al,Au&&Android.startVideoOffset($f,3,0<Vg?1e3*Vg:-1)),im&&gr()),Fu("progress_bar_jump_to",wa),document.getElementById("progress_bar_steps").style.display="none",xg=!1,Vg=Sg=Pg=0}function Sy(){Fg=Pg=0,xy(Qh[1])}function xy(e){Sg&&!Ug&&(document.getElementById("progress_bar_steps").style.display="inline-block"),60<Math.abs(e)?Vu("progress_bar_steps",Dn+e/60+Hn):Vu("progress_bar_steps",e?Dn+e+Jn:Dn+Qh[1]+Jn)}function Py(){Vu("progress_bar_jump_to",ue+" ("+(Sg<0?"-":"")+Rp(Math.abs(Sg))+")"+_e+Rp(Vg))}function Ly(e,t){var n=Au?Android.gettime()/1e3:0;window.clearTimeout(eg),xg=!0,Pg<Qh.length-1&&Fg++%6==0&&Pg++,Sg+=Qh[Pg]*e,Vg=n+Sg,pg&&(Vg=10*Math.floor(Vg/10)),t<Vg?(Sg=t-n-Qh[1],Vg=n+Sg,Fg=Pg=0):Vg<0&&(Sg=0-n,Vg=Fg=Pg=0),Py(),Fm.style.width=Vg/t*100+"%",xy(Qh[Pg]*e),eg=window.setTimeout(Sy,1e3)}function Ty(){var e=Au?parseInt(Android.gettime()/1e3):0,t="#"+Bc.ChannelVod_vodId;300<e&&e<zd-300?(Og[t]&&delete Og[t],Og[t]=e,xf("PlayVod_VodIds",JSON.stringify(Og))):zd-300<e&&Og[t]&&(delete Og[t],xf("PlayVod_VodIds",JSON.stringify(Og)))}function By(){Og=Lf("PlayVod_VodIds",{});var e=Oy();250<e&&Gy(e-250)}function Oy(){var e=0;for(var t in Og)Og.hasOwnProperty(t)&&e++;return e}function Gy(e){var t=0;for(var n in Og){if(!(t<e))break;delete Og[n],t++}xf("PlayVod_VodIds",JSON.stringify(Og))}function Uy(){Ou("scene_channel_panel_bottom"),gy(!1),Fu("dialog_vod_saved_text",kn+Np(1e3*Og["#"+Bc.ChannelVod_vodId])),Gu("dialog_vod_start")}function Ry(){vy(),Ou("dialog_vod_start"),Fy(),window.setTimeout(function(){Gu("scene_channel_panel_bottom")},1e3)}function Ny(){return Uu("dialog_vod_start")}function Fy(){Dy(),Gg=0,Vy()}function Vy(){Ru("dialog_vod_"+Gg,"dialog_end_icons_focus")}function Dy(){Nu("dialog_vod_"+Gg,"dialog_end_icons_focus")}function Jy(e){Ry(),e?(delete Og["#"+Bc.ChannelVod_vodId],Bc.vodOffset=0,qg()):(Bc.vodOffset=Og["#"+Bc.ChannelVod_vodId],Bg=1e3*Bc.vodOffset,My(Bc.vodOffset,zd,!0),zg())}function Hy(e){if(sg===th||Ny())switch(e.keyCode){case La:fE()?Zm&&!NC&&(EE(),Zm--,bE()):Wm&&!ov()&&fv()?(Vm++,bv()):ov()&&!Ny()?(rv(),Ug?(Mv(),5<++Ph&&(Ph=1),Ev()):(Ly(-1,zd),Ng=2500),ky()):Ny()?(Dy(),Gg?Gg--:Gg++,Vy()):Pv()?(Gv(),Bv(),--Uh<0&&(Uh=3),1===Uh&&(Uh=0),Tv()):Ny()||gy(!0);break;case Ba:fE()?Zm<HC-1&&!NC&&(EE(),Zm++,bE()):!Wm||ov()||Pv()?ov()&&!Ny()?(rv(),Ug?(Mv(),--Ph<1&&(Ph=5),Ev()):(Ly(1,zd),Ng=2500),ky()):Ny()?(Dy(),Gg?Gg--:Gg++,Vy()):Pv()?(Gv(),Bv(),3<++Uh&&(Uh=0),1===Uh&&(Uh=2),Tv()):Ny()||gy(!0):xf("ChatEnable",(ch=fv()||Pv()?(_v(),!1):(uv(),!0))?"true":"false");break;case Ta:Pv()?Gv():ov()&&!Ny()?(2===Ug&&1!==Ph?(Ug--,wy()):1===Ug?(Ug--,wy()):0<fg&&1===Ph&&(fg--,Cy()),rv(),ky()):fE()?fE()?yE():Ny()||gy(!0):mE();break;case Oa:Pv()?Gv():ov()&&!Ny()?(Ug?1===Ug?(Ug++,wy()):fg<Ey()-1&&1===Ph&&(fg++,Cy()):(Ug++,wy()),rv(),ky()):fE()?hE():Wm&&fv()?(4<++qm?yv(!(qm=1)):4===qm&&yv(!0),vv(!0)):Ny()||gy(!0);break;case Ga:Ny()?Jy(Gg):Pv()?Uv(2):ov()?Ug?1===Ug?(Bc.Play_ChatForceDisable&&(Op()?Dr(pr):Jr()),Pv()||Av(2)):Jv(2):(rv(),ky(),Sg&&Iy()):fE()?(hy(!0),Q_(Zm,KC,$v)):gy(!0);break;case Ua:Kv(!0);break;case xa:case Sa:case Pa:Bc.Play_ChatForceDisable&&(Op()?Dr(pr):Jr()),Pv()||Av(2)}else switch(e.keyCode){case Ua:$p()?(Kp(),my()):Zp()}}var qy={};function zy(){console.log("InitScreens place holder")}function Xy(){Tb(),Bb(),Gb(),Ub(),Rb(),Fb(),Vb()}function jy(e){return[e+"_thumbdiv",e+"_img",e+"_infodiv",e+"_title",e+"_createdon",e+"_game",e+"_viwers",e+"_duration",e+"_cell","cpempty_",e+"_scroll",e+"_lang"]}function Wy(){for(var e,t={},n=0;n<arguments.length;n+=1){var a=arguments[n],i=Object.keys(a);for(e=0;e<i.length;e+=1)t[i[e]]=a[i[e]]}return t}function Yy(){jc=-1,Bc.Main_Go=qy.screen,qy.label_init(),document.body.addEventListener("keydown",hb,!1),Gu(qy.ids[10]),qy.status?(P_(qy.posY),lb(),v_()):Zy()}function Qy(){jc=0,qy.label_exit(),document.body.removeEventListener("keydown",hb),Ou(qy.ids[10]),e_()}function Zy(){Ju(),M_(qy.table),e_(),qy.cursor=null,qy.status=!1,qy.row=document.createElement("div"),qy.MaxOffset=0,qy.TopRowCreated=!1,qy.offset=0,qy.idObject={},qy.FirstLoad=!0,qy.itemsCount=0,qy.posX=0,qy.posY=0,qy.row_id=0,qy.coloumn_id=0,qy.data=null,qy.data_cursor=0,qy.dataEnded=!1,Yu(),Ky(),$y()}function Ky(){qy.loadingData=!0,qy.loadingDataTry=0,qy.loadingDataTimeout=3500}function $y(){qy.set_url(),Au&&!qy.itemsCount?Rf(qy.url,qy.loadingDataTimeout,2,null,tb,eb):Nf(qy.url,qy.loadingDataTimeout,2,null,tb,eb,!1)}function eb(){qy.loadingDataTry++,qy.loadingDataTry<qy.loadingDataTryMax?(qy.loadingDataTimeout+=500,$y()):(qy.loadingData=!1,qy.itemsCount?qy.dataEnded=!0:(qy.FirstLoad=!1,Hu(),$u(P),qy.key_exit()))}function tb(e){qy.concatenate(e)}function nb(){var e=qy.data.length-qy.data_cursor;e>qy.ItemsLimit?e=qy.ItemsLimit:qy.loadingData||(qy.dataEnded=!0);var t=document.getElementById(qy.table);if(qy.HasSwitches&&!qy.TopRowCreated){qy.TopRowCreated=!0,qy.row=document.createElement("div");var n='<i class="icon-history stream_channel_fallow_icon"></i>'+wa+wa+m;(Jc=document.createElement("div")).setAttribute("id",qy.ids[8]+"y_0"),Jc.className="stream_cell_period",Jc.innerHTML='<div id="'+qy.ids[0]+'y_0" class="stream_thumbnail_channel_vod" ><div id="'+qy.ids[3]+'y_0" class="stream_channel_fallow_game">'+n+"</div></div>",qy.row.appendChild(Jc),t.appendChild(qy.row)}if(e){var a=Math.ceil(e/qy.ColoumnsCount),i=qy.row_id+a;for(qy.row_id;qy.row_id<i;){for(qy.coloumn_id===qy.ColoumnsCount&&(qy.row=document.createElement("div"),qy.coloumn_id=0),qy.coloumn_id;qy.coloumn_id<qy.ColoumnsCount&&qy.data_cursor<qy.data.length;qy.data_cursor++)qy.data[qy.data_cursor]&&qy.addCell(qy.data[qy.data_cursor]);if(t.appendChild(qy.row),qy.coloumn_id===qy.ColoumnsCount)qy.row_id++;else if(qy.data_cursor>=qy.data.length)break}}qy.emptyContent=!e&&!qy.status,db()}function ab(e,t,n,a){var i=e+"_"+t;return x_(n[1]+i,a),e<qy.ColoumnsCount&&T_(a),(Jc=document.createElement("div")).style.cssText=qy.ThumbCssText,i}function ib(e,t,n,a,i,o){var s=ab(e,t,n,a);return Jc.setAttribute("id",n[5]+s),Jc.setAttribute(vu,i),Jc.innerHTML='<div id="'+n[0]+s+'" class="stream_thumbnail_game"><div><img id="'+n[1]+s+'" class="stream_img"></div><div id="'+n[2]+s+'" class="stream_text2"><div id="<div id="'+n[3]+s+'" class="stream_channel">'+i+"</div>"+(""!==o?'<div id="'+n[4]+s+'"class="stream_info" style="width: 100%; display: inline-block;">'+o+"</div>":"")+"</div></div>",Jc}function ob(e,t,n,a,i,o,s,d,l,r,c,u,_,f,m,h){var p=ab(e,t,n,a);return Jc.setAttribute("id",n[8]+p),Jc.setAttribute(vu,JSON.stringify([c,r,s[2],u,i,_,f,m,h,s[0],l,s[1]+s[2]])),Jc.innerHTML='<div id="'+n[0]+p+'" class="stream_thumbnail_clip"><div><img id="'+n[1]+p+'" class="stream_img"></div><div id="'+n[2]+p+'" class="stream_text2"><div style="line-height: 14px;"><div id="'+n[3]+p+'" class="stream_channel" style="width: 72%; display: inline-block; font-size: 85%;">'+i+'</div><div id="'+n[7]+p+'"class="stream_info" style="width:27%; float: right; text-align: right; display: inline-block;">'+l+'</div></div><div id="'+n[11]+p+'"class="stream_info">'+s[0]+da+s[1]+s[2]+'</div><div id="'+n[6]+p+'"class="stream_info">'+d+V+'</div><div  style="line-height: 12px;"><div id="'+n[4]+p+'"class="stream_info" style="width: 59%; display: inline-block;">'+o[0]+o[1]+'</div><div id="'+n[5]+p+'"class="stream_info" style="width: 39%; display: inline-block; float: right; text-align: right;">'+F+Rp(r)+"</div></div></div></div>",Jc}function sb(e,t,n,a,i){var o=ab(e,t,a,i[0]);return Jc.setAttribute("id",a[8]+o),Jc.setAttribute(vu,JSON.stringify(n)),Jc.innerHTML='<div id="'+a[0]+o+'" class="stream_thumbnail_clip"><div><img id="'+a[1]+o+'" class="stream_img"></div><div id="'+a[2]+o+'" class="stream_text2"><div style="line-height: 14px;"><div id="'+a[3]+o+'" class="stream_channel" style="width: 66%; display: inline-block;">'+i[1]+'</div><div id="'+a[7]+o+'"class="stream_info" style="width:33%; float: right; text-align: right; display: inline-block;">'+i[5]+'</div></div><div id="'+a[4]+o+'"class="stream_info">'+wS.parse(i[2])+'</div><div id="'+a[5]+o+'"class="stream_info">'+v+i[3]+'</div><div id="'+a[6]+o+'"class="stream_info">'+i[4]+"</div></div></div>",Jc}function db(){qy.status?(I_(qy.img_404),Qu(qy.posX,qy.posY,qy.ColoumnsCount,qy.itemsCount)):(qy.emptyContent?$u(qy.empty_str()):(qy.status=!0,I_(qy.img_404)),Wc&&qy.status&&Ok.restor_playback.defaultValue?Bc.Play_WasPlaying?(y_(Bc.Main_Go),Bc.Main_Go=Tc,Bc.vodOffset||(Bc.vodOffset=1),zd=Bc.vodOffset+1,Wp(qn),1===Bc.Play_WasPlaying?Z_():ef(),h_(!0),window.setTimeout(function(){Lh||Yp()},2e3)):1!==Tc?(y_(Bc.Main_Go),Bc.Main_Go=Tc,nf(qy.posY+"_"+qy.posX,qy.ids),h_()):(Bc.Never_run&&o_(),Bc.Never_run=!1,lb(),v_()):(lb(),v_()),Wc=!1,qy.FirstLoad=!1,Hu())}function lb(){if(qy.emptyContent){if(!qy.HasSwitches)return void qy.key_exit();qy.posY=-1}qy.posY<0?cb():(qy.addFocus(qy.posY,qy.posX,qy.ids,qy.ColoumnsCount,qy.itemsCount),2<qy.posY&&qy.data_cursor+Ab>qy.data.length&&!qy.dataEnded&&!qy.loadingData?(Ky(),$y()):qy.posY+qy.ItemsReloadLimit>qy.itemsCount/qy.ColoumnsCount&&qy.data_cursor<qy.data.length&&(S_(),sf(function(){qy.loadDataSuccess()})),Uc&&nf(qy.posY+"_"+qy.posX,qy.ids))}function rb(e,t){nf(qy.posY+"_"+qy.posX,qy.ids),qy.posY+=e,qy.posX=t,lb()}function cb(){Ru(qy.ids[0]+"y_0",pu)}function ub(){Nu(qy.ids[0]+"y_0",pu)}function _b(e){d_()?s_():a_()?n_():(e===qy.screen?Bc.Main_Go=cc:Bc.Main_Go=e,Qy())}function fb(e){if(!qy.HasSwitches||qy.posY||-1!==e||qy.emptyContent){if(qy.HasSwitches&&-1===qy.posY&&u_(0,qy.posX,qy.ids[0]))qy.posY=0,lb(),ub();else for(var t=0;t<qy.ColoumnsCount;t++)if(u_(qy.posY+e,qy.posX-t,qy.ids[0]))return void rb(e,qy.posX-t)}else nf(qy.posY+"_"+qy.posX,qy.ids),qy.posY=-1,cb()}function mb(e,t){u_(qy.posY,qy.posX+e,qy.ids[0])?rb(0,qy.posX+e):u_(qy.posY+e,t,qy.ids[0])&&rb(e,t)}function hb(e){if(!qy.FirstLoad&&!z_())switch(q_(),e.keyCode){case Ua:qy.key_exit();break;case La:mb(-1,qy.ColoumnsCount-1);break;case Ba:mb(1,0);break;case Ta:fb(-1);break;case Oa:fb(1);break;case xa:case Sa:case Pa:case Ga:qy.key_play()}}qy.FirstLoad=!1;var pb,vb,gb,yb,bb,wb,kb,Ab=100,Cb="",Eb="",Mb="",Ib="",Sb="",xb="",Pb={posX:0,posY:0,row_id:0,coloumn_id:0,dataEnded:!1,idObject:{},loadingData:!1,itemsCount:0,loadingDataTryMax:5,loadingDataTimeout:3500,MaxOffset:0,offset:0,status:!1,emptyContent:!1,itemsCountCheck:!1,FirstLoad:!1,row:0,data:null,data_cursor:0,loadDataSuccess:nb,set_ThumbSize:function(){this.ThumbCssText="width: "+this.ThumbSize+"%; display: inline-block; padding: 3px;"},key_exit:function(){d_()?s_():a_()?n_():(this.itemsCount&&nf(this.posY+"_"+this.posX,this.ids),Af(hb))}},Lb={ThumbSize:32.65,ItemsLimit:Kc,ItemsReloadLimit:eu,ColoumnsCount:$c,addFocus:j_,img_404:Ma,empty_str:function(){return L+Y},key_play:function(){Q_(this.posY+"_"+this.posX,this.ids,hb)}};function Tb(){(wb=Wy(wb=Wy({ids:jy("Live"),table:"stream_table_live",screen:cc,base_url:"https://api.twitch.tv/kraken/streams?limit="+Ab,set_url:function(){this.offset&&this.offset+Ab>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+"&offset="+this.offset+(""!==qc?"&broadcaster_language="+qc:"")},label_init:function(){Bc.Main_CenterLablesVectorPos=0,Ru("top_bar_live","icon_center_focus")},label_exit:function(){Nu("top_bar_live","icon_center_focus")},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.MaxOffset=t._total,this.data=this.data.concat(t.streams),this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadingData=!1}else this.data=JSON.parse(e),this.MaxOffset=this.data._total,this.data=this.data.streams,this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadDataSuccess(),this.loadingData=!1},addCell:function(e){this.idObject[e.channel._id]||(this.itemsCount++,this.idObject[e.channel._id]=1,this.row.appendChild(sb(this.row_id,this.coloumn_id,[e.channel.name,e.channel._id,e.channel.status],this.ids,[e.preview.template.replace("{width}x{height}",mu),c_(JSON.stringify(e.stream_type))+e.channel.display_name,e.channel.status,e.game,y+Fp(e.created_at)+" "+h+l_(e.viewers)+D,r_(e.video_height,e.average_fps,e.channel.broadcaster_language)])),this.coloumn_id++)}},Pb),Lb)).set_ThumbSize()}function Bb(){(kb=Wy(kb=Wy({ids:jy("Featured"),table:"stream_table_featured",screen:Pc,base_url:"https://api.twitch.tv/kraken/streams/featured?limit="+Ab,set_url:function(){this.url=this.base_url+"&offset="+this.offset+(oo()&&Hi[Bc.Users_Position].access_token?"&oauth_token="+Hi[Bc.Users_Position].access_token:"")},label_init:function(){Bc.Main_CenterLablesVectorPos=2,Ru("top_bar_featured","icon_center_focus")},label_exit:function(){Nu("top_bar_featured","icon_center_focus")},concatenate:function(e){this.data=JSON.parse(e),this.data=this.data.featured,this.dataEnded=!0,this.loadDataSuccess(),this.loadingData=!1},addCell:function(e){e=e.stream,this.idObject[e.channel._id]||(this.itemsCount++,this.idObject[e.channel._id]=1,this.row.appendChild(sb(this.row_id,this.coloumn_id,[e.channel.name,e.channel._id,e.channel.status],this.ids,[e.preview.template.replace("{width}x{height}",mu),c_(JSON.stringify(e.stream_type))+e.channel.display_name,e.channel.status,e.game,y+Fp(e.created_at)+" "+h+l_(e.viewers)+D,r_(e.video_height,e.average_fps,e.channel.broadcaster_language)])),this.coloumn_id++)}},Pb),Lb)).set_ThumbSize()}var Ob={ThumbSize:32.65,ItemsLimit:Kc,HasSwitches:!0,TopRowCreated:!1,ItemsReloadLimit:eu,ColoumnsCount:$c,addFocus:j_,cursor:null,period:["day","week","month","all"],img_404:Ma,empty_str:function(){return L+U},key_play:function(){-1===this.posY?this.loadingData||(this.periodPos++,4<this.periodPos&&(this.periodPos=1),this.SetPeriod(),Zy()):K_(this.posY+"_"+this.posX,this.ids,hb)},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.cursor=t._cursor,""===this.cursor&&(this.dataEnded=!0),this.data=this.data.concat(t.clips),this.loadingData=!1}else this.data=JSON.parse(e),this.cursor=this.data._cursor,""===this.cursor&&(this.dataEnded=!0),this.data=this.data.clips,this.loadDataSuccess(),this.loadingData=!1},addCell:function(e){this.idObject[e.tracking_id]||(this.itemsCount++,this.idObject[e.tracking_id]=1,this.row.appendChild(ob(this.row_id,this.coloumn_id,this.ids,e.thumbnails.medium,e.broadcaster.display_name,[on,A_(e.created_at)],[wS.parse(e.title),v,e.game],l_(e.views),"["+e.language.toUpperCase()+"]",e.duration,e.slug,e.broadcaster.name,e.broadcaster.logo.replace("150x150","300x300"),e.broadcaster.id,null!==e.vod?e.vod.id:null,null!==e.vod?e.vod.offset:null)),this.coloumn_id++)}};function Gb(){(pb=Wy(pb=Wy({ids:jy("Clip"),table:"stream_table_clip",screen:Ic,periodPos:Pf("Clip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?limit="+Ab,set_url:function(){this.url=this.base_url+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")+(""!==qc?"&language="+qc:"")},SetPeriod:function(){Fu("top_bar_clip",U+k_(Xc[this.periodPos-1])),xf("Clip_periodPos",this.periodPos)},label_init:function(){Bc.Main_CenterLablesVectorPos=5,this.SetPeriod(),Ru("top_bar_clip","icon_center_focus"),Bu("label_refresh","icon-refresh",t+jt)},label_exit:function(){b_(),Nu("top_bar_clip","icon_center_focus"),Bu("label_refresh","icon-refresh",t+jt)}},Pb),Ob)).set_ThumbSize()}function Ub(){(vb=Wy(vb=Wy({ids:jy("ChannelClip"),table:"stream_table_channel_clip",screen:kc,periodPos:Pf("ChannelClip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?channel=",set_url:function(){this.url=this.base_url+encodeURIComponent(Bc.Main_selectedChannel)+"&limit="+Ab+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")},SetPeriod:function(){Fu("top_bar_game",U+Xc[this.periodPos-1]),xf("ChannelClip_periodPos",this.periodPos)},label_init:function(){Bc.Main_CenterLablesVectorPos=1,!Bc.Search_isSearching&&Bc.Main_selectedChannel_id&&Ld(),Bc.Main_selectedChannel!==this.lastselectedChannel&&(this.status=!1),w_(),this.SetPeriod(),Vu("top_bar_user",Bc.Main_selectedChannelDisplayname),Bu("label_side_panel","icon-arrow-circle-left",I),this.lastselectedChannel=Bc.Main_selectedChannel},label_exit:b_},Pb),Ob)).set_ThumbSize()}function Rb(){(gb=Wy(gb=Wy({ids:jy("AGameClip"),table:"stream_table_a_game_clip",screen:xc,periodPos:Pf("AGameClip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?game=",set_url:function(){this.url=this.base_url+encodeURIComponent(Bc.Main_gameSelected)+"&limit="+Ab+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")+(""!==qc?"&language="+qc:"")},SetPeriod:function(){Fu("top_bar_game",b+k_(U+Xc[this.periodPos-1]+": "+Bc.Main_gameSelected)),xf("AGameClip_periodPos",this.periodPos)},label_init:function(){Bc.Main_CenterLablesVectorPos=3,this.SetPeriod(),Ru("top_bar_game","icon_center_focus"),Bu("label_side_panel","icon-arrow-circle-left",I),this.gameSelected!==Bc.Main_gameSelected&&(this.status=!1),this.gameSelected=Bc.Main_gameSelected},label_exit:function(){Nu("top_bar_game","icon_center_focus"),Fu("top_bar_game",f),Bu("label_side_panel","icon-ellipsis",Rn)}},Pb),Ob)).set_ThumbSize()}var Nb={ThumbSize:19.35,ItemsLimit:tu,ItemsReloadLimit:au,ColoumnsCount:nu,addFocus:W_,img_404:Ca,empty_str:function(){return L+Z},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.MaxOffset=t._total,this.data=this.data.concat(this.screen===pc?t.follows:t.top),this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadingData=!1}else this.data=JSON.parse(e),this.MaxOffset=this.data._total,this.data=this.screen===pc?this.data.follows:this.data.top,this.offset=this.data.length,this.isLive?this.dataEnded=!0:this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadDataSuccess(),this.loadingData=!1},key_play:function(){Bc.Main_gameSelected=document.getElementById(this.ids[5]+this.posY+"_"+this.posX).getAttribute(vu),document.body.removeEventListener("keydown",hb),Bc.Main_BeforeAgame=this.screen,Bc.Main_Go=fc,Bc.Main_BeforeAgameisSet=!0,Po=!1,jc=0,document.body.removeEventListener("keydown",hb),Ou(this.ids[10]),p_(),nf(this.posY+"_"+this.posX,this.ids)},addCell:function(e){var t=this.isLive||this.screen===_c,n=t?e.game:e;this.idObject[n._id]||(this.itemsCount++,this.idObject[n._id]=1,this.row.appendChild(ib(this.row_id,this.coloumn_id,this.ids,n.box.template.replace("{width}x{height}",hu),n.name,t?l_(e.channels)+" "+E+h+l_(e.viewers)+D:"")),this.coloumn_id++)}};function Fb(){(yb=Wy(yb=Wy({ids:jy("Game"),table:"stream_table_games",screen:_c,base_url:"https://api.twitch.tv/kraken/games/top?limit="+Ab,set_url:function(){this.offset&&this.offset+Ab>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+"&offset="+this.offset},label_init:function(){Bc.Main_CenterLablesVectorPos=3,Ru("top_bar_game","icon_center_focus")},label_exit:function(){Nu("top_bar_game","icon_center_focus")}},Pb),Nb)).set_ThumbSize()}function Vb(){(bb=Wy(bb=Wy({ids:jy("UserGames"),table:"stream_table_user_games",screen:pc,isLive:Tf("user_Games_live",!0),OldUserName:"",base_url:"https://api.twitch.tv/api/users/",set_url:function(){this.offset&&this.offset+Ab>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+encodeURIComponent(Hi[Bc.Users_Position].name)+"/follows/games",this.isLive?this.url+="/live?limit=750":this.url+="?limit="+Ab+"&offset="+this.offset},key_refresh:function(){this.isLive=!this.isLive,Fu("top_bar_user",u+k_(Hi[Bc.Users_Position].name+" "+(this.isLive?Z:zt))),Zy(),xf("user_Games_live",this.isLive?"true":"false"),vM&&EM()},label_init:function(){Bc.Main_CenterLablesVectorPos=1,Bu("label_refresh","icon-refresh",Xt+Z+"/"+zt+":"+jt),Bu("label_side_panel","icon-arrow-circle-left",I),Ru("top_bar_user","icon_center_focus"),this.OldUserName!==Hi[Bc.Users_Position].name&&(this.status=!1),this.OldUserName=Hi[Bc.Users_Position].name,Fu("top_bar_user",u+k_(Hi[Bc.Users_Position].name+" "+(this.isLive?Z:zt)))},label_exit:function(){Bc.Users_Position=0,Nu("top_bar_user","icon_center_focus"),Bu("label_refresh","icon-refresh",t+jt),Vu("top_bar_user",u),Bu("label_side_panel","icon-ellipsis",Rn)}},Pb),Nb)).set_ThumbSize()}var Db=0,Jb=0,Hb=!1,qb=0,zb={},Xb=[],jb=!1,Wb=0,Yb=5,Qb=3500,Zb=0,Kb=0,$b=!1,ew=!1,tw="",nw=!1,aw=["sc_thumbdiv","sc_img","sc_infodiv","sc_displayname","sc_cell","scempty_","search_channel_scroll"];function iw(){Bc.Main_CenterLablesVectorPos=1,Bc.Main_Go=Ec,Bc.isLastSChannels=!0,Bc.Search_isSearching=!0,tw!==Bc.Search_data&&(ew=!1),w_(),Fu("top_bar_user",n+k_(E+" '"+Bc.Search_data+"'")),document.body.addEventListener("keydown",gw,!1),ew?(P_(Db),Gu(aw[6]),pw(),v_()):sw()}function ow(){b_(),document.body.removeEventListener("keydown",gw),Ou(aw[6])}function sw(){M_("stream_table_search_channel"),Ou(aw[6]),Ju(),e_(),tw=Bc.Search_data,ew=!1,zb={},wf=!(qb=Kb=Zb=0),Db=Jb=0,Hb=nw=!(Xb=[]),Yu(),dw(),lw()}function dw(){S_(),jb=!0,Wb=0,Qb=3500}function lw(){var e=qb+Zb;e&&Kb-1<e&&(e=Kb-iu,Hb=!0);var t="https://api.twitch.tv/kraken/search/channels?query="+encodeURIComponent(Bc.Search_data)+"&limit="+iu+"&offset="+e;Au&&!qb?Rf(t,Qb,2,null,cw,rw):Nf(t,Qb,2,null,cw,rw,!1)}function rw(){++Wb<Yb?(Qb+=500,lw()):(jb=!1,qb?(Hb=!0,_w()):(wf=!1,Hu(),$u(P)))}function cw(e){var t=JSON.parse(e),n=t.channels.length;Kb=parseInt(t._total),n<iu&&(Hb=!0);var a=qb;$b=!(qb+=n);var i=n/ou;0<n%ou&&i++;for(var o,s,d,l,r,c=0,u=document.getElementById("stream_table_search_channel"),_=0;_<i;_++){for(s=a/ou+_,d=document.createElement("tr"),o=0;o<ou&&c<n;o++,c++)r=(l=t.channels[c])._id,zb[r]?o--:(zb[r]=1,d.appendChild(uw(s,s+"_"+o,[l.name,r,l.logo,l.display_name])));for(;o<ou;o++)Hb&&!nw&&(nw=!0,qb=s*ou+o),d.appendChild(B_(aw[5]+s+"_"+o)),Xb.push(aw[5]+s+"_"+o);u.appendChild(d)}_w()}function uw(e,t,n){return e<4&&T_(n[2]),O_(t,aw,n)}function _w(){if(ew){if(I_(Ea),0<Xb.length&&!Hb)return dw(),void fw();pw(!0),Xb=[]}else $b?$u(d):(ew=!0,I_(Ea),pw(),v_()),Gu(aw[6]),wf=!1,Hu();jb=!1}function fw(){Ku(Xb.length);var e=qb+Zb;e&&Kb-1<e&&(e=Kb-du,Hb=!0),Gf("https://api.twitch.tv/kraken/search/channels?query="+encodeURIComponent(Bc.Search_data)+"&limit="+du+"&offset="+e,Qb,2,null,hw,mw)}function mw(){++Wb<Yb?(Qb+=500,fw()):(Hb=!0,qb-=Xb.length,Xb=[],_w())}function hw(e){var t,n,a=JSON.parse(e),i=a.channels.length,o=0,s=0,d=[];for(Kb=parseInt(a._total),i<du&&(Hb=!0);o<Xb.length&&s<i;o++,s++)n=(t=a.channels[s])._id,zb[n]?o--:(zb[n]=1,G_(Xb[o],[t.name,n,t.logo,t.display_name],aw),d.push(o));for(o=d.length-1;-1<o;o--)Xb.splice(d[o],1);Zb+=s,Hb&&(qb-=Xb.length,Xb=[]),_w()}function pw(e){X_(Db,Jb,aw,ou,qb,e),qb/ou<Db+su&&!Hb&&!jb&&(dw(),lw()),Uc&&vw()}function vw(){qb&&nf(Db+"_"+Jb,aw)}function gw(e){var t;if(!wf&&!z_())switch(q_(),e.keyCode){case Ua:d_()?s_():a_()?n_():(vw(),Af(gw));break;case La:if(u_(Db,Jb-1,aw[0]))vw(),Jb--,pw();else for(t=ou-1;-1<t;t--)if(u_(Db-1,t,aw[0])){vw(),Db--,Jb=t,pw();break}break;case Ba:u_(Db,Jb+1,aw[0])?(vw(),Jb++,pw()):u_(Db+1,0,aw[0])&&(vw(),Db++,Jb=0,pw());break;case Ta:for(t=0;t<ou;t++)if(u_(Db-1,Jb-t,aw[0])){vw(),Db--,Jb-=t,pw();break}break;case Oa:for(t=0;t<ou;t++)if(u_(Db+1,Jb-t,aw[0])){vw(),Db++,Jb-=t,pw();break}break;case xa:case Sa:case Pa:case Ga:Bc.Main_selectedChannel=document.getElementById(aw[4]+Db+"_"+Jb).getAttribute(vu),Bc.Main_selectedChannel_id=document.getElementById(aw[4]+Db+"_"+Jb).getAttribute("data-id"),Bc.Main_selectedChannelDisplayname=document.getElementById(aw[3]+Db+"_"+Jb).textContent,document.body.removeEventListener("keydown",gw),Bc.Main_BeforeChannel=Ec,Bc.Main_Go=bc,Bc.Main_BeforeChannelisSet=!0,js=Xa=!1,Ou(aw[6]),h_()}}var yw=!1,bw=0,ww=0,kw=0,Aw=0,Cw=5,Ew=3500,Mw=0,Iw=0,Sw=!1,xw=!1,Pw="",Lw=["sgthumbdiv","sgimg","sginfodiv","sgdisplayname","sgviwers","sgcell","sgempty_","search_games_scroll"];function Tw(){Bc.Main_CenterLablesVectorPos=1,Bc.Main_Go=gc,Bc.Search_isSearching=!0,w_(),Pw!==Bc.Search_data&&(yw=!1),Fu("top_bar_user",n+k_(f+" '"+Bc.Search_data+"'")),document.body.addEventListener("keydown",Hw,!1),yw?(P_(bw),Gu(Lw[7]),Dw(),v_()):Ow()}function Bw(){Bc.Search_isSearching||b_(),document.body.removeEventListener("keydown",Hw),Bc.Games_return=!1,Ou(Lw[7])}function Ow(){M_("stream_table_search_game"),Ou(Lw[7]),Ju(),e_(),Pw=Bc.Search_data,xw=yw=!1,bw=ww=kw=Iw=Mw=0,Yu(),Gw(),Uw()}function Gw(){S_(),wf=!0,Aw=0,Ew=3500}function Uw(){Gf("https://api.twitch.tv/kraken/search/games?query="+encodeURIComponent(Bc.Search_data),Ew,2,null,Nw,Rw)}function Rw(){++Aw<Cw?(Ew+=500,Uw()):(wf=!1,kw?Vw():(Hu(),$u(P)))}function Nw(e){var t=JSON.parse(e),n=0;null!==t.games&&(n=t.games.length);var a=kw;Sw=!(kw+=n);var i=n/nu;0<n%nu&&i++;for(var o,s,d,l,r=0,c=document.getElementById("stream_table_search_game"),u=0;u<i;u++){for(s=a/nu+u,d=document.createElement("tr"),o=0;o<nu&&r<n;o++,r++)l=t.games[r],d.appendChild(Fw(s,s+"_"+o,[l.name,l.box.template.replace("{width}x{height}",hu),""]));for(;o<nu;o++)xw||(xw=!0,kw=s*nu+o),d.appendChild(B_(Lw[6]+s+"_"+o));c.appendChild(d)}Vw()}function Fw(e,t,n){return e<2&&T_(n[1]),V_(t,Lw,n)}function Vw(){yw||(Sw?$u(d):(yw=!0,I_(Ma),Dw(),v_()),Hu()),Gu(Lw[7]),wf=!1,Qu(ww,bw,nu,kw)}function Dw(){W_(bw,ww,Lw,nu,kw),Uc&&Jw()}function Jw(){kw&&nf(bw+"_"+ww,Lw)}function Hw(e){var t;if(!wf&&!z_())switch(q_(),e.keyCode){case Ua:d_()?s_():a_()?n_():(Jw(),Af(Hw));break;case La:if(u_(bw,ww-1,Lw[0]))Jw(),ww--,Dw();else for(t=nu-1;-1<t;t--)if(u_(bw-1,t,Lw[0])){Jw(),bw--,ww=t,Dw();break}break;case Ba:u_(bw,ww+1,Lw[0])?(Jw(),ww++,Dw()):u_(bw+1,0,Lw[0])&&(Jw(),bw++,ww=0,Dw());break;case Ta:for(t=0;t<nu;t++)if(u_(bw-1,ww-t,Lw[0])){Jw(),bw--,ww-=t,Dw();break}break;case Oa:for(t=0;t<nu;t++)if(u_(bw+1,ww-t,Lw[0])){Jw(),bw++,ww-=t,Dw();break}break;case xa:case Sa:case Pa:case Ga:Bc.gameSelectedOld=Bc.Main_gameSelected,Bw(),Bc.Main_gameSelected=document.getElementById(Lw[5]+bw+"_"+ww).getAttribute(vu),document.body.removeEventListener("keydown",Hw),Bc.Main_Go=fc,Bc.Games_return=!0,h_()}}var qw=0,zw=0,Xw=!1;function jw(){e_(),Ou("label_refresh"),Bu("label_side_panel","icon-arrow-circle-left",I),Vu("top_bar_user",n),document.getElementById("top_lables").style.marginLeft="14%",document.getElementById("top_bar_live").style.display="none",document.getElementById("top_bar_featured").style.display="none",document.getElementById("top_bar_game").style.display="none",document.getElementById("top_bar_vod").style.display="none",document.getElementById("top_bar_clip").style.display="none",$r.placeholder=w,Ru("top_bar_user","icon_center_focus"),Gu("search_scroll"),zw=qw=0,Qw(),Kw()}function Ww(){$w(!1),document.body.removeEventListener("keydown",Zw),Qw(),Bc.Main_Go=Bc.Main_BeforeSearch,document.getElementById("top_lables").style.marginLeft="18.5%",Vu("top_bar_user",u),Nu("top_bar_user","icon_center_focus"),Bu("label_side_panel","icon-ellipsis",Rn),Gu("label_refresh"),document.getElementById("top_bar_live").style.display="inline-block",document.getElementById("top_bar_featured").style.display="inline-block",document.getElementById("top_bar_game").style.display="inline-block",document.getElementById("top_bar_vod").style.display="inline-block",document.getElementById("top_bar_clip").style.display="inline-block",$r.value="",Ou("search_scroll")}function Yw(){Ww(),sf(function(){zw?1===zw?Tw():2===zw&&yk():iw()})}function Qw(){Nu("chanel_button","button_search_focused"),Nu("game_button","button_search_focused"),Nu("live_button","button_search_focused"),qw&&(zw?1===zw?Ru("game_button","button_search_focused"):2===zw&&Ru("live_button","button_search_focused"):Ru("chanel_button","button_search_focused"))}function Zw(e){if(!Xw)switch(e.keyCode){case Ua:d_()?s_():a_()?n_():(Ww(),h_());break;case La:1===qw&&(--zw<0&&(zw=2),Qw());break;case Ba:1===qw&&(2<++zw&&(zw=0),Qw());break;case Ta:1===qw&&(qw=0,Qw(),Kw());break;case Oa:qw?1===qw&&(qw=0,Qw(),Kw()):($w(!1),qw=1,Qw());break;case xa:case Sa:case Pa:case Ga:qw?""!==$r.value&&null!==$r.value?(Bc.Search_data=$r.value,$r.value="",Yw()):($u(s),window.setTimeout(function(){e_()},1e3)):Kw()}}function Kw(){document.body.removeEventListener("keydown",Zw),document.body.addEventListener("keydown",tk,!1),$r.placeholder=w,$r.focus(),Xw=!0}function $w(e){$r.blur(),ek(),document.body.removeEventListener("keydown",tk),$r.placeholder=C+w,e&&document.body.addEventListener("keydown",Zw,!1),Xw=!1}function ek(){if(null!==$r){var e=$r.cloneNode(!0);$r.parentNode.replaceChild(e,$r),$r=document.getElementById("search_input")}}function tk(e){switch(e.keyCode){case Ua:a_()?n_():d_()?s_():(Ww(),h_());break;case Va:$r.value="";break;case Na:case Oa:$w(!0),qw=1,Qw();break;case Ra:$r.value=$r.value.slice(0,-1);break;case Fa:$r.value+=" "}}var nk=0,ak=0,ik=!1,ok=0,sk={},dk=[],lk=!1,rk=0,ck=5,uk=3500,_k=0,fk=0,mk=!1,hk=!1,pk=!1,vk="",gk=["sl_thumbdiv","sl_img","sl_infodiv","sl_displayname","sl_streamtitle","sl_streamgame","sl_viwers","sl_quality","sl_cell","slempty_","search_live_scroll"];function yk(){Bc.Main_CenterLablesVectorPos=1,Bc.Main_Go=yc,Bc.Search_isSearching=!0,w_(),vk!==Bc.Search_data&&(hk=!1),Fu("top_bar_user",n+k_(_+" '"+Bc.Search_data+"'")),document.body.addEventListener("keydown",Tk,!1),hk?(P_(nk),Gu(gk[10]),Pk(),v_()):wk()}function bk(){b_(),document.body.removeEventListener("keydown",Tk),Ou(gk[10])}function wk(){M_("stream_table_search_live"),Ou(gk[10]),Ju(),e_(),vk=Bc.Search_data,hk=!1,wf=!(pk=!(dk=[])),nk=ak=ok=fk=_k=0,ik=!(sk={}),Yu(),kk(),Ak()}function kk(){S_(),lk=!0,rk=0,uk=3500}function Ak(){var e=ok+_k;e&&fk-1<e&&(e=fk-Kc,ik=!0);var t="https://api.twitch.tv/kraken/search/streams?query="+encodeURIComponent(Bc.Search_data)+"&limit="+Kc+"&offset="+e;Au&&!ok?Rf(t,uk,2,null,Ek,Ck):Nf(t,uk,2,null,Ek,Ck,!1)}function Ck(){++rk<ck?(uk+=500,Ak()):(lk=!1,ok?(ik=!0,Mk()):(wf=!1,Hu(),$u(P)))}function Ek(e){var t=JSON.parse(e),n=t.streams.length;fk=parseInt(t._total),n<Kc&&(ik=!0);var a=ok;mk=!(ok+=n);var i=n/$c;0<n%$c&&i++;for(var o,s,d,l,r,c=0,u=document.getElementById("stream_table_search_live"),_=0;_<i;_++){for(s=a/$c+_,d=document.createElement("tr"),o=0;o<$c&&c<n;o++,c++)r=(l=t.streams[c]).channel._id,sk[r]?o--:(sk[r]=1,d.appendChild(R_(s,s+"_"+o,[l.channel.name,r],gk,[l.preview.template.replace("{width}x{height}",mu),c_(JSON.stringify(l.stream_type))+l.channel.display_name,l.channel.status,l.game,y+Fp(l.created_at)+" "+h+l_(l.viewers)+D,r_(l.video_height,l.average_fps,l.channel.broadcaster_language)])));for(;o<$c;o++)ik&&!pk&&(pk=!0,ok=s*$c+o),d.appendChild(B_(gk[9]+s+"_"+o)),dk.push(gk[9]+s+"_"+o);u.appendChild(d)}Mk()}function Mk(){if(hk){if(I_(Ma),0<dk.length&&!ik)return kk(),void Ik();Pk(!0),dk=[]}else mk?$u(d):(hk=!0,I_(Ma),Pk(),v_()),Gu(gk[10]),wf=!1,Hu();lk=!1}function Ik(){Ku(dk.length);var e=ok+_k;e&&fk-1<e&&(e=fk-du,ik=!0),Gf("https://api.twitch.tv/kraken/search/streams?query="+encodeURIComponent(Bc.Search_data)+"&limit="+du+"&offset="+e,uk,2,null,xk,Sk)}function Sk(){++rk<ck?(uk+=500,Ik()):(ik=!0,ok-=dk.length,dk=[],Mk())}function xk(e){var t,n,a=JSON.parse(e),i=a.streams.length,o=0,s=0,d=[];for(fk=parseInt(a._total),i<du&&(ik=!0);o<dk.length&&s<i;o++,s++)n=(t=a.streams[s]).channel._id,sk[n]?o--:(sk[n]=1,N_(dk[o],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",mu),c_(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+Fp(t.created_at)+" "+h+l_(t.viewers)+D,r_(t.video_height,t.average_fps,t.channel.broadcaster_language)],gk),d.push(o));for(o=d.length-1;-1<o;o--)dk.splice(d[o],1);_k+=s,ik&&(ok-=dk.length,dk=[]),Mk()}function Pk(e){j_(nk,ak,gk,$c,ok,e),ok/$c<nk+eu&&!ik&&!lk&&(kk(),Ak()),Uc&&Lk()}function Lk(){ok&&nf(nk+"_"+ak,gk)}function Tk(e){var t;if(!wf&&!z_())switch(q_(),e.keyCode){case Ua:d_()?s_():a_()?n_():(Lk(),Af(Tk));break;case La:if(u_(nk,ak-1,gk[0]))Lk(),ak--,Pk();else for(t=$c-1;-1<t;t--)if(u_(nk-1,t,gk[0])){Lk(),nk--,ak=t,Pk();break}break;case Ba:u_(nk,ak+1,gk[0])?(Lk(),ak++,Pk()):u_(nk+1,0,gk[0])&&(Lk(),nk++,ak=0,Pk());break;case Ta:for(t=0;t<$c;t++)if(u_(nk-1,ak-t,gk[0])){Lk(),nk--,ak-=t,Pk();break}break;case Oa:for(t=0;t<$c;t++)if(u_(nk+1,ak-t,gk[0])){Lk(),nk++,ak-=t,Pk();break}break;case xa:case Sa:case Pa:case Ga:Q_(nk+"_"+ak,gk,Tk)}}var Bk=0,Ok={restor_playback:{values:["off","on"],defaultValue:2},chat_font_size:{values:["60%","80%","100%","120%","140%"],defaultValue:3},chat_brightness:{values:["0%","5%","10%","15%","20%","25%","30%","35%","40%","45%","50%","55%","60%","65%","70%","75%","80%","85%","90%","95%","100%"],defaultValue:11},force_disable_chat:{values:["off","on"],defaultValue:2},buffer_live:{values:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],defaultValue:4},buffer_vod:{values:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],defaultValue:4},buffer_clip:{values:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],defaultValue:3},videos_animation:{values:["off","on"],defaultValue:2},clock_offset:{values:Gk(),defaultValue:49},content_lang:{values:["All"],set_values:[""],defaultValue:1}};function Gk(){for(var e=[],t=43200,n=0;n<48;n++)e.push("-"+Rp(t)),t-=900;for(e.push(Rp(0)),t=900,n=0;n<48;n++)e.push(Rp(t)),t+=900;return e}var Uk=[],Rk=0;function Nk(){m_(),Ou("label_side_panel"),Bu("label_refresh","icon-arrow-circle-left",ia),document.body.addEventListener("keydown",aA,!1),Vu("top_bar_user",a),document.getElementById("top_lables").style.marginLeft="14%",document.getElementById("top_bar_live").style.display="none",document.getElementById("top_bar_featured").style.display="none",document.getElementById("top_bar_game").style.display="none",document.getElementById("top_bar_vod").style.display="none",document.getElementById("top_bar_clip").style.display="none",Ru("top_bar_user","icon_center_focus"),Gu("settings_scroll"),Qk(Bk=0),qk("content_lang",jn,oA)}function Fk(){document.body.removeEventListener("keydown",aA),Gu("label_side_panel"),Zk(),Vu("top_bar_user",u),document.getElementById("top_lables").style.marginLeft="18.5%",document.getElementById("top_bar_live").style.display="inline-block",document.getElementById("top_bar_featured").style.display="inline-block",document.getElementById("top_bar_game").style.display="inline-block",document.getElementById("top_bar_vod").style.display="inline-block",document.getElementById("top_bar_clip").style.display="inline-block",Nu("top_bar_user","icon_center_focus"),Bu("label_refresh","icon-refresh",t+jt),Ou("settings_scroll")}function Vk(){var e,t="";t+=Dk("general",gn),e="content_lang",Uk.push(e),Ok[e].values=[Wn],t+=Hk(e,jn,""),e="clock_offset",Uk.push(e),t+=Jk(e,zn),e="restor_playback",Uk.push(e),Ok[e].values=[Pn,xn],t+=Hk(e,Ln,Tn),e="videos_animation",Uk.push(e),Ok[e].values=[Pn,xn],t+=Jk(e,Un),t+=Dk("play",_n),e="chat_font_size",Uk.push(e),t+=Hk(e,Bn,On),e="chat_brightness",Uk.push(e),t+=Jk(e,aa),e="force_disable_chat",Uk.push(e),Ok[e].values=[Jt,L],t+=Hk(e,ta,na),t+='<div id="setting_title_buffers" class="settings_title">'+fn+'</div><div id="setting_title_buffers_summary" class="settings_summary">'+mn+"</div>",e="buffer_live",Uk.push(e),t+=Jk(e,hn),e="buffer_vod",Uk.push(e),t+=Jk(e,pn),e="buffer_clip",Uk.push(e),Fu("settings_main",t+=Jk(e,vn)),Rk=Uk.length,fA()}function Dk(e,t){return'<div id="setting_title_'+e+'" class="settings_section">'+t+"</div>"}function Jk(e,t){return'<div id="'+e+'_div" class="settings_div"><div id="'+e+'_name" class="settings_name">'+t+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_left" class="left"></div></div><div id="'+e+'" class="strokedextramini settings_value">'+jk(e)+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_right" class="right"></div></div></div>'}function Hk(e,t,n){return'<div id="'+e+'_div" class="settings_div"><div id="'+e+'_name" class="settings_name">'+t+'<div id="'+e+'_summary" class="settings_summary" style="font-size: 65%;">'+n+'</div></div><div class="settings_arraw_div"><div id="'+e+'arrow_left" class="left"></div></div><div id="'+e+'" class="strokedextramini settings_value">'+jk(e)+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_right" class="right"></div></div></div>'}function qk(e,t,n){Fu(e+"_name",t+'<div id="'+e+'_summary" class="settings_summary" style="font-size: 65%;">'+n+"</div>")}function zk(){var e="";for(e in Vu("setting_title_general",gn),Vu((e="clock_offset")+"_name",zn),Vu((e="content_lang")+"_name",jn),Vu(e,jk(e)),Ok[e].values=[Wn],Vu("setting_title_play",_n),Vu("setting_title_buffers",fn),Vu("setting_title_buffers_summary",mn),Vu((e="buffer_live")+"_name",hn),Vu((e="buffer_vod")+"_name",pn),Vu((e="buffer_clip")+"_name",vn),qk(e="restor_playback",Ln,Tn),Ok[e].values=[Pn,xn],qk(e="chat_font_size",Bn,On),qk(e="force_disable_chat",ta,na),Ok[e].values=[Pn,xn],Vu((e="videos_animation")+"_name",Un),Ok[e].values=[Pn,xn],Vu((e="chat_brightness")+"_name",aa),Ok)Ok.hasOwnProperty(e)&&Vu(e,jk(e));_A()}function Xk(){for(var e in Ok)Ok[e].defaultValue=Pf(e,Ok[e].defaultValue),Ok[e].defaultValue-=1,Ok[e].defaultValue>Yk(e)&&(Ok[e].defaultValue=0);tA(0),nA(),Hm=(.05*Wk("chat_brightness")).toFixed(2),HI=Wk("videos_animation"),Bc.Play_ChatForceDisable=Wk("force_disable_chat")}function jk(e){return Ok[e].values[Wk(e)]}function Wk(e){return Ok[e].defaultValue}function Yk(e){return Ok[e].values.length-1}function Qk(e){var t=Uk[Bk];Ru(t,"settings_value_focus"),Ru(t+"_div","settings_div_focus"),$k(e)}function Zk(){var e=Uk[Bk];document.getElementById(e+"arrow_left").style.opacity="0",document.getElementById(e+"arrow_right").style.opacity="0",Nu(e,"settings_value_focus"),Nu(e+"_div","settings_div_focus")}function Kk(e){var t=Uk[e];xf(t,Wk(t)+1),Vu(t,jk(t)),$k(e),eA(e)}function $k(e){var t=Uk[e];if(Yk(t)){var n=Wk(t),a=Yk(t);0<n&&n<a?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="1"):n===a?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="0.2"):(document.getElementById(t+"arrow_left").style.opacity="0.2",document.getElementById(t+"arrow_right").style.opacity="1")}}function eA(e){"videos_animation"===(e=Uk[e])?HI=Wk("videos_animation"):"buffer_live"===e?tA(1):"buffer_vod"===e?tA(2):"buffer_clip"===e?tA(3):"chat_brightness"===e?(Hm=(.05*Wk("chat_brightness")).toFixed(2),gv(!1)):"force_disable_chat"===e?Bc.Play_ChatForceDisable=Wk("force_disable_chat"):"chat_font_size"===e?op():"clock_offset"===e&&(nA(),rf())}function tA(e){try{e?1===e?(Km=1e3*jk("buffer_live"),Au&&Android.SetBuffer(1,Km)):2===e?(vg=1e3*jk("buffer_vod"),Au&&Android.SetBuffer(2,vg)):3===e&&(lm=1e3*jk("buffer_clip"),Au&&Android.SetBuffer(3,lm)):(Km=1e3*jk("buffer_live"),vg=1e3*jk("buffer_vod"),lm=1e3*jk("buffer_clip"),Au&&(Android.SetBuffer(1,Km),Android.SetBuffer(2,vg),Android.SetBuffer(3,lm)))}catch(e){}}function nA(){var e=Wk("clock_offset");ku=e<48?-9e5*(48-e):9e5*(e-48)}function aA(e){var t;switch(e.keyCode){case Ua:a_()?n_():d_()?s_():(Fk(),h_());break;case La:0<Wk(t=Uk[Bk])&&(Ok[t].defaultValue-=1,Kk(Bk));break;case Ba:Wk(t=Uk[Bk])<Yk(t)&&(Ok[t].defaultValue+=1,Kk(Bk));break;case Ta:0<Bk&&(Zk(),Qk(--Bk));break;case Oa:Bk<Rk-1&&(Zk(),Qk(++Bk));break;case Ga:Bk||rA()}}var iA=0,oA="",sA={All:{values:["off","on"],defaultValue:2,set_values:""},"Dansk [DA]":{values:["off","on"],defaultValue:1,set_values:"da"},"Deutsch [DE]":{values:["off","on"],defaultValue:1,set_values:"de"},"English [EN]":{values:["off","on"],defaultValue:1,set_values:"en,en-gb"},"Espaol [ES]":{values:["off","on"],defaultValue:1,set_values:"es,es-mx"},"Franais [FR]":{values:["off","on"],defaultValue:1,set_values:"fr"},"Italiano [IT]":{values:["off","on"],defaultValue:1,set_values:"it"},"Magyar [HU]":{values:["off","on"],defaultValue:1,set_values:"hu"},"Nederlands [NL]":{values:["off","on"],defaultValue:1,set_values:"nl"},"Norsk [NO]":{values:["off","on"],defaultValue:1,set_values:"no"},"Polski [PL]":{values:["off","on"],defaultValue:1,set_values:"pl"},"Portugus [PT]":{values:["off","on"],defaultValue:1,set_values:"pt,pt-br"},"Slovenina [SK]":{values:["off","on"],defaultValue:1,set_values:"sk"},"Suomi [FI]":{values:["off","on"],defaultValue:1,set_values:"fi"},"Svenska [SV]":{values:["off","on"],defaultValue:1,set_values:"sv"},"Ting Vit [VI]":{values:["off","on"],defaultValue:1,set_values:"vi"},"Trke [TR]":{values:["off","on"],defaultValue:1,set_values:"tr"},"etina [CS]":{values:["off","on"],defaultValue:1,set_values:"cs"}," [EL]":{values:["off","on"],defaultValue:1,set_values:"el"}," [RU]":{values:["off","on"],defaultValue:1,set_values:"ru"}," [TH]":{values:["off","on"],defaultValue:1,set_values:"th"}," [ZH]":{values:["off","on"],defaultValue:1,set_values:"zh-cn,zh-tw"}," [JA]":{values:["off","on"],defaultValue:1,set_values:"ja"}," [KO]":{values:["off","on"],defaultValue:1,set_values:"ko"},"Romn [RO]":{values:["off","on"],defaultValue:1,set_values:"ro"}},dA=[],lA=0;function rA(){m_(),document.body.removeEventListener("keydown",aA),Ou("settings_main"),Gu("settings_lang"),CA(),Vu("top_bar_featured",yn),document.getElementById("top_bar_featured").style.display="inline-block",document.body.addEventListener("keydown",EA,!1),yA(iA=0),uA()}function cA(){document.body.removeEventListener("keydown",EA),document.body.addEventListener("keydown",aA,!1),document.getElementById("settings_scroll").style.top=.085*screen.height+"px",Gu("settings_main"),Ou("settings_lang"),Vu("top_bar_featured",an),document.getElementById("top_bar_featured").style.display="none",bA(),_A(),uA()}function uA(){""===qc&&(oA=Yn,sA.All.defaultValue=1,kA(0),Ru(dA[0],"strokedextraminired"),CA()),qk("content_lang",jn,oA)}function _A(){if(qc="",!vA("All")){for(var e in sA)vA(e)&&(qc+=","+sA[e].set_values);qc=qc.slice(1)}oA=""===qc?Yn:qc.toUpperCase()}function fA(){var e="";for(var t in sA)dA.push(t),sA[t].values=[L,Jt],e+=mA(t,t);Fu("settings_lang",e),lA=dA.length}function mA(e,t){return'<div id="'+e+'_div" class="settings_div"><div id="'+e+'_name" class="settings_name">'+t+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_left" class="left"></div></div><div id="'+e+'" class="'+(vA(e)?"strokedextraminired ":"")+'strokedextramini settings_value">'+pA(e)+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_right" class="right"></div></div></div>'}function hA(){for(var e in sA)sA[e].defaultValue=Pf(e,sA[e].defaultValue),sA[e].defaultValue-=1;_A()}function pA(e){return sA[e].values[vA(e)]}function vA(e){return sA[e].defaultValue}function gA(e){return sA[e].values.length-1}function yA(e){var t=dA[iA];Ru(t,"settings_value_focus"),Ru(t+"_div","settings_div_focus"),AA(e),wA(t)}function bA(){var e=dA[iA];document.getElementById(e+"arrow_left").style.opacity="0",document.getElementById(e+"arrow_right").style.opacity="0",Nu(e,"settings_value_focus"),Nu(e+"_div","settings_div_focus")}function wA(){var e=screen.height;7<iA?(e*=.093,e+=-1*document.getElementById(dA[iA-7]).offsetTop):e*=.077,iA<18&&(document.getElementById("settings_scroll").style.top=e+"px")}function kA(e){var t=dA[e];xf(t,vA(t)+1),Vu(t,pA(t)),AA(e)}function AA(e){var t=dA[e],n=vA(t),a=gA(t);0<n&&n<a?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="1"):n===a?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="0.2"):(document.getElementById(t+"arrow_left").style.opacity="0.2",document.getElementById(t+"arrow_right").style.opacity="1")}function CA(){for(var e in sA)-1===e.indexOf("All")&&(document.getElementById(e+"_div").style.display=vA("All")?"none":"inline-block")}function EA(e){var t;switch(e.keyCode){case Ua:cA();break;case La:0<vA(t=dA[iA])&&(sA[t].defaultValue-=1,kA(iA),Nu(dA[iA],"strokedextraminired"),-1!==t.indexOf("All")&&CA());break;case Ba:vA(t=dA[iA])<gA(t)&&(sA[t].defaultValue+=1,kA(iA),Ru(dA[iA],"strokedextraminired"),-1!==t.indexOf("All")&&CA());break;case Ta:0<iA&&(bA(),yA(--iA));break;case Oa:!vA("All")&&iA<lA-1&&(bA(),yA(++iA))}}var MA=0,IA=0,SA=!1,xA=0,PA=!1,LA=0,TA=5,BA=3500,OA=[],GA=0,UA=0,RA=!1,NA=!1,FA="",VA=!1,DA={},JA=[],HA=0,qA=["uc_thumbdiv","uc_img","uc_infodiv","uc_displayname","uc_cell","ucempty_","user_channels_scroll"];function zA(){Bc.Main_CenterLablesVectorPos=1,Bc.Main_Go=Cc,Bc.isLastSChannels=!1,Bu("label_side_panel","icon-arrow-circle-left",I),Ru("top_bar_user","icon_center_focus"),Fu("top_bar_user",u+k_(Hi[Bc.Users_Position].name+K)),document.body.addEventListener("keydown",oC,!1),FA!==Hi[Bc.Users_Position].name&&(NA=!1),NA?(P_(MA),Gu(qA[6]),aC(),v_()):jA()}function XA(){Bc.Users_Position=0,Nu("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",oC),Vu("top_bar_user",u),Bu("label_side_panel","icon-ellipsis",Rn),Ou(qA[6])}function jA(){M_("stream_table_user_channels"),Ou(qA[6]),Ju(),e_(),FA=Hi[Bc.Users_Position].name,NA=!1,DA={},MA=IA=xA=HA=GA=UA=0,wf=!(VA=SA=!(JA=[])),Yu(),OA=[],WA(),YA()}function WA(){S_(),PA=!0,LA=0,BA=3500}function YA(){var e=xA+UA;e&&HA-1<e&&(e=HA-iu,SA=!0);var t="https://api.twitch.tv/kraken/users/"+encodeURIComponent(Hi[Bc.Users_Position].id)+"/follows/channels?limit="+iu+"&offset="+e+"&sortby=login&direction=asc";Au&&!xA?Rf(t,BA,2,null,ZA,QA):Nf(t,BA,2,null,ZA,QA,!1)}function QA(){++LA<TA?(BA+=500,YA()):(PA=!1,xA?(SA=!0,$A()):(wf=!1,Hu(),$u(P)))}function ZA(e){var t=JSON.parse(e),n=t.follows.length;HA=parseInt(t._total),n<iu&&(SA=!0);var a=xA;RA=!(xA+=n);var i=n/ou;0<n%ou&&i++;for(var o,s,d,l,r,c=0,u=document.getElementById("stream_table_user_channels"),_=0;_<i;_++){for(s=a/ou+_,d=document.createElement("tr"),o=0;o<ou&&c<n;o++,c++)r=(l=t.follows[c].channel)._id,DA[r]?o--:(DA[r]=1,d.appendChild(KA(s,s+"_"+o,[l.name,r,l.logo,l.display_name])));for(;o<ou;o++)SA&&!VA&&(VA=!0,xA=s*ou+o),d.appendChild(B_(qA[5]+s+"_"+o)),JA.push(qA[5]+s+"_"+o);u.appendChild(d)}$A()}function KA(e,t,n){return e<4&&T_(n[2]),O_(t,qA,n)}function $A(){if(NA){if(I_(Ea),0<JA.length&&!SA)return WA(),void eC();aC(!0),JA=[]}else RA?$u(L+K):(NA=!0,I_(Ea),aC(),v_()),Gu(qA[6]),wf=!1,Hu();PA=!1}function eC(){Ku(JA.length);var e=xA+UA;e&&HA-1<e&&(e=HA-du,SA=!0),Gf("https://api.twitch.tv/kraken/users/"+encodeURIComponent(Hi[Bc.Users_Position].id)+"/follows/channels?limit="+du+"&offset="+GA+"&sortby=login&direction=asc",BA,2,null,nC,tC)}function tC(){++LA<TA?(BA+=500,eC()):(SA=!0,xA-=JA.length,JA=[],$A())}function nC(e){var t,n,a=JSON.parse(e),i=a.follows.length,o=0,s=0,d=[];for(HA=parseInt(a._total),i<du&&(SA=!0);o<JA.length&&s<i;o++,s++)n=(t=a.follows[s].channel)._id,DA[n]?o--:(DA[n]=1,G_(JA[o],[t.name,n,t.logo,t.display_name],qA),d.push(o));for(o=d.length-1;-1<o;o--)JA.splice(d[o],1);UA+=s,SA&&(xA-=JA.length,JA=[]),$A()}function aC(e){X_(MA,IA,qA,ou,xA,e),xA/ou<MA+su&&!SA&&!PA&&(WA(),YA()),Uc&&iC()}function iC(){xA&&nf(MA+"_"+IA,qA)}function oC(e){var t;if(!wf&&!z_())switch(q_(),e.keyCode){case Ua:d_()?s_():a_()?n_():(iC(),Af(oC));break;case La:if(u_(MA,IA-1,qA[0]))iC(),IA--,aC();else for(t=ou-1;-1<t;t--)if(u_(MA-1,t,qA[0])){iC(),MA--,IA=t,aC();break}break;case Ba:u_(MA,IA+1,qA[0])?(iC(),IA++,aC()):u_(MA+1,0,qA[0])&&(iC(),MA++,IA=0,aC());break;case Ta:for(t=0;t<ou;t++)if(u_(MA-1,IA-t,qA[0])){iC(),MA--,IA-=t,aC();break}break;case Oa:for(t=0;t<ou;t++)if(u_(MA+1,IA-t,qA[0])){iC(),MA++,IA-=t,aC();break}break;case xa:case Sa:case Pa:case Ga:Bc.Main_selectedChannel=document.getElementById(qA[4]+MA+"_"+IA).getAttribute(vu),Bc.Main_selectedChannel_id=document.getElementById(qA[4]+MA+"_"+IA).getAttribute("data-id"),Bc.Main_selectedChannelDisplayname=document.getElementById(qA[3]+MA+"_"+IA).textContent,Bc.Main_selectedChannelLogo=document.getElementById(qA[1]+MA+"_"+IA).src,document.body.removeEventListener("keydown",oC),Bc.Main_BeforeChannel=Cc,Bc.Main_Go=bc,Bc.Main_BeforeChannelisSet=!0,js=Xa=!0,Ou(qA[6]),h_()}}var sC=0,dC=0,lC=!1,rC=0,cC={},uC=[],_C=!1,fC=0,mC=5,hC=3500,pC=0,vC=0,gC=!1,yC=["uh_thumbdiv","uh_img","uh_infodiv","uh_displayname","uh_hosttitle","uh_hostgame","uh_viwers","uh_quality","uh_cell","uhempty_","user_host_scroll"],bC=!1,wC="",kC=!1;function AC(){Bc.Main_CenterLablesVectorPos=1,Bc.Main_Go=hc,Bu("label_side_panel","icon-arrow-circle-left",I),Ru("top_bar_user","icon_center_focus"),Fu("top_bar_user",u+k_(Hi[Bc.Users_Position].name+Q)),document.body.addEventListener("keydown",UC,!1),wC!==Hi[Bc.Users_Position].name&&(bC=!1),bC?(P_(sC),Gu(yC[10]),OC(),v_()):EC()}function CC(){Bc.Users_Position=0,Nu("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",UC),Vu("top_bar_user",u),Bu("label_side_panel","icon-ellipsis",Rn),Ou(yC[10])}function EC(){M_("stream_table_user_host"),Ou(yC[10]),Ju(),e_(),wC=Hi[Bc.Users_Position].name,bC=!1,cC={},wf=!(rC=vC=pC=0),sC=dC=0,lC=kC=!(uC=[]),Yu(),MC(),IC()}function MC(){S_(),_C=!0,fC=0,hC=3500}function IC(){var e=rC+pC;e&&vC-1<e&&(e=vC-Kc,lC=!0),Uf("https://api.twitch.tv/api/users/"+encodeURIComponent(Hi[Bc.Users_Position].name)+"/followed/hosting?limit="+Kc+"&offset="+e,hC,2,null,xC,SC,!1,!rC)}function SC(){++fC<mC?(hC+=500,IC()):(_C=!1,rC?(lC=!0,PC()):(wf=!1,Hu(),$u(P)))}function xC(e){var t=JSON.parse(e),n=t.hosts.length;vC=parseInt(t._total),n<Kc&&(lC=!0);var a=rC;gC=!(rC+=n);var i=n/$c;0<n%$c&&i++;for(var o,s,d,l,r,c=0,u=document.getElementById("stream_table_user_host"),_=0;_<i;_++){for(s=a/$c+_,d=document.createElement("tr"),o=0;o<$c&&c<n;o++,c++)r=(l=t.hosts[c]).target._id+""+l._id,cC[r]?o--:(cC[r]=1,d.appendChild(R_(s,s+"_"+o,[l.target.channel.name,l.target._id],yC,[l.target.preview_urls.template.replace("{width}x{height}",mu),l.display_name+ne+l.target.channel.display_name,l.target.title,l.target.meta_game,h.charAt(1).toUpperCase()+h.slice(2)+l_(l.target.viewers)+D,""])));for(;o<$c;o++)lC&&!kC&&(kC=!0,rC=s*$c+o),d.appendChild(B_(yC[9]+s+"_"+o)),uC.push(yC[9]+s+"_"+o);u.appendChild(d)}PC()}function PC(){if(bC){if(I_(Ma),0<uC.length&&!lC)return MC(),void LC();OC(!0),uC=[]}else gC?$u(L+Q):(bC=!0,OC(),I_(Ma),v_()),Gu(yC[10]),wf=!1,Hu();_C=!1}function LC(){Ku(uC.length);var e=rC+pC;e&&vC-1<e&&(e=vC-du,lC=!0),Gf("https://api.twitch.tv/api/users/"+encodeURIComponent(Hi[Bc.Users_Position].name)+"/followed/hosting?limit="+du+"&offset="+e,hC,2,null,BC,TC)}function TC(){++fC<mC?(hC+=500,LC()):(lC=!0,rC-=uC.length,uC=[],PC())}function BC(e){var t,n,a=JSON.parse(e),i=a.streams.length,o=0,s=0,d=[];for(vC=parseInt(a._total),i<du&&(lC=!0);o<uC.length&&s<i;o++,s++)n=(t=a.hosts[s]).target._id+""+t._id,cC[n]?o--:(cC[n]=1,N_(uC[o],[t.target.channel.name,t.target._id],[t.target.preview_urls.template.replace("{width}x{height}",mu),t.display_name+ne+t.target.channel.display_name,t.target.title,t.target.meta_game,h.charAt(1).toUpperCase()+h.slice(2)+l_(t.target.viewers)+D,""],yC),d.push(o));for(o=d.length-1;-1<o;o--)uC.splice(d[o],1);pC+=s,lC&&(rC-=uC.length,uC=[]),PC()}function OC(e){j_(sC,dC,yC,$c,rC,e),rC/$c<sC+eu&&!lC&&!_C&&(MC(),IC()),Uc&&GC()}function GC(){rC&&nf(sC+"_"+dC,yC)}function UC(e){var t;if(!wf&&!z_())switch(q_(),e.keyCode){case Ua:d_()?s_():a_()?n_():(GC(),Af(UC));break;case La:if(u_(sC,dC-1,yC[0]))GC(),dC--,OC();else for(t=$c-1;-1<t;t--)if(u_(sC-1,t,yC[0])){GC(),sC--,dC=t,OC();break}break;case Ba:u_(sC,dC+1,yC[0])?(GC(),dC++,OC()):u_(sC+1,0,yC[0])&&(GC(),sC++,dC=0,OC());break;case Ta:for(t=0;t<$c;t++)if(u_(sC-1,dC-t,yC[0])){GC(),sC--,dC-=t,OC();break}break;case Oa:for(t=0;t<$c;t++)if(u_(sC+1,dC-t,yC[0])){GC(),sC++,dC-=t,OC();break}break;case xa:case Sa:case Pa:case Ga:Q_(sC+"_"+dC,yC,UC)}}var RC,NC=!1,FC=0,VC=3500,DC=0,JC=5,HC=0,qC=!1,zC="",XC=0,jC={},WC=!1,YC=[],QC=null,ZC=null,KC=["ulf_thumbdiv","ulf_img","ulf_infodiv","ulf_displayname","ulf_streamtitle","ulf_streamgame","ulf_viwers","ulf_quality","ulf_cell","ulempty_","user_live_scroll"];function $C(){oo()&&(vE(),WC?CE(Zm,KC[0])&&(QC=JSON.parse(document.getElementById(KC[8]+Zm).getAttribute(vu))[0]):QC=null,M_("user_feed_scroll"),WC=!1,document.getElementById("user_feed_scroll").style.left="2.5px",document.getElementById("user_feed").style.bottom="0.1%",Gu("dialog_loading_feed"),zC="",Zm=XC=HC=DC=0,jC={},YC=[],sf(function(){aE(),eE()}))}function eE(){(ZC=Hi[Bc.Users_Position].access_token)?(ZC=_u+ZC,dE()):(aE(),ZC=null,iE())}function tE(e){for(var t,n=0;n<YC.length;n++)null!==(t=document.getElementById(YC[n].id))&&Mu(t,YC[n].src+Cu,e)}function nE(e,t){YC.push({id:e,src:t})}function aE(){NC=!0,FC=0,VC=3500}function iE(){Nf("https://api.twitch.tv/kraken/users/"+encodeURIComponent(Hi[Bc.Users_Position].id)+"/follows/channels?limit=100&offset="+DC+"&sortby=created_at",VC,2,null,sE,oE,!1)}function oE(){++FC<JC?(VC+=500,iE()):(NC=!1,HC?(qC=!0,uE()):(Ou("dialog_loading_feed"),fE()&&(Wp(P),window.setTimeout(function(){Yp()},2e3))))}function sE(e){var t=JSON.parse(e).follows,n=t.length;if(n){for(var a="",i=0;i<n;i++)a=t[i].channel._id+",",-1===zC.indexOf(a)&&(zC+=a);DC+=n,aE(),iE()}else zC=zC.slice(0,-1),aE(),sf(dE)}function dE(){var e="https://api.twitch.tv/kraken/streams/";e+=ZC?"followed?":"?channel="+encodeURIComponent(zC)+"&",lE(e+="limit=100&offset=0&stream_type=all")}function lE(e){var t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=VC,t.setRequestHeader(ru,lu),t.setRequestHeader(cu,fu),ZC&&t.setRequestHeader(uu,ZC),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?cE(t.responseText):!ZC||401!==t.status&&403!==t.status?rE():ei(Bc.Users_Position,0,dE,eE))},t.send(null)}function rE(){++FC<JC?(VC+=500,dE()):(NC=!1,Ou("dialog_loading_feed"),fE()&&(Wp(P),window.setTimeout(function(){Yp()},2e3)))}function cE(e){var t=JSON.parse(e),n=t.streams.length;n<Kc&&(qC=!0),HC+=n;for(var a,i,o=document.getElementById("user_feed_scroll"),s=0;s<n;s++)i=(a=t.streams[s]).channel._id,jC[i]||(jC[i]=1,null!==QC&&QC===a.channel.name&&(Zm=s),o.appendChild(_E(s,[a.channel.name,i],KC,[a.preview.template.replace("{width}x{height}",mu),c_(JSON.stringify(a.stream_type))+a.channel.display_name,a.channel.status,a.game,y+Fp(a.created_at)+" "+h+l_(a.viewers)+D,r_(a.video_height,a.average_fps,a.channel.broadcaster_language)])));uE()}function uE(){WC=!(NC=!1),tE(Ma),sf(function(){Ou("dialog_loading_feed"),bE()})}function _E(e,t,n,a){return nE(n[1]+e,a[0]),(Jc=document.createElement("div")).setAttribute("id",n[8]+e),Jc.setAttribute(vu,JSON.stringify(t)),Jc.className="user_feed_thumb",Jc.innerHTML='<div id="'+n[0]+e+'" class="stream_thumbnail_clip" ><div><img id="'+n[1]+e+'" class="stream_img"></div><div id="'+n[2]+e+'" class="stream_text2"><div id="'+n[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;">'+a[1]+'</div><div id="'+n[5]+e+'"class="stream_info">'+v+a[3]+"</div></div></div>",Jc}function fE(){return Uu("user_feed")}function mE(){var e=oo();e&&(Qm!==Hi[Bc.Users_Position].name&&(WC=!1),Qm=Hi[Bc.Users_Position].name),e&&CE(0,KC[0])||(WC=!1),WC||NC||$C(),e&&(document.getElementById("user_feed").style.bottom="0.1%",Gu("user_feed"),bE())}function hE(){Ou("user_feed")}function pE(){vE(),gE()}function vE(){window.clearTimeout(RC)}function gE(){fE()&&(RC=window.setTimeout(hE,5500))}function yE(){vE(),NC?window.setTimeout(function(){NC=!1},15e3):$C()}function bE(){pE(),CE(Zm,KC[0])&&(Ru(KC[0]+Zm,"feed_thumbnail_focused"),fE()?kE():Uu("scene2")&&AE())}function wE(){return Zm<3?2.5:CE(Zm+2,KC[0])?-1*document.getElementById(KC[8]+(Zm-2)).offsetLeft:CE(Zm+1,KC[0])?-1*document.getElementById(KC[8]+(Zm-3)).offsetLeft:-1*document.getElementById(KC[8]+(Zm-(3<Zm?4:3))).offsetLeft}function kE(){var e=wE();e&&(document.getElementById("user_feed_scroll").style.left=e+"px")}function AE(){document.getElementById("user_feed").style.bottom="-1000%",Gu("user_feed");var e=kE();e&&(document.getElementById("user_feed_scroll").style.left=e+"px"),document.getElementById("user_feed").style.bottom="0.1%",Ou("user_feed")}function CE(e,t){return null!==document.getElementById(t+e)}function EE(){CE(Zm,KC[0])&&Nu(KC[0]+Zm,"feed_thumbnail_focused")}var ME=0,IE=0,SE=!1,xE=0,PE={},LE=[],TE=!1,BE=0,OE=5,GE=3500,UE=0,RE=0,NE=0,FE=!1,VE=["ul_thumbdiv","ul_img","ul_infodiv","ul_displayname","ul_streamtitle","ul_streamgame","ul_viwers","ul_quality","ul_cell","ulempty_","user_live_scroll"],DE=!1,JE="",HE="",qE=!1,zE=null;function XE(){Bc.Main_CenterLablesVectorPos=1,Bc.Main_Go=mc,Bu("label_side_panel","icon-arrow-circle-left",I),Ru("top_bar_user","icon_center_focus"),Fu("top_bar_user",u+k_(Hi[Bc.Users_Position].name+Y)),document.body.addEventListener("keydown",cM,!1),HE!==Hi[Bc.Users_Position].name&&(DE=!1),DE?(P_(ME),Gu(VE[10]),lM(),v_()):WE()}function jE(){Bc.Users_Position=0,Nu("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",cM),Vu("top_bar_user",u),Bu("label_side_panel","icon-ellipsis",Rn),Ou(VE[10])}function WE(){M_("stream_table_user_live"),Ou(VE[10]),Ju(),e_(),DE=!1,HE=Hi[Bc.Users_Position].name,wf=!(qE=!(LE=[])),ME=IE=xE=RE=UE=NE=0,SE=!(PE={}),JE="",Yu(),QE(),YE()}function YE(){(zE=Hi[Bc.Users_Position].access_token)?(zE=_u+zE,eM()):(zE=null,QE(),ZE())}function QE(){S_(),TE=!0,BE=0,GE=3500}function ZE(){Gf("https://api.twitch.tv/kraken/users/"+encodeURIComponent(Hi[Bc.Users_Position].id)+"/follows/channels?limit=100&offset="+NE+"&sortby=created_at",GE,2,null,$E,KE)}function KE(){++BE<OE?(GE+=500,ZE()):(TE=!1,xE?(SE=!0,iM()):(wf=!1,Hu(),$u(P),Af(cM)))}function $E(e){var t=JSON.parse(e).follows,n=t.length;if(n){for(var a="",i=0;i<n;i++)a=t[i].channel._id+",",-1===JE.indexOf(a)&&(JE+=a);NE+=n,QE(),ZE()}else JE=JE.slice(0,-1),QE(),eM()}function eM(){var e=xE+UE;e&&RE-1<e&&(e=RE-Kc,SE=!0);var t="https://api.twitch.tv/kraken/streams/";t+=zE?"followed?":"?channel="+encodeURIComponent(JE)+"&",tM(t+="limit="+Kc+"&offset="+e+"&stream_type=all",aM,nM,YE)}function tM(e,t,n,a){var i;if(Au&&!xE){if(!(i=Android.mreadUrl(e,GE,zE?3:2,zE)))return void lI();200===(i=JSON.parse(i)).status?t(i.responseText):!zE||401!==i.status&&403!==i.status?n():ei(Bc.Users_Position,0,a,n)}else(i=new XMLHttpRequest).open("GET",e,!0),i.timeout=GE,i.setRequestHeader(ru,lu),i.setRequestHeader(cu,fu),zE&&i.setRequestHeader(uu,zE),i.ontimeout=function(){},i.onreadystatechange=function(){4===i.readyState&&(200===i.status?t(i.responseText):!zE||401!==i.status&&403!==i.status?n():ei(Bc.Users_Position,0,a,n))},i.send(null)}function nM(){++BE<OE?(GE+=500,eM()):(TE=!1,xE?(SE=!0,iM()):(wf=!1,Hu(),$u(P),Af(cM)))}function aM(e){var t=JSON.parse(e),n=t.streams.length;RE=parseInt(t._total),n<Kc&&(SE=!0);var a=xE;FE=!(xE+=n);var i=n/$c;0<n%$c&&i++;for(var o,s,d,l,r,c=0,u=document.getElementById("stream_table_user_live"),_=0;_<i;_++){for(s=a/$c+_,d=document.createElement("tr"),o=0;o<$c&&c<n;o++,c++)r=(l=t.streams[c]).channel._id,PE[r]?o--:(PE[r]=1,d.appendChild(R_(s,s+"_"+o,[l.channel.name,r],VE,[l.preview.template.replace("{width}x{height}",mu),c_(JSON.stringify(l.stream_type))+l.channel.display_name,l.channel.status,l.game,y+Fp(l.created_at)+" "+h+l_(l.viewers)+D,r_(l.video_height,l.average_fps,l.channel.broadcaster_language)])));for(;o<$c;o++)SE&&!qE&&(qE=!0,xE=s*$c+o),d.appendChild(B_(VE[9]+s+"_"+o)),LE.push(VE[9]+s+"_"+o);u.appendChild(d)}iM()}function iM(){if(DE){if(I_(Ma),0<LE.length&&!SE)return QE(),void oM();lM(!0),LE=[]}else FE?$u(L+Y):(DE=!0,lM(),I_(Ma),v_()),Gu(VE[10]),wf=!1,Hu();TE=!1}function oM(){Ku(LE.length);var e=xE+UE;e&&RE-1<e&&(e=RE-du,SE=!0);var t="https://api.twitch.tv/kraken/streams/";t+=zE?"followed?":"?channel="+encodeURIComponent(JE)+"&",tM(t+="followed?limit=limit="+du+"&offset="+e+"&stream_type=all",dM,sM,oM)}function sM(){++BE<OE?(GE+=500,oM()):(SE=!0,xE-=LE.length,LE=[],iM())}function dM(e){var t,n,a=JSON.parse(e),i=a.streams.length,o=0,s=0,d=[];for(RE=parseInt(a._total),i<du&&(SE=!0);o<LE.length&&s<i;o++,s++)n=(t=a.streams[s]).channel._id,PE[n]?o--:(PE[n]=1,N_(LE[o],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",mu),c_(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+Fp(t.created_at)+" "+h+l_(t.viewers)+D,r_(t.video_height,t.average_fps,t.channel.broadcaster_language)],VE),d.push(o));for(o=d.length-1;-1<o;o--)LE.splice(d[o],1);UE+=s,SE&&(xE-=LE.length,LE=[]),iM()}function lM(e){j_(ME,IE,VE,$c,xE,e),xE/$c<ME+eu&&!SE&&!TE&&(QE(),ZE()),Uc&&rM()}function rM(){xE&&nf(ME+"_"+IE,VE)}function cM(e){var t;if(!wf&&!z_())switch(q_(),e.keyCode){case Ua:d_()?s_():a_()?n_():(rM(),Af(cM));break;case La:if(u_(ME,IE-1,VE[0]))rM(),IE--,lM();else for(t=$c-1;-1<t;t--)if(u_(ME-1,t,VE[0])){rM(),ME--,IE=t,lM();break}break;case Ba:u_(ME,IE+1,VE[0])?(rM(),IE++,lM()):u_(ME+1,0,VE[0])&&(rM(),ME++,IE=0,lM());break;case Ta:for(t=0;t<$c;t++)if(u_(ME-1,IE-t,VE[0])){rM(),ME--,IE-=t,lM();break}break;case Oa:for(t=0;t<$c;t++)if(u_(ME+1,IE-t,VE[0])){rM(),ME++,IE-=t,lM();break}break;case xa:case Sa:case Pa:case Ga:Q_(ME+"_"+IE,VE,cM)}}var uM=0,_M=0,fM=8,mM=0,hM=null,pM=["u_thumbdiv","u_img","u_infodiv","u_displayname","u_cell","user_scroll"],vM=!1,gM=!0;function yM(){return Nc?(bM(),void $a(Nc)):_o()?(Bc.Main_CenterLablesVectorPos=1,Bc.Main_Go=Ac,document.getElementById("screens_holder").style.top=screen.height/100*7+"px",e_(),Ru("top_bar_user","icon_center_focus"),document.body.addEventListener("keydown",GM,!1),void(vM?(P_(uM),Gu(pM[5]),MM(),v_()):wM())):(Bc.Main_Go=cc,bM(),void h_())}function bM(){Bc.Users_Position=0,Nu("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",GM),Ou(pM[5]),document.getElementById("screens_holder").style.top="0"}function wM(){M_("stream_table_user"),Ou(pM[5]),Ju(),e_(),wf=!(vM=!1),gM=!(uM=_M=0),sf(function(){kM()})}function kM(){for(var e,t,n,a=document.createElement("tbody"),i=document.getElementById("stream_table_user"),o=0;o<Hi.length;o++)t=0,n=o%2?"B5B5B5":"FFFFFF",(Jc=document.createElement("tr")).className="follower_header",Jc.innerHTML='<div class="follower_header">'+(o?"":oe)+Hi[o].name+R+"</div>",i.appendChild(a),i.appendChild(Jc),(e=document.createElement("tr")).appendChild(AM(o+"_"+t,Bc.Main_selectedChannelDisplayname,Y,"play",n)),t++,e.appendChild(AM(o+"_"+t,Bc.Main_selectedChannelDisplayname,Q,"users",n)),t++,e.appendChild(AM(o+"_"+t,Bc.Main_selectedChannelDisplayname,bb.isLive?Z:zt,"gamepad",n)),t++,e.appendChild(AM(o+"_"+t,Bc.Main_selectedChannelDisplayname,Kt,"movie-play",n)),t++,e.appendChild(AM(o+"_"+t,Bc.Main_selectedChannelDisplayname,K,"filmstrip",n)),t++,o?e.appendChild(AM(o+"_"+t,Bc.Main_selectedChannelDisplayname,ie,"arrow-up",n)):e.appendChild(AM(o+"_"+t,Bc.Main_selectedChannelDisplayname,$,"user-plus",n)),t++,e.appendChild(AM(o+"_"+t,Bc.Main_selectedChannelDisplayname,ee,"user-times",n)),t++,e.appendChild(AM(o+"_"+t,Bc.Main_selectedChannelDisplayname,Hi[o].access_token?wt:bt,"key",n)),i.appendChild(e);CM()}function AM(e,t,n,a,i){return(Jc=document.createElement("td")).setAttribute("id",pM[4]+e),Jc.setAttribute(vu,t),Jc.className="stream_cell",Jc.innerHTML='<div id="'+pM[0]+e+'" class="stream_thumbnail_channel" ><div id="'+pM[1]+e+'" class="stream_user_icon" style="color: #'+i+';"><i class="icon-'+a+'"></i></div></div><div id="'+pM[2]+e+'" class="stream_text"><div id="'+pM[3]+e+'" class="stream_info" style="text-align: center;">'+n+"</div></div>",Jc}function CM(){sf(function(){vM||(vM=!0,MM(),Hu(),v_()),Gu(pM[5]),gM=wf=!1})}function EM(){for(var e=0;e<Hi.length;e++)Vu(pM[3]+e+"_2",bb.isLive?Z:zt)}function MM(){Ru(pM[0]+uM+"_"+_M,"stream_thumbnail_focused"),L_(uM)?1<uM?u_(uM+1,0,pM[0])&&tf(pM[5],-1*document.getElementById(pM[4]+uM+"_"+_M).offsetTop+500):tf(pM[5],screen.height/100*7):J_(),Uc&&IM()}function IM(){Gc=!1,Nu(pM[0]+uM+"_"+_M,"stream_thumbnail_focused")}function SM(){return Bc.Users_Position=uM,3!==_M||Hi[Bc.Users_Position].access_token?7===_M&&Hi[Bc.Users_Position].access_token?($u(wt),void window.setTimeout(e_,1500)):(6!==_M&&7!==_M&&(Ou(pM[5]),document.body.removeEventListener("keydown",GM),document.getElementById("screens_holder").style.top="0"),void sf(function(){_M?1===_M?AC():2===_M?(qy=bb,Yy()):3===_M?nI():4===_M?zA():5===_M?uM?co(uM):(Bc.Main_Before=Ac,ji()):6===_M?LM():7!==_M||Hi[Bc.Users_Position].access_token||LM():XE()})):($u(In),void window.setTimeout(e_,5e3))}function xM(){window.clearTimeout(hM)}function PM(){hM=window.setTimeout(TM,2e4)}function LM(){PM(),6===_M?Fu("main_dialog_remove",Ht+da+Hi[Bc.Users_Position].name+"?"):7===_M&&Fu("main_dialog_remove",ft+" "+Hi[Bc.Users_Position].name+"?"),Gu("main_remove_dialog")}function TM(){xM(),Ou("main_remove_dialog"),mM=0,OM()}function BM(){return Uu("main_remove_dialog")}function OM(){mM?(Nu("remove_cancel","button_search_focused"),Ru("remove_yes","button_search_focused")):(Ru("remove_cancel","button_search_focused"),Nu("remove_yes","button_search_focused"))}function GM(e){var t;if(!wf&&!z_())switch(q_(),e.keyCode){case Ua:BM()?TM():a_()?n_():d_()?s_():(IM(),Af(GM));break;case La:if(BM())--mM<0&&(mM=1),OM(),xM(),PM();else if(u_(uM,_M-1,pM[0]))IM(),_M--,MM();else if(u_(uM-1,0,pM[0])){for(t=fM-1;-1<t;t--)if(u_(uM-1,t,pM[0])){IM(),uM--,_M=t,MM();break}}else IM(),_M=fM-1,MM();break;case Ba:BM()?(1<++mM&&(mM=0),OM(),xM(),PM()):(u_(uM,_M+1,pM[0])?(IM(),_M++):(u_(uM+1,0,pM[0])?(IM(),uM++):IM(),_M=0),MM());break;case Ta:for(t=0;t<fM;t++)if(u_(uM-1,_M-t,pM[0])){IM(),uM--,_M-=t,MM();break}break;case Oa:for(t=0;t<fM;t++)if(u_(uM+1,_M-t,pM[0])){IM(),uM++,_M-=t,MM();break}break;case xa:case Sa:case Pa:case Ga:var n;if(BM()){if(6===_M)n=mM,TM(),n&&(document.body.removeEventListener("keydown",GM),bM(),lo(uM));else if(n=mM,TM(),n){Bc.Users_AddcodePosition=Bc.Users_Position,v_();var a=Qa,i="https://id.twitch.tv/oauth2/authorize?response_type=code&client_id="+encodeURIComponent(lu)+"&redirect_uri="+a+"&scope=user_read+user_follows_edit+user_subscriptions&force_verify=true";window.location=i}}else SM()}}var UM=0,RM=0,NM=!1,FM=0,VM={},DM=[],JM=!1,HM=0,qM=5,zM=3500,XM=0,jM=0,WM=!1,YM=!1,QM="time",ZM=2,KM=!1,$M=["uv_thumbdiv","uv_img","uv_infodiv","uv_title","uv_streamon","uv_duration","uv_viwers","uv_quality","uv_cell","uvempty_","user_vod_scroll","uv_game"],eI=!1,tI=!1;function nI(){Bc.Main_CenterLablesVectorPos=1,Bc.Main_Go=Lc,Ru("top_bar_user","icon_center_focus"),Bu("label_side_panel","icon-arrow-circle-left",I),Fu("top_bar_user",u+k_(Hi[Bc.Users_Position].name+(tI?G:O))),document.body.addEventListener("keydown",bI,!1),eI?(P_(UM),Gu($M[10]),wI(),pI(),v_()):iI()}function aI(){Bc.Users_Position=0,eI&&vI(),Nu("top_bar_user","icon_center_focus"),Bu("label_side_panel","icon-ellipsis",Rn),document.body.removeEventListener("keydown",bI),Vu("top_bar_user",u),Ou($M[10])}function iI(){eI&&vI(),M_("stream_table_user_vod"),Ou($M[10]),Ju(),wI(),e_(),KM=eI=!1,wf=!(YM=!(DM=[])),UM=RM=FM=jM=XM=0,NM=!(VM={}),Yu(),sI()}function oI(){S_(),JM=!0,HM=0,zM=3500}function sI(){oI(),dI()}function dI(){var e=FM+XM;e&&jM-1<e&&(e=jM-Kc,NM=!0);var t,n="https://api.twitch.tv/kraken/videos/followed?limit="+Kc+"&broadcast_type="+(tI?"highlight":"archive")+"&sort="+QM+"&offset="+e;if(Au&&!FM){if(!(t=Android.mreadUrl(n,zM,3,_u+Hi[Bc.Users_Position].access_token)))return void lI();if(200===(t=JSON.parse(t)).status)return void cI(t.responseText);401===t.status||403===t.status?ei(Bc.Users_Position,0,sI,rI):lI()}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=zM,t.setRequestHeader(cu,fu),t.setRequestHeader(ru,lu),t.setRequestHeader(uu,_u+Hi[Bc.Users_Position].access_token),t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void cI(t.responseText);401===t.status||403===t.status?ei(Bc.Users_Position,0,sI,rI):lI()}},t.send(null)}function lI(){++HM<qM?(zM+=500,dI()):rI()}function rI(){JM=!1,FM?(NM=!0,uI()):(wf=!1,Hu(),$u(P),Hi[Bc.Users_Position].access_token||(aI(),Bc.Main_Go=Ac,aI(),Cf(),p_()))}function cI(e){var t=JSON.parse(e),n=t.videos.length;jM=parseInt(t._total),n<Kc&&(NM=!0);var a=FM;WM=!(FM+=n);var i=n/$c;0<n%$c&&i++;var o,s,d,l,r,c=0,u=document.getElementById("stream_table_user_vod");if(!KM){var _;for(KM=!0,d=document.createElement("tr"),f=0;f<2;f++)_=f?'<i class="icon-history stream_channel_fallow_icon"></i>'+wa+wa+Sn:'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+wa+wa+p,(Jc=document.createElement("td")).setAttribute("id",$M[8]+"y_"+f),Jc.className="stream_cell",Jc.innerHTML='<div id="'+$M[0]+"y_"+f+'" class="stream_thumbnail_channel_vod" ><div id="'+$M[3]+"y_"+f+'" class="stream_channel_fallow_game">'+_+"</div></div>",d.appendChild(Jc);d.appendChild(document.createElement("tr")),u.appendChild(d)}for(var f=0;f<i;f++){for(s=a/$c+f,d=document.createElement("tr"),o=0;o<$c&&c<n;o++,c++)r=(l=t.videos[c])._id,-1!==(l.preview.template+"").indexOf("404_processing")||VM[r]?o--:(VM[r]=1,d.appendChild(KI(s,s+"_"+o,[r,l.length,l.channel.broadcaster_language,l.game,l.channel.name,l.increment_view_count_url],[l.preview.template.replace("{width}x{height}",mu),l.channel.display_name,N+A_(l.created_at),wS.parse(l.title)+da+Qt+v+l.game,l_(l.views)+V,r_(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.channel.broadcaster_language),F+Rp(l.length),l.animated_preview_url],$M)));for(;o<$c;o++)NM&&!YM&&(YM=!0,FM=s*$c+o),d.appendChild(B_($M[9]+s+"_"+o)),DM.push($M[9]+s+"_"+o);u.appendChild(d)}uI()}function uI(){eI?(I_(Ma),pI(!0)):(WM?$u(L+(tI?G:O)+T+M):(eI=!0,pI(),I_(Ma),v_()),Gu($M[10]),wf=!1,Hu()),0<DM.length&&!NM?_I():JM=!(DM=[])}function _I(){oI(),fI()}function fI(){Ku(DM.length);var e=FM+XM;e&&jM-1<e&&(e=jM-du,NM=!0);var t,n="https://api.twitch.tv/kraken/videos/followed?limit="+du+"&broadcast_type="+(tI?"highlight":"archive")+"&sort="+QM+"&offset="+e;if(Au){if(!(t=Android.mreadUrl(n,zM,3,_u+Hi[Bc.Users_Position].access_token)))return void mI();if(200===(t=JSON.parse(t)).status)return void hI(t.responseText);401===t.status||403===t.status?ei(Bc.Users_Position,0,sI,rI):mI()}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=zM,t.setRequestHeader(cu,fu),t.setRequestHeader(ru,lu),t.setRequestHeader(uu,_u+Hi[Bc.Users_Position].access_token),t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void hI(t.responseText);401===t.status||403===t.status?ei(Bc.Users_Position,0,sI,rI):mI()}},t.send(null)}function mI(){++HM<qM?(zM+=500,fI()):(NM=!0,FM-=DM.length,DM=[],uI())}function hI(e){var t,n,a=JSON.parse(e),i=a.videos.length,o=0,s=0,d=[];for(jM=parseInt(a._total);o<DM.length&&s<i;o++,s++)n=(t=a.videos[s])._id,-1!==(t.preview.template+"").indexOf("404_processing")||VM[n]?o--:(VM[n]=1,eS(DM[o],[n,t.length,t.channel.broadcaster_language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",mu),t.channel.display_name,N+A_(t.created_at),wS.parse(t.title)+da+Qt+v+t.game,l_(t.views)+V,r_(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.channel.broadcaster_language),F+Rp(t.length),t.animated_preview_url],$M),d.push(o));for(o=d.length-1;-1<o;o--)DM.splice(d[o],1);XM+=s,NM&&(FM-=DM.length,DM=[]),uI()}function pI(e){UM<0?gI():(j_(UM,RM,$M,$c,FM,e),cS($M,UM+"_"+RM),FM/$c<UM+eu&&!NM&&!JM&&sI(),Uc&&vI())}function vI(){window.clearInterval(kI),-1<UM&&FM?(Gu($M[1]+UM+"_"+RM),nf(UM+"_"+RM,$M)):yI()}function gI(){var e=1<RM?1:RM;Ru($M[0]+"y_"+e,pu)}function yI(){var e=1<RM?1:RM;Nu($M[0]+"y_"+e,pu)}function bI(e){var t;if(!wf&&!z_())switch(q_(),e.keyCode){case Ua:a_()?n_():a_()?n_():d_()?s_():(vI(),Af(bI));break;case La:if(-1===UM)yI(),--RM<0&&(RM=1),gI();else if(UM||RM){if(u_(UM,RM-1,$M[0]))vI(),RM--,pI();else for(t=$c-1;-1<t;t--)if(u_(UM-1,t,$M[0])){vI(),UM--,RM=t,pI();break}}else vI(),yI(),UM=-1,RM=1,gI();break;case Ba:-1===UM?(yI(),1<++RM?(RM=0,WM?gI():(UM=0,pI())):gI()):u_(UM,RM+1,$M[0])?(vI(),RM++,pI()):u_(UM+1,0,$M[0])&&(vI(),UM++,RM=0,pI());break;case Ta:if(-1!==UM||WM)if(UM){for(t=0;t<$c;t++)if(u_(UM-1,RM-t,$M[0])){vI(),UM--,RM-=t,pI();break}}else vI(),UM=-1,gI();else UM=0,yI(),pI();break;case Oa:if(-1!==UM||WM){for(t=0;t<$c;t++)if(u_(UM+1,RM-t,$M[0])){vI(),UM++,RM-=t,pI();break}}else UM=0,yI(),pI();break;case xa:case Sa:case Pa:case Ga:-1===UM?(0===RM?xf("UserVod_highlight",(tI=!tI)?"true":"false"):1===ZM?ZM++:ZM--,iI()):$_(UM+"_"+RM,$M,bI)}}function wI(){1===ZM?(Fu("top_bar_user",u+k_(Hi[Bc.Users_Position].name+" "+(tI?G:O)+En)),QM="time"):2===ZM&&(Fu("top_bar_user",u+k_(Hi[Bc.Users_Position].name+" "+(tI?G:O)+Mn)),QM="views"),xf("UserVod_TypeNumber",ZM)}var kI,AI=0,CI=0,EI=!1,MI=0,II={},SI=[],xI=!1,PI=0,LI=5,TI=3500,BI=0,OI=0,GI=!1,UI=!1,RI="week",NI=2,FI=!1,VI=["v_thumbdiv","v_img","v_infodiv","v_title","v_streamon","v_duration","v_viwers","v_quality","v_cell","vempty_","vod_scroll","v_game"],DI=!1,JI=!1,HI=1,qI=new Image;function zI(){Bc.Main_CenterLablesVectorPos=4,Bc.Main_Go=Mc,Ru("top_bar_vod","icon_center_focus"),document.body.addEventListener("keydown",uS,!1),DI?(P_(AI),Gu(VI[10]),_S(),sS(),v_()):jI()}function XI(){DI&&dS(),b_(),document.body.removeEventListener("keydown",uS),Nu("top_bar_vod","icon_center_focus"),Vu("top_bar_vod",Kt),Ou(VI[10])}function jI(){DI&&dS(),M_("stream_table_vod"),Ou(VI[10]),Ju(),_S(),e_(),FI=DI=!1,wf=!(UI=!(SI=[])),AI=CI=MI=OI=BI=0,EI=!(II={}),Yu(),WI(),YI()}function WI(){S_(),xI=!0,PI=0,TI=3500}function YI(){var e=MI+BI;e&&OI-1<e&&(e=OI-Kc,EI=!0);var t="https://api.twitch.tv/kraken/videos/top?limit="+Kc+"&broadcast_type="+(JI?"highlight":"archive")+"&sort=views&offset="+e+"&period="+RI+(""!==qc?"&language="+qc:"");Au&&!MI?Rf(t,TI,2,null,ZI,QI):Nf(t,TI,2,null,ZI,QI,!1)}function QI(){++PI<LI?(TI+=500,YI()):(xI=!1,MI?(EI=!0,nS()):(wf=!1,Hu(),$u(P)))}function ZI(e){var t=JSON.parse(e),n=t.vods.length;OI=parseInt(t._total),n<Kc&&(EI=!0);var a=MI;GI=!(MI+=n);var i=n/$c;0<n%$c&&i++;var o,s,d,l,r,c=0,u=document.getElementById("stream_table_vod");if(!FI){var _;for(FI=!0,d=document.createElement("tr"),f=0;f<2;f++)_=f?'<i class="icon-history stream_channel_fallow_icon"></i>'+wa+wa+m:'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+wa+wa+p,(Jc=document.createElement("td")).setAttribute("id",VI[8]+"y_"+f),Jc.className="stream_cell",Jc.innerHTML='<div id="'+VI[0]+"y_"+f+'" class="stream_thumbnail_channel_vod" ><div id="'+VI[3]+"y_"+f+'" class="stream_channel_fallow_game">'+_+"</div></div>",d.appendChild(Jc);d.appendChild(document.createElement("tr")),u.appendChild(d)}for(var f=0;f<i;f++){for(s=a/$c+f,d=document.createElement("tr"),o=0;o<$c&&c<n;o++,c++)r=(l=t.vods[c])._id,-1!==(l.preview.template+"").indexOf("404_processing")||II[r]?o--:(II[r]=1,d.appendChild(KI(s,s+"_"+o,[r,l.length,l.channel.broadcaster_language,l.game,l.channel.name,l.increment_view_count_url],[l.preview.template.replace("{width}x{height}",mu),l.channel.display_name,N+A_(l.created_at),wS.parse(l.title)+da+Qt+v+l.game,l_(l.views)+V,r_(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.channel.broadcaster_language),F+Rp(l.length),l.animated_preview_url],VI)));for(;o<$c;o++)EI&&!UI&&(UI=!0,MI=s*$c+o),d.appendChild(B_(VI[9]+s+"_"+o)),SI.push(VI[9]+s+"_"+o);u.appendChild(d)}nS()}function KI(e,t,n,a,i){return e<$c&&T_(a[0]),$I(n,t,a,i)}function $I(e,t,n,a){return(Jc=document.createElement("td")).setAttribute("id",a[8]+t),Jc.setAttribute(vu,JSON.stringify(e)),Jc.className="stream_cell",Jc.innerHTML=tS(t,n,a),Jc}function eS(e,t,n,a){var i=document.getElementById(e),o=e.split(a[9])[1];i.setAttribute(vu,JSON.stringify(t)),i.innerHTML=tS(o,n,a),i.setAttribute("id",a[8]+o)}function tS(e,t,n){return x_(n[1]+e,t[0]),'<div id="'+n[0]+e+'" class="stream_thumbnail_clip"'+(t[7]?' style="background-size: 0 0; background-image: url('+t[7]+');"':"")+'><div><img id="'+n[1]+e+'" class="stream_img"></div><div id="'+n[2]+e+'" class="stream_text2"><div style="line-height: 14px;"><div id="'+n[3]+e+'" class="stream_channel" style="width: 72%; display: inline-block; font-size: 85%;">'+t[1]+'</div><div id="'+n[7]+e+'"class="stream_info" style="width:27%; float: right; text-align: right; display: inline-block;">'+t[5]+'</div></div><div id="'+n[11]+e+'"class="stream_info">'+t[3]+'</div><div id="'+n[6]+e+'"class="stream_info">'+t[4]+'</div><div style="line-height: 12px;"><div id="'+n[4]+e+'"class="stream_info" style="width: 59%; display: inline-block;">'+t[2]+'</div><div id="'+n[5]+e+'"class="stream_info" style="width: 39%; display: inline-block; float: right; text-align: right;">'+t[6]+"</div></div></div></div>"}function nS(){if(DI?(I_(Ma),sS(!0)):(GI?$u(L+(JI?G:O)+T+M):(DI=!0,sS(),I_(Ma),v_()),Gu(VI[10]),wf=!1,Hu()),0<SI.length&&!EI)return WI(),void aS();xI=!(SI=[])}function aS(){Ku(SI.length);var e=MI+BI;e&&OI-1<e&&(e=OI-du,EI=!0),Gf("https://api.twitch.tv/kraken/videos/top?limit="+du+"&broadcast_type="+(JI?"highlight":"archive")+"&sort=views&offset="+e+"&period="+RI+(""!==qc?"&language="+qc:""),TI,2,null,oS,iS)}function iS(){++PI<LI?(TI+=500,aS()):(EI=!0,MI-=SI.length,SI=[],nS())}function oS(e){var t,n,a=JSON.parse(e),i=a.vods.length,o=0,s=0,d=[];for(OI=parseInt(a._total);o<SI.length&&s<i;o++,s++)n=(t=a.vods[s])._id,-1!==(t.preview.template+"").indexOf("404_processing")||II[n]?o--:(II[n]=1,eS(SI[o],[n,t.length,t.channel.broadcaster_language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",mu),t.channel.display_name,N+A_(t.created_at),wS.parse(t.title)+da+Qt+v+t.game,l_(t.views)+V,r_(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.channel.broadcaster_language),F+Rp(t.length),t.animated_preview_url],VI),d.push(o));for(o=d.length-1;-1<o;o--)SI.splice(d[o],1);BI+=s,EI&&(MI-=SI.length,SI=[]),nS()}function sS(e){AI<0?lS():(j_(AI,CI,VI,$c,MI,e),cS(VI,AI+"_"+CI),MI/$c<AI+eu&&!EI&&!xI&&(WI(),YI()),Uc&&dS())}function dS(){window.clearInterval(kI),-1<AI&&MI?(Gu(VI[1]+AI+"_"+CI),nf(AI+"_"+CI,VI)):rS()}function lS(){var e=1<CI?1:CI;Ru(VI[0]+"y_"+e,pu)}function rS(){var e=1<CI?1:CI;Nu(VI[0]+"y_"+e,pu)}function cS(t,n){if(HI){var a=document.getElementById(t[0]+n);qI.onload=function(){Ou(t[1]+n),a.style.backgroundSize="612px";var e=0;kI=window.setInterval(function(){a.style.backgroundPosition="0px "+ ++e%10*-344+"px"},650)},qI.src=a.style.backgroundImage.replace(/url\(['"]?(.*?)['"]?\)/i,"$1")}}function uS(e){var t;if(!wf&&!z_())switch(q_(),e.keyCode){case Ua:d_()?s_():a_()?n_():(dS(),Af(uS));break;case La:if(-1===AI)rS(),--CI<0&&(CI=1),lS();else if(AI||CI){if(u_(AI,CI-1,VI[0]))dS(),CI--,sS();else for(t=$c-1;-1<t;t--)if(u_(AI-1,t,VI[0])){dS(),AI--,CI=t,sS();break}}else dS(),rS(),AI=-1,CI=1,lS();break;case Ba:-1===AI?(rS(),1<++CI?(CI=0,GI?lS():(AI=0,sS())):lS()):u_(AI,CI+1,VI[0])?(dS(),CI++,sS()):u_(AI+1,0,VI[0])&&(dS(),AI++,CI=0,sS());break;case Ta:if(-1!==AI||GI)if(AI){for(t=0;t<$c;t++)if(u_(AI-1,CI-t,VI[0])){dS(),AI--,CI-=t,sS();break}}else dS(),AI=-1,lS();else AI=0,rS(),sS();break;case Oa:if(-1!==AI||GI){for(t=0;t<$c;t++)if(u_(AI+1,CI-t,VI[0])){dS(),AI++,CI-=t,sS();break}}else AI=0,rS(),sS();break;case xa:case Sa:case Pa:case Ga:-1===AI?(0===CI?xf("Vod_highlight",(JI=!JI)?"true":"false"):4<++NI&&(NI=1),jI()):$_(AI+"_"+CI,VI,uS)}}function _S(){1===NI?(Fu("top_bar_vod",Kt+k_((JI?G:O)+de)),RI="day"):2===NI?(Fu("top_bar_vod",Kt+k_((JI?G:O)+le)),RI="week"):3===NI?(Fu("top_bar_vod",Kt+k_((JI?G:O)+re)),RI="month"):4===NI&&(Fu("top_bar_vod",Kt+k_((JI?G:O)+ce)),RI="all"),xf("vod_periodNumber",NI)}function fS(e,t){return e.replace(t.code,mS(t))}function mS(e){return'<img class="emoticon" src="'+e["3x"]+'"/>'}function hS(e){return'<img class="emoticon" src="https://static-cdn.jtvnw.net/emoticons/v1/'+e+'/3.0"/>'}function pS(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;")}function vS(e){for(var t=e.split(" "),n=0;n<t.length;n++){var a=(e=t[n]).replace(/(^[~!@#$%\^&\*\(\)]+|[~!@#$%\^&\*\(\)]+$)/g,""),i=Tl[a]||Tl[e];e=i?fS(e,i):pS(e),t[n]=e}return t.join(" ")}function gS(t,a){if(!a)return[t];var n=[],e=Object.keys(a),i=[];return e.forEach(function(e){for(var t=a[e],n=t.length-1;0<=n;n--)i.push({id:e,first:t[n][0],last:t[n][1]})}),i.sort(function(e,t){return t.first-e.first}),t=punycode.ucs2.decode(t),i.forEach(function(e){n.unshift(punycode.ucs2.encode(t.slice(e.last+1))),n.unshift([hS(e.id)]),t=t.slice(0,e.first)}),n.unshift(punycode.ucs2.encode(t)),n}function yS(a){return Object.keys(a).map(function(n){var e=a[n];return e.type=n,e.versions=Object.keys(a[n].versions).map(function(e){var t=a[n].versions[e];return t.type=e,t}),e})}function bS(e,t,n,a){var i=document.createElement("style");i.type="text/css",i.innerHTML="."+e+"-"+t+' { background-image: url("'+n.replace("http:","https:")+'"); }',a?a.appendChild(i):document.head.appendChild(i)}window.parseIRC=function(e){var t={raw:e,tags:{},prefix:null,command:null,params:[]},n=0,a=0;if(64===e.charCodeAt(0)){if(-1===(a=e.indexOf(" ")))return null;for(var i=e.slice(1,a).split(";"),o=0;o<i.length;o++){var s=i[o].split("=");t.tags[s[0]]=s[1]||!0}n=a+1}for(;32===e.charCodeAt(n);)n++;if(58===e.charCodeAt(n)){if(-1===(a=e.indexOf(" ",n)))return null;for(t.prefix=e.slice(n+1,a),n=a+1;32===e.charCodeAt(n);)n++}if(-1===(a=e.indexOf(" ",n)))return e.length>n?(t.command=e.slice(n),t):null;for(t.command=e.slice(n,a),n=a+1;32===e.charCodeAt(n);)n++;for(;n<e.length;){if(a=e.indexOf(" ",n),58===e.charCodeAt(n)){t.params.push(e.slice(n+1));break}if(-1===a){if(-1===a){t.params.push(e.slice(n));break}}else for(t.params.push(e.slice(n,a)),n=a+1;32===e.charCodeAt(n);)n++}return t},function(e){var t="object"==typeof global&&global;t.global!==t&&t.window!==t&&t.self!==t||(e=t);var n,v=2147483647,g=36,y=26,i=38,o=700,a=/^xn--/,s=/[^\x20-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,l={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},r=g-1,b=Math.floor,w=String.fromCharCode;function k(e){throw new RangeError(l[e])}function c(e,t){for(var n=e.length,a=[];n--;)a[n]=t(e[n]);return a}function u(e,t){var n=e.split("@"),a="";return 1<n.length&&(a=n[0]+"@",e=n[1]),a+c((e=e.replace(d,".")).split("."),t).join(".")}function A(e){for(var t,n,a=[],i=0,o=e.length;i<o;)55296<=(t=e.charCodeAt(i++))&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?a.push(((1023&t)<<10)+(1023&n)+65536):(a.push(t),i--):a.push(t);return a}function C(e){return c(e,function(e){var t="";return 65535<e&&(t+=w((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+w(e)}).join("")}function E(e,t){return e+22+75*(e<26)-((0!==t)<<5)}function M(e,t,n){var a=0;for(e=n?b(e/o):e>>1,e+=b(e/t);r*y>>1<e;a+=g)e=b(e/r);return b(a+(r+1)*e/(e+i))}function _(e){var t,n,a,i,o,s,d,l,r,c,u,_=[],f=e.length,m=0,h=128,p=72;for((n=e.lastIndexOf("-"))<0&&(n=0),a=0;a<n;++a)128<=e.charCodeAt(a)&&k("not-basic"),_.push(e.charCodeAt(a));for(i=0<n?n+1:0;i<f;){for(o=m,s=1,d=g;f<=i&&k("invalid-input"),u=e.charCodeAt(i++),(g<=(l=u-48<10?u-22:u-65<26?u-65:u-97<26?u-97:g)||l>b((v-m)/s))&&k("overflow"),m+=l*s,!(l<(r=d<=p?1:p+y<=d?y:d-p));d+=g)s>b(v/(c=g-r))&&k("overflow"),s*=c;p=M(m-o,t=_.length+1,0===o),b(m/t)>v-h&&k("overflow"),h+=b(m/t),m%=t,_.splice(m++,0,h)}return C(_)}function f(e){var t,n,a,i,o,s,d,l,r,c,u,_,f,m,h,p=[];for(_=(e=A(e)).length,t=128,o=72,s=n=0;s<_;++s)(u=e[s])<128&&p.push(w(u));for(a=i=p.length,i&&p.push("-");a<_;){for(d=v,s=0;s<_;++s)t<=(u=e[s])&&u<d&&(d=u);for(d-t>b((v-n)/(f=a+1))&&k("overflow"),n+=(d-t)*f,t=d,s=0;s<_;++s)if((u=e[s])<t&&++n>v&&k("overflow"),u===t){for(l=n,r=g;!(l<(c=r<=o?1:o+y<=r?y:r-o));r+=g)h=l-c,m=g-c,p.push(w(E(c+h%m,0))),l=b(h/m);p.push(w(E(l,0))),o=M(n,f,a===i),n=0,++a}++n,++t}return p.join("")}n={version:"1.4.1",ucs2:{decode:A,encode:C},decode:_,encode:f,toASCII:function(e){return u(e,function(e){return s.test(e)?"xn--"+f(e):e})},toUnicode:function(e){return u(e,function(e){return a.test(e)?_(e.slice(4).toLowerCase()):e})}},e.punycode=n}(this),function(e,t){e.ReconnectingWebSocket=function(){if("WebSocket"in window)return u.prototype.onopen=function(){},u.prototype.onclose=function(){},u.prototype.onconnecting=function(){},u.prototype.onmessage=function(){},u.prototype.onerror=function(){},u.debugAll=!1,u.CONNECTING=WebSocket.CONNECTING,u.OPEN=WebSocket.OPEN,u.CLOSING=WebSocket.CLOSING,u.CLOSED=WebSocket.CLOSED,u;function u(e,t,n){var a={debug:!1,automaticOpen:!0,reconnectInterval:1e3,maxReconnectInterval:3e4,reconnectDecay:1.5,timeoutInterval:3e3,maxReconnectAttempts:null,binaryType:"blob"};for(var i in n||(n={}),a)void 0!==n[i]?this[i]=n[i]:this[i]=a[i];this.url=e,this.reconnectAttempts=0,this.readyState=WebSocket.CONNECTING,this.protocol=null;var o,s=this,d=!1,l=!1,r=document.createElement("div");function c(e,t){var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}r.addEventListener("open",function(e){s.onopen(e)}),r.addEventListener("close",function(e){s.onclose(e)}),r.addEventListener("connecting",function(e){s.onconnecting(e)}),r.addEventListener("message",function(e){s.onmessage(e)}),r.addEventListener("error",function(e){s.onerror(e)}),this.addEventListener=r.addEventListener.bind(r),this.removeEventListener=r.removeEventListener.bind(r),this.dispatchEvent=r.dispatchEvent.bind(r),this.open=function(a){if((o=new WebSocket(s.url,t||[])).binaryType=this.binaryType,a){if(this.maxReconnectAttempts&&this.reconnectAttempts>this.maxReconnectAttempts)return}else r.dispatchEvent(c("connecting")),this.reconnectAttempts=0;(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","attempt-connect",s.url);var e=o,i=setTimeout(function(){(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","connection-timeout",s.url),l=!0,e.close(),l=!1},s.timeoutInterval);o.onopen=function(){clearTimeout(i),(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","onopen",s.url),s.protocol=o.protocol,s.readyState=WebSocket.OPEN,s.reconnectAttempts=0;var e=c("open");e.isReconnect=a,a=!1,r.dispatchEvent(e)},o.onclose=function(e){if(clearTimeout(i),o=null,d)s.readyState=WebSocket.CLOSED,r.dispatchEvent(c("close"));else{s.readyState=WebSocket.CONNECTING;var t=c("connecting");t.code=e.code,t.reason=e.reason,t.wasClean=e.wasClean,r.dispatchEvent(t),a||l||((s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","onclose",s.url),r.dispatchEvent(c("close")));var n=s.reconnectInterval*Math.pow(s.reconnectDecay,s.reconnectAttempts);setTimeout(function(){s.reconnectAttempts++,s.open(!0)},n>s.maxReconnectInterval?s.maxReconnectInterval:n)}},o.onmessage=function(e){(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","onmessage",s.url,e.data);var t=c("message");t.data=e.data,r.dispatchEvent(t)},o.onerror=function(e){(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","onerror",s.url,e),r.dispatchEvent(c("error"))}},!0===this.automaticOpen&&this.open(!1),this.send=function(e){if(o)return(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","send",s.url,e),o.send(e);throw"INVALID_STATE_ERR : Pausing to reconnect websocket"},this.close=function(e,t){void 0===e&&(e=1e3),d=!0,o&&o.close(e,t)},this.refresh=function(){o&&o.close()}}}()}(this);var wS=function(){var e={parse:function(e,t,n){return t||(e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;")),a(e,function(e){var t=function(e){for(var t=e.indexOf(d)<0?e.replace(s,""):e,n=[],a=0,i=0,o=0;o<t.length;)a=t.charCodeAt(o++),i?(n.push((65536+(i-55296<<10)+(a-56320)).toString(16)),i=0):55296<=a&&a<=56319?i=a:n.push(a.toString(16));return n.join("-")}(e);return t?'<img class="'+(n?"emoticon":"emoji")+'" src="https://twemoji.maxcdn.com/2/72x72/'+t+'.png"/>':e})},replace:a},n=/(?:\ud83d[\udc68\udc69])(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddb0-\uddb3])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f)|[\u0023\u002a\u0030-\u0039]\ufe0f?\u20e3|(?:[\u00a9\u00ae\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\uddb5\uddb6\uddb8\uddb9\uddd1-\udddd]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a-\udc6d\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\udeeb\udeec\udef4-\udef9]|\ud83e[\udd10-\udd17\udd1d\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd40-\udd45\udd47-\udd70\udd73-\udd76\udd7a\udd7c-\udda2\uddb4\uddb7\uddc0-\uddc2\uddd0\uddde-\uddff]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g,s=/\uFE0F/g,d=String.fromCharCode(8205);return e;function a(e,t){return String(e).replace(n,t)}}();