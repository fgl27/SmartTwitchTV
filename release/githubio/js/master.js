var t,n,i,e,a,o,s,d,l,r,p,c,u,_,f,h,v,m,g,y,b,w,A,k,C,E,M,I,S,x,P,T,L,B,O,G,U,R,N,D,V,J,H,F,q,z,X,Y,j,W,Q,Z,K,$,ee,te,ne,ie,ae,oe,se,de,le,re,ce,ue,_e,fe,he,me,pe,ve,ge,ye,be,we,Ae,ke,Ce,Ee,Me,Ie,Se,xe,Pe,Te,Le,Be,Oe,Ge,Ue,Re,Ne,De,Ve,Je,He,Fe,qe,ze,Xe,Ye,je,We,Qe,Ze,Ke,$e,et,tt,nt,it,at,ot,st,dt,lt,rt,ct,ut,_t,ft,ht,mt,pt,vt,gt,yt,bt,wt,At,kt,Ct,Et,Mt,It,St,xt,Pt,Tt,Lt,Bt,Ot,Gt,Ut,Rt,Nt,Dt,Vt,Jt,Ht,Ft,qt,zt,Xt,Yt,jt,Wt,Qt,Zt,Kt,$t,en,tn,nn,an,on,sn,dn,ln,rn,cn,un,_n,fn,hn,mn,pn,vn,gn,yn,bn,wn,An,kn,Cn,En,Mn,In,Sn,xn,Pn,Tn,Ln,Bn,On,Gn,Un,Rn,Nn,Dn,Vn,Jn,Hn,Fn,qn,zn,Xn,Yn,jn,Wn,Qn,Zn,Kn,$n,ei,ti,ni,ii,ai,oi,si,di,li,ri,ci,ui,_i,fi,hi,mi="fglfgl27@gmail.com",pi="<br>",vi='<i class="icon-circle" style="font-size: 50%; vertical-align: middle; font-weight: bold;"></i>  ',gi='<div class="about_text_title">',yi='<div class="about_text_title" style="text-align: left;">',bi='<div style="text-align: left;">',wi="",Ai="",ki="",Ci="",Ei="",Mi="",Ii="",Si="",xi="",Pi="&nbsp;";function Ti(){wi=e+" (C)",Ai=n+" (D)",Ci=i+" (A)",ki=a+" (A)",l+=Zt,r+=Zt,I=ai+oi,Ei=gi+e+"</div>"+gi+Ce+"</div>"+pi+bi+vi+xe+pi+vi+(Pe+=Yt)+pi+vi+Te+pi+vi+ci+pi+vi+Le+pi+Be+pi+vi+Oe+pi+Pi+Pi+Pi+Ge+pi+vi+Ue+pi+"</div>"+pi+(Si=gi+Ae+"</div>"+bi+vi+nt+pi+vi+$e+pi+vi+et+pi+"</div>"+bi+vi+tt+pi+vi+it+pi+vi+at+pi+pi+gi+ke+"</div>"+bi+vi+ot+pi+vi+st+pi+vi+dt+pi+vi+lt+pi+vi+rt)+pi+pi+gi+we+"</div>",Mi=gi+be+"</div></div>",Ii=bi+pi+Re+pi+(jl?pi+'<div style="display: inline-block; color: #FF0000; font-size: 110%; font-weight: bold;">'+Zn+"</div>":"")+"</div>"+pi+gi+Ne+"</div>"+mi+pi+pi+De+pi+Ve+pi+pi+yi+Je+"</div>"+bi+We+pi+vi+He+pi+vi+Fe+pi+vi+qe+pi+vi+ze+pi+vi+Xe+pi+vi+Ye+pi+vi+je+pi+Qe+pi+vi+Ze+pi+vi+Ke+pi+gi+we+"</div></div>",xi=ht+pi+vi+mt.replace("link_link",'<div style="display: inline-block; color: #FF0000; font-size: 110%; font-weight: bold;">http://tiny.cc/twitchkeycode</div>')+pi+vi+pt+pi+vi+vt+pi+vi+gt+pi+vi+yt}function Li(){Pr=!1,document.getElementById("side_panel").style.width="25%",t="Refresh",n="Search",i="Settings",e="Controls",a="About",o="Hide",s="The text you entered is empty.",d="The search result is empty.",l="Switch screen",r="Switch user screen",p="Switch: Past Broadcast or Highlight",c="Switch: Period (24h, 7d, 30d, all)",u="Go to ",_="User ",f="Live",h="Games",v="Playing ",m=" for ",g="Watching time ",y="Since ",b="A Game",w="Type your search...",A="Type your authentication key...",k="Type your user name...",C="Press Enter or Select key to, ",E="Channels",M="Channel",ai="Back to previously screen: Back key",oi=" twice",S=" has ended",x="This video is only available to subscribers.",P="Connection failed, unable to load content hit refresh to try again",T="No",L=" for this ",B="Connection failed, unable to load video content exiting...",O=" Past Broadcast",G=" Highlight",U=" Clips",R=" Content",N="Streamed ",D="Duration ",V=" Views",J=" Viewers",H="Click again to exit!",F="Do you wanna to exit SmartTV Twitch?",q="Exit",z="Close",X="Minimize",Y="Cancel",j="Not Live | ",W=" Channels Live",Q=" Hosts Live",Z=" Games Live",K=" Followed Channels",$=" Add User",ee=" Remove User",te="User doesn't exist",ne=" hosting ",ie=" already set",ae="Make First",oe="First user can fallow (when providing a key) and see live channels feed outside of the user screen<br>",se="Add a Twitch user to display it's Followed Channels content here",de=" (24h)",le=" (7d)",re=" (30d)",ce=" (all)",ue="Jumping",_e=" to ",fe="Jump Canceled",he=" , jump time bigger then duration",me=" Sec",pe=" Min",ve=" Hr",ge="Source",ye="Version: ",be="SmartTV Twitch",we="Press back key to close this.",Ae="Player Related:",ke="Chat Related:",Ce="General Related:",Ee="Update",Me="Current installed version ",Ie=" latest available version ",Se="This are the none players related controls, the player can show it's own controls.",xe="Play a video: Navigate using Directional pad (up/down/left/right), press enter to start playing",Pe="Refresh screen content: ",Te="Exit the application: from side panel click exit",ci="Force close the application: Hold the back key for 5 seconds",Le=" Switch screen: Back key then D-Pad left or right",Be="Some screen will change its internal content (channel past broadcast or clips for example) instead of changing to another screen",Oe="Start a search: from side panel click search",Ge="After writing the search text press key Enter on the virtual keyboard then choose a search option",Ue="About this application: from side panel click about",Re="This is a SmartTV Twitch client develop by a individual on his free time, for TV's that don't have access to a good official application, released for free to any one that wanna to use it.",Zn="This version of the app is for test in a browser only!",Ne="Developer information:",De="This is an open source application licensed under the GNU General Public License v3.0, check it on github",Ve="github.com/fgl27/SmartTwitchTV",Je="This application uses following dependencies:",He="Nightdev KapChat - KapChat captures Twitch chat directly into OBS or XSplit (https://www.nightdev.com/kapchat/)",Fe="Fontastic - Create your customized icon fonts in seconds (http://app.fontastic.me)",qe="Twemoji - A simple library that provides standard Unicode emoji support across all platforms (https://github.com/twitter/twemoji)",ze="UglifyJS - is a JavaScript parser, minifier, compressor and beautifier toolkit (https://github.com/mishoo/UglifyJS2)",Xe="JS Beautifier - Beautify, unpack or deobfuscate JavaScript and HTML, make JSON/JSONP readable, etc. (https://github.com/beautify-web/js-beautify)",Ye="HTMLMinifier - A highly configurable, well-tested, JavaScript-based HTML minifier (https://github.com/kangax/html-minifier)",je="JSHint - A Static Code Analysis Tool for JavaScript (https://github.com/jshint/jshint)",We="Web:",Qe="Android:",Ze="Google: Leanback v17 (https://developer.android.com/reference/android/support/v17/leanback/package-summary)",Ke="Google: ExoPlayer (https://github.com/google/ExoPlayer)",$e="Show information panel: Press enter key or D-pad keys if chat and live channel feed is not showing",et="Close the video: press back key twice",tt="Play/Pause a video: open information panel and click on pause symbol (not available to Live streams)",nt="Show user live channels feed: D-pad up",it="Change video quality: Open information panel, , navigate using use Directional pad (left/right), then use Directional pad (up/down) to choose the new quality after press Enter key to confirm the change",at="Force refresh a video (in case it freezes): Change video quality to the same",ot="Show or hide the Chat : D-pad right",st="Change Chat position : D-pad left",dt="Change Chat size : D-pad down",lt="Change Chat background brightness: Change in side panel settings",rt="Force refresh the Chat (in case it freezes or doesn't load): Change video quality to the same will reset and sync it",ct='Start a search: open information panel, navigate using use Directional pad (left/right) to "Search" and press enter',ut="Chat and video (Side by side): Color button red (A)",ti="Force disable the chat",ni="with this the chat will not load content, this is useful on a stream with too many viewers were the chat can lag the app.",_t="Update available, check google play store",ft="Adding a key allows the app to access live user content faster, fallow/unfallow channels/games and access subscribed only past broadcast (for channel you are Sub to and block VOD access to none subscribers) <br> <br> In doubt read this link  <br> <br> https://github.com/fgl27/SmartTwitchTV#authentication <br> <br> add key for",ht=" below, fallowing this steps:",mt="Access the site link_link (using a computer or a smart phone)",pt='Click on the "Authorize" button it will take you to main Twitch.TV authentication site',vt="Login to Twitch.TV using the user name you are trying to add a key for",gt="Click on Authorize button of Twitch.TV site if you agree with the requested permissions",yt="The web page will update and show a key code, the key only has lower case letters and nubers.",bt=" Add Authentication key",wt="Key added OK",At="Key test fail, it's needed to add new one",kt="Key test return OK",Ct="You try to add a key for user ",Et=" but this key is for user ",Mt=" Following",It=" Follow",St=" And you have not set a authentication key the app can't check yours sub status.",xt=" And you are not a sub of this channel",Pt=" You are a sub of this channel but the app fail to authenticate contact the developer email in about",Tt="Fail authentication check with the provider key, please check and try again",Gn="The added key doesn't belong to the user ",Lt="No user",Bt="Set a user and a authentication key to be able to fallow/unfollow",hi="Set a user first",Ot="Restart the",Gt=" Clip",Ut="Channel content",Rt="Network is disconnect, the application can't work without INTERNET",Nt="Network connection reestablished",Dt=" Followers",Vt=", Can't fallow or unfallow ",Jt="Game content",Ht="Yes",Ft="Are you sure you want to remove the user ",qt="Press Up to ",zt="Followed Games",Xt="Change between",Yt=" Back key then Enter",jt=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"],Wt=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Qt="Started ",Zt=" (PG Up/Down)",Kt="Videos",$t=" Video",en="Replay",tn="exiting in ",nn='press "Return" to exit',an="Featured",on="Created ",sn="Open the Broadcast",dn="No Broadcast",ln="There is no Past Broadcast for this clip",rn="And because of that no chat",cn=" is now",un="Open the Hosting",_n="Player related",fn="Buffer size:",hn="A lower value here will make the player to start playing sooner, but it may cause re-buffer with will cause the player to pause to buffer.",mn="Live streams buffer",pn="Videos (Past Broadcast and Highlight) buffer",vn="Clips buffer",gn="General related",yn="Language",bn="Chat: Connecting to chat server..."+pi+"Chat: Connected."+pi+"Chat: Joined channel ",wn="Play from the start or from where you stop watching last time?",kn=(An="From:"+pi)+"Start",Cn="Chat: The Chat has ended!",En=": Most recent",Mn=": Most views",In="Set a authentication key to be able to see fallowed videos",Sn="Switch: Most recent or views",xn="Enable",Pn="Disable",qn="The app was closed willing playing, restoring playback",Tn="Restore playback",Ln="When changing apps, the app may be closed by the system to free memory. In this case the app saves what it was playing and restores the playback when reopened",Bn="Chat font size",On="Change the chat lines font size, applies to text and emotes",Un="Videos animated thumbnails",Rn="Side panel: D-pad left or Back key twice",Nn="Size ",Dn="Brightness ",Vn="Forbidden content, this Live must be for Prime only subscribers or lock to Twitch official app only",Jn="Jump step ",Hn=" seconds",Fn=" minutes",zn="Clock offset",Xn="Application language",Yn="Content language",jn="Press enter to change",Wn="All",Qn="Empty game fro this",Kn="Isn't possible to jump during a buffering",$n="Chat is disabled, enable in side panel settings",ei="This clip/video fail to load can't replay",ii="Chat background brightness ",si="Play Next",li="Playing next in ",di="Play All",ri="Auto Play next clip",ui="Settings, about, etc...",_i=" Press up",fi="Live Feed"}var Bi="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAeEAAAKgCAMAAACbeDVoAAAAM1BMVEU3NTZoZ2eura6enp4+PD1MS0vq6en09PQ0MjPy8vJ9fX1YV1jT09O7u7vf3t+NjY3GxsZnLAeWAAAI3UlEQVR4Ae3d7XabOrcGUPEBWguMzf1f7dltd3u6Q1rHNk5I3jn/NmPYo48lJC1JFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgf0+UoenatpuGEuUdRD8009S806cR/eWU9bs8d0M8/eOmZazfjcvUR3kuYmiz/m6Z46n5dmP9zdjJ+Ln6NusLuQ7labqxvpBdX3iaaayv6cpTxJT1FTlF4Sn6Jeur8vSErjqGP37c0hf2F/Op/tHY7d+Az/WPznMUdhbNWP8iT0M8rb/YGvXUT34Eb2VO8ayf01bmJQo7ikvWq9a+7KStV2UX5X0JuOZOfed8zvoGIn72tGUrs91xDizijx9kbWQ9NVEeMpzq1nOf/Mxjfbts+/KALuuWEfVz9ed6ixzvb8bzueZNHzUXHneut7pvbhzDmvVG2RceFEvWm41dH/dUkW6VeSo8Ji51a/+Mo+/O9S5tFB4xZ73TeMPugG37NaA+4ChrI5emRLkmytxmzXovo61HxFIfktldqwIN3Vgfcyrc7ZL1UTkuTf+Hptw3y5h1490exQxj3cV4Wi7N0JcSP5TSD81lOY1Zsz4ssyncJc51T3k+reuyLOt6OmfdUY594R6Xenz66QcMWT+NptyMONWjOa/rWF917gt3FP0P5dSU+Ec/nfXTu+jHeiCZXfkhonRp3eNx0dYjyUtc6V5OhZs0WQ8k27i2Uy8vhR2KwvPwU31Hm4FUPz5WKia6+rooP9V3tN0529WNXKLwVn0eKuE6lxeaupVD4a26eqyE+/JCX1+hEb/ZkMdKOMvGIytbxFIP1obLS/0jlWLmerSEh/LCUF81Fd5iPVzC09vKXnkuvEGTh0t4jfJfp7px/7KHmtLHJ5xTbE7K3VtjosnjJVzHeXOQ6s5GTJzrARPOcX7bSbksV9DkEROuWf89RBF9d9ugbMtT+BAJ5zLN8zytWX8a10vTXNYx679y/f4nS9bfjIW/mushEs5liJ8HEutPmfV3668/WVIjfqtYDpHw+HvBv71ab4ou6095KvzFkEdI+L9XKcWa1/YERJdWp9+mqx+e8HaBoz9fX71alZjepB/vr9UMzysHT3Wj+fP4IefyNrZ25AclfIrNGdfrC9CnO3bW2p01f0zCXVwd/7Xxlx/n2BfettrxQW14ur61tysvTfX/Xcp1VjuOlHC5MeExypuYKs3l7fqh7uUS19vwJsOLA8XXtXmMNryd7pyuFoxj2f4zL0TWeoix9Nhf61wyh7/u/82+bNHUbz5+LL3ppmO5etYwLvdUmCxJN/FS+SVemutuxuFaQTPHpvwm5nE7peb6BtWPWLXcbsYZ8uqvYDhf3Z1ZmI6TcNZxjmtbErKJ8kM0eX08TqwfmPBWLnOJiL5Zs/4ynk5j/SXX739S5iWvr3wSQx4q4Zp5/nEtU9YfzlMf/xgu5/pDfr/YYz1n3VJ+2Jrqxye8kb9fPR/lu+iXvH1xm1iPk/CVwCLadNvlzYbcM+Fc2hfW+kKu2z/4syVu+jluTxMz1V0Tvj4Xy/6GBZOxv/3Cza6waRX7JRx7Jrx9qEZ74z4C+nHPhHOTcDyW8PaWhxsXxmjy0G24Ly/0N5aZWeqR2/D1Wx6uHCYmxnroNnzXInoWfhny2G346i0PV5a1mPLYbXgqL0w3nZwg1vrMNvx4wpt9PetN+66JrDu34aF/Yd72of1/NPUvsrlr6F/4IYb6Vs0v9V2dh/983/G20zE09e3yu5r1fY3DHS8JuhR+6Orh5TiV76JMY972ChfiXD+DU9cMQ9Odsr7VGIVv+vo55J132jLXr2oufDPVr+pS2J4L//QMtTbW+lWdCt+M9avKvhRiqF/XUEphrl9XU9gczDSY/nLa+nW1UYilfl1rFGKt9UtPlzjXr+tcCv1Yv66xL1sODu8sx7W7TM089P8opfT/GOZmmrr1/PTPHgpzfZpx7aa5j3+UiPJClBIR/Tx161ifZi409Rny1E7Dt1yv+pb/MLWntOTxaRLO8/It3XKDiOib5Qmd9lSY6q5yXOYSJcqt+hJlbsfcO2EudUfZzVEeEXOXdUddoat7ybUpUR4TJUqz5AETlvDYDVH2EUM31n20hbbu4dz1UfYSEf3lvFPCtHu+4mxHfZsS3kO09WFjE2V/0YyHSFgbzqU8y5Ifn7C9tOMU5VliGo2lP3o+fJ6jPNF8so3nY9e01r48U5R+sab1gQnnUp5vyY9KWPUw2yhPF9FmvVc2haHeK7so7yEuWe81FPp8/EXfTxZT1rtk9qVwrnfJKUo5esTnUojT429yf747Iz5FIZYjBrxxyXtfoUh3xEHWRnR555IWzSED3ojORrw7DZ/kwFe0d06WGOuNloPec74xFu4Zap368iGiPxlovcMR8Rz78lH6MVWWbhfz5zkKNIzPPtPiQTw25SM1o8fwkwepl/jgR0rePuSn+UT/adGaDT/xLQB5+kzr6Fn4qf1MR+r7USf9rPct5fClv60KYk6f6vVQ5yj80uRn6vWiS1u0bhTr57qbalX8378Rj0M5jmHUhHcvPzRRDqRRdLhRXGsVXXym41bbHoeYPtkFkaf6N1MUXloP1yTufxSvha1+PPRMeGMa9dG36efxjjP+B6wkZjblVczn+pq2L8fUt/U157lEeQ1Rpk3GYztEOaoY2nGT7+Wv+dK056z/ynPb9FGOLPqXX/h6vgzNpW3b7tIMJcrxRRmaqWvb9sYvTET5JKIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAF/F/wGK2iVvT89ySQAAAABJRU5ErkJggg==",Oi="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAMAAABrrFhUAAAASFBMVEVHcEw1NTXb29swMDB9fX1DQ0NeXl5RUVFtbW3m5ubT09Pg4ODKyso7Ozufn5+9vb2urq62traQkJClpaWJiYmYmJjCwsLq6uo9xg8yAAAAF3RSTlMACeoDbBxBLlX54PHUEZnCrbiFonuQyd/Z9QoAAAhdSURBVHgB7MGBAAAAAICg/akXqQIAAAAAYO7qJdtSEIbC8AKREB4icI57/jOtzm1Ur1ZdFRO/GfxxqzdbTFnJex9+eO9pLWZ5fbgpFFwf7cg2MeNvnGw+2uguUDFvfOaFQt+zZfwT27z3QOU9ezDkvtUy/gvb4+vIvCF+RMYvcRyqj7CGLTNO4ryFVWM9uZZwkdQcqatnXIqrnhusP/VX4+YUvAuL3yxuYze/CH/4FTergmdAPWKC2Enk9mkkTJKGF9fvd8ZEvHth+ZhO0AloQr7gE9BgPIQHPZ5fPhYPsp/ybH/IeFgOT66/QYBGD+UvLkEE+1me6PcVYlQ/Pd90hiDczdx+qhCm0sx+lyBOctPy1x0i7eucfh8hVPRT5s8Qi93t+WWDaFu5t58OCHeQ3Ndf/4cgJCiQwl39Dkp8bslfvlDju1zfbwYUGeby/h2q7BdfoDQo08ql/RXq1CK6f4Kj6N+/jA2YBqWa0f/9F/AvGFBsnO/vUK2f7XdQzp3rDwzlOJzpJwv1Ev2+f424EScb83HkaNOf9u5Ex3EQCQPwjznA+D7sev83XWnVGu1oZ9Jp8pcTNP4eIN2xOaqgCK0oyh6F7CJKunPbU/SDMdYaM/iY9u3sPi4cOERFHpO3ACx+Y30as6g4UCSJgnwEg78y4ciiIKFA7IRucgO+MbjpIwZCa3phW8Lbas76AT81CtmU8LQ0Cdn47gEgpzcXH6X3RgCbxw/5Tagajx+wM/v1F0hZmJb3pUCLRxG/vCktsr75jF0Ke7ypE8wfs2XvWuGZ+TOA/k5laq6fCYYsNF3Ai0J3eV44ftL3hw3dxeFQbLXa//urEtqI7y3vX43SW5dbLh0BHUjcheMgMQncQLMJS28ue9inAY2ZriqfGZrr465rY9NmwCM7v7NxpGv2ingPegbZfEnTXN/fAfTfzXrFH0mgS0LSef0GMEHBJCSrfhYUoCCoTwSOPAJ+7DjolIPANkJFbHXDwcSPgclG3TF6+vAGQGwCk8X/i0KyQM0iJEG/fWmwSUhGxTSoN1Bjer2Z0AnJDkW7kLjKhkD+MKj2ySdUTUIStdKAHap2pYTAfnoUyI8GrU6icVqosqeQBJ0ecEDZISSrSg+QBGVJZYE86O89scRWow+s7MdaQTAoq8bsukHdprBu5zshcVDnFBZHk7AkaLMa/+wmLBHqYkvvrybzWxUfv79mw14LkmygzmR6e3XCMuECi7A4elXUjAvM7Jopyy4K0Q8EuBmhb9mPVNcoLK1nl0UduMAhNIl9OniFPv7/OwvNjgvs5PJp29f3AKjJq+/q6wLUyDXIvzsISiAfjxlrewCO/HnXBELkJjuLVJwLEKaBU8ijqjLbC88J2Cw8zQBt1jTCkw11FpT2ohUhZjYQhSlBXRKmiCBMDuqcMCXyAz2g7hCmRH6gE9RN5Ca7C1PnocsOjTDtOIQqQFkQqgOzUO1QtgvVjEnqGgQW9v97ClUb1feFqHr0UlUfSMLVI0tVfWATroxGauoDvhGuBo2QOShyQtaglZr6wCRkLYStDaqpMBtaYZuhZhS2Fp2wtVExCGDr0AjdBiWr0DXIUk0T8I3QZWThG6tpAJLRC1/nwWd9J3w9JlGwKUXBfBNm0ZBAl0TDjFE05AFkQxYNI1ZRMYJsFBUrnOgIGh2Az6l9cj8odAA+hyBKNoUOwJcQW1Gy1nDPXcTQiRYHktCKktZz6wN0VgZiI1oaAyyipokg8FnU9BYYRU/v8TLfi54FwC6K+sj8/nwjf4Ql3wEbe/VbiIKo6tIn3/ObHqy0srSOess9f+3KZFG2WhSxqyjLBgBm0TZFFIiLaFsKSg6KNA4/5hpRdxRkmoWWSHj9dKlgu6FUe3g8zR+tFChdvz/lEt0R8ZR4NHKJbIqS7XLdGPGtOHZykfn6WyXbxXk84N3cymV2pU3ndhoffGIzJ2/xB9a7uZErBf6BdJFucfG7SxG6c3TBG4sv1vjgxrOTB9p979XW7md+C49ZvtH05zKP6zpuy9Q3zyRVJqy9TiGDE4pzj/hirT+F6Pz6ZBPGRlgctfKkGYPF/xpGodkG/DK4paX/4MkpLzqd17sjqHMqgUJvaBXISzJF8Wx5KuX3TD3cEeUFc8Df2L2TF7W7xZ8M7iTuYNue/vW/xFntmk6bet4G9qp3jWg6pVif8HcWxvWsrbsgJc6EJxiXpUh2Bt8Y9obQAwqDwewsnjOUvKneeTwhboQeUJQRjh7PM2n6aeMyeFI4GRUcidL6H7BhzD+4nNvieaZkrgmv/VDjOuDnhrQ18q1mTgN+KE4lm4K/c5ds9/i0Tg9eVzcdyaOA2dtXixd8V3CJcOlD2Kbcym/a5tzW5C1Khf7Vat6xYKenmB1icm5fj3E81t25FAeL1/j5xZL+oNz89e3ytFR8HOX0+Fg2dT9LBAuGwc1An/5m8l5aizfiw8X+lavgDvXCN33+lO8dhWeydnw+O5zynS6W1WOuqII/y2tYY/e43dTB9+VHmo4Hj82iFj7LI3PRsZzFoB6hK2gAj5tA9qiJK65i941q1e9ljoIp4NHqqENl7FQ6lv+xCSyoTuxK7wPeH7ea2oeBveR0jkOF7FL6i4/pwf2UFXgc2KeSI6oBdRpLBzPfPA6cauGb0sHMPQ6camH30nTWTg8Cp4qbwGlKxo+Aeo3F4eyqf3/g9RPBUXSjmUPNluLDzKG94JeS9bnyfG6vcg58sN+3l93m41C3pTyc9VkvCLi+DzSx7Mj2icpF+a82FT69EZUbmld2NGZxqN3ySjTrc0Ltjq8QuEz0qJ17aUXbonY2SRvwL0vi8E8LB/5txuKX2+12u91ut9vtdrvdbrfb7Xa7/Qf0wSAxhEqDGQAAAABJRU5ErkJggg==",Gi="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAhAAAAEpBAMAAAAwswZCAAAAJ1BMVEU3NTbV1dU2NDXU1NTDwsOrq6t9fX1IR0dwb3DNzc2cm5xbWlqPj4+TNW2cAAAFhElEQVQYGe3AQYud5R0F8MPhzoxSN4d/buoUgcODtIFs+jCmaUqAuQ1RJJuZFAR3mUHE5TBqQFc3iUHcdVpQoZsE0GxjAcFdRPRz9b2ZmbTfoHKf80NERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERExK8VCRj4/pu3+7Wb3z4FTDQSoyGAhrvvSjt9p/ftd45oA8ZobBgPS6UuqaT5kmgwhtOI99Sl0pkLd4hGjIbAZ+ol9dJKV7+wJInRGB9rRypJpZUuzY9gjIaXTkqnuiZVkr4GMZyf9F9dz9XOM2MoBDa6ulZu/vLB+z8v9Fyfw8Q4GoC/qST1K5/DNLce7qg02SOMcTRuaKXePCZt2r57QyVpDsMYhYl9TepLwM1strl5opK0RwzEr0hd/S/HaECzG0x/qkm9ZoyDuKdS3z60TRiECeILqaT7GEf7w4mk+pdJ2IRNE758Q5OvQAxjo0r9wpEJm2ggCAMfdUlzGCOwDdxTL71lGyvGma2FpL4kRkCCXnRp+ylIwAZxhj9Iql0MwSQ2u6Q/22g0YOLcpa7SRWIINmaaPCII04Zxhnws6Q0MoQF+oNL2MWgQ/8v4pKtriSE0cl/Sn2DDvnzjiXGO/r2kuo0REG2rS9q1TWBD20vjDImF1K9iBCY2u6RDkEB7vff5Mc4RB5IuYgQkNiTVkU0AM0nXQRIGYH8o6YqNARgvl3SFhAHMJO3csk2CJje6+jZpY/35u6561Q0EMCup9ASECRgvSb0/bVh/BA4kXaWJyUxV0rUlCJPwliaHILH27MeSdg0YwEwrNT8GSQNcqPSIJtadwX1V7YEwgJl6SerXYRgE96W6DRprz15U6RnRDGBWmpR2bsEkgB8l/RUmBrBQ1aGNlZm6VFLVIzYYOOhVu2DD2iNOJN3BqZnOzWE24KCkfxAjsEq6j1MznSkBBvBA0h8NY92RPJF0B6dmWilJc9hoOJD0d2L9uXEh6RCnZnqudz1qNMGDLu0SxAAWJT3DqZkmXTt1iyQM/yj1XWP9kdyXdBunZpqU6jpgw8C+pD0YA/Bjde3i1EzPzY9IA7AXkh4Zxrpj44Gk3+LUTCvbSxgAiS1NDgli/fE7Sa8CNoGZ1KUnMCYNfklS/dvG2qPxclefG4DJmaR+iyBW3DZK/RpIjGCjtLNzZJjNr6t0HTZWTHyoXnOYWHsENlXSIQnbs9L8CMZzpA+qdLEBxtqzt3ov7ZpoxIa2lyBNrBgLSVdBE2uPwL56vwibxuUbTwgYxoTc7JL2CBLrjjDuSbV9BBiTRtAwJsQnpd6XJIy1Z2AmqT8iCJuwQeLUY0kXYDRiBJuavArAJs4QJF7S5CKG4UXv2n7KCc6ZJn+Q1HeJYTyQVG95ghdMby2kqiXGsdGl/sYRDeMMQX7UJc3RMApvnah33QKIF+zf3ChJX9kYBXFPKm0vDeJMg79QV+/3QYzCeEUrvzu2ca59Kqn0mhuGwYb9Lqm+hHGmbZ5IJe3BxjCIDUldevOoGbaBu4veJc0BG6MgiH2VVHXlczebWw+7ulTaA2yMZENSL/W6+csH7/+86L2rSnOCGIhN/KRJl0qTLqmkemYY4zAml/6pF7omvfQ12TAQT+CPpR1JvdQ1qdL8mMRISNjAZ12lKvWSVOoXljAaBmIQJP2epNK5C3cAYkwPe5WkrpKuLI1RkXff7ZJK2n7nyMawDHz/zdv92s1vn8LEsIyJG2iCjRiXbYBAA0xjWAZhAAZAgxiX2QgbhpuNcRGACcAgIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiLi/+Y/XKfZaw0ONrwAAAAASUVORK5CYII=",Ui="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",Ri=51,Ni=52,Di=179,Vi=37,Ji=38,Hi=39,Fi=40,qi=13,zi=49,Xi=8,Yi=13,ji=32,Wi=46,Qi=0,Zi=5,Ki=1e4,$i=0,ea=!1,ta=!1,na=!1,ia="",aa="https://fgl27.github.io/SmartTwitchTV/release/index.min.html",oa="elsu5d09k0xomu7cggx3qg5ybdwu7g",sa="https://id.twitch.tv/oauth2/token?";function da(e){wr.Users_Position=wr.Users_AddcodePosition,$i=e,La(),Sc(),_a()}function la(e,t,n,i){var a=new XMLHttpRequest,o=sa+"grant_type=refresh_token&client_id="+encodeURIComponent(jr)+"&client_secret="+encodeURIComponent(oa)+"&refresh_token="+encodeURIComponent(Ka[e].refresh_token)+"&redirect_uri="+aa;a.open("POST",o,!0),a.timeout=Ki,a.ontimeout=function(){},a.onreadystatechange=function(){4===a.readyState&&(200===a.status?ca(a.responseText,e,n):-1!==JSON.parse(a.responseText).message.indexOf("Invalid refresh token")?(ma(),i&&i()):ra(e,t,n,i))},a.send(null)}function ra(e,t,n,i){++t<5?la(e,t,n,i):i&&i()}function ca(e,t,n){var i=JSON.parse(e);ua(i.scope)?(Ka[t].access_token=i.access_token,Ka[t].refresh_token=i.refresh_token,go()):ma(),n&&n()}function ua(e){return-1!==e.indexOf("user_read")&&-1!==e.indexOf("user_follows_edit")&&-1!==e.indexOf("user_subscriptions")}function _a(){var e=sa+"grant_type=authorization_code&client_id="+encodeURIComponent(jr)+"&client_secret="+encodeURIComponent(oa)+"&code="+encodeURIComponent($i)+"&redirect_uri="+aa,t=new XMLHttpRequest;t.open("POST",e,!0),t.timeout=Ki,t.ontimeout=function(){},t.onreadystatechange=function(){4!==t.readyState||(200===t.status?pa(t.responseText):fa())},t.send(null)}function fa(){++Qi<Zi?_a():ha()}function ha(){xc(),Dc(Tt),window.setTimeout(function(){Vc(),Er=0,iu(),wr.Main_Go=ur,window.location=aa},4e3),Ka[wr.Users_Position].access_token=0,Ka[wr.Users_Position].refresh_token=0,go()}function ma(){tM=!1,xc(),Dc(Tt),Ka[wr.Users_Position].access_token=0,Ka[wr.Users_Position].refresh_token=0,go(),iu(),window.setTimeout(Vc,4e3)}function pa(e){var t=JSON.parse(e);Ka[wr.Users_Position].access_token=t.access_token,Ka[wr.Users_Position].refresh_token=t.refresh_token,La(),va()}function va(){c_("https://api.twitch.tv/kraken?oauth_token="+Ka[wr.Users_Position].access_token,Ki,0,null,ga,ya)}function ga(e){var t=JSON.parse(e).token;if(t.user_name&&-1!==t.user_name.indexOf(Ka[wr.Users_Position].name)){if(go(),Er=0,xc(),tM=!1,wr.Main_Go=ur,iu(),Dc(wt),cc)try{Android.clearCookie()}catch(e){}window.setTimeout(function(){window.location=aa},3e3)}else Ka[wr.Users_Position].access_token=0,Ka[wr.Users_Position].refresh_token=0,Dc(Gn+Ka[wr.Users_Position].name),window.setTimeout(function(){Vc(),Er=0,iu(),wr.Main_Go=ur,window.location=aa},4e3)}function ya(){++Qi<Zi?(Ki+=500,va()):ha()}function ba(){La(),ea=!1,wa()}function wa(){var e="https://api.twitch.tv/kraken/users/"+Ka[wr.Users_Position].id+"/follows/channels/"+ia,t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=Ki,t.setRequestHeader(Wr,jr),t.setRequestHeader(Qr,$r),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?Aa():404===t.status?ka(t.responseText):Ca())},t.send(null)}function Aa(){ea=!0,na?jp():ds()}function ka(e){-1!==(JSON.parse(e).error+"").indexOf("Not Found")?(ea=!1,na?jp():ds()):Ca()}function Ca(){++Qi<Zi?(Ki+=500,wa()):na?jp():ds()}function Ea(){La(),Ma()}function Ma(){var e=new XMLHttpRequest;e.open("PUT","https://api.twitch.tv/kraken/users/"+Ka[wr.Users_Position].id+"/follows/channels/"+ia,!0),e.timeout=Ki,e.setRequestHeader(Wr,jr),e.setRequestHeader(Qr,$r),e.setRequestHeader("Authorization","OAuth "+Ka[wr.Users_Position].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return ea=!0,void(na?jp():ds());401===e.status||403===e.status?la(wr.Users_Position,0,Ea,null):Ia()}},e.send(null)}function Ia(){++Qi<Zi&&(Ki+=500,Ma())}function Sa(){La(),xa()}function xa(){var e=new XMLHttpRequest;e.open("DELETE","https://api.twitch.tv/kraken/users/"+Ka[wr.Users_Position].id+"/follows/channels/"+ia,!0),e.timeout=Ki,e.setRequestHeader(Wr,jr),e.setRequestHeader(Qr,$r),e.setRequestHeader("Authorization","OAuth "+Ka[wr.Users_Position].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(204===e.status)return ea=!1,void(na?jp():ds());401===e.status||403===e.status?la(wr.Users_Position,0,Sa,null):Pa()}},e.send(null)}function Pa(){++Qi<Zi&&(Ki+=500,xa())}function Ta(){La(),ta=!1,Ba()}function La(){Qi=0,Ki=1e4}function Ba(){var e,t="https://api.twitch.tv/kraken/users/"+Ka[wr.Users_Position].id+"/subscriptions/"+ia;if(cc){if(!(e=Android.mreadUrl(t,Ki,3,Ka[wr.Users_Position].access_token)))return void Oa();if(200===(e=JSON.parse(e)).status)ta=!0,sg();else if(422===e.status)ta=!1,og();else if(404===e.status){if(-1!==(JSON.parse(e.responseText).error+"").indexOf("Not Found"))return ta=!1,void og();Oa()}else 401===e.status||403===e.status?la(wr.Users_Position,0,Ta,Ga):Oa()}else(e=new XMLHttpRequest).open("GET",t,!0),e.timeout=Ki,e.setRequestHeader(Wr,jr),e.setRequestHeader(Qr,$r),e.setRequestHeader("Authorization","OAuth "+Ka[wr.Users_Position].access_token),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState)if(200===e.status)ta=!0,sg();else if(422===e.status)ta=!1,og();else if(404===e.status){if(-1!==(JSON.parse(e.responseText).error+"").indexOf("Not Found"))return ta=!1,void og();Oa()}else 401===e.status||403===e.status?la(wr.Users_Position,0,Ta,Ga):Oa()},e.send(null)}function Oa(){++Qi<Zi?(Ki+=500,Ba()):Ga()}function Ga(){ta=!1,og()}function Ua(e){La(),Ra(e,0)}function Ra(e,t){var n,i="https://api.twitch.tv/kraken?oauth_token="+Ka[e].access_token;if(cc){if(!(n=Android.mreadUrl(i,3500,0,null)))return void Da(e,t);200===(n=JSON.parse(n)).status?Na(n.responseText,e):400===n.status?(La(),la(e,0,null,null)):Da(e,t)}else(n=new XMLHttpRequest).open("GET",i,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){4===n.readyState&&(200===n.status?Na(n.responseText,e):400===n.status?(La(),la(e,0,null,null)):Da(e,t))},n.send(null)}function Na(e,t){var n=JSON.parse(e);n.token.valid?ua(n.token.authorization.scopes)||ma():(La(),la(t,0,null,null))}function Da(e,t){++t<Zi&&Ra(e,t)}function Va(){La(),Ja()}function Ja(){var e=new XMLHttpRequest;e.open("PUT","https://api.twitch.tv/api/users/"+Ka[wr.Users_Position].name+"/follows/games/"+encodeURIComponent(wr.Main_gameSelected)+"?oauth_token="+Ka[wr.Users_Position].access_token,!0),e.timeout=1e4,e.setRequestHeader(Wr,jr),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status)return Hy=!0,void ky();401===e.status||403===e.status?la(wr.Users_Position,0,Va,null):Ha()}},e.send(null)}function Ha(){++Qi<Zi&&(Ki+=500,Ja())}function Fa(){La(),qa()}function qa(){var e=new XMLHttpRequest;e.open("DELETE","https://api.twitch.tv/api/users/"+Ka[wr.Users_Position].name+"/follows/games/"+encodeURIComponent(wr.Main_gameSelected)+"?oauth_token="+Ka[wr.Users_Position].access_token,!0),e.timeout=1e4,e.setRequestHeader(Wr,jr),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState){if(204===e.status)return Hy=!1,void ky();401===e.status||403===e.status?la(wr.Users_Position,0,Fa,null):za()}},e.send(null)}function za(){++Qi<Zi&&(Ki+=500,qa())}function Xa(){La(),Ya()}function Ya(){var e,t="https://api.twitch.tv/api/users/"+Ka[wr.Users_Position].name+"/follows/games/"+encodeURIComponent(wr.Main_gameSelected);(e=new XMLHttpRequest).open("GET",t,!0),e.timeout=1e4,e.setRequestHeader(Wr,jr),e.ontimeout=function(){},e.onreadystatechange=function(){if(4===e.readyState)return 200===e.status?(Hy=!0,void ky()):404===e.status?(Hy=!1,void ky()):void ja()},e.send(null)}function ja(){++Qi<Zi?(Ki+=500,Ya()):(Hy=!1,ky())}var Wa=0,Qa=5,Za=3500,Ka=[],$a=null,eo=!1,to=!1;function no(){wr.Main_Go=$l,kc("top_bar_user","icon_center_focus"),Vc(),Hl.placeholder=k,wc("add_user_scroll"),oo()}function io(){lo(!1),document.body.removeEventListener("keydown",ao),document.body.removeEventListener("keydown",ro),Cc("top_bar_user","icon_center_focus"),bc("add_user_scroll")}function ao(e){if(!eo&&!to&&wr.Main_Go===$l)switch(e.keyCode){case zi:Fc()?Hc():Yc()?Xc():(0<Ka.length&&wr.Main_Go!==ur?wr.Main_Go=wr.Main_Before:wr.Main_Go=Kl,io(),tu());break;case Ni:case Ri:case Di:case qi:oo()}}function oo(){document.body.removeEventListener("keydown",ao),document.body.addEventListener("keydown",ro,!1),Hl.placeholder=k,Hl.focus(),to=!0}function so(){if(null!==Hl){var e=Hl.cloneNode(!0);Hl.parentNode.replaceChild(e,Hl),Hl=document.getElementById("user_input")}}function lo(e){Hl.blur(),so(),document.body.removeEventListener("keydown",ro),Hl.placeholder=C+k,e&&document.body.addEventListener("keydown",ao,!1),to=!1}function ro(e){if(!eo&&wr.Main_Go===$l)switch(e.keyCode){case zi:Fc()?Hc():Yc()?Xc():(0<Ka.length&&wr.Main_Go!==ur?wr.Main_Go=wr.Main_Before:wr.Main_Go=Kl,io(),tu());break;case Wi:Hl.value="";break;case Yi:case Fi:""!==Hl.value&&null!==Hl.value?bo($a=Hl.value)?(xc(),Dc(_+$a+ie),window.setTimeout(function(){Vc(),oo()},1500)):(Za=3500,eo=!(Wa=0),bc("add_user_scroll"),Sc(),co()):oo();break;case Xi:Hl.value=Hl.value.slice(0,-1);break;case ji:Hl.value+=" "}}function co(){c_("https://api.twitch.tv/kraken/users?login="+encodeURIComponent($a),Za,2,null,uo,_o)}function uo(e){JSON.parse(e)._total?(Hl.value="",document.body.removeEventListener("keydown",ao),po(e)):fo()}function _o(){++Wa<Qa?(Za+=500,co()):fo()}function fo(){$a=null,xc(),Dc(te),window.setTimeout(function(){no()},1e3),eo=!1}function ho(){if(0<(Ka=s_("AddUser_UsernameArray",[])).length)for(var e=0;e<Ka.length;e++)Ka[e].access_token&&Ua(e)}function mo(){return 0<Ka.length}function po(e){$a=JSON.parse(e).users[0],Ka.push({name:$a.name,id:$a._id,access_token:0,refresh_token:0}),go(),tM=!1,io(),iM(),eo=!1}function vo(e){var t=Ka.indexOf(Ka[e]);-1<t&&Ka.splice(t,1),0<Ka.length?(tM=!1,iM()):no(),go()}function go(){a_("AddUser_UsernameArray",JSON.stringify(Ka))}function yo(e){$a=Ka[0],Ka[0]=Ka[e],Ka[e]=$a,tM=!1,iM(),go(),wr.Users_Position=0}function bo(e){return-1!==Ka.indexOf(e)}function wo(){return 0<Ka.length}var Ao,ko=0,Co=0,Eo=!1,Mo=0,Io=0,So=5,xo=3500,Po=0,To=!1,Lo=!1,Bo=["cc_thumbdiv","cc_img","cc_infodiv","cc_name","cc_createdon","cc_game","cc_viwers","cc_duration","cc_cell","sccempty_","channel_content_scroll"],Oo=!1,Go="",Uo=null,Ro="",No="",Do="",Vo={},Jo=!1,Ho=null,Fo="";function qo(){wr.Main_CenterLablesVectorPos=1,wr.Main_Go=lr,Jo&&!wr.Search_isSearching&&wr.Main_selectedChannel_id&&hs(),Go!==wr.Main_selectedChannel&&(Oo=!1),du(),wr.Main_selectedChannelDisplayname=wr.Main_selectedChannelDisplayname.replace(j,""),Mc("top_bar_user",wr.Main_selectedChannelDisplayname),Mc("top_bar_game",Ut),document.body.addEventListener("keydown",ms,!1),na=!1,Oo?(fu(ko),wc(Bo[10]),rs(),cs(),iu()):Xo()}function zo(){su(),document.body.removeEventListener("keydown",ms),bc(Bo[10])}function Xo(){_u("stream_table_channel_content"),bc(Bo[10]),Ho=null,Sc(),Vc(),Go=wr.Main_selectedChannel,Eo=To=Oo=!1,Ao=void(ko=Co=Mo=Po=0),Yo(),jo()}function Yo(){Qu=!0,Io=0,xo=3500}function jo(){c_("https://api.twitch.tv/kraken/streams/"+encodeURIComponent(void 0!==Ao?Ao:wr.Main_selectedChannel_id),xo,2,null,Wo,Qo)}function Wo(e){null!==JSON.parse(e).stream?(Uo=e,Yo(),es()):Ao?(Uo=null,Yo(),es()):(Yo(),Zo())}function Qo(){++Io<So?(xo+=500,jo()):(Uo=null,Yo(),es())}function Zo(){c_("https://tmi.twitch.tv/hosts?include_logins=1&host="+encodeURIComponent(wr.Main_selectedChannel_id),xo,1,null,$o,Ko,!0)}function Ko(){++Io<So?(xo+=500,Zo()):(Uo=null,Yo(),es())}function $o(e){var t=JSON.parse(e);void 0!==(Ao=t.hosts[0].target_id)?(Yo(),jo()):(Uo=null,Yo(),es())}function es(){c_("https://api.twitch.tv/kraken/channels/"+wr.Main_selectedChannel_id,vv,2,null,ts,ns)}function ts(e){var t=JSON.parse(e);Ho=(Ho=t.video_banner)?Ho.replace("1920x1080",ec):Ho,Fo=t.profile_banner,Ro=t.views,No=t.followers,Do=t.description,wr.Main_selectedChannelLogo=t.logo,is()}function ns(){++Io<So?(xo+=500,es()):(Ho=null,Fo=Ui,Do=No=Ro="",wr.Main_selectedChannelLogo=Oi,is())}function is(){var e=document.createElement("tr"),t=0,n=document.getElementById("stream_table_channel_content");if((xr=document.createElement("tr")).className="follower_banner",xr.innerHTML='<div id="'+Bo[0]+'x_0" class="follower_banner"><img id="'+Bo[1]+'x_0" alt="" class="stream_img_banner"src="'+Fo+'" onerror="this.onerror=null;this.src=\''+Ui+"'\"></div>",n.appendChild(xr),null!==Uo){var i=JSON.parse(Uo);if(null!==i.stream){var a=void 0!==Ao?wr.Main_selectedChannelDisplayname+ne:"",o=i.stream;e.appendChild(as("0_"+t,o.channel.name,o.preview.template,wI.parse(o.channel.status),o.game,Qc(JSON.stringify(o.stream_type))+a+o.channel.display_name,y+Um(o.created_at)+" "+m+jc(o.viewers)+J,Wc(o.video_height,o.average_fps,o.channel.broadcaster_language))),t++}else To=!0}else To=!0;e.appendChild(os("0_"+t,wr.Main_selectedChannelDisplayname,wr.Main_selectedChannelDisplayname+O,"movie-play")),t++,e.appendChild(os("0_"+t,wr.Main_selectedChannelDisplayname,wr.Main_selectedChannelDisplayname+U,"movie")),t<2&&(t++,e.appendChild(pu(Bo[9]+"0_"+t))),n.appendChild(e),(e=document.createElement("tr")).appendChild(ss("1_0",wr.Main_selectedChannelDisplayname,wr.Main_selectedChannelDisplayname,wr.Main_selectedChannelLogo)),(xr=document.createElement("td")).setAttribute("id",Bo[8]+"x_x"),xr.className="stream_cell",xr.innerHTML='<div id="'+Bo[0]+'x_x" class="stream_thumbnail_video" ><div id="'+Bo[4]+'x_x" class="stream_channel_info">'+wI.parse(Do)+"</div></div>",e.appendChild(xr),n.appendChild(e),ls()}function as(e,t,n,i,a,o,s,d){return(xr=document.createElement("td")).setAttribute("id",Bo[8]+e),xr.setAttribute(ic,t),xr.className="stream_cell",xr.innerHTML='<div id="'+Bo[0]+e+'" class="stream_thumbnail_video" ><img id="'+Bo[1]+e+'" alt="" class="stream_img"src="'+n.replace("{width}x{height}",ec)+uc+'" onerror="this.onerror=null;this.src=\''+Gi+'\'"></div><div id="'+Bo[2]+e+'" class="stream_text"><div id="'+Bo[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;"><i class="icon-circle" style="color: '+(void 0!==Ao?"#FED000":"red")+'; font-size: 90%; aria-hidden="true"></i> '+Pi+o+'</div><div id="'+Bo[7]+e+'"class="stream_info" style="width:33%; float: right; text-align: right; display: inline-block;">'+d+'</div><div id="'+Bo[4]+e+'"class="stream_info">'+i+'</div><div id="'+Bo[5]+e+'"class="stream_info">'+v+a+'</div><div id="'+Bo[6]+e+'"class="stream_info">'+s+"</div></div>",xr}function os(e,t,n,i){return(xr=document.createElement("td")).setAttribute("id",Bo[8]+e),xr.setAttribute(ic,t),xr.className="stream_cell",xr.innerHTML='<div id="'+Bo[0]+e+'" class="stream_thumbnail_video" ><div id="'+Bo[1]+e+'" class="stream_channel_content_icon"><i class="icon-'+i+'"></i></div></div><div id="'+Bo[2]+e+'" class="stream_text"><div id="'+Bo[3]+e+'" class="stream_channel" style="text-align: center">'+n+"</div></div>",xr}function ss(e,t,n,i){return(xr=document.createElement("td")).setAttribute("id",Bo[8]+e),xr.setAttribute(ic,t),xr.className="stream_cell",xr.innerHTML='<div id="'+Bo[0]+e+'" class="stream_thumbnail_video" ><div id="schannel_cont_heart" style="position: absolute; top: 5%; left: 6%;"></div><img id="'+Bo[1]+e+'" alt="" class="stream_img_fallow"src="'+i+'" onerror="this.onerror=null;this.src=\''+Oi+'\'"></div><div id="'+Bo[2]+e+'" class="stream_text_channel"><div id="'+Bo[3]+e+'" class="stream_channel">'+n+'</div><div id="'+Bo[5]+e+'"class="stream_info">'+jc(Ro)+V+'</div><div id="'+Bo[6]+e+'"class="stream_info" >'+jc(No)+Dt+"</div></div>",xr}function ds(){ea?(Ec("schannel_cont_heart",'<i class="icon-heart" style="color: #00b300; font-size: 600%; text-shadow: #FFFFFF 0 0 10px, #FFFFFF 0 0 10px, #FFFFFF 0 0 8px;"></i>'),Mc(Bo[3]+"1_0",wr.Main_selectedChannelDisplayname+Mt)):(Ec("schannel_cont_heart",'<i class="icon-heart-o" style="color: #FFFFFF; font-size: 600%; text-shadow: #000000 0 0 10px, #000000 0 0 10px, #000000 0 0 8px;"></i>'),mo()?Mc(Bo[3]+"1_0",wr.Main_selectedChannelDisplayname+It):Mc(Bo[3]+"1_0",wr.Main_selectedChannelDisplayname+Vt))}function ls(){Oo||(Oo=!0,cs(),iu(),wc(Bo[10]),xc()),rs(),Qu=!1}function rs(){Lo?ds():mo()?(ia=wr.Main_selectedChannel_id,na=!1,ba()):(ea=!1,ds())}function cs(){kc(Bo[0]+ko+"_"+(ko?0:Co),nc),Cr&&us(),Eu()}function us(){Du(ko+"_"+(ko?0:Co),Bo)}function _s(){if(ko)mo()&&Ka[wr.Users_Position].access_token?(na=!1,ia=wr.Main_selectedChannel_id,ea?Sa():Ea()):(Dc(Bt),window.setTimeout(Vc,2e3));else{document.body.removeEventListener("keydown",ms),bc(Bo[10]);var e=To?1:0;Co===0-e?(wr.Play_selectedChannel=document.getElementById(Bo[8]+ko+"_"+Co).getAttribute(ic),wr.Play_selectedChannelDisplayname=document.getElementById(Bo[3]+ko+"_"+Co).textContent,-1!==wr.Play_selectedChannelDisplayname.indexOf(ne)?(wr.Play_isHost=!0,wr.Play_DisplaynameHost=wr.Play_selectedChannelDisplayname,wr.Play_selectedChannelDisplayname=wr.Play_selectedChannelDisplayname.split(ne)[1],wr.Play_selectedChannel_id=Ao):wr.Play_selectedChannel_id=wr.Main_selectedChannel_id,wr.Play_gameSelected=document.getElementById(Bo[5]+ko+"_"+Co).textContent.split(v)[1],Hu(Ou)):Co===1-e?Hu(Js):Co===2-e&&(Hg=Ey,Hu(Yg))}}function fs(){Vo={"Main_values.Main_selectedChannel_id":wr.Main_selectedChannel_id,"Main_values.Main_selectedChannelLogo":wr.Main_selectedChannelLogo,"Main_values.Main_selectedChannel":wr.Main_selectedChannel,"Main_values.Main_selectedChannelDisplayname":wr.Main_selectedChannelDisplayname,ChannelContent_UserChannels:Lo,"Main_values.Main_BeforeChannel":wr.Main_BeforeChannel}}function hs(){wr.Main_selectedChannel_id=wr.Main_selectedChannel_id,wr.Main_selectedChannelLogo=wr.Main_selectedChannelLogo,wr.Main_selectedChannel=wr.Main_selectedChannel,wr.Main_selectedChannelDisplayname=wr.Main_selectedChannelDisplayname,Lo=Vo.ChannelContent_UserChannels,wr.Main_BeforeChannel=wr.Main_BeforeChannel,Jo=!(Vo={})}function ms(e){if(!Qu&&!Su())switch(Iu(),e.keyCode){case zi:Yc()?Xc():Fc()?Hc():(us(),Ku(ms)),nk();break;case Vi:Co?ko||(us(),--Co<0&&(Co=To?1:2),cs()):(us(),ak(ms,!0));break;case Hi:ko||(us(),(To?1:2)<++Co&&(Co=0),cs());break;case Ji:ko?(us(),ko=0,cs()):(us(),Ku(ms));break;case Fi:ko||(us(),ko=1,cs());break;case Ni:case Ri:case Di:case qi:_s()}}var ps=0,vs=0,gs=!1,ys=0,bs={},ws=[],As=!1,ks=0,Cs=5,Es=3500,Ms=0,Is=0,Ss=0,xs=!1,Ps=!1,Ts="",Ls=!1,Bs=["cv_thumbdiv","cv_img","cv_infodiv","cv_title","cv_streamon","cv_duration","cv_viwers","cv_quality","cv_cell","cvempty_","channel_vod_scroll","cv_game"],Os=!1,Gs=!1,Us="",Rs="",Ns="",Ds="",Vs=0;function Js(){wr.Main_CenterLablesVectorPos=1,wr.Main_Go=rr,!wr.Search_isSearching&&wr.Main_selectedChannel_id&&hs(),wr.Main_selectedChannel!==Us&&(Os=!1),du(),yc("label_side_panel","icon-arrow-circle-left",I),Mc("top_bar_user",wr.Main_selectedChannelDisplayname),document.body.addEventListener("keydown",nd,!1),Os?(fu(ps),Mc("top_bar_game",Gs?G:O),wc(Bs[10]),Ks(),iu()):Fs()}function Hs(){Os&&$s(),su(),document.body.removeEventListener("keydown",nd),bc(Bs[10]),Vc()}function Fs(){Os&&$s(),_u("stream_table_channel_vod"),bc(Bs[10]),Mc("top_bar_game",Gs?G:O),Sc(),Vc(),Us=wr.Main_selectedChannel,Ls=Os=!1,Qu=!(Ps=!(ws=[])),ps=vs=ys=Is=Ms=0,gs=!(bs={}),Gc(),qs(),zs()}function qs(){As=!0,ks=0,Es=3500}function zs(){var e=ys+Ms;e&&Is-1<e&&(e=Is-Nr,gs=!0);var t="https://api.twitch.tv/kraken/channels/"+encodeURIComponent(wr.Main_selectedChannel_id)+"/videos?limit="+Nr+"&broadcast_type="+(Gs?"highlight":"archive")+"&sort=time&offset="+e;cc&&!ys?__(t,Es,2,null,Ys,Xs):f_(t,Es,2,null,Ys,Xs,!1)}function Xs(){++ks<Cs?(Es+=500,zs()):(As=!1,ys?(gs=!0,js()):(Qu=!1,xc(),Dc(P),Ku(nd)))}function Ys(e){var t=JSON.parse(e),n=t.videos.length;Is=parseInt(t._total),n<Nr&&(gs=!0);var i=ys;xs=!(ys+=n);var a=n/Dr;0<n%Dr&&a++;var o,s,d,l,r,c,u,_=0,f=document.getElementById("stream_table_channel_vod");if(!Ls){Ls=!0,d=document.createElement("tr");var h='<i class="icon-movie-play stream_channel_fallow_icon"></i>'+Pi+Pi+p;(xr=document.createElement("td")).setAttribute("id",Bs[8]+"y_0"),xr.className="stream_cell",xr.innerHTML='<div id="'+Bs[0]+'y_0" class="stream_thumbnail_channel_vod" ><div id="'+Bs[3]+'y_0" class="stream_channel_fallow_game">'+h+"</div></div>",d.appendChild(xr),d.appendChild(document.createElement("tr")),d.appendChild(document.createElement("tr")),f.appendChild(d)}for(var m=0;m<a;m++){for(s=i/Dr+m,d=document.createElement("tr"),o=0;o<Dr&&_<n;o++,_++)r=(l=t.videos[_])._id,c=-1!==((u=l.preview.template)+"").indexOf("404_processing"),s||o||!c||(c=!1,u=null!==Ho?Ho:Gi),c||bs[r]?o--:(bs[r]=1,d.appendChild(lI(s,s+"_"+o,[r,l.length,l.channel.broadcaster_language,l.game,l.channel.name,l.increment_view_count_url],[u.replace("{width}x{height}",ec),l.channel.display_name,N+ru(l.created_at),wI.parse(l.title)+pi+Qt+v+l.game,jc(l.views)+V,Wc(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.channel.broadcaster_language),D+Om(l.length),l.animated_preview_url],Bs)));for(;o<Dr;o++)gs&&!Ps&&(Ps=!0,ys=s*Dr+o),d.appendChild(pu(Bs[9]+s+"_"+o)),ws.push(Bs[9]+s+"_"+o);f.appendChild(d)}js()}function js(){if(Os?Ks(!0):(xs?(Ku(nd),Dc(T+(Gs?G:O)+L+M)):(Os=!0,Ks(),iu()),wc(Bs[10]),Qu=!1,xc()),0<ws.length&&!gs)return qs(),void Ws();As=!(ws=[])}function Ws(){Nc(ws.length);var e=ys+Ms;e&&Is-1<e&&(e=Is-Yr,gs=!0),c_("https://api.twitch.tv/kraken/channels/"+encodeURIComponent(wr.Main_selectedChannel_id)+"/videos?limit="+Yr+"&broadcast_type="+(Gs?"highlight":"archive")+"&sort=time&offset="+e,Es,2,null,Zs,Qs)}function Qs(){++ks<Cs?(Es+=500,Ws()):(gs=!0,ys-=ws.length,ws=[],js())}function Zs(e){var t,n,i=JSON.parse(e),a=i.videos.length,o=0,s=0,d=[];for(Is=parseInt(i._total);o<ws.length&&s<a;o++,s++)n=(t=i.videos[s])._id,-1!==(t.preview.template+"").indexOf("404_processing")||bs[n]?o--:(bs[n]=1,cI(ws[o],[n,t.length,t.channel.broadcaster_language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",ec),t.channel.display_name,N+ru(t.created_at),wI.parse(t.title)+pi+Qt+v+t.game,jc(t.views)+V,Wc(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.channel.broadcaster_language),D+Om(t.length),t.animated_preview_url],Bs),d.push(o));for(o=d.length-1;-1<o;o--)ws.splice(d[o],1);Ms+=s,gs&&(ys-=ws.length,ws=[]),js()}function Ks(e){ps<0?ed():(Pu(ps,vs,Bs,Dr,ys,e),_I(Bs,ps+"_"+vs),ys/Dr<ps+Vr&&!gs&&!As&&(qs(),zs()),Cr&&$s())}function $s(){window.clearInterval(sI),-1<ps&&ys?(wc(Bs[1]+ps+"_"+vs),Du(ps+"_"+vs,Bs)):td()}function ed(){kc(Bs[0]+"y_0",nc)}function td(){Cc(Bs[0]+"y_0",nc)}function nd(e){var t;if(!Qu&&!Su())switch(Iu(),e.keyCode){case zi:Yc()?Xc():Fc()?Hc():($s(),Ku(nd)),nk();break;case Vi:if(vs){if(Zc(ps,vs-1,Bs[0]))$s(),vs--,Ks();else for(t=Dr-1;-1<t;t--)if(Zc(ps-1,t,Bs[0])){$s(),ps--,vs=t,Ks();break}}else $s(),ak(nd,!0);break;case Hi:Zc(ps,vs+1,Bs[0])?($s(),vs++,Ks()):Zc(ps+1,0,Bs[0])&&($s(),ps++,vs=0,Ks());break;case Ji:if(-1===ps)$s(),ps=0,Ku(nd);else if(ps){for(t=0;t<Dr;t++)if(Zc(ps-1,vs-t,Bs[0])){$s(),ps--,vs-=t,Ks();break}}else $s(),ps=-1,ed();break;case Fi:if(-1!==ps||xs){for(t=0;t<Dr;t++)if(Zc(ps+1,vs-t,Bs[0])){$s(),ps++,vs-=t,Ks();break}}else ps=0,td(),Ks();break;case Ni:case Ri:case Di:case qi:-1===ps?(a_("ChannelVod_highlight",(Gs=!Gs)?"true":"false"),Fs()):Uu(ps+"_"+vs,Bs,nd)}}var id,ad,od,sd,dd,ld,rd=0,cd=10,ud=!1,_d=0,fd=null,hd=!1,md=0,pd={bbtv:{},ffz:{}},vd={};function gd(){Hd(),wr.Play_ChatForceDisable?(jd||rl(),hd=!1,Hu(function(){_d=(new Date).getTime(),dd=wr.Play_selectedChannel_id,ld=wr.Play_selectedChannel,yd(_d,Ad)})):Rl()}function yd(e,t){rd=0,bd(e,t)}function bd(e,t){var n="https://badges.twitch.tv/v1/badges/channels/"+dd+"/display",i=new XMLHttpRequest;i.open("GET",n,!0),i.timeout=1e4,i.ontimeout=function(){},i.onreadystatechange=function(){if(4===i.readyState){if(200===i.status)return void t(i.responseText,e);wd(e,t)}},i.send(null)}function wd(e,t){++rd<cd?bd(e,t):ad=window.setTimeout(function(){bd(e,t)},500)}function Ad(e,t){wl(e),kd(),Id(),_d===t&&Bd()}function kd(){pd.bbtv[dd]||(rd=0,Cd())}function Cd(){var e="https://api.betterttv.net/2/channels/"+encodeURIComponent(ld),t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=1e4,t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?Md(t.responseText):404===t.status?pd.bbtv[dd]=1:Ed())},t.send(null)}function Ed(){++rd<cd&&Cd()}function Md(e){Td(JSON.parse(e)),pd.bbtv[dd]=1}function Id(){pd.ffz[dd]||(rd=0,Sd())}function Sd(){var e="https://api.frankerfacez.com/v1/room/"+encodeURIComponent(ld),t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=1e4,t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?Pd(t.responseText):404===t.status?pd.ffz[dd]=1:xd())},t.send(null)}function xd(){++rd<cd&&Sd()}function Pd(e){Ld(JSON.parse(e)),pd.ffz[dd]=1}function Td(t){t.emotes.forEach(function(e){vd[e.code]={code:e.code,id:e.id,"3x":"https:"+t.urlTemplate.replace("{{id}}",e.id).replace("{{image}}","3x")}})}function Ld(t){Object.keys(t.sets).forEach(function(e){((e=t.sets[e]).emoticons||Array.isArray(e.emoticons))&&e.emoticons.forEach(function(e){e.name&&e.id&&"string"==typeof e.name&&"number"==typeof e.id&&(vd[e.name]||e.urls&&"object"==typeof e.urls&&"string"==typeof e.urls[1]&&(e.urls[2]&&"string"!=typeof e.urls[2]||(vd[e.name]={code:e.name,id:e.id,"3x":"https:"+(e.urls[4]||e.urls[2]||e.urls[1].replace(/1$/,"2"))})))})})}function Bd(){Ud(),Od()}function Od(){(fd=new ReconnectingWebSocket("wss://irc-ws.chat.twitch.tv","irc",{reconnectInterval:3e3})).onopen=function(){fd.send("PASS blah\r\n"),fd.send("NICK justinfan12345\r\n"),fd.send("CAP REQ :twitch.tv/commands twitch.tv/tags\r\n"),fd.send("JOIN #"+ld+"\r\n")},fd.onclose=function(){ud=!0},fd.onmessage=function(e){var t=window.parseIRC(e.data.trim());if(t.command)switch(t.command){case"PING":fd.send("PONG "+t.params[0]);break;case"JOIN":hd=!0,Dd('&nbsp;<span class="message">'+pi+bn+wr.Play_selectedChannelDisplayname+" "+f+"</span>");break;case"PRIVMSG":Rd(t)}},od=window.setTimeout(Gd,5e3)}function Gd(){hd?sd=window.setInterval(Vd,1e3):(fd.close(1e3),Bd())}function Ud(){window.clearTimeout(od)}function Rd(e){var t="",n=e.tags;if(n.hasOwnProperty("badges")&&"string"==typeof n.badges&&n.badges.split(",").forEach(function(e){e=e.split("/"),t+='<span class="'+e[0]+"-"+e[1]+' tag"></span>'}),n.hasOwnProperty("display-name")){var i=n["display-name"];"string"==typeof i&&(t+='<span class="nick" style="color: #'+nl[i.charCodeAt(0)%il]+';">'+i+"</span>&#58;&nbsp;")}var a=e.params[1];/^\x01ACTION.*\x01$/.test(a)&&(a=a.replace(/^\x01ACTION/,"").replace(/\x01$/,"").trim());var o={};n.hasOwnProperty("emotes")&&"string"==typeof n.emotes&&(n.emotes=n.emotes.split("/"),n.emotes.forEach(function(t){t=t.split(":"),o[t[0]]||(o[t[0]]=[]),t[1].split(",").forEach(function(e){e=e.split("-"),o[t[0]].push([parseInt(e[0]),parseInt(e[1])])})})),Dd(t+='<span class="message">'+Nd(gI(a,o))+"</span>")}function Nd(e){for(var t=0;t<e.length;t++)"string"==typeof e[t]?e[t]=vI(e[t]):e[t]=e[t][0];return wI.parse(e.join(" "),!0,!0)}function Dd(e){var t=document.createElement("div");t.className="chat_line",t.innerHTML=e,Xd.appendChild(t),Vd(),100<++md&&(md=0,Dl())}function Vd(){Xd.scrollTop=Xd.scrollHeight}function Jd(){Ud(),window.clearTimeout(ad),window.clearTimeout(id),window.clearInterval(sd)}function Hd(){Jd(),fd&&fd.close(1e3),_d=0,_u("chat_box"),hd=ud=!1}var Fd,qd,zd,Xd,Yd,jd=!1,Wd=0,Qd=[],Zd=[],Kd=10,$d=null,el=0,tl="",nl=["fe2424","fc5a24","ff9020","fEc723","ffff1d","bfff00","c3ff12","56fe1d","1eff1e","16ff51","00ff80","00ffbf","00ffff","1dc6ff","158aff","3367ff","ff4dff","ff4ad2","ff62b1","ff4272"],il=nl.length,al=0,ol=!1,sl=0;function dl(){Xd=document.getElementById("chat_box"),rl()}function ll(){Tl(),cc&&wr.Play_ChatForceDisable?(jd||rl(),Hu(function(){sl=(new Date).getTime(),dd=wr.Main_selectedChannel_id,ld=wr.Main_selectedChannel,yd(sl,Al)})):Rl()}function rl(){Wd=0,jd=!(vd={}),cl()}function cl(){f_("https://badges.twitch.tv/v1/badges/global/display",1e4,0,null,_l,ul,!1)}function ul(){++Wd<Kd?cl():jd=!1}function _l(e){yI(JSON.parse(e).badge_sets).forEach(function(t){t.versions.forEach(function(e){bI(t.type,e.type,e.image_url_4x,null)})}),fl()}function fl(){Wd=0,hl()}function hl(){f_("https://api.betterttv.net/2/emotes",1e4,0,null,pl,ml,!1)}function ml(){++Wd<Kd?hl():jd=!1}function pl(e){Td(JSON.parse(e)),vl()}function vl(){Wd=0,gl()}function gl(){f_("https://api.frankerfacez.com/v1/set/global",1e4,0,null,bl,yl,!1)}function yl(){++Wd<Kd?gl():jd=!1}function bl(e){Ld(JSON.parse(e)),jd=!0}function wl(e){yI(JSON.parse(e).badge_sets).forEach(function(t){t.versions.forEach(function(e){bI(t.type,e.type,e.image_url_4x,Xd)})})}function Al(e,t){wl(e),kd(),Id(),sl===t&&kl(t)}function kl(e){Wd=0,sl===e&&Cl(e)}function Cl(e){var t="https://api.twitch.tv/v5/videos/"+wr.ChannelVod_vodId+"/comments?client_id="+jr+(el?"&content_offset_seconds="+parseInt(el):""),n=new XMLHttpRequest;n.open("GET",t,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){if(4===n.readyState){if(200===n.status)return void(sl===e&&Ml(n.responseText,e));sl===e&&El(e)}},n.send(null)}function El(e){Wd++,sl===e&&(Wd<Kd?Cl(e):qd=window.setTimeout(function(){Cl(e)},2500))}function Ml(e,t){e=JSON.parse(e);var n,i,a=null===$d;a&&(n="&nbsp;",n+='<span class="message">',n+=pi+bn+wr.Main_selectedChannelDisplayname+" "+tl,Il(n+="</span>",0)),el=0,$d=e._next,e.comments.forEach(function(e){n="",(i=e.message).hasOwnProperty("user_badges")&&i.user_badges.forEach(function(e){n+='<span class="'+e._id+"-"+e.version+' tag"></span>'}),n+='<span class="nick" style="color: #'+nl[e.commenter.display_name.charCodeAt(0)%il]+';">'+e.commenter.display_name+"</span>&#58;&nbsp;",n+='<span class="message">',i.fragments.forEach(function(e){e.hasOwnProperty("emoticon")?n+='<img class="emoticon" alt="" src="https://static-cdn.jtvnw.net/emoticons/v1/'+e.emoticon.emoticon_id+'/1.0" srcset="https://static-cdn.jtvnw.net/emoticons/v1/'+e.emoticon.emoticon_id+"/2.0 2x, https://static-cdn.jtvnw.net/emoticons/v1/"+e.emoticon.emoticon_id+'/3.0 4x">':n+=Nd([e.text])}),n+="</span>",a?Il(n,e.content_offset_seconds):void 0!==$d&&Sl(n,e.content_offset_seconds)}),a&&sl===t&&(xl(t),void 0!==$d&&Bl(t))}function Il(e,t){Qd.push({time:t,message:e})}function Sl(e,t){Zd.push({time:t,message:e})}function xl(e){ol||sl!==e||(Fd=window.setInterval(function(){Ll(e),Xd.scrollTop=Xd.scrollHeight},1e3))}function Pl(){ol||(window.clearTimeout(Yd),window.clearTimeout(qd),window.clearTimeout(zd),window.clearInterval(Fd))}function Tl(){Pl(),sl=0,_u("chat_box"),ol=!1,$d=null,Qd=[],Zd=[],al=0}function Ll(e){var t;if(al<Qd.length-1)for(var n=al;n<Qd.length&&Qd[n].time<Vs+Android.gettime()/1e3;n++,al++)(t=document.createElement("div")).className="chat_line",t.innerHTML=Qd[n].message,Xd.appendChild(t);else if(Pl(),void 0!==$d)Qd=Zd.slice(),al=0,xl(e),Zd=[],sl===e&&Bl(e),Dl();else{var i="&nbsp;";i+='<span class="message">',i+=pi+pi+Cn+pi+pi,i+="</span>",(t=document.createElement("div")).className="chat_line",t.innerHTML=i,Xd.appendChild(t),ol=!0,Xd.scrollTop=Xd.scrollHeight,window.clearInterval(Fd),Fd=window.setInterval(function(){Xd.scrollTop=Xd.scrollHeight},1e3)}}function Bl(e){Wd=0,ol||sl!==e||Ol(e)}function Ol(e){var t="https://api.twitch.tv/v5/videos/"+wr.ChannelVod_vodId+"/comments?client_id="+jr+(null!==$d?"&cursor="+$d:""),n=new XMLHttpRequest;n.open("GET",t,!0),n.timeout=1e4,n.ontimeout=function(){},n.onreadystatechange=function(){if(4===n.readyState){if(200===n.status)return void(ol||sl!==e||Ml(n.responseText,e));ol||sl!==e||Gl(e)}},n.send(null)}function Gl(e){Wd++,sl===e&&(Wd<Kd?Ol(e):zd=window.setTimeout(function(){Ol(e)},2500))}function Ul(){Tl(),Nl(ln+pi+rn)}function Rl(){Tl(),Nl($n)}function Nl(e){var t="&nbsp;";t+='<span class="message">',t+=pi+pi+pi+pi+pi+pi+pi+pi+pi+pi,t+=e,t+="</span>";var n=document.createElement("div");n.className="chat_line",n.innerHTML=t,Xd.appendChild(n)}function Dl(){var e=document.getElementsByClassName("chat_line");if(0<e.length-100)for(var t=0;t<e.length-100;t++)e[0].parentNode.removeChild(e[0]);Vd()}var Vl,Jl,Hl,Fl,ql,zl,Xl,Yl=!0,jl=!1,Wl=!1,Ql=-1,Zl=new Image,Kl=1,$l=2,er=3,tr=4,nr=5,ir=6,ar=7,or=8,sr=9,dr=10,lr=11,rr=12,cr=13,ur=14,_r=15,fr=16,hr=17,mr=18,pr=19,vr=20,gr=21,yr=22,br="",wr={Main_Go:1,Main_Before:1,Main_BeforeSearch:1,Main_BeforeChannel:1,Main_BeforeAgame:er,Main_BeforeChannelisSet:!1,Main_BeforeAgameisSet:!1,Main_selectedChannel:"",Main_selectedChannelDisplayname:"",Main_selectedChannelLogo:"",Main_selectedChannel_id:"",Main_gameSelected:"",Main_OldgameSelected:null,Play_isHost:!1,Play_DisplaynameHost:"",Play_selectedChannelDisplayname:"",Play_selectedChannel:"",Play_gameSelected:"",Users_Position:0,Users_AddcodePosition:0,Play_WasPlaying:0,ChannelVod_vodId:"",vodOffset:0,Search_data:"",isLastSChannels:!1,gameSelectedOld:"",Games_return:!1,Search_isSearching:!1,Play_ChatForceDisable:!1,Never_run:!0,Main_CenterLablesVectorPos:0},Ar=!0,kr=!0,Cr=!1,Er=0,Mr=0,Ir=null,Sr=!0,xr="",Pr=!1,Tr="",Lr=["label_side_panel","label_refresh","top_bar_live","top_bar_user","top_bar_featured","top_bar_game","top_bar_vod","top_bar_clip"],Br=[],Or=0,Gr=!0,Ur=1.35,Rr=1.5,Nr=45,Dr=3,Vr=Math.floor(Nr/Dr/Rr),Jr=45,Hr=5,Fr=Math.floor(Jr/Hr/Ur),qr=48,zr=6,Xr=Math.floor(qr/zr/Rr),Yr=6,jr="5seja5ptej058mxqy7gh5tcudjqtm9",Wr="Client-ID",Qr="Accept",Zr="Authorization",Kr="OAuth ",$r="application/vnd.twitchtv.v5+json",ec="528x297",tc="340x475",nc="stream_thumbnail_focused",ic="data_attribute",ac="1.0",oc=".21",sc="053119",dc=ac+oc+"-"+sc,lc="",rc=0,cc=0,uc="?"+Math.random(),_c="https://cors-anywhere.herokuapp.com/";function fc(){(Wl=d_("Main_isDebug",!1))&&Yl?hc():"loading"===document.readyState?document.addEventListener("DOMContentLoaded",function(){mc(window.navigator.userLanguage||window.navigator.language)}):mc(window.navigator.userLanguage||window.navigator.language)}function hc(){console.log("Debug mod start");var e=document.createElement("script");e.src="https://fgl27.github.io/SmartTwitchTV/release/githubio/js/masterdebug.js",document.head.appendChild(e)}function mc(e){Vu(),Hu(function(){try{cc=Android.getAndroid(),lc=Android.getversion()}catch(e){lc="1.0.0",cc=0,document.body.style.backgroundColor="rgba(0, 0, 0, 1)",jl=Wl=!0,console.log("Main_isReleased: "+Yl),console.log("Main_isDebug: "+Wl),console.log("Main_isBrowser: "+jl)}cc&&(document.body.addEventListener("keydown",p_,!1),document.body.addEventListener("keyup",v_,!1)),rA(),Li(),BA(),console.log("language is "+e),Ti(),-1!==window.location.href.indexOf("code")&&r_(window.location.href),pc()})}function pc(){Fg(),vc(!0),Vl=document.getElementById("scrollbar"),au(),br=wr.Main_Go,Hu(function(){dl(),em(),ho(),mo()&&(Xl=window.setInterval(Xu,6e5)),document.body.addEventListener("keyup",Eu,!1),qg(),document.getElementById("side_panel").style.marginLeft="",cu(),gc(),Gs=d_("ChannelVod_highlight",!1),DM=d_("UserVod_highlight",!1),GM=o_("UserVod_TypeNumber",1),Tg(),Jl=document.getElementById("search_input"),Hl=document.getElementById("user_input"),mu(Gi),mu(Bi),mu(Oi),document.addEventListener("visibilitychange",qu,!1),ql=window.setInterval(zu,6e4),Hg=xy,Yg(),Fl=window.setTimeout($c,5e3),wc("topbar"),zA=document.getElementById("feed_thumb_img")})}function vc(e){zu(),yc("label_refresh","icon-refresh",t+":"+Yt),Ec("label_update",'<div class="strokedextramini" style="vertical-align: middle; display: inline-block;"><i class="icon-arrow-up" style="color: #FF0000; font-size: 115%; "></i></div><div class="strokedextramini" style="vertical-align: middle; display: inline-block; color: #FF0000">'+Pi+_t+"</div>"),yc("label_side_panel","icon-ellipsis",Rn),yc("icon_feed_refresh","icon-refresh",t+":"+_i),Mc("top_bar_live",f),Mc("top_bar_user",e?_:i),Mc("top_bar_featured",an),Mc("top_bar_game",h),Mc("top_bar_vod",Kt),Mc("top_bar_clip",U),Ec("scene2_search_text",Pi+n),Ec("scene2_channel_text",Pi+Ut),Ec("scene2_game_text",Pi+Jt),Mc("dialog_end_next_text",si),Mc("dialog_end_replay_text",en),Mc("dialog_end_vod_text",sn),Mc("dialog_end_channel_text",Ut),Mc("dialog_end_game_text",Jt),Ec("dialog_about_text",Mi+Ii),Br=[de,le,re,ce],e?iA():(lA(),cu())}function gc(){Mc("play_dialog_exit_text",H),Mc("side_panel_search",n),Mc("side_panel_settings",i),Mc("side_panel_about",a),Mc("side_panel_controls",e),Mc("side_panel_exit",q),Mc("side_panel_feed_settings",ui),Mc("side_panel_feed_refresh",t),Mc("side_panel_live",f),Mc("side_panel_user",_),Mc("side_panel_featured",an),Mc("side_panel_games",h),Mc("side_panel_videos",Kt),Mc("side_panel_clips",U),Mc("side_panel_hide",o),Mc("side_panel_back",fi),Mc("chanel_button",E),Mc("game_button",h),Mc("live_button",f),Mc("exit_app_cancel",Y),Mc("exit_app_close",z),Mc("remove_cancel",Y),Mc("remove_yes",Ht),Mc("exit_app_minimize",X),Mc("main_dialog_exit_text",F),Ec("dialog_controls_text",Ei),Mc("dialog_vod_text",wn),Ec("dialog_vod_start_text",kn)}function yc(e,t,n){Ec(e,'<div class="strokedextramini" style="vertical-align: middle; display: inline-block;"><i class="'+t+'" style="color: #FFFFFF; font-size: 115%; "></i></div><div class="strokedextramini" style="vertical-align: middle; display: inline-block">'+Pi+n+"</div>")}function bc(e){document.getElementById(e).classList.add("hide")}function wc(e){document.getElementById(e).classList.remove("hide")}function Ac(e){return-1===document.getElementById(e).className.indexOf("hide")}function kc(e,t){document.getElementById(e).classList.add(t)}function Cc(e,t){document.getElementById(e).classList.remove(t)}function Ec(e,t){document.getElementById(e).innerHTML=t}function Mc(e,t){document.getElementById(e).textContent=t}function Ic(e){var t=document.getElementById(e).getElementsByClassName("emoji");if(t){for(var n=0;n<t.length;n++)t[n].classList.add("emoticon");for(t=document.getElementById(e).getElementsByClassName("emoticon"),n=0;n<t.length;n++)t[n].classList.remove("emoji")}}function Sc(){fu(-1),cc?Android.mshowLoading(!0):wc("dialog_loading")}function xc(){cc?Android.mshowLoading(!1):bc("dialog_loading")}function Pc(){window.clearTimeout(Ir)}function Tc(){Ir=window.setTimeout(Bc,6e3)}function Lc(){Tc(),wc("main_dialog_exit"),document.body.addEventListener("keydown",Yu,!1)}function Bc(){document.body.removeEventListener("keydown",Yu,!1),XA?(XA=!1,nu()):Ku(qA),Pc(),bc("main_dialog_exit"),Mr=0,Oc()}function Oc(){Cc("exit_app_cancel","button_search_focused"),Cc("exit_app_minimize","button_search_focused"),Cc("exit_app_close","button_search_focused"),kc(Mr?1===Mr?"exit_app_minimize":"exit_app_close":"exit_app_cancel","button_search_focused")}function Gc(){_u("dialog_counter_text"),Rc(0,0,0)}function Uc(e,t,n,i){0<i?(Mc("dialog_counter_text",t*n+(e+1)+"/"+i),Rc(t,n,i)):Gc()}function Rc(e,t,n){var i=screen.height/100*7;if(3===t&&9<n||5===t&&10<n||6===t&&12<n){var a=wr.Main_Go===tr||wr.Main_Go===pr||wr.Main_Go===vr||wr.Main_Go===rr||wr.Main_Go===yr||wr.Main_Go===hr||wr.Main_Go===mr||wr.Main_Go===cr,o=Math.ceil((screen.height-3*i)/(Math.ceil(n/t)-1)*e+i*(a?1.8:1));Vl.style.top=o+"px",Sr&&(Sr=!1,Vl.style.backgroundColor="#777777")}else Vl.style.backgroundColor="#000000",Vl.style.top=i+"px",Sr=!0}function Nc(e){(Yr=12)/3<e&&(Yr=3*e),99<Yr&&(Yr=99)}function Dc(e){Mc("dialog_warning_text",e),wc("dialog_warning")}function Vc(){bc("dialog_warning")}function Jc(){Xc(),wc("dialog_about")}function Hc(){bc("dialog_about")}function Fc(){return Ac("dialog_about")}function qc(){Xc(),Vc(),ou(wr.Main_Go),Gc(),tA()}function zc(){Hc(),wc("dialog_controls")}function Xc(){bc("dialog_controls")}function Yc(){return Ac("dialog_controls")}function jc(e){return(e+"").replace(/\B(?=(\d{3})+(?!\d))/g,",")}function Wc(e,t,n){return(e+="").indexOf("x")||(e=e.slice(-3)),e+"p"+(t=58<t?60:t<32?30:Math.ceil(t))+(""!==n?" ["+n.toUpperCase()+"]":"")}function Qc(e){return-1!==e.indexOf("live")?"":j}function Zc(e,t,n){return null!==document.getElementById(n+e+"_"+t)}function Kc(){zu(),tu(),document.body.addEventListener("keyup",Eu,!1)}function $c(){for(var e,t=0;t<Lr.length;t++)t<2?document.getElementById(Lr[t]).style.opacity="0.5":-1===(e=document.getElementById(Lr[t])).className.indexOf("icon_center_focus")&&(e.style.opacity="0.5");kc("topbar","topbar_dim")}function eu(){for(var e=0;e<Lr.length;e++)document.getElementById(Lr[e]).style.opacity="1";Cc("topbar","topbar_dim")}function tu(e){window.clearTimeout(Fl),eu(),Hu(function(){nu(e)})}function nu(e){Vc(),wr.Main_Go!==lr&&(wr.Main_BeforeChannelisSet=!1),wr.Main_Go!==tr&&(wr.Main_BeforeAgameisSet=!1),Gc(),wr.Main_Go===Kl?(Hg=xy,Yg()):wr.Main_Go===$l?no():wr.Main_Go===er?(Hg=Iy,Yg()):wr.Main_Go===tr?(Hg=Ty,Yg()):wr.Main_Go===or?cw():wr.Main_Go===sr?Wb():wr.Main_Go===dr?Uw():wr.Main_Go===lr?qo():wr.Main_Go===rr?Js():wr.Main_Go===cr?(Hg=Ey,Yg()):wr.Main_Go===ur?iM():wr.Main_Go===nr?PE():wr.Main_Go===ir?dC():wr.Main_Go===ar?(Hg=Sy,Yg()):wr.Main_Go===_r?xk():wr.Main_Go===fr?wb():wr.Main_Go===hr?(Hg=Ly,Yg()):wr.Main_Go===mr?(Hg=Cy,Yg()):wr.Main_Go===pr?(Hg=By,Yg()):wr.Main_Go===vr?(Hg=My,Yg()):wr.Main_Go===gr?(Hg=Py,Yg()):wr.Main_Go===yr&&VM(),Fl=window.setTimeout($c,3e3),e&&n_()}function iu(){a_("Main_values",JSON.stringify(wr))}function au(){wr=Xg(wr,s_("Main_values",{}))}function ou(e){e===Kl?jg():e===$l?io():e===er?jg():e===tr?jg():e===or?uw():e===sr?Qb():e===dr?Rw():e===lr?zo():e===rr?Hs():e===cr?jg():e===ur?aM():e===nr?TE():e===ir?lC():e===ar?jg():e===_r?Pk():e===fr?Ab():e===hr?jg():e===mr?jg():e===pr?jg():e===vr?jg():e===gr?jg():e===yr&&JM(),Ac("settings_scroll")&&nA()}function su(){yc("label_refresh","icon-refresh",t+":"+Yt),yc("label_side_panel","icon-ellipsis",Rn),Cc("top_bar_user","icon_center_focus"),Mc("top_bar_live",f),Mc("top_bar_user",_),Mc("top_bar_featured",an),Mc("top_bar_game",h),Mc("top_bar_vod",Kt),Mc("top_bar_clip",U)}function du(){yc("label_side_panel","icon-arrow-circle-left",I),_u("top_bar_live"),_u("top_bar_game"),_u("top_bar_vod"),_u("top_bar_clip"),_u("top_bar_featured"),kc("top_bar_user","icon_center_focus")}function lu(e){return'<div style="font-size: 30%; position: fixed; line-height: 0; text-shadow: #000000 0 0 5.7px, #000000 0 0 5.7px, #000000 0 0 4px">'+e+"</div>"}function ru(e){return e=new Date(e),Pr?e.getDate()+" "+jt[e.getMonth()]+" "+e.getFullYear():jt[e.getMonth()]+" "+e.getDate()+" "+e.getFullYear()}function cu(){cc&&(dc="Android: "+lc+" Web: "+sc,uu(lc)&&wc("label_update")),Ec("dialog_about_text",Mi+ye+dc+Ii)}function uu(e){return e=e.split("."),parseFloat(e[0]+"."+e[1])<parseFloat(ac)||parseInt(e[2])<parseInt(oc.split(".")[1])}function _u(e){for(e=document.getElementById(e);e.firstChild;)e.removeChild(e.firstChild)}function fu(e){Ql=e}function hu(e){var t=0;return Ql<e?t=-1:e<Ql&&(t=1),Ql=e,t}function mu(e){Zl.src=e}function pu(e){return(xr=document.createElement("td")).setAttribute("id",e),xr.className="stream_cell",xr}function vu(e,t,n){return(xr=document.createElement("td")).setAttribute("id",t[4]+e),xr.setAttribute(ic,n[0]),xr.setAttribute("data-id",n[1]),xr.className="stream_cell",xr.innerHTML=yu(e,t,n),xr}function gu(e,t,n){var i=document.getElementById(e),a=e.split(n[5])[1];i.setAttribute(ic,t[0]),i.setAttribute("data-id",t[1]),i.innerHTML=yu(a,n,t),i.setAttribute("id",n[4]+a)}function yu(e,t,n){return'<div id="'+t[0]+e+'" class="stream_thumbnail_channel" ><img id="'+t[1]+e+'" alt="" class="stream_img"src="'+n[2]+'" onerror="this.onerror=null;this.src=\''+Oi+'\'"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel">'+n[3]+"</div></div>"}function bu(e,t,n,i,a){return e<Dr&&mu(a[0]),(xr=document.createElement("td")).setAttribute("id",i[8]+t),xr.setAttribute(ic,JSON.stringify(n)),xr.className="stream_cell",xr.innerHTML=Au(t,i,a),xr}function wu(e,t,n,i){var a=document.getElementById(e),o=e.split(i[9])[1];a.setAttribute(ic,JSON.stringify(t)),a.innerHTML=Au(o,i,n),a.setAttribute("id",i[8]+o)}function Au(e,t,n){return'<div id="'+t[0]+e+'" class="stream_thumbnail_video" ><img id="'+t[1]+e+'" alt="" class="stream_img" src="'+n[0]+uc+'" onerror="this.onerror=null;this.src=\''+Gi+'\'"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;">'+n[1]+'</div><div id="'+t[7]+e+'"class="stream_info" style="width:33%; float: right; text-align: right; display: inline-block;">'+n[5]+'</div><div id="'+t[4]+e+'"class="stream_info">'+wI.parse(n[2])+'</div><div id="'+t[5]+e+'"class="stream_info">'+v+n[3]+'</div><div id="'+t[6]+e+'"class="stream_info">'+n[4]+"</div></div>"}function ku(e,t,n){return(xr=document.createElement("td")).setAttribute("id",t[5]+e),xr.setAttribute(ic,n[0]),xr.className="stream_cell",xr.innerHTML=Cu(e,t,n),xr}function Cu(e,t,n){return'<div id="'+t[0]+e+'" class="stream_thumbnail_game" ><img id="'+t[1]+e+'" alt="" class="stream_img"src="'+n[1]+'" onerror="this.onerror=null;this.src=\''+Bi+'\'"></div><div id="'+t[2]+e+'" class="stream_text"><div id="'+t[3]+e+'" class="stream_channel">'+n[0]+'</div><div id="'+t[4]+e+'"class="stream_info" style="width: 100%; display: inline-block;">'+n[2]+"</div></div>"}function Eu(){kr=!0}function Mu(){Ar=!0}function Iu(){Ar=!1,window.setTimeout(Mu)}function Su(){return!Ar||!kr}function xu(e,t,n,i,a,o){kc(n[0]+e+"_"+t,nc),Uc(t,e,i,a),hu(e)||o?1<e?Zc(e+1,0,n[0])?Nu(n[6],-1*document.getElementById(n[4]+e+"_"+t).offsetTop+.42*screen.height):Eu():Nu(n[6],.07*screen.height):Eu()}function Pu(e,t,n,i,a,o){kc(n[0]+e+"_"+t,nc),Uc(t,e,i,a),hu(e)||o?e?Zc(e+1,0,n[0])&&Nu(n[10],-1*document.getElementById(n[8]+(e-1)+"_"+t).offsetTop):Nu(n[10],.07*screen.height):Eu()}function Tu(e,t,n,i,a){kc(n[0]+e+"_"+t,nc),Uc(t,e,i,a),hu(e)?Nu(n[10]?n[10]:n[7],e?-1*document.getElementById(n[5]+(e-1)+"_"+t).offsetTop+.025*screen.height:-1*document.getElementById(n[5]+e+"_"+t).offsetTop+.025*screen.height):Eu()}function Lu(e,t){return null===document.getElementById(t+e)}function Bu(e,t,n){Lu(e,t[0])||(document.body.removeEventListener("keydown",n),wr.Play_selectedChannel=JSON.parse(document.getElementById(t[8]+e).getAttribute(ic)),wr.Play_selectedChannel_id=wr.Play_selectedChannel[1],wr.Play_selectedChannel=wr.Play_selectedChannel[0],wr.Play_isHost=wr.Main_Go===ir&&!Yh,wr.Play_isHost?(wr.Play_DisplaynameHost=document.getElementById(t[3]+e).textContent,wr.Play_selectedChannelDisplayname=wr.Play_DisplaynameHost.split(ne)[1]):wr.Play_selectedChannelDisplayname=document.getElementById(t[3]+e).textContent,wr.Play_gameSelected=document.getElementById(t[5]+e).textContent.split(v)[1],wr.Main_Go===tr&&(wr.Main_OldgameSelected=wr.Main_gameSelected),Ou())}function Ou(){document.body.addEventListener("keydown",Qp,!1),bc("scene1"),wc("scene2"),ip(),rp(),Mp(),mo()&&!AC&&LC&&dE(),Hu(im)}function Gu(e,t,n){Lu(e,t[0])||(document.body.removeEventListener("keydown",n),Ny=JSON.parse(document.getElementById(t[8]+e).getAttribute(ic)),z_=parseInt(Ny[1]),wr.Play_gameSelected=Ny[2],wr.Main_selectedChannel=Ny[3],wr.Main_selectedChannelDisplayname=Ny[4],wr.Main_selectedChannelLogo=Ny[5],wr.Main_selectedChannel_id=Ny[6],wr.ChannelVod_vodId=Ny[7],Vs=parseInt(Ny[8]),Ry=Ny[9],Vy=Ny[10],Gy=Ny[11],Ny=Ny[0],Dy=document.getElementById(t[4]+e).textContent,Uy=document.getElementById(t[6]+e).textContent,document.body.addEventListener("keydown",xf,!1),bc("scene1"),wc("scene2"),rp(),$m(),Xm(),Wm(),mo()&&!AC&&LC&&dE(),Hu(K_))}function Uu(e,t,n){Lu(e,t[0])||(document.body.removeEventListener("keydown",n),wr.ChannelVod_vodId=JSON.parse(document.getElementById(t[8]+e).getAttribute(ic)),Ss=parseInt(wr.ChannelVod_vodId[1]),Ts=wr.ChannelVod_vodId[2],wr.Play_gameSelected=wr.ChannelVod_vodId[3],wr.Main_selectedChannel=wr.ChannelVod_vodId[4],zh=wr.ChannelVod_vodId[5],wr.ChannelVod_vodId=wr.ChannelVod_vodId[0].substr(1),wr.Main_selectedChannelDisplayname=document.getElementById(t[3]+e).textContent,Ns=document.getElementById(t[4]+e).textContent,Ds=document.getElementById(t[5]+e).textContent,Rs=document.getElementById(t[11]+e).innerHTML+" "+document.getElementById(t[6]+e).textContent,Ru())}function Ru(){document.body.addEventListener("keydown",Jg,!1),bc("scene1"),wc("scene2"),mg(),rp(),$m(),Wm(),Ov=!1,mo()&&!AC&&LC&&dE(),Hu(Jv)}function Nu(e,t){document.getElementById(e).style.top=t+"px",window.setTimeout(Eu,10)}function Du(e,t){kr=!1,Cc(t[0]+e,nc)}function Vu(){var e=document.createElement("span");e.className="fa",e.style.display="none",document.body.insertBefore(e,document.body.firstChild),"icons"!==window.getComputedStyle(e,null).getPropertyValue("font-family")?(Wl&&console.log("Main_Checktylesheet reloading"),Ju("https://fgl27.github.io/SmartTwitchTV/release/githubio/css/icons.min.css")):Wl&&console.log("Main_Checktylesheet loaded OK"),document.body.removeChild(e)}function Ju(e){var t=document.createElement("link");t.rel="stylesheet",t.href=e,document.getElementsByTagName("head")[0].appendChild(t)}function Hu(e){"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?window.setTimeout(e):document.addEventListener("DOMContentLoaded",e)}function Fu(){var e=(new Date).getTime()+rc;return e=new Date(e),(Pr?Wt[e.getDay()]+" "+e.getDate()+" "+jt[e.getMonth()]:Wt[e.getDay()]+" "+jt[e.getMonth()]+" "+e.getDate())+" "+Bm(e.getHours())+":"+Bm(e.getMinutes())}function qu(){document.hidden||(zu(),window.setTimeout(zu,2e4))}function zu(){document.hidden||(Mc("label_clock",Fu()),uc="?"+Math.random())}function Xu(){document.hidden||mo()&&window.setTimeout(function(){ZC()||AC||(Xf=Ka[wr.Users_Position].name,NC())},5e3)}function Yu(e){switch(e.keyCode){case zi:Bc();break;case Hi:2<++Mr&&(Mr=0),Oc(),Pc(),Tc();break;case Vi:--Mr<0&&(Mr=2),Oc(),Pc(),Tc();break;case qi:cc&&Mr?1===Mr?(Bc(),Android.mclose(!1)):2===Mr&&Android.mclose(!0):Bc()}}fc();var ju=["top_bar_live","top_bar_user","top_bar_featured","top_bar_game","top_bar_vod","top_bar_clip"],Wu=[Kl,ur,gr,er,hr,mr],Qu=!1;function Zu(e){if(!(Qu||Hg.FirstLoad||Su()))switch(e.keyCode){case zi:Yc()?(e_(),Xc()):Fc()?(e_(),Hc()):wr.Main_Go===tr?(wr.Main_OldgameSelected=wr.Main_gameSelected,wr.Games_return?(wr.Main_Go=sr,wr.Main_gameSelected=wr.gameSelectedOld):(wr.Main_Go=wr.Main_BeforeAgame,wr.Main_BeforeAgame=Kl),my(wr.Main_Go),$u(),nu()):wr.Main_Go===vr?(my(tr),$u(),nu()):wr.Main_Go===ar?(my(ur),$u(),nu()):wr.Main_Go===cr?(my(lr),$u(),nu()):wr.Main_Go===pr?(my(tr),$u(),nu()):wr.Main_Go===nr?(wr.Main_Go=ur,TE(),$u(),nu()):wr.Main_Go===ir?(wr.Main_Go=ur,lC(),$u(),nu()):wr.Main_Go===yr?(wr.Main_Go=ur,JM(),$u(),nu()):wr.Main_Go===_r?(wr.Main_Go=ur,Pk(),$u(),nu()):wr.Main_Go===lr?(wr.Main_Go=wr.Main_BeforeChannel,wr.Main_BeforeChannel=Kl,zo(),wr.Main_selectedChannel_id="",$u(),nu()):wr.Main_Go===rr?(wr.Main_Go=lr,Hs(),$u(),nu()):wr.Main_Go===dr?(wr.Main_Go===wr.Main_BeforeSearch?wr.Main_Go=Kl:wr.Main_Go=wr.Main_BeforeSearch,Rw(),wr.Search_isSearching=!1,$u(),nu()):wr.Main_Go===sr?(wr.Main_Go===wr.Main_BeforeSearch?wr.Main_Go=Kl:wr.Main_Go=wr.Main_BeforeSearch,wr.Search_isSearching=!1,Qb(),$u(),nu()):wr.Main_Go===fr?(wr.Main_Go===wr.Main_BeforeSearch?wr.Main_Go=Kl:wr.Main_Go=wr.Main_BeforeSearch,wr.Main_selectedChannel_id&&hs(),Ab(),wr.Search_isSearching=!1,$u(),nu()):($u(),ak(Zu));break;case Hi:if(wr.Search_isSearching||wr.Main_Go===lr||wr.Main_Go===rr||wr.Main_Go===cr||wr.Main_Go===dr||wr.Main_Go===sr||wr.Main_Go===fr)break;Cc(ju[wr.Main_CenterLablesVectorPos],"icon_center_line"),wr.Main_CenterLablesVectorPos++,5<wr.Main_CenterLablesVectorPos&&(wr.Main_CenterLablesVectorPos=0),e_(),t_();break;case Vi:if(wr.Search_isSearching||wr.Main_Go===lr||wr.Main_Go===rr||wr.Main_Go===cr||wr.Main_Go===dr||wr.Main_Go===sr||wr.Main_Go===fr)break;Cc(ju[wr.Main_CenterLablesVectorPos],"icon_center_line"),wr.Main_CenterLablesVectorPos--,wr.Main_CenterLablesVectorPos<0&&(wr.Main_CenterLablesVectorPos=5),e_(),t_();break;case Fi:Cc(ju[wr.Main_CenterLablesVectorPos],"icon_center_line"),document.body.removeEventListener("keydown",Zu),Cr=!1,nu();break;case qi:i_()}}function Ku(e){window.clearTimeout(Fl),eu(),document.body.removeEventListener("keydown",e),document.body.removeEventListener("keydown",Zu),document.body.addEventListener("keydown",Zu,!1),e_()}function $u(){Cc(ju[wr.Main_CenterLablesVectorPos],"icon_center_line"),document.body.removeEventListener("keydown",Zu),Cr=!1}function e_(){Cr=!0,kc(ju[wr.Main_CenterLablesVectorPos],"icon_center_line")}function t_(){ou(wr.Main_Go),wr.Main_Go=Wu[wr.Main_CenterLablesVectorPos],wr.Main_Go!==ur||wo()?tu(!0):(wr.Main_Go=$l,$u(),tu())}function n_(){wr.Main_Go===Kl?(Hg=xy,document.body.removeEventListener("keydown",gy)):wr.Main_Go===ur?document.body.removeEventListener("keydown",yM):wr.Main_Go===tr?(Hg=Ty,document.body.removeEventListener("keydown",gy)):wr.Main_Go===gr?(Hg=Py,document.body.removeEventListener("keydown",gy)):wr.Main_Go===dr?document.body.removeEventListener("keydown",Ww):wr.Main_Go===sr?document.body.removeEventListener("keydown",sw):wr.Main_Go===fr?document.body.removeEventListener("keydown",Gb):wr.Main_Go===rr?document.body.removeEventListener("keydown",nd):wr.Main_Go===lr?document.body.removeEventListener("keydown",ms):wr.Main_Go===ir?document.body.removeEventListener("keydown",bC):wr.Main_Go===yr?document.body.removeEventListener("keydown",aI):wr.Main_Go===_r?document.body.removeEventListener("keydown",Fk):wr.Main_Go===er?(Hg=Iy,document.body.removeEventListener("keydown",gy)):wr.Main_Go===cr?(Hg=Ey,document.body.removeEventListener("keydown",gy)):wr.Main_Go===hr?(Hg=Ly,document.body.removeEventListener("keydown",gy)):wr.Main_Go===mr?(Hg=Cy,document.body.removeEventListener("keydown",gy)):wr.Main_Go===vr?(Hg=My,document.body.removeEventListener("keydown",gy)):wr.Main_Go===ar?(Hg=Sy,document.body.removeEventListener("keydown",gy)):wr.Main_Go===pr?(Hg=By,document.body.removeEventListener("keydown",gy)):wr.Main_Go===nr&&document.body.removeEventListener("keydown",jE)}function i_(){window.clearTimeout(Fl),eu(),wr.Main_Go!==lr&&(wr.Main_BeforeChannelisSet=!1),wr.Main_Go!==tr&&(wr.Main_BeforeAgameisSet=!1),Gc(),wr.Main_Go===Kl?(Hg=xy,Wg()):wr.Main_Go===ur?oM():wr.Main_Go===gr?(Hg=Py,Wg()):wr.Main_Go===tr?(Hg=Ty,Wg()):wr.Main_Go===_r?Tk():wr.Main_Go===lr?Xo():wr.Main_Go===rr?Fs():wr.Main_Go===dr?Nw():wr.Main_Go===sr?Zb():wr.Main_Go===fr?kb():wr.Main_Go===er?(Hg=Iy,Wg()):wr.Main_Go===ar?(Hg=Sy).loadingData||Hg.key_refresh():wr.Main_Go===hr?(Hg=Ly,Wg()):wr.Main_Go===mr?(Hg=Cy,Wg()):wr.Main_Go===vr?(Hg=My,Wg()):wr.Main_Go===cr?(Hg=Ey,Wg()):wr.Main_Go===pr?(Hg=By,Wg()):wr.Main_Go===nr?LE():wr.Main_Go===ir?rC():wr.Main_Go===yr&&HM(),Fl=window.setTimeout($c,3e3)}function a_(e,t){localStorage.setItem(e,t)}function o_(e,t){return parseInt(localStorage.getItem(e))||t}function s_(e,t){return JSON.parse(localStorage.getItem(e))||t}function d_(e,t){var n=t.toString();return(localStorage.getItem(e)||n)===n?t:!t}function l_(e){console.log(e);for(var t=0;t<e.length;t++)console.log("Character is: "+e.charAt(t)+" it's Unicode is: \\u"+e.charCodeAt(t).toString(16).toUpperCase())}function r_(e){console.log("processCode");var t="";t=e.match(/code=(\w+)/),Er=t?(t=t[1],console.log("if code "+t),t):(console.log("else code "+t),0)}function c_(e,t,n,i,a,o,s){cc?__(e,t,n,i,a,o):f_(e,t,n,i,a,o,s)}function u_(e,t,n,i,a,o,s,d){cc&&d?__(e,t,n,i,a,o):f_(e,t,n,i,a,o,s)}function __(e,t,n,i,a,o){var s=Android.mreadUrl(e,t,n,i);s&&200===(s=JSON.parse(s)).status?a(s.responseText):o()}function f_(e,t,n,i,a,o,s){var d=new XMLHttpRequest;d.open("GET",(s?_c:"")+e,!0),d.timeout=t,0<n&&d.setRequestHeader(Wr,jr),1<n&&d.setRequestHeader(Qr,$r),2<n&&d.setRequestHeader(Zr,i),d.ontimeout=function(){},d.onreadystatechange=function(){if(4===d.readyState){if(200===d.status)return void a(d.responseText);o()}},d.send(null)}function h_(e,t,n,i,a,o,s){cc?m_(e,t,n,i,a,o):f_(e,t,n,i,a,o,s)}function m_(e,t,n,i,a,o){var s=Android.mreadUrl(e,t,n,i,!0);s&&200===(s=JSON.parse(s)).status?a(s.responseText):o()}function m_(e,t,n,i,a,o,s){var d=new XMLHttpRequest;d.open("POST",(s?_c:"")+e,!0),d.timeout=t,0<n&&d.setRequestHeader(Wr,jr),1<n&&d.setRequestHeader(Qr,$r),2<n&&d.setRequestHeader(Zr,i),d.ontimeout=function(){},d.onreadystatechange=function(){if(4===d.readyState){if(200===d.status)return void a(d.responseText);o()}},d.send(null)}function p_(e){e.keyCode===zi&&g_()}function v_(e){e.keyCode===zi&&y_()}function g_(){zl=window.setTimeout(function(){Android.mclose(!0)},5e3)}function y_(){window.clearTimeout(zl)}var b_=0,w_=null,A_=0,k_=!1,C_=0,E_=0,M_=!1,I_=0,S_=2e3,x_=5,P_="source",T_=P_,L_=0,B_=[],O_="",G_=!1,U_=0,R_=0,N_=1,D_=!1,V_=0,J_=!1,H_=!1,F_=2e3,q_=[0,5],z_=0,X_=!1,Y_=!1,j_=["next_button","back_button"],W_=0,Q_=!1,Z_=!0;function K_(){Fm(),Mp(),fm(document.getElementById("stream_info_icon"),wr.Main_selectedChannelLogo),Mc("stream_info_name",wr.Main_selectedChannelDisplayname),Ec("stream_info_title",Ry),Ec("stream_info_game",Gy+" "+Uy+" "+Vy),Mc("stream_live_icon",Dy),Mc("progress_bar_duration",Om(z_)),Ig((Xh=q_)[1]),Ic("stream_info_title"),wr.Play_isHost=!1,Mc("progress_bar_current_time",Om(0)),Mc("stream_live_time",""),Mc("stream_watching_time",""),D_=null!==wr.ChannelVod_vodId,tl=Gt+".",D_?(el=Vs,ll()):Ul(),Ec("pause_button",'<i class="pause_button3d icon-pause"></i>'),wc("progress_pause_holder"),If(),wc("scene_channel_panel_bottom"),A_=V_=0,window.clearInterval(w_),H_=!1,Nf=-13,U_=R_=0,L_=2,ff(),Op(3),Ih=!1,wp(),mo()?(na=!0,ia=wr.Main_selectedChannel_id,ba()):Hm(),document.addEventListener("visibilitychange",lf,!1),k_=!1,M_=!(E_=C_=0),$_(),document.body.removeEventListener("keyup",Eu)}function $_(){I_=0,S_=2e3,ef()}function ef(){c_("https://clips.twitch.tv/api/v2/clips/"+Ny+"/status",S_,1,null,nf,tf,!0)}function tf(){++I_<x_?(S_+=250,ef()):(qm(),Vp(3))}function nf(e){B_=[],e=JSON.parse(e).quality_options;for(var t=0;t<e.length;t++)B_.length?B_.push({id:e[t].quality+"p"+af(e[t].frame_rate),url:e[t].source}):B_.push({id:e[t].quality+"p"+af(e[t].frame_rate)+" (source)",url:e[t].source});R_=N_,of()}function af(e){return 40<e?60:""}function of(){window.clearInterval(w_),O_=B_[L_=0].url,-1!==P_.indexOf("source")&&(P_="source");for(var e=0;e<Cf();e++){if(B_[e].id===P_){O_=B_[L_=e].url;break}-1!==B_[e].id.indexOf(P_)&&(O_=B_[L_=e].url)}T_=P_,Wl&&console.log("PlayClip_onPlayer:",'\n\n"'+O_+'"\n'),R_=N_,cc&&M_&&Android.startVideoOffset(O_,3,G_?-1:Android.gettime()),G_=!1,sf()}function sf(){sh&&!cp()&&lp(),cc&&(A_=0,Hh=1+F_/1e3,J_=!1,window.clearInterval(w_),w_=window.setInterval(rf,Fh))}function df(e){Mc("progress_bar_duration",Om(z_=e/1e3)),Af()}function lf(){document.hidden&&uf()}function rf(){cc&&(U_=Android.gettime()),z_<U_/1e3&&(cc&&Android.play(!1),Play_PannelEndStart(3)),M_&&b_===U_&&!Tm()?++A_>Hh&&(J_&&H_&&L_<Cf()-1?L_++:!J_&&H_&&V_++,navigator.onLine?1<V_?Pm(V_,3,cf):(Ef(),of(),H_=!0):xm(!1,3)):(A_=V_=0,H_=!1),b_=U_}function cf(e){if(!e){if(!(L_<Cf()-1))return void xm(!1,3);L_++}V_=0,Ef(),of(),H_=!0}function uf(){M_&&(Q_=!1,_f(),Wm(),Dm())}function _f(){bf(),B_=[],window.clearInterval(w_),cc&&Android.stopVideo(3),M_=!1,Tl(),Vm(),$C(),document.body.removeEventListener("keydown",xf),document.removeEventListener("visibilitychange",lf),document.getElementById("scene2_pannel_0").style.display="none",document.getElementById("quality_name").style.width="25ch",Vs=0}function ff(){var e,t=hf(1,0),n=hf(-1,Hg.ColoumnsCount-1);Y_=X_=!1,t?(X_=!0,Mc("next_button_text_name",(e=JSON.parse(document.getElementById(Hg.ids[8]+t).getAttribute(ic)))[4]),Ec("next_button_text_title",e[9]),Mc("end_next_button_text_name",e[4]),Ec("end_next_button_text_title",e[9]),mf(0,1)):mf(0,0),n?(Y_=!0,Mc("back_button_text_name",(e=JSON.parse(document.getElementById(Hg.ids[8]+n).getAttribute(ic)))[4]),Ec("back_button_text_title",e[9]),mf(1,1)):mf(1,0)}function hf(e,t){return Zc(Hg.posY,Hg.posX+e,Hg.ids[0])?Hg.posY+"_"+(Hg.posX+e):Zc(Hg.posY+e,t,Hg.ids[0])?Hg.posY+e+"_"+t:null}function mf(e,t){document.getElementById(j_[e]).style.opacity=t}function pf(){W_?1===W_?vf():-1===W_&&gf():(D_&&wr.Play_ChatForceDisable&&(Tm()?xl(sl):Pl()),Ip()||bp(3))}function vf(){vy(1,0),yf()}function gf(){vy(-1,Hg.ColoumnsCount-1),yf()}function yf(){var e=document.getElementById("scene_channel_panel");e.style.transition="none",e.style.opacity="0",Hu(function(){_f(),Gu(Hg.posY+"_"+Hg.posX,Hg.ids,gy),e.style.transition=""})}function bf(){Mv=!1,Ev=Iv=0,sp(),P_=T_,document.getElementById("scene_channel_panel").style.opacity="0",cc&&Cg(Android.gettime()/1e3,z_,!0),Ec("progress_bar_jump_to",Pi),document.getElementById("progress_bar_steps").style.display="none",window.clearInterval($p)}function wf(){Af(),Lm(),$p=window.setInterval(Af,1e3),Wm(),gg(),kf(),Ef(),document.getElementById("scene_channel_panel").style.opacity="1",Mf()}function Af(){cc&&Cg(Android.gettime()/1e3,z_,!Mv)}function kf(){for(var e=L_=0;e<Cf();e++){if(B_[e].id===P_){L_=e;break}-1!==B_[e].id.indexOf(P_)&&(L_=e)}}function Cf(){return B_.length}function Ef(){1===Cf()?(document.getElementById("quality_arrow_up").style.opacity="0",document.getElementById("quality_arrow_down").style.opacity="0"):L_?L_===Cf()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(P_=B_[L_].id).indexOf("source")?Mc("quality_name",P_.replace("source",ge)):Mc("quality_name",P_)}function Mf(){Jf=window.setTimeout(bf,5e3+Gv)}function If(){document.getElementById("quality_name").style.width="16ch",Mc("open_vod_text",D_?sn:dn),document.getElementById("scene2_pannel_0").style.display="inline-block"}function Sf(){D_?(wr.vodOffset=Vs,_f(),document.body.addEventListener("keydown",Jg,!1),wp(),Hu(Jv)):(Ih=!0,zm(ln),window.setTimeout(function(){Ih=!1,Xm()},2e3))}function xf(e){if(R_!==N_)switch(e.keyCode){case zi:Qm()?(Wm(),uf()):jm()}else switch(e.keyCode){case Vi:ZC()?Yf&&!AC&&(rE(),Yf--,aE()):qf&&!np()&&cp()?(Uf++,vp()):np()?(sp(),2===Bv?(kp(),5<++Mh&&(Mh=0),Ap()):Bv?1===Bv&&-1<W_&&(W_--,Y_||!W_?yg():W_++):(xg(-1,z_),Gv=2500),Mf()):Ip()?(Lp(),Pp(),--Lh<(X_?-1:0)&&(Lh=3),xp()):wf();break;case Hi:ZC()?Yf<IC-1&&!AC&&(rE(),Yf++,aE()):!qf||np()||Ip()?np()?(sp(),2===Bv?(kp(),--Mh<0&&(Mh=5),Ap()):Bv?1===Bv&&W_<1&&(W_++,X_||!W_?yg():W_--):(xg(1,z_),Gv=2500),Mf()):Ip()?(Lp(),Pp(),3<++Lh&&(Lh=X_?-1:0),xp()):wf():a_("ChatEnable",(sh=cp()||Ip()?(rp(),!1):(lp(),!0))?"true":"false");break;case Ji:Ip()?Lp():np()?(2===Bv&&1!==Mh?(Bv--,yg()):1===Bv?(Bv--,yg()):0<L_&&1===Mh&&(L_--,Ef()),sp(),Mf()):ZC()?ZC()?iE():wf():KC();break;case Fi:Ip()?Lp():np()?(Bv?1===Bv?(Bv++,yg()):L_<Cf()-1&&1===Mh&&(L_++,Ef()):(Bv++,yg()),sp(),Mf()):ZC()?$C():qf&&cp()?(4<++Vf?pp(!(Vf=1)):4===Vf&&pp(!0),hp(!0)):wf();break;case qi:Ip()?Bp(3):np()?Bv?1===Bv?pf():Dp(3):(sp(),Mf(),Ev&&Eg()):ZC()?(_f(),Bu(Yf,UC,Qp)):wf();break;case zi:np()?bf():ZC()?$C():Qm()?(Wm(),uf()):jm();break;case Ni:case Ri:case Di:D_&&!wr.Play_ChatForceDisable&&(Tm()?xl(sl):Pl()),Ip()||bp(3)}}var Pf,Tf,Lf,Bf,Of,Gf,Uf=0,Rf=Uf,Nf=-5,Df=.55,Vf=3,Jf=null,Hf="source",Ff=Hf,qf=!0,zf=!1,Xf="",Yf=0,jf=2e3,Wf=0,Qf=1,Zf=2,Kf=0,$f=null,eh=0,th=0,nh=0,ih="",ah=[],oh=0,sh=!1,dh=null,lh=null,rh=null,ch="",uh=0,_h=5,fh=0,hh=5,mh=0,ph=!1,vh=null,gh=!1,yh=0,bh=null,wh=0,Ah=0,kh=!1,Ch=!1,Eh=!1,Mh=1,Ih=!1,Sh=!1,xh=1e4,Ph=2e3,Th="",Lh=0,Bh=3,Oh=null,Gh="",Uh=0,Rh=0,Nh="",Dh=!0,Vh=!1,Jh=!1,Hh=7,Fh=1e3,qh=0,zh="",Xh=[],Yh=!1,jh=[{top:51.8,left:75.1,sizeOffset:[31,16,0,0]},{top:33,left:75.1,sizeOffset:[12.5,0,-6.25,0]},{top:.2,left:75.1,sizeOffset:[0,0,0,0]},{top:.2,left:38.3,sizeOffset:[0,0,0,0]},{top:.2,left:.2,sizeOffset:[0,0,0,0]},{top:33,left:.2,sizeOffset:[12.5,0,-6.25,0]},{top:51.8,left:.2,sizeOffset:[31,16,0,0]},{top:51.8,left:38.3,sizeOffset:[31,16,0,0]}],Wh=[0,0,0,1,2,2,2,1],Qh=[[0,1,2,2,2,1,0,0],[7,3,3,3,3,3,7,7],[6,5,4,4,4,5,6,6]],Zh=[{containerHeight:17,percentage:"12.5%",dialogTop:15},{containerHeight:32,percentage:"25%",dialogTop:30},{containerHeight:48,percentage:"50%",dialogTop:50},{containerHeight:99.6,percentage:"100%",dialogTop:115}],Kh=1,$h=["chat_extra_small","chat_size_small","chat_size_default","chat_size_biger","chat_size_bigest"];function em(){Of=document.getElementById("chat_container"),Gf=document.getElementById("inner_progress_bar"),Uf=o_("ChatPositionsValue",0),Vf=o_("ChatSizeValue",3),sh=d_("ChatEnable",!1),qf=d_("Play_isFullScreen",!0),hp(!1),mp(!1),nm()}function tm(e){e?void 0!==Pf&&(Uf=Pf,Vf=Lf,(sh=Tf)||rp(),hp(!1)):(Pf=Uf,Tf=sh,Lf=Vf,Uf=0,lp(),Vf=4,pp(sh=!0),hp(!1),Xd&&(Xd.scrollTop=Xd.scrollHeight)),a_("Play_isFullScreen",qf)}function nm(){Kh=uA("chat_font_size");for(var e=0;e<$h.length;e++)Cc("chat_inner_container",$h[e]);kc("chat_inner_container",$h[Kh])}function im(){Fm(),Ec("stream_live_icon",'<div style="vertical-align: middle; display: inline-block"><i class="icon-circle" style="color: red; font-size: 105%; "></i></div><div style="display: inline-block">'+Pi+f.toUpperCase()+"</div>"),_u("stream_info_title"),D_=!(Sh=!1),fm(document.getElementById("stream_info_icon"),Oi),wr.Play_isHost?Mc("stream_info_name",wr.Play_DisplaynameHost):Mc("stream_info_name",wr.Play_selectedChannelDisplayname),mf(0,0),mf(1,0),wr.Play_WasPlaying=1,iu(),zf=wr.Play_isHost,wr.Play_isHost=!1,Vh=!1,wc("scene_channel_panel_bottom"),Rh=Uh=0,Mc("stream_watching_time",g+Om(0)),ch=Gm(0),Mc("stream_live_time",y+ch),bc("progress_pause_holder"),Yh=!1,Op(1),Nf=-5,wh=Ah=qh=0,window.clearInterval(bh),Ch=!1,xh=3e3,Dh=!(fh=0),Kf=Wf,Eh=!(ph=!(nh=th=eh=gh=0)),document.addEventListener("visibilitychange",om,!1),dm(),hm(),document.body.removeEventListener("keyup",Eu),$f=window.setInterval(cm,6e4)}function am(e){zm(e)}function Play_CheckResume(){ph&&om(),fv&&Qv(),M_&&(uf(),window.clearInterval(w_))}function om(){document.hidden?Ip()?(Wm(),rp(),Rm()):(Vm(),Eh=!1,Hd(),window.clearInterval($f)):(ph=!0,$m(),ph&&(Fm(),xh=3e3,Vh=!(fh=0),Sh?cm():dm(),Kf=Wf,mh=0,navigator.onLine?hm():Bf=window.setInterval(sm,100),$f=window.setInterval(cm,6e4)))}function sm(){(navigator.onLine||200<mh)&&(window.clearInterval(Bf),hm()),mh++}function dm(){f_("https://api.twitch.tv/kraken/streams/"+wr.Play_selectedChannel_id,xh,2,null,lm,rm,!1)}function lm(e){null!==(e=JSON.parse(e)).stream&&(Mc("stream_info_name",zf?wr.Play_DisplaynameHost:wr.Play_selectedChannelDisplayname),wr.Play_selectedChannel_id=e.stream.channel._id,Ec("stream_info_title",wI.parse(e.stream.channel.status,!1,!0)),wr.Play_gameSelected=e.stream.game,Th=" ["+e.stream.channel.broadcaster_language.toUpperCase()+"]",Mc("stream_info_game",v+wr.Play_gameSelected+m+jc(e.stream.viewers)+" "+J+Th),wr.Play_selectedChannelLogo=e.stream.channel.logo,Sh=!0,fm(document.getElementById("stream_info_icon"),wr.Play_selectedChannelLogo),ch=e.stream.created_at,mo()?(na=!0,ia=wr.Play_selectedChannel_id,ba()):Hm())}function rm(){fh<hh&&(xh+=500,window.setTimeout(function(){ph&&dm()},750)),fh++}function cm(){f_("https://api.twitch.tv/kraken/streams/"+wr.Play_selectedChannel_id,3e3,2,null,um,_m,!1)}function um(e){null!==(e=JSON.parse(e)).stream&&(Ec("stream_info_title",wI.parse(e.stream.channel.status,!1,!0)),wr.Play_gameSelected=e.stream.game,Mc("stream_info_game",v+wr.Play_gameSelected+m+jc(e.stream.viewers)+" "+J+Th),Sh||fm(document.getElementById("stream_info_icon"),e.stream.channel.logo))}function _m(){qh<hh?(window.setTimeout(function(){ph&&cm()},2500),qh++):qh=0}function fm(e,t){e.onerror=function(){this.onerror=null,this.src=Oi,Sh=!1},e.src=t}function hm(){uh=0,Ph=2e3+(Vh?3e3:0),mm()}function mm(){var e,t;if(e=Kf===Wf?"https://api.twitch.tv/api/channels/"+wr.Play_selectedChannel+"/access_token"+(mo()&&Ka[wr.Users_Position].access_token?"?oauth_token="+Ka[wr.Users_Position].access_token:""):"https://usher.ttvnw.net/api/channel/hls/"+wr.Play_selectedChannel+".m3u8?&token="+encodeURIComponent(eh.token)+"&sig="+eh.sig+"&allow_source=true&allow_audi_only=true&fast_bread=true&allow_spectre=false",cc){if(!(t=Android.mreadUrl(e,Ph,1,null)))return void vm();200===(t=JSON.parse(t)).status?(uh=0,ph&&bm(t.responseText)):403===t.status?gm():404===t.status?Jp():vm()}else(t=new XMLHttpRequest).open("GET",_c+e,!0),t.timeout=Ph,t.setRequestHeader(Wr,jr),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?(uh=0,ph&&bm(t.responseText)):403===t.status?(pm(t),jl?ym():gm()):404===t.status?(pm(t),jl?ym():Jp()):(pm(t),vm()))},t.send(null)}function pm(e){Wl&&(console.log(e.status),console.log(e.responseText))}function vm(){ph&&Dh&&(++uh<_h+(Vh?7:0)?(Ph+=250,Vh?window.setTimeout(mm,500):mm()):jl?ym():Jp())}function gm(){qm(),zm(Vn),window.setTimeout(function(){ph&&Jp()},4e3)}function ym(){ah=[{id:"1080p60(Source)",band:"(10.00Mbps)",url:"http://fake"}],Kf=Zf,ph&&Cm()}function bm(e){Kf===Wf?(eh=JSON.parse(e),Kf=Qf,hm()):Kf===Qf&&(ah=wm(th=e),Kf=Zf,ph&&Cm())}function wm(e){for(var t,n=[],i="",a=1,o=km(e),s=0;s<o.length;s++)i=o[s].split('NAME="')[1].split('"')[0],t=Am(o[s].split("BANDWIDTH=")[1].split(",")[0]),n.length?n[s-a].id!==i&&n[s-a].id!==i+" (source)"?n.push({id:i,band:t,url:o[s].split("\n")[2]}):a++:(-1===i.indexOf("ource")&&(i+=" (source)"),n.push({id:i,band:t,url:o[s].split("\n")[2]}));return n}function Am(e){return 0<(e=parseInt(e))?" ("+parseFloat(e/1e6).toFixed(2)+"Mbps)":""}function km(e){for(var t,n=[],i=/#EXT-X-MEDIA:(.)*\n#EXT-X-STREAM-INF:(.)*\n(.)*/g;t=i.exec(e);)n.push(t[0]);return n}function Cm(){window.clearInterval(bh),ih=ah[oh=0].url,-1!==Hf.indexOf("source")&&(Hf="source");for(var e=0;e<fp();e++){if(ah[e].id===Hf){ih=ah[oh=e].url;break}-1!==ah[e].id.indexOf(Hf)&&(ih=ah[oh=e].url)}Ff=Hf,Kf=Zf,Wl&&console.log("Play_onPlayer:",'\n\n"'+ih+'"\n'),cc&&ph&&Android.startVideo(ih,1),Em()}function Em(){Jh=!1,sh&&!cp()&&lp(),Eh=!0,Mm(),cc&&(wh=0,Hh=1+jf/1e3,kh=!1,window.clearInterval(bh),bh=window.setInterval(Im,Fh))}function Mm(){wr.Play_ChatForceDisable?gd():Rl()}function Im(){var e=!Tm();cc&&(Uh=Android.gettime()),ph&&yh===Uh&&e?Hh<++wh&&(kh&&Ch&&oh<fp()-1?oh++:!kh&&Ch&&Ah++,navigator.onLine?1<Ah?Pm(Ah,1,Sm):(_p(),Cm(),Ch=!0):xm(!1,1)):(wh=Ah=0,Ch=!1),yh=Uh,e&&Rh++}function Sm(e){if(!e){if(!(oh<fp()-1))return void Jp();oh++}Ah=0,_p(),Cm(),Ch=!0}function xm(e,t){wr.Play_isHost=e,Op(t),Vp(t)}function Pm(e,t,n){var i=new XMLHttpRequest;i.timeout=1e3,i.open("GET","https://static-cdn.jtvnw.net/jtv-static/404_preview-10x10.png?"+Math.random(),!0),i.onreadystatechange=function(){4===i.readyState&&(200===i.status?n(2<e):12<e&&xm(!1,t))},i.send(null)}function Tm(){return!!cc&&!Android.getPlaybackState()}function Lm(){var e=Fu();Mc("stream_clock",e),Mc("label_clock",e)}function Bm(e){return e<10?"0"+e:e}function Om(e){var t,n,i;return t=Bm(parseInt(e)%60),n=Bm((e=Math.floor(e/60))%60),i=Bm(e=Math.floor(e/60)),e?i+":"+n+":"+t:n+":"+t}function Gm(e){return Om(parseInt(e/1e3))}function Um(e){return Gm((new Date).getTime()-new Date(e).getTime())}function Rm(){ph&&(Nm(),wr.Play_WasPlaying=0,Dm())}function Nm(){cc&&Android.stopVideo(1),ph=!1,$C(),Tl(),Vm(),Jm(),wr.Play_selectedChannel_id=""}function Dm(){Cg(0,0),wc("scene1"),bc("scene2"),Kc()}function Vm(){ip(),$m(),Xm(),Mp(),zh="",oh===fp()-1&&(Ff=ah[0].id),cv===kg()-1&&(nv=rv[0].id),L_===Cf()-1&&(T_=B_[0].id)}function Jm(){Eh=!1,document.body.removeEventListener("keydown",Qp),document.removeEventListener("visibilitychange",om),Hd(),window.clearInterval($f),window.clearInterval(bh),Ih=!1}function Hm(){Ec("fallow_text",Pi+Lt),ea=!1}function Fm(){cc?Android.mshowLoading(!0):wc("dialog_loading_play")}function qm(){cc?Android.mshowLoading(!1):bc("dialog_loading_play")}function zm(e){Mc("dialog_warning_play_text",e),wc("dialog_warning_play")}function Xm(){bc("dialog_warning_play")}function Ym(){return Ac("dialog_warning_play")}function jm(){Qm()?Wm():(wc("play_dialog_exit"),dh=window.setTimeout(jm,3e3))}function Wm(){window.clearTimeout(dh),bc("play_dialog_exit")}function Qm(){return Ac("play_dialog_exit")}function Zm(){window.clearTimeout(lh)}function Km(){window.clearTimeout(rh)}function $m(){Zm(),Km(),bc("play_dialog_simple_pause")}function ep(){qm(),Tm()?tp()?(bc("play_dialog_simple_pause"),rh=window.setTimeout(ep,8e3)):(wc("play_dialog_simple_pause"),lh=window.setTimeout(ep,1500)):$m()}function tp(){return Ac("play_dialog_simple_pause")}function np(){return"1"===document.getElementById("scene_channel_panel").style.opacity}function ip(){sp(),document.getElementById("scene_channel_panel").style.opacity="0",Hf=Ff,window.clearInterval($p)}function ap(){wp(),up(),_p(),op(),$p=window.setInterval(op,1e3),Lm(),Wm(),document.getElementById("scene_channel_panel").style.opacity="1",dp()}function op(){Mc("stream_watching_time",g+Om(Rh)),Mc("stream_live_time",y+(-1===ch.indexOf("00:00")?Um(ch):"00:00"))}function sp(){window.clearTimeout(Jf),Gv=0}function dp(){Jf=window.setTimeout(ip,5e3)}function lp(){vp(),wc("chat_container")}function rp(){bc("chat_container")}function cp(){return Ac("chat_container")}function up(){for(var e=oh=0;e<fp();e++){if(ah[e].id===Hf){oh=e;break}-1!==ah[e].id.indexOf(Hf)&&(oh=e)}}function _p(){1===fp()?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):oh?oh===fp()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(Hf=ah[oh].id).indexOf("source")?Mc("quality_name",Hf.replace("source",ge)+ah[oh].band):Mc("quality_name",Hf+ah[oh].band)}function fp(){return ah.length}function hp(e){Of.style.height=Zh[Vf-1].containerHeight+"%",document.getElementById("play_chat_dialog").style.marginTop=Zh[Vf-1].dialogTop+"%",vp(),Vd(),e&&gp(Nn+Zh[Vf-1].percentage),window.setTimeout(function(){Xd&&(Xd.scrollTop=Xd.scrollHeight)},500),a_("ChatSizeValue",Vf)}function mp(e){Of.style.backgroundColor="rgba(0, 0, 0, "+Df+")",e&&gp(Dn+(100*Df).toFixed(0)+"%")}function pp(e){Uf=e?Wh[Rf=Uf]:Qh[Uf][Rf]}function vp(){var e=4===Vf;Uf<0?Uf=e?2:7:(e?2:7)<Uf&&(Uf=0),Of.style.top=(e?.2:jh[Uf].top+jh[Uf].sizeOffset[Vf-1])+"%",Of.style.left=jh[Uf+(e?2:0)].left+"%",a_("ChatPositionsValue",Uf)}function gp(e){window.clearTimeout(vh),Mc("play_chat_dialog_text",e),wc("play_chat_dialog"),vh=window.setTimeout(yp,1e3)}function yp(){bc("play_chat_dialog")}function bp(e){Tm()?($m(),Ec("pause_button",'<i class="pause_button3d icon-pause"></i>'),1===e?(np()&&ip(),window.clearInterval(bh),bh=window.setInterval(Im,Fh)):2===e?(np()&&mg(),window.clearInterval(yv),yv=window.setInterval(cg,Fh)):3===e&&(np()&&bf(),window.clearInterval(w_),w_=window.setInterval(rf,Fh)),cc&&Android.play(!0)):(window.clearInterval(bh),window.clearInterval(yv),window.clearInterval(w_),Ec("pause_button",'<i class="pause_button3d icon-play-1"></i>'),ep(),cc&&Android.play(!1))}function wp(){kp(),Mh=1,Ap()}function Ap(){kc("scene2_pannel_"+Mh,"playbotton_focus")}function kp(){Cc("scene2_pannel_"+Mh,"playbotton_focus")}function Cp(e){iv=Kf=-1,R_=-1,$C(),rp(),ip(),bf(),mg(),Ih||Xm(),qm(),Wm(),3===e&&X_&&(Q_||Z_)&&(Pp(),Lh=-1),xp()}function Ep(){wc("dialog_end_stream")}function Mp(){bc("dialog_end_stream"),Lp(),Sp()}function Ip(){return Ac("dialog_end_stream")}function Sp(){Pp(),Lh=0,xp()}function xp(){kc("dialog_end_"+Lh,"dialog_end_icons_focus")}function Pp(){Cc("dialog_end_"+Lh,"dialog_end_icons_focus")}function Tp(e){1===e?Gh=wr.Play_selectedChannelDisplayname+" "+f:2===e?Gh=wr.Main_selectedChannelDisplayname+$t:3===e&&(Gh=wr.Main_selectedChannelDisplayname+Gt),Ec("dialog_end_stream_text",Gh+S+pi+(3===e&&X_&&(Q_||Z_)?li:tn)+Bh+"..."),Ip()?(iv=Kf=Zf,R_=N_,-1===--Bh?(Ec("dialog_end_stream_text",Gh+S+pi+tn+"0..."),Wm(),rp(),1===e?Rm():2===e?_g():3===e&&(X_&&(Q_||Z_)?vf():uf())):Oh=window.setTimeout(function(){Tp(e)},1e3)):Oh=window.setTimeout(function(){Tp(e)},50)}function Lp(){window.clearTimeout(Oh),Ec("dialog_end_stream_text",Gh+S+pi+nn)}function Bp(e){var t=!0;-1===Lh&&X_?vf():Lh?1===Lh?wr.Play_isHost?(wr.Play_DisplaynameHost=wr.Play_selectedChannelDisplayname+ne,wr.Play_selectedChannel=Nh.target_login,wr.Play_selectedChannelDisplayname=Nh.target_display_name,wr.Play_DisplaynameHost=wr.Play_DisplaynameHost+wr.Play_selectedChannelDisplayname,Nm(),document.body.addEventListener("keydown",Qp,!1),wr.Play_selectedChannel_id=Nh.target_id,Hu(im)):Sf():2===Lh?Gp(e):3===Lh&&Rp(e):2===e?rv.length?(wv=!(Nv=!0),dg(),$m(),el=Pv=0,ll()):(t=!1,zm(ei),window.setTimeout(function(){Xm()},2e3)):3===e&&(B_.length?(J_=!(G_=!0),of(),$m(),D_?(Pv=0,el=Vs,ll()):Ul()):(t=!1,zm(ei),window.setTimeout(function(){Xm()},2e3))),1!==Lh&&3===Lh&&""===wr.Play_gameSelected&&(t=!1),t&&Mp()}function Op(e){e?1===e?(Pp(),Lh=2,xp(),document.getElementById("dialog_end_-1").style.display="none",document.getElementById("dialog_end_0").style.display="none",document.getElementById("dialog_end_1").style.display="none"):2===e?(Sp(),document.getElementById("dialog_end_-1").style.display="none",document.getElementById("dialog_end_0").style.display="inline-block",document.getElementById("dialog_end_1").style.display="none"):3===e&&(Sp(),document.getElementById("dialog_end_-1").style.display=X_?"inline-block":"none",document.getElementById("dialog_end_0").style.display="inline-block",document.getElementById("dialog_end_1").style.display="inline-block",Mc("dialog_end_vod_text",D_?sn:dn)):(Pp(),Lh=1,xp(),document.getElementById("dialog_end_-1").style.display="none",document.getElementById("dialog_end_0").style.display="none",document.getElementById("dialog_end_1").style.display="inline-block",Mc("dialog_end_vod_text",un))}function Gp(e){wr.Main_BeforeChannelisSet||wr.Main_Go===rr||wr.Main_Go===cr||(wr.Main_BeforeChannel=wr.Main_BeforeAgameisSet&&wr.Main_Go!==tr?wr.Main_BeforeAgame:wr.Main_Go,wr.Main_BeforeChannelisSet=!0),ou(wr.Main_Go),wr.Main_Go=lr,1===e?(wr.Main_selectedChannel_id=wr.Play_selectedChannel_id,wr.Main_selectedChannel=wr.Play_selectedChannel,wr.Main_selectedChannelDisplayname=wr.Play_selectedChannelDisplayname,Lo=ea,rp(),Rm()):2===e?_g():3===e&&uf()}function Up(e){wr.Search_isSearching||(wr.Main_BeforeSearch=wr.Main_Go),ou(wr.Main_Go),wr.Main_Go=or,1===e?(rp(),Rm()):2===e?_g():3===e&&uf()}function Rp(e){if(""===wr.Play_gameSelected)return Ih=!0,zm(Qn),void window.setTimeout(function(){Ih=!1,Xm()},2e3);wr.Main_BeforeAgameisSet||wr.Main_Go===pr||wr.Main_Go===vr||(wr.Main_BeforeAgame=wr.Main_BeforeChannelisSet&&wr.Main_Go!==lr&&wr.Main_Go!==rr&&wr.Main_Go!==cr?wr.Main_BeforeChannel:wr.Main_Go,wr.Main_BeforeAgameisSet=!0),ou(wr.Main_Go),wr.Main_Go=tr,wr.Main_gameSelected=wr.Play_gameSelected,rp(),1===e?Rm():2===e?_g():3===e&&uf()}function Np(){mo()&&Ka[wr.Users_Position].access_token?ea?Sa():Ea():(zm(Bt),Ih=!0,window.setTimeout(function(){Xm(),Ih=!1},2e3))}function Dp(e){var t=document.getElementById("scene_channel_panel");2!==Mh&&(t.style.transition="none",t.style.opacity="0"),Hu(function(){Mh?1===Mh?(1===e?(Cm(),ip()):2===e?(wv=!1,dg(),mg()):3===e&&(J_=!1,of(),bf()),$m()):2===Mh?(ia=1===e?wr.Play_selectedChannel_id:wr.Main_selectedChannel_id,Np(),sp(),1===e?dp():2===e?bg():3===e&&Mf()):3===Mh?Rp(e):4===Mh?Gp(e):5===Mh&&Up(e):Sf(),t.style.transition=""})}function Play_PannelEndStart(e){1===e?(window.clearInterval(bh),Jp()):Vp(e)}function Vp(e){window.clearInterval(bh),window.clearInterval(w_),window.clearInterval(yv),Cp(e),Bh=3,Tp(e),Ep()}function Jp(){Fm(),Kf=-1,uh=0,Ph=2e3,Hd(),window.clearInterval($f),window.clearInterval(bh),""!==wr.Play_selectedChannel_id?zp():Hp()}function Hp(){f_("https://api.twitch.tv/kraken/users?login="+wr.Play_selectedChannel,Ph,2,null,Fp,qp,!1)}function Fp(e){void 0!==(e=JSON.parse(e).users[0])?(wr.Play_selectedChannel_id=e._id,uh=0,Ph=2e3,zp()):Vp(1)}function qp(){++uh<_h?(Ph+=250,Hp()):xm(!1,1)}function zp(){c_("https://tmi.twitch.tv/hosts?include_logins=1&host="+encodeURIComponent(wr.Play_selectedChannel_id),Ph,1,null,Yp,Xp,!0)}function Xp(){++uh<_h?(Ph+=250,zp()):xm(!1,1)}function Yp(e){void 0!==(Nh=JSON.parse(e).hosts[0]).target_login?(Ih=!0,zm(wr.Play_selectedChannelDisplayname+cn+ne+Nh.target_display_name),window.setTimeout(function(){Ih=!1},4e3),Op(0),wr.Play_isHost=!0):(Op(1),wr.Play_isHost=!1),Vp(1)}function Play_UpdateDuration(e,t){0<t&&(2===e?rg(t):3===e&&df(t))}function jp(){ea?(Ec("fallow_heart",'<i class="icon-heart strokicon" style="color: #00b300;"></i>'),Ec("fallow_text",Pi+Mt)):(Ec("fallow_heart",'<i class="icon-heart-o strokicon" style="color: #FFFFFF;"></i>'),Ec("fallow_text",Pi+It))}function Wp(e){Ip()&&!Qm()?(Lp(),jm()):ZC()?$C():np()&&!Ug()?e?mg():ip():Ug()&&Qm()?(Gg(),fg(!1),Dm()):Qm()?(Wm(),rp(),e?_g():Rm()):(Ym()&&Xm(),jm())}function Qp(e){if(Kf!==Zf)switch(e.keyCode){case zi:Qm()?(Wm(),rp(),Rm()):jm()}else switch(e.keyCode){case Vi:ZC()?Yf&&!AC&&(rE(),Yf--,aE()):qf&&!np()&&cp()?(Uf++,vp()):np()?(kp(),5<++Mh&&(Mh=1),Ap(),sp(),dp()):Ip()?(Lp(),Pp(),--Lh<(wr.Play_isHost?1:2)&&(Lh=3),xp()):ap();break;case Hi:ZC()?Yf<IC-1&&!AC&&(rE(),Yf++,aE()):!qf||np()||Ip()?np()?(kp(),--Mh<1&&(Mh=5),Ap(),sp(),dp()):Ip()?(Lp(),Pp(),3<++Lh&&(Lh=wr.Play_isHost?1:2),xp()):ap():a_("ChatEnable",(sh=cp()||Ip()?(rp(),!1):(lp(),!0))?"true":"false");break;case Ji:np()?(0<oh&&1===Mh&&(oh--,_p()),sp(),dp()):!ZC()&&mo()?KC():Ip()?Lp():ZC()&&iE();break;case Fi:np()?(oh<fp()-1&&1===Mh&&(oh++,_p()),sp(),dp()):ZC()?$C():qf&&cp()?(4<++Vf?pp(!(Vf=1)):4===Vf&&pp(!0),hp(!0)):Ip()?Lp():ap();break;case qi:if(Ip())Bp(1);else if(np())Dp(1);else if(ZC()){var t=document.getElementById(UC[8]+Yf);null===t?eE():wr.Play_selectedChannel!==JSON.parse(t.getAttribute(ic))[0]?(Nm(),wr.Play_isHost=!1,Yh=!0,Bu(Yf,UC,Qp)):eE()}else ap();break;case zi:Wp(!1);break;case Ni:case Ri:case Di:Ip()||bp(1)}}var Zp,Kp,$p,ev,tv="source",nv=tv,iv=0,av=null,ov=0,sv=0,dv=0,lv="",rv=[],cv=0,uv=0,_v=5,fv=!1,hv=2e3,mv=0,pv=5,vv=1e4,gv=0,yv=null,bv=0,wv=!1,Av=0,kv=!1,Cv=!1,Ev=0,Mv=!1,Iv=0,Sv=2e3,xv=!1,Pv=0,Tv={},Lv=0,Bv=0,Ov=!0,Gv=0,Uv=0,Rv=0,Nv=!1,Dv=[0,10,30,60,120,300,600,900,1200,1800],Vv=!1;function Jv(){Fm(),Mp(),Pv=0,Mc("stream_live_time",""),Mc("stream_watching_time",""),Mc("progress_bar_current_time",Om(0)),tl=O+".",Ec("pause_button",'<i class="pause_button3d icon-pause"></i>'),bc("progress_pause_holder"),Uv=0,Ig((Xh=Dv)[1]),iv=Wf,D_=!0,Vs=0,wr.Play_isHost=!1,mf(0,0),mf(1,0),wr.vodOffset?(Fv(),Yv()):(Ov&&""!==wr.Main_selectedChannel_id?(fm(document.getElementById("stream_info_icon"),wr.Main_selectedChannelLogo),Tv["#"+wr.ChannelVod_vodId]||ll(),mo()?(ia=wr.Main_selectedChannel_id,na=!0,ba()):Hm()):(Fv(),qv()),Mc("stream_info_name",wr.Main_selectedChannelDisplayname),Ec("stream_info_title",""),Ec("stream_info_game",Rs+" ["+Ts.toUpperCase()+"]"),Mc("stream_live_icon",Ns),Ic("stream_info_game")),Tv["#"+wr.ChannelVod_vodId]&&!wr.vodOffset?(qm(),Og()):Hv()}function Hv(){window.setTimeout(function(){wc("scene_channel_panel_bottom"),wc("progress_pause_holder")},1e3),Mc("progress_bar_duration",Om(Ss)),wr.Play_WasPlaying=2,iu(),ev=window.setInterval(Kv,6e4),mu(zh),bv=Av=0,window.clearInterval(yv),Ih=xv=kv=!(Nf=-13),Mv=!1,dv=sv=ov=Iv=0,document.addEventListener("visibilitychange",Qv,!1),Vv=!(fv=!(Cv=!1)),$v(),Op(2),document.body.removeEventListener("keyup",Eu)}function Fv(){mv=0,pv=5,vv=1e4}function qv(){f_("https://api.twitch.tv/kraken/users?login="+encodeURIComponent(wr.Main_selectedChannel),vv,2,null,zv,Xv,!1)}function zv(e){void 0!==(e=JSON.parse(e).users[0])?(wr.Main_selectedChannelLogo=e.logo,wr.Main_selectedChannel_id=e._id,Tv["#"+wr.ChannelVod_vodId]||ll(),mo()?(ia=wr.Main_selectedChannel_id,na=!0,ba()):Hm()):(wr.Main_selectedChannelLogo=Oi,wr.Main_selectedChannel_id=""),fm(document.getElementById("stream_info_icon"),wr.Main_selectedChannelLogo)}function Xv(){++mv<pv?(vv+=500,window.setTimeout(function(){fv&&qv()},750)):Kp=window.setTimeout(qv,2500)}function Yv(){f_("https://api.twitch.tv/kraken/videos/"+wr.ChannelVod_vodId,vv,2,null,Wv,jv,!1)}function jv(){++mv<pv&&(vv+=2e3,Yv())}function Wv(e){e=JSON.parse(e),Ec("stream_info_title",wI.parse(e.title,!1,!0)),Ec("stream_info_game",Qt+v+e.game+" "+jc(e.views)+V+" ["+e.channel.broadcaster_language.toUpperCase()+"]"),Mc("stream_live_icon",N+ru(e.created_at)),Mc("progress_bar_duration",Om(Ss=parseInt(e.length))),Pv=1e3*wr.vodOffset,Cg(wr.vodOffset,Ss,!0),wr.Main_selectedChannelDisplayname=e.channel.display_name,Mc("stream_info_name",wr.Main_selectedChannelDisplayname),wr.Main_selectedChannelLogo=e.channel.logo,fm(document.getElementById("stream_info_icon"),wr.Main_selectedChannelLogo),wr.Main_selectedChannel_id=e.channel._id,wr.Main_selectedChannel=e.channel.name,mo()?(na=!0,ia=wr.Main_selectedChannel_id,ba()):Hm(),mu(e.increment_view_count_url)}function Qv(){document.hidden?Ip()?(Wm(),rp(),_g()):(Kv(),Pg(),Pl(),Vm(),window.clearInterval(yv),window.clearInterval(ev)):(fv=!0,$m(),fv&&(Fm(),mh=mh=0,navigator.onLine?lg():Bf=window.setInterval(Zv,100),xl(sl),Op(2),ev=window.setInterval(Kv,6e4)))}function Zv(){(navigator.onLine||200<mh)&&(window.clearInterval(Bf),iv=Wf,$v()),mh++}function Kv(){wr.vodOffset=cc?parseInt(Android.gettime()/1e3):0,iu(),wr.vodOffset=0}function $v(){uv=0,Sv=2e3,eg()}function eg(){c_(iv===Wf?"https://api.twitch.tv/api/vods/"+wr.ChannelVod_vodId+"/access_token"+(mo()&&Ka[wr.Users_Position].access_token?"?oauth_token="+Ka[wr.Users_Position].access_token:""):"https://usher.ttvnw.net/vod/"+wr.ChannelVod_vodId+".m3u8?&nauth="+encodeURIComponent(ov.token)+"&nauthsig="+ov.sig+"&allow_source=true&allow_audi_only=true&allow_spectre=false",Ph,1,null,ig,tg,!0)}function tg(){if(fv){var e;if(ov.token&&(e=JSON.parse(ov.token)),e&&0!==JSON.parse(ov.token).chansub.restricted_bitrates.length)return void ag();++uv<_v?(Sv+=250,eg()):jl?ng():(qm(),Vp(2))}}function ng(){rv=[{id:"1080p60(Source)",band:"(10.00Mbps)",url:"http://fake"}],iv=Zf,fv&&dg()}function ig(e){iv===Wf?(ov=JSON.parse(e),iv=Qf,$v()):iv===Qf&&(rv=wm(sv=e),iv=Zf,fv&&dg())}function ag(){mo()&&Ka[wr.Users_Position].access_token?(ia=wr.Main_selectedChannel_id,Ta()):(qm(),zm(x+St),window.setTimeout(function(){fv&&_g()},4e3))}function og(){qm(),zm(x+xt),window.setTimeout(function(){fv&&_g()},4e3)}function sg(){Vv?(qm(),zm(x+Pt),window.setTimeout(function(){fv&&_g()},4e3)):(Vv=!0,iv=Wf,$v())}function dg(){window.clearInterval(yv),lv=rv[cv=0].url,-1!==tv.indexOf("source")&&(tv="source");for(var e=0;e<kg();e++){if(rv[e].id===tv){lv=rv[cv=e].url;break}-1!==rv[e].id.indexOf(tv)&&(lv=rv[cv=e].url)}nv=tv,lg()}function lg(){Wl&&console.log("PlayVod_onPlayer:",'\n\n"'+lv+'"\n'),wr.vodOffset?(el=wr.vodOffset,ll(),cc&&fv&&Android.startVideoOffset(lv,2,Nv?-1:1e3*wr.vodOffset),wr.vodOffset=0):cc&&fv&&Android.startVideoOffset(lv,2,Nv?-1:Android.gettime()),Nv=!1,sh&&!cp()&&lp(),cc&&(bv=0,Hh=3+hv/1e3,wv=!1,window.clearInterval(yv),yv=window.setInterval(cg,Fh))}function rg(e){Mc("progress_bar_duration",Om(Ss=e/1e3)),vg()}function cg(){cc&&(Pv=Android.gettime()),Ss<Pv/1e3&&(cc&&Android.play(!1),Play_PannelEndStart(2)),fv&&gv===Pv&&!Tm()?++bv>Hh&&(wv&&kv&&cv<kg()-1?cv++:!wv&&kv&&Av++,navigator.onLine?1<Av?Pm(Av,2,ug):(Ag(),dg(),kv=!0):xm(!1,2)):(bv=Av=0,kv=!1),gv=Pv}function ug(e){if(!e){if(!(cv<kg()-1))return void xm(!1,2);cv++}Av=0,Ag(),dg(),kv=!0}function _g(){fv&&(rv=[],fg(!0),Dm())}function fg(e){e&&Pg(),cc&&Android.stopVideo(2),fv=!1,window.clearInterval(ev),window.clearInterval(Kp),wr.Play_WasPlaying=0,Ov=!0,Tl(),$C(),Vm(),hg()}function hg(){document.body.removeEventListener("keydown",Jg),document.removeEventListener("visibilitychange",Qv),wr.vodOffset=0,window.clearInterval(av),window.clearInterval(yv),Ss=0}function mg(){Mv=!1,Ev=Iv=0,sp(),document.getElementById("scene_channel_panel").style.opacity="0",cc&&Cg(Android.gettime()/1e3,Ss,!0),Ec("progress_bar_jump_to",Pi),document.getElementById("progress_bar_steps").style.display="none",tv=nv,window.clearInterval($p)}function pg(e){vg(),Lm(),Wm(),$p=window.setInterval(vg,1e3),e&&(gg(),wg(),Ag(),bg()),document.getElementById("scene_channel_panel").style.opacity="1"}function vg(){cc&&Cg(Android.gettime()/1e3,Ss,!Mv)}function gg(){Bv=1,W_=0,yg()}function yg(){Cc("pause_button","progress_bar_div_focus"),Cc("next_button","progress_bar_div_focus"),Cc("back_button","progress_bar_div_focus"),Cc("progress_bar_div","progress_bar_div_focus"),Bv?1===Bv?(W_?1===W_?kc("next_button","progress_bar_div_focus"):-1===W_&&kc("back_button","progress_bar_div_focus"):kc("pause_button","progress_bar_div_focus"),kp(),Ec("progress_bar_jump_to",Pi),document.getElementById("progress_bar_steps").style.display="none"):2===Bv&&(Ap(),Ec("progress_bar_jump_to",Pi),document.getElementById("progress_bar_steps").style.display="none"):(kc("progress_bar_div","progress_bar_div_focus"),kp(),Ev&&(Sg(),document.getElementById("progress_bar_steps").style.display="inline-block"))}function bg(){Jf=window.setTimeout(mg,5e3+Gv)}function wg(){for(var e=cv=0;e<kg();e++){if(rv[e].id===tv){cv=e;break}-1!==rv[e].id.indexOf(tv)&&(cv=e)}}function Ag(){1===kg()?(document.getElementById("quality_arrow_up").style.opacity="0",document.getElementById("quality_arrow_down").style.opacity="0"):cv?cv===kg()-1?(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="0.2"):(document.getElementById("quality_arrow_up").style.opacity="1",document.getElementById("quality_arrow_down").style.opacity="1"):(document.getElementById("quality_arrow_up").style.opacity="0.2",document.getElementById("quality_arrow_down").style.opacity="1"),-1!==(tv=rv[cv].id).indexOf("source")?Mc("quality_name",tv.replace("source",ge)+rv[cv].band):Mc("quality_name",tv+rv[cv].band)}function kg(){return rv.length}function Cg(e,t,n){Mc("progress_bar_current_time",Om(e)),n&&(Gf.style.width=e/t*100+"%")}function Eg(){$m(),Ip()||(J_=wv=!1,fv?(cc&&Android.startVideoOffset(lv,2,0<Rv?1e3*Rv:-1),el=Rv):(el=Vs,cc&&Android.startVideoOffset(O_,3,0<Rv?1e3*Rv:-1)),D_&&ll()),Ec("progress_bar_jump_to",Pi),document.getElementById("progress_bar_steps").style.display="none",Mv=!1,Rv=Ev=Iv=0}function Mg(){Uv=Iv=0,Ig(Xh[1])}function Ig(e){Ev&&!Bv&&(document.getElementById("progress_bar_steps").style.display="inline-block"),60<Math.abs(e)?Mc("progress_bar_steps",Jn+e/60+Fn):Mc("progress_bar_steps",e?Jn+e+Hn:Jn+Xh[1]+Hn)}function Sg(){Mc("progress_bar_jump_to",ue+" ("+(Ev<0?"-":"")+Om(Math.abs(Ev))+")"+_e+Om(Rv))}function xg(e,t){var n=cc?Android.gettime()/1e3:0;window.clearTimeout(Zp),Mv=!0,Iv<Xh.length-1&&Uv++%6==0&&Iv++,Ev+=Xh[Iv]*e,Rv=n+Ev,fv&&(Rv=10*Math.floor(Rv/10)),t<Rv?(Ev=t-n-Xh[1],Rv=n+Ev,Uv=Iv=0):Rv<0&&(Ev=0-n,Rv=Uv=Iv=0),Sg(),Gf.style.width=Rv/t*100+"%",Ig(Xh[Iv]*e),Zp=window.setTimeout(Mg,1e3)}function Pg(){var e=cc?parseInt(Android.gettime()/1e3):0,t="#"+wr.ChannelVod_vodId;300<e&&e<Ss-300?(Tv[t]&&delete Tv[t],Tv[t]=e,a_("PlayVod_VodIds",JSON.stringify(Tv))):Ss-300<e&&Tv[t]&&(delete Tv[t],a_("PlayVod_VodIds",JSON.stringify(Tv)))}function Tg(){Tv=s_("PlayVod_VodIds",{});var e=Lg();250<e&&Bg(e-250)}function Lg(){var e=0;for(var t in Tv)Tv.hasOwnProperty(t)&&e++;return e}function Bg(e){var t=0;for(var n in Tv){if(!(t<e))break;delete Tv[n],t++}a_("PlayVod_VodIds",JSON.stringify(Tv))}function Og(){bc("scene_channel_panel_bottom"),pg(!1),Ec("dialog_vod_saved_text",An+Gm(1e3*Tv["#"+wr.ChannelVod_vodId])),wc("dialog_vod_start")}function Gg(){mg(),bc("dialog_vod_start"),Rg(),window.setTimeout(function(){wc("scene_channel_panel_bottom")},1e3)}function Ug(){return Ac("dialog_vod_start")}function Rg(){Dg(),Lv=0,Ng()}function Ng(){kc("dialog_vod_"+Lv,"dialog_end_icons_focus")}function Dg(){Cc("dialog_vod_"+Lv,"dialog_end_icons_focus")}function Vg(e){Gg(),e?(delete Tv["#"+wr.ChannelVod_vodId],wr.vodOffset=0,Jv()):(wr.vodOffset=Tv["#"+wr.ChannelVod_vodId],Pv=1e3*wr.vodOffset,Cg(wr.vodOffset,Ss,!0),Hv())}function Jg(e){if(iv===Zf||Ug())switch(e.keyCode){case Vi:ZC()?Yf&&!AC&&(rE(),Yf--,aE()):qf&&!np()&&cp()?(Uf++,vp()):np()&&!Ug()?(sp(),2===Bv?(kp(),5<++Mh&&(Mh=1),Ap()):Bv||(xg(-1,Ss),Gv=2500),bg()):Ug()?(Dg(),Lv?Lv--:Lv++,Ng()):Ip()?(Lp(),Pp(),--Lh<0&&(Lh=3),1===Lh&&(Lh=0),xp()):Ug()||pg(!0);break;case Hi:console.log(Bv),ZC()?Yf<IC-1&&!AC&&(rE(),Yf++,aE()):!qf||np()||Ip()?np()&&!Ug()?(sp(),2===Bv?(kp(),--Mh<1&&(Mh=5),Ap()):Bv||(xg(1,Ss),Gv=2500),bg()):Ug()?(Dg(),Lv?Lv--:Lv++,Ng()):Ip()?(Lp(),Pp(),3<++Lh&&(Lh=0),1===Lh&&(Lh=2),xp()):Ug()||pg(!0):a_("ChatEnable",(sh=cp()||Ip()?(rp(),!1):(lp(),!0))?"true":"false");break;case Ji:Ip()?Lp():np()&&!Ug()?(2===Bv&&1!==Mh?(Bv--,yg()):1===Bv?(Bv--,yg()):0<cv&&1===Mh&&(cv--,Ag()),sp(),bg()):ZC()?ZC()?iE():Ug()||pg(!0):KC();break;case Fi:Ip()?Lp():np()&&!Ug()?(Bv?1===Bv?(Bv++,yg()):cv<kg()-1&&1===Mh&&(cv++,Ag()):(Bv++,yg()),sp(),bg()):ZC()?$C():qf&&cp()?(4<++Vf?pp(!(Vf=1)):4===Vf&&pp(!0),hp(!0)):Ug()||pg(!0);break;case qi:Ug()?Vg(Lv):Ip()?Bp(2):np()?Bv?1===Bv?(wr.Play_ChatForceDisable&&(Tm()?xl(sl):Pl()),Ip()||bp(2)):Dp(2):(sp(),bg(),Ev&&Eg()):ZC()?(fg(!0),Bu(Yf,UC,Qp)):pg(!0);break;case zi:Wp(!0);break;case Ni:case Ri:case Di:wr.Play_ChatForceDisable&&(Tm()?xl(sl):Pl()),Ip()||bp(2)}else switch(e.keyCode){case zi:Qm()?(Wm(),_g()):jm()}}var Hg={};function Fg(){console.log("InitScreens place holder")}function qg(){jy(),Qy(),Wy(),Ky(),$y(),eb(),nb(),ib(),zy(),Xy()}function zg(e){return[e+"_thumbdiv",e+"_img",e+"_infodiv",e+"_title",e+"_createdon",e+"_game",e+"_viwers",e+"_duration",e+"_cell","cpempty_",e+"_scroll",e+"_lang",e+"_row"]}function Xg(){for(var e,t={},n=0;n<arguments.length;n+=1){var i=arguments[n],a=Object.keys(i);for(e=0;e<a.length;e+=1)t[a[e]]=i[a[e]]}return t}function Yg(){Or=-1,wr.Main_Go=Hg.screen,Hg.label_init(),document.body.addEventListener("keydown",gy,!1),wc(Hg.ids[10]),Hg.status?(fu(Hg.posY),dy(!0),iu()):Wg()}function jg(){Or=0,Hg.label_exit(),document.body.removeEventListener("keydown",gy),bc(Hg.ids[10]),Vc()}function Wg(){Sc(),_u(Hg.table),Vc(),Hg.cursor=null,Hg.status=!1,Hg.row=document.createElement("div"),Hg.MaxOffset=0,Hg.TopRowCreated=!1,Hg.offset=0,Hg.idObject={},Hg.Cells=[],Hg.FirstLoad=!0,Hg.itemsCount=0,Hg.posX=0,Hg.posY=0,Hg.row_id=0,Hg.currY=0,Hg.coloumn_id=0,Hg.data=null,Hg.data_cursor=0,Hg.dataEnded=!1,Gc(),Qg(),Zg()}function Qg(){Hg.loadingData=!0,Hg.loadingDataTry=0,Hg.loadingDataTimeout=3500}function Zg(){Hg.set_url(),cc&&!Hg.itemsCount?__(Hg.url,Hg.loadingDataTimeout,2,null,$g,Kg):f_(Hg.url,Hg.loadingDataTimeout,2,null,$g,Kg,!1)}function Kg(){Hg.loadingDataTry++,Hg.loadingDataTry<Hg.loadingDataTryMax?(Hg.loadingDataTimeout+=500,Zg()):(Hg.loadingData=!1,Hg.itemsCount?Hg.dataEnded=!0:(Hg.FirstLoad=!1,xc(),Dc(P),Hg.key_exit()))}function $g(e){Hg.concatenate(e)}function ey(){var e=Hg.data.length-Hg.data_cursor;if(e>Hg.ItemsLimit?e=Hg.ItemsLimit:Hg.loadingData||(Hg.dataEnded=!0),Hg.HasSwitches&&!Hg.TopRowCreated&&Hg.addSwitches(),e){Hg.row_id||(Hg.row=document.createElement("div"),Hg.row.id=this.ids[12]+Hg.row_id);var t=Math.ceil(e/Hg.ColoumnsCount),n=Hg.row_id+t;for(Hg.row_id;Hg.row_id<n;){for(Hg.coloumn_id===Hg.ColoumnsCount&&(Hg.row=document.createElement("div"),Hg.row.id=this.ids[12]+Hg.row_id,Hg.coloumn_id=0),Hg.coloumn_id;Hg.coloumn_id<Hg.ColoumnsCount&&Hg.data_cursor<Hg.data.length;Hg.data_cursor++)Hg.data[Hg.data_cursor]&&Hg.addCell(Hg.data[Hg.data_cursor]);if(Hg.coloumn_id===Hg.ColoumnsCount)Hg.Cells[Hg.row_id]=Hg.row,Hg.row_id++;else if(Hg.data_cursor>=Hg.data.length){""!==Hg.row.innerHTML&&(Hg.Cells[Hg.row_id]=Hg.row);break}}}Hg.emptyContent=!e&&!Hg.status,sy()}function ty(e,t){var n=e+"_"+t;return(xr=document.createElement("div")).style.cssText=Hg.ThumbCssText,n}function ny(e,t,n,i,a,o){var s=ty(e,t);return xr.setAttribute("id",n[5]+s),xr.setAttribute(ic,a),xr.innerHTML='<div id="'+n[0]+s+'" class="stream_thumbnail_game"><div><img id="'+n[1]+s+'" class="stream_img" alt="" src="'+i+'" onerror="this.onerror=null;this.src=\''+Hg.img_404+'\'"></div><div id="'+n[2]+s+'" class="stream_text2"><div id="<div id="'+n[3]+s+'" class="stream_channel">'+a+"</div>"+(""!==o?'<div id="'+n[4]+s+'"class="stream_info" style="width: 100%; display: inline-block;">'+o+"</div>":"")+"</div></div>",xr}function iy(e,t,n,i,a,o,s,d,l,r,c,u,_,f,h,m){var p=ty(e,t);return xr.setAttribute("id",n[8]+p),xr.setAttribute(ic,JSON.stringify([c,r,s[2],u,a,_,f,h,m,s[0],l,s[1]+s[2]])),xr.innerHTML='<div id="'+n[0]+p+'" class="stream_thumbnail_clip"><div><img id="'+n[1]+p+'" class="stream_img" alt="" src="'+i+'" onerror="this.onerror=null;this.src=\''+Hg.img_404+'\'"></div><div id="'+n[2]+p+'" class="stream_text2"><div style="line-height: 14px;"><div id="'+n[3]+p+'" class="stream_channel" style="width: 72%; display: inline-block; font-size: 85%;">'+a+'</div><div id="'+n[7]+p+'"class="stream_info" style="width:27%; float: right; text-align: right; display: inline-block;">'+l+'</div></div><div id="'+n[11]+p+'"class="stream_info">'+s[0]+pi+s[1]+s[2]+'</div><div id="'+n[6]+p+'"class="stream_info">'+d+V+'</div><div  style="line-height: 12px;"><div id="'+n[4]+p+'"class="stream_info" style="width: 59%; display: inline-block;">'+o[0]+o[1]+'</div><div id="'+n[5]+p+'"class="stream_info" style="width: 39%; display: inline-block; float: right; text-align: right;">'+D+Om(r)+"</div></div></div></div>",xr}function ay(e,t,n,i,a){var o=ty(e,t);return xr.setAttribute("id",i[8]+o),xr.setAttribute(ic,JSON.stringify(n)),xr.innerHTML='<div id="'+i[0]+o+'" class="stream_thumbnail_clip"><div><img id="'+i[1]+o+'" class="stream_img" alt="" src="'+a[0]+uc+'" onerror="this.onerror=null;this.src=\''+Hg.img_404+'\'"></div><div id="'+i[2]+o+'" class="stream_text2"><div style="line-height: 14px;"><div id="'+i[3]+o+'" class="stream_channel" style="width: 66%; display: inline-block;">'+a[1]+'</div><div id="'+i[7]+o+'"class="stream_info" style="width:33%; float: right; text-align: right; display: inline-block;">'+a[5]+'</div></div><div id="'+i[4]+o+'"class="stream_info">'+wI.parse(a[2])+'</div><div id="'+i[5]+o+'"class="stream_info">'+v+a[3]+'</div><div id="'+i[6]+o+'"class="stream_info">'+a[4]+"</div></div></div>",xr}function oy(e,t,n,i,a){var o=ty(e,t);return xr.setAttribute("id",i[8]+o),xr.setAttribute(ic,JSON.stringify(n)),xr.innerHTML='<div id="'+i[0]+o+'" class="stream_thumbnail_clip"'+(a[7]?' style="background-size: 0 0; background-image: url('+a[7]+');"':"")+'><div><img id="'+i[1]+o+'" class="stream_img" alt="" src="'+a[0]+'" onerror="this.onerror=null;this.src=\''+Hg.img_404+'\'"></div><div id="'+i[2]+o+'" class="stream_text2"><div style="line-height: 14px;"><div id="'+i[3]+o+'" class="stream_channel" style="width: 72%; display: inline-block; font-size: 85%;">'+a[1]+'</div><div id="'+i[7]+o+'"class="stream_info" style="width:27%; float: right; text-align: right; display: inline-block;">'+a[5]+'</div></div><div id="'+i[11]+o+'"class="stream_info">'+a[3]+'</div><div id="'+i[6]+o+'"class="stream_info">'+a[4]+'</div><div style="line-height: 12px;"><div id="'+i[4]+o+'"class="stream_info" style="width: 59%; display: inline-block;">'+a[2]+'</div><div id="'+i[5]+o+'"class="stream_info" style="width: 39%; display: inline-block; float: right; text-align: right;">'+a[6]+"</div></div></div></div>",xr}function sy(){if(Hg.status)Uc(Hg.posX,Hg.posY,Hg.ColoumnsCount,Hg.itemsCount);else{if(wr.Main_Go===tr&&Ay(),Hg.emptyContent)Dc(Hg.empty_str());else{Hg.status=!0;for(var e=document.getElementById(Hg.table),t=0;t<(Hg.Cells.length<Hg.visiblerows?Hg.Cells.length:Hg.visiblerows);t++)e.appendChild(Hg.Cells[t])}Gr&&Hg.status&&Zw.restor_playback.defaultValue?wr.Play_WasPlaying?(ou(wr.Main_Go),wr.Main_Go=br,wr.vodOffset||(wr.vodOffset=1),Ss=wr.vodOffset+1,zm(qn),1===wr.Play_WasPlaying?Ou():Ru(),tu(!0),window.setTimeout(function(){Ih||Xm()},2e3)):1!==br?(ou(wr.Main_Go),wr.Main_Go=br,Du(Hg.posY+"_"+Hg.posX,Hg.ids),tu()):(wr.Never_run&&zc(),wr.Never_run=!1,dy(),iu()):(dy(),iu()),Gr=!1,Hg.FirstLoad=!1,xc()}}function dy(e){if(Hg.emptyContent){if(!Hg.HasSwitches)return void Hg.key_exit();Hg.posY=-1}if(Hg.posY<0)return fy(),void(Hg.emptyContent||Uc(Hg.posX,Hg.posY+1,Hg.ColoumnsCount,Hg.itemsCount));ry(e),2<Hg.posY&&Hg.data_cursor+Oy>Hg.data.length&&!Hg.dataEnded&&!Hg.loadingData?(Qg(),Zg()):Hg.posY+Hg.ItemsReloadLimit>Hg.itemsCount/Hg.ColoumnsCount&&Hg.data_cursor<Hg.data.length&&Hu(function(){Hg.loadDataSuccess()}),Cr&&Du(Hg.posY+"_"+Hg.posX,Hg.ids)}function ly(e){return null!==document.getElementById(e)}function ry(e){if(Hg.currY<Hg.posY)1<Hg.posY&&Hg.Cells.length-1>=Hg.posY+1&&(document.getElementById(Hg.table).appendChild(Hg.Cells[Hg.posY+1]),ly(Hg.ids[12]+(Hg.posY-2))&&document.getElementById(Hg.ids[12]+(Hg.posY-2)).remove());else if(Hg.currY>Hg.posY&&Hg.posY){var t=document.getElementById(Hg.table);t.insertBefore(Hg.Cells[Hg.posY-1],t.childNodes[Hg.HasSwitches?1:0]),ly(Hg.ids[12]+(Hg.posY+2))&&document.getElementById(Hg.ids[12]+(Hg.posY+2)).remove()}Hg.currY=Hg.posY,kc(Hg.ids[0]+Hg.posY+"_"+Hg.posX,nc),Uc(Hg.posX,Hg.posY,Hg.ColoumnsCount,Hg.itemsCount),Hg.addFocus(Hg.posY,Hg.posX,Hg.ids,e)}function cy(e,t,n,i){e<2&&hu(e)||i?e?Zc(e+1,0,n[0])&&Nu(n[10],-1*document.getElementById(n[8]+(e-1)+"_"+t).offsetTop-10):Nu(n[10],.07*screen.height):Eu()}function uy(e,t,n,i){hu(e)||i?Hg.posY<Hg.Cells.length-1&&Nu(n[10]?n[10]:n[7],-1*document.getElementById(n[5]+e+"_"+t).offsetTop+.025*screen.height):Hg.Cells.length-1===e&&Zc(e-1,t,n[0])?Nu(n[10]?n[10]:n[7],-1*document.getElementById(n[5]+(e-1)+"_"+t).offsetTop+.025*screen.height):Eu()}function _y(e,t){Du(Hg.posY+"_"+Hg.posX,Hg.ids),Hg.HasAnimateThumb&&wc(Hg.ids[1]+Hg.posY+"_"+Hg.posX),Hg.posY+=e,Hg.posX=t,dy()}function fy(){Hg.posX>Hg.SwitchesIcons.length-1?Hg.posX=0:Hg.posX<0&&(Hg.posX=Hg.SwitchesIcons.length-1),kc(Hg.ids[0]+"y_"+Hg.posX,nc)}function hy(){Hg.posX>Hg.SwitchesIcons.length-1?Hg.posX=0:Hg.posX<0&&(Hg.posX=Hg.SwitchesIcons.length-1),Cc(Hg.ids[0]+"y_"+Hg.posX,nc)}function my(e){Yc()?Xc():Fc()?Hc():(e===Hg.screen?wr.Main_Go=Kl:wr.Main_Go=e,jg())}function py(e){if(!Hg.HasSwitches||Hg.posY||-1!==e||Hg.emptyContent){if(Hg.HasSwitches&&-1===Hg.posY&&Zc(0,Hg.posX,Hg.ids[0]))Hg.posY=0,dy(),hy();else for(var t=0;t<Hg.ColoumnsCount;t++)if(Zc(Hg.posY+e,Hg.posX-t,Hg.ids[0]))return void _y(e,Hg.posX-t)}else Du(Hg.posY+"_"+Hg.posX,Hg.ids),Hg.HasAnimateThumb&&(window.clearInterval(this.AnimateThumbId),wc(Hg.ids[1]+Hg.posY+"_"+Hg.posX)),Hg.posY=-1,Hg.posX>Hg.SwitchesIcons.length-1&&(Hg.posX=1),fy()}function vy(e,t){Hg.HasSwitches&&-1===Hg.posY?(Hg.posY=-1,hy(),Hg.posX++,fy()):Zc(Hg.posY,Hg.posX+e,Hg.ids[0])?_y(0,Hg.posX+e):Zc(Hg.posY+e,t,Hg.ids[0])&&_y(e,t)}function gy(e){if(!Hg.FirstLoad&&!Su())switch(Iu(),e.keyCode){case zi:Hg.loadingData||Hg.key_exit();break;case Vi:if(Hg.loadingData)break;Hg.posX?vy(-1,Hg.ColoumnsCount-1):(wr.Main_Go===tr&&(wr.Main_OldgameSelected=wr.Main_gameSelected),Hg.key_exit(!0),document.body.removeEventListener("keydown",gy),ak(gy,!0));break;case Hi:Hg.dataEnded||Hg.posX<Hg.ColoumnsCount-1||Hg.Cells.length-1>=Hg.posY+2?vy(1,0):dy(!0);break;case Ji:Hg.HasSwitches?-1===Hg.posY?Hg.key_exit():py(-1):Hg.posY?py(-1):Hg.key_exit();break;case Fi:Hg.dataEnded||Hg.Cells.length-1>=Hg.posY+2?py(1):dy(!0);break;case Ni:case Ri:case Di:case qi:Hg.key_play()}}function yy(){Hg.posX?1===Hg.posX?(wr.Main_Go=vr,wr.Main_OldgameSelected=wr.Main_gameSelected,by(),nu()):wy():(wr.Main_Go=pr,wr.Main_OldgameSelected=wr.Main_gameSelected,by(),nu())}function by(){Hg.status&&-1===Hg.posY&&(hy(),Hg.posY=0,Hg.posX=0,kc(Hg.ids[0]+"0_"+Hg.posX,nc)),document.body.removeEventListener("keydown",gy),bc(Hg.ids[10])}function wy(){mo()&&Ka[wr.Users_Position].access_token?Hy?Fa():Va():(Dc(Bt),window.setTimeout(function(){Hg.emptyContent&&wr.Main_Go===tr?Dc(T+Z):Vc()},2e3))}function Ay(){mo()?Xa():(Hy=!1,ky())}function ky(){Ec(Ty.ids[3]+"y_2",Hy?'<i class="icon-heart" style="color: #00b300; font-size: 100%;"></i>'+Pi+Pi+Mt:'<i class="icon-heart-o" style="color: #FFFFFF; font-size: 100%; "></i>'+Pi+Pi+(mo()?It:Lt))}Hg.FirstLoad=!1;var Cy,Ey,My,Iy,Sy,xy,Py,Ty,Ly,By,Oy=100,Gy="",Uy="",Ry="",Ny="",Dy="",Vy="",Jy=1,Hy=!1,Fy={posX:0,posY:0,currY:0,row_id:0,coloumn_id:0,dataEnded:!1,idObject:{},loadingData:!1,itemsCount:0,loadingDataTryMax:5,loadingDataTimeout:3500,MaxOffset:0,offset:0,status:!1,emptyContent:!1,itemsCountCheck:!1,FirstLoad:!1,row:0,data:null,data_cursor:0,loadDataSuccess:ey,set_ThumbSize:function(){this.ThumbCssText="width: "+this.ThumbSize+"%; display: inline-block; padding: 3px;"},key_exit:function(e){Yc()?Xc():Fc()?Hc():(Zc(this.posY,this.posX,this.ids[0])?Du(this.posY+"_"+this.posX,this.ids):this.posY<0&&(hy(),this.posY=0),e||Ku(gy)),nk()}},qy={ThumbSize:32.65,visiblerows:3,ItemsLimit:Nr,ItemsReloadLimit:Vr,ColoumnsCount:Dr,addFocus:function(e,t,n,i){this.AnimateThumb(this),cy(e,t,n,i)},img_404:Gi,HasSwitches:!0,period:["day","week","month","all"],empty_str:function(){return T+(this.highlight?G:O)},SwitchesIcons:["movie-play","history"],addSwitches:function(){this.TopRowCreated=!0,this.row=document.createElement("div");for(var e,t,n=[Pi+Pi+p,Pi+Pi+c],i=0;i<n.length;i++)e='<i class="icon-'+this.SwitchesIcons[i]+' stream_channel_fallow_icon"></i>'+n[i],(t=document.createElement("div")).setAttribute("id",this.ids[8]+"y_"+i),t.className="stream_cell_period",t.innerHTML='<div id="'+this.ids[0]+"y_"+i+'" class="stream_thumbnail_channel_vod" ><div id="'+this.ids[3]+"y_"+i+'" class="stream_channel_fallow_game">'+e+"</div></div>",this.row.appendChild(t);document.getElementById(this.table).appendChild(this.row)},key_play:function(){-1===this.posY?0===this.posX?(this.highlight=!this.highlight,this.SetPeriod(),Wg(),a_(this.highlightSTR,this.highlight?"true":"false")):(this.periodPos++,4<this.periodPos&&(this.periodPos=1),this.SetPeriod(),Wg()):Uu(this.posY+"_"+this.posX,this.ids,gy)},AnimateThumbId:null,HasAnimateThumb:!0,AnimateThumb:function(t){if(window.clearInterval(this.AnimateThumbId),Jy){var n=document.getElementById(this.ids[0]+this.posY+"_"+this.posX);dI.onload=function(){this.onload=null,bc(t.ids[1]+t.posY+"_"+t.posX),n.style.backgroundSize="612px";var e=0;t.AnimateThumbId=window.setInterval(function(){n.style.backgroundPosition="0px "+ ++e%10*-344+"px"},650)},dI.src=n.style.backgroundImage.replace(/url\(['"]?(.*?)['"]?\)/i,"$1")}}};function zy(){(Ly=Xg(Ly=Xg({ids:zg("Vod"),table:"stream_table_vod",screen:hr,highlightSTR:"Vod_highlight",highlight:d_("Vod_highlight",!1),periodPos:o_("vod_periodPos",2),base_url:"https://api.twitch.tv/kraken/videos/top?limit="+Oy,set_url:function(){this.offset&&this.offset+Oy>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+"&broadcast_type="+(this.highlight?"highlight":"archive")+"&sort=views&offset="+this.offset+"&period="+this.period[this.periodPos-1]+(""!==Tr?"&language="+Tr:"")},label_init:function(){wr.Main_CenterLablesVectorPos=4,kc("top_bar_vod","icon_center_focus"),this.SetPeriod()},label_exit:function(){Mc("top_bar_vod",Kt),Cc("top_bar_vod","icon_center_focus")},SetPeriod:function(){Ec("top_bar_vod",Kt+lu((this.highlight?G:O)+Br[this.periodPos-1])),a_("vod_periodPos",this.periodPos)},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.MaxOffset=t._total,this.data=this.data.concat(t.vods),this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadingData=!1}else this.data=JSON.parse(e),this.MaxOffset=this.data._total,this.data=this.data.vods,this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadDataSuccess(),this.loadingData=!1},addCell:function(e){this.idObject[e._id]||-1!==(e.preview.template+"").indexOf("404_processing")||(this.itemsCount++,this.idObject[e._id]=1,this.row.appendChild(oy(this.row_id,this.coloumn_id,[e._id,e.length,e.channel.broadcaster_language,e.game,e.channel.name,e.increment_view_count_url],this.ids,[e.preview.template.replace("{width}x{height}",ec),e.channel.display_name,N+ru(e.created_at),wI.parse(e.title)+pi+Qt+v+e.game,jc(e.views)+V,Wc(e.resolutions.chunked.slice(-4),parseInt(e.fps.chunked)||0,e.channel.broadcaster_language),D+Om(e.length),e.animated_preview_url])),this.coloumn_id++)}},Fy),qy)).set_ThumbSize()}function Xy(){(By=Xg(By=Xg({ids:zg("AGameVod"),table:"stream_table_a_game_vod",screen:pr,highlightSTR:"AGameVod_highlight",highlight:d_("AGameVod_highlight",!1),periodPos:o_("AGameVod_periodPos",2),base_url:"https://api.twitch.tv/kraken/videos/top?game=",set_url:function(){this.offset&&this.offset+Oy>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+encodeURIComponent(wr.Main_gameSelected)+"&limit="+Oy+"&broadcast_type="+(this.highlight?"highlight":"archive")+"&sort=views&offset="+this.offset+"&period="+this.period[this.periodPos-1]+(""!==Tr?"&language="+Tr:"")},OldgameSelected:"",label_init:function(){null===wr.Main_OldgameSelected&&(wr.Main_OldgameSelected=wr.Main_gameSelected),this.OldgameSelected!==wr.Main_gameSelected&&(this.status=!1),wr.Main_CenterLablesVectorPos=3,kc("top_bar_game","icon_center_focus"),this.SetPeriod()},label_exit:function(){this.OldgameSelected=wr.Main_gameSelected,Mc("top_bar_game",b),Cc("top_bar_game","icon_center_focus")},SetPeriod:function(){Ec("top_bar_game",b+lu((this.highlight?G:O)+Br[this.periodPos-1])),a_("AGameVod_periodPos",this.periodPos)},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.MaxOffset=t._total,this.data=this.data.concat(t.vods),this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadingData=!1}else this.data=JSON.parse(e),this.MaxOffset=this.data._total,this.data=this.data.vods,this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadDataSuccess(),this.loadingData=!1},addCell:function(e){this.idObject[e._id]||-1!==(e.preview.template+"").indexOf("404_processing")||(this.itemsCount++,this.idObject[e._id]=1,this.row.appendChild(oy(this.row_id,this.coloumn_id,[e._id,e.length,e.channel.broadcaster_language,e.game,e.channel.name,e.increment_view_count_url],this.ids,[e.preview.template.replace("{width}x{height}",ec),e.channel.display_name,N+ru(e.created_at),wI.parse(e.title)+pi+Qt+v+e.game,jc(e.views)+V,Wc(e.resolutions.chunked.slice(-4),parseInt(e.fps.chunked)||0,e.channel.broadcaster_language),D+Om(e.length),e.animated_preview_url])),this.coloumn_id++)}},Fy),qy)).set_ThumbSize()}var Yy={ThumbSize:32.65,visiblerows:3,ItemsLimit:Nr,ItemsReloadLimit:Vr,ColoumnsCount:Dr,addFocus:cy,img_404:Gi,empty_str:function(){return T+W}};function jy(){(xy=Xg(xy=Xg({ids:zg("Live"),table:"stream_table_live",screen:Kl,base_url:"https://api.twitch.tv/kraken/streams?limit="+Oy,set_url:function(){this.offset&&this.offset+Oy>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+"&offset="+this.offset+(""!==Tr?"&broadcaster_language="+Tr:"")},label_init:function(){wr.Main_CenterLablesVectorPos=0,kc("top_bar_live","icon_center_focus")},label_exit:function(){Cc("top_bar_live","icon_center_focus")},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.MaxOffset=t._total,this.data=this.data.concat(t.streams),this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadingData=!1}else this.data=JSON.parse(e),this.MaxOffset=this.data._total,this.data=this.data.streams,this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadDataSuccess(),this.loadingData=!1},addCell:function(e){this.idObject[e.channel._id]||(this.itemsCount++,this.idObject[e.channel._id]=1,this.row.appendChild(ay(this.row_id,this.coloumn_id,[e.channel.name,e.channel._id,e.channel.status],this.ids,[e.preview.template.replace("{width}x{height}",ec),Qc(JSON.stringify(e.stream_type))+e.channel.display_name,e.channel.status,e.game,y+Um(e.created_at)+" "+m+jc(e.viewers)+J,Wc(e.video_height,e.average_fps,e.channel.broadcaster_language)])),this.coloumn_id++)},key_play:function(){Bu(this.posY+"_"+this.posX,this.ids,gy)}},Fy),Yy)).set_ThumbSize()}function Wy(){(Ty=Xg(Ty=Xg({ids:zg("AGame"),table:"stream_table_a_game",screen:tr,base_url:"https://api.twitch.tv/kraken/streams?game=",set_url:function(){this.offset&&this.offset+Oy>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+encodeURIComponent(wr.Main_gameSelected)+"&limit="+Oy+"&offset="+this.offset+(""!==Tr?"&broadcaster_language="+Tr:"")},label_init:function(){null===wr.Main_OldgameSelected&&(wr.Main_OldgameSelected=wr.Main_gameSelected),wr.Main_CenterLablesVectorPos=3,kc("top_bar_game","icon_center_focus"),yc("label_side_panel","icon-arrow-circle-left",I),Cc("top_bar_user","icon_center_focus"),yc("label_refresh","icon-refresh",t+Yt),Mc("top_bar_user",_),wr.Main_OldgameSelected!==wr.Main_gameSelected&&(this.status=!1),wr.Search_isSearching&&(du(),Ec("top_bar_user",n+lu(h+" '"+wr.Search_data+"'"))),Ec("top_bar_game",b+lu(f+": "+wr.Main_gameSelected))},label_exit:function(){wr.Main_OldgameSelected=wr.Main_gameSelected,yc("label_side_panel","icon-ellipsis",Rn),Ec("top_bar_game",h),Cc("top_bar_game","icon_center_focus")},HasSwitches:!0,SwitchesIcons:["movie-play","movie","heart-o"],addSwitches:function(){this.TopRowCreated=!0,this.row=document.createElement("div");for(var e,t,n=[Pi+Pi+Kt,Pi+Pi+U,Pi+Pi+It],i=0;i<n.length;i++)e='<i class="icon-'+this.SwitchesIcons[i]+' stream_channel_fallow_icon"></i>'+n[i],(t=document.createElement("div")).setAttribute("id",this.ids[8]+"y_"+i),t.className="stream_cell_period",t.innerHTML='<div id="'+this.ids[0]+"y_"+i+'" class="stream_thumbnail_channel_vod" ><div id="'+this.ids[3]+"y_"+i+'" class="stream_channel_fallow_game">'+e+"</div></div>",this.row.appendChild(t);document.getElementById(this.table).appendChild(this.row)},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.MaxOffset=t._total,this.data=this.data.concat(t.streams),this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadingData=!1}else this.data=JSON.parse(e),this.MaxOffset=this.data._total,this.data=this.data.streams,this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadDataSuccess(),this.loadingData=!1},addCell:function(e){this.idObject[e.channel._id]||(this.itemsCount++,this.idObject[e.channel._id]=1,this.row.appendChild(ay(this.row_id,this.coloumn_id,[e.channel.name,e.channel._id,e.channel.status],this.ids,[e.preview.template.replace("{width}x{height}",ec),Qc(JSON.stringify(e.stream_type))+e.channel.display_name,e.channel.status,e.game,y+Um(e.created_at)+" "+m+jc(e.viewers)+J,Wc(e.video_height,e.average_fps,e.channel.broadcaster_language)])),this.coloumn_id++)},key_play:function(){-1!==this.posY?Bu(this.posY+"_"+this.posX,this.ids,gy):yy()}},Fy),Yy)).set_ThumbSize()}function Qy(){(Py=Xg(Py=Xg({ids:zg("Featured"),table:"stream_table_featured",screen:gr,base_url:"https://api.twitch.tv/kraken/streams/featured?limit="+Oy,set_url:function(){this.url=this.base_url+"&offset="+this.offset+(mo()&&Ka[wr.Users_Position].access_token?"&oauth_token="+Ka[wr.Users_Position].access_token:"")},label_init:function(){wr.Main_CenterLablesVectorPos=2,kc("top_bar_featured","icon_center_focus")},label_exit:function(){Cc("top_bar_featured","icon_center_focus")},concatenate:function(e){this.data=JSON.parse(e),this.data=this.data.featured,this.dataEnded=!0,this.loadDataSuccess(),this.loadingData=!1},addCell:function(e){e=e.stream,this.idObject[e.channel._id]||(this.itemsCount++,this.idObject[e.channel._id]=1,this.row.appendChild(ay(this.row_id,this.coloumn_id,[e.channel.name,e.channel._id,e.channel.status],this.ids,[e.preview.template.replace("{width}x{height}",ec),Qc(JSON.stringify(e.stream_type))+e.channel.display_name,e.channel.status,e.game,y+Um(e.created_at)+" "+m+jc(e.viewers)+J,Wc(e.video_height,e.average_fps,e.channel.broadcaster_language)])),this.coloumn_id++)},key_play:function(){Bu(this.posY+"_"+this.posX,this.ids,gy)}},Fy),Yy)).set_ThumbSize()}var Zy={ThumbSize:32.65,ItemsLimit:Nr,TopRowCreated:!1,ItemsReloadLimit:Vr,ColoumnsCount:Dr,addFocus:cy,cursor:null,visiblerows:3,period:["day","week","month","all"],img_404:Gi,empty_str:function(){return T+U},HasSwitches:!0,SwitchesIcons:["history","play-1"],addSwitches:function(){this.TopRowCreated=!0,this.row=document.createElement("div");for(var e,t,n=[Pi+Pi+c,Pi+Pi+di],i=0;i<n.length;i++)e='<i class="icon-'+this.SwitchesIcons[i]+' stream_channel_fallow_icon"></i>'+n[i],(t=document.createElement("div")).setAttribute("id",this.ids[8]+"y_"+i),t.className="stream_cell_period",t.innerHTML='<div id="'+this.ids[0]+"y_"+i+'" class="stream_thumbnail_channel_vod" ><div id="'+this.ids[3]+"y_"+i+'" class="stream_channel_fallow_game">'+e+"</div></div>",this.row.appendChild(t);document.getElementById(this.table).appendChild(this.row)},key_play:function(){-1===this.posY?this.loadingData||(this.posX?(Q_=!0,hy(),this.posX=0,this.posY=0,Gu(this.posY+"_"+this.posX,this.ids,gy)):(this.periodPos++,4<this.periodPos&&(this.periodPos=1),this.SetPeriod(),Wg())):Gu(this.posY+"_"+this.posX,this.ids,gy)},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.cursor=t._cursor,""===this.cursor&&(this.dataEnded=!0),this.data=this.data.concat(t.clips),this.loadingData=!1}else this.data=JSON.parse(e),this.cursor=this.data._cursor,""===this.cursor&&(this.dataEnded=!0),this.data=this.data.clips,this.loadDataSuccess(),this.loadingData=!1},Cells:[],addCell:function(e){this.idObject[e.tracking_id]||(this.itemsCount++,this.idObject[e.tracking_id]=1,this.row.appendChild(iy(this.row_id,this.coloumn_id,this.ids,e.thumbnails.medium,e.broadcaster.display_name,[on,ru(e.created_at)],[wI.parse(e.title),v,e.game],jc(e.views),"["+e.language.toUpperCase()+"]",e.duration,e.slug,e.broadcaster.name,e.broadcaster.logo.replace("150x150","300x300"),e.broadcaster.id,null!==e.vod?e.vod.id:null,null!==e.vod?e.vod.offset:null)),this.coloumn_id++)}};function Ky(){(Cy=Xg(Cy=Xg({ids:zg("Clip"),table:"stream_table_clip",screen:mr,periodPos:o_("Clip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?limit="+Oy,set_url:function(){this.url=this.base_url+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")+(""!==Tr?"&language="+Tr:"")},SetPeriod:function(){Ec("top_bar_clip",U+lu(Br[this.periodPos-1])),a_("Clip_periodPos",this.periodPos)},label_init:function(){wr.Main_CenterLablesVectorPos=5,this.SetPeriod(),kc("top_bar_clip","icon_center_focus"),yc("label_refresh","icon-refresh",t+Yt)},label_exit:function(){su(),Cc("top_bar_clip","icon_center_focus"),yc("label_refresh","icon-refresh",t+Yt)}},Fy),Zy)).set_ThumbSize()}function $y(){(Ey=Xg(Ey=Xg({ids:zg("ChannelClip"),table:"stream_table_channel_clip",screen:cr,periodPos:o_("ChannelClip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?channel=",set_url:function(){this.url=this.base_url+encodeURIComponent(wr.Main_selectedChannel)+"&limit="+Oy+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")},SetPeriod:function(){Ec("top_bar_game",U+Br[this.periodPos-1]),a_("ChannelClip_periodPos",this.periodPos)},label_init:function(){wr.Main_CenterLablesVectorPos=1,!wr.Search_isSearching&&wr.Main_selectedChannel_id&&hs(),wr.Main_selectedChannel!==this.lastselectedChannel&&(this.status=!1),du(),this.SetPeriod(),Mc("top_bar_user",wr.Main_selectedChannelDisplayname),yc("label_side_panel","icon-arrow-circle-left",I),this.lastselectedChannel=wr.Main_selectedChannel},label_exit:su},Fy),Zy)).set_ThumbSize()}function eb(){(My=Xg(My=Xg({ids:zg("AGameClip"),table:"stream_table_a_game_clip",screen:vr,periodPos:o_("AGameClip_periodPos",2),base_url:"https://api.twitch.tv/kraken/clips/top?game=",set_url:function(){this.url=this.base_url+encodeURIComponent(wr.Main_gameSelected)+"&limit="+Oy+"&period="+this.period[this.periodPos-1]+(this.cursor?"&cursor="+this.cursor:"")+(""!==Tr?"&language="+Tr:"")},SetPeriod:function(){Ec("top_bar_game",b+lu(U+Br[this.periodPos-1]+": "+wr.Main_gameSelected)),a_("AGameClip_periodPos",this.periodPos)},label_init:function(){wr.Main_CenterLablesVectorPos=3,this.SetPeriod(),kc("top_bar_game","icon_center_focus"),yc("label_side_panel","icon-arrow-circle-left",I),this.gameSelected!==wr.Main_gameSelected&&(this.status=!1),this.gameSelected=wr.Main_gameSelected},label_exit:function(){Cc("top_bar_game","icon_center_focus"),Ec("top_bar_game",h),yc("label_side_panel","icon-ellipsis",Rn)}},Fy),Zy)).set_ThumbSize()}var tb={ThumbSize:19.35,visiblerows:3,ItemsLimit:Jr,ItemsReloadLimit:Fr,ColoumnsCount:Hr,addFocus:uy,img_404:Bi,empty_str:function(){return T+Z},concatenate:function(e){if(this.data){var t=JSON.parse(e);this.MaxOffset=t._total,this.data=this.data.concat(this.screen===ar?t.follows:t.top),this.offset=this.data.length,this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadingData=!1}else this.data=JSON.parse(e),this.MaxOffset=this.data._total,this.data=this.screen===ar?this.data.follows:this.data.top,this.offset=this.data.length,this.isLive?this.dataEnded=!0:this.offset>this.MaxOffset&&(this.dataEnded=!0),this.loadDataSuccess(),this.loadingData=!1},key_play:function(){wr.Main_gameSelected=document.getElementById(this.ids[5]+this.posY+"_"+this.posX).getAttribute(ic),document.body.removeEventListener("keydown",gy),wr.Main_BeforeAgame=this.screen,wr.Main_Go=tr,wr.Main_BeforeAgameisSet=!0,Or=0,document.body.removeEventListener("keydown",gy),bc(this.ids[10]),nu(),Du(this.posY+"_"+this.posX,this.ids)},addCell:function(e){var t=this.isLive||this.screen===er,n=t?e.game:e;this.idObject[n._id]||(this.itemsCount++,this.idObject[n._id]=1,this.row.appendChild(ny(this.row_id,this.coloumn_id,this.ids,n.box.template.replace("{width}x{height}",tc),n.name,t?jc(e.channels)+" "+E+m+jc(e.viewers)+J:"")),this.coloumn_id++)}};function nb(){(Iy=Xg(Iy=Xg({ids:zg("Game"),table:"stream_table_games",screen:er,base_url:"https://api.twitch.tv/kraken/games/top?limit="+Oy,set_url:function(){this.offset&&this.offset+Oy>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+"&offset="+this.offset},label_init:function(){wr.Main_CenterLablesVectorPos=3,kc("top_bar_game","icon_center_focus")},label_exit:function(){Cc("top_bar_game","icon_center_focus")}},Fy),tb)).set_ThumbSize()}function ib(){(Sy=Xg(Sy=Xg({ids:zg("UserGames"),table:"stream_table_user_games",screen:ar,isLive:d_("user_Games_live",!0),OldUserName:"",base_url:"https://api.twitch.tv/api/users/",set_url:function(){this.offset&&this.offset+Oy>this.MaxOffset&&(this.dataEnded=!0),this.url=this.base_url+encodeURIComponent(Ka[wr.Users_Position].name)+"/follows/games",this.isLive?this.url+="/live?limit=750":this.url+="?limit="+Oy+"&offset="+this.offset},key_refresh:function(){this.isLive=!this.isLive,Ec("top_bar_user",_+lu(Ka[wr.Users_Position].name+" "+(this.isLive?Z:zt))),Wg(),a_("user_Games_live",this.isLive?"true":"false"),tM&&rM()},label_init:function(){wr.Main_CenterLablesVectorPos=1,yc("label_refresh","icon-refresh",Xt+Z+"/"+zt+":"+Yt),yc("label_side_panel","icon-arrow-circle-left",I),kc("top_bar_user","icon_center_focus"),this.OldUserName!==Ka[wr.Users_Position].name&&(this.status=!1),this.OldUserName=Ka[wr.Users_Position].name,Ec("top_bar_user",_+lu(Ka[wr.Users_Position].name+" "+(this.isLive?Z:zt)))},label_exit:function(){wr.Users_Position=0,Cc("top_bar_user","icon_center_focus"),yc("label_refresh","icon-refresh",t+Yt),Mc("top_bar_user",_),yc("label_side_panel","icon-ellipsis",Rn)}},Fy),tb)).set_ThumbSize()}var ab=0,ob=0,sb=!1,db=0,lb={},rb=[],cb=!1,ub=0,_b=5,fb=3500,hb=0,mb=0,pb=!1,vb=!1,gb="",yb=!1,bb=["sc_thumbdiv","sc_img","sc_infodiv","sc_displayname","sc_cell","scempty_","search_channel_scroll"];function wb(){wr.Main_CenterLablesVectorPos=1,wr.Main_Go=fr,wr.isLastSChannels=!0,wr.Search_isSearching=!0,gb!==wr.Search_data&&(vb=!1),du(),Ec("top_bar_user",n+lu(E+" '"+wr.Search_data+"'")),document.body.addEventListener("keydown",Gb,!1),vb?(fu(ab),wc(bb[6]),Bb(),iu()):kb()}function Ab(){su(),document.body.removeEventListener("keydown",Gb),bc(bb[6])}function kb(){_u("stream_table_search_channel"),bc(bb[6]),Sc(),Vc(),gb=wr.Search_data,vb=!1,lb={},Qu=!(db=mb=hb=0),ab=ob=0,sb=yb=!(rb=[]),Gc(),Cb(),Eb()}function Cb(){cb=!0,ub=0,fb=3500}function Eb(){var e=db+hb;e&&mb-1<e&&(e=mb-qr,sb=!0);var t="https://api.twitch.tv/kraken/search/channels?query="+encodeURIComponent(wr.Search_data)+"&limit="+qr+"&offset="+e;cc&&!db?__(t,fb,2,null,Ib,Mb):f_(t,fb,2,null,Ib,Mb,!1)}function Mb(){++ub<_b?(fb+=500,Eb()):(cb=!1,db?(sb=!0,xb()):(Qu=!1,xc(),Dc(P)))}function Ib(e){var t=JSON.parse(e),n=t.channels.length;mb=parseInt(t._total),n<qr&&(sb=!0);var i=db;pb=!(db+=n);var a=n/zr;0<n%zr&&a++;for(var o,s,d,l,r,c=0,u=document.getElementById("stream_table_search_channel"),_=0;_<a;_++){for(s=i/zr+_,d=document.createElement("tr"),o=0;o<zr&&c<n;o++,c++)r=(l=t.channels[c])._id,lb[r]?o--:(lb[r]=1,d.appendChild(Sb(s,s+"_"+o,[l.name,r,l.logo,l.display_name])));for(;o<zr;o++)sb&&!yb&&(yb=!0,db=s*zr+o),d.appendChild(pu(bb[5]+s+"_"+o)),rb.push(bb[5]+s+"_"+o);u.appendChild(d)}xb()}function Sb(e,t,n){return e<4&&mu(n[2]),vu(t,bb,n)}function xb(){if(vb){if(0<rb.length&&!sb)return Cb(),void Pb();Bb(!0),rb=[]}else pb?Dc(d):(vb=!0,Bb(),iu()),wc(bb[6]),Qu=!1,xc();cb=!1}function Pb(){Nc(rb.length);var e=db+hb;e&&mb-1<e&&(e=mb-Yr,sb=!0),c_("https://api.twitch.tv/kraken/search/channels?query="+encodeURIComponent(wr.Search_data)+"&limit="+Yr+"&offset="+e,fb,2,null,Lb,Tb)}function Tb(){++ub<_b?(fb+=500,Pb()):(sb=!0,db-=rb.length,rb=[],xb())}function Lb(e){var t,n,i=JSON.parse(e),a=i.channels.length,o=0,s=0,d=[];for(mb=parseInt(i._total),a<Yr&&(sb=!0);o<rb.length&&s<a;o++,s++)n=(t=i.channels[s])._id,lb[n]?o--:(lb[n]=1,gu(rb[o],[t.name,n,t.logo,t.display_name],bb),d.push(o));for(o=d.length-1;-1<o;o--)rb.splice(d[o],1);hb+=s,sb&&(db-=rb.length,rb=[]),xb()}function Bb(e){xu(ab,ob,bb,zr,db,e),db/zr<ab+Xr&&!sb&&!cb&&(Cb(),Eb()),Cr&&Ob()}function Ob(){db&&Du(ab+"_"+ob,bb)}function Gb(e){var t;if(!Qu&&!Su())switch(Iu(),e.keyCode){case zi:Yc()?Xc():Fc()?Hc():(Ob(),Ku(Gb)),nk();break;case Vi:if(ob){if(Zc(ab,ob-1,bb[0]))Ob(),ob--,Bb();else for(t=zr-1;-1<t;t--)if(Zc(ab-1,t,bb[0])){Ob(),ab--,ob=t,Bb();break}}else Ob(),ak(Gb,!0);break;case Hi:Zc(ab,ob+1,bb[0])?(Ob(),ob++,Bb()):Zc(ab+1,0,bb[0])&&(Ob(),ab++,ob=0,Bb());break;case Ji:if(ab){for(t=0;t<zr;t++)if(Zc(ab-1,ob-t,bb[0])){Ob(),ab--,ob-=t,Bb();break}}else Ob(),Ku(Gb);break;case Fi:for(t=0;t<zr;t++)if(Zc(ab+1,ob-t,bb[0])){Ob(),ab++,ob-=t,Bb();break}break;case Ni:case Ri:case Di:case qi:wr.Main_selectedChannel=document.getElementById(bb[4]+ab+"_"+ob).getAttribute(ic),wr.Main_selectedChannel_id=document.getElementById(bb[4]+ab+"_"+ob).getAttribute("data-id"),wr.Main_selectedChannelDisplayname=document.getElementById(bb[3]+ab+"_"+ob).textContent,document.body.removeEventListener("keydown",Gb),wr.Main_BeforeChannel=fr,wr.Main_Go=lr,wr.Main_BeforeChannelisSet=!0,Lo=ea=!1,bc(bb[6]),tu()}}var Ub=!1,Rb=0,Nb=0,Db=0,Vb=0,Jb=5,Hb=3500,Fb=0,qb=0,zb=!1,Xb=!1,Yb="",jb=["sgthumbdiv","sgimg","sginfodiv","sgdisplayname","sgviwers","sgcell","sgempty_","search_games_scroll"];function Wb(){wr.Main_CenterLablesVectorPos=1,wr.Main_Go=sr,wr.Search_isSearching=!0,du(),Yb!==wr.Search_data&&(Ub=!1),Ec("top_bar_user",n+lu(h+" '"+wr.Search_data+"'")),document.body.addEventListener("keydown",sw,!1),Ub?(fu(Rb),wc(jb[7]),aw(),iu()):Zb()}function Qb(){wr.Search_isSearching||su(),document.body.removeEventListener("keydown",sw),wr.Games_return=!1,bc(jb[7])}function Zb(){_u("stream_table_search_game"),bc(jb[7]),Sc(),Vc(),Yb=wr.Search_data,Xb=Ub=!1,Rb=Nb=Db=qb=Fb=0,Gc(),Kb(),$b()}function Kb(){Qu=!0,Vb=0,Hb=3500}function $b(){c_("https://api.twitch.tv/kraken/search/games?query="+encodeURIComponent(wr.Search_data),Hb,2,null,tw,ew)}function ew(){++Vb<Jb?(Hb+=500,$b()):(Qu=!1,Db?iw():(xc(),Dc(P)))}function tw(e){var t=JSON.parse(e),n=0;null!==t.games&&(n=t.games.length);var i=Db;zb=!(Db+=n);var a=n/Hr;0<n%Hr&&a++;for(var o,s,d,l,r=0,c=document.getElementById("stream_table_search_game"),u=0;u<a;u++){for(s=i/Hr+u,d=document.createElement("tr"),o=0;o<Hr&&r<n;o++,r++)l=t.games[r],d.appendChild(nw(s,s+"_"+o,[l.name,l.box.template.replace("{width}x{height}",tc),""]));for(;o<Hr;o++)Xb||(Xb=!0,Db=s*Hr+o),d.appendChild(pu(jb[6]+s+"_"+o));c.appendChild(d)}iw()}function nw(e,t,n){return e<2&&mu(n[1]),ku(t,jb,n)}function iw(){Ub||(zb?Dc(d):(Ub=!0,aw(),iu()),xc()),wc(jb[7]),Qu=!1,Uc(Nb,Rb,Hr,Db)}function aw(){Tu(Rb,Nb,jb,Hr,Db),Cr&&ow()}function ow(){Db&&Du(Rb+"_"+Nb,jb)}function sw(e){var t;if(!Qu&&!Su())switch(Iu(),e.keyCode){case zi:Yc()?Xc():Fc()?Hc():(ow(),Ku(sw)),nk();break;case Vi:if(Nb){if(Zc(Rb,Nb-1,jb[0]))ow(),Nb--,aw();else for(t=Hr-1;-1<t;t--)if(Zc(Rb-1,t,jb[0])){ow(),Rb--,Nb=t,aw();break}}else ow(),ak(sw,!0);break;case Hi:Zc(Rb,Nb+1,jb[0])?(ow(),Nb++,aw()):Zc(Rb+1,0,jb[0])&&(ow(),Rb++,Nb=0,aw());break;case Ji:if(Rb){for(t=0;t<Hr;t++)if(Zc(Rb-1,Nb-t,jb[0])){ow(),Rb--,Nb-=t,aw();break}}else ow(),Ku(sw);break;case Fi:for(t=0;t<Hr;t++)if(Zc(Rb+1,Nb-t,jb[0])){ow(),Rb++,Nb-=t,aw();break}break;case Ni:case Ri:case Di:case qi:wr.gameSelectedOld=wr.Main_gameSelected,Qb(),wr.Main_gameSelected=document.getElementById(jb[5]+Rb+"_"+Nb).getAttribute(ic),document.body.removeEventListener("keydown",sw),wr.Main_Go=tr,wr.Games_return=!0,tu()}}var dw=0,lw=0,rw=!1;function cw(){Vc(),bc("label_refresh"),yc("label_side_panel","icon-arrow-circle-left",I),Mc("top_bar_user",n),document.getElementById("top_lables").style.marginLeft="14%",document.getElementById("top_bar_live").style.display="none",document.getElementById("top_bar_featured").style.display="none",document.getElementById("top_bar_game").style.display="none",document.getElementById("top_bar_vod").style.display="none",document.getElementById("top_bar_clip").style.display="none",Jl.placeholder=w,kc("top_bar_user","icon_center_focus"),wc("search_scroll"),lw=dw=0,fw(),mw()}function uw(){pw(!1),document.body.removeEventListener("keydown",hw),fw(),wr.Main_Go=wr.Main_BeforeSearch,document.getElementById("top_lables").style.marginLeft="18.5%",Mc("top_bar_user",_),Cc("top_bar_user","icon_center_focus"),yc("label_side_panel","icon-ellipsis",Rn),wc("label_refresh"),document.getElementById("top_bar_live").style.display="inline-block",document.getElementById("top_bar_featured").style.display="inline-block",document.getElementById("top_bar_game").style.display="inline-block",document.getElementById("top_bar_vod").style.display="inline-block",document.getElementById("top_bar_clip").style.display="inline-block",Jl.value="",bc("search_scroll")}function _w(){uw(),Hu(function(){lw?1===lw?Wb():2===lw&&Uw():wb()})}function fw(){Cc("chanel_button","button_search_focused"),Cc("game_button","button_search_focused"),Cc("live_button","button_search_focused"),dw&&(lw?1===lw?kc("game_button","button_search_focused"):2===lw&&kc("live_button","button_search_focused"):kc("chanel_button","button_search_focused"))}function hw(e){if(!rw)switch(e.keyCode){case zi:Yc()?Xc():Fc()?Hc():(uw(),tu());break;case Vi:1===dw&&(--lw<0&&(lw=2),fw());break;case Hi:1===dw&&(2<++lw&&(lw=0),fw());break;case Ji:1===dw&&(dw=0,fw(),mw());break;case Fi:dw?1===dw&&(dw=0,fw(),mw()):(pw(!1),dw=1,fw());break;case Ni:case Ri:case Di:case qi:dw?""!==Jl.value&&null!==Jl.value?(wr.Search_data=Jl.value,Jl.value="",_w()):(Dc(s),window.setTimeout(function(){Vc()},1e3)):mw()}}function mw(){document.body.removeEventListener("keydown",hw),document.body.addEventListener("keydown",gw,!1),Jl.placeholder=w,Jl.focus(),rw=!0}function pw(e){Jl.blur(),vw(),document.body.removeEventListener("keydown",gw),Jl.placeholder=C+w,e&&document.body.addEventListener("keydown",hw,!1),rw=!1}function vw(){if(null!==Jl){var e=Jl.cloneNode(!0);Jl.parentNode.replaceChild(e,Jl),Jl=document.getElementById("search_input")}}function gw(e){switch(e.keyCode){case zi:Fc()?Hc():Yc()?Xc():(uw(),tu());break;case Wi:Jl.value="";break;case Yi:case Fi:pw(!0),dw=1,fw();break;case Xi:Jl.value=Jl.value.slice(0,-1);break;case ji:Jl.value+=" "}}var yw=0,bw=0,ww=!1,Aw=0,kw={},Cw=[],Ew=!1,Mw=0,Iw=5,Sw=3500,xw=0,Pw=0,Tw=!1,Lw=!1,Bw=!1,Ow="",Gw=["sl_thumbdiv","sl_img","sl_infodiv","sl_displayname","sl_streamtitle","sl_streamgame","sl_viwers","sl_quality","sl_cell","slempty_","search_live_scroll"];function Uw(){wr.Main_CenterLablesVectorPos=1,wr.Main_Go=dr,wr.Search_isSearching=!0,du(),Ow!==wr.Search_data&&(Lw=!1),Ec("top_bar_user",n+lu(f+" '"+wr.Search_data+"'")),document.body.addEventListener("keydown",Ww,!1),Lw?(fu(yw),wc(Gw[10]),Yw(),iu()):Nw()}function Rw(){su(),document.body.removeEventListener("keydown",Ww),bc(Gw[10])}function Nw(){_u("stream_table_search_live"),bc(Gw[10]),Sc(),Vc(),Ow=wr.Search_data,Lw=!1,Qu=!(Bw=!(Cw=[])),yw=bw=Aw=Pw=xw=0,ww=!(kw={}),Gc(),Dw(),Vw()}function Dw(){Ew=!0,Mw=0,Sw=3500}function Vw(){var e=Aw+xw;e&&Pw-1<e&&(e=Pw-Nr,ww=!0);var t="https://api.twitch.tv/kraken/search/streams?query="+encodeURIComponent(wr.Search_data)+"&limit="+Nr+"&offset="+e;cc&&!Aw?__(t,Sw,2,null,Hw,Jw):f_(t,Sw,2,null,Hw,Jw,!1)}function Jw(){++Mw<Iw?(Sw+=500,Vw()):(Ew=!1,Aw?(ww=!0,Fw()):(Qu=!1,xc(),Dc(P)))}function Hw(e){var t=JSON.parse(e),n=t.streams.length;Pw=parseInt(t._total),n<Nr&&(ww=!0);var i=Aw;Tw=!(Aw+=n);var a=n/Dr;0<n%Dr&&a++;for(var o,s,d,l,r,c=0,u=document.getElementById("stream_table_search_live"),_=0;_<a;_++){for(s=i/Dr+_,d=document.createElement("tr"),o=0;o<Dr&&c<n;o++,c++)r=(l=t.streams[c]).channel._id,kw[r]?o--:(kw[r]=1,d.appendChild(bu(s,s+"_"+o,[l.channel.name,r],Gw,[l.preview.template.replace("{width}x{height}",ec),Qc(JSON.stringify(l.stream_type))+l.channel.display_name,l.channel.status,l.game,y+Um(l.created_at)+" "+m+jc(l.viewers)+J,Wc(l.video_height,l.average_fps,l.channel.broadcaster_language)])));for(;o<Dr;o++)ww&&!Bw&&(Bw=!0,Aw=s*Dr+o),d.appendChild(pu(Gw[9]+s+"_"+o)),Cw.push(Gw[9]+s+"_"+o);u.appendChild(d)}Fw()}function Fw(){if(Lw){if(0<Cw.length&&!ww)return Dw(),void qw();Yw(!0),Cw=[]}else Tw?Dc(d):(Lw=!0,Yw(),iu()),wc(Gw[10]),Qu=!1,xc();Ew=!1}function qw(){Nc(Cw.length);var e=Aw+xw;e&&Pw-1<e&&(e=Pw-Yr,ww=!0),c_("https://api.twitch.tv/kraken/search/streams?query="+encodeURIComponent(wr.Search_data)+"&limit="+Yr+"&offset="+e,Sw,2,null,Xw,zw)}function zw(){++Mw<Iw?(Sw+=500,qw()):(ww=!0,Aw-=Cw.length,Cw=[],Fw())}function Xw(e){var t,n,i=JSON.parse(e),a=i.streams.length,o=0,s=0,d=[];for(Pw=parseInt(i._total),a<Yr&&(ww=!0);o<Cw.length&&s<a;o++,s++)n=(t=i.streams[s]).channel._id,kw[n]?o--:(kw[n]=1,wu(Cw[o],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",ec),Qc(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+Um(t.created_at)+" "+m+jc(t.viewers)+J,Wc(t.video_height,t.average_fps,t.channel.broadcaster_language)],Gw),d.push(o));for(o=d.length-1;-1<o;o--)Cw.splice(d[o],1);xw+=s,ww&&(Aw-=Cw.length,Cw=[]),Fw()}function Yw(e){Pu(yw,bw,Gw,Dr,Aw,e),Aw/Dr<yw+Vr&&!ww&&!Ew&&(Dw(),Vw()),Cr&&jw()}function jw(){Aw&&Du(yw+"_"+bw,Gw)}function Ww(e){var t;if(!Qu&&!Su())switch(Iu(),e.keyCode){case zi:Yc()?Xc():Fc()?Hc():(jw(),Ku(Ww)),nk();break;case Vi:if(bw){if(Zc(yw,bw-1,Gw[0]))jw(),bw--,Yw();else for(t=Dr-1;-1<t;t--)if(Zc(yw-1,t,Gw[0])){jw(),yw--,bw=t,Yw();break}}else jw(),ak(Ww,!0);break;case Hi:Zc(yw,bw+1,Gw[0])?(jw(),bw++,Yw()):Zc(yw+1,0,Gw[0])&&(jw(),yw++,bw=0,Yw());break;case Ji:if(yw){for(t=0;t<Dr;t++)if(Zc(yw-1,bw-t,Gw[0])){jw(),yw--,bw-=t,Yw();break}}else jw(),Ku(Ww);break;case Fi:for(t=0;t<Dr;t++)if(Zc(yw+1,bw-t,Gw[0])){jw(),yw++,bw-=t,Yw();break}break;case Ni:case Ri:case Di:case qi:Bu(yw+"_"+bw,Gw,Ww)}}var Qw=0,Zw={restor_playback:{values:["no","yes"],defaultValue:2},chat_font_size:{values:["60%","80%","100%","120%","140%"],defaultValue:3},chat_brightness:{values:["0%","5%","10%","15%","20%","25%","30%","35%","40%","45%","50%","55%","60%","65%","70%","75%","80%","85%","90%","95%","100%"],defaultValue:11},force_disable_chat:{values:["no","yes"],defaultValue:2},clip_auto_play_next:{values:["no","yes"],defaultValue:2},buffer_live:{values:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],defaultValue:4},buffer_vod:{values:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],defaultValue:4},buffer_clip:{values:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],defaultValue:3},videos_animation:{values:["no","yes"],defaultValue:2},clock_offset:{values:Kw(),defaultValue:49},content_lang:{values:["All"],set_values:[""],defaultValue:1}};function Kw(){for(var e=[],t=43200,n=0;n<48;n++)e.push("-"+Om(t)),t-=900;for(e.push(Om(0)),t=900,n=0;n<48;n++)e.push(Om(t)),t+=900;return e}var $w=[],eA=0;function tA(){eu(),bc("label_side_panel"),yc("label_refresh","icon-arrow-circle-left",ai),document.body.addEventListener("keydown",wA,!1),Mc("top_bar_user",i),document.getElementById("top_lables").style.marginLeft="14%",document.getElementById("top_bar_live").style.display="none",document.getElementById("top_bar_featured").style.display="none",document.getElementById("top_bar_game").style.display="none",document.getElementById("top_bar_vod").style.display="none",document.getElementById("top_bar_clip").style.display="none",kc("top_bar_user","icon_center_focus"),wc("settings_scroll"),fA(Qw=0),dA("content_lang",Yn,kA)}function nA(){document.body.removeEventListener("keydown",wA),wc("label_side_panel"),hA(),Mc("top_bar_user",_),document.getElementById("top_lables").style.marginLeft="18.5%",document.getElementById("top_bar_live").style.display="inline-block",document.getElementById("top_bar_featured").style.display="inline-block",document.getElementById("top_bar_game").style.display="inline-block",document.getElementById("top_bar_vod").style.display="inline-block",document.getElementById("top_bar_clip").style.display="inline-block",Cc("top_bar_user","icon_center_focus"),yc("label_refresh","icon-refresh",t+Yt),bc("settings_scroll")}function iA(){var e,t="";t+=aA("general",gn),e="content_lang",$w.push(e),Zw[e].values=[jn],t+=sA(e,Yn,""),e="clock_offset",$w.push(e),t+=oA(e,zn),e="restor_playback",$w.push(e),Zw[e].values=[T,Ht],t+=sA(e,Tn,Ln),e="videos_animation",$w.push(e),Zw[e].values=[T,Ht],t+=oA(e,Un),e="clip_auto_play_next",$w.push(e),Zw[e].values=[T,Ht],t+=oA(e,ri),t+=aA("play",_n),e="chat_font_size",$w.push(e),t+=sA(e,Bn,On),e="chat_brightness",$w.push(e),t+=oA(e,ii),e="force_disable_chat",$w.push(e),Zw[e].values=[Ht,T],t+=sA(e,ti,ni),t+='<div id="setting_title_buffers" class="settings_title">'+fn+'</div><div id="setting_title_buffers_summary" class="settings_summary">'+hn+"</div>",e="buffer_live",$w.push(e),t+=oA(e,mn),e="buffer_vod",$w.push(e),t+=oA(e,pn),e="buffer_clip",$w.push(e),Ec("settings_main",t+=oA(e,vn)),eA=$w.length,TA()}function aA(e,t){return'<div id="setting_title_'+e+'" class="settings_section">'+t+"</div>"}function oA(e,t){return'<div id="'+e+'_div" class="settings_div"><div id="'+e+'_name" class="settings_name">'+t+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_left" class="left"></div></div><div id="'+e+'" class="strokedextramini settings_value">'+cA(e)+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_right" class="right"></div></div></div>'}function sA(e,t,n){return'<div id="'+e+'_div" class="settings_div"><div id="'+e+'_name" class="settings_name">'+t+'<div id="'+e+'_summary" class="settings_summary" style="font-size: 65%;">'+n+'</div></div><div class="settings_arraw_div"><div id="'+e+'arrow_left" class="left"></div></div><div id="'+e+'" class="strokedextramini settings_value">'+cA(e)+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_right" class="right"></div></div></div>'}function dA(e,t,n){Ec(e+"_name",t+'<div id="'+e+'_summary" class="settings_summary" style="font-size: 65%;">'+n+"</div>")}function lA(){var e="";for(e in Mc("setting_title_general",gn),Mc((e="clock_offset")+"_name",zn),Mc((e="content_lang")+"_name",Yn),Mc(e,cA(e)),Zw[e].values=[jn],Mc("setting_title_play",_n),Mc("setting_title_buffers",fn),Mc("setting_title_buffers_summary",hn),Mc((e="buffer_live")+"_name",mn),Mc((e="buffer_vod")+"_name",pn),Mc((e="buffer_clip")+"_name",vn),dA(e="restor_playback",Tn,Ln),Zw[e].values=[Ht,T],dA(e="chat_font_size",Bn,On),dA(e="force_disable_chat",ti,ni),Zw[e].values=[Ht,T],Mc((e="videos_animation")+"_name",Un),Zw[e].values=[Ht,T],Mc((e="clip_auto_play_next")+"_name",ri),Zw[e].values=[T,Ht],Mc((e="chat_brightness")+"_name",ii),Zw)Zw.hasOwnProperty(e)&&Mc(e,cA(e));PA()}function rA(){for(var e in Zw)Zw[e].defaultValue=o_(e,Zw[e].defaultValue),Zw[e].defaultValue-=1,Zw[e].defaultValue>_A(e)&&(Zw[e].defaultValue=0);gA(0),yA(),Df=(.05*uA("chat_brightness")).toFixed(2),Jy=uA("videos_animation"),Z_=uA("clip_auto_play_next"),wr.Play_ChatForceDisable=uA("force_disable_chat")}function cA(e){return Zw[e].values[uA(e)]}function uA(e){return Zw[e].defaultValue}function _A(e){return Zw[e].values.length-1}function fA(e){var t=$w[Qw];kc(t,"settings_value_focus"),kc(t+"_div","settings_div_focus"),pA(e),bA()}function hA(){var e=$w[Qw];document.getElementById(e+"arrow_left").style.opacity="0",document.getElementById(e+"arrow_right").style.opacity="0",Cc(e,"settings_value_focus"),Cc(e+"_div","settings_div_focus")}function mA(e){var t=$w[e];a_(t,uA(t)+1),Mc(t,cA(t)),pA(e),vA(e)}function pA(e){var t=$w[e];if(_A(t)){var n=uA(t),i=_A(t);0<n&&n<i?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="1"):n===i?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="0.2"):(document.getElementById(t+"arrow_left").style.opacity="0.2",document.getElementById(t+"arrow_right").style.opacity="1")}}function vA(e){"videos_animation"===(e=$w[e])?Jy=uA("videos_animation"):"clip_auto_play_next"===e?Z_=uA("clip_auto_play_next"):"buffer_live"===e?gA(1):"buffer_vod"===e?gA(2):"buffer_clip"===e?gA(3):"chat_brightness"===e?(Df=(.05*uA("chat_brightness")).toFixed(2),mp(!1)):"force_disable_chat"===e?wr.Play_ChatForceDisable=uA("force_disable_chat"):"chat_font_size"===e?nm():"clock_offset"===e&&(yA(),zu())}function gA(e){try{e?1===e?(jf=1e3*cA("buffer_live"),cc&&Android.SetBuffer(1,jf)):2===e?(hv=1e3*cA("buffer_vod"),cc&&Android.SetBuffer(2,hv)):3===e&&(F_=1e3*cA("buffer_clip"),cc&&Android.SetBuffer(3,F_)):(jf=1e3*cA("buffer_live"),hv=1e3*cA("buffer_vod"),F_=1e3*cA("buffer_clip"),cc&&(Android.SetBuffer(1,jf),Android.SetBuffer(2,hv),Android.SetBuffer(3,F_)))}catch(e){}}function yA(){var e=uA("clock_offset");rc=e<48?-9e5*(48-e):9e5*(e-48)}function bA(){var e=screen.height;4<Qw?(e*=.09,e+=-1*document.getElementById($w[0]).offsetTop,document.getElementById("settings_scroll").style.top=e+"px"):e*=.077,document.getElementById("settings_scroll").style.top=e+"px"}function wA(e){var t;switch(e.keyCode){case zi:Fc()?Hc():Yc()?Xc():(nA(),tu());break;case Vi:0<uA(t=$w[Qw])&&(Zw[t].defaultValue-=1,mA(Qw));break;case Hi:uA(t=$w[Qw])<_A(t)&&(Zw[t].defaultValue+=1,mA(Qw));break;case Ji:0<Qw&&(hA(),fA(--Qw));break;case Fi:Qw<eA-1&&(hA(),fA(++Qw));break;case qi:Qw||IA()}}var AA=0,kA="",CA={All:{values:["off","on"],defaultValue:2,set_values:""},"Dansk [DA]":{values:["off","on"],defaultValue:1,set_values:"da"},"Deutsch [DE]":{values:["off","on"],defaultValue:1,set_values:"de"},"English [EN]":{values:["off","on"],defaultValue:1,set_values:"en,en-gb"},"Espaol [ES]":{values:["off","on"],defaultValue:1,set_values:"es,es-mx"},"Franais [FR]":{values:["off","on"],defaultValue:1,set_values:"fr"},"Italiano [IT]":{values:["off","on"],defaultValue:1,set_values:"it"},"Magyar [HU]":{values:["off","on"],defaultValue:1,set_values:"hu"},"Nederlands [NL]":{values:["off","on"],defaultValue:1,set_values:"nl"},"Norsk [NO]":{values:["off","on"],defaultValue:1,set_values:"no"},"Polski [PL]":{values:["off","on"],defaultValue:1,set_values:"pl"},"Portugus [PT]":{values:["off","on"],defaultValue:1,set_values:"pt,pt-br"},"Slovenina [SK]":{values:["off","on"],defaultValue:1,set_values:"sk"},"Suomi [FI]":{values:["off","on"],defaultValue:1,set_values:"fi"},"Svenska [SV]":{values:["off","on"],defaultValue:1,set_values:"sv"},"Ting Vit [VI]":{values:["off","on"],defaultValue:1,set_values:"vi"},"Trke [TR]":{values:["off","on"],defaultValue:1,set_values:"tr"},"etina [CS]":{values:["off","on"],defaultValue:1,set_values:"cs"}," [EL]":{values:["off","on"],defaultValue:1,set_values:"el"}," [RU]":{values:["off","on"],defaultValue:1,set_values:"ru"}," [TH]":{values:["off","on"],defaultValue:1,set_values:"th"}," [ZH]":{values:["off","on"],defaultValue:1,set_values:"zh-cn,zh-tw"}," [JA]":{values:["off","on"],defaultValue:1,set_values:"ja"}," [KO]":{values:["off","on"],defaultValue:1,set_values:"ko"},"Romn [RO]":{values:["off","on"],defaultValue:1,set_values:"ro"}},EA=[],MA=0;function IA(){eu(),document.body.removeEventListener("keydown",wA),bc("settings_main"),wc("settings_lang"),HA(),Mc("top_bar_featured",yn),document.getElementById("top_bar_featured").style.display="inline-block",document.body.addEventListener("keydown",FA,!1),RA(AA=0),xA()}function SA(){document.body.removeEventListener("keydown",FA),document.body.addEventListener("keydown",wA,!1),bA(),wc("settings_main"),bc("settings_lang"),Mc("top_bar_featured",an),document.getElementById("top_bar_featured").style.display="none",NA(),PA(),xA()}function xA(){""===Tr&&(kA=Wn,CA.All.defaultValue=1,VA(0),kc(EA[0],"strokedextraminired"),HA()),dA("content_lang",Yn,kA)}function PA(){if(Tr="",!GA("All")){for(var e in CA)GA(e)&&(Tr+=","+CA[e].set_values);Tr=Tr.slice(1)}kA=""===Tr?Wn:Tr.toUpperCase()}function TA(){var e="";for(var t in CA)EA.push(t),CA[t].values=[T,Ht],e+=LA(t,t);Ec("settings_lang",e),MA=EA.length}function LA(e,t){return'<div id="'+e+'_div" class="settings_div"><div id="'+e+'_name" class="settings_name">'+t+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_left" class="left"></div></div><div id="'+e+'" class="'+(GA(e)?"strokedextraminired ":"")+'strokedextramini settings_value">'+OA(e)+'</div><div class="settings_arraw_div"><div id="'+e+'arrow_right" class="right"></div></div></div>'}function BA(){for(var e in CA)CA[e].defaultValue=o_(e,CA[e].defaultValue),CA[e].defaultValue-=1;PA()}function OA(e){return CA[e].values[GA(e)]}function GA(e){return CA[e].defaultValue}function UA(e){return CA[e].values.length-1}function RA(e){var t=EA[AA];kc(t,"settings_value_focus"),kc(t+"_div","settings_div_focus"),JA(e),DA(t)}function NA(){var e=EA[AA];document.getElementById(e+"arrow_left").style.opacity="0",document.getElementById(e+"arrow_right").style.opacity="0",Cc(e,"settings_value_focus"),Cc(e+"_div","settings_div_focus")}function DA(){var e=screen.height;7<AA?(e*=.093,e+=-1*document.getElementById(EA[AA-7]).offsetTop):e*=.077,AA<18&&(document.getElementById("settings_scroll").style.top=e+"px")}function VA(e){var t=EA[e];a_(t,GA(t)+1),Mc(t,OA(t)),JA(e)}function JA(e){var t=EA[e],n=GA(t),i=UA(t);0<n&&n<i?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="1"):n===i?(document.getElementById(t+"arrow_left").style.opacity="1",document.getElementById(t+"arrow_right").style.opacity="0.2"):(document.getElementById(t+"arrow_left").style.opacity="0.2",document.getElementById(t+"arrow_right").style.opacity="1")}function HA(){for(var e in CA)-1===e.indexOf("All")&&(document.getElementById(e+"_div").style.display=GA("All")?"none":"inline-block")}function FA(e){var t;switch(e.keyCode){case zi:SA();break;case Vi:0<GA(t=EA[AA])&&(CA[t].defaultValue-=1,VA(AA),Cc(EA[AA],"strokedextraminired"),-1!==t.indexOf("All")&&HA());break;case Hi:GA(t=EA[AA])<UA(t)&&(CA[t].defaultValue+=1,VA(AA),kc(EA[AA],"strokedextraminired"),-1!==t.indexOf("All")&&HA());break;case Ji:0<AA&&(NA(),RA(--AA));break;case Fi:!GA("All")&&AA<MA-1&&(NA(),RA(++AA))}}var qA,zA,XA=!1,YA=0,jA=0,WA=0;function QA(){kc("side_panel_"+YA,"side_panel_text_focus")}function ZA(){Cc("side_panel_"+YA,"side_panel_text_focus")}function KA(){kc(RC[2]+jA,"side_panel_feed_text_focus"),dk(),-1===document.getElementById("side_panel").className.indexOf("side_panel_hide")&&$A()}function $A(){var e=JSON.parse(document.getElementById(RC[8]+jA).getAttribute(ic));zA.onerror=function(){this.onerror=null,this.src=Gi},zA.src=e[2]+uc,Ec("feed_thum_name",e[3]),Ec("feed_thum_quality",e[7]),Ec("feed_thum_title",wI.parse(e[4])),Ec("feed_thum_game",e[5]),Ec("feed_thum_views",e[6]),wc("side_panel_feed_thumb")}function ek(){Cc(RC[2]+jA,"side_panel_feed_text_focus")}function tk(){YA?1===YA?qc():2===YA?(document.body.addEventListener("keydown",qA,!1),Jc()):3===YA?(document.body.addEventListener("keydown",qA,!1),zc()):4===YA?Lc(qA):5===YA?ik(Kl):6===YA?ik(wo()?ur:$l):7===YA?ik(gr):8===YA?ik(er):9===YA?ik(hr):10===YA&&ik(mr):wr.Main_Go!==or?(wr.Search_isSearching||wr.Main_Go!==lr&&wr.Main_Go!==cr&&wr.Main_Go!==rr||fs(),wr.Search_isSearching||(wr.Main_BeforeSearch=wr.Main_Go),ou(wr.Main_Go),wr.Main_Go=or,tu()):document.body.addEventListener("keydown",qA,!1),sk()}function nk(){XA&&(XA=!1,nu())}function ik(e){e===wr.Main_Go?document.body.addEventListener("keydown",qA,!1):(wr.Main_Before=wr.Main_Go,wr.Main_Go=e,ou(wr.Main_Before),tu())}function ak(e,t){Cc("side_panel","side_panel_hide"),qA=e,XA=t,document.body.removeEventListener("keydown",qA),ok()}function ok(){var e=mo();e&&(Xf!==Ka[wr.Users_Position].name&&(LC=!1),Xf=Ka[wr.Users_Position].name),e&&lE(0,UC[0])||(LC=!1),LC||AC||NC(),e?Ac("side_panel_feed_holder")?(document.body.addEventListener("keydown",lk,!1),null!==document.getElementById(RC[2]+jA)&&KA()):document.body.addEventListener("keydown",rk,!1):(bc("side_panel_feed_holder"),wc("side_panel_etc"),document.body.addEventListener("keydown",rk,!1))}function sk(){document.body.removeEventListener("keydown",lk),document.body.removeEventListener("keydown",rk),kc("side_panel","side_panel_hide"),bc("side_panel_feed_thumb"),ZA(),YA=0,QA()}function dk(){var e;4<jA?(jA<IC-6?(e=-1*document.getElementById(RC[8]+(jA-4)).offsetTop,e+=document.getElementById(RC[8]+0).offsetTop):11<IC&&(e=-1*document.getElementById(RC[8]+(IC-11)).offsetTop,e+=document.getElementById(RC[8]+0).offsetTop),(WA+5<e||e<WA-5)&&(WA=e),document.getElementById("side_panel_feed_scroll").style.marginTop=WA+"px"):document.getElementById("side_panel_feed_scroll").style.marginTop=0}function lk(e){switch(e.keyCode){case zi:sk(),XA?(XA=!1,nu()):(document.body.addEventListener("keydown",qA,!1),e_());break;case Vi:document.body.removeEventListener("keydown",lk),document.body.addEventListener("keydown",rk,!1),bc("side_panel_feed_thumb"),bc("side_panel_feed_holder"),wc("side_panel_etc");break;case Hi:iE();break;case Ji:jA&&!AC&&(ek(),jA--,KA());break;case Fi:jA<IC-1&&!AC&&(ek(),jA++,KA());break;case qi:sk(),wr.Play_isHost=!1,Yh=!0,Hu(function(){Bu(jA,RC,lk)})}}function rk(e){switch(e.keyCode){case zi:case Vi:sk(),XA?(XA=!1,nu()):(document.body.addEventListener("keydown",qA,!1),e_());break;case Hi:mo()?(document.body.removeEventListener("keydown",rk),document.body.addEventListener("keydown",lk,!1),bc("side_panel_etc"),wc("side_panel_feed_holder"),wc("side_panel_feed_thumb")):(Dc(hi),window.setTimeout(Vc,2e3));break;case Ji:YA&&(ZA(),YA--,QA());break;case Fi:YA<10&&(ZA(),YA++,QA());break;case qi:tk()}}var ck=0,uk=0,_k=!1,fk=0,hk=!1,mk=0,pk=5,vk=3500,gk=[],yk=0,bk=0,wk=!1,Ak=!1,kk="",Ck=!1,Ek={},Mk=[],Ik=0,Sk=["uc_thumbdiv","uc_img","uc_infodiv","uc_displayname","uc_cell","ucempty_","user_channels_scroll"];function xk(){wr.Main_CenterLablesVectorPos=1,wr.Main_Go=_r,wr.isLastSChannels=!1,yc("label_side_panel","icon-arrow-circle-left",I),kc("top_bar_user","icon_center_focus"),Ec("top_bar_user",_+lu(Ka[wr.Users_Position].name+K)),document.body.addEventListener("keydown",Fk,!1),kk!==Ka[wr.Users_Position].name&&(Ak=!1),Ak?(fu(ck),wc(Sk[6]),Jk(),iu()):Tk()}function Pk(){wr.Users_Position=0,Cc("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",Fk),Mc("top_bar_user",_),yc("label_side_panel","icon-ellipsis",Rn),bc(Sk[6])}function Tk(){_u("stream_table_user_channels"),bc(Sk[6]),Sc(),Vc(),kk=Ka[wr.Users_Position].name,Ak=!1,Ek={},ck=uk=fk=Ik=yk=bk=0,Qu=!(Ck=_k=!(Mk=[])),Gc(),gk=[],Lk(),Bk()}function Lk(){hk=!0,mk=0,vk=3500}function Bk(){var e=fk+bk;e&&Ik-1<e&&(e=Ik-qr,_k=!0);var t="https://api.twitch.tv/kraken/users/"+encodeURIComponent(Ka[wr.Users_Position].id)+"/follows/channels?limit="+qr+"&offset="+e+"&sortby=login&direction=asc";cc&&!fk?__(t,vk,2,null,Gk,Ok):f_(t,vk,2,null,Gk,Ok,!1)}function Ok(){++mk<pk?(vk+=500,Bk()):(hk=!1,fk?(_k=!0,Rk()):(Qu=!1,xc(),Dc(P),Ku(Fk)))}function Gk(e){var t=JSON.parse(e),n=t.follows.length;Ik=parseInt(t._total),n<qr&&(_k=!0);var i=fk;wk=!(fk+=n);var a=n/zr;0<n%zr&&a++;for(var o,s,d,l,r,c=0,u=document.getElementById("stream_table_user_channels"),_=0;_<a;_++){for(s=i/zr+_,d=document.createElement("tr"),o=0;o<zr&&c<n;o++,c++)r=(l=t.follows[c].channel)._id,Ek[r]?o--:(Ek[r]=1,d.appendChild(Uk(s,s+"_"+o,[l.name,r,l.logo,l.display_name])));for(;o<zr;o++)_k&&!Ck&&(Ck=!0,fk=s*zr+o),d.appendChild(pu(Sk[5]+s+"_"+o)),Mk.push(Sk[5]+s+"_"+o);u.appendChild(d)}Rk()}function Uk(e,t,n){return e<4&&mu(n[2]),vu(t,Sk,n)}function Rk(){if(Ak){if(0<Mk.length&&!_k)return Lk(),void Nk();Jk(!0),Mk=[]}else wk?(Dc(T+K),Ku(Fk)):(Ak=!0,Jk(),iu()),wc(Sk[6]),Qu=!1,xc();hk=!1}function Nk(){Nc(Mk.length);var e=fk+bk;e&&Ik-1<e&&(e=Ik-Yr,_k=!0),c_("https://api.twitch.tv/kraken/users/"+encodeURIComponent(Ka[wr.Users_Position].id)+"/follows/channels?limit="+Yr+"&offset="+yk+"&sortby=login&direction=asc",vk,2,null,Vk,Dk)}function Dk(){++mk<pk?(vk+=500,Nk()):(_k=!0,fk-=Mk.length,Mk=[],Rk())}function Vk(e){var t,n,i=JSON.parse(e),a=i.follows.length,o=0,s=0,d=[];for(Ik=parseInt(i._total),a<Yr&&(_k=!0);o<Mk.length&&s<a;o++,s++)n=(t=i.follows[s].channel)._id,Ek[n]?o--:(Ek[n]=1,gu(Mk[o],[t.name,n,t.logo,t.display_name],Sk),d.push(o));for(o=d.length-1;-1<o;o--)Mk.splice(d[o],1);bk+=s,_k&&(fk-=Mk.length,Mk=[]),Rk()}function Jk(e){xu(ck,uk,Sk,zr,fk,e),fk/zr<ck+Xr&&!_k&&!hk&&(Lk(),Bk()),Cr&&Hk()}function Hk(){fk&&Du(ck+"_"+uk,Sk)}function Fk(e){var t;if(!Qu&&!Su())switch(Iu(),e.keyCode){case zi:Yc()?Xc():Fc()?Hc():(Hk(),Ku(Fk)),nk();break;case Vi:if(uk){if(Zc(ck,uk-1,Sk[0]))Hk(),uk--,Jk();else for(t=zr-1;-1<t;t--)if(Zc(ck-1,t,Sk[0])){Hk(),ck--,uk=t,Jk();break}}else Hk(),ak(Fk,!0);break;case Hi:Zc(ck,uk+1,Sk[0])?(Hk(),uk++,Jk()):Zc(ck+1,0,Sk[0])&&(Hk(),ck++,uk=0,Jk());break;case Ji:if(ck){for(t=0;t<zr;t++)if(Zc(ck-1,uk-t,Sk[0])){Hk(),ck--,uk-=t,Jk();break}}else Hk(),Ku(Fk);break;case Fi:for(t=0;t<zr;t++)if(Zc(ck+1,uk-t,Sk[0])){Hk(),ck++,uk-=t,Jk();break}break;case Ni:case Ri:case Di:case qi:if(Lu(ck+"_"+uk,Sk[0]))return;wr.Main_selectedChannel=document.getElementById(Sk[4]+ck+"_"+uk).getAttribute(ic),wr.Main_selectedChannel_id=document.getElementById(Sk[4]+ck+"_"+uk).getAttribute("data-id"),wr.Main_selectedChannelDisplayname=document.getElementById(Sk[3]+ck+"_"+uk).textContent,wr.Main_selectedChannelLogo=document.getElementById(Sk[1]+ck+"_"+uk).src,document.body.removeEventListener("keydown",Fk),wr.Main_BeforeChannel=_r,wr.Main_Go=lr,wr.Main_BeforeChannelisSet=!0,Lo=ea=!0,bc(Sk[6]),tu()}}var qk=0,zk=0,Xk=!1,Yk=0,jk={},Wk=[],Qk=!1,Zk=0,Kk=5,$k=3500,eC=0,tC=0,nC=!1,iC=["uh_thumbdiv","uh_img","uh_infodiv","uh_displayname","uh_hosttitle","uh_hostgame","uh_viwers","uh_quality","uh_cell","uhempty_","user_host_scroll"],aC=!1,oC="",sC=!1;function dC(){wr.Main_CenterLablesVectorPos=1,wr.Main_Go=ir,yc("label_side_panel","icon-arrow-circle-left",I),kc("top_bar_user","icon_center_focus"),Ec("top_bar_user",_+lu(Ka[wr.Users_Position].name+Q)),document.body.addEventListener("keydown",bC,!1),oC!==Ka[wr.Users_Position].name&&(aC=!1),aC?(fu(qk),wc(iC[10]),gC(),iu()):rC()}function lC(){wr.Users_Position=0,Cc("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",bC),Mc("top_bar_user",_),yc("label_side_panel","icon-ellipsis",Rn),bc(iC[10])}function rC(){_u("stream_table_user_host"),bc(iC[10]),Sc(),Vc(),oC=Ka[wr.Users_Position].name,aC=!1,jk={},Qu=!(Yk=tC=eC=0),qk=zk=0,Xk=sC=!(Wk=[]),Gc(),cC(),uC()}function cC(){Qk=!0,Zk=0,$k=3500}function uC(){var e=Yk+eC;e&&tC-1<e&&(e=tC-Nr,Xk=!0),u_("https://api.twitch.tv/api/users/"+encodeURIComponent(Ka[wr.Users_Position].name)+"/followed/hosting?limit="+Nr+"&offset="+e,$k,2,null,fC,_C,!1,!Yk)}function _C(){++Zk<Kk?($k+=500,uC()):(Qk=!1,Yk?(Xk=!0,hC()):(Qu=!1,xc(),Dc(P),Ku(bC)))}function fC(e){var t=JSON.parse(e),n=t.hosts.length;tC=parseInt(t._total),n<Nr&&(Xk=!0);var i=Yk;nC=!(Yk+=n);var a=n/Dr;0<n%Dr&&a++;for(var o,s,d,l,r,c=0,u=document.getElementById("stream_table_user_host"),_=0;_<a;_++){for(s=i/Dr+_,d=document.createElement("tr"),o=0;o<Dr&&c<n;o++,c++)r=(l=t.hosts[c]).target._id+""+l._id,jk[r]?o--:(jk[r]=1,d.appendChild(bu(s,s+"_"+o,[l.target.channel.name,l.target._id],iC,[l.target.preview_urls.template.replace("{width}x{height}",ec),l.display_name+ne+l.target.channel.display_name,l.target.title,l.target.meta_game,m.charAt(1).toUpperCase()+m.slice(2)+jc(l.target.viewers)+J,""])));for(;o<Dr;o++)Xk&&!sC&&(sC=!0,Yk=s*Dr+o),d.appendChild(pu(iC[9]+s+"_"+o)),Wk.push(iC[9]+s+"_"+o);u.appendChild(d)}hC()}function hC(){if(aC){if(0<Wk.length&&!Xk)return cC(),void mC();gC(!0),Wk=[]}else nC?(Dc(T+Q),Ku(bC)):(aC=!0,gC(),iu()),wc(iC[10]),Qu=!1,xc();Qk=!1}function mC(){Nc(Wk.length);var e=Yk+eC;e&&tC-1<e&&(e=tC-Yr,Xk=!0),c_("https://api.twitch.tv/api/users/"+encodeURIComponent(Ka[wr.Users_Position].name)+"/followed/hosting?limit="+Yr+"&offset="+e,$k,2,null,vC,pC)}function pC(){++Zk<Kk?($k+=500,mC()):(Xk=!0,Yk-=Wk.length,Wk=[],hC())}function vC(e){var t,n,i=JSON.parse(e),a=i.streams.length,o=0,s=0,d=[];for(tC=parseInt(i._total),a<Yr&&(Xk=!0);o<Wk.length&&s<a;o++,s++)n=(t=i.hosts[s]).target._id+""+t._id,jk[n]?o--:(jk[n]=1,wu(Wk[o],[t.target.channel.name,t.target._id],[t.target.preview_urls.template.replace("{width}x{height}",ec),t.display_name+ne+t.target.channel.display_name,t.target.title,t.target.meta_game,m.charAt(1).toUpperCase()+m.slice(2)+jc(t.target.viewers)+J,""],iC),d.push(o));for(o=d.length-1;-1<o;o--)Wk.splice(d[o],1);eC+=s,Xk&&(Yk-=Wk.length,Wk=[]),hC()}function gC(e){Pu(qk,zk,iC,Dr,Yk,e),Yk/Dr<qk+Vr&&!Xk&&!Qk&&(cC(),uC()),Cr&&yC()}function yC(){Yk&&Du(qk+"_"+zk,iC)}function bC(e){var t;if(!Qu&&!Su())switch(Iu(),e.keyCode){case zi:Yc()?Xc():Fc()?Hc():(yC(),Ku(bC)),nk();break;case Vi:if(zk){if(Zc(qk,zk-1,iC[0]))yC(),zk--,gC();else for(t=Dr-1;-1<t;t--)if(Zc(qk-1,t,iC[0])){yC(),qk--,zk=t,gC();break}}else yC(),ak(bC,!0);break;case Hi:Zc(qk,zk+1,iC[0])?(yC(),zk++,gC()):Zc(qk+1,0,iC[0])&&(yC(),qk++,zk=0,gC());break;case Ji:if(qk){for(t=0;t<Dr;t++)if(Zc(qk-1,zk-t,iC[0])){yC(),qk--,zk-=t,gC();break}}else yC(),Ku(bC);break;case Fi:for(t=0;t<Dr;t++)if(Zc(qk+1,zk-t,iC[0])){yC(),qk++,zk-=t,gC();break}break;case Ni:case Ri:case Di:case qi:Bu(qk+"_"+zk,iC,bC)}}var wC,AC=!1,kC=0,CC=3500,EC=0,MC=5,IC=0,SC=!1,xC="",PC=0,TC={},LC=!1,BC=null,OC=null,GC=null,UC=["ulf_thumbdiv","ulf_img","ulf_infodiv","ulf_displayname","ulf_streamtitle","ulf_streamgame","ulf_viwers","ulf_quality","ulf_cell","ulempty_","user_live_scroll"],RC=["usf_thumbdiv","usf_img","usf_infodiv","usf_displayname","usf_streamtitle","usf_streamgame","usf_viwers","usf_quality","usf_cell","ulempty_","user_live_scroll"];function NC(){mo()&&(tE(),LC?(lE(Yf,UC[0])&&(BC=JSON.parse(document.getElementById(UC[8]+Yf).getAttribute(ic))[0]),lE(jA,RC[0])&&(OC=JSON.parse(document.getElementById(RC[8]+jA).getAttribute(ic))[0])):BC=OC=null,_u("user_feed_scroll"),bc("side_panel_feed_thumb"),WA=jA=0,_u("side_panel_feed_scroll"),LC=!1,document.getElementById("user_feed_scroll").style.left="2.5px",wc("dialog_loading_feed"),wc("dialog_loading_side_feed"),xC="",Yf=PC=IC=EC=0,TC={},Hu(function(){VC(),DC()}))}function DC(){(GC=Ka[wr.Users_Position].access_token)?(GC=Kr+GC,qC()):(VC(),GC=null,JC())}function VC(){AC=!0,kC=0,CC=3500}function JC(){f_("https://api.twitch.tv/kraken/users/"+encodeURIComponent(Ka[wr.Users_Position].id)+"/follows/channels?limit=100&offset="+EC+"&sortby=created_at",CC,2,null,FC,HC,!1)}function HC(){++kC<MC?(CC+=500,JC()):(AC=!1,IC?(SC=!0,jC()):(bc("dialog_loading_feed"),bc("dialog_loading_side_feed"),ZC()&&(zm(P),window.setTimeout(function(){Xm()},2e3))))}function FC(e){var t=JSON.parse(e).follows,n=t.length;if(n){for(var i="",a=0;a<n;a++)i=t[a].channel._id+",",-1===xC.indexOf(i)&&(xC+=i);EC+=n,VC(),JC()}else xC=xC.slice(0,-1),VC(),Hu(qC)}function qC(){var e="https://api.twitch.tv/kraken/streams/";e+=GC?"followed?":"?channel="+encodeURIComponent(xC)+"&",zC(e+="limit=100&offset=0&stream_type=all")}function zC(e){var t=new XMLHttpRequest;t.open("GET",e,!0),t.timeout=CC,t.setRequestHeader(Wr,jr),t.setRequestHeader(Qr,$r),GC&&t.setRequestHeader(Zr,GC),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?YC(t.responseText):!GC||401!==t.status&&403!==t.status?XC():la(wr.Users_Position,0,DC,DC))},t.send(null)}function XC(){++kC<MC?(CC+=500,qC()):(AC=!1,bc("dialog_loading_feed"),bc("dialog_loading_side_feed"),ZC()&&(zm(P),window.setTimeout(function(){Xm()},2e3)))}function YC(e){var t=JSON.parse(e),n=t.streams.length;n<Nr&&(SC=!0),IC+=n;for(var i,a,o=document.getElementById("user_feed_scroll"),s=document.getElementById("side_panel_feed_scroll"),d=0;d<n;d++)a=(i=t.streams[d]).channel._id,TC[a]||(TC[a]=1,null!==BC&&BC===i.channel.name&&(Yf=d),o.appendChild(WC(d,[i.channel.name,a],[i.preview.template.replace("{width}x{height}",ec),Qc(JSON.stringify(i.stream_type))+i.channel.display_name,i.game])),null!==OC&&OC===i.channel.name&&(jA=d),s.appendChild(QC(d,[i.channel.name,a,i.preview.template.replace("{width}x{height}","800x450"),Qc(JSON.stringify(i.stream_type))+i.channel.display_name,i.channel.status,i.game,y+Um(i.created_at)+" "+m+jc(i.viewers)+J,Wc(i.video_height,i.average_fps,i.channel.broadcaster_language)],[i.channel.logo,Qc(JSON.stringify(i.stream_type))+i.channel.display_name,i.channel.display_name,i.game,jc(i.viewers)])));jC()}function jC(){LC=!(AC=!1),Hu(function(){bc("dialog_loading_feed"),bc("dialog_loading_side_feed"),aE(),KA()})}function WC(e,t,n){return(xr=document.createElement("div")).setAttribute("id",UC[8]+e),xr.setAttribute(ic,JSON.stringify(t)),xr.className="user_feed_thumb",xr.innerHTML='<div id="'+UC[0]+e+'" class="stream_thumbnail_clip" ><div><img id="'+UC[1]+e+'" alt="" class="stream_img" src="'+n[0]+uc+'" onerror="this.onerror=null;this.src=\''+Gi+'\'"></div><div id="'+UC[2]+e+'" class="stream_text2"><div id="'+UC[3]+e+'" class="stream_channel" style="width: 66%; display: inline-block;">'+n[1]+'</div><div id="'+UC[5]+e+'"class="stream_info">'+v+n[2]+"</div></div></div>",xr}function QC(e,t,n){return(xr=document.createElement("div")).setAttribute("id",RC[8]+e),xr.setAttribute(ic,JSON.stringify(t)),xr.className="side_panel_feed",xr.innerHTML='<div id="'+RC[0]+e+'"><img id="'+RC[1]+e+'" style="vertical-align: middle; display: inline-block; width: 16%;" alt="" src="'+n[0]+'" onerror="this.onerror=null;this.src=\''+Gi+'\'"><div id="'+RC[2]+e+'" class="side_panel_feed_text"><div id="'+RC[3]+e+'" style="display: none;">'+n[1]+'</div><div id="'+RC[4]+e+'" style="width: 74%; display: inline-block; font-size: 110%; font-weight: bold; overflow: hidden;  white-space: nowrap; text-overflow: ellipsis;">'+n[2]+'</div><div style="width:25%; float: right; text-align: right; vertical-align: middle; display: inline-block"><div  style="text-align: center;" ><i class="icon-'+(-1===n[1].indexOf(j)?'circle" style="color: red;':'refresh" style="')+' font-size: 80%; "></i><div style="font-size: 85%;">'+n[4]+'</div></div></div><div id="'+RC[5]+e+'" style="font-size: 90%; overflow: hidden;  white-space: nowrap; text-overflow: ellipsis;">'+n[3]+"</div></div></div>",xr}function ZC(){return-1===document.getElementById("user_feed").className.indexOf("user_feed_hide")}function KC(){var e=mo();e&&(Xf!==Ka[wr.Users_Position].name&&(LC=!1),Xf=Ka[wr.Users_Position].name),e&&lE(0,UC[0])||(LC=!1),LC||AC||NC(),e&&(Cc("user_feed","user_feed_hide"),aE())}function $C(){kc("user_feed","user_feed_hide")}function eE(){tE(),nE()}function tE(){window.clearTimeout(wC)}function nE(){ZC()&&(wC=window.setTimeout($C,5500))}function iE(){tE(),AC?window.setTimeout(function(){AC=!1},15e3):NC()}function aE(){eE(),lE(Yf,UC[0])&&(kc(UC[0]+Yf,"feed_thumbnail_focused"),ZC()?sE():Ac("scene2")&&dE())}function oE(){return Yf<3?2.5:lE(Yf+2,UC[0])?-1*document.getElementById(UC[8]+(Yf-2)).offsetLeft:lE(Yf+1,UC[0])?-1*document.getElementById(UC[8]+(Yf-3)).offsetLeft:-1*document.getElementById(UC[8]+(Yf-(3<Yf?4:3))).offsetLeft}function sE(){var e=oE();e&&(document.getElementById("user_feed_scroll").style.left=e+"px")}function dE(){var e=sE();e&&(document.getElementById("user_feed_scroll").style.left=e+"px")}function lE(e,t){return null!==document.getElementById(t+e)}function rE(){lE(Yf,UC[0])&&Cc(UC[0]+Yf,"feed_thumbnail_focused")}var cE=0,uE=0,_E=!1,fE=0,hE={},mE=[],pE=!1,vE=0,gE=5,yE=3500,bE=0,wE=0,AE=0,kE=!1,CE=["ul_thumbdiv","ul_img","ul_infodiv","ul_displayname","ul_streamtitle","ul_streamgame","ul_viwers","ul_quality","ul_cell","ulempty_","user_live_scroll"],EE=!1,ME="",IE="",SE=!1,xE=null;function PE(){wr.Main_CenterLablesVectorPos=1,wr.Main_Go=nr,yc("label_side_panel","icon-arrow-circle-left",I),kc("top_bar_user","icon_center_focus"),Ec("top_bar_user",_+lu(Ka[wr.Users_Position].name+W)),document.body.addEventListener("keydown",jE,!1),IE!==Ka[wr.Users_Position].name&&(EE=!1),EE?(fu(cE),wc(CE[10]),XE(),iu()):LE()}function TE(){wr.Users_Position=0,Cc("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",jE),Mc("top_bar_user",_),yc("label_side_panel","icon-ellipsis",Rn),bc(CE[10])}function LE(){_u("stream_table_user_live"),bc(CE[10]),Sc(),Vc(),EE=!1,IE=Ka[wr.Users_Position].name,Qu=!(SE=!(mE=[])),cE=uE=fE=wE=bE=AE=0,_E=!(hE={}),ME="",Gc(),OE(),BE()}function BE(){(xE=Ka[wr.Users_Position].access_token)?(xE=Kr+xE,NE()):(xE=null,OE(),GE())}function OE(){pE=!0,vE=0,yE=3500}function GE(){c_("https://api.twitch.tv/kraken/users/"+encodeURIComponent(Ka[wr.Users_Position].id)+"/follows/channels?limit=100&offset="+AE+"&sortby=created_at",yE,2,null,RE,UE)}function UE(){++vE<gE?(yE+=500,GE()):(pE=!1,fE?(_E=!0,HE()):(Qu=!1,xc(),Dc(P),Ku(jE)))}function RE(e){var t=JSON.parse(e).follows,n=t.length;if(n){for(var i="",a=0;a<n;a++)i=t[a].channel._id+",",-1===ME.indexOf(i)&&(ME+=i);AE+=n,OE(),GE()}else ME=ME.slice(0,-1),OE(),NE()}function NE(){var e=fE+bE;e&&wE-1<e&&(e=wE-Nr,_E=!0);var t="https://api.twitch.tv/kraken/streams/";t+=xE?"followed?":"?channel="+encodeURIComponent(ME)+"&",DE(t+="limit="+Nr+"&offset="+e+"&stream_type=all",JE,VE,BE)}function DE(e,t,n,i){var a;if(cc&&!fE){if(!(a=Android.mreadUrl(e,yE,xE?3:2,xE)))return void XM();200===(a=JSON.parse(a)).status?t(a.responseText):!xE||401!==a.status&&403!==a.status?n():la(wr.Users_Position,0,i,i)}else(a=new XMLHttpRequest).open("GET",e,!0),a.timeout=yE,a.setRequestHeader(Wr,jr),a.setRequestHeader(Qr,$r),xE&&a.setRequestHeader(Zr,xE),a.ontimeout=function(){},a.onreadystatechange=function(){4===a.readyState&&(200===a.status?t(a.responseText):!xE||401!==a.status&&403!==a.status?n():la(wr.Users_Position,0,i,i))},a.send(null)}function VE(){++vE<gE?(yE+=500,NE()):(pE=!1,fE?(_E=!0,HE()):(Qu=!1,xc(),Dc(P),Ku(jE)))}function JE(e){var t=JSON.parse(e),n=t.streams.length;wE=parseInt(t._total),n<Nr&&(_E=!0);var i=fE;kE=!(fE+=n);var a=n/Dr;0<n%Dr&&a++;for(var o,s,d,l,r,c=0,u=document.getElementById("stream_table_user_live"),_=0;_<a;_++){for(s=i/Dr+_,d=document.createElement("tr"),o=0;o<Dr&&c<n;o++,c++)r=(l=t.streams[c]).channel._id,hE[r]?o--:(hE[r]=1,d.appendChild(bu(s,s+"_"+o,[l.channel.name,r],CE,[l.preview.template.replace("{width}x{height}",ec),Qc(JSON.stringify(l.stream_type))+l.channel.display_name,l.channel.status,l.game,y+Um(l.created_at)+" "+m+jc(l.viewers)+J,Wc(l.video_height,l.average_fps,l.channel.broadcaster_language)])));for(;o<Dr;o++)_E&&!SE&&(SE=!0,fE=s*Dr+o),d.appendChild(pu(CE[9]+s+"_"+o)),mE.push(CE[9]+s+"_"+o);u.appendChild(d)}HE()}function HE(){if(EE){if(0<mE.length&&!_E)return OE(),void FE();XE(!0),mE=[]}else kE?(Ku(jE),Dc(T+W)):(EE=!0,XE(),iu()),wc(CE[10]),Qu=!1,xc();pE=!1}function FE(){Nc(mE.length);var e=fE+bE;e&&wE-1<e&&(e=wE-Yr,_E=!0);var t="https://api.twitch.tv/kraken/streams/";t+=xE?"followed?":"?channel="+encodeURIComponent(ME)+"&",DE(t+="followed?limit=limit="+Yr+"&offset="+e+"&stream_type=all",zE,qE,FE)}function qE(){++vE<gE?(yE+=500,FE()):(_E=!0,fE-=mE.length,mE=[],HE())}function zE(e){var t,n,i=JSON.parse(e),a=i.streams.length,o=0,s=0,d=[];for(wE=parseInt(i._total),a<Yr&&(_E=!0);o<mE.length&&s<a;o++,s++)n=(t=i.streams[s]).channel._id,hE[n]?o--:(hE[n]=1,wu(mE[o],[t.channel.name,n],[t.preview.template.replace("{width}x{height}",ec),Qc(JSON.stringify(t.stream_type))+t.channel.display_name,t.channel.status,t.game,y+Um(t.created_at)+" "+m+jc(t.viewers)+J,Wc(t.video_height,t.average_fps,t.channel.broadcaster_language)],CE),d.push(o));for(o=d.length-1;-1<o;o--)mE.splice(d[o],1);bE+=s,_E&&(fE-=mE.length,mE=[]),HE()}function XE(e){Pu(cE,uE,CE,Dr,fE,e),fE/Dr<cE+Vr&&!_E&&!pE&&(OE(),GE()),Cr&&YE()}function YE(){fE&&Du(cE+"_"+uE,CE)}function jE(e){var t;if(!Qu&&!Su())switch(Iu(),e.keyCode){case zi:Yc()?Xc():Fc()?Hc():(YE(),Ku(jE)),nk();break;case Vi:if(uE){if(Zc(cE,uE-1,CE[0]))YE(),uE--,XE();else for(t=Dr-1;-1<t;t--)if(Zc(cE-1,t,CE[0])){YE(),cE--,uE=t,XE();break}}else YE(),ak(jE,!0);break;case Hi:Zc(cE,uE+1,CE[0])?(YE(),uE++,XE()):Zc(cE+1,0,CE[0])&&(YE(),cE++,uE=0,XE());break;case Ji:if(cE){for(t=0;t<Dr;t++)if(Zc(cE-1,uE-t,CE[0])){YE(),cE--,uE-=t,XE();break}}else YE(),Ku(jE);break;case Fi:for(t=0;t<Dr;t++)if(Zc(cE+1,uE-t,CE[0])){YE(),cE++,uE-=t,XE();break}break;case Ni:case Ri:case Di:case qi:Bu(cE+"_"+uE,CE,jE)}}var WE=0,QE=0,ZE=8,KE=0,$E=null,eM=["u_thumbdiv","u_img","u_infodiv","u_displayname","u_cell","user_scroll"],tM=!1,nM=!0;function iM(){return Er?(aM(),void da(Er)):wo()?(wr.Main_CenterLablesVectorPos=1,wr.Main_Go=ur,document.getElementById("screens_holder").style.top=screen.height/100*7+"px",Vc(),kc("top_bar_user","icon_center_focus"),document.body.addEventListener("keydown",yM,!1),void(tM?(fu(WE),wc(eM[5]),cM(),iu()):oM())):(wr.Main_Go=Kl,aM(),void tu())}function aM(){wr.Users_Position=0,Cc("top_bar_user","icon_center_focus"),document.body.removeEventListener("keydown",yM),bc(eM[5]),document.getElementById("screens_holder").style.top="0"}function oM(){_u("stream_table_user"),bc(eM[5]),Sc(),Vc(),Qu=!(tM=!1),nM=!(WE=QE=0),Hu(function(){sM()})}function sM(){for(var e,t,n,i=document.createElement("tbody"),a=document.getElementById("stream_table_user"),o=0;o<Ka.length;o++)t=0,n=o%2?"B5B5B5":"FFFFFF",(xr=document.createElement("tr")).className="follower_header",xr.innerHTML='<div class="follower_header">'+(o?"":oe)+Ka[o].name+R+"</div>",a.appendChild(i),a.appendChild(xr),(e=document.createElement("tr")).appendChild(dM(o+"_"+t,wr.Main_selectedChannelDisplayname,W,"play",n)),t++,e.appendChild(dM(o+"_"+t,wr.Main_selectedChannelDisplayname,Q,"users",n)),t++,e.appendChild(dM(o+"_"+t,wr.Main_selectedChannelDisplayname,Sy.isLive?Z:zt,"gamepad",n)),t++,e.appendChild(dM(o+"_"+t,wr.Main_selectedChannelDisplayname,Kt,"movie-play",n)),t++,e.appendChild(dM(o+"_"+t,wr.Main_selectedChannelDisplayname,K,"filmstrip",n)),t++,o?e.appendChild(dM(o+"_"+t,wr.Main_selectedChannelDisplayname,ae,"arrow-up",n)):e.appendChild(dM(o+"_"+t,wr.Main_selectedChannelDisplayname,$,"user-plus",n)),t++,e.appendChild(dM(o+"_"+t,wr.Main_selectedChannelDisplayname,ee,"user-times",n)),t++,e.appendChild(dM(o+"_"+t,wr.Main_selectedChannelDisplayname,Ka[o].access_token?wt:bt,"key",n)),a.appendChild(e);lM()}function dM(e,t,n,i,a){return(xr=document.createElement("td")).setAttribute("id",eM[4]+e),xr.setAttribute(ic,t),xr.className="stream_cell",xr.innerHTML='<div id="'+eM[0]+e+'" class="stream_thumbnail_channel" ><div id="'+eM[1]+e+'" class="stream_user_icon" style="color: #'+a+';"><i class="icon-'+i+'"></i></div></div><div id="'+eM[2]+e+'" class="stream_text"><div id="'+eM[3]+e+'" class="stream_channel" style="text-align: center;">'+n+"</div></div>",xr}function lM(){Hu(function(){tM||(tM=!0,cM(),xc(),iu()),wc(eM[5]),nM=Qu=!1})}function rM(){for(var e=0;e<Ka.length;e++)Mc(eM[3]+e+"_2",Sy.isLive?Z:zt)}function cM(){kc(eM[0]+WE+"_"+QE,"stream_thumbnail_focused"),hu(WE)?1<WE?Zc(WE+1,0,eM[0])&&Nu(eM[5],-1*document.getElementById(eM[4]+WE+"_"+QE).offsetTop+.42*screen.height):Nu(eM[5],screen.height/100*7):Eu(),Cr&&uM()}function uM(){kr=!1,Cc(eM[0]+WE+"_"+QE,"stream_thumbnail_focused")}function _M(){return wr.Users_Position=WE,3!==QE||Ka[wr.Users_Position].access_token?7===QE&&Ka[wr.Users_Position].access_token?(Dc(wt),void window.setTimeout(Vc,1500)):(6!==QE&&7!==QE&&(bc(eM[5]),document.body.removeEventListener("keydown",yM),document.getElementById("screens_holder").style.top="0"),void Hu(function(){QE?1===QE?dC():2===QE?(Hg=Sy,Yg()):3===QE?VM():4===QE?xk():5===QE?WE?yo(WE):(wr.Main_Before=ur,no()):6===QE?mM():7!==QE||Ka[wr.Users_Position].access_token||mM():PE()})):(Dc(In),void window.setTimeout(Vc,5e3))}function fM(){window.clearTimeout($E)}function hM(){$E=window.setTimeout(pM,2e4)}function mM(){hM(),6===QE?Ec("main_dialog_remove",Ft+pi+Ka[wr.Users_Position].name+"?"):7===QE&&Ec("main_dialog_remove",ft+" "+Ka[wr.Users_Position].name+"?"),wc("main_remove_dialog")}function pM(){fM(),bc("main_remove_dialog"),KE=0,gM()}function vM(){return Ac("main_remove_dialog")}function gM(){KE?(Cc("remove_cancel","button_search_focused"),kc("remove_yes","button_search_focused")):(kc("remove_cancel","button_search_focused"),Cc("remove_yes","button_search_focused"))}function yM(e){var t;if(!Qu&&!Su())switch(Iu(),e.keyCode){case zi:vM()?pM():Fc()?Hc():Yc()?Xc():(uM(),Ku(yM)),nk();break;case Vi:if(vM())--KE<0&&(KE=1),gM(),fM(),hM();else if(QE)if(Zc(WE,QE-1,eM[0]))uM(),QE--,cM();else if(Zc(WE-1,0,eM[0])){for(t=ZE-1;-1<t;t--)if(Zc(WE-1,t,eM[0])){uM(),WE--,QE=t,cM();break}}else uM(),QE=ZE-1,cM();else uM(),ak(yM,!0);break;case Hi:vM()?(1<++KE&&(KE=0),gM(),fM(),hM()):(Zc(WE,QE+1,eM[0])?(uM(),QE++):(Zc(WE+1,0,eM[0])?(uM(),WE++):uM(),QE=0),cM());break;case Ji:if(WE){for(t=0;t<ZE;t++)if(Zc(WE-1,QE-t,eM[0])){uM(),WE--,QE-=t,cM();break}}else uM(),Ku(yM);break;case Fi:for(t=0;t<ZE;t++)if(Zc(WE+1,QE-t,eM[0])){uM(),WE++,QE-=t,cM();break}break;case Ni:case Ri:case Di:case qi:var n;if(vM()){if(6===QE)n=KE,pM(),n&&(document.body.removeEventListener("keydown",yM),aM(),vo(WE));else if(n=KE,pM(),n){wr.Users_AddcodePosition=wr.Users_Position,iu();var i=aa,a="https://id.twitch.tv/oauth2/authorize?response_type=code&client_id="+encodeURIComponent(jr)+"&redirect_uri="+i+"&scope=user_read+user_follows_edit+user_subscriptions&force_verify=true";window.location=a}}else _M()}}var bM=0,wM=0,AM=!1,kM=0,CM={},EM=[],MM=!1,IM=0,SM=5,xM=3500,PM=0,TM=0,LM=!1,BM=!1,OM="time",GM=2,UM=!1,RM=["uv_thumbdiv","uv_img","uv_infodiv","uv_title","uv_streamon","uv_duration","uv_viwers","uv_quality","uv_cell","uvempty_","user_vod_scroll","uv_game"],NM=!1,DM=!1;function VM(){wr.Main_CenterLablesVectorPos=1,wr.Main_Go=yr,kc("top_bar_user","icon_center_focus"),yc("label_side_panel","icon-arrow-circle-left",I),Ec("top_bar_user",_+lu(Ka[wr.Users_Position].name+(DM?G:O))),document.body.addEventListener("keydown",aI,!1),NM?(fu(bM),wc(RM[10]),oI(),eI(),iu()):HM()}function JM(){wr.Users_Position=0,NM&&tI(),Cc("top_bar_user","icon_center_focus"),yc("label_side_panel","icon-ellipsis",Rn),document.body.removeEventListener("keydown",aI),Mc("top_bar_user",_),bc(RM[10])}function HM(){NM&&tI(),_u("stream_table_user_vod"),bc(RM[10]),Sc(),oI(),Vc(),UM=NM=!1,Qu=!(BM=!(EM=[])),bM=wM=kM=TM=PM=0,AM=!(CM={}),Gc(),qM()}function FM(){MM=!0,IM=0,xM=3500}function qM(){FM(),zM()}function zM(){var e=kM+PM;e&&TM-1<e&&(e=TM-Nr,AM=!0);var t,n="https://api.twitch.tv/kraken/videos/followed?limit="+Nr+"&broadcast_type="+(DM?"highlight":"archive")+"&sort="+OM+"&offset="+e;if(cc&&!kM){if(!(t=Android.mreadUrl(n,xM,3,Kr+Ka[wr.Users_Position].access_token)))return void XM();200===(t=JSON.parse(t)).status?jM(t.responseText):401===t.status||403===t.status?la(wr.Users_Position,0,qM,YM):XM()}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=xM,t.setRequestHeader(Qr,$r),t.setRequestHeader(Wr,jr),t.setRequestHeader(Zr,Kr+Ka[wr.Users_Position].access_token),t.ontimeout=function(){},t.onreadystatechange=function(){4===t.readyState&&(200===t.status?jM(t.responseText):401===t.status||403===t.status?la(wr.Users_Position,0,qM,YM):XM())},t.send(null)}function XM(){++IM<SM?(xM+=500,zM()):YM()}function YM(){MM=!1,kM?(AM=!0,WM()):(Qu=!1,xc(),Dc(P),Ku(bC),Ka[wr.Users_Position].access_token||(JM(),wr.Main_Go=ur,JM(),$u(),nu()))}function jM(e){var t=JSON.parse(e),n=t.videos.length;TM=parseInt(t._total),n<Nr&&(AM=!0);var i=kM;LM=!(kM+=n);var a=n/Dr;0<n%Dr&&a++;var o,s,d,l,r,c=0,u=document.getElementById("stream_table_user_vod");if(!UM){var _;for(UM=!0,d=document.createElement("tr"),f=0;f<2;f++)_=f?'<i class="icon-history stream_channel_fallow_icon"></i>'+Pi+Pi+Sn:'<i class="icon-movie-play stream_channel_fallow_icon"></i>'+Pi+Pi+p,(xr=document.createElement("td")).setAttribute("id",RM[8]+"y_"+f),xr.className="stream_cell",xr.innerHTML='<div id="'+RM[0]+"y_"+f+'" class="stream_thumbnail_channel_vod" ><div id="'+RM[3]+"y_"+f+'" class="stream_channel_fallow_game">'+_+"</div></div>",d.appendChild(xr);d.appendChild(document.createElement("tr")),u.appendChild(d)}for(var f=0;f<a;f++){for(s=i/Dr+f,d=document.createElement("tr"),o=0;o<Dr&&c<n;o++,c++)r=(l=t.videos[c])._id,-1!==(l.preview.template+"").indexOf("404_processing")||CM[r]?o--:(CM[r]=1,d.appendChild(lI(s,s+"_"+o,[r,l.length,l.channel.broadcaster_language,l.game,l.channel.name,l.increment_view_count_url],[l.preview.template.replace("{width}x{height}",ec),l.channel.display_name,N+ru(l.created_at),wI.parse(l.title)+pi+Qt+v+l.game,jc(l.views)+V,Wc(l.resolutions.chunked.slice(-4),parseInt(l.fps.chunked)||0,l.channel.broadcaster_language),D+Om(l.length),l.animated_preview_url],RM)));for(;o<Dr;o++)AM&&!BM&&(BM=!0,kM=s*Dr+o),d.appendChild(pu(RM[9]+s+"_"+o)),EM.push(RM[9]+s+"_"+o);u.appendChild(d)}WM()}function WM(){NM?eI(!0):(LM?(Dc(T+(DM?G:O)+L+M),Ku(aI)):(NM=!0,eI(),iu()),wc(RM[10]),Qu=!1,xc()),0<EM.length&&!AM?QM():MM=!(EM=[])}function QM(){FM(),ZM()}function ZM(){Nc(EM.length);var e=kM+PM;e&&TM-1<e&&(e=TM-Yr,AM=!0);var t,n="https://api.twitch.tv/kraken/videos/followed?limit="+Yr+"&broadcast_type="+(DM?"highlight":"archive")+"&sort="+OM+"&offset="+e;if(cc){if(!(t=Android.mreadUrl(n,xM,3,Kr+Ka[wr.Users_Position].access_token)))return void KM();if(200===(t=JSON.parse(t)).status)return void $M(t.responseText);401===t.status||403===t.status?la(wr.Users_Position,0,qM,YM):KM()}else(t=new XMLHttpRequest).open("GET",n,!0),t.timeout=xM,t.setRequestHeader(Qr,$r),t.setRequestHeader(Wr,jr),t.setRequestHeader(Zr,Kr+Ka[wr.Users_Position].access_token),t.ontimeout=function(){},t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status)return void $M(t.responseText);401===t.status||403===t.status?la(wr.Users_Position,0,qM,YM):KM()}},t.send(null)}function KM(){++IM<SM?(xM+=500,ZM()):(AM=!0,kM-=EM.length,EM=[],WM())}function $M(e){var t,n,i=JSON.parse(e),a=i.videos.length,o=0,s=0,d=[];for(TM=parseInt(i._total);o<EM.length&&s<a;o++,s++)n=(t=i.videos[s])._id,-1!==(t.preview.template+"").indexOf("404_processing")||CM[n]?o--:(CM[n]=1,cI(EM[o],[n,t.length,t.channel.broadcaster_language,t.game,t.channel.name,t.increment_view_count_url],[t.preview.template.replace("{width}x{height}",ec),t.channel.display_name,N+ru(t.created_at),wI.parse(t.title)+pi+Qt+v+t.game,jc(t.views)+V,Wc(t.resolutions.chunked.slice(-4),parseInt(t.fps.chunked)||0,t.channel.broadcaster_language),D+Om(t.length),t.animated_preview_url],RM),d.push(o));for(o=d.length-1;-1<o;o--)EM.splice(d[o],1);PM+=s,AM&&(kM-=EM.length,EM=[]),WM()}function eI(e){bM<0?nI():(Pu(bM,wM,RM,Dr,kM,e),_I(RM,bM+"_"+wM),kM/Dr<bM+Vr&&!AM&&!MM&&qM(),Cr&&tI())}function tI(){window.clearInterval(sI),-1<bM&&kM?(wc(RM[1]+bM+"_"+wM),Du(bM+"_"+wM,RM)):iI()}function nI(){var e=1<wM?1:wM;kc(RM[0]+"y_"+e,nc)}function iI(){var e=1<wM?1:wM;Cc(RM[0]+"y_"+e,nc)}function aI(e){var t;if(!Qu&&!Su())switch(Iu(),e.keyCode){case zi:Fc()?Hc():Fc()?Hc():Yc()?Xc():(tI(),Ku(aI)),nk();break;case Vi:if(wM)if(-1===bM)iI(),--wM<0&&(wM=1),nI();else if(bM||wM){if(Zc(bM,wM-1,RM[0]))tI(),wM--,eI();else for(t=Dr-1;-1<t;t--)if(Zc(bM-1,t,RM[0])){tI(),bM--,wM=t,eI();break}}else tI(),iI(),bM=-1,wM=1,nI();else-1===bM?(bM=0,iI()):tI(),ak(aI,!0);break;case Hi:-1===bM?(iI(),1<++wM?(wM=0,LM?nI():(bM=0,eI())):nI()):Zc(bM,wM+1,RM[0])?(tI(),wM++,eI()):Zc(bM+1,0,RM[0])&&(tI(),bM++,wM=0,eI());break;case Ji:if(-1===bM)tI(),Ku(aI),bM=0;else if(bM){for(t=0;t<Dr;t++)if(Zc(bM-1,wM-t,RM[0])){tI(),bM--,wM-=t,eI();break}}else tI(),bM=-1,nI();break;case Fi:if(-1!==bM||LM){for(t=0;t<Dr;t++)if(Zc(bM+1,wM-t,RM[0])){tI(),bM++,wM-=t,eI();break}}else bM=0,iI(),eI();break;case Ni:case Ri:case Di:case qi:-1===bM?(0===wM?a_("UserVod_highlight",(DM=!DM)?"true":"false"):1===GM?GM++:GM--,HM()):Uu(bM+"_"+wM,RM,aI)}}function oI(){1===GM?(Ec("top_bar_user",_+lu(Ka[wr.Users_Position].name+" "+(DM?G:O)+En)),OM="time"):2===GM&&(Ec("top_bar_user",_+lu(Ka[wr.Users_Position].name+" "+(DM?G:O)+Mn)),OM="views"),a_("UserVod_TypeNumber",GM)}var sI,dI=new Image;function lI(e,t,n,i,a){return e<Dr&&mu(i[0]),rI(n,t,i,a)}function rI(e,t,n,i){return(xr=document.createElement("td")).setAttribute("id",i[8]+t),xr.setAttribute(ic,JSON.stringify(e)),xr.className="stream_cell",xr.innerHTML=uI(t,n,i),xr}function cI(e,t,n,i){var a=document.getElementById(e),o=e.split(i[9])[1];a.setAttribute(ic,JSON.stringify(t)),a.innerHTML=uI(o,n,i),a.setAttribute("id",i[8]+o)}function uI(e,t,n){return'<div id="'+n[0]+e+'" class="stream_thumbnail_clip"'+(t[7]?' style="background-size: 0 0; background-image: url('+t[7]+');"':"")+'><div><img id="'+n[1]+e+'" alt="" class="stream_img" src="'+t[0]+'" onerror="this.onerror=null;this.src=\''+Gi+'\'"></div><div id="'+n[2]+e+'" class="stream_text2"><div style="line-height: 14px;"><div id="'+n[3]+e+'" class="stream_channel" style="width: 72%; display: inline-block; font-size: 85%;">'+t[1]+'</div><div id="'+n[7]+e+'"class="stream_info" style="width:27%; float: right; text-align: right; display: inline-block;">'+t[5]+'</div></div><div id="'+n[11]+e+'"class="stream_info">'+t[3]+'</div><div id="'+n[6]+e+'"class="stream_info">'+t[4]+'</div><div style="line-height: 12px;"><div id="'+n[4]+e+'"class="stream_info" style="width: 59%; display: inline-block;">'+t[2]+'</div><div id="'+n[5]+e+'"class="stream_info" style="width: 39%; display: inline-block; float: right; text-align: right;">'+t[6]+"</div></div></div></div>"}function _I(t,n){if(window.clearInterval(sI),Jy){var i=document.getElementById(t[0]+n);dI.onload=function(){this.onload=null,bc(t[1]+n),i.style.backgroundSize="612px";var e=0;sI=window.setInterval(function(){i.style.backgroundPosition="0px "+ ++e%10*-344+"px"},650)},dI.src=i.style.backgroundImage.replace(/url\(['"]?(.*?)['"]?\)/i,"$1")}}function fI(e,t){return e.replace(t.code,hI(t))}function hI(e){return'<img class="emoticon" alt="" src="'+e["3x"]+'"/>'}function mI(e){return'<img class="emoticon" alt="" src="https://static-cdn.jtvnw.net/emoticons/v1/'+e+'/3.0"/>'}function pI(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;")}function vI(e){for(var t=e.split(" "),n=0;n<t.length;n++){var i=(e=t[n]).replace(/(^[~!@#$%\^&\*\(\)]+|[~!@#$%\^&\*\(\)]+$)/g,""),a=vd[i]||vd[e];e=a?fI(e,a):pI(e),t[n]=e}return t.join(" ")}function gI(t,i){if(!i)return[t];var n=[],e=Object.keys(i),a=[];return e.forEach(function(e){for(var t=i[e],n=t.length-1;0<=n;n--)a.push({id:e,first:t[n][0],last:t[n][1]})}),a.sort(function(e,t){return t.first-e.first}),t=punycode.ucs2.decode(t),a.forEach(function(e){n.unshift(punycode.ucs2.encode(t.slice(e.last+1))),n.unshift([mI(e.id)]),t=t.slice(0,e.first)}),n.unshift(punycode.ucs2.encode(t)),n}function yI(i){return Object.keys(i).map(function(n){var e=i[n];return e.type=n,e.versions=Object.keys(i[n].versions).map(function(e){var t=i[n].versions[e];return t.type=e,t}),e})}function bI(e,t,n,i){var a=document.createElement("style");a.type="text/css",a.innerHTML="."+e+"-"+t+' { background-image: url("'+n.replace("http:","https:")+'"); }',i?i.appendChild(a):document.head.appendChild(a)}window.parseIRC=function(e){var t={raw:e,tags:{},prefix:null,command:null,params:[]},n=0,i=0;if(64===e.charCodeAt(0)){if(-1===(i=e.indexOf(" ")))return null;for(var a=e.slice(1,i).split(";"),o=0;o<a.length;o++){var s=a[o].split("=");t.tags[s[0]]=s[1]||!0}n=i+1}for(;32===e.charCodeAt(n);)n++;if(58===e.charCodeAt(n)){if(-1===(i=e.indexOf(" ",n)))return null;for(t.prefix=e.slice(n+1,i),n=i+1;32===e.charCodeAt(n);)n++}if(-1===(i=e.indexOf(" ",n)))return e.length>n?(t.command=e.slice(n),t):null;for(t.command=e.slice(n,i),n=i+1;32===e.charCodeAt(n);)n++;for(;n<e.length;){if(i=e.indexOf(" ",n),58===e.charCodeAt(n)){t.params.push(e.slice(n+1));break}if(-1===i){if(-1===i){t.params.push(e.slice(n));break}}else for(t.params.push(e.slice(n,i)),n=i+1;32===e.charCodeAt(n);)n++}return t},function(e){var t="object"==typeof global&&global;t.global!==t&&t.window!==t&&t.self!==t||(e=t);var n,v=2147483647,g=36,y=26,a=38,o=700,i=/^xn--/,s=/[^\x20-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,l={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},r=g-1,b=Math.floor,w=String.fromCharCode;function A(e){throw new RangeError(l[e])}function c(e,t){for(var n=e.length,i=[];n--;)i[n]=t(e[n]);return i}function u(e,t){var n=e.split("@"),i="";return 1<n.length&&(i=n[0]+"@",e=n[1]),i+c((e=e.replace(d,".")).split("."),t).join(".")}function k(e){for(var t,n,i=[],a=0,o=e.length;a<o;)55296<=(t=e.charCodeAt(a++))&&t<=56319&&a<o?56320==(64512&(n=e.charCodeAt(a++)))?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),a--):i.push(t);return i}function C(e){return c(e,function(e){var t="";return 65535<e&&(t+=w((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+w(e)}).join("")}function E(e,t){return e+22+75*(e<26)-((0!==t)<<5)}function M(e,t,n){var i=0;for(e=n?b(e/o):e>>1,e+=b(e/t);r*y>>1<e;i+=g)e=b(e/r);return b(i+(r+1)*e/(e+a))}function _(e){var t,n,i,a,o,s,d,l,r,c,u,_=[],f=e.length,h=0,m=128,p=72;for((n=e.lastIndexOf("-"))<0&&(n=0),i=0;i<n;++i)128<=e.charCodeAt(i)&&A("not-basic"),_.push(e.charCodeAt(i));for(a=0<n?n+1:0;a<f;){for(o=h,s=1,d=g;f<=a&&A("invalid-input"),u=e.charCodeAt(a++),(g<=(l=u-48<10?u-22:u-65<26?u-65:u-97<26?u-97:g)||l>b((v-h)/s))&&A("overflow"),h+=l*s,!(l<(r=d<=p?1:p+y<=d?y:d-p));d+=g)s>b(v/(c=g-r))&&A("overflow"),s*=c;p=M(h-o,t=_.length+1,0===o),b(h/t)>v-m&&A("overflow"),m+=b(h/t),h%=t,_.splice(h++,0,m)}return C(_)}function f(e){var t,n,i,a,o,s,d,l,r,c,u,_,f,h,m,p=[];for(_=(e=k(e)).length,t=128,o=72,s=n=0;s<_;++s)(u=e[s])<128&&p.push(w(u));for(i=a=p.length,a&&p.push("-");i<_;){for(d=v,s=0;s<_;++s)t<=(u=e[s])&&u<d&&(d=u);for(d-t>b((v-n)/(f=i+1))&&A("overflow"),n+=(d-t)*f,t=d,s=0;s<_;++s)if((u=e[s])<t&&++n>v&&A("overflow"),u===t){for(l=n,r=g;!(l<(c=r<=o?1:o+y<=r?y:r-o));r+=g)m=l-c,h=g-c,p.push(w(E(c+m%h,0))),l=b(m/h);p.push(w(E(l,0))),o=M(n,f,i===a),n=0,++i}++n,++t}return p.join("")}n={version:"1.4.1",ucs2:{decode:k,encode:C},decode:_,encode:f,toASCII:function(e){return u(e,function(e){return s.test(e)?"xn--"+f(e):e})},toUnicode:function(e){return u(e,function(e){return i.test(e)?_(e.slice(4).toLowerCase()):e})}},e.punycode=n}(this),function(e){e.ReconnectingWebSocket=function(){if("WebSocket"in window)return u.prototype.onopen=function(){},u.prototype.onclose=function(){},u.prototype.onconnecting=function(){},u.prototype.onmessage=function(){},u.prototype.onerror=function(){},u.debugAll=!1,u.CONNECTING=WebSocket.CONNECTING,u.OPEN=WebSocket.OPEN,u.CLOSING=WebSocket.CLOSING,u.CLOSED=WebSocket.CLOSED,u;function u(e,t,n){var i={debug:!1,automaticOpen:!0,reconnectInterval:1e3,maxReconnectInterval:3e4,reconnectDecay:1.5,timeoutInterval:3e3,maxReconnectAttempts:null,binaryType:"blob"};for(var a in n=n||{},i)void 0!==n[a]?this[a]=n[a]:this[a]=i[a];this.url=e,this.reconnectAttempts=0,this.readyState=WebSocket.CONNECTING,this.protocol=null;var o,s=this,d=!1,l=!1,r=document.createElement("div");function c(e,t){var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}r.addEventListener("open",function(e){s.onopen(e)}),r.addEventListener("close",function(e){s.onclose(e)}),r.addEventListener("connecting",function(e){s.onconnecting(e)}),r.addEventListener("message",function(e){s.onmessage(e)}),r.addEventListener("error",function(e){s.onerror(e)}),this.addEventListener=r.addEventListener.bind(r),this.removeEventListener=r.removeEventListener.bind(r),this.dispatchEvent=r.dispatchEvent.bind(r),this.open=function(i){if((o=new WebSocket(s.url,t||[])).binaryType=this.binaryType,i){if(this.maxReconnectAttempts&&this.reconnectAttempts>this.maxReconnectAttempts)return}else r.dispatchEvent(c("connecting")),this.reconnectAttempts=0;(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","attempt-connect",s.url);var e=o,a=setTimeout(function(){(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","connection-timeout",s.url),l=!0,e.close(),l=!1},s.timeoutInterval);o.onopen=function(){clearTimeout(a),(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","onopen",s.url),s.protocol=o.protocol,s.readyState=WebSocket.OPEN,s.reconnectAttempts=0;var e=c("open");e.isReconnect=i,i=!1,r.dispatchEvent(e)},o.onclose=function(e){if(clearTimeout(a),o=null,d)s.readyState=WebSocket.CLOSED,r.dispatchEvent(c("close"));else{s.readyState=WebSocket.CONNECTING;var t=c("connecting");t.code=e.code,t.reason=e.reason,t.wasClean=e.wasClean,r.dispatchEvent(t),i||l||((s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","onclose",s.url),r.dispatchEvent(c("close")));var n=s.reconnectInterval*Math.pow(s.reconnectDecay,s.reconnectAttempts);setTimeout(function(){s.reconnectAttempts++,s.open(!0)},n>s.maxReconnectInterval?s.maxReconnectInterval:n)}},o.onmessage=function(e){(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","onmessage",s.url,e.data);var t=c("message");t.data=e.data,r.dispatchEvent(t)},o.onerror=function(e){(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","onerror",s.url,e),r.dispatchEvent(c("error"))}},!0===this.automaticOpen&&this.open(!1),this.send=function(e){if(o)return(s.debug||u.debugAll)&&console.debug("ReconnectingWebSocket","send",s.url,e),o.send(e);throw"INVALID_STATE_ERR : Pausing to reconnect websocket"},this.close=function(e,t){void 0===e&&(e=1e3),d=!0,o&&o.close(e,t)},this.refresh=function(){o&&o.close()}}}()}(this);var wI=function(){var e={parse:function(e,t,n){return t||(e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;")),i(e,function(e){var t=function(e){for(var t=e.indexOf(d)<0?e.replace(s,""):e,n=[],i=0,a=0,o=0;o<t.length;)i=t.charCodeAt(o++),a?(n.push((65536+(a-55296<<10)+(i-56320)).toString(16)),a=0):55296<=i&&i<=56319?a=i:n.push(i.toString(16));return n.join("-")}(e);return t?'<img class="'+(n?"emoticon":"emoji")+'" alt="" src="https://twemoji.maxcdn.com/2/72x72/'+t+'.png"/>':e})},replace:i},n=/(?:\ud83d[\udc68\udc69])(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddb0-\uddb3])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f)|[\u0023\u002a\u0030-\u0039]\ufe0f?\u20e3|(?:[\u00a9\u00ae\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\uddb5\uddb6\uddb8\uddb9\uddd1-\udddd]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a-\udc6d\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\udeeb\udeec\udef4-\udef9]|\ud83e[\udd10-\udd17\udd1d\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd40-\udd45\udd47-\udd70\udd73-\udd76\udd7a\udd7c-\udda2\uddb4\uddb7\uddc0-\uddc2\uddd0\uddde-\uddff]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g,s=/\uFE0F/g,d=String.fromCharCode(8205);return e;function i(e,t){return String(e).replace(n,t)}}();